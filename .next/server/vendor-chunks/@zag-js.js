"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@zag-js";
exports.ids = ["vendor-chunks/@zag-js"];
exports.modules = {

/***/ "(ssr)/./node_modules/@zag-js/accordion/dist/index.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/@zag-js/accordion/dist/index.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   anatomy: () => (/* binding */ anatomy),\n/* harmony export */   connect: () => (/* binding */ connect),\n/* harmony export */   machine: () => (/* binding */ machine)\n/* harmony export */ });\n/* harmony import */ var _zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/anatomy */ \"(ssr)/./node_modules/@zag-js/anatomy/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_event__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @zag-js/dom-event */ \"(ssr)/./node_modules/@zag-js/dom-event/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @zag-js/dom-query */ \"(ssr)/./node_modules/@zag-js/dom-query/dist/index.mjs\");\n/* harmony import */ var _zag_js_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @zag-js/utils */ \"(ssr)/./node_modules/@zag-js/utils/dist/index.mjs\");\n/* harmony import */ var _zag_js_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @zag-js/core */ \"(ssr)/./node_modules/@zag-js/core/dist/index.mjs\");\n// src/accordion.anatomy.ts\n\nvar anatomy = (0,_zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__.createAnatomy)(\"accordion\").parts(\"root\", \"item\", \"itemTrigger\", \"itemContent\", \"itemIndicator\");\nvar parts = anatomy.build();\n\n// src/accordion.connect.ts\n\n\n\n// src/accordion.dom.ts\n\n\nvar dom = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.createScope)({\n  getRootId: (ctx) => ctx.ids?.root ?? `accordion:${ctx.id}`,\n  getItemId: (ctx, value) => ctx.ids?.item?.(value) ?? `accordion:${ctx.id}:item:${value}`,\n  getItemContentId: (ctx, value) => ctx.ids?.content?.(value) ?? `accordion:${ctx.id}:content:${value}`,\n  getItemTriggerId: (ctx, value) => ctx.ids?.trigger?.(value) ?? `accordion:${ctx.id}:trigger:${value}`,\n  getRootEl: (ctx) => dom.getById(ctx, dom.getRootId(ctx)),\n  getTriggers: (ctx) => {\n    const ownerId = CSS.escape(dom.getRootId(ctx));\n    const selector = `[aria-controls][data-ownedby='${ownerId}']:not([disabled])`;\n    return (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.queryAll)(dom.getRootEl(ctx), selector);\n  },\n  getFirstTriggerEl: (ctx) => (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.first)(dom.getTriggers(ctx)),\n  getLastTriggerEl: (ctx) => (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.last)(dom.getTriggers(ctx)),\n  getNextTriggerEl: (ctx, id) => (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.nextById)(dom.getTriggers(ctx), dom.getItemTriggerId(ctx, id)),\n  getPrevTriggerEl: (ctx, id) => (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.prevById)(dom.getTriggers(ctx), dom.getItemTriggerId(ctx, id))\n});\n\n// src/accordion.connect.ts\nfunction connect(state, send, normalize) {\n  const focusedValue = state.context.focusedValue;\n  const value = state.context.value;\n  const multiple = state.context.multiple;\n  function setValue(value2) {\n    let nextValue = value2;\n    if (multiple && nextValue.length > 1) {\n      nextValue = [nextValue[0]];\n    }\n    send({ type: \"VALUE.SET\", value: nextValue });\n  }\n  function getItemState(props) {\n    return {\n      isOpen: value.includes(props.value),\n      isFocused: focusedValue === props.value,\n      isDisabled: Boolean(props.disabled ?? state.context.disabled)\n    };\n  }\n  return {\n    focusedValue,\n    value,\n    setValue,\n    getItemState,\n    rootProps: normalize.element({\n      ...parts.root.attrs,\n      dir: state.context.dir,\n      id: dom.getRootId(state.context),\n      \"data-orientation\": state.context.orientation\n    }),\n    getItemProps(props) {\n      const itemState = getItemState(props);\n      return normalize.element({\n        ...parts.item.attrs,\n        dir: state.context.dir,\n        id: dom.getItemId(state.context, props.value),\n        \"data-state\": itemState.isOpen ? \"open\" : \"closed\",\n        \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(itemState.isFocused),\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(itemState.isDisabled),\n        \"data-orientation\": state.context.orientation\n      });\n    },\n    getItemContentProps(props) {\n      const itemState = getItemState(props);\n      return normalize.element({\n        ...parts.itemContent.attrs,\n        dir: state.context.dir,\n        role: \"region\",\n        id: dom.getItemContentId(state.context, props.value),\n        \"aria-labelledby\": dom.getItemTriggerId(state.context, props.value),\n        hidden: !itemState.isOpen,\n        \"data-state\": itemState.isOpen ? \"open\" : \"closed\",\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(itemState.isDisabled),\n        \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(itemState.isFocused),\n        \"data-orientation\": state.context.orientation\n      });\n    },\n    getItemIndicatorProps(props) {\n      const itemState = getItemState(props);\n      return normalize.element({\n        ...parts.itemIndicator.attrs,\n        dir: state.context.dir,\n        \"aria-hidden\": true,\n        \"data-state\": itemState.isOpen ? \"open\" : \"closed\",\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(itemState.isDisabled),\n        \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(itemState.isFocused),\n        \"data-orientation\": state.context.orientation\n      });\n    },\n    getItemTriggerProps(props) {\n      const { value: value2 } = props;\n      const itemState = getItemState(props);\n      return normalize.button({\n        ...parts.itemTrigger.attrs,\n        type: \"button\",\n        dir: state.context.dir,\n        id: dom.getItemTriggerId(state.context, value2),\n        \"aria-controls\": dom.getItemContentId(state.context, value2),\n        \"aria-expanded\": itemState.isOpen,\n        disabled: itemState.isDisabled,\n        \"data-orientation\": state.context.orientation,\n        \"aria-disabled\": itemState.isDisabled,\n        \"data-state\": itemState.isOpen ? \"open\" : \"closed\",\n        \"data-ownedby\": dom.getRootId(state.context),\n        onFocus() {\n          if (itemState.isDisabled)\n            return;\n          send({ type: \"TRIGGER.FOCUS\", value: value2 });\n        },\n        onBlur() {\n          if (itemState.isDisabled)\n            return;\n          send(\"TRIGGER.BLUR\");\n        },\n        onClick(event) {\n          if (itemState.isDisabled)\n            return;\n          if ((0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.isSafari)()) {\n            event.currentTarget.focus();\n          }\n          send({ type: \"TRIGGER.CLICK\", value: value2 });\n        },\n        onKeyDown(event) {\n          if (itemState.isDisabled)\n            return;\n          const keyMap = {\n            ArrowDown() {\n              if (state.context.isHorizontal)\n                return;\n              send({ type: \"GOTO.NEXT\", value: value2 });\n            },\n            ArrowUp() {\n              if (state.context.isHorizontal)\n                return;\n              send({ type: \"GOTO.PREV\", value: value2 });\n            },\n            ArrowRight() {\n              if (!state.context.isHorizontal)\n                return;\n              send({ type: \"GOTO.NEXT\", value: value2 });\n            },\n            ArrowLeft() {\n              if (!state.context.isHorizontal)\n                return;\n              send({ type: \"GOTO.PREV\", value: value2 });\n            },\n            Home() {\n              send({ type: \"GOTO.FIRST\", value: value2 });\n            },\n            End() {\n              send({ type: \"GOTO.LAST\", value: value2 });\n            }\n          };\n          const key = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_3__.getEventKey)(event, {\n            dir: state.context.dir,\n            orientation: state.context.orientation\n          });\n          const exec = keyMap[key];\n          if (exec) {\n            exec(event);\n            event.preventDefault();\n          }\n        }\n      });\n    }\n  };\n}\n\n// src/accordion.machine.ts\n\n\nvar { and, not } = _zag_js_core__WEBPACK_IMPORTED_MODULE_4__.guards;\nfunction machine(userContext) {\n  const ctx = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.compact)(userContext);\n  return (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_4__.createMachine)(\n    {\n      id: \"accordion\",\n      initial: \"idle\",\n      context: {\n        focusedValue: null,\n        value: [],\n        collapsible: false,\n        multiple: false,\n        orientation: \"vertical\",\n        ...ctx\n      },\n      watch: {\n        value: \"coarseValue\",\n        multiple: \"coarseValue\"\n      },\n      created: \"coarseValue\",\n      computed: {\n        isHorizontal: (ctx2) => ctx2.orientation === \"horizontal\"\n      },\n      on: {\n        \"VALUE.SET\": {\n          actions: [\"setValue\"]\n        }\n      },\n      states: {\n        idle: {\n          on: {\n            \"TRIGGER.FOCUS\": {\n              target: \"focused\",\n              actions: \"setFocusedValue\"\n            }\n          }\n        },\n        focused: {\n          on: {\n            \"GOTO.NEXT\": {\n              actions: \"focusNextTrigger\"\n            },\n            \"GOTO.PREV\": {\n              actions: \"focusPrevTrigger\"\n            },\n            \"TRIGGER.CLICK\": [\n              {\n                guard: and(\"isExpanded\", \"canToggle\"),\n                actions: [\"collapse\"]\n              },\n              {\n                guard: not(\"isExpanded\"),\n                actions: [\"expand\"]\n              }\n            ],\n            \"GOTO.FIRST\": {\n              actions: \"focusFirstTrigger\"\n            },\n            \"GOTO.LAST\": {\n              actions: \"focusLastTrigger\"\n            },\n            \"TRIGGER.BLUR\": {\n              target: \"idle\",\n              actions: \"clearFocusedValue\"\n            }\n          }\n        }\n      }\n    },\n    {\n      guards: {\n        canToggle: (ctx2) => !!ctx2.collapsible || !!ctx2.multiple,\n        isExpanded: (ctx2, evt) => ctx2.value.includes(evt.value)\n      },\n      actions: {\n        collapse(ctx2, evt) {\n          const next = ctx2.multiple ? (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.remove)(ctx2.value, evt.value) : [];\n          set.value(ctx2, ctx2.multiple ? next : []);\n        },\n        expand(ctx2, evt) {\n          const next = ctx2.multiple ? (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.add)(ctx2.value, evt.value) : [evt.value];\n          set.value(ctx2, next);\n        },\n        focusFirstTrigger(ctx2) {\n          dom.getFirstTriggerEl(ctx2)?.focus();\n        },\n        focusLastTrigger(ctx2) {\n          dom.getLastTriggerEl(ctx2)?.focus();\n        },\n        focusNextTrigger(ctx2) {\n          if (!ctx2.focusedValue)\n            return;\n          const triggerEl = dom.getNextTriggerEl(ctx2, ctx2.focusedValue);\n          triggerEl?.focus();\n        },\n        focusPrevTrigger(ctx2) {\n          if (!ctx2.focusedValue)\n            return;\n          const triggerEl = dom.getPrevTriggerEl(ctx2, ctx2.focusedValue);\n          triggerEl?.focus();\n        },\n        setFocusedValue(ctx2, evt) {\n          set.focusedValue(ctx2, evt.value);\n        },\n        clearFocusedValue(ctx2) {\n          set.focusedValue(ctx2, null);\n        },\n        setValue(ctx2, evt) {\n          set.value(ctx2, evt.value);\n        },\n        coarseValue(ctx2) {\n          if (!ctx2.multiple && ctx2.value.length > 1) {\n            (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.warn)(`The value of accordion should be a single value when multiple is false.`);\n            ctx2.value = [ctx2.value[0]];\n          }\n        }\n      }\n    }\n  );\n}\nvar invoke = {\n  change(ctx) {\n    ctx.onValueChange?.({ value: Array.from(ctx.value) });\n  },\n  focusChange(ctx) {\n    ctx.onFocusChange?.({ value: ctx.focusedValue });\n  }\n};\nvar set = {\n  value(ctx, value) {\n    if ((0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.isEqual)(ctx.value, value))\n      return;\n    ctx.value = value;\n    invoke.change(ctx);\n  },\n  focusedValue(ctx, value) {\n    if ((0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.isEqual)(ctx.focusedValue, value))\n      return;\n    ctx.focusedValue = value;\n    invoke.focusChange(ctx);\n  }\n};\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9hY2NvcmRpb24vZGlzdC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNnRDtBQUNoRCxjQUFjLDhEQUFhO0FBQzNCOztBQUVBO0FBQ2dEO0FBQ087O0FBRXZEO0FBQzhFO0FBQ2xDO0FBQzVDLFVBQVUsOERBQVc7QUFDckIsb0RBQW9ELE9BQU87QUFDM0Qsb0VBQW9FLE9BQU8sUUFBUSxNQUFNO0FBQ3pGLDhFQUE4RSxPQUFPLFdBQVcsTUFBTTtBQUN0Ryw4RUFBOEUsT0FBTyxXQUFXLE1BQU07QUFDdEc7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELFFBQVE7QUFDOUQsV0FBVywyREFBUTtBQUNuQixHQUFHO0FBQ0gsOEJBQThCLG9EQUFLO0FBQ25DLDZCQUE2QixtREFBSTtBQUNqQyxpQ0FBaUMsMkRBQVE7QUFDekMsaUNBQWlDLDJEQUFRO0FBQ3pDLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHFDQUFxQztBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsMkRBQVE7QUFDOUIseUJBQXlCLDJEQUFRO0FBQ2pDO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QiwyREFBUTtBQUNqQyxzQkFBc0IsMkRBQVE7QUFDOUI7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDJEQUFRO0FBQ2pDLHNCQUFzQiwyREFBUTtBQUM5QjtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQSxjQUFjLGdCQUFnQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixzQ0FBc0M7QUFDdkQsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGNBQWMsMkRBQVE7QUFDdEI7QUFDQTtBQUNBLGlCQUFpQixzQ0FBc0M7QUFDdkQsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGtDQUFrQztBQUN2RCxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGtDQUFrQztBQUN2RCxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGtDQUFrQztBQUN2RCxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGtDQUFrQztBQUN2RCxhQUFhO0FBQ2I7QUFDQSxxQkFBcUIsbUNBQW1DO0FBQ3hELGFBQWE7QUFDYjtBQUNBLHFCQUFxQixrQ0FBa0M7QUFDdkQ7QUFDQTtBQUNBLHNCQUFzQiw4REFBVztBQUNqQztBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDcUQ7QUFDZTtBQUNwRSxNQUFNLFdBQVcsRUFBRSxnREFBTTtBQUN6QjtBQUNBLGNBQWMsc0RBQU87QUFDckIsU0FBUywyREFBYTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSx1Q0FBdUMscURBQU07QUFDN0M7QUFDQSxTQUFTO0FBQ1Q7QUFDQSx1Q0FBdUMsa0RBQUc7QUFDMUM7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsWUFBWSxtREFBSTtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsOEJBQThCO0FBQ3hELEdBQUc7QUFDSDtBQUNBLDBCQUEwQix5QkFBeUI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFPO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsUUFBUSxzREFBTztBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBhcmstdWkvZXhhbXBsZXMtcmVhY3QtbmV4dC1qcy8uL25vZGVfbW9kdWxlcy9AemFnLWpzL2FjY29yZGlvbi9kaXN0L2luZGV4Lm1qcz80YTU1Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9hY2NvcmRpb24uYW5hdG9teS50c1xuaW1wb3J0IHsgY3JlYXRlQW5hdG9teSB9IGZyb20gXCJAemFnLWpzL2FuYXRvbXlcIjtcbnZhciBhbmF0b215ID0gY3JlYXRlQW5hdG9teShcImFjY29yZGlvblwiKS5wYXJ0cyhcInJvb3RcIiwgXCJpdGVtXCIsIFwiaXRlbVRyaWdnZXJcIiwgXCJpdGVtQ29udGVudFwiLCBcIml0ZW1JbmRpY2F0b3JcIik7XG52YXIgcGFydHMgPSBhbmF0b215LmJ1aWxkKCk7XG5cbi8vIHNyYy9hY2NvcmRpb24uY29ubmVjdC50c1xuaW1wb3J0IHsgZ2V0RXZlbnRLZXkgfSBmcm9tIFwiQHphZy1qcy9kb20tZXZlbnRcIjtcbmltcG9ydCB7IGRhdGFBdHRyLCBpc1NhZmFyaSB9IGZyb20gXCJAemFnLWpzL2RvbS1xdWVyeVwiO1xuXG4vLyBzcmMvYWNjb3JkaW9uLmRvbS50c1xuaW1wb3J0IHsgbmV4dEJ5SWQsIHByZXZCeUlkLCBxdWVyeUFsbCwgY3JlYXRlU2NvcGUgfSBmcm9tIFwiQHphZy1qcy9kb20tcXVlcnlcIjtcbmltcG9ydCB7IGZpcnN0LCBsYXN0IH0gZnJvbSBcIkB6YWctanMvdXRpbHNcIjtcbnZhciBkb20gPSBjcmVhdGVTY29wZSh7XG4gIGdldFJvb3RJZDogKGN0eCkgPT4gY3R4Lmlkcz8ucm9vdCA/PyBgYWNjb3JkaW9uOiR7Y3R4LmlkfWAsXG4gIGdldEl0ZW1JZDogKGN0eCwgdmFsdWUpID0+IGN0eC5pZHM/Lml0ZW0/Lih2YWx1ZSkgPz8gYGFjY29yZGlvbjoke2N0eC5pZH06aXRlbToke3ZhbHVlfWAsXG4gIGdldEl0ZW1Db250ZW50SWQ6IChjdHgsIHZhbHVlKSA9PiBjdHguaWRzPy5jb250ZW50Py4odmFsdWUpID8/IGBhY2NvcmRpb246JHtjdHguaWR9OmNvbnRlbnQ6JHt2YWx1ZX1gLFxuICBnZXRJdGVtVHJpZ2dlcklkOiAoY3R4LCB2YWx1ZSkgPT4gY3R4Lmlkcz8udHJpZ2dlcj8uKHZhbHVlKSA/PyBgYWNjb3JkaW9uOiR7Y3R4LmlkfTp0cmlnZ2VyOiR7dmFsdWV9YCxcbiAgZ2V0Um9vdEVsOiAoY3R4KSA9PiBkb20uZ2V0QnlJZChjdHgsIGRvbS5nZXRSb290SWQoY3R4KSksXG4gIGdldFRyaWdnZXJzOiAoY3R4KSA9PiB7XG4gICAgY29uc3Qgb3duZXJJZCA9IENTUy5lc2NhcGUoZG9tLmdldFJvb3RJZChjdHgpKTtcbiAgICBjb25zdCBzZWxlY3RvciA9IGBbYXJpYS1jb250cm9sc11bZGF0YS1vd25lZGJ5PScke293bmVySWR9J106bm90KFtkaXNhYmxlZF0pYDtcbiAgICByZXR1cm4gcXVlcnlBbGwoZG9tLmdldFJvb3RFbChjdHgpLCBzZWxlY3Rvcik7XG4gIH0sXG4gIGdldEZpcnN0VHJpZ2dlckVsOiAoY3R4KSA9PiBmaXJzdChkb20uZ2V0VHJpZ2dlcnMoY3R4KSksXG4gIGdldExhc3RUcmlnZ2VyRWw6IChjdHgpID0+IGxhc3QoZG9tLmdldFRyaWdnZXJzKGN0eCkpLFxuICBnZXROZXh0VHJpZ2dlckVsOiAoY3R4LCBpZCkgPT4gbmV4dEJ5SWQoZG9tLmdldFRyaWdnZXJzKGN0eCksIGRvbS5nZXRJdGVtVHJpZ2dlcklkKGN0eCwgaWQpKSxcbiAgZ2V0UHJldlRyaWdnZXJFbDogKGN0eCwgaWQpID0+IHByZXZCeUlkKGRvbS5nZXRUcmlnZ2VycyhjdHgpLCBkb20uZ2V0SXRlbVRyaWdnZXJJZChjdHgsIGlkKSlcbn0pO1xuXG4vLyBzcmMvYWNjb3JkaW9uLmNvbm5lY3QudHNcbmZ1bmN0aW9uIGNvbm5lY3Qoc3RhdGUsIHNlbmQsIG5vcm1hbGl6ZSkge1xuICBjb25zdCBmb2N1c2VkVmFsdWUgPSBzdGF0ZS5jb250ZXh0LmZvY3VzZWRWYWx1ZTtcbiAgY29uc3QgdmFsdWUgPSBzdGF0ZS5jb250ZXh0LnZhbHVlO1xuICBjb25zdCBtdWx0aXBsZSA9IHN0YXRlLmNvbnRleHQubXVsdGlwbGU7XG4gIGZ1bmN0aW9uIHNldFZhbHVlKHZhbHVlMikge1xuICAgIGxldCBuZXh0VmFsdWUgPSB2YWx1ZTI7XG4gICAgaWYgKG11bHRpcGxlICYmIG5leHRWYWx1ZS5sZW5ndGggPiAxKSB7XG4gICAgICBuZXh0VmFsdWUgPSBbbmV4dFZhbHVlWzBdXTtcbiAgICB9XG4gICAgc2VuZCh7IHR5cGU6IFwiVkFMVUUuU0VUXCIsIHZhbHVlOiBuZXh0VmFsdWUgfSk7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0SXRlbVN0YXRlKHByb3BzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzT3BlbjogdmFsdWUuaW5jbHVkZXMocHJvcHMudmFsdWUpLFxuICAgICAgaXNGb2N1c2VkOiBmb2N1c2VkVmFsdWUgPT09IHByb3BzLnZhbHVlLFxuICAgICAgaXNEaXNhYmxlZDogQm9vbGVhbihwcm9wcy5kaXNhYmxlZCA/PyBzdGF0ZS5jb250ZXh0LmRpc2FibGVkKVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBmb2N1c2VkVmFsdWUsXG4gICAgdmFsdWUsXG4gICAgc2V0VmFsdWUsXG4gICAgZ2V0SXRlbVN0YXRlLFxuICAgIHJvb3RQcm9wczogbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgLi4ucGFydHMucm9vdC5hdHRycyxcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICBpZDogZG9tLmdldFJvb3RJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIFwiZGF0YS1vcmllbnRhdGlvblwiOiBzdGF0ZS5jb250ZXh0Lm9yaWVudGF0aW9uXG4gICAgfSksXG4gICAgZ2V0SXRlbVByb3BzKHByb3BzKSB7XG4gICAgICBjb25zdCBpdGVtU3RhdGUgPSBnZXRJdGVtU3RhdGUocHJvcHMpO1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgICAgLi4ucGFydHMuaXRlbS5hdHRycyxcbiAgICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgICAgaWQ6IGRvbS5nZXRJdGVtSWQoc3RhdGUuY29udGV4dCwgcHJvcHMudmFsdWUpLFxuICAgICAgICBcImRhdGEtc3RhdGVcIjogaXRlbVN0YXRlLmlzT3BlbiA/IFwib3BlblwiIDogXCJjbG9zZWRcIixcbiAgICAgICAgXCJkYXRhLWZvY3VzXCI6IGRhdGFBdHRyKGl0ZW1TdGF0ZS5pc0ZvY3VzZWQpLFxuICAgICAgICBcImRhdGEtZGlzYWJsZWRcIjogZGF0YUF0dHIoaXRlbVN0YXRlLmlzRGlzYWJsZWQpLFxuICAgICAgICBcImRhdGEtb3JpZW50YXRpb25cIjogc3RhdGUuY29udGV4dC5vcmllbnRhdGlvblxuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZXRJdGVtQ29udGVudFByb3BzKHByb3BzKSB7XG4gICAgICBjb25zdCBpdGVtU3RhdGUgPSBnZXRJdGVtU3RhdGUocHJvcHMpO1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgICAgLi4ucGFydHMuaXRlbUNvbnRlbnQuYXR0cnMsXG4gICAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICAgIHJvbGU6IFwicmVnaW9uXCIsXG4gICAgICAgIGlkOiBkb20uZ2V0SXRlbUNvbnRlbnRJZChzdGF0ZS5jb250ZXh0LCBwcm9wcy52YWx1ZSksXG4gICAgICAgIFwiYXJpYS1sYWJlbGxlZGJ5XCI6IGRvbS5nZXRJdGVtVHJpZ2dlcklkKHN0YXRlLmNvbnRleHQsIHByb3BzLnZhbHVlKSxcbiAgICAgICAgaGlkZGVuOiAhaXRlbVN0YXRlLmlzT3BlbixcbiAgICAgICAgXCJkYXRhLXN0YXRlXCI6IGl0ZW1TdGF0ZS5pc09wZW4gPyBcIm9wZW5cIiA6IFwiY2xvc2VkXCIsXG4gICAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihpdGVtU3RhdGUuaXNEaXNhYmxlZCksXG4gICAgICAgIFwiZGF0YS1mb2N1c1wiOiBkYXRhQXR0cihpdGVtU3RhdGUuaXNGb2N1c2VkKSxcbiAgICAgICAgXCJkYXRhLW9yaWVudGF0aW9uXCI6IHN0YXRlLmNvbnRleHQub3JpZW50YXRpb25cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0SXRlbUluZGljYXRvclByb3BzKHByb3BzKSB7XG4gICAgICBjb25zdCBpdGVtU3RhdGUgPSBnZXRJdGVtU3RhdGUocHJvcHMpO1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgICAgLi4ucGFydHMuaXRlbUluZGljYXRvci5hdHRycyxcbiAgICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgICAgXCJhcmlhLWhpZGRlblwiOiB0cnVlLFxuICAgICAgICBcImRhdGEtc3RhdGVcIjogaXRlbVN0YXRlLmlzT3BlbiA/IFwib3BlblwiIDogXCJjbG9zZWRcIixcbiAgICAgICAgXCJkYXRhLWRpc2FibGVkXCI6IGRhdGFBdHRyKGl0ZW1TdGF0ZS5pc0Rpc2FibGVkKSxcbiAgICAgICAgXCJkYXRhLWZvY3VzXCI6IGRhdGFBdHRyKGl0ZW1TdGF0ZS5pc0ZvY3VzZWQpLFxuICAgICAgICBcImRhdGEtb3JpZW50YXRpb25cIjogc3RhdGUuY29udGV4dC5vcmllbnRhdGlvblxuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZXRJdGVtVHJpZ2dlclByb3BzKHByb3BzKSB7XG4gICAgICBjb25zdCB7IHZhbHVlOiB2YWx1ZTIgfSA9IHByb3BzO1xuICAgICAgY29uc3QgaXRlbVN0YXRlID0gZ2V0SXRlbVN0YXRlKHByb3BzKTtcbiAgICAgIHJldHVybiBub3JtYWxpemUuYnV0dG9uKHtcbiAgICAgICAgLi4ucGFydHMuaXRlbVRyaWdnZXIuYXR0cnMsXG4gICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICAgIGlkOiBkb20uZ2V0SXRlbVRyaWdnZXJJZChzdGF0ZS5jb250ZXh0LCB2YWx1ZTIpLFxuICAgICAgICBcImFyaWEtY29udHJvbHNcIjogZG9tLmdldEl0ZW1Db250ZW50SWQoc3RhdGUuY29udGV4dCwgdmFsdWUyKSxcbiAgICAgICAgXCJhcmlhLWV4cGFuZGVkXCI6IGl0ZW1TdGF0ZS5pc09wZW4sXG4gICAgICAgIGRpc2FibGVkOiBpdGVtU3RhdGUuaXNEaXNhYmxlZCxcbiAgICAgICAgXCJkYXRhLW9yaWVudGF0aW9uXCI6IHN0YXRlLmNvbnRleHQub3JpZW50YXRpb24sXG4gICAgICAgIFwiYXJpYS1kaXNhYmxlZFwiOiBpdGVtU3RhdGUuaXNEaXNhYmxlZCxcbiAgICAgICAgXCJkYXRhLXN0YXRlXCI6IGl0ZW1TdGF0ZS5pc09wZW4gPyBcIm9wZW5cIiA6IFwiY2xvc2VkXCIsXG4gICAgICAgIFwiZGF0YS1vd25lZGJ5XCI6IGRvbS5nZXRSb290SWQoc3RhdGUuY29udGV4dCksXG4gICAgICAgIG9uRm9jdXMoKSB7XG4gICAgICAgICAgaWYgKGl0ZW1TdGF0ZS5pc0Rpc2FibGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIlRSSUdHRVIuRk9DVVNcIiwgdmFsdWU6IHZhbHVlMiB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgb25CbHVyKCkge1xuICAgICAgICAgIGlmIChpdGVtU3RhdGUuaXNEaXNhYmxlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBzZW5kKFwiVFJJR0dFUi5CTFVSXCIpO1xuICAgICAgICB9LFxuICAgICAgICBvbkNsaWNrKGV2ZW50KSB7XG4gICAgICAgICAgaWYgKGl0ZW1TdGF0ZS5pc0Rpc2FibGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGlmIChpc1NhZmFyaSgpKSB7XG4gICAgICAgICAgICBldmVudC5jdXJyZW50VGFyZ2V0LmZvY3VzKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIlRSSUdHRVIuQ0xJQ0tcIiwgdmFsdWU6IHZhbHVlMiB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgb25LZXlEb3duKGV2ZW50KSB7XG4gICAgICAgICAgaWYgKGl0ZW1TdGF0ZS5pc0Rpc2FibGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IGtleU1hcCA9IHtcbiAgICAgICAgICAgIEFycm93RG93bigpIHtcbiAgICAgICAgICAgICAgaWYgKHN0YXRlLmNvbnRleHQuaXNIb3Jpem9udGFsKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwiR09UTy5ORVhUXCIsIHZhbHVlOiB2YWx1ZTIgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgQXJyb3dVcCgpIHtcbiAgICAgICAgICAgICAgaWYgKHN0YXRlLmNvbnRleHQuaXNIb3Jpem9udGFsKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwiR09UTy5QUkVWXCIsIHZhbHVlOiB2YWx1ZTIgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgQXJyb3dSaWdodCgpIHtcbiAgICAgICAgICAgICAgaWYgKCFzdGF0ZS5jb250ZXh0LmlzSG9yaXpvbnRhbClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIkdPVE8uTkVYVFwiLCB2YWx1ZTogdmFsdWUyIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIEFycm93TGVmdCgpIHtcbiAgICAgICAgICAgICAgaWYgKCFzdGF0ZS5jb250ZXh0LmlzSG9yaXpvbnRhbClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIkdPVE8uUFJFVlwiLCB2YWx1ZTogdmFsdWUyIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIEhvbWUoKSB7XG4gICAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIkdPVE8uRklSU1RcIiwgdmFsdWU6IHZhbHVlMiB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBFbmQoKSB7XG4gICAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIkdPVE8uTEFTVFwiLCB2YWx1ZTogdmFsdWUyIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3Qga2V5ID0gZ2V0RXZlbnRLZXkoZXZlbnQsIHtcbiAgICAgICAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICAgICAgICBvcmllbnRhdGlvbjogc3RhdGUuY29udGV4dC5vcmllbnRhdGlvblxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IGV4ZWMgPSBrZXlNYXBba2V5XTtcbiAgICAgICAgICBpZiAoZXhlYykge1xuICAgICAgICAgICAgZXhlYyhldmVudCk7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufVxuXG4vLyBzcmMvYWNjb3JkaW9uLm1hY2hpbmUudHNcbmltcG9ydCB7IGNyZWF0ZU1hY2hpbmUsIGd1YXJkcyB9IGZyb20gXCJAemFnLWpzL2NvcmVcIjtcbmltcG9ydCB7IGFkZCwgY29tcGFjdCwgaXNFcXVhbCwgcmVtb3ZlLCB3YXJuIH0gZnJvbSBcIkB6YWctanMvdXRpbHNcIjtcbnZhciB7IGFuZCwgbm90IH0gPSBndWFyZHM7XG5mdW5jdGlvbiBtYWNoaW5lKHVzZXJDb250ZXh0KSB7XG4gIGNvbnN0IGN0eCA9IGNvbXBhY3QodXNlckNvbnRleHQpO1xuICByZXR1cm4gY3JlYXRlTWFjaGluZShcbiAgICB7XG4gICAgICBpZDogXCJhY2NvcmRpb25cIixcbiAgICAgIGluaXRpYWw6IFwiaWRsZVwiLFxuICAgICAgY29udGV4dDoge1xuICAgICAgICBmb2N1c2VkVmFsdWU6IG51bGwsXG4gICAgICAgIHZhbHVlOiBbXSxcbiAgICAgICAgY29sbGFwc2libGU6IGZhbHNlLFxuICAgICAgICBtdWx0aXBsZTogZmFsc2UsXG4gICAgICAgIG9yaWVudGF0aW9uOiBcInZlcnRpY2FsXCIsXG4gICAgICAgIC4uLmN0eFxuICAgICAgfSxcbiAgICAgIHdhdGNoOiB7XG4gICAgICAgIHZhbHVlOiBcImNvYXJzZVZhbHVlXCIsXG4gICAgICAgIG11bHRpcGxlOiBcImNvYXJzZVZhbHVlXCJcbiAgICAgIH0sXG4gICAgICBjcmVhdGVkOiBcImNvYXJzZVZhbHVlXCIsXG4gICAgICBjb21wdXRlZDoge1xuICAgICAgICBpc0hvcml6b250YWw6IChjdHgyKSA9PiBjdHgyLm9yaWVudGF0aW9uID09PSBcImhvcml6b250YWxcIlxuICAgICAgfSxcbiAgICAgIG9uOiB7XG4gICAgICAgIFwiVkFMVUUuU0VUXCI6IHtcbiAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRWYWx1ZVwiXVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgc3RhdGVzOiB7XG4gICAgICAgIGlkbGU6IHtcbiAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgXCJUUklHR0VSLkZPQ1VTXCI6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcImZvY3VzZWRcIixcbiAgICAgICAgICAgICAgYWN0aW9uczogXCJzZXRGb2N1c2VkVmFsdWVcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZm9jdXNlZDoge1xuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBcIkdPVE8uTkVYVFwiOiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6IFwiZm9jdXNOZXh0VHJpZ2dlclwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJHT1RPLlBSRVZcIjoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBcImZvY3VzUHJldlRyaWdnZXJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiVFJJR0dFUi5DTElDS1wiOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBndWFyZDogYW5kKFwiaXNFeHBhbmRlZFwiLCBcImNhblRvZ2dsZVwiKSxcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJjb2xsYXBzZVwiXVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ3VhcmQ6IG5vdChcImlzRXhwYW5kZWRcIiksXG4gICAgICAgICAgICAgICAgYWN0aW9uczogW1wiZXhwYW5kXCJdXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIkdPVE8uRklSU1RcIjoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBcImZvY3VzRmlyc3RUcmlnZ2VyXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIkdPVE8uTEFTVFwiOiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6IFwiZm9jdXNMYXN0VHJpZ2dlclwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJUUklHR0VSLkJMVVJcIjoge1xuICAgICAgICAgICAgICB0YXJnZXQ6IFwiaWRsZVwiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBcImNsZWFyRm9jdXNlZFZhbHVlXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIGd1YXJkczoge1xuICAgICAgICBjYW5Ub2dnbGU6IChjdHgyKSA9PiAhIWN0eDIuY29sbGFwc2libGUgfHwgISFjdHgyLm11bHRpcGxlLFxuICAgICAgICBpc0V4cGFuZGVkOiAoY3R4MiwgZXZ0KSA9PiBjdHgyLnZhbHVlLmluY2x1ZGVzKGV2dC52YWx1ZSlcbiAgICAgIH0sXG4gICAgICBhY3Rpb25zOiB7XG4gICAgICAgIGNvbGxhcHNlKGN0eDIsIGV2dCkge1xuICAgICAgICAgIGNvbnN0IG5leHQgPSBjdHgyLm11bHRpcGxlID8gcmVtb3ZlKGN0eDIudmFsdWUsIGV2dC52YWx1ZSkgOiBbXTtcbiAgICAgICAgICBzZXQudmFsdWUoY3R4MiwgY3R4Mi5tdWx0aXBsZSA/IG5leHQgOiBbXSk7XG4gICAgICAgIH0sXG4gICAgICAgIGV4cGFuZChjdHgyLCBldnQpIHtcbiAgICAgICAgICBjb25zdCBuZXh0ID0gY3R4Mi5tdWx0aXBsZSA/IGFkZChjdHgyLnZhbHVlLCBldnQudmFsdWUpIDogW2V2dC52YWx1ZV07XG4gICAgICAgICAgc2V0LnZhbHVlKGN0eDIsIG5leHQpO1xuICAgICAgICB9LFxuICAgICAgICBmb2N1c0ZpcnN0VHJpZ2dlcihjdHgyKSB7XG4gICAgICAgICAgZG9tLmdldEZpcnN0VHJpZ2dlckVsKGN0eDIpPy5mb2N1cygpO1xuICAgICAgICB9LFxuICAgICAgICBmb2N1c0xhc3RUcmlnZ2VyKGN0eDIpIHtcbiAgICAgICAgICBkb20uZ2V0TGFzdFRyaWdnZXJFbChjdHgyKT8uZm9jdXMoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZm9jdXNOZXh0VHJpZ2dlcihjdHgyKSB7XG4gICAgICAgICAgaWYgKCFjdHgyLmZvY3VzZWRWYWx1ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjb25zdCB0cmlnZ2VyRWwgPSBkb20uZ2V0TmV4dFRyaWdnZXJFbChjdHgyLCBjdHgyLmZvY3VzZWRWYWx1ZSk7XG4gICAgICAgICAgdHJpZ2dlckVsPy5mb2N1cygpO1xuICAgICAgICB9LFxuICAgICAgICBmb2N1c1ByZXZUcmlnZ2VyKGN0eDIpIHtcbiAgICAgICAgICBpZiAoIWN0eDIuZm9jdXNlZFZhbHVlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHRyaWdnZXJFbCA9IGRvbS5nZXRQcmV2VHJpZ2dlckVsKGN0eDIsIGN0eDIuZm9jdXNlZFZhbHVlKTtcbiAgICAgICAgICB0cmlnZ2VyRWw/LmZvY3VzKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldEZvY3VzZWRWYWx1ZShjdHgyLCBldnQpIHtcbiAgICAgICAgICBzZXQuZm9jdXNlZFZhbHVlKGN0eDIsIGV2dC52YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGNsZWFyRm9jdXNlZFZhbHVlKGN0eDIpIHtcbiAgICAgICAgICBzZXQuZm9jdXNlZFZhbHVlKGN0eDIsIG51bGwpO1xuICAgICAgICB9LFxuICAgICAgICBzZXRWYWx1ZShjdHgyLCBldnQpIHtcbiAgICAgICAgICBzZXQudmFsdWUoY3R4MiwgZXZ0LnZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgY29hcnNlVmFsdWUoY3R4Mikge1xuICAgICAgICAgIGlmICghY3R4Mi5tdWx0aXBsZSAmJiBjdHgyLnZhbHVlLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIHdhcm4oYFRoZSB2YWx1ZSBvZiBhY2NvcmRpb24gc2hvdWxkIGJlIGEgc2luZ2xlIHZhbHVlIHdoZW4gbXVsdGlwbGUgaXMgZmFsc2UuYCk7XG4gICAgICAgICAgICBjdHgyLnZhbHVlID0gW2N0eDIudmFsdWVbMF1dO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgKTtcbn1cbnZhciBpbnZva2UgPSB7XG4gIGNoYW5nZShjdHgpIHtcbiAgICBjdHgub25WYWx1ZUNoYW5nZT8uKHsgdmFsdWU6IEFycmF5LmZyb20oY3R4LnZhbHVlKSB9KTtcbiAgfSxcbiAgZm9jdXNDaGFuZ2UoY3R4KSB7XG4gICAgY3R4Lm9uRm9jdXNDaGFuZ2U/Lih7IHZhbHVlOiBjdHguZm9jdXNlZFZhbHVlIH0pO1xuICB9XG59O1xudmFyIHNldCA9IHtcbiAgdmFsdWUoY3R4LCB2YWx1ZSkge1xuICAgIGlmIChpc0VxdWFsKGN0eC52YWx1ZSwgdmFsdWUpKVxuICAgICAgcmV0dXJuO1xuICAgIGN0eC52YWx1ZSA9IHZhbHVlO1xuICAgIGludm9rZS5jaGFuZ2UoY3R4KTtcbiAgfSxcbiAgZm9jdXNlZFZhbHVlKGN0eCwgdmFsdWUpIHtcbiAgICBpZiAoaXNFcXVhbChjdHguZm9jdXNlZFZhbHVlLCB2YWx1ZSkpXG4gICAgICByZXR1cm47XG4gICAgY3R4LmZvY3VzZWRWYWx1ZSA9IHZhbHVlO1xuICAgIGludm9rZS5mb2N1c0NoYW5nZShjdHgpO1xuICB9XG59O1xuZXhwb3J0IHtcbiAgYW5hdG9teSxcbiAgY29ubmVjdCxcbiAgbWFjaGluZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/accordion/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/anatomy/dist/index.mjs":
/*!*****************************************************!*\
  !*** ./node_modules/@zag-js/anatomy/dist/index.mjs ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createAnatomy: () => (/* binding */ createAnatomy)\n/* harmony export */ });\n// src/create-anatomy.ts\nvar createAnatomy = (name, parts = []) => ({\n  parts: (...values) => {\n    if (isEmpty(parts)) {\n      return createAnatomy(name, values);\n    }\n    throw new Error(\"createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?\");\n  },\n  extendWith: (...values) => createAnatomy(name, [...parts, ...values]),\n  rename: (newName) => createAnatomy(newName, parts),\n  keys: () => parts,\n  build: () => [...new Set(parts)].reduce(\n    (prev, part) => Object.assign(prev, {\n      [part]: {\n        selector: [\n          `&[data-scope=\"${toKebabCase(name)}\"][data-part=\"${toKebabCase(part)}\"]`,\n          `& [data-scope=\"${toKebabCase(name)}\"][data-part=\"${toKebabCase(part)}\"]`\n        ].join(\", \"),\n        attrs: { \"data-scope\": toKebabCase(name), \"data-part\": toKebabCase(part) }\n      }\n    }),\n    {}\n  )\n});\nvar toKebabCase = (value) => value.replace(/([A-Z])([A-Z])/g, \"$1-$2\").replace(/([a-z])([A-Z])/g, \"$1-$2\").replace(/[\\s_]+/g, \"-\").toLowerCase();\nvar isEmpty = (v) => v.length === 0;\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9hbmF0b215L2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixrQkFBa0IsZ0JBQWdCLGtCQUFrQjtBQUMvRSw0QkFBNEIsa0JBQWtCLGdCQUFnQixrQkFBa0I7QUFDaEY7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBR0U7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL0BwYXJrLXVpL2V4YW1wbGVzLXJlYWN0LW5leHQtanMvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9hbmF0b215L2Rpc3QvaW5kZXgubWpzPzkwYTkiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2NyZWF0ZS1hbmF0b215LnRzXG52YXIgY3JlYXRlQW5hdG9teSA9IChuYW1lLCBwYXJ0cyA9IFtdKSA9PiAoe1xuICBwYXJ0czogKC4uLnZhbHVlcykgPT4ge1xuICAgIGlmIChpc0VtcHR5KHBhcnRzKSkge1xuICAgICAgcmV0dXJuIGNyZWF0ZUFuYXRvbXkobmFtZSwgdmFsdWVzKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiY3JlYXRlQW5hdG9teSgpLnBhcnRzKC4uLikgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uY2UuIERpZCB5b3UgbWVhbiB0byB1c2UgLmV4dGVuZFdpdGgoLi4uKSA/XCIpO1xuICB9LFxuICBleHRlbmRXaXRoOiAoLi4udmFsdWVzKSA9PiBjcmVhdGVBbmF0b215KG5hbWUsIFsuLi5wYXJ0cywgLi4udmFsdWVzXSksXG4gIHJlbmFtZTogKG5ld05hbWUpID0+IGNyZWF0ZUFuYXRvbXkobmV3TmFtZSwgcGFydHMpLFxuICBrZXlzOiAoKSA9PiBwYXJ0cyxcbiAgYnVpbGQ6ICgpID0+IFsuLi5uZXcgU2V0KHBhcnRzKV0ucmVkdWNlKFxuICAgIChwcmV2LCBwYXJ0KSA9PiBPYmplY3QuYXNzaWduKHByZXYsIHtcbiAgICAgIFtwYXJ0XToge1xuICAgICAgICBzZWxlY3RvcjogW1xuICAgICAgICAgIGAmW2RhdGEtc2NvcGU9XCIke3RvS2ViYWJDYXNlKG5hbWUpfVwiXVtkYXRhLXBhcnQ9XCIke3RvS2ViYWJDYXNlKHBhcnQpfVwiXWAsXG4gICAgICAgICAgYCYgW2RhdGEtc2NvcGU9XCIke3RvS2ViYWJDYXNlKG5hbWUpfVwiXVtkYXRhLXBhcnQ9XCIke3RvS2ViYWJDYXNlKHBhcnQpfVwiXWBcbiAgICAgICAgXS5qb2luKFwiLCBcIiksXG4gICAgICAgIGF0dHJzOiB7IFwiZGF0YS1zY29wZVwiOiB0b0tlYmFiQ2FzZShuYW1lKSwgXCJkYXRhLXBhcnRcIjogdG9LZWJhYkNhc2UocGFydCkgfVxuICAgICAgfVxuICAgIH0pLFxuICAgIHt9XG4gIClcbn0pO1xudmFyIHRvS2ViYWJDYXNlID0gKHZhbHVlKSA9PiB2YWx1ZS5yZXBsYWNlKC8oW0EtWl0pKFtBLVpdKS9nLCBcIiQxLSQyXCIpLnJlcGxhY2UoLyhbYS16XSkoW0EtWl0pL2csIFwiJDEtJDJcIikucmVwbGFjZSgvW1xcc19dKy9nLCBcIi1cIikudG9Mb3dlckNhc2UoKTtcbnZhciBpc0VtcHR5ID0gKHYpID0+IHYubGVuZ3RoID09PSAwO1xuZXhwb3J0IHtcbiAgY3JlYXRlQW5hdG9teVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/anatomy/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/aria-hidden/dist/index.mjs":
/*!*********************************************************!*\
  !*** ./node_modules/@zag-js/aria-hidden/dist/index.mjs ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ariaHidden: () => (/* binding */ ariaHidden)\n/* harmony export */ });\n/* harmony import */ var _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/dom-query */ \"(ssr)/./node_modules/@zag-js/dom-query/dist/index.mjs\");\n// src/index.ts\n\nvar refCountMap = /* @__PURE__ */ new WeakMap();\nvar observerStack = [];\nfunction ariaHiddenImpl(targets, options = {}) {\n  const { rootEl } = options;\n  const exclude = targets.filter(Boolean);\n  if (exclude.length === 0)\n    return;\n  const doc = exclude[0].ownerDocument || document;\n  const win = doc.defaultView ?? window;\n  const visibleNodes = new Set(exclude);\n  const hiddenNodes = /* @__PURE__ */ new Set();\n  const root = rootEl ?? doc.body;\n  let walk = (root2) => {\n    for (let element of root2.querySelectorAll(\"[data-live-announcer], [data-zag-top-layer]\")) {\n      visibleNodes.add(element);\n    }\n    let acceptNode = (node) => {\n      if (visibleNodes.has(node) || hiddenNodes.has(node.parentElement) && node.parentElement.getAttribute(\"role\") !== \"row\") {\n        return NodeFilter.FILTER_REJECT;\n      }\n      for (let target of visibleNodes) {\n        if (node.contains(target)) {\n          return NodeFilter.FILTER_SKIP;\n        }\n      }\n      return NodeFilter.FILTER_ACCEPT;\n    };\n    let walker = doc.createTreeWalker(root2, NodeFilter.SHOW_ELEMENT, { acceptNode });\n    let acceptRoot = acceptNode(root2);\n    if (acceptRoot === NodeFilter.FILTER_ACCEPT) {\n      hide(root2);\n    }\n    if (acceptRoot !== NodeFilter.FILTER_REJECT) {\n      let node = walker.nextNode();\n      while (node != null) {\n        hide(node);\n        node = walker.nextNode();\n      }\n    }\n  };\n  let hide = (node) => {\n    let refCount = refCountMap.get(node) ?? 0;\n    if (node.getAttribute(\"aria-hidden\") === \"true\" && refCount === 0) {\n      return;\n    }\n    if (refCount === 0) {\n      node.setAttribute(\"aria-hidden\", \"true\");\n    }\n    hiddenNodes.add(node);\n    refCountMap.set(node, refCount + 1);\n  };\n  if (observerStack.length) {\n    observerStack[observerStack.length - 1].disconnect();\n  }\n  walk(root);\n  const observer = new win.MutationObserver((changes) => {\n    for (let change of changes) {\n      if (change.type !== \"childList\" || change.addedNodes.length === 0) {\n        continue;\n      }\n      if (![...visibleNodes, ...hiddenNodes].some((node) => node.contains(change.target))) {\n        for (let node of change.removedNodes) {\n          if (node instanceof win.Element) {\n            visibleNodes.delete(node);\n            hiddenNodes.delete(node);\n          }\n        }\n        for (let node of change.addedNodes) {\n          if ((node instanceof win.HTMLElement || node instanceof win.SVGElement) && (node.dataset.liveAnnouncer === \"true\" || node.dataset.zagTopLayer === \"true\")) {\n            visibleNodes.add(node);\n          } else if (node instanceof win.Element) {\n            walk(node);\n          }\n        }\n      }\n    }\n  });\n  observer.observe(root, { childList: true, subtree: true });\n  let observerWrapper = {\n    observe() {\n      observer.observe(root, { childList: true, subtree: true });\n    },\n    disconnect() {\n      observer.disconnect();\n    }\n  };\n  observerStack.push(observerWrapper);\n  return () => {\n    observer.disconnect();\n    for (let node of hiddenNodes) {\n      let count = refCountMap.get(node);\n      if (count === 1) {\n        node.removeAttribute(\"aria-hidden\");\n        refCountMap.delete(node);\n      } else {\n        refCountMap.set(node, count - 1);\n      }\n    }\n    if (observerWrapper === observerStack[observerStack.length - 1]) {\n      observerStack.pop();\n      if (observerStack.length) {\n        observerStack[observerStack.length - 1].observe();\n      }\n    } else {\n      observerStack.splice(observerStack.indexOf(observerWrapper), 1);\n    }\n  };\n}\nfunction ariaHidden(targetsOrFn, options = {}) {\n  const { defer } = options;\n  const func = defer ? _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_0__.raf : (v) => v();\n  const cleanups = [];\n  cleanups.push(\n    func(() => {\n      const targets = typeof targetsOrFn === \"function\" ? targetsOrFn() : targetsOrFn;\n      cleanups.push(ariaHiddenImpl(targets, options));\n    })\n  );\n  return () => {\n    cleanups.forEach((fn) => fn?.());\n  };\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9hcmlhLWhpZGRlbi9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ3dDO0FBQ3hDO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0MsVUFBVSxTQUFTO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RUFBd0UsWUFBWTtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCwyQkFBMkIsZ0NBQWdDO0FBQzNEO0FBQ0E7QUFDQSwrQkFBK0IsZ0NBQWdDO0FBQy9ELEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QyxVQUFVLFFBQVE7QUFDbEIsdUJBQXVCLGtEQUFHO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AcGFyay11aS9leGFtcGxlcy1yZWFjdC1uZXh0LWpzLy4vbm9kZV9tb2R1bGVzL0B6YWctanMvYXJpYS1oaWRkZW4vZGlzdC9pbmRleC5tanM/ZmRiMiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvaW5kZXgudHNcbmltcG9ydCB7IHJhZiB9IGZyb20gXCJAemFnLWpzL2RvbS1xdWVyeVwiO1xudmFyIHJlZkNvdW50TWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG52YXIgb2JzZXJ2ZXJTdGFjayA9IFtdO1xuZnVuY3Rpb24gYXJpYUhpZGRlbkltcGwodGFyZ2V0cywgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHsgcm9vdEVsIH0gPSBvcHRpb25zO1xuICBjb25zdCBleGNsdWRlID0gdGFyZ2V0cy5maWx0ZXIoQm9vbGVhbik7XG4gIGlmIChleGNsdWRlLmxlbmd0aCA9PT0gMClcbiAgICByZXR1cm47XG4gIGNvbnN0IGRvYyA9IGV4Y2x1ZGVbMF0ub3duZXJEb2N1bWVudCB8fCBkb2N1bWVudDtcbiAgY29uc3Qgd2luID0gZG9jLmRlZmF1bHRWaWV3ID8/IHdpbmRvdztcbiAgY29uc3QgdmlzaWJsZU5vZGVzID0gbmV3IFNldChleGNsdWRlKTtcbiAgY29uc3QgaGlkZGVuTm9kZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBjb25zdCByb290ID0gcm9vdEVsID8/IGRvYy5ib2R5O1xuICBsZXQgd2FsayA9IChyb290MikgPT4ge1xuICAgIGZvciAobGV0IGVsZW1lbnQgb2Ygcm9vdDIucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLWxpdmUtYW5ub3VuY2VyXSwgW2RhdGEtemFnLXRvcC1sYXllcl1cIikpIHtcbiAgICAgIHZpc2libGVOb2Rlcy5hZGQoZWxlbWVudCk7XG4gICAgfVxuICAgIGxldCBhY2NlcHROb2RlID0gKG5vZGUpID0+IHtcbiAgICAgIGlmICh2aXNpYmxlTm9kZXMuaGFzKG5vZGUpIHx8IGhpZGRlbk5vZGVzLmhhcyhub2RlLnBhcmVudEVsZW1lbnQpICYmIG5vZGUucGFyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJyb2xlXCIpICE9PSBcInJvd1wiKSB7XG4gICAgICAgIHJldHVybiBOb2RlRmlsdGVyLkZJTFRFUl9SRUpFQ1Q7XG4gICAgICB9XG4gICAgICBmb3IgKGxldCB0YXJnZXQgb2YgdmlzaWJsZU5vZGVzKSB7XG4gICAgICAgIGlmIChub2RlLmNvbnRhaW5zKHRhcmdldCkpIHtcbiAgICAgICAgICByZXR1cm4gTm9kZUZpbHRlci5GSUxURVJfU0tJUDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIE5vZGVGaWx0ZXIuRklMVEVSX0FDQ0VQVDtcbiAgICB9O1xuICAgIGxldCB3YWxrZXIgPSBkb2MuY3JlYXRlVHJlZVdhbGtlcihyb290MiwgTm9kZUZpbHRlci5TSE9XX0VMRU1FTlQsIHsgYWNjZXB0Tm9kZSB9KTtcbiAgICBsZXQgYWNjZXB0Um9vdCA9IGFjY2VwdE5vZGUocm9vdDIpO1xuICAgIGlmIChhY2NlcHRSb290ID09PSBOb2RlRmlsdGVyLkZJTFRFUl9BQ0NFUFQpIHtcbiAgICAgIGhpZGUocm9vdDIpO1xuICAgIH1cbiAgICBpZiAoYWNjZXB0Um9vdCAhPT0gTm9kZUZpbHRlci5GSUxURVJfUkVKRUNUKSB7XG4gICAgICBsZXQgbm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpO1xuICAgICAgd2hpbGUgKG5vZGUgIT0gbnVsbCkge1xuICAgICAgICBoaWRlKG5vZGUpO1xuICAgICAgICBub2RlID0gd2Fsa2VyLm5leHROb2RlKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBsZXQgaGlkZSA9IChub2RlKSA9PiB7XG4gICAgbGV0IHJlZkNvdW50ID0gcmVmQ291bnRNYXAuZ2V0KG5vZGUpID8/IDA7XG4gICAgaWYgKG5vZGUuZ2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIikgPT09IFwidHJ1ZVwiICYmIHJlZkNvdW50ID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChyZWZDb3VudCA9PT0gMCkge1xuICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLCBcInRydWVcIik7XG4gICAgfVxuICAgIGhpZGRlbk5vZGVzLmFkZChub2RlKTtcbiAgICByZWZDb3VudE1hcC5zZXQobm9kZSwgcmVmQ291bnQgKyAxKTtcbiAgfTtcbiAgaWYgKG9ic2VydmVyU3RhY2subGVuZ3RoKSB7XG4gICAgb2JzZXJ2ZXJTdGFja1tvYnNlcnZlclN0YWNrLmxlbmd0aCAtIDFdLmRpc2Nvbm5lY3QoKTtcbiAgfVxuICB3YWxrKHJvb3QpO1xuICBjb25zdCBvYnNlcnZlciA9IG5ldyB3aW4uTXV0YXRpb25PYnNlcnZlcigoY2hhbmdlcykgPT4ge1xuICAgIGZvciAobGV0IGNoYW5nZSBvZiBjaGFuZ2VzKSB7XG4gICAgICBpZiAoY2hhbmdlLnR5cGUgIT09IFwiY2hpbGRMaXN0XCIgfHwgY2hhbmdlLmFkZGVkTm9kZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKCFbLi4udmlzaWJsZU5vZGVzLCAuLi5oaWRkZW5Ob2Rlc10uc29tZSgobm9kZSkgPT4gbm9kZS5jb250YWlucyhjaGFuZ2UudGFyZ2V0KSkpIHtcbiAgICAgICAgZm9yIChsZXQgbm9kZSBvZiBjaGFuZ2UucmVtb3ZlZE5vZGVzKSB7XG4gICAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiB3aW4uRWxlbWVudCkge1xuICAgICAgICAgICAgdmlzaWJsZU5vZGVzLmRlbGV0ZShub2RlKTtcbiAgICAgICAgICAgIGhpZGRlbk5vZGVzLmRlbGV0ZShub2RlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgbm9kZSBvZiBjaGFuZ2UuYWRkZWROb2Rlcykge1xuICAgICAgICAgIGlmICgobm9kZSBpbnN0YW5jZW9mIHdpbi5IVE1MRWxlbWVudCB8fCBub2RlIGluc3RhbmNlb2Ygd2luLlNWR0VsZW1lbnQpICYmIChub2RlLmRhdGFzZXQubGl2ZUFubm91bmNlciA9PT0gXCJ0cnVlXCIgfHwgbm9kZS5kYXRhc2V0LnphZ1RvcExheWVyID09PSBcInRydWVcIikpIHtcbiAgICAgICAgICAgIHZpc2libGVOb2Rlcy5hZGQobm9kZSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChub2RlIGluc3RhbmNlb2Ygd2luLkVsZW1lbnQpIHtcbiAgICAgICAgICAgIHdhbGsobm9kZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgb2JzZXJ2ZXIub2JzZXJ2ZShyb290LCB7IGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9KTtcbiAgbGV0IG9ic2VydmVyV3JhcHBlciA9IHtcbiAgICBvYnNlcnZlKCkge1xuICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShyb290LCB7IGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9KTtcbiAgICB9LFxuICAgIGRpc2Nvbm5lY3QoKSB7XG4gICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgfVxuICB9O1xuICBvYnNlcnZlclN0YWNrLnB1c2gob2JzZXJ2ZXJXcmFwcGVyKTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgZm9yIChsZXQgbm9kZSBvZiBoaWRkZW5Ob2Rlcykge1xuICAgICAgbGV0IGNvdW50ID0gcmVmQ291bnRNYXAuZ2V0KG5vZGUpO1xuICAgICAgaWYgKGNvdW50ID09PSAxKSB7XG4gICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIik7XG4gICAgICAgIHJlZkNvdW50TWFwLmRlbGV0ZShub2RlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlZkNvdW50TWFwLnNldChub2RlLCBjb3VudCAtIDEpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAob2JzZXJ2ZXJXcmFwcGVyID09PSBvYnNlcnZlclN0YWNrW29ic2VydmVyU3RhY2subGVuZ3RoIC0gMV0pIHtcbiAgICAgIG9ic2VydmVyU3RhY2sucG9wKCk7XG4gICAgICBpZiAob2JzZXJ2ZXJTdGFjay5sZW5ndGgpIHtcbiAgICAgICAgb2JzZXJ2ZXJTdGFja1tvYnNlcnZlclN0YWNrLmxlbmd0aCAtIDFdLm9ic2VydmUoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgb2JzZXJ2ZXJTdGFjay5zcGxpY2Uob2JzZXJ2ZXJTdGFjay5pbmRleE9mKG9ic2VydmVyV3JhcHBlciksIDEpO1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIGFyaWFIaWRkZW4odGFyZ2V0c09yRm4sIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7IGRlZmVyIH0gPSBvcHRpb25zO1xuICBjb25zdCBmdW5jID0gZGVmZXIgPyByYWYgOiAodikgPT4gdigpO1xuICBjb25zdCBjbGVhbnVwcyA9IFtdO1xuICBjbGVhbnVwcy5wdXNoKFxuICAgIGZ1bmMoKCkgPT4ge1xuICAgICAgY29uc3QgdGFyZ2V0cyA9IHR5cGVvZiB0YXJnZXRzT3JGbiA9PT0gXCJmdW5jdGlvblwiID8gdGFyZ2V0c09yRm4oKSA6IHRhcmdldHNPckZuO1xuICAgICAgY2xlYW51cHMucHVzaChhcmlhSGlkZGVuSW1wbCh0YXJnZXRzLCBvcHRpb25zKSk7XG4gICAgfSlcbiAgKTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBjbGVhbnVwcy5mb3JFYWNoKChmbikgPT4gZm4/LigpKTtcbiAgfTtcbn1cbmV4cG9ydCB7XG4gIGFyaWFIaWRkZW5cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/aria-hidden/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/auto-resize/dist/index.mjs":
/*!*********************************************************!*\
  !*** ./node_modules/@zag-js/auto-resize/dist/index.mjs ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   autoResizeInput: () => (/* binding */ autoResizeInput)\n/* harmony export */ });\n/* harmony import */ var _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/dom-query */ \"(ssr)/./node_modules/@zag-js/dom-query/dist/index.mjs\");\n// src/index.ts\n\nfunction copyVisualStyles(fromEl, toEl) {\n  if (!fromEl)\n    return;\n  const win = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_0__.getWindow)(fromEl);\n  const el = win.getComputedStyle(fromEl);\n  const cssText = \"box-sizing:\" + el.boxSizing + \";border-left:\" + el.borderLeftWidth + \" solid red;border-right:\" + el.borderRightWidth + \" solid red;font-family:\" + el.fontFamily + \";font-feature-settings:\" + el.fontFeatureSettings + \";font-kerning:\" + el.fontKerning + \";font-size:\" + el.fontSize + \";font-stretch:\" + el.fontStretch + \";font-style:\" + el.fontStyle + \";font-variant:\" + el.fontVariant + \";font-variant-caps:\" + el.fontVariantCaps + \";font-variant-ligatures:\" + el.fontVariantLigatures + \";font-variant-numeric:\" + el.fontVariantNumeric + \";font-weight:\" + el.fontWeight + \";letter-spacing:\" + el.letterSpacing + \";margin-left:\" + el.marginLeft + \";margin-right:\" + el.marginRight + \";padding-left:\" + el.paddingLeft + \";padding-right:\" + el.paddingRight + \";text-indent:\" + el.textIndent + \";text-transform:\" + el.textTransform;\n  toEl.style.cssText += cssText;\n}\nfunction createGhostElement(doc) {\n  var el = doc.createElement(\"div\");\n  el.id = \"ghost\";\n  el.style.cssText = \"display:inline-block;height:0;overflow:hidden;position:absolute;top:0;visibility:hidden;white-space:nowrap;\";\n  doc.body.appendChild(el);\n  return el;\n}\nfunction autoResizeInput(input) {\n  if (!input)\n    return;\n  const doc = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_0__.getDocument)(input);\n  const win = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_0__.getWindow)(input);\n  const ghost = createGhostElement(doc);\n  copyVisualStyles(input, ghost);\n  function resize() {\n    win.requestAnimationFrame(() => {\n      ghost.innerHTML = input.value;\n      const rect = win.getComputedStyle(ghost);\n      input?.style.setProperty(\"width\", rect.width);\n    });\n  }\n  resize();\n  input?.addEventListener(\"input\", resize);\n  input?.addEventListener(\"change\", resize);\n  return () => {\n    doc.body.removeChild(ghost);\n    input?.removeEventListener(\"input\", resize);\n    input?.removeEventListener(\"change\", resize);\n  };\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9hdXRvLXJlc2l6ZS9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQzJEO0FBQzNEO0FBQ0E7QUFDQTtBQUNBLGNBQWMsNERBQVM7QUFDdkI7QUFDQSxtREFBbUQsaURBQWlELG1EQUFtRCxrQ0FBa0MscURBQXFELG9DQUFvQyw4QkFBOEIsb0NBQW9DLGdDQUFnQyxvQ0FBb0MsNkNBQTZDLHVEQUF1RCxtREFBbUQsa0NBQWtDLHdDQUF3QyxrQ0FBa0Msb0NBQW9DLG9DQUFvQyxzQ0FBc0Msa0NBQWtDO0FBQzN5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLFNBQVMsZ0JBQWdCLGtCQUFrQixNQUFNLGtCQUFrQixtQkFBbUI7QUFDakk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyw4REFBVztBQUN6QixjQUFjLDREQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0U7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL0BwYXJrLXVpL2V4YW1wbGVzLXJlYWN0LW5leHQtanMvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9hdXRvLXJlc2l6ZS9kaXN0L2luZGV4Lm1qcz81YmMxIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9pbmRleC50c1xuaW1wb3J0IHsgZ2V0RG9jdW1lbnQsIGdldFdpbmRvdyB9IGZyb20gXCJAemFnLWpzL2RvbS1xdWVyeVwiO1xuZnVuY3Rpb24gY29weVZpc3VhbFN0eWxlcyhmcm9tRWwsIHRvRWwpIHtcbiAgaWYgKCFmcm9tRWwpXG4gICAgcmV0dXJuO1xuICBjb25zdCB3aW4gPSBnZXRXaW5kb3coZnJvbUVsKTtcbiAgY29uc3QgZWwgPSB3aW4uZ2V0Q29tcHV0ZWRTdHlsZShmcm9tRWwpO1xuICBjb25zdCBjc3NUZXh0ID0gXCJib3gtc2l6aW5nOlwiICsgZWwuYm94U2l6aW5nICsgXCI7Ym9yZGVyLWxlZnQ6XCIgKyBlbC5ib3JkZXJMZWZ0V2lkdGggKyBcIiBzb2xpZCByZWQ7Ym9yZGVyLXJpZ2h0OlwiICsgZWwuYm9yZGVyUmlnaHRXaWR0aCArIFwiIHNvbGlkIHJlZDtmb250LWZhbWlseTpcIiArIGVsLmZvbnRGYW1pbHkgKyBcIjtmb250LWZlYXR1cmUtc2V0dGluZ3M6XCIgKyBlbC5mb250RmVhdHVyZVNldHRpbmdzICsgXCI7Zm9udC1rZXJuaW5nOlwiICsgZWwuZm9udEtlcm5pbmcgKyBcIjtmb250LXNpemU6XCIgKyBlbC5mb250U2l6ZSArIFwiO2ZvbnQtc3RyZXRjaDpcIiArIGVsLmZvbnRTdHJldGNoICsgXCI7Zm9udC1zdHlsZTpcIiArIGVsLmZvbnRTdHlsZSArIFwiO2ZvbnQtdmFyaWFudDpcIiArIGVsLmZvbnRWYXJpYW50ICsgXCI7Zm9udC12YXJpYW50LWNhcHM6XCIgKyBlbC5mb250VmFyaWFudENhcHMgKyBcIjtmb250LXZhcmlhbnQtbGlnYXR1cmVzOlwiICsgZWwuZm9udFZhcmlhbnRMaWdhdHVyZXMgKyBcIjtmb250LXZhcmlhbnQtbnVtZXJpYzpcIiArIGVsLmZvbnRWYXJpYW50TnVtZXJpYyArIFwiO2ZvbnQtd2VpZ2h0OlwiICsgZWwuZm9udFdlaWdodCArIFwiO2xldHRlci1zcGFjaW5nOlwiICsgZWwubGV0dGVyU3BhY2luZyArIFwiO21hcmdpbi1sZWZ0OlwiICsgZWwubWFyZ2luTGVmdCArIFwiO21hcmdpbi1yaWdodDpcIiArIGVsLm1hcmdpblJpZ2h0ICsgXCI7cGFkZGluZy1sZWZ0OlwiICsgZWwucGFkZGluZ0xlZnQgKyBcIjtwYWRkaW5nLXJpZ2h0OlwiICsgZWwucGFkZGluZ1JpZ2h0ICsgXCI7dGV4dC1pbmRlbnQ6XCIgKyBlbC50ZXh0SW5kZW50ICsgXCI7dGV4dC10cmFuc2Zvcm06XCIgKyBlbC50ZXh0VHJhbnNmb3JtO1xuICB0b0VsLnN0eWxlLmNzc1RleHQgKz0gY3NzVGV4dDtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUdob3N0RWxlbWVudChkb2MpIHtcbiAgdmFyIGVsID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGVsLmlkID0gXCJnaG9zdFwiO1xuICBlbC5zdHlsZS5jc3NUZXh0ID0gXCJkaXNwbGF5OmlubGluZS1ibG9jaztoZWlnaHQ6MDtvdmVyZmxvdzpoaWRkZW47cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7dmlzaWJpbGl0eTpoaWRkZW47d2hpdGUtc3BhY2U6bm93cmFwO1wiO1xuICBkb2MuYm9keS5hcHBlbmRDaGlsZChlbCk7XG4gIHJldHVybiBlbDtcbn1cbmZ1bmN0aW9uIGF1dG9SZXNpemVJbnB1dChpbnB1dCkge1xuICBpZiAoIWlucHV0KVxuICAgIHJldHVybjtcbiAgY29uc3QgZG9jID0gZ2V0RG9jdW1lbnQoaW5wdXQpO1xuICBjb25zdCB3aW4gPSBnZXRXaW5kb3coaW5wdXQpO1xuICBjb25zdCBnaG9zdCA9IGNyZWF0ZUdob3N0RWxlbWVudChkb2MpO1xuICBjb3B5VmlzdWFsU3R5bGVzKGlucHV0LCBnaG9zdCk7XG4gIGZ1bmN0aW9uIHJlc2l6ZSgpIHtcbiAgICB3aW4ucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIGdob3N0LmlubmVySFRNTCA9IGlucHV0LnZhbHVlO1xuICAgICAgY29uc3QgcmVjdCA9IHdpbi5nZXRDb21wdXRlZFN0eWxlKGdob3N0KTtcbiAgICAgIGlucHV0Py5zdHlsZS5zZXRQcm9wZXJ0eShcIndpZHRoXCIsIHJlY3Qud2lkdGgpO1xuICAgIH0pO1xuICB9XG4gIHJlc2l6ZSgpO1xuICBpbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIHJlc2l6ZSk7XG4gIGlucHV0Py5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIHJlc2l6ZSk7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgZG9jLmJvZHkucmVtb3ZlQ2hpbGQoZ2hvc3QpO1xuICAgIGlucHV0Py5yZW1vdmVFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgcmVzaXplKTtcbiAgICBpbnB1dD8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCByZXNpemUpO1xuICB9O1xufVxuZXhwb3J0IHtcbiAgYXV0b1Jlc2l6ZUlucHV0XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/auto-resize/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/avatar/dist/index.mjs":
/*!****************************************************!*\
  !*** ./node_modules/@zag-js/avatar/dist/index.mjs ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   anatomy: () => (/* binding */ anatomy),\n/* harmony export */   connect: () => (/* binding */ connect),\n/* harmony export */   machine: () => (/* binding */ machine)\n/* harmony export */ });\n/* harmony import */ var _zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/anatomy */ \"(ssr)/./node_modules/@zag-js/anatomy/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @zag-js/dom-query */ \"(ssr)/./node_modules/@zag-js/dom-query/dist/index.mjs\");\n/* harmony import */ var _zag_js_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @zag-js/core */ \"(ssr)/./node_modules/@zag-js/core/dist/index.mjs\");\n/* harmony import */ var _zag_js_mutation_observer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @zag-js/mutation-observer */ \"(ssr)/./node_modules/@zag-js/mutation-observer/dist/index.mjs\");\n/* harmony import */ var _zag_js_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @zag-js/utils */ \"(ssr)/./node_modules/@zag-js/utils/dist/index.mjs\");\n// src/avatar.anatomy.ts\n\nvar anatomy = (0,_zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__.createAnatomy)(\"avatar\").parts(\"root\", \"image\", \"fallback\");\nvar parts = anatomy.build();\n\n// src/avatar.dom.ts\n\nvar dom = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.createScope)({\n  getRootId: (ctx) => `avatar:${ctx.id}`,\n  getImageId: (ctx) => `avatar:${ctx.id}:image`,\n  getFallbackId: (ctx) => `avatar:${ctx.id}:fallback`,\n  getRootEl: (ctx) => dom.getById(ctx, dom.getRootId(ctx)),\n  getImageEl: (ctx) => dom.getById(ctx, dom.getImageId(ctx))\n});\n\n// src/avatar.connect.ts\nfunction connect(state, send, normalize) {\n  const isLoaded = state.matches(\"loaded\");\n  const showFallback = !isLoaded;\n  return {\n    isLoaded,\n    showFallback,\n    setSrc(src) {\n      send({ type: \"SRC.SET\", src });\n    },\n    setLoaded() {\n      send({ type: \"IMG.LOADED\", src: \"api\" });\n    },\n    setError() {\n      send({ type: \"IMG.ERROR\", src: \"api\" });\n    },\n    rootProps: normalize.element({\n      ...parts.root.attrs,\n      dir: state.context.dir,\n      id: dom.getRootId(state.context),\n      style: {\n        display: \"grid\",\n        gridTemplateRows: \"1fr 1fr\",\n        overflow: \"hidden\"\n      }\n    }),\n    imageProps: normalize.img({\n      ...parts.image.attrs,\n      dir: state.context.dir,\n      id: dom.getImageId(state.context),\n      \"data-state\": isLoaded ? \"visible\" : \"hidden\",\n      onLoad() {\n        send({ type: \"IMG.LOADED\", src: \"element\" });\n      },\n      onError() {\n        send({ type: \"IMG.ERROR\", src: \"element\" });\n      },\n      style: {\n        gridArea: \"1 / 1 / 2 / 2\",\n        visibility: !isLoaded ? \"hidden\" : void 0\n      }\n    }),\n    fallbackProps: normalize.element({\n      ...parts.fallback.attrs,\n      dir: state.context.dir,\n      id: dom.getFallbackId(state.context),\n      hidden: !showFallback,\n      \"data-state\": isLoaded ? \"hidden\" : \"visible\",\n      style: {\n        gridArea: \"1 / 1 / 2 / 2\"\n      }\n    })\n  };\n}\n\n// src/avatar.machine.ts\n\n\n\nfunction machine(userContext) {\n  const ctx = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.compact)(userContext);\n  return (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_3__.createMachine)(\n    {\n      id: \"avatar\",\n      initial: \"loading\",\n      activities: [\"trackImageRemoval\"],\n      context: ctx,\n      on: {\n        \"SRC.CHANGE\": {\n          target: \"loading\"\n        },\n        \"IMG.UNMOUNT\": {\n          target: \"error\"\n        }\n      },\n      states: {\n        loading: {\n          activities: [\"trackSrcChange\"],\n          entry: [\"checkImgStatus\"],\n          on: {\n            \"IMG.LOADED\": {\n              target: \"loaded\",\n              actions: [\"invokeOnLoad\"]\n            },\n            \"IMG.ERROR\": {\n              target: \"error\",\n              actions: [\"invokeOnError\"]\n            }\n          }\n        },\n        error: {\n          activities: [\"trackSrcChange\"],\n          on: {\n            \"IMG.LOADED\": {\n              target: \"loaded\",\n              actions: [\"invokeOnLoad\"]\n            }\n          }\n        },\n        loaded: {\n          activities: [\"trackSrcChange\"],\n          on: {\n            \"IMG.ERROR\": {\n              target: \"error\",\n              actions: [\"invokeOnError\"]\n            }\n          }\n        }\n      }\n    },\n    {\n      activities: {\n        trackSrcChange(ctx2, _evt, { send }) {\n          const img = dom.getImageEl(ctx2);\n          return (0,_zag_js_mutation_observer__WEBPACK_IMPORTED_MODULE_4__.observeAttributes)(img, [\"src\", \"srcset\"], () => {\n            send({ type: \"SRC.CHANGE\" });\n          });\n        },\n        trackImageRemoval(ctx2, _evt, { send }) {\n          const rootEl = dom.getRootEl(ctx2);\n          return (0,_zag_js_mutation_observer__WEBPACK_IMPORTED_MODULE_4__.observeChildren)(rootEl, (records) => {\n            const removedNodes = Array.from(records[0].removedNodes);\n            const removed = removedNodes.find((node) => node.matches(\"[data-scope=avatar][data-part=image]\"));\n            if (removed) {\n              send({ type: \"IMG.UNMOUNT\" });\n            }\n          });\n        }\n      },\n      actions: {\n        invokeOnLoad(ctx2) {\n          ctx2.onLoadingStatusChange?.({ status: \"loaded\" });\n        },\n        invokeOnError(ctx2) {\n          ctx2.onLoadingStatusChange?.({ status: \"error\" });\n        },\n        checkImgStatus(ctx2, _evt, { send }) {\n          const img = dom.getImageEl(ctx2);\n          if (img?.complete) {\n            const type = img.currentSrc ? \"IMG.LOADED\" : \"IMG.ERROR\";\n            send({ type, src: \"ssr\" });\n          }\n        }\n      }\n    }\n  );\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9hdmF0YXIvZGlzdC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNnRDtBQUNoRCxjQUFjLDhEQUFhO0FBQzNCOztBQUVBO0FBQ2dEO0FBQ2hELFVBQVUsOERBQVc7QUFDckIsZ0NBQWdDLE9BQU87QUFDdkMsaUNBQWlDLE9BQU87QUFDeEMsb0NBQW9DLE9BQU87QUFDM0M7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsc0JBQXNCO0FBQ25DLEtBQUs7QUFDTDtBQUNBLGFBQWEsZ0NBQWdDO0FBQzdDLEtBQUs7QUFDTDtBQUNBLGFBQWEsK0JBQStCO0FBQzVDLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxvQ0FBb0M7QUFDbkQsT0FBTztBQUNQO0FBQ0EsZUFBZSxtQ0FBbUM7QUFDbEQsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQzZDO0FBQ2tDO0FBQ3ZDO0FBQ3hDO0FBQ0EsY0FBYyxzREFBTztBQUNyQixTQUFTLDJEQUFhO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxxQ0FBcUMsTUFBTTtBQUMzQztBQUNBLGlCQUFpQiw0RUFBaUI7QUFDbEMsbUJBQW1CLG9CQUFvQjtBQUN2QyxXQUFXO0FBQ1gsU0FBUztBQUNULHdDQUF3QyxNQUFNO0FBQzlDO0FBQ0EsaUJBQWlCLDBFQUFlO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixxQkFBcUI7QUFDMUM7QUFDQSxXQUFXO0FBQ1g7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLHlDQUF5QyxrQkFBa0I7QUFDM0QsU0FBUztBQUNUO0FBQ0EseUNBQXlDLGlCQUFpQjtBQUMxRCxTQUFTO0FBQ1QscUNBQXFDLE1BQU07QUFDM0M7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGtCQUFrQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBhcmstdWkvZXhhbXBsZXMtcmVhY3QtbmV4dC1qcy8uL25vZGVfbW9kdWxlcy9AemFnLWpzL2F2YXRhci9kaXN0L2luZGV4Lm1qcz83OGQ3Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9hdmF0YXIuYW5hdG9teS50c1xuaW1wb3J0IHsgY3JlYXRlQW5hdG9teSB9IGZyb20gXCJAemFnLWpzL2FuYXRvbXlcIjtcbnZhciBhbmF0b215ID0gY3JlYXRlQW5hdG9teShcImF2YXRhclwiKS5wYXJ0cyhcInJvb3RcIiwgXCJpbWFnZVwiLCBcImZhbGxiYWNrXCIpO1xudmFyIHBhcnRzID0gYW5hdG9teS5idWlsZCgpO1xuXG4vLyBzcmMvYXZhdGFyLmRvbS50c1xuaW1wb3J0IHsgY3JlYXRlU2NvcGUgfSBmcm9tIFwiQHphZy1qcy9kb20tcXVlcnlcIjtcbnZhciBkb20gPSBjcmVhdGVTY29wZSh7XG4gIGdldFJvb3RJZDogKGN0eCkgPT4gYGF2YXRhcjoke2N0eC5pZH1gLFxuICBnZXRJbWFnZUlkOiAoY3R4KSA9PiBgYXZhdGFyOiR7Y3R4LmlkfTppbWFnZWAsXG4gIGdldEZhbGxiYWNrSWQ6IChjdHgpID0+IGBhdmF0YXI6JHtjdHguaWR9OmZhbGxiYWNrYCxcbiAgZ2V0Um9vdEVsOiAoY3R4KSA9PiBkb20uZ2V0QnlJZChjdHgsIGRvbS5nZXRSb290SWQoY3R4KSksXG4gIGdldEltYWdlRWw6IChjdHgpID0+IGRvbS5nZXRCeUlkKGN0eCwgZG9tLmdldEltYWdlSWQoY3R4KSlcbn0pO1xuXG4vLyBzcmMvYXZhdGFyLmNvbm5lY3QudHNcbmZ1bmN0aW9uIGNvbm5lY3Qoc3RhdGUsIHNlbmQsIG5vcm1hbGl6ZSkge1xuICBjb25zdCBpc0xvYWRlZCA9IHN0YXRlLm1hdGNoZXMoXCJsb2FkZWRcIik7XG4gIGNvbnN0IHNob3dGYWxsYmFjayA9ICFpc0xvYWRlZDtcbiAgcmV0dXJuIHtcbiAgICBpc0xvYWRlZCxcbiAgICBzaG93RmFsbGJhY2ssXG4gICAgc2V0U3JjKHNyYykge1xuICAgICAgc2VuZCh7IHR5cGU6IFwiU1JDLlNFVFwiLCBzcmMgfSk7XG4gICAgfSxcbiAgICBzZXRMb2FkZWQoKSB7XG4gICAgICBzZW5kKHsgdHlwZTogXCJJTUcuTE9BREVEXCIsIHNyYzogXCJhcGlcIiB9KTtcbiAgICB9LFxuICAgIHNldEVycm9yKCkge1xuICAgICAgc2VuZCh7IHR5cGU6IFwiSU1HLkVSUk9SXCIsIHNyYzogXCJhcGlcIiB9KTtcbiAgICB9LFxuICAgIHJvb3RQcm9wczogbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgLi4ucGFydHMucm9vdC5hdHRycyxcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICBpZDogZG9tLmdldFJvb3RJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIGRpc3BsYXk6IFwiZ3JpZFwiLFxuICAgICAgICBncmlkVGVtcGxhdGVSb3dzOiBcIjFmciAxZnJcIixcbiAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCJcbiAgICAgIH1cbiAgICB9KSxcbiAgICBpbWFnZVByb3BzOiBub3JtYWxpemUuaW1nKHtcbiAgICAgIC4uLnBhcnRzLmltYWdlLmF0dHJzLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIGlkOiBkb20uZ2V0SW1hZ2VJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIFwiZGF0YS1zdGF0ZVwiOiBpc0xvYWRlZCA/IFwidmlzaWJsZVwiIDogXCJoaWRkZW5cIixcbiAgICAgIG9uTG9hZCgpIHtcbiAgICAgICAgc2VuZCh7IHR5cGU6IFwiSU1HLkxPQURFRFwiLCBzcmM6IFwiZWxlbWVudFwiIH0pO1xuICAgICAgfSxcbiAgICAgIG9uRXJyb3IoKSB7XG4gICAgICAgIHNlbmQoeyB0eXBlOiBcIklNRy5FUlJPUlwiLCBzcmM6IFwiZWxlbWVudFwiIH0pO1xuICAgICAgfSxcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIGdyaWRBcmVhOiBcIjEgLyAxIC8gMiAvIDJcIixcbiAgICAgICAgdmlzaWJpbGl0eTogIWlzTG9hZGVkID8gXCJoaWRkZW5cIiA6IHZvaWQgMFxuICAgICAgfVxuICAgIH0pLFxuICAgIGZhbGxiYWNrUHJvcHM6IG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgIC4uLnBhcnRzLmZhbGxiYWNrLmF0dHJzLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIGlkOiBkb20uZ2V0RmFsbGJhY2tJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIGhpZGRlbjogIXNob3dGYWxsYmFjayxcbiAgICAgIFwiZGF0YS1zdGF0ZVwiOiBpc0xvYWRlZCA/IFwiaGlkZGVuXCIgOiBcInZpc2libGVcIixcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIGdyaWRBcmVhOiBcIjEgLyAxIC8gMiAvIDJcIlxuICAgICAgfVxuICAgIH0pXG4gIH07XG59XG5cbi8vIHNyYy9hdmF0YXIubWFjaGluZS50c1xuaW1wb3J0IHsgY3JlYXRlTWFjaGluZSB9IGZyb20gXCJAemFnLWpzL2NvcmVcIjtcbmltcG9ydCB7IG9ic2VydmVBdHRyaWJ1dGVzLCBvYnNlcnZlQ2hpbGRyZW4gfSBmcm9tIFwiQHphZy1qcy9tdXRhdGlvbi1vYnNlcnZlclwiO1xuaW1wb3J0IHsgY29tcGFjdCB9IGZyb20gXCJAemFnLWpzL3V0aWxzXCI7XG5mdW5jdGlvbiBtYWNoaW5lKHVzZXJDb250ZXh0KSB7XG4gIGNvbnN0IGN0eCA9IGNvbXBhY3QodXNlckNvbnRleHQpO1xuICByZXR1cm4gY3JlYXRlTWFjaGluZShcbiAgICB7XG4gICAgICBpZDogXCJhdmF0YXJcIixcbiAgICAgIGluaXRpYWw6IFwibG9hZGluZ1wiLFxuICAgICAgYWN0aXZpdGllczogW1widHJhY2tJbWFnZVJlbW92YWxcIl0sXG4gICAgICBjb250ZXh0OiBjdHgsXG4gICAgICBvbjoge1xuICAgICAgICBcIlNSQy5DSEFOR0VcIjoge1xuICAgICAgICAgIHRhcmdldDogXCJsb2FkaW5nXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJJTUcuVU5NT1VOVFwiOiB7XG4gICAgICAgICAgdGFyZ2V0OiBcImVycm9yXCJcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHN0YXRlczoge1xuICAgICAgICBsb2FkaW5nOiB7XG4gICAgICAgICAgYWN0aXZpdGllczogW1widHJhY2tTcmNDaGFuZ2VcIl0sXG4gICAgICAgICAgZW50cnk6IFtcImNoZWNrSW1nU3RhdHVzXCJdLFxuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBcIklNRy5MT0FERURcIjoge1xuICAgICAgICAgICAgICB0YXJnZXQ6IFwibG9hZGVkXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcImludm9rZU9uTG9hZFwiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiSU1HLkVSUk9SXCI6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcImVycm9yXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcImludm9rZU9uRXJyb3JcIl1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgYWN0aXZpdGllczogW1widHJhY2tTcmNDaGFuZ2VcIl0sXG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIFwiSU1HLkxPQURFRFwiOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJsb2FkZWRcIixcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wiaW52b2tlT25Mb2FkXCJdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBsb2FkZWQ6IHtcbiAgICAgICAgICBhY3Rpdml0aWVzOiBbXCJ0cmFja1NyY0NoYW5nZVwiXSxcbiAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgXCJJTUcuRVJST1JcIjoge1xuICAgICAgICAgICAgICB0YXJnZXQ6IFwiZXJyb3JcIixcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wiaW52b2tlT25FcnJvclwiXVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgYWN0aXZpdGllczoge1xuICAgICAgICB0cmFja1NyY0NoYW5nZShjdHgyLCBfZXZ0LCB7IHNlbmQgfSkge1xuICAgICAgICAgIGNvbnN0IGltZyA9IGRvbS5nZXRJbWFnZUVsKGN0eDIpO1xuICAgICAgICAgIHJldHVybiBvYnNlcnZlQXR0cmlidXRlcyhpbWcsIFtcInNyY1wiLCBcInNyY3NldFwiXSwgKCkgPT4ge1xuICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwiU1JDLkNIQU5HRVwiIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICB0cmFja0ltYWdlUmVtb3ZhbChjdHgyLCBfZXZ0LCB7IHNlbmQgfSkge1xuICAgICAgICAgIGNvbnN0IHJvb3RFbCA9IGRvbS5nZXRSb290RWwoY3R4Mik7XG4gICAgICAgICAgcmV0dXJuIG9ic2VydmVDaGlsZHJlbihyb290RWwsIChyZWNvcmRzKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZW1vdmVkTm9kZXMgPSBBcnJheS5mcm9tKHJlY29yZHNbMF0ucmVtb3ZlZE5vZGVzKTtcbiAgICAgICAgICAgIGNvbnN0IHJlbW92ZWQgPSByZW1vdmVkTm9kZXMuZmluZCgobm9kZSkgPT4gbm9kZS5tYXRjaGVzKFwiW2RhdGEtc2NvcGU9YXZhdGFyXVtkYXRhLXBhcnQ9aW1hZ2VdXCIpKTtcbiAgICAgICAgICAgIGlmIChyZW1vdmVkKSB7XG4gICAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIklNRy5VTk1PVU5UXCIgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBhY3Rpb25zOiB7XG4gICAgICAgIGludm9rZU9uTG9hZChjdHgyKSB7XG4gICAgICAgICAgY3R4Mi5vbkxvYWRpbmdTdGF0dXNDaGFuZ2U/Lih7IHN0YXR1czogXCJsb2FkZWRcIiB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgaW52b2tlT25FcnJvcihjdHgyKSB7XG4gICAgICAgICAgY3R4Mi5vbkxvYWRpbmdTdGF0dXNDaGFuZ2U/Lih7IHN0YXR1czogXCJlcnJvclwiIH0pO1xuICAgICAgICB9LFxuICAgICAgICBjaGVja0ltZ1N0YXR1cyhjdHgyLCBfZXZ0LCB7IHNlbmQgfSkge1xuICAgICAgICAgIGNvbnN0IGltZyA9IGRvbS5nZXRJbWFnZUVsKGN0eDIpO1xuICAgICAgICAgIGlmIChpbWc/LmNvbXBsZXRlKSB7XG4gICAgICAgICAgICBjb25zdCB0eXBlID0gaW1nLmN1cnJlbnRTcmMgPyBcIklNRy5MT0FERURcIiA6IFwiSU1HLkVSUk9SXCI7XG4gICAgICAgICAgICBzZW5kKHsgdHlwZSwgc3JjOiBcInNzclwiIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgKTtcbn1cbmV4cG9ydCB7XG4gIGFuYXRvbXksXG4gIGNvbm5lY3QsXG4gIG1hY2hpbmVcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/avatar/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/carousel/dist/index.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@zag-js/carousel/dist/index.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   anatomy: () => (/* binding */ anatomy),\n/* harmony export */   connect: () => (/* binding */ connect),\n/* harmony export */   machine: () => (/* binding */ machine)\n/* harmony export */ });\n/* harmony import */ var _zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/anatomy */ \"(ssr)/./node_modules/@zag-js/anatomy/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @zag-js/dom-query */ \"(ssr)/./node_modules/@zag-js/dom-query/dist/index.mjs\");\n/* harmony import */ var _zag_js_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @zag-js/utils */ \"(ssr)/./node_modules/@zag-js/utils/dist/index.mjs\");\n/* harmony import */ var _zag_js_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @zag-js/core */ \"(ssr)/./node_modules/@zag-js/core/dist/index.mjs\");\n/* harmony import */ var _zag_js_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @zag-js/core */ \"(ssr)/./node_modules/@zag-js/store/dist/index.mjs\");\n// src/carousel.anatomy.ts\n\nvar anatomy = (0,_zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__.createAnatomy)(\"carousel\").parts(\n  \"root\",\n  \"viewport\",\n  \"itemGroup\",\n  \"item\",\n  \"nextTrigger\",\n  \"prevTrigger\",\n  \"indicatorGroup\",\n  \"indicator\"\n);\nvar parts = anatomy.build();\n\n// src/carousel.connect.ts\n\n\n// src/carousel.dom.ts\n\nvar dom = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.createScope)({\n  getRootId: (ctx) => ctx.ids?.root ?? `carousel:${ctx.id}`,\n  getViewportId: (ctx) => ctx.ids?.viewport ?? `carousel:${ctx.id}:viewport`,\n  getItemId: (ctx, index) => ctx.ids?.slide?.(index) ?? `carousel:${ctx.id}:slide:${index}`,\n  getItemGroupId: (ctx) => ctx.ids?.slideGroup ?? `carousel:${ctx.id}:slide-group`,\n  getNextTriggerId: (ctx) => ctx.ids?.nextSlideTrigger ?? `carousel:${ctx.id}:next-slide-trigger`,\n  getPrevTriggerId: (ctx) => ctx.ids?.prevSlideTrigger ?? `carousel:${ctx.id}:prev-slide-trigger`,\n  getIndicatorGroupId: (ctx) => ctx.ids?.indicatorGroup ?? `carousel:${ctx.id}:indicator-group`,\n  getIndicatorId: (ctx, index) => ctx.ids?.indicator?.(index) ?? `carousel:${ctx.id}:indicator:${index}`,\n  getRootEl: (ctx) => dom.getById(ctx, dom.getRootId(ctx)),\n  getViewportEl: (ctx) => dom.getById(ctx, dom.getViewportId(ctx)),\n  getSlideGroupEl: (ctx) => dom.getById(ctx, dom.getItemGroupId(ctx)),\n  getSlideEls: (ctx) => (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.queryAll)(dom.getSlideGroupEl(ctx), `[data-part=item]`)\n});\n\n// src/utils/get-limit.ts\nfunction getLimit(min, max) {\n  const length = Math.abs(min - max);\n  function reachedMin(n) {\n    return n < min;\n  }\n  function reachedMax(n) {\n    return n > max;\n  }\n  function reachedAny(n) {\n    return reachedMin(n) || reachedMax(n);\n  }\n  function constrain(n) {\n    if (!reachedAny(n))\n      return n;\n    return reachedMin(n) ? min : max;\n  }\n  function removeOffset(n) {\n    if (!length)\n      return n;\n    return n - length * Math.ceil((n - max) / length);\n  }\n  return {\n    length,\n    max,\n    min,\n    constrain,\n    reachedAny,\n    reachedMax,\n    reachedMin,\n    removeOffset\n  };\n}\n\n// src/utils/get-alignment.ts\n\nvar getAlignment = (align, containerSize) => {\n  const predefined = { start, center, end };\n  function start() {\n    return 0;\n  }\n  function center(n) {\n    return end(n) / 2;\n  }\n  function end(n) {\n    return containerSize - n;\n  }\n  function percent() {\n    return containerSize * Number(align);\n  }\n  return (n) => {\n    if ((0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.isNumber)(align))\n      return percent();\n    return predefined[align](n);\n  };\n};\n\n// src/utils/get-slide-groups.ts\n\nfunction getSlidesToScroll(containerSize, slideSizesWithGaps, slidesPerView) {\n  function byNumber(array, groupSize) {\n    return Array.from(array.keys()).filter((i) => i % groupSize === 0).map((i) => array.slice(i, i + groupSize));\n  }\n  function bySize(array) {\n    return Array.from(array.keys()).reduce((groups, i) => {\n      const chunk = slideSizesWithGaps.slice(groups.at(-1), i + 1);\n      const chunkSize = chunk.reduce((a, s) => a + s, 0);\n      return !i || chunkSize > containerSize ? groups.concat(i) : groups;\n    }, []).map((start, i, groups) => array.slice(start, groups[i + 1]));\n  }\n  return function groupSlides(array) {\n    return (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.isNumber)(slidesPerView) ? byNumber(array, slidesPerView) : bySize(array);\n  };\n}\n\n// src/utils/get-slide-sizes.ts\nfunction getSlideSizes(ctx) {\n  const startGap = measureStartGap();\n  function measureStartGap() {\n    if (!ctx.containerRect)\n      return 0;\n    const slideRect = ctx.slideRects[0];\n    return Math.abs(ctx.containerRect[ctx.startEdge] - slideRect[ctx.startEdge]);\n  }\n  function measureWithGaps() {\n    return ctx.slideRects.map((rect, index, rects) => {\n      const isFirst = !index;\n      if (isFirst)\n        return Math.abs(slideSizes[index] + startGap);\n      const isLast = index === rects.length - 1;\n      if (isLast)\n        return Math.abs(slideSizes[index]);\n      return Math.abs(rects[index + 1][ctx.startEdge] - rect[ctx.startEdge]);\n    });\n  }\n  const slideSizes = ctx.slideRects.map((slideRect) => {\n    return ctx.isVertical ? slideRect.height : slideRect.width;\n  });\n  const slideSizesWithGaps = measureWithGaps();\n  return {\n    slideSizes,\n    slideSizesWithGaps\n  };\n}\n\n// src/utils/get-scroll-snaps.ts\nvar arrayLast = (array) => array[arrayLastIndex(array)];\nvar arrayLastIndex = (array) => Math.max(0, array.length - 1);\nfunction getScrollSnaps(ctx) {\n  const { slideSizes, slideSizesWithGaps } = getSlideSizes(ctx);\n  const groupSlides = getSlidesToScroll(ctx.containerSize, slideSizesWithGaps, ctx.slidesPerView);\n  function measureSizes() {\n    return groupSlides(ctx.slideRects).map((rects) => arrayLast(rects)[ctx.endEdge] - rects[0][ctx.startEdge]).map(Math.abs);\n  }\n  function measureUnaligned() {\n    return ctx.slideRects.map((slideRect) => ctx.containerRect[ctx.startEdge] - slideRect[ctx.startEdge]).map((snap) => -Math.abs(snap));\n  }\n  function measureAligned() {\n    const measureFn = getAlignment(ctx.align, ctx.containerSize);\n    const alignments = measureSizes().map(measureFn);\n    return groupSlides(snaps).map((snap) => snap[0]).map((snap, index) => snap + alignments[index]);\n  }\n  const snaps = measureUnaligned();\n  const snapsAligned = measureAligned();\n  const contentSize = -arrayLast(snaps) + arrayLast(slideSizesWithGaps);\n  const scrollLimit = getLimit(snaps[snaps.length - 1], snaps[0]);\n  const scrollProgress = (snapsAligned[ctx.index] - scrollLimit.max) / -scrollLimit.length;\n  return {\n    snaps,\n    snapsAligned,\n    slideSizes,\n    slideSizesWithGaps,\n    contentSize,\n    scrollLimit,\n    scrollProgress: Math.abs(scrollProgress)\n  };\n}\n\n// src/utils/get-slide-in-view.ts\nvar slideThreshold = 0;\nfunction getSlidesInView(ctx) {\n  const roundingSafety = 0.5;\n  const slideOffsets = [0];\n  const { snaps, slideSizes, scrollLimit } = getScrollSnaps(ctx);\n  const slideThresholds = slideSizes.map((slideSize) => {\n    const thresholdLimit = getLimit(roundingSafety, slideSize - roundingSafety);\n    return thresholdLimit.constrain(slideSize * slideThreshold);\n  });\n  const slideBounds = slideOffsets.reduce((acc, offset) => {\n    const bounds = snaps.map((snap, index) => ({\n      start: snap - slideSizes[index] + slideThresholds[index] + offset,\n      end: snap + ctx.containerSize - slideThresholds[index] + offset,\n      index\n    }));\n    return acc.concat(bounds);\n  }, []);\n  return (location) => {\n    const loc = scrollLimit.constrain(location);\n    return slideBounds.reduce((list, bound) => {\n      const { index, start, end } = bound;\n      const inList = list.includes(index);\n      const inView = start < loc && end > loc;\n      return !inList && inView ? list.concat([index]) : list;\n    }, []);\n  };\n}\n\n// src/carousel.connect.ts\nfunction connect(state, send, normalize) {\n  const canScrollNext = state.context.canScrollNext;\n  const canScrollPrev = state.context.canScrollPrev;\n  const isHorizontal = state.context.isHorizontal;\n  const isAutoplay = state.matches(\"autoplay\");\n  const activeSnap = state.context.scrollSnaps[state.context.index];\n  const slidesInView = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.isDom)() ? getSlidesInView(state.context)(activeSnap) : [];\n  function getItemStateState(props) {\n    const { index } = props;\n    return {\n      valueText: `Slide ${index + 1}`,\n      isCurrent: index === state.context.index,\n      isNext: index === state.context.index + 1,\n      isPrevious: index === state.context.index - 1,\n      isInView: slidesInView.includes(index)\n    };\n  }\n  return {\n    index: state.context.index,\n    scrollProgress: state.context.scrollProgress,\n    isAutoplay,\n    canScrollNext,\n    canScrollPrev,\n    scrollTo(index, jump) {\n      send({ type: \"GOTO\", index, jump });\n    },\n    scrollToNext() {\n      send(\"NEXT\");\n    },\n    scrollToPrevious() {\n      send(\"PREV\");\n    },\n    getItemState: getItemStateState,\n    play() {\n      send(\"PLAY\");\n    },\n    pause() {\n      send(\"PAUSE\");\n    },\n    rootProps: normalize.element({\n      ...parts.root.attrs,\n      id: dom.getRootId(state.context),\n      role: \"region\",\n      \"aria-roledescription\": \"carousel\",\n      \"data-orientation\": state.context.orientation,\n      dir: state.context.dir,\n      \"aria-label\": \"Carousel\",\n      style: {\n        \"--slide-spacing\": state.context.spacing,\n        \"--slide-size\": `calc(100% / ${state.context.slidesPerView} - var(--slide-spacing))`\n      }\n    }),\n    viewportProps: normalize.element({\n      ...parts.viewport.attrs,\n      dir: state.context.dir,\n      id: dom.getViewportId(state.context),\n      \"data-orientation\": state.context.orientation\n    }),\n    itemGroupProps: normalize.element({\n      ...parts.itemGroup.attrs,\n      id: dom.getItemGroupId(state.context),\n      \"data-orientation\": state.context.orientation,\n      dir: state.context.dir,\n      style: {\n        display: \"flex\",\n        flexDirection: isHorizontal ? \"row\" : \"column\",\n        [isHorizontal ? \"height\" : \"width\"]: \"auto\",\n        gap: \"var(--slide-spacing)\",\n        transform: state.context.translateValue,\n        transitionProperty: \"transform\",\n        willChange: \"transform\",\n        transitionTimingFunction: \"cubic-bezier(0.4, 0, 0.2, 1)\",\n        transitionDuration: \"0.3s\"\n      }\n    }),\n    getItemProps(props) {\n      const { index } = props;\n      const sliderState = getItemStateState(props);\n      return normalize.element({\n        ...parts.item.attrs,\n        id: dom.getItemId(state.context, index),\n        dir: state.context.dir,\n        \"data-current\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(sliderState.isCurrent),\n        \"data-inview\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(sliderState.isInView),\n        role: \"group\",\n        \"aria-roledescription\": \"slide\",\n        \"data-orientation\": state.context.orientation,\n        \"aria-label\": sliderState.valueText,\n        style: {\n          position: \"relative\",\n          flex: \"0 0 var(--slide-size)\",\n          [isHorizontal ? \"minWidth\" : \"minHeight\"]: \"0px\"\n        }\n      });\n    },\n    prevTriggerProps: normalize.button({\n      ...parts.prevTrigger.attrs,\n      id: dom.getPrevTriggerId(state.context),\n      type: \"button\",\n      tabIndex: -1,\n      disabled: !canScrollPrev,\n      dir: state.context.dir,\n      \"aria-label\": \"Previous Slide\",\n      \"data-orientation\": state.context.orientation,\n      \"aria-controls\": dom.getItemGroupId(state.context),\n      onClick() {\n        send(\"PREV\");\n      }\n    }),\n    nextTriggerProps: normalize.button({\n      ...parts.nextTrigger.attrs,\n      dir: state.context.dir,\n      id: dom.getNextTriggerId(state.context),\n      type: \"button\",\n      tabIndex: -1,\n      \"aria-label\": \"Next Slide\",\n      \"data-orientation\": state.context.orientation,\n      \"aria-controls\": dom.getItemGroupId(state.context),\n      disabled: !canScrollNext,\n      onClick() {\n        send(\"NEXT\");\n      }\n    }),\n    indicatorGroupProps: normalize.element({\n      ...parts.indicatorGroup.attrs,\n      dir: state.context.dir,\n      id: dom.getIndicatorGroupId(state.context),\n      \"data-orientation\": state.context.orientation\n    }),\n    getIndicatorProps(props) {\n      const { index, readOnly } = props;\n      return normalize.button({\n        ...parts.indicator.attrs,\n        dir: state.context.dir,\n        id: dom.getIndicatorId(state.context, index),\n        type: \"button\",\n        \"data-orientation\": state.context.orientation,\n        \"data-index\": index,\n        \"data-readonly\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(readOnly),\n        \"data-current\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(index === state.context.index),\n        onClick() {\n          if (readOnly)\n            return;\n          send({ type: \"GOTO\", index });\n        }\n      });\n    }\n  };\n}\n\n// src/carousel.machine.ts\n\n\nfunction machine(userContext) {\n  const ctx = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.compact)(userContext);\n  return (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_3__.createMachine)(\n    {\n      id: \"carousel\",\n      initial: \"idle\",\n      context: {\n        index: 0,\n        orientation: \"horizontal\",\n        align: \"start\",\n        loop: false,\n        slidesPerView: 1,\n        spacing: \"0px\",\n        ...ctx,\n        scrollSnaps: [],\n        scrollProgress: 0,\n        containerSize: 0,\n        slideRects: []\n      },\n      watch: {\n        index: [\"setScrollSnaps\"]\n      },\n      on: {\n        NEXT: {\n          actions: [\"scrollToNext\"]\n        },\n        PREV: {\n          actions: [\"scrollToPrev\"]\n        },\n        GOTO: {\n          actions: [\"scrollTo\"]\n        },\n        MEASURE_DOM: {\n          actions: [\"measureElements\", \"setScrollSnaps\"]\n        },\n        PLAY: \"autoplay\"\n      },\n      states: {\n        idle: {\n          on: {\n            POINTER_DOWN: \"dragging\"\n          }\n        },\n        autoplay: {\n          activities: [\"trackDocumentVisibility\"],\n          every: {\n            2e3: [\"scrollToNext\"]\n          },\n          on: {\n            PAUSE: \"idle\"\n          }\n        },\n        dragging: {\n          on: {\n            POINTER_UP: \"idle\",\n            POINTER_MOVE: {\n              actions: [\"setScrollSnaps\"]\n            }\n          }\n        }\n      },\n      activities: [\"trackContainerResize\", \"trackSlideMutation\"],\n      entry: [\"measureElements\", \"setScrollSnaps\"],\n      computed: {\n        isRtl: (ctx2) => ctx2.dir === \"rtl\",\n        isHorizontal: (ctx2) => ctx2.orientation === \"horizontal\",\n        isVertical: (ctx2) => ctx2.orientation === \"vertical\",\n        canScrollNext: (ctx2) => ctx2.loop || ctx2.index < ctx2.scrollSnaps.length - 1,\n        canScrollPrev: (ctx2) => ctx2.loop || ctx2.index > 0,\n        startEdge(ctx2) {\n          if (ctx2.isVertical)\n            return \"top\";\n          return ctx2.isRtl ? \"right\" : \"left\";\n        },\n        endEdge(ctx2) {\n          if (ctx2.isVertical)\n            return \"bottom\";\n          return ctx2.isRtl ? \"left\" : \"right\";\n        },\n        translateValue: (ctx2) => {\n          const scrollSnap = ctx2.scrollSnaps[ctx2.index];\n          return ctx2.isHorizontal ? `translate3d(${scrollSnap}px, 0, 0)` : `translate3d(0, ${scrollSnap}px, 0)`;\n        }\n      }\n    },\n    {\n      activities: {\n        trackSlideMutation(ctx2, _evt, { send }) {\n          const slideGroupEl = dom.getSlideGroupEl(ctx2);\n          if (!slideGroupEl)\n            return;\n          const win = dom.getWin(ctx2);\n          const observer = new win.MutationObserver(() => {\n            send({ type: \"MEASURE_DOM\", src: \"mutation\" });\n          });\n          observer.observe(slideGroupEl, { childList: true });\n          return () => {\n            observer.disconnect();\n          };\n        },\n        trackContainerResize(ctx2, _evt, { send }) {\n          const slideGroupEl = dom.getSlideGroupEl(ctx2);\n          if (!slideGroupEl)\n            return;\n          const win = dom.getWin(ctx2);\n          const observer = new win.ResizeObserver((entries) => {\n            entries.forEach((entry) => {\n              if (entry.target === slideGroupEl) {\n                send({ type: \"MEASURE_DOM\", src: \"resize\" });\n              }\n            });\n          });\n          observer.observe(slideGroupEl);\n          return () => {\n            observer.disconnect();\n          };\n        },\n        trackDocumentVisibility(ctx2, _evt, { send }) {\n          const doc = dom.getDoc(ctx2);\n          const onVisibilityChange = () => {\n            if (doc.visibilityState !== \"visible\") {\n              send({ type: \"PAUSE\", src: \"document-hidden\" });\n            }\n          };\n          doc.addEventListener(\"visibilitychange\", onVisibilityChange);\n          return () => {\n            doc.removeEventListener(\"visibilitychange\", onVisibilityChange);\n          };\n        }\n      },\n      guards: {\n        loop: (ctx2) => ctx2.loop,\n        isLastSlide: (ctx2) => ctx2.index === ctx2.slideRects.length - 1,\n        isFirstSlide: (ctx2) => ctx2.index === 0\n      },\n      actions: {\n        scrollToNext(ctx2) {\n          const index = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.nextIndex)(ctx2.slideRects, ctx2.index);\n          set.index(ctx2, index);\n        },\n        scrollToPrev(ctx2) {\n          const index = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.prevIndex)(ctx2.slideRects, ctx2.index);\n          set.index(ctx2, index);\n        },\n        setScrollSnaps(ctx2) {\n          const { snapsAligned, scrollProgress } = getScrollSnaps(ctx2);\n          ctx2.scrollSnaps = snapsAligned;\n          ctx2.scrollProgress = scrollProgress;\n        },\n        scrollTo(ctx2, evt) {\n          const index = Math.max(0, Math.min(evt.index, ctx2.slideRects.length - 1));\n          set.index(ctx2, index);\n        },\n        measureElements\n      }\n    }\n  );\n}\nvar measureElements = (ctx) => {\n  const slideGroupEl = dom.getSlideGroupEl(ctx);\n  if (!slideGroupEl)\n    return;\n  ctx.containerRect = (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_4__.ref)(slideGroupEl.getBoundingClientRect());\n  ctx.containerSize = ctx.isHorizontal ? ctx.containerRect.width : ctx.containerRect.height;\n  ctx.slideRects = (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_4__.ref)(dom.getSlideEls(ctx).map((slide) => slide.getBoundingClientRect()));\n};\nvar invoke = {\n  change: (ctx) => {\n    ctx.onIndexChange?.({ index: ctx.index });\n  }\n};\nvar set = {\n  index: (ctx, index) => {\n    if ((0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.isEqual)(ctx.index, index))\n      return;\n    ctx.index = index;\n    invoke.change(ctx);\n  }\n};\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9jYXJvdXNlbC9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ2dEO0FBQ2hELGNBQWMsOERBQWE7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDb0Q7O0FBRXBEO0FBQzBEO0FBQzFELFVBQVUsOERBQVc7QUFDckIsbURBQW1ELE9BQU87QUFDMUQsMkRBQTJELE9BQU87QUFDbEUsb0VBQW9FLE9BQU8sU0FBUyxNQUFNO0FBQzFGLDhEQUE4RCxPQUFPO0FBQ3JFLHNFQUFzRSxPQUFPO0FBQzdFLHNFQUFzRSxPQUFPO0FBQzdFLHVFQUF1RSxPQUFPO0FBQzlFLDZFQUE2RSxPQUFPLGFBQWEsTUFBTTtBQUN2RztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsMkRBQVE7QUFDaEMsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDeUM7QUFDekM7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVEQUFRO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ3NEO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsV0FBVyx1REFBUztBQUNwQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUFDQTtBQUNBO0FBQ0E7QUFLRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBhcmstdWkvZXhhbXBsZXMtcmVhY3QtbmV4dC1qcy8uL25vZGVfbW9kdWxlcy9AemFnLWpzL2Nhcm91c2VsL2Rpc3QvaW5kZXgubWpzPzk0NDMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2Nhcm91c2VsLmFuYXRvbXkudHNcbmltcG9ydCB7IGNyZWF0ZUFuYXRvbXkgfSBmcm9tIFwiQHphZy1qcy9hbmF0b215XCI7XG52YXIgYW5hdG9teSA9IGNyZWF0ZUFuYXRvbXkoXCJjYXJvdXNlbFwiKS5wYXJ0cyhcbiAgXCJyb290XCIsXG4gIFwidmlld3BvcnRcIixcbiAgXCJpdGVtR3JvdXBcIixcbiAgXCJpdGVtXCIsXG4gIFwibmV4dFRyaWdnZXJcIixcbiAgXCJwcmV2VHJpZ2dlclwiLFxuICBcImluZGljYXRvckdyb3VwXCIsXG4gIFwiaW5kaWNhdG9yXCJcbik7XG52YXIgcGFydHMgPSBhbmF0b215LmJ1aWxkKCk7XG5cbi8vIHNyYy9jYXJvdXNlbC5jb25uZWN0LnRzXG5pbXBvcnQgeyBkYXRhQXR0ciwgaXNEb20gfSBmcm9tIFwiQHphZy1qcy9kb20tcXVlcnlcIjtcblxuLy8gc3JjL2Nhcm91c2VsLmRvbS50c1xuaW1wb3J0IHsgY3JlYXRlU2NvcGUsIHF1ZXJ5QWxsIH0gZnJvbSBcIkB6YWctanMvZG9tLXF1ZXJ5XCI7XG52YXIgZG9tID0gY3JlYXRlU2NvcGUoe1xuICBnZXRSb290SWQ6IChjdHgpID0+IGN0eC5pZHM/LnJvb3QgPz8gYGNhcm91c2VsOiR7Y3R4LmlkfWAsXG4gIGdldFZpZXdwb3J0SWQ6IChjdHgpID0+IGN0eC5pZHM/LnZpZXdwb3J0ID8/IGBjYXJvdXNlbDoke2N0eC5pZH06dmlld3BvcnRgLFxuICBnZXRJdGVtSWQ6IChjdHgsIGluZGV4KSA9PiBjdHguaWRzPy5zbGlkZT8uKGluZGV4KSA/PyBgY2Fyb3VzZWw6JHtjdHguaWR9OnNsaWRlOiR7aW5kZXh9YCxcbiAgZ2V0SXRlbUdyb3VwSWQ6IChjdHgpID0+IGN0eC5pZHM/LnNsaWRlR3JvdXAgPz8gYGNhcm91c2VsOiR7Y3R4LmlkfTpzbGlkZS1ncm91cGAsXG4gIGdldE5leHRUcmlnZ2VySWQ6IChjdHgpID0+IGN0eC5pZHM/Lm5leHRTbGlkZVRyaWdnZXIgPz8gYGNhcm91c2VsOiR7Y3R4LmlkfTpuZXh0LXNsaWRlLXRyaWdnZXJgLFxuICBnZXRQcmV2VHJpZ2dlcklkOiAoY3R4KSA9PiBjdHguaWRzPy5wcmV2U2xpZGVUcmlnZ2VyID8/IGBjYXJvdXNlbDoke2N0eC5pZH06cHJldi1zbGlkZS10cmlnZ2VyYCxcbiAgZ2V0SW5kaWNhdG9yR3JvdXBJZDogKGN0eCkgPT4gY3R4Lmlkcz8uaW5kaWNhdG9yR3JvdXAgPz8gYGNhcm91c2VsOiR7Y3R4LmlkfTppbmRpY2F0b3ItZ3JvdXBgLFxuICBnZXRJbmRpY2F0b3JJZDogKGN0eCwgaW5kZXgpID0+IGN0eC5pZHM/LmluZGljYXRvcj8uKGluZGV4KSA/PyBgY2Fyb3VzZWw6JHtjdHguaWR9OmluZGljYXRvcjoke2luZGV4fWAsXG4gIGdldFJvb3RFbDogKGN0eCkgPT4gZG9tLmdldEJ5SWQoY3R4LCBkb20uZ2V0Um9vdElkKGN0eCkpLFxuICBnZXRWaWV3cG9ydEVsOiAoY3R4KSA9PiBkb20uZ2V0QnlJZChjdHgsIGRvbS5nZXRWaWV3cG9ydElkKGN0eCkpLFxuICBnZXRTbGlkZUdyb3VwRWw6IChjdHgpID0+IGRvbS5nZXRCeUlkKGN0eCwgZG9tLmdldEl0ZW1Hcm91cElkKGN0eCkpLFxuICBnZXRTbGlkZUVsczogKGN0eCkgPT4gcXVlcnlBbGwoZG9tLmdldFNsaWRlR3JvdXBFbChjdHgpLCBgW2RhdGEtcGFydD1pdGVtXWApXG59KTtcblxuLy8gc3JjL3V0aWxzL2dldC1saW1pdC50c1xuZnVuY3Rpb24gZ2V0TGltaXQobWluLCBtYXgpIHtcbiAgY29uc3QgbGVuZ3RoID0gTWF0aC5hYnMobWluIC0gbWF4KTtcbiAgZnVuY3Rpb24gcmVhY2hlZE1pbihuKSB7XG4gICAgcmV0dXJuIG4gPCBtaW47XG4gIH1cbiAgZnVuY3Rpb24gcmVhY2hlZE1heChuKSB7XG4gICAgcmV0dXJuIG4gPiBtYXg7XG4gIH1cbiAgZnVuY3Rpb24gcmVhY2hlZEFueShuKSB7XG4gICAgcmV0dXJuIHJlYWNoZWRNaW4obikgfHwgcmVhY2hlZE1heChuKTtcbiAgfVxuICBmdW5jdGlvbiBjb25zdHJhaW4obikge1xuICAgIGlmICghcmVhY2hlZEFueShuKSlcbiAgICAgIHJldHVybiBuO1xuICAgIHJldHVybiByZWFjaGVkTWluKG4pID8gbWluIDogbWF4O1xuICB9XG4gIGZ1bmN0aW9uIHJlbW92ZU9mZnNldChuKSB7XG4gICAgaWYgKCFsZW5ndGgpXG4gICAgICByZXR1cm4gbjtcbiAgICByZXR1cm4gbiAtIGxlbmd0aCAqIE1hdGguY2VpbCgobiAtIG1heCkgLyBsZW5ndGgpO1xuICB9XG4gIHJldHVybiB7XG4gICAgbGVuZ3RoLFxuICAgIG1heCxcbiAgICBtaW4sXG4gICAgY29uc3RyYWluLFxuICAgIHJlYWNoZWRBbnksXG4gICAgcmVhY2hlZE1heCxcbiAgICByZWFjaGVkTWluLFxuICAgIHJlbW92ZU9mZnNldFxuICB9O1xufVxuXG4vLyBzcmMvdXRpbHMvZ2V0LWFsaWdubWVudC50c1xuaW1wb3J0IHsgaXNOdW1iZXIgfSBmcm9tIFwiQHphZy1qcy91dGlsc1wiO1xudmFyIGdldEFsaWdubWVudCA9IChhbGlnbiwgY29udGFpbmVyU2l6ZSkgPT4ge1xuICBjb25zdCBwcmVkZWZpbmVkID0geyBzdGFydCwgY2VudGVyLCBlbmQgfTtcbiAgZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgZnVuY3Rpb24gY2VudGVyKG4pIHtcbiAgICByZXR1cm4gZW5kKG4pIC8gMjtcbiAgfVxuICBmdW5jdGlvbiBlbmQobikge1xuICAgIHJldHVybiBjb250YWluZXJTaXplIC0gbjtcbiAgfVxuICBmdW5jdGlvbiBwZXJjZW50KCkge1xuICAgIHJldHVybiBjb250YWluZXJTaXplICogTnVtYmVyKGFsaWduKTtcbiAgfVxuICByZXR1cm4gKG4pID0+IHtcbiAgICBpZiAoaXNOdW1iZXIoYWxpZ24pKVxuICAgICAgcmV0dXJuIHBlcmNlbnQoKTtcbiAgICByZXR1cm4gcHJlZGVmaW5lZFthbGlnbl0obik7XG4gIH07XG59O1xuXG4vLyBzcmMvdXRpbHMvZ2V0LXNsaWRlLWdyb3Vwcy50c1xuaW1wb3J0IHsgaXNOdW1iZXIgYXMgaXNOdW1iZXIyIH0gZnJvbSBcIkB6YWctanMvdXRpbHNcIjtcbmZ1bmN0aW9uIGdldFNsaWRlc1RvU2Nyb2xsKGNvbnRhaW5lclNpemUsIHNsaWRlU2l6ZXNXaXRoR2Fwcywgc2xpZGVzUGVyVmlldykge1xuICBmdW5jdGlvbiBieU51bWJlcihhcnJheSwgZ3JvdXBTaXplKSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oYXJyYXkua2V5cygpKS5maWx0ZXIoKGkpID0+IGkgJSBncm91cFNpemUgPT09IDApLm1hcCgoaSkgPT4gYXJyYXkuc2xpY2UoaSwgaSArIGdyb3VwU2l6ZSkpO1xuICB9XG4gIGZ1bmN0aW9uIGJ5U2l6ZShhcnJheSkge1xuICAgIHJldHVybiBBcnJheS5mcm9tKGFycmF5LmtleXMoKSkucmVkdWNlKChncm91cHMsIGkpID0+IHtcbiAgICAgIGNvbnN0IGNodW5rID0gc2xpZGVTaXplc1dpdGhHYXBzLnNsaWNlKGdyb3Vwcy5hdCgtMSksIGkgKyAxKTtcbiAgICAgIGNvbnN0IGNodW5rU2l6ZSA9IGNodW5rLnJlZHVjZSgoYSwgcykgPT4gYSArIHMsIDApO1xuICAgICAgcmV0dXJuICFpIHx8IGNodW5rU2l6ZSA+IGNvbnRhaW5lclNpemUgPyBncm91cHMuY29uY2F0KGkpIDogZ3JvdXBzO1xuICAgIH0sIFtdKS5tYXAoKHN0YXJ0LCBpLCBncm91cHMpID0+IGFycmF5LnNsaWNlKHN0YXJ0LCBncm91cHNbaSArIDFdKSk7XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uIGdyb3VwU2xpZGVzKGFycmF5KSB7XG4gICAgcmV0dXJuIGlzTnVtYmVyMihzbGlkZXNQZXJWaWV3KSA/IGJ5TnVtYmVyKGFycmF5LCBzbGlkZXNQZXJWaWV3KSA6IGJ5U2l6ZShhcnJheSk7XG4gIH07XG59XG5cbi8vIHNyYy91dGlscy9nZXQtc2xpZGUtc2l6ZXMudHNcbmZ1bmN0aW9uIGdldFNsaWRlU2l6ZXMoY3R4KSB7XG4gIGNvbnN0IHN0YXJ0R2FwID0gbWVhc3VyZVN0YXJ0R2FwKCk7XG4gIGZ1bmN0aW9uIG1lYXN1cmVTdGFydEdhcCgpIHtcbiAgICBpZiAoIWN0eC5jb250YWluZXJSZWN0KVxuICAgICAgcmV0dXJuIDA7XG4gICAgY29uc3Qgc2xpZGVSZWN0ID0gY3R4LnNsaWRlUmVjdHNbMF07XG4gICAgcmV0dXJuIE1hdGguYWJzKGN0eC5jb250YWluZXJSZWN0W2N0eC5zdGFydEVkZ2VdIC0gc2xpZGVSZWN0W2N0eC5zdGFydEVkZ2VdKTtcbiAgfVxuICBmdW5jdGlvbiBtZWFzdXJlV2l0aEdhcHMoKSB7XG4gICAgcmV0dXJuIGN0eC5zbGlkZVJlY3RzLm1hcCgocmVjdCwgaW5kZXgsIHJlY3RzKSA9PiB7XG4gICAgICBjb25zdCBpc0ZpcnN0ID0gIWluZGV4O1xuICAgICAgaWYgKGlzRmlyc3QpXG4gICAgICAgIHJldHVybiBNYXRoLmFicyhzbGlkZVNpemVzW2luZGV4XSArIHN0YXJ0R2FwKTtcbiAgICAgIGNvbnN0IGlzTGFzdCA9IGluZGV4ID09PSByZWN0cy5sZW5ndGggLSAxO1xuICAgICAgaWYgKGlzTGFzdClcbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKHNsaWRlU2l6ZXNbaW5kZXhdKTtcbiAgICAgIHJldHVybiBNYXRoLmFicyhyZWN0c1tpbmRleCArIDFdW2N0eC5zdGFydEVkZ2VdIC0gcmVjdFtjdHguc3RhcnRFZGdlXSk7XG4gICAgfSk7XG4gIH1cbiAgY29uc3Qgc2xpZGVTaXplcyA9IGN0eC5zbGlkZVJlY3RzLm1hcCgoc2xpZGVSZWN0KSA9PiB7XG4gICAgcmV0dXJuIGN0eC5pc1ZlcnRpY2FsID8gc2xpZGVSZWN0LmhlaWdodCA6IHNsaWRlUmVjdC53aWR0aDtcbiAgfSk7XG4gIGNvbnN0IHNsaWRlU2l6ZXNXaXRoR2FwcyA9IG1lYXN1cmVXaXRoR2FwcygpO1xuICByZXR1cm4ge1xuICAgIHNsaWRlU2l6ZXMsXG4gICAgc2xpZGVTaXplc1dpdGhHYXBzXG4gIH07XG59XG5cbi8vIHNyYy91dGlscy9nZXQtc2Nyb2xsLXNuYXBzLnRzXG52YXIgYXJyYXlMYXN0ID0gKGFycmF5KSA9PiBhcnJheVthcnJheUxhc3RJbmRleChhcnJheSldO1xudmFyIGFycmF5TGFzdEluZGV4ID0gKGFycmF5KSA9PiBNYXRoLm1heCgwLCBhcnJheS5sZW5ndGggLSAxKTtcbmZ1bmN0aW9uIGdldFNjcm9sbFNuYXBzKGN0eCkge1xuICBjb25zdCB7IHNsaWRlU2l6ZXMsIHNsaWRlU2l6ZXNXaXRoR2FwcyB9ID0gZ2V0U2xpZGVTaXplcyhjdHgpO1xuICBjb25zdCBncm91cFNsaWRlcyA9IGdldFNsaWRlc1RvU2Nyb2xsKGN0eC5jb250YWluZXJTaXplLCBzbGlkZVNpemVzV2l0aEdhcHMsIGN0eC5zbGlkZXNQZXJWaWV3KTtcbiAgZnVuY3Rpb24gbWVhc3VyZVNpemVzKCkge1xuICAgIHJldHVybiBncm91cFNsaWRlcyhjdHguc2xpZGVSZWN0cykubWFwKChyZWN0cykgPT4gYXJyYXlMYXN0KHJlY3RzKVtjdHguZW5kRWRnZV0gLSByZWN0c1swXVtjdHguc3RhcnRFZGdlXSkubWFwKE1hdGguYWJzKTtcbiAgfVxuICBmdW5jdGlvbiBtZWFzdXJlVW5hbGlnbmVkKCkge1xuICAgIHJldHVybiBjdHguc2xpZGVSZWN0cy5tYXAoKHNsaWRlUmVjdCkgPT4gY3R4LmNvbnRhaW5lclJlY3RbY3R4LnN0YXJ0RWRnZV0gLSBzbGlkZVJlY3RbY3R4LnN0YXJ0RWRnZV0pLm1hcCgoc25hcCkgPT4gLU1hdGguYWJzKHNuYXApKTtcbiAgfVxuICBmdW5jdGlvbiBtZWFzdXJlQWxpZ25lZCgpIHtcbiAgICBjb25zdCBtZWFzdXJlRm4gPSBnZXRBbGlnbm1lbnQoY3R4LmFsaWduLCBjdHguY29udGFpbmVyU2l6ZSk7XG4gICAgY29uc3QgYWxpZ25tZW50cyA9IG1lYXN1cmVTaXplcygpLm1hcChtZWFzdXJlRm4pO1xuICAgIHJldHVybiBncm91cFNsaWRlcyhzbmFwcykubWFwKChzbmFwKSA9PiBzbmFwWzBdKS5tYXAoKHNuYXAsIGluZGV4KSA9PiBzbmFwICsgYWxpZ25tZW50c1tpbmRleF0pO1xuICB9XG4gIGNvbnN0IHNuYXBzID0gbWVhc3VyZVVuYWxpZ25lZCgpO1xuICBjb25zdCBzbmFwc0FsaWduZWQgPSBtZWFzdXJlQWxpZ25lZCgpO1xuICBjb25zdCBjb250ZW50U2l6ZSA9IC1hcnJheUxhc3Qoc25hcHMpICsgYXJyYXlMYXN0KHNsaWRlU2l6ZXNXaXRoR2Fwcyk7XG4gIGNvbnN0IHNjcm9sbExpbWl0ID0gZ2V0TGltaXQoc25hcHNbc25hcHMubGVuZ3RoIC0gMV0sIHNuYXBzWzBdKTtcbiAgY29uc3Qgc2Nyb2xsUHJvZ3Jlc3MgPSAoc25hcHNBbGlnbmVkW2N0eC5pbmRleF0gLSBzY3JvbGxMaW1pdC5tYXgpIC8gLXNjcm9sbExpbWl0Lmxlbmd0aDtcbiAgcmV0dXJuIHtcbiAgICBzbmFwcyxcbiAgICBzbmFwc0FsaWduZWQsXG4gICAgc2xpZGVTaXplcyxcbiAgICBzbGlkZVNpemVzV2l0aEdhcHMsXG4gICAgY29udGVudFNpemUsXG4gICAgc2Nyb2xsTGltaXQsXG4gICAgc2Nyb2xsUHJvZ3Jlc3M6IE1hdGguYWJzKHNjcm9sbFByb2dyZXNzKVxuICB9O1xufVxuXG4vLyBzcmMvdXRpbHMvZ2V0LXNsaWRlLWluLXZpZXcudHNcbnZhciBzbGlkZVRocmVzaG9sZCA9IDA7XG5mdW5jdGlvbiBnZXRTbGlkZXNJblZpZXcoY3R4KSB7XG4gIGNvbnN0IHJvdW5kaW5nU2FmZXR5ID0gMC41O1xuICBjb25zdCBzbGlkZU9mZnNldHMgPSBbMF07XG4gIGNvbnN0IHsgc25hcHMsIHNsaWRlU2l6ZXMsIHNjcm9sbExpbWl0IH0gPSBnZXRTY3JvbGxTbmFwcyhjdHgpO1xuICBjb25zdCBzbGlkZVRocmVzaG9sZHMgPSBzbGlkZVNpemVzLm1hcCgoc2xpZGVTaXplKSA9PiB7XG4gICAgY29uc3QgdGhyZXNob2xkTGltaXQgPSBnZXRMaW1pdChyb3VuZGluZ1NhZmV0eSwgc2xpZGVTaXplIC0gcm91bmRpbmdTYWZldHkpO1xuICAgIHJldHVybiB0aHJlc2hvbGRMaW1pdC5jb25zdHJhaW4oc2xpZGVTaXplICogc2xpZGVUaHJlc2hvbGQpO1xuICB9KTtcbiAgY29uc3Qgc2xpZGVCb3VuZHMgPSBzbGlkZU9mZnNldHMucmVkdWNlKChhY2MsIG9mZnNldCkgPT4ge1xuICAgIGNvbnN0IGJvdW5kcyA9IHNuYXBzLm1hcCgoc25hcCwgaW5kZXgpID0+ICh7XG4gICAgICBzdGFydDogc25hcCAtIHNsaWRlU2l6ZXNbaW5kZXhdICsgc2xpZGVUaHJlc2hvbGRzW2luZGV4XSArIG9mZnNldCxcbiAgICAgIGVuZDogc25hcCArIGN0eC5jb250YWluZXJTaXplIC0gc2xpZGVUaHJlc2hvbGRzW2luZGV4XSArIG9mZnNldCxcbiAgICAgIGluZGV4XG4gICAgfSkpO1xuICAgIHJldHVybiBhY2MuY29uY2F0KGJvdW5kcyk7XG4gIH0sIFtdKTtcbiAgcmV0dXJuIChsb2NhdGlvbikgPT4ge1xuICAgIGNvbnN0IGxvYyA9IHNjcm9sbExpbWl0LmNvbnN0cmFpbihsb2NhdGlvbik7XG4gICAgcmV0dXJuIHNsaWRlQm91bmRzLnJlZHVjZSgobGlzdCwgYm91bmQpID0+IHtcbiAgICAgIGNvbnN0IHsgaW5kZXgsIHN0YXJ0LCBlbmQgfSA9IGJvdW5kO1xuICAgICAgY29uc3QgaW5MaXN0ID0gbGlzdC5pbmNsdWRlcyhpbmRleCk7XG4gICAgICBjb25zdCBpblZpZXcgPSBzdGFydCA8IGxvYyAmJiBlbmQgPiBsb2M7XG4gICAgICByZXR1cm4gIWluTGlzdCAmJiBpblZpZXcgPyBsaXN0LmNvbmNhdChbaW5kZXhdKSA6IGxpc3Q7XG4gICAgfSwgW10pO1xuICB9O1xufVxuXG4vLyBzcmMvY2Fyb3VzZWwuY29ubmVjdC50c1xuZnVuY3Rpb24gY29ubmVjdChzdGF0ZSwgc2VuZCwgbm9ybWFsaXplKSB7XG4gIGNvbnN0IGNhblNjcm9sbE5leHQgPSBzdGF0ZS5jb250ZXh0LmNhblNjcm9sbE5leHQ7XG4gIGNvbnN0IGNhblNjcm9sbFByZXYgPSBzdGF0ZS5jb250ZXh0LmNhblNjcm9sbFByZXY7XG4gIGNvbnN0IGlzSG9yaXpvbnRhbCA9IHN0YXRlLmNvbnRleHQuaXNIb3Jpem9udGFsO1xuICBjb25zdCBpc0F1dG9wbGF5ID0gc3RhdGUubWF0Y2hlcyhcImF1dG9wbGF5XCIpO1xuICBjb25zdCBhY3RpdmVTbmFwID0gc3RhdGUuY29udGV4dC5zY3JvbGxTbmFwc1tzdGF0ZS5jb250ZXh0LmluZGV4XTtcbiAgY29uc3Qgc2xpZGVzSW5WaWV3ID0gaXNEb20oKSA/IGdldFNsaWRlc0luVmlldyhzdGF0ZS5jb250ZXh0KShhY3RpdmVTbmFwKSA6IFtdO1xuICBmdW5jdGlvbiBnZXRJdGVtU3RhdGVTdGF0ZShwcm9wcykge1xuICAgIGNvbnN0IHsgaW5kZXggfSA9IHByb3BzO1xuICAgIHJldHVybiB7XG4gICAgICB2YWx1ZVRleHQ6IGBTbGlkZSAke2luZGV4ICsgMX1gLFxuICAgICAgaXNDdXJyZW50OiBpbmRleCA9PT0gc3RhdGUuY29udGV4dC5pbmRleCxcbiAgICAgIGlzTmV4dDogaW5kZXggPT09IHN0YXRlLmNvbnRleHQuaW5kZXggKyAxLFxuICAgICAgaXNQcmV2aW91czogaW5kZXggPT09IHN0YXRlLmNvbnRleHQuaW5kZXggLSAxLFxuICAgICAgaXNJblZpZXc6IHNsaWRlc0luVmlldy5pbmNsdWRlcyhpbmRleClcbiAgICB9O1xuICB9XG4gIHJldHVybiB7XG4gICAgaW5kZXg6IHN0YXRlLmNvbnRleHQuaW5kZXgsXG4gICAgc2Nyb2xsUHJvZ3Jlc3M6IHN0YXRlLmNvbnRleHQuc2Nyb2xsUHJvZ3Jlc3MsXG4gICAgaXNBdXRvcGxheSxcbiAgICBjYW5TY3JvbGxOZXh0LFxuICAgIGNhblNjcm9sbFByZXYsXG4gICAgc2Nyb2xsVG8oaW5kZXgsIGp1bXApIHtcbiAgICAgIHNlbmQoeyB0eXBlOiBcIkdPVE9cIiwgaW5kZXgsIGp1bXAgfSk7XG4gICAgfSxcbiAgICBzY3JvbGxUb05leHQoKSB7XG4gICAgICBzZW5kKFwiTkVYVFwiKTtcbiAgICB9LFxuICAgIHNjcm9sbFRvUHJldmlvdXMoKSB7XG4gICAgICBzZW5kKFwiUFJFVlwiKTtcbiAgICB9LFxuICAgIGdldEl0ZW1TdGF0ZTogZ2V0SXRlbVN0YXRlU3RhdGUsXG4gICAgcGxheSgpIHtcbiAgICAgIHNlbmQoXCJQTEFZXCIpO1xuICAgIH0sXG4gICAgcGF1c2UoKSB7XG4gICAgICBzZW5kKFwiUEFVU0VcIik7XG4gICAgfSxcbiAgICByb290UHJvcHM6IG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgIC4uLnBhcnRzLnJvb3QuYXR0cnMsXG4gICAgICBpZDogZG9tLmdldFJvb3RJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIHJvbGU6IFwicmVnaW9uXCIsXG4gICAgICBcImFyaWEtcm9sZWRlc2NyaXB0aW9uXCI6IFwiY2Fyb3VzZWxcIixcbiAgICAgIFwiZGF0YS1vcmllbnRhdGlvblwiOiBzdGF0ZS5jb250ZXh0Lm9yaWVudGF0aW9uLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIFwiYXJpYS1sYWJlbFwiOiBcIkNhcm91c2VsXCIsXG4gICAgICBzdHlsZToge1xuICAgICAgICBcIi0tc2xpZGUtc3BhY2luZ1wiOiBzdGF0ZS5jb250ZXh0LnNwYWNpbmcsXG4gICAgICAgIFwiLS1zbGlkZS1zaXplXCI6IGBjYWxjKDEwMCUgLyAke3N0YXRlLmNvbnRleHQuc2xpZGVzUGVyVmlld30gLSB2YXIoLS1zbGlkZS1zcGFjaW5nKSlgXG4gICAgICB9XG4gICAgfSksXG4gICAgdmlld3BvcnRQcm9wczogbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgLi4ucGFydHMudmlld3BvcnQuYXR0cnMsXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgaWQ6IGRvbS5nZXRWaWV3cG9ydElkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgXCJkYXRhLW9yaWVudGF0aW9uXCI6IHN0YXRlLmNvbnRleHQub3JpZW50YXRpb25cbiAgICB9KSxcbiAgICBpdGVtR3JvdXBQcm9wczogbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgLi4ucGFydHMuaXRlbUdyb3VwLmF0dHJzLFxuICAgICAgaWQ6IGRvbS5nZXRJdGVtR3JvdXBJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIFwiZGF0YS1vcmllbnRhdGlvblwiOiBzdGF0ZS5jb250ZXh0Lm9yaWVudGF0aW9uLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICBmbGV4RGlyZWN0aW9uOiBpc0hvcml6b250YWwgPyBcInJvd1wiIDogXCJjb2x1bW5cIixcbiAgICAgICAgW2lzSG9yaXpvbnRhbCA/IFwiaGVpZ2h0XCIgOiBcIndpZHRoXCJdOiBcImF1dG9cIixcbiAgICAgICAgZ2FwOiBcInZhcigtLXNsaWRlLXNwYWNpbmcpXCIsXG4gICAgICAgIHRyYW5zZm9ybTogc3RhdGUuY29udGV4dC50cmFuc2xhdGVWYWx1ZSxcbiAgICAgICAgdHJhbnNpdGlvblByb3BlcnR5OiBcInRyYW5zZm9ybVwiLFxuICAgICAgICB3aWxsQ2hhbmdlOiBcInRyYW5zZm9ybVwiLFxuICAgICAgICB0cmFuc2l0aW9uVGltaW5nRnVuY3Rpb246IFwiY3ViaWMtYmV6aWVyKDAuNCwgMCwgMC4yLCAxKVwiLFxuICAgICAgICB0cmFuc2l0aW9uRHVyYXRpb246IFwiMC4zc1wiXG4gICAgICB9XG4gICAgfSksXG4gICAgZ2V0SXRlbVByb3BzKHByb3BzKSB7XG4gICAgICBjb25zdCB7IGluZGV4IH0gPSBwcm9wcztcbiAgICAgIGNvbnN0IHNsaWRlclN0YXRlID0gZ2V0SXRlbVN0YXRlU3RhdGUocHJvcHMpO1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgICAgLi4ucGFydHMuaXRlbS5hdHRycyxcbiAgICAgICAgaWQ6IGRvbS5nZXRJdGVtSWQoc3RhdGUuY29udGV4dCwgaW5kZXgpLFxuICAgICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgICBcImRhdGEtY3VycmVudFwiOiBkYXRhQXR0cihzbGlkZXJTdGF0ZS5pc0N1cnJlbnQpLFxuICAgICAgICBcImRhdGEtaW52aWV3XCI6IGRhdGFBdHRyKHNsaWRlclN0YXRlLmlzSW5WaWV3KSxcbiAgICAgICAgcm9sZTogXCJncm91cFwiLFxuICAgICAgICBcImFyaWEtcm9sZWRlc2NyaXB0aW9uXCI6IFwic2xpZGVcIixcbiAgICAgICAgXCJkYXRhLW9yaWVudGF0aW9uXCI6IHN0YXRlLmNvbnRleHQub3JpZW50YXRpb24sXG4gICAgICAgIFwiYXJpYS1sYWJlbFwiOiBzbGlkZXJTdGF0ZS52YWx1ZVRleHQsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICAgICAgICBmbGV4OiBcIjAgMCB2YXIoLS1zbGlkZS1zaXplKVwiLFxuICAgICAgICAgIFtpc0hvcml6b250YWwgPyBcIm1pbldpZHRoXCIgOiBcIm1pbkhlaWdodFwiXTogXCIwcHhcIlxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIHByZXZUcmlnZ2VyUHJvcHM6IG5vcm1hbGl6ZS5idXR0b24oe1xuICAgICAgLi4ucGFydHMucHJldlRyaWdnZXIuYXR0cnMsXG4gICAgICBpZDogZG9tLmdldFByZXZUcmlnZ2VySWQoc3RhdGUuY29udGV4dCksXG4gICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgdGFiSW5kZXg6IC0xLFxuICAgICAgZGlzYWJsZWQ6ICFjYW5TY3JvbGxQcmV2LFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIFwiYXJpYS1sYWJlbFwiOiBcIlByZXZpb3VzIFNsaWRlXCIsXG4gICAgICBcImRhdGEtb3JpZW50YXRpb25cIjogc3RhdGUuY29udGV4dC5vcmllbnRhdGlvbixcbiAgICAgIFwiYXJpYS1jb250cm9sc1wiOiBkb20uZ2V0SXRlbUdyb3VwSWQoc3RhdGUuY29udGV4dCksXG4gICAgICBvbkNsaWNrKCkge1xuICAgICAgICBzZW5kKFwiUFJFVlwiKTtcbiAgICAgIH1cbiAgICB9KSxcbiAgICBuZXh0VHJpZ2dlclByb3BzOiBub3JtYWxpemUuYnV0dG9uKHtcbiAgICAgIC4uLnBhcnRzLm5leHRUcmlnZ2VyLmF0dHJzLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIGlkOiBkb20uZ2V0TmV4dFRyaWdnZXJJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICB0YWJJbmRleDogLTEsXG4gICAgICBcImFyaWEtbGFiZWxcIjogXCJOZXh0IFNsaWRlXCIsXG4gICAgICBcImRhdGEtb3JpZW50YXRpb25cIjogc3RhdGUuY29udGV4dC5vcmllbnRhdGlvbixcbiAgICAgIFwiYXJpYS1jb250cm9sc1wiOiBkb20uZ2V0SXRlbUdyb3VwSWQoc3RhdGUuY29udGV4dCksXG4gICAgICBkaXNhYmxlZDogIWNhblNjcm9sbE5leHQsXG4gICAgICBvbkNsaWNrKCkge1xuICAgICAgICBzZW5kKFwiTkVYVFwiKTtcbiAgICAgIH1cbiAgICB9KSxcbiAgICBpbmRpY2F0b3JHcm91cFByb3BzOiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICAuLi5wYXJ0cy5pbmRpY2F0b3JHcm91cC5hdHRycyxcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICBpZDogZG9tLmdldEluZGljYXRvckdyb3VwSWQoc3RhdGUuY29udGV4dCksXG4gICAgICBcImRhdGEtb3JpZW50YXRpb25cIjogc3RhdGUuY29udGV4dC5vcmllbnRhdGlvblxuICAgIH0pLFxuICAgIGdldEluZGljYXRvclByb3BzKHByb3BzKSB7XG4gICAgICBjb25zdCB7IGluZGV4LCByZWFkT25seSB9ID0gcHJvcHM7XG4gICAgICByZXR1cm4gbm9ybWFsaXplLmJ1dHRvbih7XG4gICAgICAgIC4uLnBhcnRzLmluZGljYXRvci5hdHRycyxcbiAgICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgICAgaWQ6IGRvbS5nZXRJbmRpY2F0b3JJZChzdGF0ZS5jb250ZXh0LCBpbmRleCksXG4gICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgIFwiZGF0YS1vcmllbnRhdGlvblwiOiBzdGF0ZS5jb250ZXh0Lm9yaWVudGF0aW9uLFxuICAgICAgICBcImRhdGEtaW5kZXhcIjogaW5kZXgsXG4gICAgICAgIFwiZGF0YS1yZWFkb25seVwiOiBkYXRhQXR0cihyZWFkT25seSksXG4gICAgICAgIFwiZGF0YS1jdXJyZW50XCI6IGRhdGFBdHRyKGluZGV4ID09PSBzdGF0ZS5jb250ZXh0LmluZGV4KSxcbiAgICAgICAgb25DbGljaygpIHtcbiAgICAgICAgICBpZiAocmVhZE9ubHkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgc2VuZCh7IHR5cGU6IFwiR09UT1wiLCBpbmRleCB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufVxuXG4vLyBzcmMvY2Fyb3VzZWwubWFjaGluZS50c1xuaW1wb3J0IHsgY3JlYXRlTWFjaGluZSwgcmVmIH0gZnJvbSBcIkB6YWctanMvY29yZVwiO1xuaW1wb3J0IHsgY29tcGFjdCwgaXNFcXVhbCwgbmV4dEluZGV4LCBwcmV2SW5kZXggfSBmcm9tIFwiQHphZy1qcy91dGlsc1wiO1xuZnVuY3Rpb24gbWFjaGluZSh1c2VyQ29udGV4dCkge1xuICBjb25zdCBjdHggPSBjb21wYWN0KHVzZXJDb250ZXh0KTtcbiAgcmV0dXJuIGNyZWF0ZU1hY2hpbmUoXG4gICAge1xuICAgICAgaWQ6IFwiY2Fyb3VzZWxcIixcbiAgICAgIGluaXRpYWw6IFwiaWRsZVwiLFxuICAgICAgY29udGV4dDoge1xuICAgICAgICBpbmRleDogMCxcbiAgICAgICAgb3JpZW50YXRpb246IFwiaG9yaXpvbnRhbFwiLFxuICAgICAgICBhbGlnbjogXCJzdGFydFwiLFxuICAgICAgICBsb29wOiBmYWxzZSxcbiAgICAgICAgc2xpZGVzUGVyVmlldzogMSxcbiAgICAgICAgc3BhY2luZzogXCIwcHhcIixcbiAgICAgICAgLi4uY3R4LFxuICAgICAgICBzY3JvbGxTbmFwczogW10sXG4gICAgICAgIHNjcm9sbFByb2dyZXNzOiAwLFxuICAgICAgICBjb250YWluZXJTaXplOiAwLFxuICAgICAgICBzbGlkZVJlY3RzOiBbXVxuICAgICAgfSxcbiAgICAgIHdhdGNoOiB7XG4gICAgICAgIGluZGV4OiBbXCJzZXRTY3JvbGxTbmFwc1wiXVxuICAgICAgfSxcbiAgICAgIG9uOiB7XG4gICAgICAgIE5FWFQ6IHtcbiAgICAgICAgICBhY3Rpb25zOiBbXCJzY3JvbGxUb05leHRcIl1cbiAgICAgICAgfSxcbiAgICAgICAgUFJFVjoge1xuICAgICAgICAgIGFjdGlvbnM6IFtcInNjcm9sbFRvUHJldlwiXVxuICAgICAgICB9LFxuICAgICAgICBHT1RPOiB7XG4gICAgICAgICAgYWN0aW9uczogW1wic2Nyb2xsVG9cIl1cbiAgICAgICAgfSxcbiAgICAgICAgTUVBU1VSRV9ET006IHtcbiAgICAgICAgICBhY3Rpb25zOiBbXCJtZWFzdXJlRWxlbWVudHNcIiwgXCJzZXRTY3JvbGxTbmFwc1wiXVxuICAgICAgICB9LFxuICAgICAgICBQTEFZOiBcImF1dG9wbGF5XCJcbiAgICAgIH0sXG4gICAgICBzdGF0ZXM6IHtcbiAgICAgICAgaWRsZToge1xuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBQT0lOVEVSX0RPV046IFwiZHJhZ2dpbmdcIlxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYXV0b3BsYXk6IHtcbiAgICAgICAgICBhY3Rpdml0aWVzOiBbXCJ0cmFja0RvY3VtZW50VmlzaWJpbGl0eVwiXSxcbiAgICAgICAgICBldmVyeToge1xuICAgICAgICAgICAgMmUzOiBbXCJzY3JvbGxUb05leHRcIl1cbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBQQVVTRTogXCJpZGxlXCJcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGRyYWdnaW5nOiB7XG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIFBPSU5URVJfVVA6IFwiaWRsZVwiLFxuICAgICAgICAgICAgUE9JTlRFUl9NT1ZFOiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldFNjcm9sbFNuYXBzXCJdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYWN0aXZpdGllczogW1widHJhY2tDb250YWluZXJSZXNpemVcIiwgXCJ0cmFja1NsaWRlTXV0YXRpb25cIl0sXG4gICAgICBlbnRyeTogW1wibWVhc3VyZUVsZW1lbnRzXCIsIFwic2V0U2Nyb2xsU25hcHNcIl0sXG4gICAgICBjb21wdXRlZDoge1xuICAgICAgICBpc1J0bDogKGN0eDIpID0+IGN0eDIuZGlyID09PSBcInJ0bFwiLFxuICAgICAgICBpc0hvcml6b250YWw6IChjdHgyKSA9PiBjdHgyLm9yaWVudGF0aW9uID09PSBcImhvcml6b250YWxcIixcbiAgICAgICAgaXNWZXJ0aWNhbDogKGN0eDIpID0+IGN0eDIub3JpZW50YXRpb24gPT09IFwidmVydGljYWxcIixcbiAgICAgICAgY2FuU2Nyb2xsTmV4dDogKGN0eDIpID0+IGN0eDIubG9vcCB8fCBjdHgyLmluZGV4IDwgY3R4Mi5zY3JvbGxTbmFwcy5sZW5ndGggLSAxLFxuICAgICAgICBjYW5TY3JvbGxQcmV2OiAoY3R4MikgPT4gY3R4Mi5sb29wIHx8IGN0eDIuaW5kZXggPiAwLFxuICAgICAgICBzdGFydEVkZ2UoY3R4Mikge1xuICAgICAgICAgIGlmIChjdHgyLmlzVmVydGljYWwpXG4gICAgICAgICAgICByZXR1cm4gXCJ0b3BcIjtcbiAgICAgICAgICByZXR1cm4gY3R4Mi5pc1J0bCA/IFwicmlnaHRcIiA6IFwibGVmdFwiO1xuICAgICAgICB9LFxuICAgICAgICBlbmRFZGdlKGN0eDIpIHtcbiAgICAgICAgICBpZiAoY3R4Mi5pc1ZlcnRpY2FsKVxuICAgICAgICAgICAgcmV0dXJuIFwiYm90dG9tXCI7XG4gICAgICAgICAgcmV0dXJuIGN0eDIuaXNSdGwgPyBcImxlZnRcIiA6IFwicmlnaHRcIjtcbiAgICAgICAgfSxcbiAgICAgICAgdHJhbnNsYXRlVmFsdWU6IChjdHgyKSA9PiB7XG4gICAgICAgICAgY29uc3Qgc2Nyb2xsU25hcCA9IGN0eDIuc2Nyb2xsU25hcHNbY3R4Mi5pbmRleF07XG4gICAgICAgICAgcmV0dXJuIGN0eDIuaXNIb3Jpem9udGFsID8gYHRyYW5zbGF0ZTNkKCR7c2Nyb2xsU25hcH1weCwgMCwgMClgIDogYHRyYW5zbGF0ZTNkKDAsICR7c2Nyb2xsU25hcH1weCwgMClgO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICBhY3Rpdml0aWVzOiB7XG4gICAgICAgIHRyYWNrU2xpZGVNdXRhdGlvbihjdHgyLCBfZXZ0LCB7IHNlbmQgfSkge1xuICAgICAgICAgIGNvbnN0IHNsaWRlR3JvdXBFbCA9IGRvbS5nZXRTbGlkZUdyb3VwRWwoY3R4Mik7XG4gICAgICAgICAgaWYgKCFzbGlkZUdyb3VwRWwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgY29uc3Qgd2luID0gZG9tLmdldFdpbihjdHgyKTtcbiAgICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyB3aW4uTXV0YXRpb25PYnNlcnZlcigoKSA9PiB7XG4gICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJNRUFTVVJFX0RPTVwiLCBzcmM6IFwibXV0YXRpb25cIiB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKHNsaWRlR3JvdXBFbCwgeyBjaGlsZExpc3Q6IHRydWUgfSk7XG4gICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICB0cmFja0NvbnRhaW5lclJlc2l6ZShjdHgyLCBfZXZ0LCB7IHNlbmQgfSkge1xuICAgICAgICAgIGNvbnN0IHNsaWRlR3JvdXBFbCA9IGRvbS5nZXRTbGlkZUdyb3VwRWwoY3R4Mik7XG4gICAgICAgICAgaWYgKCFzbGlkZUdyb3VwRWwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgY29uc3Qgd2luID0gZG9tLmdldFdpbihjdHgyKTtcbiAgICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyB3aW4uUmVzaXplT2JzZXJ2ZXIoKGVudHJpZXMpID0+IHtcbiAgICAgICAgICAgIGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgICAgICAgaWYgKGVudHJ5LnRhcmdldCA9PT0gc2xpZGVHcm91cEVsKSB7XG4gICAgICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwiTUVBU1VSRV9ET01cIiwgc3JjOiBcInJlc2l6ZVwiIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKHNsaWRlR3JvdXBFbCk7XG4gICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICB0cmFja0RvY3VtZW50VmlzaWJpbGl0eShjdHgyLCBfZXZ0LCB7IHNlbmQgfSkge1xuICAgICAgICAgIGNvbnN0IGRvYyA9IGRvbS5nZXREb2MoY3R4Mik7XG4gICAgICAgICAgY29uc3Qgb25WaXNpYmlsaXR5Q2hhbmdlID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGRvYy52aXNpYmlsaXR5U3RhdGUgIT09IFwidmlzaWJsZVwiKSB7XG4gICAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIlBBVVNFXCIsIHNyYzogXCJkb2N1bWVudC1oaWRkZW5cIiB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCBvblZpc2liaWxpdHlDaGFuZ2UpO1xuICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgb25WaXNpYmlsaXR5Q2hhbmdlKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZ3VhcmRzOiB7XG4gICAgICAgIGxvb3A6IChjdHgyKSA9PiBjdHgyLmxvb3AsXG4gICAgICAgIGlzTGFzdFNsaWRlOiAoY3R4MikgPT4gY3R4Mi5pbmRleCA9PT0gY3R4Mi5zbGlkZVJlY3RzLmxlbmd0aCAtIDEsXG4gICAgICAgIGlzRmlyc3RTbGlkZTogKGN0eDIpID0+IGN0eDIuaW5kZXggPT09IDBcbiAgICAgIH0sXG4gICAgICBhY3Rpb25zOiB7XG4gICAgICAgIHNjcm9sbFRvTmV4dChjdHgyKSB7XG4gICAgICAgICAgY29uc3QgaW5kZXggPSBuZXh0SW5kZXgoY3R4Mi5zbGlkZVJlY3RzLCBjdHgyLmluZGV4KTtcbiAgICAgICAgICBzZXQuaW5kZXgoY3R4MiwgaW5kZXgpO1xuICAgICAgICB9LFxuICAgICAgICBzY3JvbGxUb1ByZXYoY3R4Mikge1xuICAgICAgICAgIGNvbnN0IGluZGV4ID0gcHJldkluZGV4KGN0eDIuc2xpZGVSZWN0cywgY3R4Mi5pbmRleCk7XG4gICAgICAgICAgc2V0LmluZGV4KGN0eDIsIGluZGV4KTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0U2Nyb2xsU25hcHMoY3R4Mikge1xuICAgICAgICAgIGNvbnN0IHsgc25hcHNBbGlnbmVkLCBzY3JvbGxQcm9ncmVzcyB9ID0gZ2V0U2Nyb2xsU25hcHMoY3R4Mik7XG4gICAgICAgICAgY3R4Mi5zY3JvbGxTbmFwcyA9IHNuYXBzQWxpZ25lZDtcbiAgICAgICAgICBjdHgyLnNjcm9sbFByb2dyZXNzID0gc2Nyb2xsUHJvZ3Jlc3M7XG4gICAgICAgIH0sXG4gICAgICAgIHNjcm9sbFRvKGN0eDIsIGV2dCkge1xuICAgICAgICAgIGNvbnN0IGluZGV4ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oZXZ0LmluZGV4LCBjdHgyLnNsaWRlUmVjdHMubGVuZ3RoIC0gMSkpO1xuICAgICAgICAgIHNldC5pbmRleChjdHgyLCBpbmRleCk7XG4gICAgICAgIH0sXG4gICAgICAgIG1lYXN1cmVFbGVtZW50c1xuICAgICAgfVxuICAgIH1cbiAgKTtcbn1cbnZhciBtZWFzdXJlRWxlbWVudHMgPSAoY3R4KSA9PiB7XG4gIGNvbnN0IHNsaWRlR3JvdXBFbCA9IGRvbS5nZXRTbGlkZUdyb3VwRWwoY3R4KTtcbiAgaWYgKCFzbGlkZUdyb3VwRWwpXG4gICAgcmV0dXJuO1xuICBjdHguY29udGFpbmVyUmVjdCA9IHJlZihzbGlkZUdyb3VwRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xuICBjdHguY29udGFpbmVyU2l6ZSA9IGN0eC5pc0hvcml6b250YWwgPyBjdHguY29udGFpbmVyUmVjdC53aWR0aCA6IGN0eC5jb250YWluZXJSZWN0LmhlaWdodDtcbiAgY3R4LnNsaWRlUmVjdHMgPSByZWYoZG9tLmdldFNsaWRlRWxzKGN0eCkubWFwKChzbGlkZSkgPT4gc2xpZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpKTtcbn07XG52YXIgaW52b2tlID0ge1xuICBjaGFuZ2U6IChjdHgpID0+IHtcbiAgICBjdHgub25JbmRleENoYW5nZT8uKHsgaW5kZXg6IGN0eC5pbmRleCB9KTtcbiAgfVxufTtcbnZhciBzZXQgPSB7XG4gIGluZGV4OiAoY3R4LCBpbmRleCkgPT4ge1xuICAgIGlmIChpc0VxdWFsKGN0eC5pbmRleCwgaW5kZXgpKVxuICAgICAgcmV0dXJuO1xuICAgIGN0eC5pbmRleCA9IGluZGV4O1xuICAgIGludm9rZS5jaGFuZ2UoY3R4KTtcbiAgfVxufTtcbmV4cG9ydCB7XG4gIGFuYXRvbXksXG4gIGNvbm5lY3QsXG4gIG1hY2hpbmVcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/carousel/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/checkbox/dist/index.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@zag-js/checkbox/dist/index.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   anatomy: () => (/* binding */ anatomy),\n/* harmony export */   connect: () => (/* binding */ connect),\n/* harmony export */   machine: () => (/* binding */ machine)\n/* harmony export */ });\n/* harmony import */ var _zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/anatomy */ \"(ssr)/./node_modules/@zag-js/anatomy/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @zag-js/dom-query */ \"(ssr)/./node_modules/@zag-js/dom-query/dist/index.mjs\");\n/* harmony import */ var _zag_js_visually_hidden__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @zag-js/visually-hidden */ \"(ssr)/./node_modules/@zag-js/visually-hidden/dist/index.mjs\");\n/* harmony import */ var _zag_js_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @zag-js/core */ \"(ssr)/./node_modules/@zag-js/core/dist/index.mjs\");\n/* harmony import */ var _zag_js_form_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @zag-js/form-utils */ \"(ssr)/./node_modules/@zag-js/form-utils/dist/index.mjs\");\n/* harmony import */ var _zag_js_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @zag-js/utils */ \"(ssr)/./node_modules/@zag-js/utils/dist/index.mjs\");\n// src/checkbox.anatomy.ts\n\nvar anatomy = (0,_zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__.createAnatomy)(\"checkbox\").parts(\"root\", \"label\", \"control\", \"indicator\");\nvar parts = anatomy.build();\n\n// src/checkbox.connect.ts\n\n\n\n// src/checkbox.dom.ts\n\nvar dom = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.createScope)({\n  getRootId: (ctx) => ctx.ids?.root ?? `checkbox:${ctx.id}`,\n  getLabelId: (ctx) => ctx.ids?.label ?? `checkbox:${ctx.id}:label`,\n  getControlId: (ctx) => ctx.ids?.control ?? `checkbox:${ctx.id}:control`,\n  getHiddenInputId: (ctx) => ctx.ids?.hiddenInput ?? `checkbox:${ctx.id}:hidden`,\n  getRootEl: (ctx) => dom.getById(ctx, dom.getRootId(ctx)),\n  getHiddenInputEl: (ctx) => dom.getById(ctx, dom.getHiddenInputId(ctx))\n});\n\n// src/checkbox.connect.ts\nfunction connect(state, send, normalize) {\n  const isDisabled = state.context.isDisabled;\n  const isFocused = !isDisabled && state.context.focused;\n  const isChecked2 = state.context.isChecked;\n  const isIndeterminate2 = state.context.isIndeterminate;\n  const dataAttrs = {\n    \"data-active\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(state.context.active),\n    \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isFocused),\n    \"data-hover\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(state.context.hovered),\n    \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isDisabled),\n    \"data-state\": isIndeterminate2 ? \"indeterminate\" : state.context.checked ? \"checked\" : \"unchecked\",\n    \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(state.context.invalid)\n  };\n  return {\n    isChecked: isChecked2,\n    isDisabled,\n    isIndeterminate: isIndeterminate2,\n    isFocused,\n    checkedState: state.context.checked,\n    setChecked(checked) {\n      send({ type: \"CHECKED.SET\", checked, isTrusted: false });\n    },\n    toggleChecked() {\n      send({ type: \"CHECKED.TOGGLE\", checked: isChecked2, isTrusted: false });\n    },\n    rootProps: normalize.label({\n      ...parts.root.attrs,\n      ...dataAttrs,\n      dir: state.context.dir,\n      id: dom.getRootId(state.context),\n      htmlFor: dom.getHiddenInputId(state.context),\n      onPointerMove() {\n        if (isDisabled)\n          return;\n        send({ type: \"CONTEXT.SET\", context: { hovered: true } });\n      },\n      onPointerLeave() {\n        if (isDisabled)\n          return;\n        send({ type: \"CONTEXT.SET\", context: { hovered: false } });\n      },\n      onPointerDown(event) {\n        if (isDisabled)\n          return;\n        if (isFocused && event.pointerType === \"mouse\") {\n          event.preventDefault();\n        }\n        send({ type: \"CONTEXT.SET\", context: { active: true } });\n      },\n      onPointerUp() {\n        if (isDisabled)\n          return;\n        send({ type: \"CONTEXT.SET\", context: { active: false } });\n      },\n      onClick(event) {\n        if (event.target === dom.getHiddenInputEl(state.context)) {\n          event.stopPropagation();\n        }\n      }\n    }),\n    labelProps: normalize.element({\n      ...parts.label.attrs,\n      ...dataAttrs,\n      dir: state.context.dir,\n      id: dom.getLabelId(state.context)\n    }),\n    controlProps: normalize.element({\n      ...parts.control.attrs,\n      ...dataAttrs,\n      dir: state.context.dir,\n      id: dom.getControlId(state.context),\n      \"aria-hidden\": true\n    }),\n    indicatorProps: normalize.element({\n      ...parts.indicator.attrs,\n      ...dataAttrs,\n      dir: state.context.dir,\n      hidden: !isIndeterminate2 && !state.context.checked\n    }),\n    hiddenInputProps: normalize.input({\n      id: dom.getHiddenInputId(state.context),\n      type: \"checkbox\",\n      required: state.context.required,\n      defaultChecked: isChecked2,\n      disabled: isDisabled,\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isDisabled),\n      \"aria-labelledby\": dom.getLabelId(state.context),\n      \"aria-invalid\": state.context.invalid,\n      name: state.context.name,\n      form: state.context.form,\n      value: state.context.value,\n      style: _zag_js_visually_hidden__WEBPACK_IMPORTED_MODULE_2__.visuallyHiddenStyle,\n      onChange(event) {\n        const checked = event.currentTarget.checked;\n        send({ type: \"CHECKED.SET\", checked, isTrusted: true });\n      },\n      onBlur() {\n        send({ type: \"CONTEXT.SET\", context: { focused: false } });\n      },\n      onFocus() {\n        send({ type: \"CONTEXT.SET\", context: { focused: true } });\n      },\n      onKeyDown(event) {\n        if (event.key === \" \") {\n          send({ type: \"CONTEXT.SET\", context: { active: true } });\n        }\n      },\n      onKeyUp(event) {\n        if (event.key === \" \") {\n          send({ type: \"CONTEXT.SET\", context: { active: false } });\n        }\n      }\n    })\n  };\n}\n\n// src/checkbox.machine.ts\n\n\n\nvar { not } = _zag_js_core__WEBPACK_IMPORTED_MODULE_3__.guards;\nfunction machine(userContext) {\n  const ctx = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_4__.compact)(userContext);\n  return (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_3__.createMachine)(\n    {\n      id: \"checkbox\",\n      initial: \"ready\",\n      context: {\n        checked: false,\n        value: \"on\",\n        disabled: false,\n        ...ctx,\n        fieldsetDisabled: false\n      },\n      watch: {\n        disabled: \"removeFocusIfNeeded\",\n        checked: \"syncInputElement\"\n      },\n      activities: [\"trackFormControlState\"],\n      on: {\n        \"CHECKED.TOGGLE\": [\n          {\n            guard: not(\"isTrusted\"),\n            actions: [\"toggleChecked\", \"dispatchChangeEvent\"]\n          },\n          {\n            actions: [\"toggleChecked\"]\n          }\n        ],\n        \"CHECKED.SET\": [\n          {\n            guard: not(\"isTrusted\"),\n            actions: [\"setChecked\", \"dispatchChangeEvent\"]\n          },\n          {\n            actions: [\"setChecked\"]\n          }\n        ],\n        \"CONTEXT.SET\": {\n          actions: [\"setContext\"]\n        }\n      },\n      computed: {\n        isIndeterminate: (ctx2) => isIndeterminate(ctx2.checked),\n        isChecked: (ctx2) => isChecked(ctx2.checked),\n        isDisabled: (ctx2) => !!ctx2.disabled || ctx2.fieldsetDisabled\n      },\n      states: {\n        ready: {}\n      }\n    },\n    {\n      guards: {\n        isTrusted: (_ctx, evt) => !!evt.isTrusted\n      },\n      activities: {\n        trackFormControlState(ctx2, _evt, { send, initialContext }) {\n          return (0,_zag_js_form_utils__WEBPACK_IMPORTED_MODULE_5__.trackFormControl)(dom.getHiddenInputEl(ctx2), {\n            onFieldsetDisabledChange(disabled) {\n              ctx2.fieldsetDisabled = disabled;\n            },\n            onFormReset() {\n              send({ type: \"CHECKED.SET\", checked: !!initialContext.checked });\n            }\n          });\n        }\n      },\n      actions: {\n        setContext(ctx2, evt) {\n          Object.assign(ctx2, evt.context);\n        },\n        syncInputElement(ctx2) {\n          const inputEl = dom.getHiddenInputEl(ctx2);\n          if (!inputEl)\n            return;\n          inputEl.checked = ctx2.isChecked;\n          inputEl.indeterminate = ctx2.isIndeterminate;\n        },\n        removeFocusIfNeeded(ctx2) {\n          if (ctx2.disabled && ctx2.focused) {\n            ctx2.focused = false;\n          }\n        },\n        setChecked(ctx2, evt) {\n          set.checked(ctx2, evt.checked);\n        },\n        toggleChecked(ctx2) {\n          const checked = isIndeterminate(ctx2.checked) ? true : !ctx2.checked;\n          set.checked(ctx2, checked);\n        },\n        dispatchChangeEvent(ctx2) {\n          const inputEl = dom.getHiddenInputEl(ctx2);\n          (0,_zag_js_form_utils__WEBPACK_IMPORTED_MODULE_5__.dispatchInputCheckedEvent)(inputEl, { checked: isChecked(ctx2.checked) });\n        }\n      }\n    }\n  );\n}\nfunction isIndeterminate(checked) {\n  return checked === \"indeterminate\";\n}\nfunction isChecked(checked) {\n  return isIndeterminate(checked) ? false : !!checked;\n}\nvar invoke = {\n  change: (ctx) => {\n    ctx.onCheckedChange?.({ checked: ctx.checked });\n  }\n};\nvar set = {\n  checked: (ctx, checked) => {\n    if ((0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_4__.isEqual)(ctx.checked, checked))\n      return;\n    ctx.checked = checked;\n    invoke.change(ctx);\n  }\n};\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9jaGVja2JveC9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQUNnRDtBQUNoRCxjQUFjLDhEQUFhO0FBQzNCOztBQUVBO0FBQzZDO0FBQ2lCOztBQUU5RDtBQUNnRDtBQUNoRCxVQUFVLDhEQUFXO0FBQ3JCLG1EQUFtRCxPQUFPO0FBQzFELHFEQUFxRCxPQUFPO0FBQzVELHlEQUF5RCxPQUFPO0FBQ2hFLGlFQUFpRSxPQUFPO0FBQ3hFO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDJEQUFRO0FBQzNCLGtCQUFrQiwyREFBUTtBQUMxQixrQkFBa0IsMkRBQVE7QUFDMUIscUJBQXFCLDJEQUFRO0FBQzdCO0FBQ0Esb0JBQW9CLDJEQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGdEQUFnRDtBQUM3RCxLQUFLO0FBQ0w7QUFDQSxhQUFhLCtEQUErRDtBQUM1RSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnQ0FBZ0MsaUJBQWlCO0FBQ2hFLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdDQUFnQyxrQkFBa0I7QUFDakUsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0NBQWdDLGdCQUFnQjtBQUMvRCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnQ0FBZ0MsaUJBQWlCO0FBQ2hFLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDJEQUFRO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHdFQUFtQjtBQUNoQztBQUNBO0FBQ0EsZUFBZSwrQ0FBK0M7QUFDOUQsT0FBTztBQUNQO0FBQ0EsZUFBZSxnQ0FBZ0Msa0JBQWtCO0FBQ2pFLE9BQU87QUFDUDtBQUNBLGVBQWUsZ0NBQWdDLGlCQUFpQjtBQUNoRSxPQUFPO0FBQ1A7QUFDQTtBQUNBLGlCQUFpQixnQ0FBZ0MsZ0JBQWdCO0FBQ2pFO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxpQkFBaUIsZ0NBQWdDLGlCQUFpQjtBQUNsRTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDcUQ7QUFDNEI7QUFDaEM7QUFDakQsTUFBTSxNQUFNLEVBQUUsZ0RBQU07QUFDcEI7QUFDQSxjQUFjLHNEQUFPO0FBQ3JCLFNBQVMsMkRBQWE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsNENBQTRDLHNCQUFzQjtBQUNsRSxpQkFBaUIsb0VBQWdCO0FBQ2pDO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxxQkFBcUIsd0RBQXdEO0FBQzdFO0FBQ0EsV0FBVztBQUNYO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFVBQVUsNkVBQXlCLFlBQVksa0NBQWtDO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHNCQUFzQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsc0RBQU87QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0U7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL0BwYXJrLXVpL2V4YW1wbGVzLXJlYWN0LW5leHQtanMvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9jaGVja2JveC9kaXN0L2luZGV4Lm1qcz82Y2IyIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9jaGVja2JveC5hbmF0b215LnRzXG5pbXBvcnQgeyBjcmVhdGVBbmF0b215IH0gZnJvbSBcIkB6YWctanMvYW5hdG9teVwiO1xudmFyIGFuYXRvbXkgPSBjcmVhdGVBbmF0b215KFwiY2hlY2tib3hcIikucGFydHMoXCJyb290XCIsIFwibGFiZWxcIiwgXCJjb250cm9sXCIsIFwiaW5kaWNhdG9yXCIpO1xudmFyIHBhcnRzID0gYW5hdG9teS5idWlsZCgpO1xuXG4vLyBzcmMvY2hlY2tib3guY29ubmVjdC50c1xuaW1wb3J0IHsgZGF0YUF0dHIgfSBmcm9tIFwiQHphZy1qcy9kb20tcXVlcnlcIjtcbmltcG9ydCB7IHZpc3VhbGx5SGlkZGVuU3R5bGUgfSBmcm9tIFwiQHphZy1qcy92aXN1YWxseS1oaWRkZW5cIjtcblxuLy8gc3JjL2NoZWNrYm94LmRvbS50c1xuaW1wb3J0IHsgY3JlYXRlU2NvcGUgfSBmcm9tIFwiQHphZy1qcy9kb20tcXVlcnlcIjtcbnZhciBkb20gPSBjcmVhdGVTY29wZSh7XG4gIGdldFJvb3RJZDogKGN0eCkgPT4gY3R4Lmlkcz8ucm9vdCA/PyBgY2hlY2tib3g6JHtjdHguaWR9YCxcbiAgZ2V0TGFiZWxJZDogKGN0eCkgPT4gY3R4Lmlkcz8ubGFiZWwgPz8gYGNoZWNrYm94OiR7Y3R4LmlkfTpsYWJlbGAsXG4gIGdldENvbnRyb2xJZDogKGN0eCkgPT4gY3R4Lmlkcz8uY29udHJvbCA/PyBgY2hlY2tib3g6JHtjdHguaWR9OmNvbnRyb2xgLFxuICBnZXRIaWRkZW5JbnB1dElkOiAoY3R4KSA9PiBjdHguaWRzPy5oaWRkZW5JbnB1dCA/PyBgY2hlY2tib3g6JHtjdHguaWR9OmhpZGRlbmAsXG4gIGdldFJvb3RFbDogKGN0eCkgPT4gZG9tLmdldEJ5SWQoY3R4LCBkb20uZ2V0Um9vdElkKGN0eCkpLFxuICBnZXRIaWRkZW5JbnB1dEVsOiAoY3R4KSA9PiBkb20uZ2V0QnlJZChjdHgsIGRvbS5nZXRIaWRkZW5JbnB1dElkKGN0eCkpXG59KTtcblxuLy8gc3JjL2NoZWNrYm94LmNvbm5lY3QudHNcbmZ1bmN0aW9uIGNvbm5lY3Qoc3RhdGUsIHNlbmQsIG5vcm1hbGl6ZSkge1xuICBjb25zdCBpc0Rpc2FibGVkID0gc3RhdGUuY29udGV4dC5pc0Rpc2FibGVkO1xuICBjb25zdCBpc0ZvY3VzZWQgPSAhaXNEaXNhYmxlZCAmJiBzdGF0ZS5jb250ZXh0LmZvY3VzZWQ7XG4gIGNvbnN0IGlzQ2hlY2tlZDIgPSBzdGF0ZS5jb250ZXh0LmlzQ2hlY2tlZDtcbiAgY29uc3QgaXNJbmRldGVybWluYXRlMiA9IHN0YXRlLmNvbnRleHQuaXNJbmRldGVybWluYXRlO1xuICBjb25zdCBkYXRhQXR0cnMgPSB7XG4gICAgXCJkYXRhLWFjdGl2ZVwiOiBkYXRhQXR0cihzdGF0ZS5jb250ZXh0LmFjdGl2ZSksXG4gICAgXCJkYXRhLWZvY3VzXCI6IGRhdGFBdHRyKGlzRm9jdXNlZCksXG4gICAgXCJkYXRhLWhvdmVyXCI6IGRhdGFBdHRyKHN0YXRlLmNvbnRleHQuaG92ZXJlZCksXG4gICAgXCJkYXRhLWRpc2FibGVkXCI6IGRhdGFBdHRyKGlzRGlzYWJsZWQpLFxuICAgIFwiZGF0YS1zdGF0ZVwiOiBpc0luZGV0ZXJtaW5hdGUyID8gXCJpbmRldGVybWluYXRlXCIgOiBzdGF0ZS5jb250ZXh0LmNoZWNrZWQgPyBcImNoZWNrZWRcIiA6IFwidW5jaGVja2VkXCIsXG4gICAgXCJkYXRhLWludmFsaWRcIjogZGF0YUF0dHIoc3RhdGUuY29udGV4dC5pbnZhbGlkKVxuICB9O1xuICByZXR1cm4ge1xuICAgIGlzQ2hlY2tlZDogaXNDaGVja2VkMixcbiAgICBpc0Rpc2FibGVkLFxuICAgIGlzSW5kZXRlcm1pbmF0ZTogaXNJbmRldGVybWluYXRlMixcbiAgICBpc0ZvY3VzZWQsXG4gICAgY2hlY2tlZFN0YXRlOiBzdGF0ZS5jb250ZXh0LmNoZWNrZWQsXG4gICAgc2V0Q2hlY2tlZChjaGVja2VkKSB7XG4gICAgICBzZW5kKHsgdHlwZTogXCJDSEVDS0VELlNFVFwiLCBjaGVja2VkLCBpc1RydXN0ZWQ6IGZhbHNlIH0pO1xuICAgIH0sXG4gICAgdG9nZ2xlQ2hlY2tlZCgpIHtcbiAgICAgIHNlbmQoeyB0eXBlOiBcIkNIRUNLRUQuVE9HR0xFXCIsIGNoZWNrZWQ6IGlzQ2hlY2tlZDIsIGlzVHJ1c3RlZDogZmFsc2UgfSk7XG4gICAgfSxcbiAgICByb290UHJvcHM6IG5vcm1hbGl6ZS5sYWJlbCh7XG4gICAgICAuLi5wYXJ0cy5yb290LmF0dHJzLFxuICAgICAgLi4uZGF0YUF0dHJzLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIGlkOiBkb20uZ2V0Um9vdElkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgaHRtbEZvcjogZG9tLmdldEhpZGRlbklucHV0SWQoc3RhdGUuY29udGV4dCksXG4gICAgICBvblBvaW50ZXJNb3ZlKCkge1xuICAgICAgICBpZiAoaXNEaXNhYmxlZClcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIHNlbmQoeyB0eXBlOiBcIkNPTlRFWFQuU0VUXCIsIGNvbnRleHQ6IHsgaG92ZXJlZDogdHJ1ZSB9IH0pO1xuICAgICAgfSxcbiAgICAgIG9uUG9pbnRlckxlYXZlKCkge1xuICAgICAgICBpZiAoaXNEaXNhYmxlZClcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIHNlbmQoeyB0eXBlOiBcIkNPTlRFWFQuU0VUXCIsIGNvbnRleHQ6IHsgaG92ZXJlZDogZmFsc2UgfSB9KTtcbiAgICAgIH0sXG4gICAgICBvblBvaW50ZXJEb3duKGV2ZW50KSB7XG4gICAgICAgIGlmIChpc0Rpc2FibGVkKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKGlzRm9jdXNlZCAmJiBldmVudC5wb2ludGVyVHlwZSA9PT0gXCJtb3VzZVwiKSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgICAgICBzZW5kKHsgdHlwZTogXCJDT05URVhULlNFVFwiLCBjb250ZXh0OiB7IGFjdGl2ZTogdHJ1ZSB9IH0pO1xuICAgICAgfSxcbiAgICAgIG9uUG9pbnRlclVwKCkge1xuICAgICAgICBpZiAoaXNEaXNhYmxlZClcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIHNlbmQoeyB0eXBlOiBcIkNPTlRFWFQuU0VUXCIsIGNvbnRleHQ6IHsgYWN0aXZlOiBmYWxzZSB9IH0pO1xuICAgICAgfSxcbiAgICAgIG9uQ2xpY2soZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gZG9tLmdldEhpZGRlbklucHV0RWwoc3RhdGUuY29udGV4dCkpIHtcbiAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pLFxuICAgIGxhYmVsUHJvcHM6IG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgIC4uLnBhcnRzLmxhYmVsLmF0dHJzLFxuICAgICAgLi4uZGF0YUF0dHJzLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIGlkOiBkb20uZ2V0TGFiZWxJZChzdGF0ZS5jb250ZXh0KVxuICAgIH0pLFxuICAgIGNvbnRyb2xQcm9wczogbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgLi4ucGFydHMuY29udHJvbC5hdHRycyxcbiAgICAgIC4uLmRhdGFBdHRycyxcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICBpZDogZG9tLmdldENvbnRyb2xJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIFwiYXJpYS1oaWRkZW5cIjogdHJ1ZVxuICAgIH0pLFxuICAgIGluZGljYXRvclByb3BzOiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICAuLi5wYXJ0cy5pbmRpY2F0b3IuYXR0cnMsXG4gICAgICAuLi5kYXRhQXR0cnMsXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgaGlkZGVuOiAhaXNJbmRldGVybWluYXRlMiAmJiAhc3RhdGUuY29udGV4dC5jaGVja2VkXG4gICAgfSksXG4gICAgaGlkZGVuSW5wdXRQcm9wczogbm9ybWFsaXplLmlucHV0KHtcbiAgICAgIGlkOiBkb20uZ2V0SGlkZGVuSW5wdXRJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgIHJlcXVpcmVkOiBzdGF0ZS5jb250ZXh0LnJlcXVpcmVkLFxuICAgICAgZGVmYXVsdENoZWNrZWQ6IGlzQ2hlY2tlZDIsXG4gICAgICBkaXNhYmxlZDogaXNEaXNhYmxlZCxcbiAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihpc0Rpc2FibGVkKSxcbiAgICAgIFwiYXJpYS1sYWJlbGxlZGJ5XCI6IGRvbS5nZXRMYWJlbElkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgXCJhcmlhLWludmFsaWRcIjogc3RhdGUuY29udGV4dC5pbnZhbGlkLFxuICAgICAgbmFtZTogc3RhdGUuY29udGV4dC5uYW1lLFxuICAgICAgZm9ybTogc3RhdGUuY29udGV4dC5mb3JtLFxuICAgICAgdmFsdWU6IHN0YXRlLmNvbnRleHQudmFsdWUsXG4gICAgICBzdHlsZTogdmlzdWFsbHlIaWRkZW5TdHlsZSxcbiAgICAgIG9uQ2hhbmdlKGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IGNoZWNrZWQgPSBldmVudC5jdXJyZW50VGFyZ2V0LmNoZWNrZWQ7XG4gICAgICAgIHNlbmQoeyB0eXBlOiBcIkNIRUNLRUQuU0VUXCIsIGNoZWNrZWQsIGlzVHJ1c3RlZDogdHJ1ZSB9KTtcbiAgICAgIH0sXG4gICAgICBvbkJsdXIoKSB7XG4gICAgICAgIHNlbmQoeyB0eXBlOiBcIkNPTlRFWFQuU0VUXCIsIGNvbnRleHQ6IHsgZm9jdXNlZDogZmFsc2UgfSB9KTtcbiAgICAgIH0sXG4gICAgICBvbkZvY3VzKCkge1xuICAgICAgICBzZW5kKHsgdHlwZTogXCJDT05URVhULlNFVFwiLCBjb250ZXh0OiB7IGZvY3VzZWQ6IHRydWUgfSB9KTtcbiAgICAgIH0sXG4gICAgICBvbktleURvd24oZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gXCIgXCIpIHtcbiAgICAgICAgICBzZW5kKHsgdHlwZTogXCJDT05URVhULlNFVFwiLCBjb250ZXh0OiB7IGFjdGl2ZTogdHJ1ZSB9IH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgb25LZXlVcChldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQua2V5ID09PSBcIiBcIikge1xuICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIkNPTlRFWFQuU0VUXCIsIGNvbnRleHQ6IHsgYWN0aXZlOiBmYWxzZSB9IH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgfTtcbn1cblxuLy8gc3JjL2NoZWNrYm94Lm1hY2hpbmUudHNcbmltcG9ydCB7IGNyZWF0ZU1hY2hpbmUsIGd1YXJkcyB9IGZyb20gXCJAemFnLWpzL2NvcmVcIjtcbmltcG9ydCB7IGRpc3BhdGNoSW5wdXRDaGVja2VkRXZlbnQsIHRyYWNrRm9ybUNvbnRyb2wgfSBmcm9tIFwiQHphZy1qcy9mb3JtLXV0aWxzXCI7XG5pbXBvcnQgeyBjb21wYWN0LCBpc0VxdWFsIH0gZnJvbSBcIkB6YWctanMvdXRpbHNcIjtcbnZhciB7IG5vdCB9ID0gZ3VhcmRzO1xuZnVuY3Rpb24gbWFjaGluZSh1c2VyQ29udGV4dCkge1xuICBjb25zdCBjdHggPSBjb21wYWN0KHVzZXJDb250ZXh0KTtcbiAgcmV0dXJuIGNyZWF0ZU1hY2hpbmUoXG4gICAge1xuICAgICAgaWQ6IFwiY2hlY2tib3hcIixcbiAgICAgIGluaXRpYWw6IFwicmVhZHlcIixcbiAgICAgIGNvbnRleHQ6IHtcbiAgICAgICAgY2hlY2tlZDogZmFsc2UsXG4gICAgICAgIHZhbHVlOiBcIm9uXCIsXG4gICAgICAgIGRpc2FibGVkOiBmYWxzZSxcbiAgICAgICAgLi4uY3R4LFxuICAgICAgICBmaWVsZHNldERpc2FibGVkOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIHdhdGNoOiB7XG4gICAgICAgIGRpc2FibGVkOiBcInJlbW92ZUZvY3VzSWZOZWVkZWRcIixcbiAgICAgICAgY2hlY2tlZDogXCJzeW5jSW5wdXRFbGVtZW50XCJcbiAgICAgIH0sXG4gICAgICBhY3Rpdml0aWVzOiBbXCJ0cmFja0Zvcm1Db250cm9sU3RhdGVcIl0sXG4gICAgICBvbjoge1xuICAgICAgICBcIkNIRUNLRUQuVE9HR0xFXCI6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBndWFyZDogbm90KFwiaXNUcnVzdGVkXCIpLFxuICAgICAgICAgICAgYWN0aW9uczogW1widG9nZ2xlQ2hlY2tlZFwiLCBcImRpc3BhdGNoQ2hhbmdlRXZlbnRcIl1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGFjdGlvbnM6IFtcInRvZ2dsZUNoZWNrZWRcIl1cbiAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIFwiQ0hFQ0tFRC5TRVRcIjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGd1YXJkOiBub3QoXCJpc1RydXN0ZWRcIiksXG4gICAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRDaGVja2VkXCIsIFwiZGlzcGF0Y2hDaGFuZ2VFdmVudFwiXVxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgYWN0aW9uczogW1wic2V0Q2hlY2tlZFwiXVxuICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgXCJDT05URVhULlNFVFwiOiB7XG4gICAgICAgICAgYWN0aW9uczogW1wic2V0Q29udGV4dFwiXVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY29tcHV0ZWQ6IHtcbiAgICAgICAgaXNJbmRldGVybWluYXRlOiAoY3R4MikgPT4gaXNJbmRldGVybWluYXRlKGN0eDIuY2hlY2tlZCksXG4gICAgICAgIGlzQ2hlY2tlZDogKGN0eDIpID0+IGlzQ2hlY2tlZChjdHgyLmNoZWNrZWQpLFxuICAgICAgICBpc0Rpc2FibGVkOiAoY3R4MikgPT4gISFjdHgyLmRpc2FibGVkIHx8IGN0eDIuZmllbGRzZXREaXNhYmxlZFxuICAgICAgfSxcbiAgICAgIHN0YXRlczoge1xuICAgICAgICByZWFkeToge31cbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIGd1YXJkczoge1xuICAgICAgICBpc1RydXN0ZWQ6IChfY3R4LCBldnQpID0+ICEhZXZ0LmlzVHJ1c3RlZFxuICAgICAgfSxcbiAgICAgIGFjdGl2aXRpZXM6IHtcbiAgICAgICAgdHJhY2tGb3JtQ29udHJvbFN0YXRlKGN0eDIsIF9ldnQsIHsgc2VuZCwgaW5pdGlhbENvbnRleHQgfSkge1xuICAgICAgICAgIHJldHVybiB0cmFja0Zvcm1Db250cm9sKGRvbS5nZXRIaWRkZW5JbnB1dEVsKGN0eDIpLCB7XG4gICAgICAgICAgICBvbkZpZWxkc2V0RGlzYWJsZWRDaGFuZ2UoZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgY3R4Mi5maWVsZHNldERpc2FibGVkID0gZGlzYWJsZWQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25Gb3JtUmVzZXQoKSB7XG4gICAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIkNIRUNLRUQuU0VUXCIsIGNoZWNrZWQ6ICEhaW5pdGlhbENvbnRleHQuY2hlY2tlZCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGFjdGlvbnM6IHtcbiAgICAgICAgc2V0Q29udGV4dChjdHgyLCBldnQpIHtcbiAgICAgICAgICBPYmplY3QuYXNzaWduKGN0eDIsIGV2dC5jb250ZXh0KTtcbiAgICAgICAgfSxcbiAgICAgICAgc3luY0lucHV0RWxlbWVudChjdHgyKSB7XG4gICAgICAgICAgY29uc3QgaW5wdXRFbCA9IGRvbS5nZXRIaWRkZW5JbnB1dEVsKGN0eDIpO1xuICAgICAgICAgIGlmICghaW5wdXRFbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBpbnB1dEVsLmNoZWNrZWQgPSBjdHgyLmlzQ2hlY2tlZDtcbiAgICAgICAgICBpbnB1dEVsLmluZGV0ZXJtaW5hdGUgPSBjdHgyLmlzSW5kZXRlcm1pbmF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVtb3ZlRm9jdXNJZk5lZWRlZChjdHgyKSB7XG4gICAgICAgICAgaWYgKGN0eDIuZGlzYWJsZWQgJiYgY3R4Mi5mb2N1c2VkKSB7XG4gICAgICAgICAgICBjdHgyLmZvY3VzZWQgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHNldENoZWNrZWQoY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgc2V0LmNoZWNrZWQoY3R4MiwgZXZ0LmNoZWNrZWQpO1xuICAgICAgICB9LFxuICAgICAgICB0b2dnbGVDaGVja2VkKGN0eDIpIHtcbiAgICAgICAgICBjb25zdCBjaGVja2VkID0gaXNJbmRldGVybWluYXRlKGN0eDIuY2hlY2tlZCkgPyB0cnVlIDogIWN0eDIuY2hlY2tlZDtcbiAgICAgICAgICBzZXQuY2hlY2tlZChjdHgyLCBjaGVja2VkKTtcbiAgICAgICAgfSxcbiAgICAgICAgZGlzcGF0Y2hDaGFuZ2VFdmVudChjdHgyKSB7XG4gICAgICAgICAgY29uc3QgaW5wdXRFbCA9IGRvbS5nZXRIaWRkZW5JbnB1dEVsKGN0eDIpO1xuICAgICAgICAgIGRpc3BhdGNoSW5wdXRDaGVja2VkRXZlbnQoaW5wdXRFbCwgeyBjaGVja2VkOiBpc0NoZWNrZWQoY3R4Mi5jaGVja2VkKSB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgKTtcbn1cbmZ1bmN0aW9uIGlzSW5kZXRlcm1pbmF0ZShjaGVja2VkKSB7XG4gIHJldHVybiBjaGVja2VkID09PSBcImluZGV0ZXJtaW5hdGVcIjtcbn1cbmZ1bmN0aW9uIGlzQ2hlY2tlZChjaGVja2VkKSB7XG4gIHJldHVybiBpc0luZGV0ZXJtaW5hdGUoY2hlY2tlZCkgPyBmYWxzZSA6ICEhY2hlY2tlZDtcbn1cbnZhciBpbnZva2UgPSB7XG4gIGNoYW5nZTogKGN0eCkgPT4ge1xuICAgIGN0eC5vbkNoZWNrZWRDaGFuZ2U/Lih7IGNoZWNrZWQ6IGN0eC5jaGVja2VkIH0pO1xuICB9XG59O1xudmFyIHNldCA9IHtcbiAgY2hlY2tlZDogKGN0eCwgY2hlY2tlZCkgPT4ge1xuICAgIGlmIChpc0VxdWFsKGN0eC5jaGVja2VkLCBjaGVja2VkKSlcbiAgICAgIHJldHVybjtcbiAgICBjdHguY2hlY2tlZCA9IGNoZWNrZWQ7XG4gICAgaW52b2tlLmNoYW5nZShjdHgpO1xuICB9XG59O1xuZXhwb3J0IHtcbiAgYW5hdG9teSxcbiAgY29ubmVjdCxcbiAgbWFjaGluZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/checkbox/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/collection/dist/index.mjs":
/*!********************************************************!*\
  !*** ./node_modules/@zag-js/collection/dist/index.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Collection: () => (/* binding */ Collection)\n/* harmony export */ });\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\n\n// src/collection.ts\nvar isObject = (v) => typeof v === \"object\" && v !== null && !Array.isArray(v);\nvar hasKey = (obj, key) => Object.prototype.hasOwnProperty.call(obj, key);\nvar fallback = {\n  itemToValue(item) {\n    if (typeof item === \"string\")\n      return item;\n    if (isObject(item) && hasKey(item, \"value\"))\n      return item.value;\n    return \"\";\n  },\n  itemToString(item) {\n    if (typeof item === \"string\")\n      return item;\n    if (isObject(item) && hasKey(item, \"label\"))\n      return item.label;\n    return fallback.itemToValue(item);\n  },\n  itemToDisabled(item) {\n    if (isObject(item) && hasKey(item, \"disabled\"))\n      return !!item.disabled;\n    return false;\n  }\n};\nvar Collection = class {\n  constructor(options) {\n    this.options = options;\n    /**\n     * The collection nodes\n     */\n    __publicField(this, \"nodes\", /* @__PURE__ */ new Map());\n    /**\n     * The set of disabled values\n     */\n    __publicField(this, \"disabledValues\", /* @__PURE__ */ new Set());\n    /**\n     * The first value in the collection (without accounting for disabled items)\n     */\n    __publicField(this, \"_firstValue\", null);\n    /**\n     * The last value in the collection (without accounting for disabled items)\n     */\n    __publicField(this, \"_lastValue\", null);\n    /**\n     * Iterate over the collection items and create a map of nodes\n     */\n    __publicField(this, \"iterate\", () => {\n      const { items } = this.options;\n      for (let i = 0; i < items.length; i++) {\n        const item = items[i];\n        const value = this.itemToValue(item);\n        const label = this.itemToString(item);\n        const disabled = this.itemToDisabled(item);\n        const node = {\n          // freeze item to prevent mutation by frameworks like Solid.js\n          item: Object.freeze(item),\n          index: i,\n          label,\n          value,\n          previousValue: this.itemToValue(items[i - 1]) ?? null,\n          nextValue: this.itemToValue(items[i + 1]) ?? null\n        };\n        this.nodes.set(value, node);\n        if (disabled) {\n          this.disabledValues.add(value);\n        }\n        if (i === 0) {\n          this._firstValue = value;\n        }\n        if (i === items.length - 1) {\n          this._lastValue = value;\n        }\n      }\n      return this;\n    });\n    /**\n     * Function to update the collection items\n     */\n    __publicField(this, \"setItems\", (items) => {\n      this.options.items = items;\n      return this.iterate();\n    });\n    /**\n     * Get the item based on its value\n     */\n    __publicField(this, \"item\", (value) => {\n      if (value === null)\n        return null;\n      return this.nodes.get(value)?.item ?? null;\n    });\n    /**\n     * Get the items based on its values\n     */\n    __publicField(this, \"items\", (values) => {\n      return values.map((value) => this.item(value)).filter(Boolean);\n    });\n    /**\n     * Get the item based on its index\n     */\n    __publicField(this, \"at\", (index) => {\n      for (const node of this.nodes.values()) {\n        if (node.index === index) {\n          return node.item;\n        }\n      }\n      return null;\n    });\n    __publicField(this, \"sortFn\", (valueA, valueB) => {\n      const nodeA = this.nodes.get(valueA);\n      const nodeB = this.nodes.get(valueB);\n      return (nodeA?.index ?? 0) - (nodeB?.index ?? 0);\n    });\n    /**\n     * Sort the values based on their index\n     */\n    __publicField(this, \"sort\", (values) => {\n      return values.sort(this.sortFn);\n    });\n    /**\n     * Convert an item to a value\n     */\n    __publicField(this, \"itemToValue\", (item) => {\n      if (!item)\n        return \"\";\n      return this.options.itemToValue?.(item) ?? fallback.itemToValue(item);\n    });\n    /**\n     * Convert an item to a string\n     */\n    __publicField(this, \"itemToString\", (item) => {\n      if (!item)\n        return \"\";\n      return this.options.itemToString?.(item) ?? fallback.itemToString(item);\n    });\n    /**\n     * Whether an item is disabled\n     */\n    __publicField(this, \"itemToDisabled\", (item) => {\n      if (!item)\n        return false;\n      return this.options.isItemDisabled?.(item) ?? fallback.itemToDisabled(item);\n    });\n    /**\n     * Convert a value to a string\n     */\n    __publicField(this, \"valueToString\", (value) => {\n      if (value == null)\n        return \"\";\n      return this.nodes.get(value)?.label ?? \"\";\n    });\n    /**\n     * Convert an array of items to a string\n     */\n    __publicField(this, \"itemsToString\", (item, separator = \", \") => {\n      return item.map((item2) => this.itemToString(item2)).filter(Boolean).join(separator);\n    });\n    /**\n     * Whether the collection has a value\n     */\n    __publicField(this, \"has\", (value) => {\n      if (value == null)\n        return false;\n      return this.nodes.has(value);\n    });\n    /**\n     * Returns the number of items in the collection\n     */\n    __publicField(this, \"count\", () => {\n      return this.nodes.size;\n    });\n    /**\n     * Returns the first value in the collection\n     */\n    __publicField(this, \"first\", () => {\n      let firstValue = this._firstValue;\n      while (firstValue != null) {\n        let item = this.nodes.get(firstValue);\n        if (item != null && !this.disabledValues.has(item.value)) {\n          return firstValue;\n        }\n        firstValue = item?.nextValue ?? null;\n      }\n      return null;\n    });\n    /**\n     * Returns the last value in the collection\n     */\n    __publicField(this, \"last\", () => {\n      let lastValue = this._lastValue;\n      while (lastValue != null) {\n        let item = this.nodes.get(lastValue);\n        if (item != null && !this.disabledValues.has(item.value)) {\n          return lastValue;\n        }\n        lastValue = item?.previousValue ?? null;\n      }\n      return null;\n    });\n    /**\n     * Returns the next value in the collection\n     */\n    __publicField(this, \"next\", (value) => {\n      if (value == null)\n        return null;\n      const item = this.nodes.get(value);\n      let nextValue = item?.nextValue ?? null;\n      while (nextValue != null) {\n        let item2 = this.nodes.get(nextValue);\n        if (item2 != null && !this.disabledValues.has(item2.value)) {\n          return nextValue;\n        }\n        nextValue = item2?.nextValue ?? null;\n      }\n      return null;\n    });\n    /**\n     * Returns the previous value in the collection\n     */\n    __publicField(this, \"prev\", (value) => {\n      if (value == null)\n        return null;\n      const item = this.nodes.get(value);\n      let previousValue = item?.previousValue ?? null;\n      while (previousValue != null) {\n        let item2 = this.nodes.get(previousValue);\n        if (item2 != null && !this.disabledValues.has(item2.value)) {\n          return previousValue;\n        }\n        previousValue = item2?.previousValue ?? null;\n      }\n      return null;\n    });\n    /**\n     * Whether an item is disabled\n     */\n    __publicField(this, \"isItemDisabled\", (item) => {\n      return this.disabledValues.has(this.itemToValue(item));\n    });\n    /**\n     * Returns the array of collection nodes\n     */\n    __publicField(this, \"toArray\", () => {\n      return Array.from(this.nodes.values());\n    });\n    /**\n     * Get the index of an item based on its key\n     */\n    __publicField(this, \"indexOf\", (value) => {\n      if (value == null)\n        return -1;\n      return this.nodes.get(value)?.index ?? -1;\n    });\n    __publicField(this, \"getByText\", (text, currentValue) => {\n      const index = this.indexOf(currentValue);\n      let nodes = currentValue != null ? wrap(this.toArray(), index) : this.toArray();\n      const isSingleKey = text.length === 1;\n      if (isSingleKey) {\n        nodes = nodes.filter((node) => node.value !== currentValue);\n      }\n      return nodes.find((node) => match(node.label, text));\n    });\n    /**\n     * Search for a value based on a query\n     */\n    __publicField(this, \"search\", (queryString, options) => {\n      const { state, currentValue, timeout = 350 } = options;\n      const search = state.keysSoFar + queryString;\n      const isRepeated = search.length > 1 && Array.from(search).every((char) => char === search[0]);\n      const query = isRepeated ? search[0] : search;\n      const value = this.getByText(query, currentValue)?.value ?? null;\n      function cleanup() {\n        clearTimeout(state.timer);\n        state.timer = -1;\n      }\n      function update(value2) {\n        state.keysSoFar = value2;\n        cleanup();\n        if (value2 !== \"\") {\n          state.timer = +setTimeout(() => {\n            update(\"\");\n            cleanup();\n          }, timeout);\n        }\n      }\n      update(search);\n      return value;\n    });\n    __publicField(this, \"toJSON\", () => {\n      return {\n        size: this.count(),\n        first: this.first(),\n        last: this.last()\n      };\n    });\n    this.iterate();\n  }\n};\nvar match = (label, query) => {\n  return label.toLowerCase().startsWith(query.toLowerCase());\n};\nvar wrap = (v, idx) => {\n  return v.map((_, index) => v[(Math.max(idx, 0) + index) % v.length]);\n};\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9jb2xsZWN0aW9uL2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBLDhFQUE4RSw2REFBNkQ7QUFDM0k7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFFBQVE7QUFDdEIsc0JBQXNCLGtCQUFrQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMscUNBQXFDO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0U7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL0BwYXJrLXVpL2V4YW1wbGVzLXJlYWN0LW5leHQtanMvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9jb2xsZWN0aW9uL2Rpc3QvaW5kZXgubWpzP2I2MWQiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2RlZk5vcm1hbFByb3AgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3B1YmxpY0ZpZWxkID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ge1xuICBfX2RlZk5vcm1hbFByb3Aob2JqLCB0eXBlb2Yga2V5ICE9PSBcInN5bWJvbFwiID8ga2V5ICsgXCJcIiA6IGtleSwgdmFsdWUpO1xuICByZXR1cm4gdmFsdWU7XG59O1xuXG4vLyBzcmMvY29sbGVjdGlvbi50c1xudmFyIGlzT2JqZWN0ID0gKHYpID0+IHR5cGVvZiB2ID09PSBcIm9iamVjdFwiICYmIHYgIT09IG51bGwgJiYgIUFycmF5LmlzQXJyYXkodik7XG52YXIgaGFzS2V5ID0gKG9iaiwga2V5KSA9PiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpO1xudmFyIGZhbGxiYWNrID0ge1xuICBpdGVtVG9WYWx1ZShpdGVtKSB7XG4gICAgaWYgKHR5cGVvZiBpdGVtID09PSBcInN0cmluZ1wiKVxuICAgICAgcmV0dXJuIGl0ZW07XG4gICAgaWYgKGlzT2JqZWN0KGl0ZW0pICYmIGhhc0tleShpdGVtLCBcInZhbHVlXCIpKVxuICAgICAgcmV0dXJuIGl0ZW0udmFsdWU7XG4gICAgcmV0dXJuIFwiXCI7XG4gIH0sXG4gIGl0ZW1Ub1N0cmluZyhpdGVtKSB7XG4gICAgaWYgKHR5cGVvZiBpdGVtID09PSBcInN0cmluZ1wiKVxuICAgICAgcmV0dXJuIGl0ZW07XG4gICAgaWYgKGlzT2JqZWN0KGl0ZW0pICYmIGhhc0tleShpdGVtLCBcImxhYmVsXCIpKVxuICAgICAgcmV0dXJuIGl0ZW0ubGFiZWw7XG4gICAgcmV0dXJuIGZhbGxiYWNrLml0ZW1Ub1ZhbHVlKGl0ZW0pO1xuICB9LFxuICBpdGVtVG9EaXNhYmxlZChpdGVtKSB7XG4gICAgaWYgKGlzT2JqZWN0KGl0ZW0pICYmIGhhc0tleShpdGVtLCBcImRpc2FibGVkXCIpKVxuICAgICAgcmV0dXJuICEhaXRlbS5kaXNhYmxlZDtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG52YXIgQ29sbGVjdGlvbiA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgLyoqXG4gICAgICogVGhlIGNvbGxlY3Rpb24gbm9kZXNcbiAgICAgKi9cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwibm9kZXNcIiwgLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSk7XG4gICAgLyoqXG4gICAgICogVGhlIHNldCBvZiBkaXNhYmxlZCB2YWx1ZXNcbiAgICAgKi9cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiZGlzYWJsZWRWYWx1ZXNcIiwgLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKSk7XG4gICAgLyoqXG4gICAgICogVGhlIGZpcnN0IHZhbHVlIGluIHRoZSBjb2xsZWN0aW9uICh3aXRob3V0IGFjY291bnRpbmcgZm9yIGRpc2FibGVkIGl0ZW1zKVxuICAgICAqL1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJfZmlyc3RWYWx1ZVwiLCBudWxsKTtcbiAgICAvKipcbiAgICAgKiBUaGUgbGFzdCB2YWx1ZSBpbiB0aGUgY29sbGVjdGlvbiAod2l0aG91dCBhY2NvdW50aW5nIGZvciBkaXNhYmxlZCBpdGVtcylcbiAgICAgKi9cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiX2xhc3RWYWx1ZVwiLCBudWxsKTtcbiAgICAvKipcbiAgICAgKiBJdGVyYXRlIG92ZXIgdGhlIGNvbGxlY3Rpb24gaXRlbXMgYW5kIGNyZWF0ZSBhIG1hcCBvZiBub2Rlc1xuICAgICAqL1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJpdGVyYXRlXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgaXRlbXMgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IGl0ZW1zW2ldO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuaXRlbVRvVmFsdWUoaXRlbSk7XG4gICAgICAgIGNvbnN0IGxhYmVsID0gdGhpcy5pdGVtVG9TdHJpbmcoaXRlbSk7XG4gICAgICAgIGNvbnN0IGRpc2FibGVkID0gdGhpcy5pdGVtVG9EaXNhYmxlZChpdGVtKTtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHtcbiAgICAgICAgICAvLyBmcmVlemUgaXRlbSB0byBwcmV2ZW50IG11dGF0aW9uIGJ5IGZyYW1ld29ya3MgbGlrZSBTb2xpZC5qc1xuICAgICAgICAgIGl0ZW06IE9iamVjdC5mcmVlemUoaXRlbSksXG4gICAgICAgICAgaW5kZXg6IGksXG4gICAgICAgICAgbGFiZWwsXG4gICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgcHJldmlvdXNWYWx1ZTogdGhpcy5pdGVtVG9WYWx1ZShpdGVtc1tpIC0gMV0pID8/IG51bGwsXG4gICAgICAgICAgbmV4dFZhbHVlOiB0aGlzLml0ZW1Ub1ZhbHVlKGl0ZW1zW2kgKyAxXSkgPz8gbnVsbFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLm5vZGVzLnNldCh2YWx1ZSwgbm9kZSk7XG4gICAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICAgIHRoaXMuZGlzYWJsZWRWYWx1ZXMuYWRkKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgIHRoaXMuX2ZpcnN0VmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA9PT0gaXRlbXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIHRoaXMuX2xhc3RWYWx1ZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiB0byB1cGRhdGUgdGhlIGNvbGxlY3Rpb24gaXRlbXNcbiAgICAgKi9cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwic2V0SXRlbXNcIiwgKGl0ZW1zKSA9PiB7XG4gICAgICB0aGlzLm9wdGlvbnMuaXRlbXMgPSBpdGVtcztcbiAgICAgIHJldHVybiB0aGlzLml0ZXJhdGUoKTtcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGl0ZW0gYmFzZWQgb24gaXRzIHZhbHVlXG4gICAgICovXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcIml0ZW1cIiwgKHZhbHVlKSA9PiB7XG4gICAgICBpZiAodmFsdWUgPT09IG51bGwpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgcmV0dXJuIHRoaXMubm9kZXMuZ2V0KHZhbHVlKT8uaXRlbSA/PyBudWxsO1xuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgaXRlbXMgYmFzZWQgb24gaXRzIHZhbHVlc1xuICAgICAqL1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJpdGVtc1wiLCAodmFsdWVzKSA9PiB7XG4gICAgICByZXR1cm4gdmFsdWVzLm1hcCgodmFsdWUpID0+IHRoaXMuaXRlbSh2YWx1ZSkpLmZpbHRlcihCb29sZWFuKTtcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGl0ZW0gYmFzZWQgb24gaXRzIGluZGV4XG4gICAgICovXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImF0XCIsIChpbmRleCkgPT4ge1xuICAgICAgZm9yIChjb25zdCBub2RlIG9mIHRoaXMubm9kZXMudmFsdWVzKCkpIHtcbiAgICAgICAgaWYgKG5vZGUuaW5kZXggPT09IGluZGV4KSB7XG4gICAgICAgICAgcmV0dXJuIG5vZGUuaXRlbTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInNvcnRGblwiLCAodmFsdWVBLCB2YWx1ZUIpID0+IHtcbiAgICAgIGNvbnN0IG5vZGVBID0gdGhpcy5ub2Rlcy5nZXQodmFsdWVBKTtcbiAgICAgIGNvbnN0IG5vZGVCID0gdGhpcy5ub2Rlcy5nZXQodmFsdWVCKTtcbiAgICAgIHJldHVybiAobm9kZUE/LmluZGV4ID8/IDApIC0gKG5vZGVCPy5pbmRleCA/PyAwKTtcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBTb3J0IHRoZSB2YWx1ZXMgYmFzZWQgb24gdGhlaXIgaW5kZXhcbiAgICAgKi9cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwic29ydFwiLCAodmFsdWVzKSA9PiB7XG4gICAgICByZXR1cm4gdmFsdWVzLnNvcnQodGhpcy5zb3J0Rm4pO1xuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIENvbnZlcnQgYW4gaXRlbSB0byBhIHZhbHVlXG4gICAgICovXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcIml0ZW1Ub1ZhbHVlXCIsIChpdGVtKSA9PiB7XG4gICAgICBpZiAoIWl0ZW0pXG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5pdGVtVG9WYWx1ZT8uKGl0ZW0pID8/IGZhbGxiYWNrLml0ZW1Ub1ZhbHVlKGl0ZW0pO1xuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIENvbnZlcnQgYW4gaXRlbSB0byBhIHN0cmluZ1xuICAgICAqL1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJpdGVtVG9TdHJpbmdcIiwgKGl0ZW0pID0+IHtcbiAgICAgIGlmICghaXRlbSlcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICByZXR1cm4gdGhpcy5vcHRpb25zLml0ZW1Ub1N0cmluZz8uKGl0ZW0pID8/IGZhbGxiYWNrLml0ZW1Ub1N0cmluZyhpdGVtKTtcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIGFuIGl0ZW0gaXMgZGlzYWJsZWRcbiAgICAgKi9cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiaXRlbVRvRGlzYWJsZWRcIiwgKGl0ZW0pID0+IHtcbiAgICAgIGlmICghaXRlbSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5pc0l0ZW1EaXNhYmxlZD8uKGl0ZW0pID8/IGZhbGxiYWNrLml0ZW1Ub0Rpc2FibGVkKGl0ZW0pO1xuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIENvbnZlcnQgYSB2YWx1ZSB0byBhIHN0cmluZ1xuICAgICAqL1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJ2YWx1ZVRvU3RyaW5nXCIsICh2YWx1ZSkgPT4ge1xuICAgICAgaWYgKHZhbHVlID09IG51bGwpXG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgcmV0dXJuIHRoaXMubm9kZXMuZ2V0KHZhbHVlKT8ubGFiZWwgPz8gXCJcIjtcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IGFuIGFycmF5IG9mIGl0ZW1zIHRvIGEgc3RyaW5nXG4gICAgICovXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcIml0ZW1zVG9TdHJpbmdcIiwgKGl0ZW0sIHNlcGFyYXRvciA9IFwiLCBcIikgPT4ge1xuICAgICAgcmV0dXJuIGl0ZW0ubWFwKChpdGVtMikgPT4gdGhpcy5pdGVtVG9TdHJpbmcoaXRlbTIpKS5maWx0ZXIoQm9vbGVhbikuam9pbihzZXBhcmF0b3IpO1xuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIGNvbGxlY3Rpb24gaGFzIGEgdmFsdWVcbiAgICAgKi9cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiaGFzXCIsICh2YWx1ZSkgPT4ge1xuICAgICAgaWYgKHZhbHVlID09IG51bGwpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiB0aGlzLm5vZGVzLmhhcyh2YWx1ZSk7XG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIGl0ZW1zIGluIHRoZSBjb2xsZWN0aW9uXG4gICAgICovXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImNvdW50XCIsICgpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLm5vZGVzLnNpemU7XG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZmlyc3QgdmFsdWUgaW4gdGhlIGNvbGxlY3Rpb25cbiAgICAgKi9cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiZmlyc3RcIiwgKCkgPT4ge1xuICAgICAgbGV0IGZpcnN0VmFsdWUgPSB0aGlzLl9maXJzdFZhbHVlO1xuICAgICAgd2hpbGUgKGZpcnN0VmFsdWUgIT0gbnVsbCkge1xuICAgICAgICBsZXQgaXRlbSA9IHRoaXMubm9kZXMuZ2V0KGZpcnN0VmFsdWUpO1xuICAgICAgICBpZiAoaXRlbSAhPSBudWxsICYmICF0aGlzLmRpc2FibGVkVmFsdWVzLmhhcyhpdGVtLnZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBmaXJzdFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGZpcnN0VmFsdWUgPSBpdGVtPy5uZXh0VmFsdWUgPz8gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGxhc3QgdmFsdWUgaW4gdGhlIGNvbGxlY3Rpb25cbiAgICAgKi9cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwibGFzdFwiLCAoKSA9PiB7XG4gICAgICBsZXQgbGFzdFZhbHVlID0gdGhpcy5fbGFzdFZhbHVlO1xuICAgICAgd2hpbGUgKGxhc3RWYWx1ZSAhPSBudWxsKSB7XG4gICAgICAgIGxldCBpdGVtID0gdGhpcy5ub2Rlcy5nZXQobGFzdFZhbHVlKTtcbiAgICAgICAgaWYgKGl0ZW0gIT0gbnVsbCAmJiAhdGhpcy5kaXNhYmxlZFZhbHVlcy5oYXMoaXRlbS52YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gbGFzdFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RWYWx1ZSA9IGl0ZW0/LnByZXZpb3VzVmFsdWUgPz8gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG5leHQgdmFsdWUgaW4gdGhlIGNvbGxlY3Rpb25cbiAgICAgKi9cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwibmV4dFwiLCAodmFsdWUpID0+IHtcbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLm5vZGVzLmdldCh2YWx1ZSk7XG4gICAgICBsZXQgbmV4dFZhbHVlID0gaXRlbT8ubmV4dFZhbHVlID8/IG51bGw7XG4gICAgICB3aGlsZSAobmV4dFZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgbGV0IGl0ZW0yID0gdGhpcy5ub2Rlcy5nZXQobmV4dFZhbHVlKTtcbiAgICAgICAgaWYgKGl0ZW0yICE9IG51bGwgJiYgIXRoaXMuZGlzYWJsZWRWYWx1ZXMuaGFzKGl0ZW0yLnZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBuZXh0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgbmV4dFZhbHVlID0gaXRlbTI/Lm5leHRWYWx1ZSA/PyBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcHJldmlvdXMgdmFsdWUgaW4gdGhlIGNvbGxlY3Rpb25cbiAgICAgKi9cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwicHJldlwiLCAodmFsdWUpID0+IHtcbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLm5vZGVzLmdldCh2YWx1ZSk7XG4gICAgICBsZXQgcHJldmlvdXNWYWx1ZSA9IGl0ZW0/LnByZXZpb3VzVmFsdWUgPz8gbnVsbDtcbiAgICAgIHdoaWxlIChwcmV2aW91c1ZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgbGV0IGl0ZW0yID0gdGhpcy5ub2Rlcy5nZXQocHJldmlvdXNWYWx1ZSk7XG4gICAgICAgIGlmIChpdGVtMiAhPSBudWxsICYmICF0aGlzLmRpc2FibGVkVmFsdWVzLmhhcyhpdGVtMi52YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gcHJldmlvdXNWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBwcmV2aW91c1ZhbHVlID0gaXRlbTI/LnByZXZpb3VzVmFsdWUgPz8gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgYW4gaXRlbSBpcyBkaXNhYmxlZFxuICAgICAqL1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJpc0l0ZW1EaXNhYmxlZFwiLCAoaXRlbSkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuZGlzYWJsZWRWYWx1ZXMuaGFzKHRoaXMuaXRlbVRvVmFsdWUoaXRlbSkpO1xuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGFycmF5IG9mIGNvbGxlY3Rpb24gbm9kZXNcbiAgICAgKi9cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwidG9BcnJheVwiLCAoKSA9PiB7XG4gICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLm5vZGVzLnZhbHVlcygpKTtcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGluZGV4IG9mIGFuIGl0ZW0gYmFzZWQgb24gaXRzIGtleVxuICAgICAqL1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJpbmRleE9mXCIsICh2YWx1ZSkgPT4ge1xuICAgICAgaWYgKHZhbHVlID09IG51bGwpXG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIHJldHVybiB0aGlzLm5vZGVzLmdldCh2YWx1ZSk/LmluZGV4ID8/IC0xO1xuICAgIH0pO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJnZXRCeVRleHRcIiwgKHRleHQsIGN1cnJlbnRWYWx1ZSkgPT4ge1xuICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmluZGV4T2YoY3VycmVudFZhbHVlKTtcbiAgICAgIGxldCBub2RlcyA9IGN1cnJlbnRWYWx1ZSAhPSBudWxsID8gd3JhcCh0aGlzLnRvQXJyYXkoKSwgaW5kZXgpIDogdGhpcy50b0FycmF5KCk7XG4gICAgICBjb25zdCBpc1NpbmdsZUtleSA9IHRleHQubGVuZ3RoID09PSAxO1xuICAgICAgaWYgKGlzU2luZ2xlS2V5KSB7XG4gICAgICAgIG5vZGVzID0gbm9kZXMuZmlsdGVyKChub2RlKSA9PiBub2RlLnZhbHVlICE9PSBjdXJyZW50VmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5vZGVzLmZpbmQoKG5vZGUpID0+IG1hdGNoKG5vZGUubGFiZWwsIHRleHQpKTtcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBTZWFyY2ggZm9yIGEgdmFsdWUgYmFzZWQgb24gYSBxdWVyeVxuICAgICAqL1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJzZWFyY2hcIiwgKHF1ZXJ5U3RyaW5nLCBvcHRpb25zKSA9PiB7XG4gICAgICBjb25zdCB7IHN0YXRlLCBjdXJyZW50VmFsdWUsIHRpbWVvdXQgPSAzNTAgfSA9IG9wdGlvbnM7XG4gICAgICBjb25zdCBzZWFyY2ggPSBzdGF0ZS5rZXlzU29GYXIgKyBxdWVyeVN0cmluZztcbiAgICAgIGNvbnN0IGlzUmVwZWF0ZWQgPSBzZWFyY2gubGVuZ3RoID4gMSAmJiBBcnJheS5mcm9tKHNlYXJjaCkuZXZlcnkoKGNoYXIpID0+IGNoYXIgPT09IHNlYXJjaFswXSk7XG4gICAgICBjb25zdCBxdWVyeSA9IGlzUmVwZWF0ZWQgPyBzZWFyY2hbMF0gOiBzZWFyY2g7XG4gICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuZ2V0QnlUZXh0KHF1ZXJ5LCBjdXJyZW50VmFsdWUpPy52YWx1ZSA/PyBudWxsO1xuICAgICAgZnVuY3Rpb24gY2xlYW51cCgpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHN0YXRlLnRpbWVyKTtcbiAgICAgICAgc3RhdGUudGltZXIgPSAtMTtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHVwZGF0ZSh2YWx1ZTIpIHtcbiAgICAgICAgc3RhdGUua2V5c1NvRmFyID0gdmFsdWUyO1xuICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgIGlmICh2YWx1ZTIgIT09IFwiXCIpIHtcbiAgICAgICAgICBzdGF0ZS50aW1lciA9ICtzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHVwZGF0ZShcIlwiKTtcbiAgICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgICB9LCB0aW1lb3V0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdXBkYXRlKHNlYXJjaCk7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInRvSlNPTlwiLCAoKSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzaXplOiB0aGlzLmNvdW50KCksXG4gICAgICAgIGZpcnN0OiB0aGlzLmZpcnN0KCksXG4gICAgICAgIGxhc3Q6IHRoaXMubGFzdCgpXG4gICAgICB9O1xuICAgIH0pO1xuICAgIHRoaXMuaXRlcmF0ZSgpO1xuICB9XG59O1xudmFyIG1hdGNoID0gKGxhYmVsLCBxdWVyeSkgPT4ge1xuICByZXR1cm4gbGFiZWwudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKHF1ZXJ5LnRvTG93ZXJDYXNlKCkpO1xufTtcbnZhciB3cmFwID0gKHYsIGlkeCkgPT4ge1xuICByZXR1cm4gdi5tYXAoKF8sIGluZGV4KSA9PiB2WyhNYXRoLm1heChpZHgsIDApICsgaW5kZXgpICUgdi5sZW5ndGhdKTtcbn07XG5leHBvcnQge1xuICBDb2xsZWN0aW9uXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/collection/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/color-picker/dist/index.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/@zag-js/color-picker/dist/index.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   anatomy: () => (/* binding */ anatomy),\n/* harmony export */   connect: () => (/* binding */ connect),\n/* harmony export */   machine: () => (/* binding */ machine),\n/* harmony export */   parse: () => (/* binding */ parse)\n/* harmony export */ });\n/* harmony import */ var _zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/anatomy */ \"(ssr)/./node_modules/@zag-js/anatomy/dist/index.mjs\");\n/* harmony import */ var _zag_js_color_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @zag-js/color-utils */ \"(ssr)/./node_modules/@zag-js/color-utils/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @zag-js/dom-event */ \"(ssr)/./node_modules/@zag-js/dom-event/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @zag-js/dom-query */ \"(ssr)/./node_modules/@zag-js/dom-query/dist/index.mjs\");\n/* harmony import */ var _zag_js_popper__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @zag-js/popper */ \"(ssr)/./node_modules/@zag-js/popper/dist/index.mjs\");\n/* harmony import */ var _zag_js_visually_hidden__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @zag-js/visually-hidden */ \"(ssr)/./node_modules/@zag-js/visually-hidden/dist/index.mjs\");\n/* harmony import */ var _zag_js_tabbable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @zag-js/tabbable */ \"(ssr)/./node_modules/@zag-js/tabbable/dist/index.mjs\");\n/* harmony import */ var _zag_js_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @zag-js/utils */ \"(ssr)/./node_modules/@zag-js/utils/dist/index.mjs\");\n/* harmony import */ var _zag_js_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @zag-js/core */ \"(ssr)/./node_modules/@zag-js/core/dist/index.mjs\");\n/* harmony import */ var _zag_js_dismissable__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @zag-js/dismissable */ \"(ssr)/./node_modules/@zag-js/dismissable/dist/index.mjs\");\n/* harmony import */ var _zag_js_form_utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @zag-js/form-utils */ \"(ssr)/./node_modules/@zag-js/form-utils/dist/index.mjs\");\n/* harmony import */ var _zag_js_text_selection__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @zag-js/text-selection */ \"(ssr)/./node_modules/@zag-js/text-selection/dist/index.mjs\");\n// src/color-picker.anatomy.ts\n\nvar anatomy = (0,_zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__.createAnatomy)(\"color-picker\", [\n  \"root\",\n  \"label\",\n  \"control\",\n  \"trigger\",\n  \"positioner\",\n  \"content\",\n  \"area\",\n  \"areaThumb\",\n  \"areaBackground\",\n  \"channelSlider\",\n  \"channelSliderTrack\",\n  \"channelSliderThumb\",\n  \"channelInput\",\n  \"transparencyGrid\",\n  \"swatchGroup\",\n  \"swatchTrigger\",\n  \"swatchIndicator\",\n  \"swatch\",\n  \"eyeDropperTrigger\",\n  \"formatTrigger\",\n  \"formatSelect\"\n]);\nvar parts = anatomy.build();\n\n// src/color-picker.connect.ts\n\n\n\n\n\n\n// src/color-picker.dom.ts\n\n\n\n\nvar dom = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.createScope)({\n  getRootId: (ctx) => ctx.ids?.root ?? `color-picker:${ctx.id}`,\n  getLabelId: (ctx) => ctx.ids?.label ?? `color-picker:${ctx.id}:label`,\n  getHiddenInputId: (ctx) => `color-picker:${ctx.id}:hidden-input`,\n  getControlId: (ctx) => ctx.ids?.control ?? `color-picker:${ctx.id}:control`,\n  getTriggerId: (ctx) => ctx.ids?.trigger ?? `color-picker:${ctx.id}:trigger`,\n  getContentId: (ctx) => ctx.ids?.content ?? `color-picker:${ctx.id}:content`,\n  getPositionerId: (ctx) => `color-picker:${ctx.id}:positioner`,\n  getFormatSelectId: (ctx) => `color-picker:${ctx.id}:format-select`,\n  getAreaId: (ctx) => ctx.ids?.area ?? `color-picker:${ctx.id}:area`,\n  getAreaGradientId: (ctx) => ctx.ids?.areaGradient ?? `color-picker:${ctx.id}:area-gradient`,\n  getAreaThumbId: (ctx) => ctx.ids?.areaThumb ?? `color-picker:${ctx.id}:area-thumb`,\n  getChannelSliderId: (ctx, channel) => ctx.ids?.channelSliderTrack?.(channel) ?? `color-picker:${ctx.id}:slider-track:${channel}`,\n  getChannelSliderThumbId: (ctx, channel) => ctx.ids?.channelSliderThumb?.(channel) ?? `color-picker:${ctx.id}:slider-thumb:${channel}`,\n  getContentEl: (ctx) => dom.getById(ctx, dom.getContentId(ctx)),\n  getAreaThumbEl: (ctx) => dom.getById(ctx, dom.getAreaThumbId(ctx)),\n  getChannelSliderThumbEl: (ctx, channel) => dom.getById(ctx, dom.getChannelSliderThumbId(ctx, channel)),\n  getChannelInputEl: (ctx, channel) => {\n    return [\n      ...(0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.queryAll)(dom.getContentEl(ctx), `input[data-channel=\"${channel}\"]`),\n      ...(0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.queryAll)(dom.getControlEl(ctx), `input[data-channel=\"${channel}\"]`)\n    ];\n  },\n  getFormatSelectEl: (ctx) => dom.getById(ctx, dom.getFormatSelectId(ctx)),\n  getHiddenInputEl: (ctx) => dom.getById(ctx, dom.getHiddenInputId(ctx)),\n  getAreaEl: (ctx) => dom.getById(ctx, dom.getAreaId(ctx)),\n  getAreaValueFromPoint(ctx, point) {\n    const areaEl = dom.getAreaEl(ctx);\n    if (!areaEl)\n      return;\n    const { percent } = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_2__.getRelativePoint)(point, areaEl);\n    return percent;\n  },\n  getControlEl: (ctx) => dom.getById(ctx, dom.getControlId(ctx)),\n  getTriggerEl: (ctx) => dom.getById(ctx, dom.getTriggerId(ctx)),\n  getPositionerEl: (ctx) => dom.getById(ctx, dom.getPositionerId(ctx)),\n  getChannelSliderTrackEl: (ctx, channel) => {\n    return dom.getById(ctx, dom.getChannelSliderId(ctx, channel));\n  },\n  getChannelSliderValueFromPoint(ctx, point, channel) {\n    const trackEl = dom.getChannelSliderTrackEl(ctx, channel);\n    if (!trackEl)\n      return;\n    const { percent } = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_2__.getRelativePoint)(point, trackEl);\n    return percent;\n  },\n  getChannelInputEls: (ctx) => {\n    return [\n      ...(0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.queryAll)(dom.getContentEl(ctx), \"input[data-channel]\"),\n      ...(0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.queryAll)(dom.getControlEl(ctx), \"input[data-channel]\")\n    ];\n  },\n  getFirstFocusableEl: (ctx) => (0,_zag_js_tabbable__WEBPACK_IMPORTED_MODULE_3__.getFirstFocusable)(dom.getContentEl(ctx), \"if-empty\"),\n  getInitialFocusEl: (ctx) => {\n    let el = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_4__.runIfFn)(ctx.initialFocusEl);\n    el = dom.getFirstFocusableEl(ctx) ?? dom.getContentEl(ctx);\n    return el;\n  }\n});\n\n// src/utils/get-channel-display-color.ts\n\nfunction getChannelDisplayColor(color, channel) {\n  switch (channel) {\n    case \"hue\":\n      return (0,_zag_js_color_utils__WEBPACK_IMPORTED_MODULE_5__.parseColor)(`hsl(${color.getChannelValue(\"hue\")}, 100%, 50%)`);\n    case \"lightness\":\n    case \"brightness\":\n    case \"saturation\":\n    case \"red\":\n    case \"green\":\n    case \"blue\":\n      return color.withChannelValue(\"alpha\", 1);\n    case \"alpha\": {\n      return color;\n    }\n    default:\n      throw new Error(\"Unknown color channel: \" + channel);\n  }\n}\n\n// src/utils/get-channel-input-value.ts\n\nfunction getChannelValue(color, channel) {\n  if (channel == null)\n    return \"\";\n  if (channel === \"hex\") {\n    return color.toString(\"hex\");\n  }\n  if (channel === \"css\") {\n    return color.toString(\"css\");\n  }\n  if (channel in color) {\n    return color.getChannelValue(channel).toString();\n  }\n  const isHSL = color.getFormat() === \"hsla\";\n  switch (channel) {\n    case \"hue\":\n      return isHSL ? color.toFormat(\"hsla\").getChannelValue(\"hue\").toString() : color.toFormat(\"hsba\").getChannelValue(\"hue\").toString();\n    case \"saturation\":\n      return isHSL ? color.toFormat(\"hsla\").getChannelValue(\"saturation\").toString() : color.toFormat(\"hsba\").getChannelValue(\"saturation\").toString();\n    case \"lightness\":\n      return color.toFormat(\"hsla\").getChannelValue(\"lightness\").toString();\n    case \"brightness\":\n      return color.toFormat(\"hsba\").getChannelValue(\"brightness\").toString();\n    case \"red\":\n    case \"green\":\n    case \"blue\":\n      return color.toFormat(\"rgba\").getChannelValue(channel).toString();\n    default:\n      return color.getChannelValue(channel).toString();\n  }\n}\nfunction getChannelRange(color, channel) {\n  switch (channel) {\n    case \"hex\":\n      const minColor = (0,_zag_js_color_utils__WEBPACK_IMPORTED_MODULE_5__.parseColor)(\"#000000\");\n      const maxColor = (0,_zag_js_color_utils__WEBPACK_IMPORTED_MODULE_5__.parseColor)(\"#FFFFFF\");\n      return {\n        minValue: minColor.toHexInt(),\n        maxValue: maxColor.toHexInt(),\n        pageSize: 10,\n        step: 1\n      };\n    case \"css\":\n      return void 0;\n    case \"hue\":\n    case \"saturation\":\n    case \"lightness\":\n      return color.toFormat(\"hsla\").getChannelRange(channel);\n    case \"brightness\":\n      return color.toFormat(\"hsba\").getChannelRange(channel);\n    case \"red\":\n    case \"green\":\n    case \"blue\":\n      return color.toFormat(\"rgba\").getChannelRange(channel);\n    default:\n      return color.getChannelRange(channel);\n  }\n}\n\n// src/utils/get-slider-background.ts\nfunction getSliderBackgroundDirection(orientation, dir) {\n  if (orientation === \"vertical\") {\n    return \"top\";\n  } else if (dir === \"ltr\") {\n    return \"right\";\n  } else {\n    return \"left\";\n  }\n}\nvar getSliderBackground = (props) => {\n  const { channel, value, dir } = props;\n  const bgDirection = getSliderBackgroundDirection(props.orientation, dir);\n  const { minValue, maxValue } = value.getChannelRange(channel);\n  switch (channel) {\n    case \"hue\":\n      return `linear-gradient(to ${bgDirection}, rgb(255, 0, 0) 0%, rgb(255, 255, 0) 17%, rgb(0, 255, 0) 33%, rgb(0, 255, 255) 50%, rgb(0, 0, 255) 67%, rgb(255, 0, 255) 83%, rgb(255, 0, 0) 100%)`;\n    case \"lightness\": {\n      let start = value.withChannelValue(channel, minValue).toString(\"css\");\n      let middle = value.withChannelValue(channel, (maxValue - minValue) / 2).toString(\"css\");\n      let end = value.withChannelValue(channel, maxValue).toString(\"css\");\n      return `linear-gradient(to ${bgDirection}, ${start}, ${middle}, ${end})`;\n    }\n    case \"saturation\":\n    case \"brightness\":\n    case \"red\":\n    case \"green\":\n    case \"blue\":\n    case \"alpha\": {\n      let start = value.withChannelValue(channel, minValue).toString(\"css\");\n      let end = value.withChannelValue(channel, maxValue).toString(\"css\");\n      return `linear-gradient(to ${bgDirection}, ${start}, ${end})`;\n    }\n    default:\n      throw new Error(\"Unknown color channel: \" + channel);\n  }\n};\n\n// src/color-picker.connect.ts\nfunction connect(state, send, normalize) {\n  const value = state.context.value;\n  const areaValue = state.context.areaValue;\n  const valueAsString = state.context.valueAsString;\n  const isDisabled = state.context.isDisabled;\n  const isInteractive = state.context.isInteractive;\n  const isDragging = state.hasTag(\"dragging\");\n  const isOpen = state.hasTag(\"open\");\n  const isFocused = state.hasTag(\"focused\");\n  const getAreaChannels = (props) => {\n    const channels = areaValue.getChannels();\n    return {\n      xChannel: props.xChannel ?? channels[1],\n      yChannel: props.yChannel ?? channels[2]\n    };\n  };\n  const currentPlacement = state.context.currentPlacement;\n  const popperStyles = (0,_zag_js_popper__WEBPACK_IMPORTED_MODULE_6__.getPlacementStyles)({\n    ...state.context.positioning,\n    placement: currentPlacement\n  });\n  function getSwatchTriggerState(props) {\n    const color = (0,_zag_js_color_utils__WEBPACK_IMPORTED_MODULE_5__.normalizeColor)(props.value).toFormat(state.context.format);\n    return {\n      value: color,\n      valueAsString: color.toString(\"hex\"),\n      isChecked: color.isEqual(value),\n      isDisabled: props.disabled || !isInteractive\n    };\n  }\n  return {\n    isDragging,\n    isOpen,\n    valueAsString,\n    value,\n    open() {\n      send({ type: \"OPEN\" });\n    },\n    close() {\n      send({ type: \"CLOSE\" });\n    },\n    setValue(value2) {\n      send({ type: \"VALUE.SET\", value: (0,_zag_js_color_utils__WEBPACK_IMPORTED_MODULE_5__.normalizeColor)(value2), src: \"set-color\" });\n    },\n    getChannelValue(channel) {\n      return getChannelValue(value, channel);\n    },\n    setChannelValue(channel, channelValue) {\n      const color = value.withChannelValue(channel, channelValue);\n      send({ type: \"VALUE.SET\", value: color, src: \"set-channel\" });\n    },\n    format: state.context.format,\n    setFormat(format) {\n      const formatValue = value.toFormat(format);\n      send({ type: \"VALUE.SET\", value: formatValue, src: \"set-format\" });\n    },\n    alpha: value.getChannelValue(\"alpha\"),\n    setAlpha(alphaValue) {\n      const color = value.withChannelValue(\"alpha\", alphaValue);\n      send({ type: \"VALUE.SET\", value: color, src: \"set-alpha\" });\n    },\n    rootProps: normalize.element({\n      ...parts.root.attrs,\n      dir: state.context.dir,\n      id: dom.getRootId(state.context),\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isDisabled),\n      \"data-readonly\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(state.context.readOnly),\n      style: {\n        \"--value\": value.toString(\"css\")\n      }\n    }),\n    labelProps: normalize.element({\n      ...parts.label.attrs,\n      dir: state.context.dir,\n      id: dom.getLabelId(state.context),\n      htmlFor: dom.getHiddenInputId(state.context),\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isDisabled),\n      \"data-readonly\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(state.context.readOnly),\n      \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isFocused),\n      onClick(event) {\n        event.preventDefault();\n        const inputEl = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.query)(dom.getControlEl(state.context), \"[data-channel=hex]\");\n        inputEl?.focus({ preventScroll: true });\n      }\n    }),\n    controlProps: normalize.element({\n      ...parts.control.attrs,\n      id: dom.getControlId(state.context),\n      dir: state.context.dir,\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isDisabled),\n      \"data-readonly\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(state.context.readOnly),\n      \"data-state\": isOpen ? \"open\" : \"closed\",\n      \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isFocused)\n    }),\n    triggerProps: normalize.button({\n      ...parts.trigger.attrs,\n      id: dom.getTriggerId(state.context),\n      dir: state.context.dir,\n      disabled: isDisabled,\n      \"aria-label\": `select color. current color is ${valueAsString}`,\n      \"aria-controls\": dom.getContentId(state.context),\n      \"aria-labelledby\": dom.getLabelId(state.context),\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isDisabled),\n      \"data-readonly\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(state.context.readOnly),\n      \"data-placement\": currentPlacement,\n      \"aria-expanded\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isOpen),\n      \"data-state\": isOpen ? \"open\" : \"closed\",\n      \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isFocused),\n      type: \"button\",\n      onClick() {\n        if (!isInteractive)\n          return;\n        send({ type: \"TRIGGER.CLICK\" });\n      },\n      onBlur() {\n        if (!isInteractive)\n          return;\n        send({ type: \"TRIGGER.BLUR\" });\n      },\n      style: {\n        position: \"relative\"\n      }\n    }),\n    positionerProps: normalize.element({\n      ...parts.positioner.attrs,\n      id: dom.getPositionerId(state.context),\n      dir: state.context.dir,\n      style: popperStyles.floating\n    }),\n    contentProps: normalize.element({\n      ...parts.content.attrs,\n      id: dom.getContentId(state.context),\n      dir: state.context.dir,\n      \"data-placement\": currentPlacement,\n      \"data-state\": isOpen ? \"open\" : \"closed\",\n      hidden: !isOpen\n    }),\n    getAreaProps(props = {}) {\n      const { xChannel, yChannel } = getAreaChannels(props);\n      const { areaStyles } = (0,_zag_js_color_utils__WEBPACK_IMPORTED_MODULE_5__.getColorAreaGradient)(areaValue, {\n        xChannel,\n        yChannel,\n        dir: state.context.dir\n      });\n      return normalize.element({\n        ...parts.area.attrs,\n        id: dom.getAreaId(state.context),\n        role: \"group\",\n        onPointerDown(event) {\n          if (!isInteractive)\n            return;\n          const evt = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_2__.getNativeEvent)(event);\n          if (!(0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_2__.isLeftClick)(evt) || (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_2__.isModifiedEvent)(evt))\n            return;\n          const point = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_2__.getEventPoint)(evt);\n          const channel = { xChannel, yChannel };\n          send({ type: \"AREA.POINTER_DOWN\", point, channel, id: \"area\" });\n          event.preventDefault();\n        },\n        style: {\n          position: \"relative\",\n          touchAction: \"none\",\n          forcedColorAdjust: \"none\",\n          ...areaStyles\n        }\n      });\n    },\n    getAreaBackgroundProps(props = {}) {\n      const { xChannel, yChannel } = getAreaChannels(props);\n      const { areaGradientStyles } = (0,_zag_js_color_utils__WEBPACK_IMPORTED_MODULE_5__.getColorAreaGradient)(areaValue, {\n        xChannel,\n        yChannel,\n        dir: state.context.dir\n      });\n      return normalize.element({\n        ...parts.areaBackground.attrs,\n        id: dom.getAreaGradientId(state.context),\n        style: {\n          position: \"relative\",\n          touchAction: \"none\",\n          forcedColorAdjust: \"none\",\n          ...areaGradientStyles\n        }\n      });\n    },\n    getAreaThumbProps(props = {}) {\n      const { xChannel, yChannel } = getAreaChannels(props);\n      const channel = { xChannel, yChannel };\n      const xPercent = areaValue.getChannelValuePercent(xChannel);\n      const yPercent = 1 - areaValue.getChannelValuePercent(yChannel);\n      const xValue = areaValue.getChannelValue(xChannel);\n      const yValue = areaValue.getChannelValue(yChannel);\n      return normalize.element({\n        ...parts.areaThumb.attrs,\n        id: dom.getAreaThumbId(state.context),\n        dir: state.context.dir,\n        tabIndex: isDisabled ? void 0 : 0,\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isDisabled),\n        role: \"slider\",\n        \"aria-valuemin\": 0,\n        \"aria-valuemax\": 100,\n        \"aria-valuenow\": xValue,\n        \"aria-label\": `${xChannel} and ${yChannel}`,\n        \"aria-roledescription\": \"2d slider\",\n        \"aria-valuetext\": `${xChannel} ${xValue}, ${yChannel} ${yValue}`,\n        style: {\n          position: \"absolute\",\n          left: `${xPercent * 100}%`,\n          top: `${yPercent * 100}%`,\n          transform: \"translate(-50%, -50%)\",\n          touchAction: \"none\",\n          forcedColorAdjust: \"none\",\n          background: areaValue.withChannelValue(\"alpha\", 1).toString(\"css\")\n        },\n        onFocus() {\n          if (!isInteractive)\n            return;\n          send({ type: \"AREA.FOCUS\", id: \"area\", channel });\n        },\n        onKeyDown(event) {\n          if (!isInteractive)\n            return;\n          const step = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_2__.getEventStep)(event);\n          const keyMap = {\n            ArrowUp() {\n              send({ type: \"AREA.ARROW_UP\", channel, step });\n            },\n            ArrowDown() {\n              send({ type: \"AREA.ARROW_DOWN\", channel, step });\n            },\n            ArrowLeft() {\n              send({ type: \"AREA.ARROW_LEFT\", channel, step });\n            },\n            ArrowRight() {\n              send({ type: \"AREA.ARROW_RIGHT\", channel, step });\n            },\n            PageUp() {\n              send({ type: \"AREA.PAGE_UP\", channel, step });\n            },\n            PageDown() {\n              send({ type: \"AREA.PAGE_DOWN\", channel, step });\n            },\n            Escape(event2) {\n              event2.stopPropagation();\n            }\n          };\n          const exec = keyMap[(0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_2__.getEventKey)(event, state.context)];\n          if (exec) {\n            exec(event);\n            event.preventDefault();\n          }\n        }\n      });\n    },\n    getTransparencyGridProps(props = {}) {\n      const { size = \"12px\" } = props;\n      return normalize.element({\n        ...parts.transparencyGrid.attrs,\n        style: {\n          \"--size\": size,\n          width: \"100%\",\n          height: \"100%\",\n          position: \"absolute\",\n          backgroundColor: \"#fff\",\n          backgroundImage: \"conic-gradient(#eeeeee 0 25%, transparent 0 50%, #eeeeee 0 75%, transparent 0)\",\n          backgroundSize: \"var(--size) var(--size)\",\n          inset: \"0px\",\n          zIndex: \"auto\",\n          pointerEvents: \"none\"\n        }\n      });\n    },\n    getChannelSliderProps(props) {\n      const { orientation = \"horizontal\", channel } = props;\n      return normalize.element({\n        ...parts.channelSlider.attrs,\n        \"data-channel\": channel,\n        \"data-orientation\": orientation,\n        role: \"presentation\",\n        onPointerDown(event) {\n          if (!isInteractive)\n            return;\n          const evt = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_2__.getNativeEvent)(event);\n          if (!(0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_2__.isLeftClick)(evt) || (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_2__.isModifiedEvent)(evt))\n            return;\n          const point = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_2__.getEventPoint)(evt);\n          send({ type: \"CHANNEL_SLIDER.POINTER_DOWN\", channel, point, id: channel, orientation });\n          event.preventDefault();\n        },\n        style: {\n          position: \"relative\",\n          touchAction: \"none\"\n        }\n      });\n    },\n    getChannelSliderTrackProps(props) {\n      const { orientation = \"horizontal\", channel } = props;\n      return normalize.element({\n        ...parts.channelSliderTrack.attrs,\n        id: dom.getChannelSliderId(state.context, channel),\n        role: \"group\",\n        \"data-channel\": channel,\n        \"data-orientation\": orientation,\n        style: {\n          position: \"relative\",\n          forcedColorAdjust: \"none\",\n          backgroundImage: getSliderBackground({\n            orientation,\n            channel,\n            dir: state.context.dir,\n            value: areaValue\n          })\n        }\n      });\n    },\n    getChannelSliderThumbProps(props) {\n      const { orientation = \"horizontal\", channel } = props;\n      const { minValue, maxValue, step: stepValue } = areaValue.getChannelRange(channel);\n      const channelValue = areaValue.getChannelValue(channel);\n      const offset = (channelValue - minValue) / (maxValue - minValue);\n      const placementStyles = orientation === \"horizontal\" ? { left: `${offset * 100}%`, top: \"50%\" } : { top: `${offset * 100}%`, left: \"50%\" };\n      return normalize.element({\n        ...parts.channelSliderThumb.attrs,\n        id: dom.getChannelSliderThumbId(state.context, channel),\n        role: \"slider\",\n        \"aria-label\": channel,\n        tabIndex: isDisabled ? void 0 : 0,\n        \"data-channel\": channel,\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isDisabled),\n        \"data-orientation\": orientation,\n        \"aria-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isDisabled),\n        \"aria-orientation\": orientation,\n        \"aria-valuemax\": maxValue,\n        \"aria-valuemin\": minValue,\n        \"aria-valuenow\": channelValue,\n        \"aria-valuetext\": `${channel} ${channelValue}`,\n        style: {\n          forcedColorAdjust: \"none\",\n          position: \"absolute\",\n          background: getChannelDisplayColor(areaValue, channel).toString(\"css\"),\n          ...placementStyles\n        },\n        onFocus() {\n          if (!isInteractive)\n            return;\n          send({ type: \"CHANNEL_SLIDER.FOCUS\", channel });\n        },\n        onKeyDown(event) {\n          if (!isInteractive)\n            return;\n          const step = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_2__.getEventStep)(event) * stepValue;\n          const keyMap = {\n            ArrowUp() {\n              send({ type: \"CHANNEL_SLIDER.ARROW_UP\", channel, step });\n            },\n            ArrowDown() {\n              send({ type: \"CHANNEL_SLIDER.ARROW_DOWN\", channel, step });\n            },\n            ArrowLeft() {\n              send({ type: \"CHANNEL_SLIDER.ARROW_LEFT\", channel, step });\n            },\n            ArrowRight() {\n              send({ type: \"CHANNEL_SLIDER.ARROW_RIGHT\", channel, step });\n            },\n            PageUp() {\n              send({ type: \"CHANNEL_SLIDER.PAGE_UP\", channel });\n            },\n            PageDown() {\n              send({ type: \"CHANNEL_SLIDER.PAGE_DOWN\", channel });\n            },\n            Home() {\n              send({ type: \"CHANNEL_SLIDER.HOME\", channel });\n            },\n            End() {\n              send({ type: \"CHANNEL_SLIDER.END\", channel });\n            },\n            Escape(event2) {\n              event2.stopPropagation();\n            }\n          };\n          const exec = keyMap[(0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_2__.getEventKey)(event, state.context)];\n          if (exec) {\n            exec(event);\n            event.preventDefault();\n          }\n        }\n      });\n    },\n    getChannelInputProps(props) {\n      const { channel } = props;\n      const isTextField = channel === \"hex\" || channel === \"css\";\n      const range = getChannelRange(value, channel);\n      return normalize.input({\n        ...parts.channelInput.attrs,\n        dir: state.context.dir,\n        type: isTextField ? \"text\" : \"number\",\n        \"data-channel\": channel,\n        \"aria-label\": channel,\n        spellCheck: false,\n        autoComplete: \"off\",\n        disabled: isDisabled,\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isDisabled),\n        readOnly: state.context.readOnly,\n        defaultValue: getChannelValue(value, channel),\n        min: range?.minValue,\n        max: range?.maxValue,\n        step: range?.step,\n        onBeforeInput(event) {\n          if (isTextField || !isInteractive)\n            return;\n          const value2 = event.currentTarget.value;\n          if (value2.match(/[^0-9.]/g)) {\n            event.preventDefault();\n          }\n        },\n        onFocus(event) {\n          if (!isInteractive)\n            return;\n          send({ type: \"CHANNEL_INPUT.FOCUS\", channel });\n          event.target.select();\n        },\n        onBlur(event) {\n          if (!isInteractive)\n            return;\n          const value2 = isTextField ? event.currentTarget.value : event.currentTarget.valueAsNumber;\n          send({ type: \"CHANNEL_INPUT.BLUR\", channel, value: value2, isTextField });\n        },\n        onKeyDown(event) {\n          if (!isInteractive)\n            return;\n          if (event.key === \"Enter\") {\n            const value2 = isTextField ? event.currentTarget.value : event.currentTarget.valueAsNumber;\n            send({ type: \"CHANNEL_INPUT.CHANGE\", channel, value: value2, isTextField });\n            event.preventDefault();\n          }\n        },\n        style: {\n          appearance: \"none\",\n          WebkitAppearance: \"none\",\n          MozAppearance: \"textfield\"\n        }\n      });\n    },\n    hiddenInputProps: normalize.input({\n      type: \"text\",\n      disabled: isDisabled,\n      name: state.context.name,\n      id: dom.getHiddenInputId(state.context),\n      style: _zag_js_visually_hidden__WEBPACK_IMPORTED_MODULE_7__.visuallyHiddenStyle,\n      defaultValue: valueAsString\n    }),\n    eyeDropperTriggerProps: normalize.button({\n      ...parts.eyeDropperTrigger.attrs,\n      type: \"button\",\n      dir: state.context.dir,\n      disabled: isDisabled,\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isDisabled),\n      \"aria-label\": \"Pick a color from the screen\",\n      onClick() {\n        if (!isInteractive)\n          return;\n        send(\"EYEDROPPER.CLICK\");\n      }\n    }),\n    swatchGroupProps: normalize.element({\n      ...parts.swatchGroup.attrs,\n      role: \"group\"\n    }),\n    getSwatchTriggerState,\n    getSwatchTriggerProps(props) {\n      const triggerState = getSwatchTriggerState(props);\n      return normalize.button({\n        ...parts.swatchTrigger.attrs,\n        disabled: triggerState.isDisabled,\n        dir: state.context.dir,\n        type: \"button\",\n        \"aria-label\": `select ${triggerState.valueAsString} as the color`,\n        \"data-state\": triggerState.isChecked ? \"checked\" : \"unchecked\",\n        \"data-value\": triggerState.valueAsString,\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(triggerState.isDisabled),\n        onClick() {\n          if (triggerState.isDisabled)\n            return;\n          send({ type: \"SWATCH_TRIGGER.CLICK\", value: triggerState.value });\n        },\n        style: {\n          position: \"relative\"\n        }\n      });\n    },\n    getSwatchIndicatorProps(props) {\n      const triggerState = getSwatchTriggerState(props);\n      return normalize.element({\n        ...parts.swatchIndicator.attrs,\n        dir: state.context.dir,\n        hidden: !triggerState.isChecked\n      });\n    },\n    getSwatchProps(props) {\n      const { respectAlpha = true } = props;\n      const triggerState = getSwatchTriggerState(props);\n      return normalize.element({\n        ...parts.swatch.attrs,\n        dir: state.context.dir,\n        \"data-state\": triggerState.isChecked ? \"checked\" : \"unchecked\",\n        \"data-value\": triggerState.valueAsString,\n        style: {\n          position: \"relative\",\n          background: triggerState.value.toString(respectAlpha ? \"css\" : \"hex\")\n        }\n      });\n    },\n    formatTriggerProps: normalize.button({\n      ...parts.formatTrigger.attrs,\n      dir: state.context.dir,\n      type: \"button\",\n      \"aria-label\": `change color format to ${getNextFormat(state.context.format)}`,\n      onClick(event) {\n        if (event.currentTarget.disabled)\n          return;\n        const nextFormat = getNextFormat(state.context.format);\n        send({ type: \"FORMAT.SET\", format: nextFormat, src: \"format-trigger\" });\n      }\n    }),\n    formatSelectProps: normalize.select({\n      ...parts.formatSelect.attrs,\n      \"aria-label\": \"change color format\",\n      dir: state.context.dir,\n      defaultValue: state.context.format,\n      disabled: isDisabled,\n      onChange(event) {\n        const format = assertFormat(event.currentTarget.value);\n        send({ type: \"FORMAT.SET\", format, src: \"format-select\" });\n      }\n    })\n  };\n}\nvar formats = [\"hsba\", \"hsla\", \"rgba\"];\nvar formatRegex = new RegExp(`^(${formats.join(\"|\")})$`);\nfunction getNextFormat(format) {\n  const index = formats.indexOf(format);\n  return formats[index + 1] ?? formats[0];\n}\nfunction assertFormat(format) {\n  if (formatRegex.test(format))\n    return format;\n  throw new Error(`Unsupported color format: ${format}`);\n}\n\n// src/color-picker.machine.ts\n\n\n\n\n\n\n\n\n\n\n// src/color-picker.parse.ts\n\nvar parse = (colorString) => {\n  return (0,_zag_js_color_utils__WEBPACK_IMPORTED_MODULE_5__.parseColor)(colorString);\n};\n\n// src/color-picker.machine.ts\nfunction machine(userContext) {\n  const ctx = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_4__.compact)(userContext);\n  return (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_8__.createMachine)(\n    {\n      id: \"color-picker\",\n      initial: ctx.open ? \"open\" : \"idle\",\n      context: {\n        dir: \"ltr\",\n        value: parse(\"#000000\"),\n        format: \"rgba\",\n        disabled: false,\n        closeOnSelect: false,\n        ...ctx,\n        activeId: null,\n        activeChannel: null,\n        activeOrientation: null,\n        fieldsetDisabled: false,\n        positioning: {\n          ...ctx.positioning,\n          placement: \"bottom\"\n        }\n      },\n      computed: {\n        isRtl: (ctx2) => ctx2.dir === \"rtl\",\n        isDisabled: (ctx2) => !!ctx2.disabled || ctx2.fieldsetDisabled,\n        isInteractive: (ctx2) => !(ctx2.isDisabled || ctx2.readOnly),\n        valueAsString: (ctx2) => ctx2.value.toString(ctx2.format),\n        areaValue: (ctx2) => {\n          const format = ctx2.format.startsWith(\"hsl\") ? \"hsla\" : \"hsba\";\n          return ctx2.value.toFormat(format);\n        }\n      },\n      activities: [\"trackFormControl\"],\n      watch: {\n        value: [\"syncInputElements\"],\n        format: [\"syncFormatSelectElement\"],\n        open: [\"toggleVisibility\"]\n      },\n      on: {\n        \"VALUE.SET\": {\n          actions: [\"setValue\"]\n        },\n        \"FORMAT.SET\": {\n          actions: [\"setFormat\"]\n        },\n        \"CHANNEL_INPUT.CHANGE\": {\n          actions: [\"setChannelColorFromInput\"]\n        },\n        \"EYEDROPPER.CLICK\": {\n          actions: [\"openEyeDropper\"]\n        }\n      },\n      states: {\n        idle: {\n          tags: [\"closed\"],\n          on: {\n            OPEN: {\n              target: \"open\",\n              actions: [\"setInitialFocus\", \"invokeOnOpen\"]\n            },\n            \"TRIGGER.CLICK\": {\n              target: \"open\",\n              actions: [\"setInitialFocus\", \"invokeOnOpen\"]\n            },\n            \"CHANNEL_INPUT.FOCUS\": {\n              target: \"focused\",\n              actions: [\"setActiveChannel\"]\n            }\n          }\n        },\n        focused: {\n          tags: [\"closed\", \"focused\"],\n          on: {\n            OPEN: {\n              target: \"open\",\n              actions: [\"setInitialFocus\", \"invokeOnOpen\"]\n            },\n            \"TRIGGER.CLICK\": {\n              target: \"open\",\n              actions: [\"setInitialFocus\", \"invokeOnOpen\"]\n            },\n            \"CHANNEL_INPUT.FOCUS\": {\n              actions: [\"setActiveChannel\"]\n            },\n            \"CHANNEL_INPUT.BLUR\": {\n              target: \"idle\",\n              actions: [\"setChannelColorFromInput\"]\n            },\n            \"TRIGGER.BLUR\": {\n              target: \"idle\"\n            }\n          }\n        },\n        open: {\n          tags: [\"open\"],\n          activities: [\"trackPositioning\", \"trackDismissableElement\"],\n          on: {\n            \"TRIGGER.CLICK\": {\n              target: \"idle\",\n              actions: [\"invokeOnClose\"]\n            },\n            \"AREA.POINTER_DOWN\": {\n              target: \"open:dragging\",\n              actions: [\"setActiveChannel\", \"setAreaColorFromPoint\", \"focusAreaThumb\"]\n            },\n            \"AREA.FOCUS\": {\n              actions: [\"setActiveChannel\"]\n            },\n            \"CHANNEL_SLIDER.POINTER_DOWN\": {\n              target: \"open:dragging\",\n              actions: [\"setActiveChannel\", \"setChannelColorFromPoint\", \"focusChannelThumb\"]\n            },\n            \"CHANNEL_SLIDER.FOCUS\": {\n              actions: [\"setActiveChannel\"]\n            },\n            \"AREA.ARROW_LEFT\": {\n              actions: [\"decrementXChannel\"]\n            },\n            \"AREA.ARROW_RIGHT\": {\n              actions: [\"incrementXChannel\"]\n            },\n            \"AREA.ARROW_UP\": {\n              actions: [\"incrementYChannel\"]\n            },\n            \"AREA.ARROW_DOWN\": {\n              actions: [\"decrementYChannel\"]\n            },\n            \"AREA.PAGE_UP\": {\n              actions: [\"incrementXChannel\"]\n            },\n            \"AREA.PAGE_DOWN\": {\n              actions: [\"decrementXChannel\"]\n            },\n            \"CHANNEL_SLIDER.ARROW_LEFT\": {\n              actions: [\"decrementChannel\"]\n            },\n            \"CHANNEL_SLIDER.ARROW_RIGHT\": {\n              actions: [\"incrementChannel\"]\n            },\n            \"CHANNEL_SLIDER.ARROW_UP\": {\n              actions: [\"incrementChannel\"]\n            },\n            \"CHANNEL_SLIDER.ARROW_DOWN\": {\n              actions: [\"decrementChannel\"]\n            },\n            \"CHANNEL_SLIDER.PAGE_UP\": {\n              actions: [\"incrementChannel\"]\n            },\n            \"CHANNEL_SLIDER.PAGE_DOWN\": {\n              actions: [\"decrementChannel\"]\n            },\n            \"CHANNEL_SLIDER.HOME\": {\n              actions: [\"setChannelToMin\"]\n            },\n            \"CHANNEL_SLIDER.END\": {\n              actions: [\"setChannelToMax\"]\n            },\n            \"CHANNEL_INPUT.BLUR\": {\n              actions: [\"setChannelColorFromInput\"]\n            },\n            INTERACT_OUTSIDE: [\n              {\n                guard: \"shouldRestoreFocus\",\n                target: \"focused\",\n                actions: [\"setReturnFocus\", \"invokeOnClose\"]\n              },\n              {\n                target: \"idle\",\n                actions: [\"invokeOnClose\"]\n              }\n            ],\n            CLOSE: {\n              target: \"idle\",\n              actions: [\"invokeOnClose\"]\n            },\n            \"SWATCH_TRIGGER.CLICK\": [\n              {\n                guard: \"closeOnSelect\",\n                target: \"focused\",\n                actions: [\"setValue\", \"setReturnFocus\", \"invokeOnClose\"]\n              },\n              {\n                actions: [\"setValue\"]\n              }\n            ]\n          }\n        },\n        \"open:dragging\": {\n          tags: [\"open\"],\n          exit: [\"clearActiveChannel\"],\n          activities: [\"trackPointerMove\", \"disableTextSelection\", \"trackPositioning\", \"trackDismissableElement\"],\n          on: {\n            \"AREA.POINTER_MOVE\": {\n              actions: [\"setAreaColorFromPoint\", \"focusAreaThumb\"]\n            },\n            \"AREA.POINTER_UP\": {\n              target: \"open\",\n              actions: [\"invokeOnChangeEnd\"]\n            },\n            \"CHANNEL_SLIDER.POINTER_MOVE\": {\n              actions: [\"setChannelColorFromPoint\", \"focusChannelThumb\"]\n            },\n            \"CHANNEL_SLIDER.POINTER_UP\": {\n              target: \"open\",\n              actions: [\"invokeOnChangeEnd\"]\n            },\n            INTERACT_OUTSIDE: [\n              {\n                guard: \"shouldRestoreFocus\",\n                target: \"focused\",\n                actions: [\"setReturnFocus\", \"invokeOnClose\"]\n              },\n              {\n                target: \"idle\",\n                actions: [\"invokeOnClose\"]\n              }\n            ],\n            CLOSE: {\n              target: \"idle\",\n              actions: [\"invokeOnClose\"]\n            }\n          }\n        }\n      }\n    },\n    {\n      guards: {\n        isTargetFocusable: (_ctx, evt) => evt.restoreFocus,\n        closeOnSelect: (ctx2) => !!ctx2.closeOnSelect\n      },\n      activities: {\n        trackPositioning(ctx2) {\n          ctx2.currentPlacement = ctx2.positioning.placement;\n          const anchorEl = dom.getTriggerEl(ctx2);\n          const getPositionerEl = () => dom.getPositionerEl(ctx2);\n          return (0,_zag_js_popper__WEBPACK_IMPORTED_MODULE_6__.getPlacement)(anchorEl, getPositionerEl, {\n            ...ctx2.positioning,\n            defer: true,\n            onComplete(data) {\n              ctx2.currentPlacement = data.placement;\n            },\n            onCleanup() {\n              ctx2.currentPlacement = void 0;\n            }\n          });\n        },\n        trackDismissableElement(ctx2, _evt, { send }) {\n          const getContentEl = () => dom.getContentEl(ctx2);\n          let restoreFocus = true;\n          return (0,_zag_js_dismissable__WEBPACK_IMPORTED_MODULE_9__.trackDismissableElement)(getContentEl, {\n            exclude: dom.getTriggerEl(ctx2),\n            defer: true,\n            onInteractOutside(event) {\n              ctx2.onInteractOutside?.(event);\n              if (event.defaultPrevented)\n                return;\n              restoreFocus = !(event.detail.focusable || event.detail.contextmenu);\n            },\n            onPointerDownOutside: ctx2.onPointerDownOutside,\n            onFocusOutside: ctx2.onFocusOutside,\n            onDismiss() {\n              send({ type: \"INTERACT_OUTSIDE\", restoreFocus });\n            }\n          });\n        },\n        trackFormControl(ctx2, _evt, { send, initialContext }) {\n          const inputEl = dom.getHiddenInputEl(ctx2);\n          return (0,_zag_js_form_utils__WEBPACK_IMPORTED_MODULE_10__.trackFormControl)(inputEl, {\n            onFieldsetDisabledChange(disabled) {\n              ctx2.fieldsetDisabled = disabled;\n            },\n            onFormReset() {\n              send({ type: \"VALUE.SET\", value: initialContext.value, src: \"form.reset\" });\n            }\n          });\n        },\n        trackPointerMove(ctx2, _evt, { send }) {\n          return (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_2__.trackPointerMove)(dom.getDoc(ctx2), {\n            onPointerMove({ point }) {\n              const type = ctx2.activeId === \"area\" ? \"AREA.POINTER_MOVE\" : \"CHANNEL_SLIDER.POINTER_MOVE\";\n              send({ type, point });\n            },\n            onPointerUp() {\n              const type = ctx2.activeId === \"area\" ? \"AREA.POINTER_UP\" : \"CHANNEL_SLIDER.POINTER_UP\";\n              send({ type });\n            }\n          });\n        },\n        disableTextSelection(ctx2) {\n          return (0,_zag_js_text_selection__WEBPACK_IMPORTED_MODULE_11__.disableTextSelection)({ doc: dom.getDoc(ctx2), target: dom.getContentEl(ctx2) });\n        }\n      },\n      actions: {\n        openEyeDropper(ctx2) {\n          const isSupported = \"EyeDropper\" in dom.getWin(ctx2);\n          if (!isSupported)\n            return;\n          const win = dom.getWin(ctx2);\n          const picker = new win.EyeDropper();\n          picker.open().then(({ sRGBHex }) => {\n            const format = ctx2.value.getFormat();\n            const color = (0,_zag_js_color_utils__WEBPACK_IMPORTED_MODULE_5__.parseColor)(sRGBHex).toFormat(format);\n            set.value(ctx2, color);\n            ctx2.onValueChangeEnd?.({ value: ctx2.value, valueAsString: ctx2.valueAsString });\n          }).catch(() => void 0);\n        },\n        setActiveChannel(ctx2, evt) {\n          ctx2.activeId = evt.id;\n          if (evt.channel)\n            ctx2.activeChannel = evt.channel;\n          if (evt.orientation)\n            ctx2.activeOrientation = evt.orientation;\n        },\n        clearActiveChannel(ctx2) {\n          ctx2.activeChannel = null;\n          ctx2.activeId = null;\n          ctx2.activeOrientation = null;\n        },\n        setAreaColorFromPoint(ctx2, evt) {\n          const { xChannel, yChannel } = evt.channel || ctx2.activeChannel;\n          const percent = dom.getAreaValueFromPoint(ctx2, evt.point);\n          if (!percent)\n            return;\n          const xValue = ctx2.areaValue.getChannelPercentValue(xChannel, percent.x);\n          const yValue = ctx2.areaValue.getChannelPercentValue(yChannel, 1 - percent.y);\n          const color = ctx2.areaValue.withChannelValue(xChannel, xValue).withChannelValue(yChannel, yValue);\n          set.value(ctx2, color);\n        },\n        setChannelColorFromPoint(ctx2, evt) {\n          const channel = evt.channel || ctx2.activeId;\n          const percent = dom.getChannelSliderValueFromPoint(ctx2, evt.point, channel);\n          if (!percent)\n            return;\n          const orientation = ctx2.activeOrientation || \"horizontal\";\n          const channelPercent = orientation === \"horizontal\" ? percent.x : percent.y;\n          const value = ctx2.areaValue.getChannelPercentValue(channel, channelPercent);\n          const color = ctx2.areaValue.withChannelValue(channel, value);\n          set.value(ctx2, color);\n        },\n        setValue(ctx2, evt) {\n          set.value(ctx2, evt.value);\n        },\n        setFormat(ctx2, evt) {\n          set.format(ctx2, evt.format);\n        },\n        syncInputElements(ctx2) {\n          sync.inputs(ctx2);\n        },\n        invokeOnChangeEnd(ctx2) {\n          invoke.changeEnd(ctx2);\n        },\n        setChannelColorFromInput(ctx2, evt) {\n          const { channel, isTextField, value } = evt;\n          const currentAlpha = ctx2.value.getChannelValue(\"alpha\");\n          let color;\n          if (channel === \"alpha\") {\n            let valueAsNumber = parseFloat(value);\n            valueAsNumber = Number.isNaN(valueAsNumber) ? currentAlpha : valueAsNumber;\n            color = ctx2.value.withChannelValue(\"alpha\", valueAsNumber);\n          } else if (isTextField) {\n            color = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_4__.tryCatch)(\n              () => parse(value).withChannelValue(\"alpha\", currentAlpha),\n              () => ctx2.value\n            );\n          } else {\n            const current = ctx2.value.toFormat(ctx2.format);\n            const valueAsNumber = Number.isNaN(value) ? current.getChannelValue(channel) : value;\n            color = current.withChannelValue(channel, valueAsNumber);\n          }\n          sync.inputs(ctx2, color);\n          set.value(ctx2, color);\n        },\n        incrementChannel(ctx2, evt) {\n          const color = ctx2.value.incrementChannel(evt.channel, evt.step);\n          set.value(ctx2, color);\n        },\n        decrementChannel(ctx2, evt) {\n          const color = ctx2.value.decrementChannel(evt.channel, evt.step);\n          set.value(ctx2, color);\n        },\n        incrementXChannel(ctx2, evt) {\n          const { xChannel } = evt.channel;\n          const color = ctx2.areaValue.incrementChannel(xChannel, evt.step);\n          set.value(ctx2, color);\n        },\n        decrementXChannel(ctx2, evt) {\n          const { xChannel } = evt.channel;\n          const color = ctx2.areaValue.decrementChannel(xChannel, evt.step);\n          set.value(ctx2, color);\n        },\n        incrementYChannel(ctx2, evt) {\n          const { yChannel } = evt.channel;\n          const color = ctx2.areaValue.incrementChannel(yChannel, evt.step);\n          set.value(ctx2, color);\n        },\n        decrementYChannel(ctx2, evt) {\n          const { yChannel } = evt.channel;\n          const color = ctx2.areaValue.decrementChannel(yChannel, evt.step);\n          set.value(ctx2, color);\n        },\n        setChannelToMax(ctx2, evt) {\n          const range = ctx2.value.getChannelRange(evt.channel);\n          const color = ctx2.value.withChannelValue(evt.channel, range.maxValue);\n          set.value(ctx2, color);\n        },\n        setChannelToMin(ctx2, evt) {\n          const range = ctx2.value.getChannelRange(evt.channel);\n          const color = ctx2.value.withChannelValue(evt.channel, range.minValue);\n          set.value(ctx2, color);\n        },\n        focusAreaThumb(ctx2) {\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => {\n            dom?.focus(ctx2, dom.getAreaThumbEl(ctx2));\n          });\n        },\n        focusChannelThumb(ctx2, evt) {\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => {\n            dom?.focus(ctx2, dom.getChannelSliderThumbEl(ctx2, evt.channel));\n          });\n        },\n        setInitialFocus(ctx2) {\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => {\n            dom.getInitialFocusEl(ctx2)?.focus({ preventScroll: true });\n          });\n        },\n        setReturnFocus(ctx2) {\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => {\n            dom?.focus(ctx2, dom.getTriggerEl(ctx2));\n          });\n        },\n        syncFormatSelectElement(ctx2) {\n          sync.formatSelect(ctx2);\n        },\n        invokeOnOpen(ctx2) {\n          ctx2.onOpenChange?.({ open: true });\n        },\n        invokeOnClose(ctx2) {\n          ctx2.onOpenChange?.({ open: false });\n        },\n        toggleVisibility(ctx2, _evt, { send }) {\n          send({ type: ctx2.open ? \"OPEN\" : \"CLOSE\", src: \"controlled\" });\n        }\n      },\n      compareFns: {\n        value: (a, b) => a.isEqual(b)\n      }\n    }\n  );\n}\nvar sync = {\n  // sync channel inputs\n  inputs(ctx, color) {\n    const channelInputs = dom.getChannelInputEls(ctx);\n    (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => {\n      channelInputs.forEach((inputEl) => {\n        const channel = inputEl.dataset.channel;\n        dom.setValue(inputEl, getChannelValue(color || ctx.value, channel));\n      });\n    });\n  },\n  // sync format select\n  formatSelect(ctx) {\n    const selectEl = dom.getFormatSelectEl(ctx);\n    (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => {\n      dom.setValue(selectEl, ctx.format);\n    });\n  }\n};\nvar invoke = {\n  changeEnd(ctx) {\n    const value = ctx.value.toFormat(ctx.format);\n    ctx.onValueChangeEnd?.({\n      value,\n      valueAsString: ctx.valueAsString\n    });\n  },\n  change(ctx) {\n    const value = ctx.value.toFormat(ctx.format);\n    ctx.onValueChange?.({\n      value,\n      valueAsString: ctx.valueAsString\n    });\n    (0,_zag_js_form_utils__WEBPACK_IMPORTED_MODULE_10__.dispatchInputValueEvent)(dom.getHiddenInputEl(ctx), { value: ctx.valueAsString });\n  },\n  formatChange(ctx) {\n    ctx.onFormatChange?.({ format: ctx.format });\n  }\n};\nvar set = {\n  value(ctx, color) {\n    if (!color || ctx.value.isEqual(color))\n      return;\n    ctx.value = color;\n    invoke.change(ctx);\n  },\n  format(ctx, format) {\n    if (ctx.format === format)\n      return;\n    ctx.format = format;\n    invoke.formatChange(ctx);\n  }\n};\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9jb2xvci1waWNrZXIvZGlzdC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ2dEO0FBQ2hELGNBQWMsOERBQWE7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUMyRTtBQVFoRDtBQUN5QjtBQUNBO0FBQ1U7O0FBRTlEO0FBQ3FEO0FBQ0s7QUFDTDtBQUNiO0FBQ3hDLFVBQVUsOERBQVc7QUFDckIsdURBQXVELE9BQU87QUFDOUQseURBQXlELE9BQU87QUFDaEUsNkNBQTZDLE9BQU87QUFDcEQsNkRBQTZELE9BQU87QUFDcEUsNkRBQTZELE9BQU87QUFDcEUsNkRBQTZELE9BQU87QUFDcEUsNENBQTRDLE9BQU87QUFDbkQsOENBQThDLE9BQU87QUFDckQsdURBQXVELE9BQU87QUFDOUQsdUVBQXVFLE9BQU87QUFDOUUsaUVBQWlFLE9BQU87QUFDeEUsa0dBQWtHLE9BQU8sZ0JBQWdCLFFBQVE7QUFDakksdUdBQXVHLE9BQU8sZ0JBQWdCLFFBQVE7QUFDdEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsMkRBQVEsK0NBQStDLFFBQVE7QUFDeEUsU0FBUywyREFBUSwrQ0FBK0MsUUFBUTtBQUN4RTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksVUFBVSxFQUFFLG1FQUFnQjtBQUN4QztBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxVQUFVLEVBQUUsbUVBQWdCO0FBQ3hDO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxTQUFTLDJEQUFRO0FBQ2pCLFNB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O0FBQ0E7QUFDQTtBQU1FO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AcGFyay11aS9leGFtcGxlcy1yZWFjdC1uZXh0LWpzLy4vbm9kZV9tb2R1bGVzL0B6YWctanMvY29sb3ItcGlja2VyL2Rpc3QvaW5kZXgubWpzP2ExNWUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2NvbG9yLXBpY2tlci5hbmF0b215LnRzXG5pbXBvcnQgeyBjcmVhdGVBbmF0b215IH0gZnJvbSBcIkB6YWctanMvYW5hdG9teVwiO1xudmFyIGFuYXRvbXkgPSBjcmVhdGVBbmF0b215KFwiY29sb3ItcGlja2VyXCIsIFtcbiAgXCJyb290XCIsXG4gIFwibGFiZWxcIixcbiAgXCJjb250cm9sXCIsXG4gIFwidHJpZ2dlclwiLFxuICBcInBvc2l0aW9uZXJcIixcbiAgXCJjb250ZW50XCIsXG4gIFwiYXJlYVwiLFxuICBcImFyZWFUaHVtYlwiLFxuICBcImFyZWFCYWNrZ3JvdW5kXCIsXG4gIFwiY2hhbm5lbFNsaWRlclwiLFxuICBcImNoYW5uZWxTbGlkZXJUcmFja1wiLFxuICBcImNoYW5uZWxTbGlkZXJUaHVtYlwiLFxuICBcImNoYW5uZWxJbnB1dFwiLFxuICBcInRyYW5zcGFyZW5jeUdyaWRcIixcbiAgXCJzd2F0Y2hHcm91cFwiLFxuICBcInN3YXRjaFRyaWdnZXJcIixcbiAgXCJzd2F0Y2hJbmRpY2F0b3JcIixcbiAgXCJzd2F0Y2hcIixcbiAgXCJleWVEcm9wcGVyVHJpZ2dlclwiLFxuICBcImZvcm1hdFRyaWdnZXJcIixcbiAgXCJmb3JtYXRTZWxlY3RcIlxuXSk7XG52YXIgcGFydHMgPSBhbmF0b215LmJ1aWxkKCk7XG5cbi8vIHNyYy9jb2xvci1waWNrZXIuY29ubmVjdC50c1xuaW1wb3J0IHsgZ2V0Q29sb3JBcmVhR3JhZGllbnQsIG5vcm1hbGl6ZUNvbG9yIH0gZnJvbSBcIkB6YWctanMvY29sb3ItdXRpbHNcIjtcbmltcG9ydCB7XG4gIGdldEV2ZW50S2V5LFxuICBnZXRFdmVudFBvaW50LFxuICBnZXRFdmVudFN0ZXAsXG4gIGdldE5hdGl2ZUV2ZW50LFxuICBpc0xlZnRDbGljayxcbiAgaXNNb2RpZmllZEV2ZW50XG59IGZyb20gXCJAemFnLWpzL2RvbS1ldmVudFwiO1xuaW1wb3J0IHsgZGF0YUF0dHIsIHF1ZXJ5IH0gZnJvbSBcIkB6YWctanMvZG9tLXF1ZXJ5XCI7XG5pbXBvcnQgeyBnZXRQbGFjZW1lbnRTdHlsZXMgfSBmcm9tIFwiQHphZy1qcy9wb3BwZXJcIjtcbmltcG9ydCB7IHZpc3VhbGx5SGlkZGVuU3R5bGUgfSBmcm9tIFwiQHphZy1qcy92aXN1YWxseS1oaWRkZW5cIjtcblxuLy8gc3JjL2NvbG9yLXBpY2tlci5kb20udHNcbmltcG9ydCB7IGdldFJlbGF0aXZlUG9pbnQgfSBmcm9tIFwiQHphZy1qcy9kb20tZXZlbnRcIjtcbmltcG9ydCB7IGNyZWF0ZVNjb3BlLCBxdWVyeUFsbCB9IGZyb20gXCJAemFnLWpzL2RvbS1xdWVyeVwiO1xuaW1wb3J0IHsgZ2V0Rmlyc3RGb2N1c2FibGUgfSBmcm9tIFwiQHphZy1qcy90YWJiYWJsZVwiO1xuaW1wb3J0IHsgcnVuSWZGbiB9IGZyb20gXCJAemFnLWpzL3V0aWxzXCI7XG52YXIgZG9tID0gY3JlYXRlU2NvcGUoe1xuICBnZXRSb290SWQ6IChjdHgpID0+IGN0eC5pZHM/LnJvb3QgPz8gYGNvbG9yLXBpY2tlcjoke2N0eC5pZH1gLFxuICBnZXRMYWJlbElkOiAoY3R4KSA9PiBjdHguaWRzPy5sYWJlbCA/PyBgY29sb3ItcGlja2VyOiR7Y3R4LmlkfTpsYWJlbGAsXG4gIGdldEhpZGRlbklucHV0SWQ6IChjdHgpID0+IGBjb2xvci1waWNrZXI6JHtjdHguaWR9OmhpZGRlbi1pbnB1dGAsXG4gIGdldENvbnRyb2xJZDogKGN0eCkgPT4gY3R4Lmlkcz8uY29udHJvbCA/PyBgY29sb3ItcGlja2VyOiR7Y3R4LmlkfTpjb250cm9sYCxcbiAgZ2V0VHJpZ2dlcklkOiAoY3R4KSA9PiBjdHguaWRzPy50cmlnZ2VyID8/IGBjb2xvci1waWNrZXI6JHtjdHguaWR9OnRyaWdnZXJgLFxuICBnZXRDb250ZW50SWQ6IChjdHgpID0+IGN0eC5pZHM/LmNvbnRlbnQgPz8gYGNvbG9yLXBpY2tlcjoke2N0eC5pZH06Y29udGVudGAsXG4gIGdldFBvc2l0aW9uZXJJZDogKGN0eCkgPT4gYGNvbG9yLXBpY2tlcjoke2N0eC5pZH06cG9zaXRpb25lcmAsXG4gIGdldEZvcm1hdFNlbGVjdElkOiAoY3R4KSA9PiBgY29sb3ItcGlja2VyOiR7Y3R4LmlkfTpmb3JtYXQtc2VsZWN0YCxcbiAgZ2V0QXJlYUlkOiAoY3R4KSA9PiBjdHguaWRzPy5hcmVhID8/IGBjb2xvci1waWNrZXI6JHtjdHguaWR9OmFyZWFgLFxuICBnZXRBcmVhR3JhZGllbnRJZDogKGN0eCkgPT4gY3R4Lmlkcz8uYXJlYUdyYWRpZW50ID8/IGBjb2xvci1waWNrZXI6JHtjdHguaWR9OmFyZWEtZ3JhZGllbnRgLFxuICBnZXRBcmVhVGh1bWJJZDogKGN0eCkgPT4gY3R4Lmlkcz8uYXJlYVRodW1iID8/IGBjb2xvci1waWNrZXI6JHtjdHguaWR9OmFyZWEtdGh1bWJgLFxuICBnZXRDaGFubmVsU2xpZGVySWQ6IChjdHgsIGNoYW5uZWwpID0+IGN0eC5pZHM/LmNoYW5uZWxTbGlkZXJUcmFjaz8uKGNoYW5uZWwpID8/IGBjb2xvci1waWNrZXI6JHtjdHguaWR9OnNsaWRlci10cmFjazoke2NoYW5uZWx9YCxcbiAgZ2V0Q2hhbm5lbFNsaWRlclRodW1iSWQ6IChjdHgsIGNoYW5uZWwpID0+IGN0eC5pZHM/LmNoYW5uZWxTbGlkZXJUaHVtYj8uKGNoYW5uZWwpID8/IGBjb2xvci1waWNrZXI6JHtjdHguaWR9OnNsaWRlci10aHVtYjoke2NoYW5uZWx9YCxcbiAgZ2V0Q29udGVudEVsOiAoY3R4KSA9PiBkb20uZ2V0QnlJZChjdHgsIGRvbS5nZXRDb250ZW50SWQoY3R4KSksXG4gIGdldEFyZWFUaHVtYkVsOiAoY3R4KSA9PiBkb20uZ2V0QnlJZChjdHgsIGRvbS5nZXRBcmVhVGh1bWJJZChjdHgpKSxcbiAgZ2V0Q2hhbm5lbFNsaWRlclRodW1iRWw6IChjdHgsIGNoYW5uZWwpID0+IGRvbS5nZXRCeUlkKGN0eCwgZG9tLmdldENoYW5uZWxTbGlkZXJUaHVtYklkKGN0eCwgY2hhbm5lbCkpLFxuICBnZXRDaGFubmVsSW5wdXRFbDogKGN0eCwgY2hhbm5lbCkgPT4ge1xuICAgIHJldHVybiBbXG4gICAgICAuLi5xdWVyeUFsbChkb20uZ2V0Q29udGVudEVsKGN0eCksIGBpbnB1dFtkYXRhLWNoYW5uZWw9XCIke2NoYW5uZWx9XCJdYCksXG4gICAgICAuLi5xdWVyeUFsbChkb20uZ2V0Q29udHJvbEVsKGN0eCksIGBpbnB1dFtkYXRhLWNoYW5uZWw9XCIke2NoYW5uZWx9XCJdYClcbiAgICBdO1xuICB9LFxuICBnZXRGb3JtYXRTZWxlY3RFbDogKGN0eCkgPT4gZG9tLmdldEJ5SWQoY3R4LCBkb20uZ2V0Rm9ybWF0U2VsZWN0SWQoY3R4KSksXG4gIGdldEhpZGRlbklucHV0RWw6IChjdHgpID0+IGRvbS5nZXRCeUlkKGN0eCwgZG9tLmdldEhpZGRlbklucHV0SWQoY3R4KSksXG4gIGdldEFyZWFFbDogKGN0eCkgPT4gZG9tLmdldEJ5SWQoY3R4LCBkb20uZ2V0QXJlYUlkKGN0eCkpLFxuICBnZXRBcmVhVmFsdWVGcm9tUG9pbnQoY3R4LCBwb2ludCkge1xuICAgIGNvbnN0IGFyZWFFbCA9IGRvbS5nZXRBcmVhRWwoY3R4KTtcbiAgICBpZiAoIWFyZWFFbClcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCB7IHBlcmNlbnQgfSA9IGdldFJlbGF0aXZlUG9pbnQocG9pbnQsIGFyZWFFbCk7XG4gICAgcmV0dXJuIHBlcmNlbnQ7XG4gIH0sXG4gIGdldENvbnRyb2xFbDogKGN0eCkgPT4gZG9tLmdldEJ5SWQoY3R4LCBkb20uZ2V0Q29udHJvbElkKGN0eCkpLFxuICBnZXRUcmlnZ2VyRWw6IChjdHgpID0+IGRvbS5nZXRCeUlkKGN0eCwgZG9tLmdldFRyaWdnZXJJZChjdHgpKSxcbiAgZ2V0UG9zaXRpb25lckVsOiAoY3R4KSA9PiBkb20uZ2V0QnlJZChjdHgsIGRvbS5nZXRQb3NpdGlvbmVySWQoY3R4KSksXG4gIGdldENoYW5uZWxTbGlkZXJUcmFja0VsOiAoY3R4LCBjaGFubmVsKSA9PiB7XG4gICAgcmV0dXJuIGRvbS5nZXRCeUlkKGN0eCwgZG9tLmdldENoYW5uZWxTbGlkZXJJZChjdHgsIGNoYW5uZWwpKTtcbiAgfSxcbiAgZ2V0Q2hhbm5lbFNsaWRlclZhbHVlRnJvbVBvaW50KGN0eCwgcG9pbnQsIGNoYW5uZWwpIHtcbiAgICBjb25zdCB0cmFja0VsID0gZG9tLmdldENoYW5uZWxTbGlkZXJUcmFja0VsKGN0eCwgY2hhbm5lbCk7XG4gICAgaWYgKCF0cmFja0VsKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHsgcGVyY2VudCB9ID0gZ2V0UmVsYXRpdmVQb2ludChwb2ludCwgdHJhY2tFbCk7XG4gICAgcmV0dXJuIHBlcmNlbnQ7XG4gIH0sXG4gIGdldENoYW5uZWxJbnB1dEVsczogKGN0eCkgPT4ge1xuICAgIHJldHVybiBbXG4gICAgICAuLi5xdWVyeUFsbChkb20uZ2V0Q29udGVudEVsKGN0eCksIFwiaW5wdXRbZGF0YS1jaGFubmVsXVwiKSxcbiAgICAgIC4uLnF1ZXJ5QWxsKGRvbS5nZXRDb250cm9sRWwoY3R4KSwgXCJpbnB1dFtkYXRhLWNoYW5uZWxdXCIpXG4gICAgXTtcbiAgfSxcbiAgZ2V0Rmlyc3RGb2N1c2FibGVFbDogKGN0eCkgPT4gZ2V0Rmlyc3RGb2N1c2FibGUoZG9tLmdldENvbnRlbnRFbChjdHgpLCBcImlmLWVtcHR5XCIpLFxuICBnZXRJbml0aWFsRm9jdXNFbDogKGN0eCkgPT4ge1xuICAgIGxldCBlbCA9IHJ1bklmRm4oY3R4LmluaXRpYWxGb2N1c0VsKTtcbiAgICBlbCA9IGRvbS5nZXRGaXJzdEZvY3VzYWJsZUVsKGN0eCkgPz8gZG9tLmdldENvbnRlbnRFbChjdHgpO1xuICAgIHJldHVybiBlbDtcbiAgfVxufSk7XG5cbi8vIHNyYy91dGlscy9nZXQtY2hhbm5lbC1kaXNwbGF5LWNvbG9yLnRzXG5pbXBvcnQgeyBwYXJzZUNvbG9yIH0gZnJvbSBcIkB6YWctanMvY29sb3ItdXRpbHNcIjtcbmZ1bmN0aW9uIGdldENoYW5uZWxEaXNwbGF5Q29sb3IoY29sb3IsIGNoYW5uZWwpIHtcbiAgc3dpdGNoIChjaGFubmVsKSB7XG4gICAgY2FzZSBcImh1ZVwiOlxuICAgICAgcmV0dXJuIHBhcnNlQ29sb3IoYGhzbCgke2NvbG9yLmdldENoYW5uZWxWYWx1ZShcImh1ZVwiKX0sIDEwMCUsIDUwJSlgKTtcbiAgICBjYXNlIFwibGlnaHRuZXNzXCI6XG4gICAgY2FzZSBcImJyaWdodG5lc3NcIjpcbiAgICBjYXNlIFwic2F0dXJhdGlvblwiOlxuICAgIGNhc2UgXCJyZWRcIjpcbiAgICBjYXNlIFwiZ3JlZW5cIjpcbiAgICBjYXNlIFwiYmx1ZVwiOlxuICAgICAgcmV0dXJuIGNvbG9yLndpdGhDaGFubmVsVmFsdWUoXCJhbHBoYVwiLCAxKTtcbiAgICBjYXNlIFwiYWxwaGFcIjoge1xuICAgICAgcmV0dXJuIGNvbG9yO1xuICAgIH1cbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBjb2xvciBjaGFubmVsOiBcIiArIGNoYW5uZWwpO1xuICB9XG59XG5cbi8vIHNyYy91dGlscy9nZXQtY2hhbm5lbC1pbnB1dC12YWx1ZS50c1xuaW1wb3J0IHsgcGFyc2VDb2xvciBhcyBwYXJzZUNvbG9yMiB9IGZyb20gXCJAemFnLWpzL2NvbG9yLXV0aWxzXCI7XG5mdW5jdGlvbiBnZXRDaGFubmVsVmFsdWUoY29sb3IsIGNoYW5uZWwpIHtcbiAgaWYgKGNoYW5uZWwgPT0gbnVsbClcbiAgICByZXR1cm4gXCJcIjtcbiAgaWYgKGNoYW5uZWwgPT09IFwiaGV4XCIpIHtcbiAgICByZXR1cm4gY29sb3IudG9TdHJpbmcoXCJoZXhcIik7XG4gIH1cbiAgaWYgKGNoYW5uZWwgPT09IFwiY3NzXCIpIHtcbiAgICByZXR1cm4gY29sb3IudG9TdHJpbmcoXCJjc3NcIik7XG4gIH1cbiAgaWYgKGNoYW5uZWwgaW4gY29sb3IpIHtcbiAgICByZXR1cm4gY29sb3IuZ2V0Q2hhbm5lbFZhbHVlKGNoYW5uZWwpLnRvU3RyaW5nKCk7XG4gIH1cbiAgY29uc3QgaXNIU0wgPSBjb2xvci5nZXRGb3JtYXQoKSA9PT0gXCJoc2xhXCI7XG4gIHN3aXRjaCAoY2hhbm5lbCkge1xuICAgIGNhc2UgXCJodWVcIjpcbiAgICAgIHJldHVybiBpc0hTTCA/IGNvbG9yLnRvRm9ybWF0KFwiaHNsYVwiKS5nZXRDaGFubmVsVmFsdWUoXCJodWVcIikudG9TdHJpbmcoKSA6IGNvbG9yLnRvRm9ybWF0KFwiaHNiYVwiKS5nZXRDaGFubmVsVmFsdWUoXCJodWVcIikudG9TdHJpbmcoKTtcbiAgICBjYXNlIFwic2F0dXJhdGlvblwiOlxuICAgICAgcmV0dXJuIGlzSFNMID8gY29sb3IudG9Gb3JtYXQoXCJoc2xhXCIpLmdldENoYW5uZWxWYWx1ZShcInNhdHVyYXRpb25cIikudG9TdHJpbmcoKSA6IGNvbG9yLnRvRm9ybWF0KFwiaHNiYVwiKS5nZXRDaGFubmVsVmFsdWUoXCJzYXR1cmF0aW9uXCIpLnRvU3RyaW5nKCk7XG4gICAgY2FzZSBcImxpZ2h0bmVzc1wiOlxuICAgICAgcmV0dXJuIGNvbG9yLnRvRm9ybWF0KFwiaHNsYVwiKS5nZXRDaGFubmVsVmFsdWUoXCJsaWdodG5lc3NcIikudG9TdHJpbmcoKTtcbiAgICBjYXNlIFwiYnJpZ2h0bmVzc1wiOlxuICAgICAgcmV0dXJuIGNvbG9yLnRvRm9ybWF0KFwiaHNiYVwiKS5nZXRDaGFubmVsVmFsdWUoXCJicmlnaHRuZXNzXCIpLnRvU3RyaW5nKCk7XG4gICAgY2FzZSBcInJlZFwiOlxuICAgIGNhc2UgXCJncmVlblwiOlxuICAgIGNhc2UgXCJibHVlXCI6XG4gICAgICByZXR1cm4gY29sb3IudG9Gb3JtYXQoXCJyZ2JhXCIpLmdldENoYW5uZWxWYWx1ZShjaGFubmVsKS50b1N0cmluZygpO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gY29sb3IuZ2V0Q2hhbm5lbFZhbHVlKGNoYW5uZWwpLnRvU3RyaW5nKCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGdldENoYW5uZWxSYW5nZShjb2xvciwgY2hhbm5lbCkge1xuICBzd2l0Y2ggKGNoYW5uZWwpIHtcbiAgICBjYXNlIFwiaGV4XCI6XG4gICAgICBjb25zdCBtaW5Db2xvciA9IHBhcnNlQ29sb3IyKFwiIzAwMDAwMFwiKTtcbiAgICAgIGNvbnN0IG1heENvbG9yID0gcGFyc2VDb2xvcjIoXCIjRkZGRkZGXCIpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbWluVmFsdWU6IG1pbkNvbG9yLnRvSGV4SW50KCksXG4gICAgICAgIG1heFZhbHVlOiBtYXhDb2xvci50b0hleEludCgpLFxuICAgICAgICBwYWdlU2l6ZTogMTAsXG4gICAgICAgIHN0ZXA6IDFcbiAgICAgIH07XG4gICAgY2FzZSBcImNzc1wiOlxuICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICBjYXNlIFwiaHVlXCI6XG4gICAgY2FzZSBcInNhdHVyYXRpb25cIjpcbiAgICBjYXNlIFwibGlnaHRuZXNzXCI6XG4gICAgICByZXR1cm4gY29sb3IudG9Gb3JtYXQoXCJoc2xhXCIpLmdldENoYW5uZWxSYW5nZShjaGFubmVsKTtcbiAgICBjYXNlIFwiYnJpZ2h0bmVzc1wiOlxuICAgICAgcmV0dXJuIGNvbG9yLnRvRm9ybWF0KFwiaHNiYVwiKS5nZXRDaGFubmVsUmFuZ2UoY2hhbm5lbCk7XG4gICAgY2FzZSBcInJlZFwiOlxuICAgIGNhc2UgXCJncmVlblwiOlxuICAgIGNhc2UgXCJibHVlXCI6XG4gICAgICByZXR1cm4gY29sb3IudG9Gb3JtYXQoXCJyZ2JhXCIpLmdldENoYW5uZWxSYW5nZShjaGFubmVsKTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGNvbG9yLmdldENoYW5uZWxSYW5nZShjaGFubmVsKTtcbiAgfVxufVxuXG4vLyBzcmMvdXRpbHMvZ2V0LXNsaWRlci1iYWNrZ3JvdW5kLnRzXG5mdW5jdGlvbiBnZXRTbGlkZXJCYWNrZ3JvdW5kRGlyZWN0aW9uKG9yaWVudGF0aW9uLCBkaXIpIHtcbiAgaWYgKG9yaWVudGF0aW9uID09PSBcInZlcnRpY2FsXCIpIHtcbiAgICByZXR1cm4gXCJ0b3BcIjtcbiAgfSBlbHNlIGlmIChkaXIgPT09IFwibHRyXCIpIHtcbiAgICByZXR1cm4gXCJyaWdodFwiO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBcImxlZnRcIjtcbiAgfVxufVxudmFyIGdldFNsaWRlckJhY2tncm91bmQgPSAocHJvcHMpID0+IHtcbiAgY29uc3QgeyBjaGFubmVsLCB2YWx1ZSwgZGlyIH0gPSBwcm9wcztcbiAgY29uc3QgYmdEaXJlY3Rpb24gPSBnZXRTbGlkZXJCYWNrZ3JvdW5kRGlyZWN0aW9uKHByb3BzLm9yaWVudGF0aW9uLCBkaXIpO1xuICBjb25zdCB7IG1pblZhbHVlLCBtYXhWYWx1ZSB9ID0gdmFsdWUuZ2V0Q2hhbm5lbFJhbmdlKGNoYW5uZWwpO1xuICBzd2l0Y2ggKGNoYW5uZWwpIHtcbiAgICBjYXNlIFwiaHVlXCI6XG4gICAgICByZXR1cm4gYGxpbmVhci1ncmFkaWVudCh0byAke2JnRGlyZWN0aW9ufSwgcmdiKDI1NSwgMCwgMCkgMCUsIHJnYigyNTUsIDI1NSwgMCkgMTclLCByZ2IoMCwgMjU1LCAwKSAzMyUsIHJnYigwLCAyNTUsIDI1NSkgNTAlLCByZ2IoMCwgMCwgMjU1KSA2NyUsIHJnYigyNTUsIDAsIDI1NSkgODMlLCByZ2IoMjU1LCAwLCAwKSAxMDAlKWA7XG4gICAgY2FzZSBcImxpZ2h0bmVzc1wiOiB7XG4gICAgICBsZXQgc3RhcnQgPSB2YWx1ZS53aXRoQ2hhbm5lbFZhbHVlKGNoYW5uZWwsIG1pblZhbHVlKS50b1N0cmluZyhcImNzc1wiKTtcbiAgICAgIGxldCBtaWRkbGUgPSB2YWx1ZS53aXRoQ2hhbm5lbFZhbHVlKGNoYW5uZWwsIChtYXhWYWx1ZSAtIG1pblZhbHVlKSAvIDIpLnRvU3RyaW5nKFwiY3NzXCIpO1xuICAgICAgbGV0IGVuZCA9IHZhbHVlLndpdGhDaGFubmVsVmFsdWUoY2hhbm5lbCwgbWF4VmFsdWUpLnRvU3RyaW5nKFwiY3NzXCIpO1xuICAgICAgcmV0dXJuIGBsaW5lYXItZ3JhZGllbnQodG8gJHtiZ0RpcmVjdGlvbn0sICR7c3RhcnR9LCAke21pZGRsZX0sICR7ZW5kfSlgO1xuICAgIH1cbiAgICBjYXNlIFwic2F0dXJhdGlvblwiOlxuICAgIGNhc2UgXCJicmlnaHRuZXNzXCI6XG4gICAgY2FzZSBcInJlZFwiOlxuICAgIGNhc2UgXCJncmVlblwiOlxuICAgIGNhc2UgXCJibHVlXCI6XG4gICAgY2FzZSBcImFscGhhXCI6IHtcbiAgICAgIGxldCBzdGFydCA9IHZhbHVlLndpdGhDaGFubmVsVmFsdWUoY2hhbm5lbCwgbWluVmFsdWUpLnRvU3RyaW5nKFwiY3NzXCIpO1xuICAgICAgbGV0IGVuZCA9IHZhbHVlLndpdGhDaGFubmVsVmFsdWUoY2hhbm5lbCwgbWF4VmFsdWUpLnRvU3RyaW5nKFwiY3NzXCIpO1xuICAgICAgcmV0dXJuIGBsaW5lYXItZ3JhZGllbnQodG8gJHtiZ0RpcmVjdGlvbn0sICR7c3RhcnR9LCAke2VuZH0pYDtcbiAgICB9XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gY29sb3IgY2hhbm5lbDogXCIgKyBjaGFubmVsKTtcbiAgfVxufTtcblxuLy8gc3JjL2NvbG9yLXBpY2tlci5jb25uZWN0LnRzXG5mdW5jdGlvbiBjb25uZWN0KHN0YXRlLCBzZW5kLCBub3JtYWxpemUpIHtcbiAgY29uc3QgdmFsdWUgPSBzdGF0ZS5jb250ZXh0LnZhbHVlO1xuICBjb25zdCBhcmVhVmFsdWUgPSBzdGF0ZS5jb250ZXh0LmFyZWFWYWx1ZTtcbiAgY29uc3QgdmFsdWVBc1N0cmluZyA9IHN0YXRlLmNvbnRleHQudmFsdWVBc1N0cmluZztcbiAgY29uc3QgaXNEaXNhYmxlZCA9IHN0YXRlLmNvbnRleHQuaXNEaXNhYmxlZDtcbiAgY29uc3QgaXNJbnRlcmFjdGl2ZSA9IHN0YXRlLmNvbnRleHQuaXNJbnRlcmFjdGl2ZTtcbiAgY29uc3QgaXNEcmFnZ2luZyA9IHN0YXRlLmhhc1RhZyhcImRyYWdnaW5nXCIpO1xuICBjb25zdCBpc09wZW4gPSBzdGF0ZS5oYXNUYWcoXCJvcGVuXCIpO1xuICBjb25zdCBpc0ZvY3VzZWQgPSBzdGF0ZS5oYXNUYWcoXCJmb2N1c2VkXCIpO1xuICBjb25zdCBnZXRBcmVhQ2hhbm5lbHMgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCBjaGFubmVscyA9IGFyZWFWYWx1ZS5nZXRDaGFubmVscygpO1xuICAgIHJldHVybiB7XG4gICAgICB4Q2hhbm5lbDogcHJvcHMueENoYW5uZWwgPz8gY2hhbm5lbHNbMV0sXG4gICAgICB5Q2hhbm5lbDogcHJvcHMueUNoYW5uZWwgPz8gY2hhbm5lbHNbMl1cbiAgICB9O1xuICB9O1xuICBjb25zdCBjdXJyZW50UGxhY2VtZW50ID0gc3RhdGUuY29udGV4dC5jdXJyZW50UGxhY2VtZW50O1xuICBjb25zdCBwb3BwZXJTdHlsZXMgPSBnZXRQbGFjZW1lbnRTdHlsZXMoe1xuICAgIC4uLnN0YXRlLmNvbnRleHQucG9zaXRpb25pbmcsXG4gICAgcGxhY2VtZW50OiBjdXJyZW50UGxhY2VtZW50XG4gIH0pO1xuICBmdW5jdGlvbiBnZXRTd2F0Y2hUcmlnZ2VyU3RhdGUocHJvcHMpIHtcbiAgICBjb25zdCBjb2xvciA9IG5vcm1hbGl6ZUNvbG9yKHByb3BzLnZhbHVlKS50b0Zvcm1hdChzdGF0ZS5jb250ZXh0LmZvcm1hdCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHZhbHVlOiBjb2xvcixcbiAgICAgIHZhbHVlQXNTdHJpbmc6IGNvbG9yLnRvU3RyaW5nKFwiaGV4XCIpLFxuICAgICAgaXNDaGVja2VkOiBjb2xvci5pc0VxdWFsKHZhbHVlKSxcbiAgICAgIGlzRGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkIHx8ICFpc0ludGVyYWN0aXZlXG4gICAgfTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGlzRHJhZ2dpbmcsXG4gICAgaXNPcGVuLFxuICAgIHZhbHVlQXNTdHJpbmcsXG4gICAgdmFsdWUsXG4gICAgb3BlbigpIHtcbiAgICAgIHNlbmQoeyB0eXBlOiBcIk9QRU5cIiB9KTtcbiAgICB9LFxuICAgIGNsb3NlKCkge1xuICAgICAgc2VuZCh7IHR5cGU6IFwiQ0xPU0VcIiB9KTtcbiAgICB9LFxuICAgIHNldFZhbHVlKHZhbHVlMikge1xuICAgICAgc2VuZCh7IHR5cGU6IFwiVkFMVUUuU0VUXCIsIHZhbHVlOiBub3JtYWxpemVDb2xvcih2YWx1ZTIpLCBzcmM6IFwic2V0LWNvbG9yXCIgfSk7XG4gICAgfSxcbiAgICBnZXRDaGFubmVsVmFsdWUoY2hhbm5lbCkge1xuICAgICAgcmV0dXJuIGdldENoYW5uZWxWYWx1ZSh2YWx1ZSwgY2hhbm5lbCk7XG4gICAgfSxcbiAgICBzZXRDaGFubmVsVmFsdWUoY2hhbm5lbCwgY2hhbm5lbFZhbHVlKSB7XG4gICAgICBjb25zdCBjb2xvciA9IHZhbHVlLndpdGhDaGFubmVsVmFsdWUoY2hhbm5lbCwgY2hhbm5lbFZhbHVlKTtcbiAgICAgIHNlbmQoeyB0eXBlOiBcIlZBTFVFLlNFVFwiLCB2YWx1ZTogY29sb3IsIHNyYzogXCJzZXQtY2hhbm5lbFwiIH0pO1xuICAgIH0sXG4gICAgZm9ybWF0OiBzdGF0ZS5jb250ZXh0LmZvcm1hdCxcbiAgICBzZXRGb3JtYXQoZm9ybWF0KSB7XG4gICAgICBjb25zdCBmb3JtYXRWYWx1ZSA9IHZhbHVlLnRvRm9ybWF0KGZvcm1hdCk7XG4gICAgICBzZW5kKHsgdHlwZTogXCJWQUxVRS5TRVRcIiwgdmFsdWU6IGZvcm1hdFZhbHVlLCBzcmM6IFwic2V0LWZvcm1hdFwiIH0pO1xuICAgIH0sXG4gICAgYWxwaGE6IHZhbHVlLmdldENoYW5uZWxWYWx1ZShcImFscGhhXCIpLFxuICAgIHNldEFscGhhKGFscGhhVmFsdWUpIHtcbiAgICAgIGNvbnN0IGNvbG9yID0gdmFsdWUud2l0aENoYW5uZWxWYWx1ZShcImFscGhhXCIsIGFscGhhVmFsdWUpO1xuICAgICAgc2VuZCh7IHR5cGU6IFwiVkFMVUUuU0VUXCIsIHZhbHVlOiBjb2xvciwgc3JjOiBcInNldC1hbHBoYVwiIH0pO1xuICAgIH0sXG4gICAgcm9vdFByb3BzOiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICAuLi5wYXJ0cy5yb290LmF0dHJzLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIGlkOiBkb20uZ2V0Um9vdElkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgXCJkYXRhLWRpc2FibGVkXCI6IGRhdGFBdHRyKGlzRGlzYWJsZWQpLFxuICAgICAgXCJkYXRhLXJlYWRvbmx5XCI6IGRhdGFBdHRyKHN0YXRlLmNvbnRleHQucmVhZE9ubHkpLFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgXCItLXZhbHVlXCI6IHZhbHVlLnRvU3RyaW5nKFwiY3NzXCIpXG4gICAgICB9XG4gICAgfSksXG4gICAgbGFiZWxQcm9wczogbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgLi4ucGFydHMubGFiZWwuYXR0cnMsXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgaWQ6IGRvbS5nZXRMYWJlbElkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgaHRtbEZvcjogZG9tLmdldEhpZGRlbklucHV0SWQoc3RhdGUuY29udGV4dCksXG4gICAgICBcImRhdGEtZGlzYWJsZWRcIjogZGF0YUF0dHIoaXNEaXNhYmxlZCksXG4gICAgICBcImRhdGEtcmVhZG9ubHlcIjogZGF0YUF0dHIoc3RhdGUuY29udGV4dC5yZWFkT25seSksXG4gICAgICBcImRhdGEtZm9jdXNcIjogZGF0YUF0dHIoaXNGb2N1c2VkKSxcbiAgICAgIG9uQ2xpY2soZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgaW5wdXRFbCA9IHF1ZXJ5KGRvbS5nZXRDb250cm9sRWwoc3RhdGUuY29udGV4dCksIFwiW2RhdGEtY2hhbm5lbD1oZXhdXCIpO1xuICAgICAgICBpbnB1dEVsPy5mb2N1cyh7IHByZXZlbnRTY3JvbGw6IHRydWUgfSk7XG4gICAgICB9XG4gICAgfSksXG4gICAgY29udHJvbFByb3BzOiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICAuLi5wYXJ0cy5jb250cm9sLmF0dHJzLFxuICAgICAgaWQ6IGRvbS5nZXRDb250cm9sSWQoc3RhdGUuY29udGV4dCksXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgXCJkYXRhLWRpc2FibGVkXCI6IGRhdGFBdHRyKGlzRGlzYWJsZWQpLFxuICAgICAgXCJkYXRhLXJlYWRvbmx5XCI6IGRhdGFBdHRyKHN0YXRlLmNvbnRleHQucmVhZE9ubHkpLFxuICAgICAgXCJkYXRhLXN0YXRlXCI6IGlzT3BlbiA/IFwib3BlblwiIDogXCJjbG9zZWRcIixcbiAgICAgIFwiZGF0YS1mb2N1c1wiOiBkYXRhQXR0cihpc0ZvY3VzZWQpXG4gICAgfSksXG4gICAgdHJpZ2dlclByb3BzOiBub3JtYWxpemUuYnV0dG9uKHtcbiAgICAgIC4uLnBhcnRzLnRyaWdnZXIuYXR0cnMsXG4gICAgICBpZDogZG9tLmdldFRyaWdnZXJJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICBkaXNhYmxlZDogaXNEaXNhYmxlZCxcbiAgICAgIFwiYXJpYS1sYWJlbFwiOiBgc2VsZWN0IGNvbG9yLiBjdXJyZW50IGNvbG9yIGlzICR7dmFsdWVBc1N0cmluZ31gLFxuICAgICAgXCJhcmlhLWNvbnRyb2xzXCI6IGRvbS5nZXRDb250ZW50SWQoc3RhdGUuY29udGV4dCksXG4gICAgICBcImFyaWEtbGFiZWxsZWRieVwiOiBkb20uZ2V0TGFiZWxJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihpc0Rpc2FibGVkKSxcbiAgICAgIFwiZGF0YS1yZWFkb25seVwiOiBkYXRhQXR0cihzdGF0ZS5jb250ZXh0LnJlYWRPbmx5KSxcbiAgICAgIFwiZGF0YS1wbGFjZW1lbnRcIjogY3VycmVudFBsYWNlbWVudCxcbiAgICAgIFwiYXJpYS1leHBhbmRlZFwiOiBkYXRhQXR0cihpc09wZW4pLFxuICAgICAgXCJkYXRhLXN0YXRlXCI6IGlzT3BlbiA/IFwib3BlblwiIDogXCJjbG9zZWRcIixcbiAgICAgIFwiZGF0YS1mb2N1c1wiOiBkYXRhQXR0cihpc0ZvY3VzZWQpLFxuICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgIG9uQ2xpY2soKSB7XG4gICAgICAgIGlmICghaXNJbnRlcmFjdGl2ZSlcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIHNlbmQoeyB0eXBlOiBcIlRSSUdHRVIuQ0xJQ0tcIiB9KTtcbiAgICAgIH0sXG4gICAgICBvbkJsdXIoKSB7XG4gICAgICAgIGlmICghaXNJbnRlcmFjdGl2ZSlcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIHNlbmQoeyB0eXBlOiBcIlRSSUdHRVIuQkxVUlwiIH0pO1xuICAgICAgfSxcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCJcbiAgICAgIH1cbiAgICB9KSxcbiAgICBwb3NpdGlvbmVyUHJvcHM6IG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgIC4uLnBhcnRzLnBvc2l0aW9uZXIuYXR0cnMsXG4gICAgICBpZDogZG9tLmdldFBvc2l0aW9uZXJJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICBzdHlsZTogcG9wcGVyU3R5bGVzLmZsb2F0aW5nXG4gICAgfSksXG4gICAgY29udGVudFByb3BzOiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICAuLi5wYXJ0cy5jb250ZW50LmF0dHJzLFxuICAgICAgaWQ6IGRvbS5nZXRDb250ZW50SWQoc3RhdGUuY29udGV4dCksXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgXCJkYXRhLXBsYWNlbWVudFwiOiBjdXJyZW50UGxhY2VtZW50LFxuICAgICAgXCJkYXRhLXN0YXRlXCI6IGlzT3BlbiA/IFwib3BlblwiIDogXCJjbG9zZWRcIixcbiAgICAgIGhpZGRlbjogIWlzT3BlblxuICAgIH0pLFxuICAgIGdldEFyZWFQcm9wcyhwcm9wcyA9IHt9KSB7XG4gICAgICBjb25zdCB7IHhDaGFubmVsLCB5Q2hhbm5lbCB9ID0gZ2V0QXJlYUNoYW5uZWxzKHByb3BzKTtcbiAgICAgIGNvbnN0IHsgYXJlYVN0eWxlcyB9ID0gZ2V0Q29sb3JBcmVhR3JhZGllbnQoYXJlYVZhbHVlLCB7XG4gICAgICAgIHhDaGFubmVsLFxuICAgICAgICB5Q2hhbm5lbCxcbiAgICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpclxuICAgICAgfSk7XG4gICAgICByZXR1cm4gbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgICAuLi5wYXJ0cy5hcmVhLmF0dHJzLFxuICAgICAgICBpZDogZG9tLmdldEFyZWFJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgICAgcm9sZTogXCJncm91cFwiLFxuICAgICAgICBvblBvaW50ZXJEb3duKGV2ZW50KSB7XG4gICAgICAgICAgaWYgKCFpc0ludGVyYWN0aXZlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IGV2dCA9IGdldE5hdGl2ZUV2ZW50KGV2ZW50KTtcbiAgICAgICAgICBpZiAoIWlzTGVmdENsaWNrKGV2dCkgfHwgaXNNb2RpZmllZEV2ZW50KGV2dCkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgY29uc3QgcG9pbnQgPSBnZXRFdmVudFBvaW50KGV2dCk7XG4gICAgICAgICAgY29uc3QgY2hhbm5lbCA9IHsgeENoYW5uZWwsIHlDaGFubmVsIH07XG4gICAgICAgICAgc2VuZCh7IHR5cGU6IFwiQVJFQS5QT0lOVEVSX0RPV05cIiwgcG9pbnQsIGNoYW5uZWwsIGlkOiBcImFyZWFcIiB9KTtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9LFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICAgICAgdG91Y2hBY3Rpb246IFwibm9uZVwiLFxuICAgICAgICAgIGZvcmNlZENvbG9yQWRqdXN0OiBcIm5vbmVcIixcbiAgICAgICAgICAuLi5hcmVhU3R5bGVzXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0QXJlYUJhY2tncm91bmRQcm9wcyhwcm9wcyA9IHt9KSB7XG4gICAgICBjb25zdCB7IHhDaGFubmVsLCB5Q2hhbm5lbCB9ID0gZ2V0QXJlYUNoYW5uZWxzKHByb3BzKTtcbiAgICAgIGNvbnN0IHsgYXJlYUdyYWRpZW50U3R5bGVzIH0gPSBnZXRDb2xvckFyZWFHcmFkaWVudChhcmVhVmFsdWUsIHtcbiAgICAgICAgeENoYW5uZWwsXG4gICAgICAgIHlDaGFubmVsLFxuICAgICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICAgIC4uLnBhcnRzLmFyZWFCYWNrZ3JvdW5kLmF0dHJzLFxuICAgICAgICBpZDogZG9tLmdldEFyZWFHcmFkaWVudElkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICAgICAgdG91Y2hBY3Rpb246IFwibm9uZVwiLFxuICAgICAgICAgIGZvcmNlZENvbG9yQWRqdXN0OiBcIm5vbmVcIixcbiAgICAgICAgICAuLi5hcmVhR3JhZGllbnRTdHlsZXNcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZXRBcmVhVGh1bWJQcm9wcyhwcm9wcyA9IHt9KSB7XG4gICAgICBjb25zdCB7IHhDaGFubmVsLCB5Q2hhbm5lbCB9ID0gZ2V0QXJlYUNoYW5uZWxzKHByb3BzKTtcbiAgICAgIGNvbnN0IGNoYW5uZWwgPSB7IHhDaGFubmVsLCB5Q2hhbm5lbCB9O1xuICAgICAgY29uc3QgeFBlcmNlbnQgPSBhcmVhVmFsdWUuZ2V0Q2hhbm5lbFZhbHVlUGVyY2VudCh4Q2hhbm5lbCk7XG4gICAgICBjb25zdCB5UGVyY2VudCA9IDEgLSBhcmVhVmFsdWUuZ2V0Q2hhbm5lbFZhbHVlUGVyY2VudCh5Q2hhbm5lbCk7XG4gICAgICBjb25zdCB4VmFsdWUgPSBhcmVhVmFsdWUuZ2V0Q2hhbm5lbFZhbHVlKHhDaGFubmVsKTtcbiAgICAgIGNvbnN0IHlWYWx1ZSA9IGFyZWFWYWx1ZS5nZXRDaGFubmVsVmFsdWUoeUNoYW5uZWwpO1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgICAgLi4ucGFydHMuYXJlYVRodW1iLmF0dHJzLFxuICAgICAgICBpZDogZG9tLmdldEFyZWFUaHVtYklkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgICB0YWJJbmRleDogaXNEaXNhYmxlZCA/IHZvaWQgMCA6IDAsXG4gICAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihpc0Rpc2FibGVkKSxcbiAgICAgICAgcm9sZTogXCJzbGlkZXJcIixcbiAgICAgICAgXCJhcmlhLXZhbHVlbWluXCI6IDAsXG4gICAgICAgIFwiYXJpYS12YWx1ZW1heFwiOiAxMDAsXG4gICAgICAgIFwiYXJpYS12YWx1ZW5vd1wiOiB4VmFsdWUsXG4gICAgICAgIFwiYXJpYS1sYWJlbFwiOiBgJHt4Q2hhbm5lbH0gYW5kICR7eUNoYW5uZWx9YCxcbiAgICAgICAgXCJhcmlhLXJvbGVkZXNjcmlwdGlvblwiOiBcIjJkIHNsaWRlclwiLFxuICAgICAgICBcImFyaWEtdmFsdWV0ZXh0XCI6IGAke3hDaGFubmVsfSAke3hWYWx1ZX0sICR7eUNoYW5uZWx9ICR7eVZhbHVlfWAsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgICBsZWZ0OiBgJHt4UGVyY2VudCAqIDEwMH0lYCxcbiAgICAgICAgICB0b3A6IGAke3lQZXJjZW50ICogMTAwfSVgLFxuICAgICAgICAgIHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUoLTUwJSwgLTUwJSlcIixcbiAgICAgICAgICB0b3VjaEFjdGlvbjogXCJub25lXCIsXG4gICAgICAgICAgZm9yY2VkQ29sb3JBZGp1c3Q6IFwibm9uZVwiLFxuICAgICAgICAgIGJhY2tncm91bmQ6IGFyZWFWYWx1ZS53aXRoQ2hhbm5lbFZhbHVlKFwiYWxwaGFcIiwgMSkudG9TdHJpbmcoXCJjc3NcIilcbiAgICAgICAgfSxcbiAgICAgICAgb25Gb2N1cygpIHtcbiAgICAgICAgICBpZiAoIWlzSW50ZXJhY3RpdmUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgc2VuZCh7IHR5cGU6IFwiQVJFQS5GT0NVU1wiLCBpZDogXCJhcmVhXCIsIGNoYW5uZWwgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uS2V5RG93bihldmVudCkge1xuICAgICAgICAgIGlmICghaXNJbnRlcmFjdGl2ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjb25zdCBzdGVwID0gZ2V0RXZlbnRTdGVwKGV2ZW50KTtcbiAgICAgICAgICBjb25zdCBrZXlNYXAgPSB7XG4gICAgICAgICAgICBBcnJvd1VwKCkge1xuICAgICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJBUkVBLkFSUk9XX1VQXCIsIGNoYW5uZWwsIHN0ZXAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgQXJyb3dEb3duKCkge1xuICAgICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJBUkVBLkFSUk9XX0RPV05cIiwgY2hhbm5lbCwgc3RlcCB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBBcnJvd0xlZnQoKSB7XG4gICAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIkFSRUEuQVJST1dfTEVGVFwiLCBjaGFubmVsLCBzdGVwIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIEFycm93UmlnaHQoKSB7XG4gICAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIkFSRUEuQVJST1dfUklHSFRcIiwgY2hhbm5lbCwgc3RlcCB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBQYWdlVXAoKSB7XG4gICAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIkFSRUEuUEFHRV9VUFwiLCBjaGFubmVsLCBzdGVwIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFBhZ2VEb3duKCkge1xuICAgICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJBUkVBLlBBR0VfRE9XTlwiLCBjaGFubmVsLCBzdGVwIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIEVzY2FwZShldmVudDIpIHtcbiAgICAgICAgICAgICAgZXZlbnQyLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgZXhlYyA9IGtleU1hcFtnZXRFdmVudEtleShldmVudCwgc3RhdGUuY29udGV4dCldO1xuICAgICAgICAgIGlmIChleGVjKSB7XG4gICAgICAgICAgICBleGVjKGV2ZW50KTtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdldFRyYW5zcGFyZW5jeUdyaWRQcm9wcyhwcm9wcyA9IHt9KSB7XG4gICAgICBjb25zdCB7IHNpemUgPSBcIjEycHhcIiB9ID0gcHJvcHM7XG4gICAgICByZXR1cm4gbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgICAuLi5wYXJ0cy50cmFuc3BhcmVuY3lHcmlkLmF0dHJzLFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIFwiLS1zaXplXCI6IHNpemUsXG4gICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2ZmZlwiLFxuICAgICAgICAgIGJhY2tncm91bmRJbWFnZTogXCJjb25pYy1ncmFkaWVudCgjZWVlZWVlIDAgMjUlLCB0cmFuc3BhcmVudCAwIDUwJSwgI2VlZWVlZSAwIDc1JSwgdHJhbnNwYXJlbnQgMClcIixcbiAgICAgICAgICBiYWNrZ3JvdW5kU2l6ZTogXCJ2YXIoLS1zaXplKSB2YXIoLS1zaXplKVwiLFxuICAgICAgICAgIGluc2V0OiBcIjBweFwiLFxuICAgICAgICAgIHpJbmRleDogXCJhdXRvXCIsXG4gICAgICAgICAgcG9pbnRlckV2ZW50czogXCJub25lXCJcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZXRDaGFubmVsU2xpZGVyUHJvcHMocHJvcHMpIHtcbiAgICAgIGNvbnN0IHsgb3JpZW50YXRpb24gPSBcImhvcml6b250YWxcIiwgY2hhbm5lbCB9ID0gcHJvcHM7XG4gICAgICByZXR1cm4gbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgICAuLi5wYXJ0cy5jaGFubmVsU2xpZGVyLmF0dHJzLFxuICAgICAgICBcImRhdGEtY2hhbm5lbFwiOiBjaGFubmVsLFxuICAgICAgICBcImRhdGEtb3JpZW50YXRpb25cIjogb3JpZW50YXRpb24sXG4gICAgICAgIHJvbGU6IFwicHJlc2VudGF0aW9uXCIsXG4gICAgICAgIG9uUG9pbnRlckRvd24oZXZlbnQpIHtcbiAgICAgICAgICBpZiAoIWlzSW50ZXJhY3RpdmUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgY29uc3QgZXZ0ID0gZ2V0TmF0aXZlRXZlbnQoZXZlbnQpO1xuICAgICAgICAgIGlmICghaXNMZWZ0Q2xpY2soZXZ0KSB8fCBpc01vZGlmaWVkRXZlbnQoZXZ0KSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjb25zdCBwb2ludCA9IGdldEV2ZW50UG9pbnQoZXZ0KTtcbiAgICAgICAgICBzZW5kKHsgdHlwZTogXCJDSEFOTkVMX1NMSURFUi5QT0lOVEVSX0RPV05cIiwgY2hhbm5lbCwgcG9pbnQsIGlkOiBjaGFubmVsLCBvcmllbnRhdGlvbiB9KTtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9LFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICAgICAgdG91Y2hBY3Rpb246IFwibm9uZVwiXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0Q2hhbm5lbFNsaWRlclRyYWNrUHJvcHMocHJvcHMpIHtcbiAgICAgIGNvbnN0IHsgb3JpZW50YXRpb24gPSBcImhvcml6b250YWxcIiwgY2hhbm5lbCB9ID0gcHJvcHM7XG4gICAgICByZXR1cm4gbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgICAuLi5wYXJ0cy5jaGFubmVsU2xpZGVyVHJhY2suYXR0cnMsXG4gICAgICAgIGlkOiBkb20uZ2V0Q2hhbm5lbFNsaWRlcklkKHN0YXRlLmNvbnRleHQsIGNoYW5uZWwpLFxuICAgICAgICByb2xlOiBcImdyb3VwXCIsXG4gICAgICAgIFwiZGF0YS1jaGFubmVsXCI6IGNoYW5uZWwsXG4gICAgICAgIFwiZGF0YS1vcmllbnRhdGlvblwiOiBvcmllbnRhdGlvbixcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgICAgICAgIGZvcmNlZENvbG9yQWRqdXN0OiBcIm5vbmVcIixcbiAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IGdldFNsaWRlckJhY2tncm91bmQoe1xuICAgICAgICAgICAgb3JpZW50YXRpb24sXG4gICAgICAgICAgICBjaGFubmVsLFxuICAgICAgICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgICAgICAgIHZhbHVlOiBhcmVhVmFsdWVcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdldENoYW5uZWxTbGlkZXJUaHVtYlByb3BzKHByb3BzKSB7XG4gICAgICBjb25zdCB7IG9yaWVudGF0aW9uID0gXCJob3Jpem9udGFsXCIsIGNoYW5uZWwgfSA9IHByb3BzO1xuICAgICAgY29uc3QgeyBtaW5WYWx1ZSwgbWF4VmFsdWUsIHN0ZXA6IHN0ZXBWYWx1ZSB9ID0gYXJlYVZhbHVlLmdldENoYW5uZWxSYW5nZShjaGFubmVsKTtcbiAgICAgIGNvbnN0IGNoYW5uZWxWYWx1ZSA9IGFyZWFWYWx1ZS5nZXRDaGFubmVsVmFsdWUoY2hhbm5lbCk7XG4gICAgICBjb25zdCBvZmZzZXQgPSAoY2hhbm5lbFZhbHVlIC0gbWluVmFsdWUpIC8gKG1heFZhbHVlIC0gbWluVmFsdWUpO1xuICAgICAgY29uc3QgcGxhY2VtZW50U3R5bGVzID0gb3JpZW50YXRpb24gPT09IFwiaG9yaXpvbnRhbFwiID8geyBsZWZ0OiBgJHtvZmZzZXQgKiAxMDB9JWAsIHRvcDogXCI1MCVcIiB9IDogeyB0b3A6IGAke29mZnNldCAqIDEwMH0lYCwgbGVmdDogXCI1MCVcIiB9O1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgICAgLi4ucGFydHMuY2hhbm5lbFNsaWRlclRodW1iLmF0dHJzLFxuICAgICAgICBpZDogZG9tLmdldENoYW5uZWxTbGlkZXJUaHVtYklkKHN0YXRlLmNvbnRleHQsIGNoYW5uZWwpLFxuICAgICAgICByb2xlOiBcInNsaWRlclwiLFxuICAgICAgICBcImFyaWEtbGFiZWxcIjogY2hhbm5lbCxcbiAgICAgICAgdGFiSW5kZXg6IGlzRGlzYWJsZWQgPyB2b2lkIDAgOiAwLFxuICAgICAgICBcImRhdGEtY2hhbm5lbFwiOiBjaGFubmVsLFxuICAgICAgICBcImRhdGEtZGlzYWJsZWRcIjogZGF0YUF0dHIoaXNEaXNhYmxlZCksXG4gICAgICAgIFwiZGF0YS1vcmllbnRhdGlvblwiOiBvcmllbnRhdGlvbixcbiAgICAgICAgXCJhcmlhLWRpc2FibGVkXCI6IGRhdGFBdHRyKGlzRGlzYWJsZWQpLFxuICAgICAgICBcImFyaWEtb3JpZW50YXRpb25cIjogb3JpZW50YXRpb24sXG4gICAgICAgIFwiYXJpYS12YWx1ZW1heFwiOiBtYXhWYWx1ZSxcbiAgICAgICAgXCJhcmlhLXZhbHVlbWluXCI6IG1pblZhbHVlLFxuICAgICAgICBcImFyaWEtdmFsdWVub3dcIjogY2hhbm5lbFZhbHVlLFxuICAgICAgICBcImFyaWEtdmFsdWV0ZXh0XCI6IGAke2NoYW5uZWx9ICR7Y2hhbm5lbFZhbHVlfWAsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgZm9yY2VkQ29sb3JBZGp1c3Q6IFwibm9uZVwiLFxuICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgYmFja2dyb3VuZDogZ2V0Q2hhbm5lbERpc3BsYXlDb2xvcihhcmVhVmFsdWUsIGNoYW5uZWwpLnRvU3RyaW5nKFwiY3NzXCIpLFxuICAgICAgICAgIC4uLnBsYWNlbWVudFN0eWxlc1xuICAgICAgICB9LFxuICAgICAgICBvbkZvY3VzKCkge1xuICAgICAgICAgIGlmICghaXNJbnRlcmFjdGl2ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBzZW5kKHsgdHlwZTogXCJDSEFOTkVMX1NMSURFUi5GT0NVU1wiLCBjaGFubmVsIH0pO1xuICAgICAgICB9LFxuICAgICAgICBvbktleURvd24oZXZlbnQpIHtcbiAgICAgICAgICBpZiAoIWlzSW50ZXJhY3RpdmUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgY29uc3Qgc3RlcCA9IGdldEV2ZW50U3RlcChldmVudCkgKiBzdGVwVmFsdWU7XG4gICAgICAgICAgY29uc3Qga2V5TWFwID0ge1xuICAgICAgICAgICAgQXJyb3dVcCgpIHtcbiAgICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwiQ0hBTk5FTF9TTElERVIuQVJST1dfVVBcIiwgY2hhbm5lbCwgc3RlcCB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBBcnJvd0Rvd24oKSB7XG4gICAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIkNIQU5ORUxfU0xJREVSLkFSUk9XX0RPV05cIiwgY2hhbm5lbCwgc3RlcCB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBBcnJvd0xlZnQoKSB7XG4gICAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIkNIQU5ORUxfU0xJREVSLkFSUk9XX0xFRlRcIiwgY2hhbm5lbCwgc3RlcCB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBBcnJvd1JpZ2h0KCkge1xuICAgICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJDSEFOTkVMX1NMSURFUi5BUlJPV19SSUdIVFwiLCBjaGFubmVsLCBzdGVwIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFBhZ2VVcCgpIHtcbiAgICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwiQ0hBTk5FTF9TTElERVIuUEFHRV9VUFwiLCBjaGFubmVsIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFBhZ2VEb3duKCkge1xuICAgICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJDSEFOTkVMX1NMSURFUi5QQUdFX0RPV05cIiwgY2hhbm5lbCB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBIb21lKCkge1xuICAgICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJDSEFOTkVMX1NMSURFUi5IT01FXCIsIGNoYW5uZWwgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgRW5kKCkge1xuICAgICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJDSEFOTkVMX1NMSURFUi5FTkRcIiwgY2hhbm5lbCB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBFc2NhcGUoZXZlbnQyKSB7XG4gICAgICAgICAgICAgIGV2ZW50Mi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IGV4ZWMgPSBrZXlNYXBbZ2V0RXZlbnRLZXkoZXZlbnQsIHN0YXRlLmNvbnRleHQpXTtcbiAgICAgICAgICBpZiAoZXhlYykge1xuICAgICAgICAgICAgZXhlYyhldmVudCk7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZXRDaGFubmVsSW5wdXRQcm9wcyhwcm9wcykge1xuICAgICAgY29uc3QgeyBjaGFubmVsIH0gPSBwcm9wcztcbiAgICAgIGNvbnN0IGlzVGV4dEZpZWxkID0gY2hhbm5lbCA9PT0gXCJoZXhcIiB8fCBjaGFubmVsID09PSBcImNzc1wiO1xuICAgICAgY29uc3QgcmFuZ2UgPSBnZXRDaGFubmVsUmFuZ2UodmFsdWUsIGNoYW5uZWwpO1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZS5pbnB1dCh7XG4gICAgICAgIC4uLnBhcnRzLmNoYW5uZWxJbnB1dC5hdHRycyxcbiAgICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgICAgdHlwZTogaXNUZXh0RmllbGQgPyBcInRleHRcIiA6IFwibnVtYmVyXCIsXG4gICAgICAgIFwiZGF0YS1jaGFubmVsXCI6IGNoYW5uZWwsXG4gICAgICAgIFwiYXJpYS1sYWJlbFwiOiBjaGFubmVsLFxuICAgICAgICBzcGVsbENoZWNrOiBmYWxzZSxcbiAgICAgICAgYXV0b0NvbXBsZXRlOiBcIm9mZlwiLFxuICAgICAgICBkaXNhYmxlZDogaXNEaXNhYmxlZCxcbiAgICAgICAgXCJkYXRhLWRpc2FibGVkXCI6IGRhdGFBdHRyKGlzRGlzYWJsZWQpLFxuICAgICAgICByZWFkT25seTogc3RhdGUuY29udGV4dC5yZWFkT25seSxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBnZXRDaGFubmVsVmFsdWUodmFsdWUsIGNoYW5uZWwpLFxuICAgICAgICBtaW46IHJhbmdlPy5taW5WYWx1ZSxcbiAgICAgICAgbWF4OiByYW5nZT8ubWF4VmFsdWUsXG4gICAgICAgIHN0ZXA6IHJhbmdlPy5zdGVwLFxuICAgICAgICBvbkJlZm9yZUlucHV0KGV2ZW50KSB7XG4gICAgICAgICAgaWYgKGlzVGV4dEZpZWxkIHx8ICFpc0ludGVyYWN0aXZlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHZhbHVlMiA9IGV2ZW50LmN1cnJlbnRUYXJnZXQudmFsdWU7XG4gICAgICAgICAgaWYgKHZhbHVlMi5tYXRjaCgvW14wLTkuXS9nKSkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uRm9jdXMoZXZlbnQpIHtcbiAgICAgICAgICBpZiAoIWlzSW50ZXJhY3RpdmUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgc2VuZCh7IHR5cGU6IFwiQ0hBTk5FTF9JTlBVVC5GT0NVU1wiLCBjaGFubmVsIH0pO1xuICAgICAgICAgIGV2ZW50LnRhcmdldC5zZWxlY3QoKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25CbHVyKGV2ZW50KSB7XG4gICAgICAgICAgaWYgKCFpc0ludGVyYWN0aXZlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHZhbHVlMiA9IGlzVGV4dEZpZWxkID8gZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZSA6IGV2ZW50LmN1cnJlbnRUYXJnZXQudmFsdWVBc051bWJlcjtcbiAgICAgICAgICBzZW5kKHsgdHlwZTogXCJDSEFOTkVMX0lOUFVULkJMVVJcIiwgY2hhbm5lbCwgdmFsdWU6IHZhbHVlMiwgaXNUZXh0RmllbGQgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uS2V5RG93bihldmVudCkge1xuICAgICAgICAgIGlmICghaXNJbnRlcmFjdGl2ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSBcIkVudGVyXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlMiA9IGlzVGV4dEZpZWxkID8gZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZSA6IGV2ZW50LmN1cnJlbnRUYXJnZXQudmFsdWVBc051bWJlcjtcbiAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIkNIQU5ORUxfSU5QVVQuQ0hBTkdFXCIsIGNoYW5uZWwsIHZhbHVlOiB2YWx1ZTIsIGlzVGV4dEZpZWxkIH0pO1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgYXBwZWFyYW5jZTogXCJub25lXCIsXG4gICAgICAgICAgV2Via2l0QXBwZWFyYW5jZTogXCJub25lXCIsXG4gICAgICAgICAgTW96QXBwZWFyYW5jZTogXCJ0ZXh0ZmllbGRcIlxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGhpZGRlbklucHV0UHJvcHM6IG5vcm1hbGl6ZS5pbnB1dCh7XG4gICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgIGRpc2FibGVkOiBpc0Rpc2FibGVkLFxuICAgICAgbmFtZTogc3RhdGUuY29udGV4dC5uYW1lLFxuICAgICAgaWQ6IGRvbS5nZXRIaWRkZW5JbnB1dElkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgc3R5bGU6IHZpc3VhbGx5SGlkZGVuU3R5bGUsXG4gICAgICBkZWZhdWx0VmFsdWU6IHZhbHVlQXNTdHJpbmdcbiAgICB9KSxcbiAgICBleWVEcm9wcGVyVHJpZ2dlclByb3BzOiBub3JtYWxpemUuYnV0dG9uKHtcbiAgICAgIC4uLnBhcnRzLmV5ZURyb3BwZXJUcmlnZ2VyLmF0dHJzLFxuICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICBkaXNhYmxlZDogaXNEaXNhYmxlZCxcbiAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihpc0Rpc2FibGVkKSxcbiAgICAgIFwiYXJpYS1sYWJlbFwiOiBcIlBpY2sgYSBjb2xvciBmcm9tIHRoZSBzY3JlZW5cIixcbiAgICAgIG9uQ2xpY2soKSB7XG4gICAgICAgIGlmICghaXNJbnRlcmFjdGl2ZSlcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIHNlbmQoXCJFWUVEUk9QUEVSLkNMSUNLXCIpO1xuICAgICAgfVxuICAgIH0pLFxuICAgIHN3YXRjaEdyb3VwUHJvcHM6IG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgIC4uLnBhcnRzLnN3YXRjaEdyb3VwLmF0dHJzLFxuICAgICAgcm9sZTogXCJncm91cFwiXG4gICAgfSksXG4gICAgZ2V0U3dhdGNoVHJpZ2dlclN0YXRlLFxuICAgIGdldFN3YXRjaFRyaWdnZXJQcm9wcyhwcm9wcykge1xuICAgICAgY29uc3QgdHJpZ2dlclN0YXRlID0gZ2V0U3dhdGNoVHJpZ2dlclN0YXRlKHByb3BzKTtcbiAgICAgIHJldHVybiBub3JtYWxpemUuYnV0dG9uKHtcbiAgICAgICAgLi4ucGFydHMuc3dhdGNoVHJpZ2dlci5hdHRycyxcbiAgICAgICAgZGlzYWJsZWQ6IHRyaWdnZXJTdGF0ZS5pc0Rpc2FibGVkLFxuICAgICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgICBcImFyaWEtbGFiZWxcIjogYHNlbGVjdCAke3RyaWdnZXJTdGF0ZS52YWx1ZUFzU3RyaW5nfSBhcyB0aGUgY29sb3JgLFxuICAgICAgICBcImRhdGEtc3RhdGVcIjogdHJpZ2dlclN0YXRlLmlzQ2hlY2tlZCA/IFwiY2hlY2tlZFwiIDogXCJ1bmNoZWNrZWRcIixcbiAgICAgICAgXCJkYXRhLXZhbHVlXCI6IHRyaWdnZXJTdGF0ZS52YWx1ZUFzU3RyaW5nLFxuICAgICAgICBcImRhdGEtZGlzYWJsZWRcIjogZGF0YUF0dHIodHJpZ2dlclN0YXRlLmlzRGlzYWJsZWQpLFxuICAgICAgICBvbkNsaWNrKCkge1xuICAgICAgICAgIGlmICh0cmlnZ2VyU3RhdGUuaXNEaXNhYmxlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBzZW5kKHsgdHlwZTogXCJTV0FUQ0hfVFJJR0dFUi5DTElDS1wiLCB2YWx1ZTogdHJpZ2dlclN0YXRlLnZhbHVlIH0pO1xuICAgICAgICB9LFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCJcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZXRTd2F0Y2hJbmRpY2F0b3JQcm9wcyhwcm9wcykge1xuICAgICAgY29uc3QgdHJpZ2dlclN0YXRlID0gZ2V0U3dhdGNoVHJpZ2dlclN0YXRlKHByb3BzKTtcbiAgICAgIHJldHVybiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICAgIC4uLnBhcnRzLnN3YXRjaEluZGljYXRvci5hdHRycyxcbiAgICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgICAgaGlkZGVuOiAhdHJpZ2dlclN0YXRlLmlzQ2hlY2tlZFxuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZXRTd2F0Y2hQcm9wcyhwcm9wcykge1xuICAgICAgY29uc3QgeyByZXNwZWN0QWxwaGEgPSB0cnVlIH0gPSBwcm9wcztcbiAgICAgIGNvbnN0IHRyaWdnZXJTdGF0ZSA9IGdldFN3YXRjaFRyaWdnZXJTdGF0ZShwcm9wcyk7XG4gICAgICByZXR1cm4gbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgICAuLi5wYXJ0cy5zd2F0Y2guYXR0cnMsXG4gICAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICAgIFwiZGF0YS1zdGF0ZVwiOiB0cmlnZ2VyU3RhdGUuaXNDaGVja2VkID8gXCJjaGVja2VkXCIgOiBcInVuY2hlY2tlZFwiLFxuICAgICAgICBcImRhdGEtdmFsdWVcIjogdHJpZ2dlclN0YXRlLnZhbHVlQXNTdHJpbmcsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICAgICAgICBiYWNrZ3JvdW5kOiB0cmlnZ2VyU3RhdGUudmFsdWUudG9TdHJpbmcocmVzcGVjdEFscGhhID8gXCJjc3NcIiA6IFwiaGV4XCIpXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZm9ybWF0VHJpZ2dlclByb3BzOiBub3JtYWxpemUuYnV0dG9uKHtcbiAgICAgIC4uLnBhcnRzLmZvcm1hdFRyaWdnZXIuYXR0cnMsXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgIFwiYXJpYS1sYWJlbFwiOiBgY2hhbmdlIGNvbG9yIGZvcm1hdCB0byAke2dldE5leHRGb3JtYXQoc3RhdGUuY29udGV4dC5mb3JtYXQpfWAsXG4gICAgICBvbkNsaWNrKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0LmRpc2FibGVkKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgbmV4dEZvcm1hdCA9IGdldE5leHRGb3JtYXQoc3RhdGUuY29udGV4dC5mb3JtYXQpO1xuICAgICAgICBzZW5kKHsgdHlwZTogXCJGT1JNQVQuU0VUXCIsIGZvcm1hdDogbmV4dEZvcm1hdCwgc3JjOiBcImZvcm1hdC10cmlnZ2VyXCIgfSk7XG4gICAgICB9XG4gICAgfSksXG4gICAgZm9ybWF0U2VsZWN0UHJvcHM6IG5vcm1hbGl6ZS5zZWxlY3Qoe1xuICAgICAgLi4ucGFydHMuZm9ybWF0U2VsZWN0LmF0dHJzLFxuICAgICAgXCJhcmlhLWxhYmVsXCI6IFwiY2hhbmdlIGNvbG9yIGZvcm1hdFwiLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIGRlZmF1bHRWYWx1ZTogc3RhdGUuY29udGV4dC5mb3JtYXQsXG4gICAgICBkaXNhYmxlZDogaXNEaXNhYmxlZCxcbiAgICAgIG9uQ2hhbmdlKGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IGZvcm1hdCA9IGFzc2VydEZvcm1hdChldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgc2VuZCh7IHR5cGU6IFwiRk9STUFULlNFVFwiLCBmb3JtYXQsIHNyYzogXCJmb3JtYXQtc2VsZWN0XCIgfSk7XG4gICAgICB9XG4gICAgfSlcbiAgfTtcbn1cbnZhciBmb3JtYXRzID0gW1wiaHNiYVwiLCBcImhzbGFcIiwgXCJyZ2JhXCJdO1xudmFyIGZvcm1hdFJlZ2V4ID0gbmV3IFJlZ0V4cChgXigke2Zvcm1hdHMuam9pbihcInxcIil9KSRgKTtcbmZ1bmN0aW9uIGdldE5leHRGb3JtYXQoZm9ybWF0KSB7XG4gIGNvbnN0IGluZGV4ID0gZm9ybWF0cy5pbmRleE9mKGZvcm1hdCk7XG4gIHJldHVybiBmb3JtYXRzW2luZGV4ICsgMV0gPz8gZm9ybWF0c1swXTtcbn1cbmZ1bmN0aW9uIGFzc2VydEZvcm1hdChmb3JtYXQpIHtcbiAgaWYgKGZvcm1hdFJlZ2V4LnRlc3QoZm9ybWF0KSlcbiAgICByZXR1cm4gZm9ybWF0O1xuICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGNvbG9yIGZvcm1hdDogJHtmb3JtYXR9YCk7XG59XG5cbi8vIHNyYy9jb2xvci1waWNrZXIubWFjaGluZS50c1xuaW1wb3J0IHsgcGFyc2VDb2xvciBhcyBwYXJzZUNvbG9yNCB9IGZyb20gXCJAemFnLWpzL2NvbG9yLXV0aWxzXCI7XG5pbXBvcnQgeyBjcmVhdGVNYWNoaW5lIH0gZnJvbSBcIkB6YWctanMvY29yZVwiO1xuaW1wb3J0IHsgdHJhY2tEaXNtaXNzYWJsZUVsZW1lbnQgfSBmcm9tIFwiQHphZy1qcy9kaXNtaXNzYWJsZVwiO1xuaW1wb3J0IHsgdHJhY2tQb2ludGVyTW92ZSB9IGZyb20gXCJAemFnLWpzL2RvbS1ldmVudFwiO1xuaW1wb3J0IHsgcmFmIH0gZnJvbSBcIkB6YWctanMvZG9tLXF1ZXJ5XCI7XG5pbXBvcnQgeyBkaXNwYXRjaElucHV0VmFsdWVFdmVudCwgdHJhY2tGb3JtQ29udHJvbCB9IGZyb20gXCJAemFnLWpzL2Zvcm0tdXRpbHNcIjtcbmltcG9ydCB7IGdldFBsYWNlbWVudCB9IGZyb20gXCJAemFnLWpzL3BvcHBlclwiO1xuaW1wb3J0IHsgZGlzYWJsZVRleHRTZWxlY3Rpb24gfSBmcm9tIFwiQHphZy1qcy90ZXh0LXNlbGVjdGlvblwiO1xuaW1wb3J0IHsgY29tcGFjdCwgdHJ5Q2F0Y2ggfSBmcm9tIFwiQHphZy1qcy91dGlsc1wiO1xuXG4vLyBzcmMvY29sb3ItcGlja2VyLnBhcnNlLnRzXG5pbXBvcnQgeyBwYXJzZUNvbG9yIGFzIHBhcnNlQ29sb3IzIH0gZnJvbSBcIkB6YWctanMvY29sb3ItdXRpbHNcIjtcbnZhciBwYXJzZSA9IChjb2xvclN0cmluZykgPT4ge1xuICByZXR1cm4gcGFyc2VDb2xvcjMoY29sb3JTdHJpbmcpO1xufTtcblxuLy8gc3JjL2NvbG9yLXBpY2tlci5tYWNoaW5lLnRzXG5mdW5jdGlvbiBtYWNoaW5lKHVzZXJDb250ZXh0KSB7XG4gIGNvbnN0IGN0eCA9IGNvbXBhY3QodXNlckNvbnRleHQpO1xuICByZXR1cm4gY3JlYXRlTWFjaGluZShcbiAgICB7XG4gICAgICBpZDogXCJjb2xvci1waWNrZXJcIixcbiAgICAgIGluaXRpYWw6IGN0eC5vcGVuID8gXCJvcGVuXCIgOiBcImlkbGVcIixcbiAgICAgIGNvbnRleHQ6IHtcbiAgICAgICAgZGlyOiBcImx0clwiLFxuICAgICAgICB2YWx1ZTogcGFyc2UoXCIjMDAwMDAwXCIpLFxuICAgICAgICBmb3JtYXQ6IFwicmdiYVwiLFxuICAgICAgICBkaXNhYmxlZDogZmFsc2UsXG4gICAgICAgIGNsb3NlT25TZWxlY3Q6IGZhbHNlLFxuICAgICAgICAuLi5jdHgsXG4gICAgICAgIGFjdGl2ZUlkOiBudWxsLFxuICAgICAgICBhY3RpdmVDaGFubmVsOiBudWxsLFxuICAgICAgICBhY3RpdmVPcmllbnRhdGlvbjogbnVsbCxcbiAgICAgICAgZmllbGRzZXREaXNhYmxlZDogZmFsc2UsXG4gICAgICAgIHBvc2l0aW9uaW5nOiB7XG4gICAgICAgICAgLi4uY3R4LnBvc2l0aW9uaW5nLFxuICAgICAgICAgIHBsYWNlbWVudDogXCJib3R0b21cIlxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY29tcHV0ZWQ6IHtcbiAgICAgICAgaXNSdGw6IChjdHgyKSA9PiBjdHgyLmRpciA9PT0gXCJydGxcIixcbiAgICAgICAgaXNEaXNhYmxlZDogKGN0eDIpID0+ICEhY3R4Mi5kaXNhYmxlZCB8fCBjdHgyLmZpZWxkc2V0RGlzYWJsZWQsXG4gICAgICAgIGlzSW50ZXJhY3RpdmU6IChjdHgyKSA9PiAhKGN0eDIuaXNEaXNhYmxlZCB8fCBjdHgyLnJlYWRPbmx5KSxcbiAgICAgICAgdmFsdWVBc1N0cmluZzogKGN0eDIpID0+IGN0eDIudmFsdWUudG9TdHJpbmcoY3R4Mi5mb3JtYXQpLFxuICAgICAgICBhcmVhVmFsdWU6IChjdHgyKSA9PiB7XG4gICAgICAgICAgY29uc3QgZm9ybWF0ID0gY3R4Mi5mb3JtYXQuc3RhcnRzV2l0aChcImhzbFwiKSA/IFwiaHNsYVwiIDogXCJoc2JhXCI7XG4gICAgICAgICAgcmV0dXJuIGN0eDIudmFsdWUudG9Gb3JtYXQoZm9ybWF0KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGFjdGl2aXRpZXM6IFtcInRyYWNrRm9ybUNvbnRyb2xcIl0sXG4gICAgICB3YXRjaDoge1xuICAgICAgICB2YWx1ZTogW1wic3luY0lucHV0RWxlbWVudHNcIl0sXG4gICAgICAgIGZvcm1hdDogW1wic3luY0Zvcm1hdFNlbGVjdEVsZW1lbnRcIl0sXG4gICAgICAgIG9wZW46IFtcInRvZ2dsZVZpc2liaWxpdHlcIl1cbiAgICAgIH0sXG4gICAgICBvbjoge1xuICAgICAgICBcIlZBTFVFLlNFVFwiOiB7XG4gICAgICAgICAgYWN0aW9uczogW1wic2V0VmFsdWVcIl1cbiAgICAgICAgfSxcbiAgICAgICAgXCJGT1JNQVQuU0VUXCI6IHtcbiAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRGb3JtYXRcIl1cbiAgICAgICAgfSxcbiAgICAgICAgXCJDSEFOTkVMX0lOUFVULkNIQU5HRVwiOiB7XG4gICAgICAgICAgYWN0aW9uczogW1wic2V0Q2hhbm5lbENvbG9yRnJvbUlucHV0XCJdXG4gICAgICAgIH0sXG4gICAgICAgIFwiRVlFRFJPUFBFUi5DTElDS1wiOiB7XG4gICAgICAgICAgYWN0aW9uczogW1wib3BlbkV5ZURyb3BwZXJcIl1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHN0YXRlczoge1xuICAgICAgICBpZGxlOiB7XG4gICAgICAgICAgdGFnczogW1wiY2xvc2VkXCJdLFxuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBPUEVOOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJvcGVuXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldEluaXRpYWxGb2N1c1wiLCBcImludm9rZU9uT3BlblwiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiVFJJR0dFUi5DTElDS1wiOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJvcGVuXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldEluaXRpYWxGb2N1c1wiLCBcImludm9rZU9uT3BlblwiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiQ0hBTk5FTF9JTlBVVC5GT0NVU1wiOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJmb2N1c2VkXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldEFjdGl2ZUNoYW5uZWxcIl1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGZvY3VzZWQ6IHtcbiAgICAgICAgICB0YWdzOiBbXCJjbG9zZWRcIiwgXCJmb2N1c2VkXCJdLFxuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBPUEVOOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJvcGVuXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldEluaXRpYWxGb2N1c1wiLCBcImludm9rZU9uT3BlblwiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiVFJJR0dFUi5DTElDS1wiOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJvcGVuXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldEluaXRpYWxGb2N1c1wiLCBcImludm9rZU9uT3BlblwiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiQ0hBTk5FTF9JTlBVVC5GT0NVU1wiOiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldEFjdGl2ZUNoYW5uZWxcIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIkNIQU5ORUxfSU5QVVQuQkxVUlwiOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJpZGxlXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldENoYW5uZWxDb2xvckZyb21JbnB1dFwiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiVFJJR0dFUi5CTFVSXCI6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcImlkbGVcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb3Blbjoge1xuICAgICAgICAgIHRhZ3M6IFtcIm9wZW5cIl0sXG4gICAgICAgICAgYWN0aXZpdGllczogW1widHJhY2tQb3NpdGlvbmluZ1wiLCBcInRyYWNrRGlzbWlzc2FibGVFbGVtZW50XCJdLFxuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBcIlRSSUdHRVIuQ0xJQ0tcIjoge1xuICAgICAgICAgICAgICB0YXJnZXQ6IFwiaWRsZVwiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJpbnZva2VPbkNsb3NlXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJBUkVBLlBPSU5URVJfRE9XTlwiOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJvcGVuOmRyYWdnaW5nXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldEFjdGl2ZUNoYW5uZWxcIiwgXCJzZXRBcmVhQ29sb3JGcm9tUG9pbnRcIiwgXCJmb2N1c0FyZWFUaHVtYlwiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiQVJFQS5GT0NVU1wiOiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldEFjdGl2ZUNoYW5uZWxcIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIkNIQU5ORUxfU0xJREVSLlBPSU5URVJfRE9XTlwiOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJvcGVuOmRyYWdnaW5nXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldEFjdGl2ZUNoYW5uZWxcIiwgXCJzZXRDaGFubmVsQ29sb3JGcm9tUG9pbnRcIiwgXCJmb2N1c0NoYW5uZWxUaHVtYlwiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiQ0hBTk5FTF9TTElERVIuRk9DVVNcIjoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRBY3RpdmVDaGFubmVsXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJBUkVBLkFSUk9XX0xFRlRcIjoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJkZWNyZW1lbnRYQ2hhbm5lbFwiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiQVJFQS5BUlJPV19SSUdIVFwiOiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcImluY3JlbWVudFhDaGFubmVsXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJBUkVBLkFSUk9XX1VQXCI6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wiaW5jcmVtZW50WUNoYW5uZWxcIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIkFSRUEuQVJST1dfRE9XTlwiOiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcImRlY3JlbWVudFlDaGFubmVsXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJBUkVBLlBBR0VfVVBcIjoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJpbmNyZW1lbnRYQ2hhbm5lbFwiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiQVJFQS5QQUdFX0RPV05cIjoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJkZWNyZW1lbnRYQ2hhbm5lbFwiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiQ0hBTk5FTF9TTElERVIuQVJST1dfTEVGVFwiOiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcImRlY3JlbWVudENoYW5uZWxcIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIkNIQU5ORUxfU0xJREVSLkFSUk9XX1JJR0hUXCI6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wiaW5jcmVtZW50Q2hhbm5lbFwiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiQ0hBTk5FTF9TTElERVIuQVJST1dfVVBcIjoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJpbmNyZW1lbnRDaGFubmVsXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJDSEFOTkVMX1NMSURFUi5BUlJPV19ET1dOXCI6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wiZGVjcmVtZW50Q2hhbm5lbFwiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiQ0hBTk5FTF9TTElERVIuUEFHRV9VUFwiOiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcImluY3JlbWVudENoYW5uZWxcIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIkNIQU5ORUxfU0xJREVSLlBBR0VfRE9XTlwiOiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcImRlY3JlbWVudENoYW5uZWxcIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIkNIQU5ORUxfU0xJREVSLkhPTUVcIjoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRDaGFubmVsVG9NaW5cIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIkNIQU5ORUxfU0xJREVSLkVORFwiOiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldENoYW5uZWxUb01heFwiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiQ0hBTk5FTF9JTlBVVC5CTFVSXCI6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wic2V0Q2hhbm5lbENvbG9yRnJvbUlucHV0XCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgSU5URVJBQ1RfT1VUU0lERTogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ3VhcmQ6IFwic2hvdWxkUmVzdG9yZUZvY3VzXCIsXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBcImZvY3VzZWRcIixcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRSZXR1cm5Gb2N1c1wiLCBcImludm9rZU9uQ2xvc2VcIl1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRhcmdldDogXCJpZGxlXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogW1wiaW52b2tlT25DbG9zZVwiXVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgQ0xPU0U6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcImlkbGVcIixcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wiaW52b2tlT25DbG9zZVwiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiU1dBVENIX1RSSUdHRVIuQ0xJQ0tcIjogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ3VhcmQ6IFwiY2xvc2VPblNlbGVjdFwiLFxuICAgICAgICAgICAgICAgIHRhcmdldDogXCJmb2N1c2VkXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogW1wic2V0VmFsdWVcIiwgXCJzZXRSZXR1cm5Gb2N1c1wiLCBcImludm9rZU9uQ2xvc2VcIl1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldFZhbHVlXCJdXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwib3BlbjpkcmFnZ2luZ1wiOiB7XG4gICAgICAgICAgdGFnczogW1wib3BlblwiXSxcbiAgICAgICAgICBleGl0OiBbXCJjbGVhckFjdGl2ZUNoYW5uZWxcIl0sXG4gICAgICAgICAgYWN0aXZpdGllczogW1widHJhY2tQb2ludGVyTW92ZVwiLCBcImRpc2FibGVUZXh0U2VsZWN0aW9uXCIsIFwidHJhY2tQb3NpdGlvbmluZ1wiLCBcInRyYWNrRGlzbWlzc2FibGVFbGVtZW50XCJdLFxuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBcIkFSRUEuUE9JTlRFUl9NT1ZFXCI6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wic2V0QXJlYUNvbG9yRnJvbVBvaW50XCIsIFwiZm9jdXNBcmVhVGh1bWJcIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIkFSRUEuUE9JTlRFUl9VUFwiOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJvcGVuXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcImludm9rZU9uQ2hhbmdlRW5kXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJDSEFOTkVMX1NMSURFUi5QT0lOVEVSX01PVkVcIjoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRDaGFubmVsQ29sb3JGcm9tUG9pbnRcIiwgXCJmb2N1c0NoYW5uZWxUaHVtYlwiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiQ0hBTk5FTF9TTElERVIuUE9JTlRFUl9VUFwiOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJvcGVuXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcImludm9rZU9uQ2hhbmdlRW5kXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgSU5URVJBQ1RfT1VUU0lERTogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ3VhcmQ6IFwic2hvdWxkUmVzdG9yZUZvY3VzXCIsXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBcImZvY3VzZWRcIixcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRSZXR1cm5Gb2N1c1wiLCBcImludm9rZU9uQ2xvc2VcIl1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRhcmdldDogXCJpZGxlXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogW1wiaW52b2tlT25DbG9zZVwiXVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgQ0xPU0U6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcImlkbGVcIixcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wiaW52b2tlT25DbG9zZVwiXVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgZ3VhcmRzOiB7XG4gICAgICAgIGlzVGFyZ2V0Rm9jdXNhYmxlOiAoX2N0eCwgZXZ0KSA9PiBldnQucmVzdG9yZUZvY3VzLFxuICAgICAgICBjbG9zZU9uU2VsZWN0OiAoY3R4MikgPT4gISFjdHgyLmNsb3NlT25TZWxlY3RcbiAgICAgIH0sXG4gICAgICBhY3Rpdml0aWVzOiB7XG4gICAgICAgIHRyYWNrUG9zaXRpb25pbmcoY3R4Mikge1xuICAgICAgICAgIGN0eDIuY3VycmVudFBsYWNlbWVudCA9IGN0eDIucG9zaXRpb25pbmcucGxhY2VtZW50O1xuICAgICAgICAgIGNvbnN0IGFuY2hvckVsID0gZG9tLmdldFRyaWdnZXJFbChjdHgyKTtcbiAgICAgICAgICBjb25zdCBnZXRQb3NpdGlvbmVyRWwgPSAoKSA9PiBkb20uZ2V0UG9zaXRpb25lckVsKGN0eDIpO1xuICAgICAgICAgIHJldHVybiBnZXRQbGFjZW1lbnQoYW5jaG9yRWwsIGdldFBvc2l0aW9uZXJFbCwge1xuICAgICAgICAgICAgLi4uY3R4Mi5wb3NpdGlvbmluZyxcbiAgICAgICAgICAgIGRlZmVyOiB0cnVlLFxuICAgICAgICAgICAgb25Db21wbGV0ZShkYXRhKSB7XG4gICAgICAgICAgICAgIGN0eDIuY3VycmVudFBsYWNlbWVudCA9IGRhdGEucGxhY2VtZW50O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQ2xlYW51cCgpIHtcbiAgICAgICAgICAgICAgY3R4Mi5jdXJyZW50UGxhY2VtZW50ID0gdm9pZCAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICB0cmFja0Rpc21pc3NhYmxlRWxlbWVudChjdHgyLCBfZXZ0LCB7IHNlbmQgfSkge1xuICAgICAgICAgIGNvbnN0IGdldENvbnRlbnRFbCA9ICgpID0+IGRvbS5nZXRDb250ZW50RWwoY3R4Mik7XG4gICAgICAgICAgbGV0IHJlc3RvcmVGb2N1cyA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIHRyYWNrRGlzbWlzc2FibGVFbGVtZW50KGdldENvbnRlbnRFbCwge1xuICAgICAgICAgICAgZXhjbHVkZTogZG9tLmdldFRyaWdnZXJFbChjdHgyKSxcbiAgICAgICAgICAgIGRlZmVyOiB0cnVlLFxuICAgICAgICAgICAgb25JbnRlcmFjdE91dHNpZGUoZXZlbnQpIHtcbiAgICAgICAgICAgICAgY3R4Mi5vbkludGVyYWN0T3V0c2lkZT8uKGV2ZW50KTtcbiAgICAgICAgICAgICAgaWYgKGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICByZXN0b3JlRm9jdXMgPSAhKGV2ZW50LmRldGFpbC5mb2N1c2FibGUgfHwgZXZlbnQuZGV0YWlsLmNvbnRleHRtZW51KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvblBvaW50ZXJEb3duT3V0c2lkZTogY3R4Mi5vblBvaW50ZXJEb3duT3V0c2lkZSxcbiAgICAgICAgICAgIG9uRm9jdXNPdXRzaWRlOiBjdHgyLm9uRm9jdXNPdXRzaWRlLFxuICAgICAgICAgICAgb25EaXNtaXNzKCkge1xuICAgICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJJTlRFUkFDVF9PVVRTSURFXCIsIHJlc3RvcmVGb2N1cyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgdHJhY2tGb3JtQ29udHJvbChjdHgyLCBfZXZ0LCB7IHNlbmQsIGluaXRpYWxDb250ZXh0IH0pIHtcbiAgICAgICAgICBjb25zdCBpbnB1dEVsID0gZG9tLmdldEhpZGRlbklucHV0RWwoY3R4Mik7XG4gICAgICAgICAgcmV0dXJuIHRyYWNrRm9ybUNvbnRyb2woaW5wdXRFbCwge1xuICAgICAgICAgICAgb25GaWVsZHNldERpc2FibGVkQ2hhbmdlKGRpc2FibGVkKSB7XG4gICAgICAgICAgICAgIGN0eDIuZmllbGRzZXREaXNhYmxlZCA9IGRpc2FibGVkO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uRm9ybVJlc2V0KCkge1xuICAgICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJWQUxVRS5TRVRcIiwgdmFsdWU6IGluaXRpYWxDb250ZXh0LnZhbHVlLCBzcmM6IFwiZm9ybS5yZXNldFwiIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICB0cmFja1BvaW50ZXJNb3ZlKGN0eDIsIF9ldnQsIHsgc2VuZCB9KSB7XG4gICAgICAgICAgcmV0dXJuIHRyYWNrUG9pbnRlck1vdmUoZG9tLmdldERvYyhjdHgyKSwge1xuICAgICAgICAgICAgb25Qb2ludGVyTW92ZSh7IHBvaW50IH0pIHtcbiAgICAgICAgICAgICAgY29uc3QgdHlwZSA9IGN0eDIuYWN0aXZlSWQgPT09IFwiYXJlYVwiID8gXCJBUkVBLlBPSU5URVJfTU9WRVwiIDogXCJDSEFOTkVMX1NMSURFUi5QT0lOVEVSX01PVkVcIjtcbiAgICAgICAgICAgICAgc2VuZCh7IHR5cGUsIHBvaW50IH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uUG9pbnRlclVwKCkge1xuICAgICAgICAgICAgICBjb25zdCB0eXBlID0gY3R4Mi5hY3RpdmVJZCA9PT0gXCJhcmVhXCIgPyBcIkFSRUEuUE9JTlRFUl9VUFwiIDogXCJDSEFOTkVMX1NMSURFUi5QT0lOVEVSX1VQXCI7XG4gICAgICAgICAgICAgIHNlbmQoeyB0eXBlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBkaXNhYmxlVGV4dFNlbGVjdGlvbihjdHgyKSB7XG4gICAgICAgICAgcmV0dXJuIGRpc2FibGVUZXh0U2VsZWN0aW9uKHsgZG9jOiBkb20uZ2V0RG9jKGN0eDIpLCB0YXJnZXQ6IGRvbS5nZXRDb250ZW50RWwoY3R4MikgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBhY3Rpb25zOiB7XG4gICAgICAgIG9wZW5FeWVEcm9wcGVyKGN0eDIpIHtcbiAgICAgICAgICBjb25zdCBpc1N1cHBvcnRlZCA9IFwiRXllRHJvcHBlclwiIGluIGRvbS5nZXRXaW4oY3R4Mik7XG4gICAgICAgICAgaWYgKCFpc1N1cHBvcnRlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjb25zdCB3aW4gPSBkb20uZ2V0V2luKGN0eDIpO1xuICAgICAgICAgIGNvbnN0IHBpY2tlciA9IG5ldyB3aW4uRXllRHJvcHBlcigpO1xuICAgICAgICAgIHBpY2tlci5vcGVuKCkudGhlbigoeyBzUkdCSGV4IH0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGZvcm1hdCA9IGN0eDIudmFsdWUuZ2V0Rm9ybWF0KCk7XG4gICAgICAgICAgICBjb25zdCBjb2xvciA9IHBhcnNlQ29sb3I0KHNSR0JIZXgpLnRvRm9ybWF0KGZvcm1hdCk7XG4gICAgICAgICAgICBzZXQudmFsdWUoY3R4MiwgY29sb3IpO1xuICAgICAgICAgICAgY3R4Mi5vblZhbHVlQ2hhbmdlRW5kPy4oeyB2YWx1ZTogY3R4Mi52YWx1ZSwgdmFsdWVBc1N0cmluZzogY3R4Mi52YWx1ZUFzU3RyaW5nIH0pO1xuICAgICAgICAgIH0pLmNhdGNoKCgpID0+IHZvaWQgMCk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldEFjdGl2ZUNoYW5uZWwoY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgY3R4Mi5hY3RpdmVJZCA9IGV2dC5pZDtcbiAgICAgICAgICBpZiAoZXZ0LmNoYW5uZWwpXG4gICAgICAgICAgICBjdHgyLmFjdGl2ZUNoYW5uZWwgPSBldnQuY2hhbm5lbDtcbiAgICAgICAgICBpZiAoZXZ0Lm9yaWVudGF0aW9uKVxuICAgICAgICAgICAgY3R4Mi5hY3RpdmVPcmllbnRhdGlvbiA9IGV2dC5vcmllbnRhdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgY2xlYXJBY3RpdmVDaGFubmVsKGN0eDIpIHtcbiAgICAgICAgICBjdHgyLmFjdGl2ZUNoYW5uZWwgPSBudWxsO1xuICAgICAgICAgIGN0eDIuYWN0aXZlSWQgPSBudWxsO1xuICAgICAgICAgIGN0eDIuYWN0aXZlT3JpZW50YXRpb24gPSBudWxsO1xuICAgICAgICB9LFxuICAgICAgICBzZXRBcmVhQ29sb3JGcm9tUG9pbnQoY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgY29uc3QgeyB4Q2hhbm5lbCwgeUNoYW5uZWwgfSA9IGV2dC5jaGFubmVsIHx8IGN0eDIuYWN0aXZlQ2hhbm5lbDtcbiAgICAgICAgICBjb25zdCBwZXJjZW50ID0gZG9tLmdldEFyZWFWYWx1ZUZyb21Qb2ludChjdHgyLCBldnQucG9pbnQpO1xuICAgICAgICAgIGlmICghcGVyY2VudClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjb25zdCB4VmFsdWUgPSBjdHgyLmFyZWFWYWx1ZS5nZXRDaGFubmVsUGVyY2VudFZhbHVlKHhDaGFubmVsLCBwZXJjZW50LngpO1xuICAgICAgICAgIGNvbnN0IHlWYWx1ZSA9IGN0eDIuYXJlYVZhbHVlLmdldENoYW5uZWxQZXJjZW50VmFsdWUoeUNoYW5uZWwsIDEgLSBwZXJjZW50LnkpO1xuICAgICAgICAgIGNvbnN0IGNvbG9yID0gY3R4Mi5hcmVhVmFsdWUud2l0aENoYW5uZWxWYWx1ZSh4Q2hhbm5lbCwgeFZhbHVlKS53aXRoQ2hhbm5lbFZhbHVlKHlDaGFubmVsLCB5VmFsdWUpO1xuICAgICAgICAgIHNldC52YWx1ZShjdHgyLCBjb2xvcik7XG4gICAgICAgIH0sXG4gICAgICAgIHNldENoYW5uZWxDb2xvckZyb21Qb2ludChjdHgyLCBldnQpIHtcbiAgICAgICAgICBjb25zdCBjaGFubmVsID0gZXZ0LmNoYW5uZWwgfHwgY3R4Mi5hY3RpdmVJZDtcbiAgICAgICAgICBjb25zdCBwZXJjZW50ID0gZG9tLmdldENoYW5uZWxTbGlkZXJWYWx1ZUZyb21Qb2ludChjdHgyLCBldnQucG9pbnQsIGNoYW5uZWwpO1xuICAgICAgICAgIGlmICghcGVyY2VudClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjb25zdCBvcmllbnRhdGlvbiA9IGN0eDIuYWN0aXZlT3JpZW50YXRpb24gfHwgXCJob3Jpem9udGFsXCI7XG4gICAgICAgICAgY29uc3QgY2hhbm5lbFBlcmNlbnQgPSBvcmllbnRhdGlvbiA9PT0gXCJob3Jpem9udGFsXCIgPyBwZXJjZW50LnggOiBwZXJjZW50Lnk7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSBjdHgyLmFyZWFWYWx1ZS5nZXRDaGFubmVsUGVyY2VudFZhbHVlKGNoYW5uZWwsIGNoYW5uZWxQZXJjZW50KTtcbiAgICAgICAgICBjb25zdCBjb2xvciA9IGN0eDIuYXJlYVZhbHVlLndpdGhDaGFubmVsVmFsdWUoY2hhbm5lbCwgdmFsdWUpO1xuICAgICAgICAgIHNldC52YWx1ZShjdHgyLCBjb2xvcik7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFZhbHVlKGN0eDIsIGV2dCkge1xuICAgICAgICAgIHNldC52YWx1ZShjdHgyLCBldnQudmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBzZXRGb3JtYXQoY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgc2V0LmZvcm1hdChjdHgyLCBldnQuZm9ybWF0KTtcbiAgICAgICAgfSxcbiAgICAgICAgc3luY0lucHV0RWxlbWVudHMoY3R4Mikge1xuICAgICAgICAgIHN5bmMuaW5wdXRzKGN0eDIpO1xuICAgICAgICB9LFxuICAgICAgICBpbnZva2VPbkNoYW5nZUVuZChjdHgyKSB7XG4gICAgICAgICAgaW52b2tlLmNoYW5nZUVuZChjdHgyKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0Q2hhbm5lbENvbG9yRnJvbUlucHV0KGN0eDIsIGV2dCkge1xuICAgICAgICAgIGNvbnN0IHsgY2hhbm5lbCwgaXNUZXh0RmllbGQsIHZhbHVlIH0gPSBldnQ7XG4gICAgICAgICAgY29uc3QgY3VycmVudEFscGhhID0gY3R4Mi52YWx1ZS5nZXRDaGFubmVsVmFsdWUoXCJhbHBoYVwiKTtcbiAgICAgICAgICBsZXQgY29sb3I7XG4gICAgICAgICAgaWYgKGNoYW5uZWwgPT09IFwiYWxwaGFcIikge1xuICAgICAgICAgICAgbGV0IHZhbHVlQXNOdW1iZXIgPSBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgICAgICAgICAgIHZhbHVlQXNOdW1iZXIgPSBOdW1iZXIuaXNOYU4odmFsdWVBc051bWJlcikgPyBjdXJyZW50QWxwaGEgOiB2YWx1ZUFzTnVtYmVyO1xuICAgICAgICAgICAgY29sb3IgPSBjdHgyLnZhbHVlLndpdGhDaGFubmVsVmFsdWUoXCJhbHBoYVwiLCB2YWx1ZUFzTnVtYmVyKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzVGV4dEZpZWxkKSB7XG4gICAgICAgICAgICBjb2xvciA9IHRyeUNhdGNoKFxuICAgICAgICAgICAgICAoKSA9PiBwYXJzZSh2YWx1ZSkud2l0aENoYW5uZWxWYWx1ZShcImFscGhhXCIsIGN1cnJlbnRBbHBoYSksXG4gICAgICAgICAgICAgICgpID0+IGN0eDIudmFsdWVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSBjdHgyLnZhbHVlLnRvRm9ybWF0KGN0eDIuZm9ybWF0KTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlQXNOdW1iZXIgPSBOdW1iZXIuaXNOYU4odmFsdWUpID8gY3VycmVudC5nZXRDaGFubmVsVmFsdWUoY2hhbm5lbCkgOiB2YWx1ZTtcbiAgICAgICAgICAgIGNvbG9yID0gY3VycmVudC53aXRoQ2hhbm5lbFZhbHVlKGNoYW5uZWwsIHZhbHVlQXNOdW1iZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzeW5jLmlucHV0cyhjdHgyLCBjb2xvcik7XG4gICAgICAgICAgc2V0LnZhbHVlKGN0eDIsIGNvbG9yKTtcbiAgICAgICAgfSxcbiAgICAgICAgaW5jcmVtZW50Q2hhbm5lbChjdHgyLCBldnQpIHtcbiAgICAgICAgICBjb25zdCBjb2xvciA9IGN0eDIudmFsdWUuaW5jcmVtZW50Q2hhbm5lbChldnQuY2hhbm5lbCwgZXZ0LnN0ZXApO1xuICAgICAgICAgIHNldC52YWx1ZShjdHgyLCBjb2xvcik7XG4gICAgICAgIH0sXG4gICAgICAgIGRlY3JlbWVudENoYW5uZWwoY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgY29uc3QgY29sb3IgPSBjdHgyLnZhbHVlLmRlY3JlbWVudENoYW5uZWwoZXZ0LmNoYW5uZWwsIGV2dC5zdGVwKTtcbiAgICAgICAgICBzZXQudmFsdWUoY3R4MiwgY29sb3IpO1xuICAgICAgICB9LFxuICAgICAgICBpbmNyZW1lbnRYQ2hhbm5lbChjdHgyLCBldnQpIHtcbiAgICAgICAgICBjb25zdCB7IHhDaGFubmVsIH0gPSBldnQuY2hhbm5lbDtcbiAgICAgICAgICBjb25zdCBjb2xvciA9IGN0eDIuYXJlYVZhbHVlLmluY3JlbWVudENoYW5uZWwoeENoYW5uZWwsIGV2dC5zdGVwKTtcbiAgICAgICAgICBzZXQudmFsdWUoY3R4MiwgY29sb3IpO1xuICAgICAgICB9LFxuICAgICAgICBkZWNyZW1lbnRYQ2hhbm5lbChjdHgyLCBldnQpIHtcbiAgICAgICAgICBjb25zdCB7IHhDaGFubmVsIH0gPSBldnQuY2hhbm5lbDtcbiAgICAgICAgICBjb25zdCBjb2xvciA9IGN0eDIuYXJlYVZhbHVlLmRlY3JlbWVudENoYW5uZWwoeENoYW5uZWwsIGV2dC5zdGVwKTtcbiAgICAgICAgICBzZXQudmFsdWUoY3R4MiwgY29sb3IpO1xuICAgICAgICB9LFxuICAgICAgICBpbmNyZW1lbnRZQ2hhbm5lbChjdHgyLCBldnQpIHtcbiAgICAgICAgICBjb25zdCB7IHlDaGFubmVsIH0gPSBldnQuY2hhbm5lbDtcbiAgICAgICAgICBjb25zdCBjb2xvciA9IGN0eDIuYXJlYVZhbHVlLmluY3JlbWVudENoYW5uZWwoeUNoYW5uZWwsIGV2dC5zdGVwKTtcbiAgICAgICAgICBzZXQudmFsdWUoY3R4MiwgY29sb3IpO1xuICAgICAgICB9LFxuICAgICAgICBkZWNyZW1lbnRZQ2hhbm5lbChjdHgyLCBldnQpIHtcbiAgICAgICAgICBjb25zdCB7IHlDaGFubmVsIH0gPSBldnQuY2hhbm5lbDtcbiAgICAgICAgICBjb25zdCBjb2xvciA9IGN0eDIuYXJlYVZhbHVlLmRlY3JlbWVudENoYW5uZWwoeUNoYW5uZWwsIGV2dC5zdGVwKTtcbiAgICAgICAgICBzZXQudmFsdWUoY3R4MiwgY29sb3IpO1xuICAgICAgICB9LFxuICAgICAgICBzZXRDaGFubmVsVG9NYXgoY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgY29uc3QgcmFuZ2UgPSBjdHgyLnZhbHVlLmdldENoYW5uZWxSYW5nZShldnQuY2hhbm5lbCk7XG4gICAgICAgICAgY29uc3QgY29sb3IgPSBjdHgyLnZhbHVlLndpdGhDaGFubmVsVmFsdWUoZXZ0LmNoYW5uZWwsIHJhbmdlLm1heFZhbHVlKTtcbiAgICAgICAgICBzZXQudmFsdWUoY3R4MiwgY29sb3IpO1xuICAgICAgICB9LFxuICAgICAgICBzZXRDaGFubmVsVG9NaW4oY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgY29uc3QgcmFuZ2UgPSBjdHgyLnZhbHVlLmdldENoYW5uZWxSYW5nZShldnQuY2hhbm5lbCk7XG4gICAgICAgICAgY29uc3QgY29sb3IgPSBjdHgyLnZhbHVlLndpdGhDaGFubmVsVmFsdWUoZXZ0LmNoYW5uZWwsIHJhbmdlLm1pblZhbHVlKTtcbiAgICAgICAgICBzZXQudmFsdWUoY3R4MiwgY29sb3IpO1xuICAgICAgICB9LFxuICAgICAgICBmb2N1c0FyZWFUaHVtYihjdHgyKSB7XG4gICAgICAgICAgcmFmKCgpID0+IHtcbiAgICAgICAgICAgIGRvbT8uZm9jdXMoY3R4MiwgZG9tLmdldEFyZWFUaHVtYkVsKGN0eDIpKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgZm9jdXNDaGFubmVsVGh1bWIoY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgcmFmKCgpID0+IHtcbiAgICAgICAgICAgIGRvbT8uZm9jdXMoY3R4MiwgZG9tLmdldENoYW5uZWxTbGlkZXJUaHVtYkVsKGN0eDIsIGV2dC5jaGFubmVsKSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldEluaXRpYWxGb2N1cyhjdHgyKSB7XG4gICAgICAgICAgcmFmKCgpID0+IHtcbiAgICAgICAgICAgIGRvbS5nZXRJbml0aWFsRm9jdXNFbChjdHgyKT8uZm9jdXMoeyBwcmV2ZW50U2Nyb2xsOiB0cnVlIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBzZXRSZXR1cm5Gb2N1cyhjdHgyKSB7XG4gICAgICAgICAgcmFmKCgpID0+IHtcbiAgICAgICAgICAgIGRvbT8uZm9jdXMoY3R4MiwgZG9tLmdldFRyaWdnZXJFbChjdHgyKSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHN5bmNGb3JtYXRTZWxlY3RFbGVtZW50KGN0eDIpIHtcbiAgICAgICAgICBzeW5jLmZvcm1hdFNlbGVjdChjdHgyKTtcbiAgICAgICAgfSxcbiAgICAgICAgaW52b2tlT25PcGVuKGN0eDIpIHtcbiAgICAgICAgICBjdHgyLm9uT3BlbkNoYW5nZT8uKHsgb3BlbjogdHJ1ZSB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgaW52b2tlT25DbG9zZShjdHgyKSB7XG4gICAgICAgICAgY3R4Mi5vbk9wZW5DaGFuZ2U/Lih7IG9wZW46IGZhbHNlIH0pO1xuICAgICAgICB9LFxuICAgICAgICB0b2dnbGVWaXNpYmlsaXR5KGN0eDIsIF9ldnQsIHsgc2VuZCB9KSB7XG4gICAgICAgICAgc2VuZCh7IHR5cGU6IGN0eDIub3BlbiA/IFwiT1BFTlwiIDogXCJDTE9TRVwiLCBzcmM6IFwiY29udHJvbGxlZFwiIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY29tcGFyZUZuczoge1xuICAgICAgICB2YWx1ZTogKGEsIGIpID0+IGEuaXNFcXVhbChiKVxuICAgICAgfVxuICAgIH1cbiAgKTtcbn1cbnZhciBzeW5jID0ge1xuICAvLyBzeW5jIGNoYW5uZWwgaW5wdXRzXG4gIGlucHV0cyhjdHgsIGNvbG9yKSB7XG4gICAgY29uc3QgY2hhbm5lbElucHV0cyA9IGRvbS5nZXRDaGFubmVsSW5wdXRFbHMoY3R4KTtcbiAgICByYWYoKCkgPT4ge1xuICAgICAgY2hhbm5lbElucHV0cy5mb3JFYWNoKChpbnB1dEVsKSA9PiB7XG4gICAgICAgIGNvbnN0IGNoYW5uZWwgPSBpbnB1dEVsLmRhdGFzZXQuY2hhbm5lbDtcbiAgICAgICAgZG9tLnNldFZhbHVlKGlucHV0RWwsIGdldENoYW5uZWxWYWx1ZShjb2xvciB8fCBjdHgudmFsdWUsIGNoYW5uZWwpKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9LFxuICAvLyBzeW5jIGZvcm1hdCBzZWxlY3RcbiAgZm9ybWF0U2VsZWN0KGN0eCkge1xuICAgIGNvbnN0IHNlbGVjdEVsID0gZG9tLmdldEZvcm1hdFNlbGVjdEVsKGN0eCk7XG4gICAgcmFmKCgpID0+IHtcbiAgICAgIGRvbS5zZXRWYWx1ZShzZWxlY3RFbCwgY3R4LmZvcm1hdCk7XG4gICAgfSk7XG4gIH1cbn07XG52YXIgaW52b2tlID0ge1xuICBjaGFuZ2VFbmQoY3R4KSB7XG4gICAgY29uc3QgdmFsdWUgPSBjdHgudmFsdWUudG9Gb3JtYXQoY3R4LmZvcm1hdCk7XG4gICAgY3R4Lm9uVmFsdWVDaGFuZ2VFbmQ/Lih7XG4gICAgICB2YWx1ZSxcbiAgICAgIHZhbHVlQXNTdHJpbmc6IGN0eC52YWx1ZUFzU3RyaW5nXG4gICAgfSk7XG4gIH0sXG4gIGNoYW5nZShjdHgpIHtcbiAgICBjb25zdCB2YWx1ZSA9IGN0eC52YWx1ZS50b0Zvcm1hdChjdHguZm9ybWF0KTtcbiAgICBjdHgub25WYWx1ZUNoYW5nZT8uKHtcbiAgICAgIHZhbHVlLFxuICAgICAgdmFsdWVBc1N0cmluZzogY3R4LnZhbHVlQXNTdHJpbmdcbiAgICB9KTtcbiAgICBkaXNwYXRjaElucHV0VmFsdWVFdmVudChkb20uZ2V0SGlkZGVuSW5wdXRFbChjdHgpLCB7IHZhbHVlOiBjdHgudmFsdWVBc1N0cmluZyB9KTtcbiAgfSxcbiAgZm9ybWF0Q2hhbmdlKGN0eCkge1xuICAgIGN0eC5vbkZvcm1hdENoYW5nZT8uKHsgZm9ybWF0OiBjdHguZm9ybWF0IH0pO1xuICB9XG59O1xudmFyIHNldCA9IHtcbiAgdmFsdWUoY3R4LCBjb2xvcikge1xuICAgIGlmICghY29sb3IgfHwgY3R4LnZhbHVlLmlzRXF1YWwoY29sb3IpKVxuICAgICAgcmV0dXJuO1xuICAgIGN0eC52YWx1ZSA9IGNvbG9yO1xuICAgIGludm9rZS5jaGFuZ2UoY3R4KTtcbiAgfSxcbiAgZm9ybWF0KGN0eCwgZm9ybWF0KSB7XG4gICAgaWYgKGN0eC5mb3JtYXQgPT09IGZvcm1hdClcbiAgICAgIHJldHVybjtcbiAgICBjdHguZm9ybWF0ID0gZm9ybWF0O1xuICAgIGludm9rZS5mb3JtYXRDaGFuZ2UoY3R4KTtcbiAgfVxufTtcbmV4cG9ydCB7XG4gIGFuYXRvbXksXG4gIGNvbm5lY3QsXG4gIG1hY2hpbmUsXG4gIHBhcnNlXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/color-picker/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/color-utils/dist/index.mjs":
/*!*********************************************************!*\
  !*** ./node_modules/@zag-js/color-utils/dist/index.mjs ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Color: () => (/* binding */ Color),\n/* harmony export */   getColorAreaGradient: () => (/* binding */ getColorAreaGradient),\n/* harmony export */   normalizeColor: () => (/* binding */ normalizeColor),\n/* harmony export */   parseColor: () => (/* binding */ parseColor)\n/* harmony export */ });\n/* harmony import */ var _zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/numeric-range */ \"(ssr)/./node_modules/@zag-js/numeric-range/dist/index.mjs\");\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\n\n// src/color-format-gradient.ts\nvar generateRGB_R = (orientation, dir, zValue) => {\n  const maskImage = `linear-gradient(to ${orientation[Number(!dir)]}, transparent, #000)`;\n  const result = {\n    areaStyles: {\n      backgroundImage: `linear-gradient(to ${orientation[Number(dir)]},rgb(${zValue},0,0),rgb(${zValue},255,0))`\n    },\n    areaGradientStyles: {\n      backgroundImage: `linear-gradient(to ${orientation[Number(dir)]},rgb(${zValue},0,255),rgb(${zValue},255,255))`,\n      WebkitMaskImage: maskImage,\n      maskImage\n    }\n  };\n  return result;\n};\nvar generateRGB_G = (orientation, dir, zValue) => {\n  const maskImage = `linear-gradient(to ${orientation[Number(!dir)]}, transparent, #000)`;\n  const result = {\n    areaStyles: {\n      backgroundImage: `linear-gradient(to ${orientation[Number(dir)]},rgb(0,${zValue},0),rgb(255,${zValue},0))`\n    },\n    areaGradientStyles: {\n      backgroundImage: `linear-gradient(to ${orientation[Number(dir)]},rgb(0,${zValue},255),rgb(255,${zValue},255))`,\n      WebkitMaskImage: maskImage,\n      maskImage\n    }\n  };\n  return result;\n};\nvar generateRGB_B = (orientation, dir, zValue) => {\n  const maskImage = `linear-gradient(to ${orientation[Number(!dir)]}, transparent, #000)`;\n  const result = {\n    areaStyles: {\n      backgroundImage: `linear-gradient(to ${orientation[Number(dir)]},rgb(0,0,${zValue}),rgb(255,0,${zValue}))`\n    },\n    areaGradientStyles: {\n      backgroundImage: `linear-gradient(to ${orientation[Number(dir)]},rgb(0,255,${zValue}),rgb(255,255,${zValue}))`,\n      WebkitMaskImage: maskImage,\n      maskImage\n    }\n  };\n  return result;\n};\nvar generateHSL_H = (orientation, dir, zValue) => {\n  const result = {\n    areaStyles: {},\n    areaGradientStyles: {\n      background: [\n        `linear-gradient(to ${orientation[Number(dir)]}, hsla(0,0%,0%,1) 0%, hsla(0,0%,0%,0) 50%, hsla(0,0%,100%,0) 50%, hsla(0,0%,100%,1) 100%)`,\n        `linear-gradient(to ${orientation[Number(!dir)]},hsl(0,0%,50%),hsla(0,0%,50%,0))`,\n        `hsl(${zValue}, 100%, 50%)`\n      ].join(\",\")\n    }\n  };\n  return result;\n};\nvar generateHSL_S = (orientation, dir, alphaValue) => {\n  const result = {\n    areaStyles: {},\n    areaGradientStyles: {\n      background: [\n        `linear-gradient(to ${orientation[Number(!dir)]}, hsla(0,0%,0%,${alphaValue}) 0%, hsla(0,0%,0%,0) 50%, hsla(0,0%,100%,0) 50%, hsla(0,0%,100%,${alphaValue}) 100%)`,\n        `linear-gradient(to ${orientation[Number(dir)]},hsla(0,100%,50%,${alphaValue}),hsla(60,100%,50%,${alphaValue}),hsla(120,100%,50%,${alphaValue}),hsla(180,100%,50%,${alphaValue}),hsla(240,100%,50%,${alphaValue}),hsla(300,100%,50%,${alphaValue}),hsla(359,100%,50%,${alphaValue}))`,\n        \"hsl(0, 0%, 50%)\"\n      ].join(\",\")\n    }\n  };\n  return result;\n};\nvar generateHSL_L = (orientation, dir, zValue) => {\n  const result = {\n    areaStyles: {},\n    areaGradientStyles: {\n      backgroundImage: [\n        `linear-gradient(to ${orientation[Number(!dir)]},hsl(0,0%,${zValue}%),hsla(0,0%,${zValue}%,0))`,\n        `linear-gradient(to ${orientation[Number(dir)]},hsl(0,100%,${zValue}%),hsl(60,100%,${zValue}%),hsl(120,100%,${zValue}%),hsl(180,100%,${zValue}%),hsl(240,100%,${zValue}%),hsl(300,100%,${zValue}%),hsl(360,100%,${zValue}%))`\n      ].join(\",\")\n    }\n  };\n  return result;\n};\nvar generateHSB_H = (orientation, dir, zValue) => {\n  const result = {\n    areaStyles: {},\n    areaGradientStyles: {\n      background: [\n        `linear-gradient(to ${orientation[Number(dir)]},hsl(0,0%,0%),hsla(0,0%,0%,0))`,\n        `linear-gradient(to ${orientation[Number(!dir)]},hsl(0,0%,100%),hsla(0,0%,100%,0))`,\n        `hsl(${zValue}, 100%, 50%)`\n      ].join(\",\")\n    }\n  };\n  return result;\n};\nvar generateHSB_S = (orientation, dir, alphaValue) => {\n  const result = {\n    areaStyles: {},\n    areaGradientStyles: {\n      background: [\n        `linear-gradient(to ${orientation[Number(!dir)]},hsla(0,0%,0%,${alphaValue}),hsla(0,0%,0%,0))`,\n        `linear-gradient(to ${orientation[Number(dir)]},hsla(0,100%,50%,${alphaValue}),hsla(60,100%,50%,${alphaValue}),hsla(120,100%,50%,${alphaValue}),hsla(180,100%,50%,${alphaValue}),hsla(240,100%,50%,${alphaValue}),hsla(300,100%,50%,${alphaValue}),hsla(359,100%,50%,${alphaValue}))`,\n        `linear-gradient(to ${orientation[Number(!dir)]},hsl(0,0%,0%),hsl(0,0%,100%))`\n      ].join(\",\")\n    }\n  };\n  return result;\n};\nvar generateHSB_B = (orientation, dir, alphaValue) => {\n  const result = {\n    areaStyles: {},\n    areaGradientStyles: {\n      background: [\n        `linear-gradient(to ${orientation[Number(!dir)]},hsla(0,0%,100%,${alphaValue}),hsla(0,0%,100%,0))`,\n        `linear-gradient(to ${orientation[Number(dir)]},hsla(0,100%,50%,${alphaValue}),hsla(60,100%,50%,${alphaValue}),hsla(120,100%,50%,${alphaValue}),hsla(180,100%,50%,${alphaValue}),hsla(240,100%,50%,${alphaValue}),hsla(300,100%,50%,${alphaValue}),hsla(359,100%,50%,${alphaValue}))`,\n        \"#000\"\n      ].join(\",\")\n    }\n  };\n  return result;\n};\n\n// src/area-gradient.ts\nfunction getColorAreaGradient(color, options) {\n  const { xChannel, yChannel, dir: dirProp } = options;\n  const { zChannel } = color.getColorAxes({ xChannel, yChannel });\n  const zValue = color.getChannelValue(zChannel);\n  const { minValue: zMin, maxValue: zMax } = color.getChannelRange(zChannel);\n  const orientation = [\"top\", dirProp === \"rtl\" ? \"left\" : \"right\"];\n  let dir = false;\n  let background = { areaStyles: {}, areaGradientStyles: {} };\n  let alphaValue = (zValue - zMin) / (zMax - zMin);\n  let isHSL = color.getFormat() === \"hsla\";\n  switch (zChannel) {\n    case \"red\": {\n      dir = xChannel === \"green\";\n      background = generateRGB_R(orientation, dir, zValue);\n      break;\n    }\n    case \"green\": {\n      dir = xChannel === \"red\";\n      background = generateRGB_G(orientation, dir, zValue);\n      break;\n    }\n    case \"blue\": {\n      dir = xChannel === \"red\";\n      background = generateRGB_B(orientation, dir, zValue);\n      break;\n    }\n    case \"hue\": {\n      dir = xChannel !== \"saturation\";\n      if (isHSL) {\n        background = generateHSL_H(orientation, dir, zValue);\n      } else {\n        background = generateHSB_H(orientation, dir, zValue);\n      }\n      break;\n    }\n    case \"saturation\": {\n      dir = xChannel === \"hue\";\n      if (isHSL) {\n        background = generateHSL_S(orientation, dir, alphaValue);\n      } else {\n        background = generateHSB_S(orientation, dir, alphaValue);\n      }\n      break;\n    }\n    case \"brightness\": {\n      dir = xChannel === \"hue\";\n      background = generateHSB_B(orientation, dir, alphaValue);\n      break;\n    }\n    case \"lightness\": {\n      dir = xChannel === \"hue\";\n      background = generateHSL_L(orientation, dir, zValue);\n      break;\n    }\n  }\n  return background;\n}\n\n// src/color.ts\n\nvar isEqualObject = (a, b) => {\n  if (Object.keys(a).length !== Object.keys(b).length)\n    return false;\n  for (let key in a)\n    if (a[key] !== b[key])\n      return false;\n  return true;\n};\nvar Color = class {\n  toHexInt() {\n    return this.toFormat(\"rgba\").toHexInt();\n  }\n  getChannelValue(channel) {\n    if (channel in this)\n      return this[channel];\n    throw new Error(\"Unsupported color channel: \" + channel);\n  }\n  getChannelValuePercent(channel, valueToCheck) {\n    const value = valueToCheck ?? this.getChannelValue(channel);\n    const { minValue, maxValue } = this.getChannelRange(channel);\n    return (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_0__.getValuePercent)(value, minValue, maxValue);\n  }\n  getChannelPercentValue(channel, percentToCheck) {\n    const { minValue, maxValue, step } = this.getChannelRange(channel);\n    const percentValue = (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_0__.getPercentValue)(percentToCheck, minValue, maxValue, step);\n    return (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_0__.snapValueToStep)(percentValue, minValue, maxValue, step);\n  }\n  withChannelValue(channel, value) {\n    const { minValue, maxValue } = this.getChannelRange(channel);\n    if (channel in this) {\n      let clone = this.clone();\n      clone[channel] = (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_0__.clampValue)(value, minValue, maxValue);\n      return clone;\n    }\n    throw new Error(\"Unsupported color channel: \" + channel);\n  }\n  getColorAxes(xyChannels) {\n    let { xChannel, yChannel } = xyChannels;\n    let xCh = xChannel || this.getChannels().find((c) => c !== yChannel);\n    let yCh = yChannel || this.getChannels().find((c) => c !== xCh);\n    let zCh = this.getChannels().find((c) => c !== xCh && c !== yCh);\n    return { xChannel: xCh, yChannel: yCh, zChannel: zCh };\n  }\n  incrementChannel(channel, stepSize) {\n    const { minValue, maxValue, step } = this.getChannelRange(channel);\n    const value = (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_0__.snapValueToStep)(\n      (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_0__.clampValue)(this.getChannelValue(channel) + stepSize, minValue, maxValue),\n      minValue,\n      maxValue,\n      step\n    );\n    return this.withChannelValue(channel, value);\n  }\n  decrementChannel(channel, stepSize) {\n    return this.incrementChannel(channel, -stepSize);\n  }\n  isEqual(color) {\n    const isSame = isEqualObject(this.toJSON(), color.toJSON());\n    return isSame && this.getChannelValue(\"alpha\") === color.getChannelValue(\"alpha\");\n  }\n};\n\n// src/hsb-color.ts\n\n\n// src/hsl-color.ts\n\n\n// src/rgb-color.ts\n\nvar _RGBColor = class _RGBColor extends Color {\n  constructor(red, green, blue, alpha) {\n    super();\n    this.red = red;\n    this.green = green;\n    this.blue = blue;\n    this.alpha = alpha;\n  }\n  static parse(value) {\n    let colors = [];\n    if (/^#[\\da-f]+$/i.test(value) && [4, 5, 7, 9].includes(value.length)) {\n      const values = (value.length < 6 ? value.replace(/[^#]/gi, \"$&$&\") : value).slice(1).split(\"\");\n      while (values.length > 0) {\n        colors.push(parseInt(values.splice(0, 2).join(\"\"), 16));\n      }\n      colors[3] = colors[3] !== void 0 ? colors[3] / 255 : void 0;\n    }\n    const match = value.match(/^rgba?\\((.*)\\)$/);\n    if (match?.[1]) {\n      colors = match[1].split(\",\").map((value2) => Number(value2.trim())).map((num, i) => (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_0__.clampValue)(num, 0, i < 3 ? 255 : 1));\n    }\n    return colors.length < 3 ? void 0 : new _RGBColor(colors[0], colors[1], colors[2], colors[3] ?? 1);\n  }\n  toString(format) {\n    switch (format) {\n      case \"hex\":\n        return \"#\" + (this.red.toString(16).padStart(2, \"0\") + this.green.toString(16).padStart(2, \"0\") + this.blue.toString(16).padStart(2, \"0\")).toUpperCase();\n      case \"hexa\":\n        return \"#\" + (this.red.toString(16).padStart(2, \"0\") + this.green.toString(16).padStart(2, \"0\") + this.blue.toString(16).padStart(2, \"0\") + Math.round(this.alpha * 255).toString(16).padStart(2, \"0\")).toUpperCase();\n      case \"rgb\":\n        return `rgb(${this.red}, ${this.green}, ${this.blue})`;\n      case \"css\":\n      case \"rgba\":\n        return `rgba(${this.red}, ${this.green}, ${this.blue}, ${this.alpha})`;\n      case \"hsl\":\n        return this.toHSL().toString(\"hsl\");\n      case \"hsb\":\n        return this.toHSB().toString(\"hsb\");\n      default:\n        return this.toFormat(format).toString(format);\n    }\n  }\n  toFormat(format) {\n    switch (format) {\n      case \"rgba\":\n        return this;\n      case \"hsba\":\n        return this.toHSB();\n      case \"hsla\":\n        return this.toHSL();\n      default:\n        throw new Error(\"Unsupported color conversion: rgb -> \" + format);\n    }\n  }\n  toHexInt() {\n    return this.red << 16 | this.green << 8 | this.blue;\n  }\n  /**\n   * Converts an RGB color value to HSB.\n   * Conversion formula adapted from https://en.wikipedia.org/wiki/HSL_and_HSV#From_RGB.\n   * @returns An HSBColor object.\n   */\n  toHSB() {\n    const red = this.red / 255;\n    const green = this.green / 255;\n    const blue = this.blue / 255;\n    const min = Math.min(red, green, blue);\n    const brightness = Math.max(red, green, blue);\n    const chroma = brightness - min;\n    const saturation = brightness === 0 ? 0 : chroma / brightness;\n    let hue = 0;\n    if (chroma !== 0) {\n      switch (brightness) {\n        case red:\n          hue = (green - blue) / chroma + (green < blue ? 6 : 0);\n          break;\n        case green:\n          hue = (blue - red) / chroma + 2;\n          break;\n        case blue:\n          hue = (red - green) / chroma + 4;\n          break;\n      }\n      hue /= 6;\n    }\n    return new HSBColor(\n      (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_0__.toFixedNumber)(hue * 360, 2),\n      (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_0__.toFixedNumber)(saturation * 100, 2),\n      (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_0__.toFixedNumber)(brightness * 100, 2),\n      (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_0__.toFixedNumber)(this.alpha, 2)\n    );\n  }\n  /**\n   * Converts an RGB color value to HSL.\n   * Conversion formula adapted from https://en.wikipedia.org/wiki/HSL_and_HSV#From_RGB.\n   * @returns An HSLColor object.\n   */\n  toHSL() {\n    const red = this.red / 255;\n    const green = this.green / 255;\n    const blue = this.blue / 255;\n    const min = Math.min(red, green, blue);\n    const max = Math.max(red, green, blue);\n    const lightness = (max + min) / 2;\n    const chroma = max - min;\n    let hue = -1;\n    let saturation = -1;\n    if (chroma === 0) {\n      hue = saturation = 0;\n    } else {\n      saturation = chroma / (lightness < 0.5 ? max + min : 2 - max - min);\n      switch (max) {\n        case red:\n          hue = (green - blue) / chroma + (green < blue ? 6 : 0);\n          break;\n        case green:\n          hue = (blue - red) / chroma + 2;\n          break;\n        case blue:\n          hue = (red - green) / chroma + 4;\n          break;\n      }\n      hue /= 6;\n    }\n    return new HSLColor(\n      (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_0__.toFixedNumber)(hue * 360, 2),\n      (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_0__.toFixedNumber)(saturation * 100, 2),\n      (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_0__.toFixedNumber)(lightness * 100, 2),\n      (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_0__.toFixedNumber)(this.alpha, 2)\n    );\n  }\n  clone() {\n    return new _RGBColor(this.red, this.green, this.blue, this.alpha);\n  }\n  getChannelRange(channel) {\n    switch (channel) {\n      case \"red\":\n      case \"green\":\n      case \"blue\":\n        return { minValue: 0, maxValue: 255, step: 1, pageSize: 17 };\n      case \"alpha\":\n        return { minValue: 0, maxValue: 1, step: 0.01, pageSize: 0.1 };\n      default:\n        throw new Error(\"Unknown color channel: \" + channel);\n    }\n  }\n  toJSON() {\n    return { r: this.red, g: this.green, b: this.blue, a: this.alpha };\n  }\n  getFormat() {\n    return \"rgba\";\n  }\n  getChannels() {\n    return _RGBColor.colorChannels;\n  }\n};\n__publicField(_RGBColor, \"colorChannels\", [\"red\", \"green\", \"blue\"]);\nvar RGBColor = _RGBColor;\n\n// src/hsl-color.ts\nvar HSL_REGEX = /hsl\\(([-+]?\\d+(?:.\\d+)?\\s*,\\s*[-+]?\\d+(?:.\\d+)?%\\s*,\\s*[-+]?\\d+(?:.\\d+)?%)\\)|hsla\\(([-+]?\\d+(?:.\\d+)?\\s*,\\s*[-+]?\\d+(?:.\\d+)?%\\s*,\\s*[-+]?\\d+(?:.\\d+)?%\\s*,\\s*[-+]?\\d(.\\d+)?)\\)/;\nvar _HSLColor = class _HSLColor extends Color {\n  constructor(hue, saturation, lightness, alpha) {\n    super();\n    this.hue = hue;\n    this.saturation = saturation;\n    this.lightness = lightness;\n    this.alpha = alpha;\n  }\n  static parse(value) {\n    let m;\n    if (m = value.match(HSL_REGEX)) {\n      const [h, s, l, a] = (m[1] ?? m[2]).split(\",\").map((n) => Number(n.trim().replace(\"%\", \"\")));\n      return new _HSLColor((0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_0__.mod)(h, 360), (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_0__.clampValue)(s, 0, 100), (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_0__.clampValue)(l, 0, 100), (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_0__.clampValue)(a ?? 1, 0, 1));\n    }\n  }\n  toString(format) {\n    switch (format) {\n      case \"hex\":\n        return this.toRGB().toString(\"hex\");\n      case \"hexa\":\n        return this.toRGB().toString(\"hexa\");\n      case \"hsl\":\n        return `hsl(${this.hue}, ${(0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_0__.toFixedNumber)(this.saturation, 2)}%, ${(0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_0__.toFixedNumber)(this.lightness, 2)}%)`;\n      case \"css\":\n      case \"hsla\":\n        return `hsla(${this.hue}, ${(0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_0__.toFixedNumber)(this.saturation, 2)}%, ${(0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_0__.toFixedNumber)(this.lightness, 2)}%, ${this.alpha})`;\n      case \"hsb\":\n        return this.toHSB().toString(\"hsb\");\n      case \"rgb\":\n        return this.toRGB().toString(\"rgb\");\n      default:\n        return this.toFormat(format).toString(format);\n    }\n  }\n  toFormat(format) {\n    switch (format) {\n      case \"hsla\":\n        return this;\n      case \"hsba\":\n        return this.toHSB();\n      case \"rgba\":\n        return this.toRGB();\n      default:\n        throw new Error(\"Unsupported color conversion: hsl -> \" + format);\n    }\n  }\n  /**\n   * Converts a HSL color to HSB.\n   * Conversion formula adapted from https://en.wikipedia.org/wiki/HSL_and_HSV#HSL_to_HSV.\n   * @returns An HSBColor object.\n   */\n  toHSB() {\n    let saturation = this.saturation / 100;\n    let lightness = this.lightness / 100;\n    let brightness = lightness + saturation * Math.min(lightness, 1 - lightness);\n    saturation = brightness === 0 ? 0 : 2 * (1 - lightness / brightness);\n    return new HSBColor(\n      (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_0__.toFixedNumber)(this.hue, 2),\n      (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_0__.toFixedNumber)(saturation * 100, 2),\n      (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_0__.toFixedNumber)(brightness * 100, 2),\n      (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_0__.toFixedNumber)(this.alpha, 2)\n    );\n  }\n  /**\n   * Converts a HSL color to RGB.\n   * Conversion formula adapted from https://en.wikipedia.org/wiki/HSL_and_HSV#HSL_to_RGB_alternative.\n   * @returns An RGBColor object.\n   */\n  toRGB() {\n    let hue = this.hue;\n    let saturation = this.saturation / 100;\n    let lightness = this.lightness / 100;\n    let a = saturation * Math.min(lightness, 1 - lightness);\n    let fn = (n, k = (n + hue / 30) % 12) => lightness - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n    return new RGBColor(\n      Math.round(fn(0) * 255),\n      Math.round(fn(8) * 255),\n      Math.round(fn(4) * 255),\n      (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_0__.toFixedNumber)(this.alpha, 2)\n    );\n  }\n  clone() {\n    return new _HSLColor(this.hue, this.saturation, this.lightness, this.alpha);\n  }\n  getChannelRange(channel) {\n    switch (channel) {\n      case \"hue\":\n        return { minValue: 0, maxValue: 360, step: 1, pageSize: 15 };\n      case \"saturation\":\n      case \"lightness\":\n        return { minValue: 0, maxValue: 100, step: 1, pageSize: 10 };\n      case \"alpha\":\n        return { minValue: 0, maxValue: 1, step: 0.01, pageSize: 0.1 };\n      default:\n        throw new Error(\"Unknown color channel: \" + channel);\n    }\n  }\n  toJSON() {\n    return { h: this.hue, s: this.saturation, l: this.lightness, a: this.alpha };\n  }\n  getFormat() {\n    return \"hsla\";\n  }\n  getChannels() {\n    return _HSLColor.colorChannels;\n  }\n};\n__publicField(_HSLColor, \"colorChannels\", [\"hue\", \"saturation\", \"lightness\"]);\nvar HSLColor = _HSLColor;\n\n// src/hsb-color.ts\nvar HSB_REGEX = /hsb\\(([-+]?\\d+(?:.\\d+)?\\s*,\\s*[-+]?\\d+(?:.\\d+)?%\\s*,\\s*[-+]?\\d+(?:.\\d+)?%)\\)|hsba\\(([-+]?\\d+(?:.\\d+)?\\s*,\\s*[-+]?\\d+(?:.\\d+)?%\\s*,\\s*[-+]?\\d+(?:.\\d+)?%\\s*,\\s*[-+]?\\d(.\\d+)?)\\)/;\nvar _HSBColor = class _HSBColor extends Color {\n  constructor(hue, saturation, brightness, alpha) {\n    super();\n    this.hue = hue;\n    this.saturation = saturation;\n    this.brightness = brightness;\n    this.alpha = alpha;\n  }\n  static parse(value) {\n    let m;\n    if (m = value.match(HSB_REGEX)) {\n      const [h, s, b, a] = (m[1] ?? m[2]).split(\",\").map((n) => Number(n.trim().replace(\"%\", \"\")));\n      return new _HSBColor((0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_0__.mod)(h, 360), (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_0__.clampValue)(s, 0, 100), (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_0__.clampValue)(b, 0, 100), (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_0__.clampValue)(a ?? 1, 0, 1));\n    }\n  }\n  toString(format) {\n    switch (format) {\n      case \"css\":\n        return this.toHSL().toString(\"css\");\n      case \"hex\":\n        return this.toRGB().toString(\"hex\");\n      case \"hexa\":\n        return this.toRGB().toString(\"hexa\");\n      case \"hsb\":\n        return `hsb(${this.hue}, ${(0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_0__.toFixedNumber)(this.saturation, 2)}%, ${(0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_0__.toFixedNumber)(this.brightness, 2)}%)`;\n      case \"hsba\":\n        return `hsba(${this.hue}, ${(0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_0__.toFixedNumber)(this.saturation, 2)}%, ${(0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_0__.toFixedNumber)(this.brightness, 2)}%, ${this.alpha})`;\n      case \"hsl\":\n        return this.toHSL().toString(\"hsl\");\n      case \"rgb\":\n        return this.toRGB().toString(\"rgb\");\n      default:\n        return this.toFormat(format).toString(format);\n    }\n  }\n  toFormat(format) {\n    switch (format) {\n      case \"hsba\":\n        return this;\n      case \"hsla\":\n        return this.toHSL();\n      case \"rgba\":\n        return this.toRGB();\n      default:\n        throw new Error(\"Unsupported color conversion: hsb -> \" + format);\n    }\n  }\n  /**\n   * Converts a HSB color to HSL.\n   * Conversion formula adapted from https://en.wikipedia.org/wiki/HSL_and_HSV#HSV_to_HSL.\n   * @returns An HSLColor object.\n   */\n  toHSL() {\n    let saturation = this.saturation / 100;\n    let brightness = this.brightness / 100;\n    let lightness = brightness * (1 - saturation / 2);\n    saturation = lightness === 0 || lightness === 1 ? 0 : (brightness - lightness) / Math.min(lightness, 1 - lightness);\n    return new HSLColor(\n      (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_0__.toFixedNumber)(this.hue, 2),\n      (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_0__.toFixedNumber)(saturation * 100, 2),\n      (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_0__.toFixedNumber)(lightness * 100, 2),\n      (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_0__.toFixedNumber)(this.alpha, 2)\n    );\n  }\n  /**\n   * Converts a HSV color value to RGB.\n   * Conversion formula adapted from https://en.wikipedia.org/wiki/HSL_and_HSV#HSV_to_RGB_alternative.\n   * @returns An RGBColor object.\n   */\n  toRGB() {\n    let hue = this.hue;\n    let saturation = this.saturation / 100;\n    let brightness = this.brightness / 100;\n    let fn = (n, k = (n + hue / 60) % 6) => brightness - saturation * brightness * Math.max(Math.min(k, 4 - k, 1), 0);\n    return new RGBColor(\n      Math.round(fn(5) * 255),\n      Math.round(fn(3) * 255),\n      Math.round(fn(1) * 255),\n      (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_0__.toFixedNumber)(this.alpha, 2)\n    );\n  }\n  clone() {\n    return new _HSBColor(this.hue, this.saturation, this.brightness, this.alpha);\n  }\n  getChannelRange(channel) {\n    switch (channel) {\n      case \"hue\":\n        return { minValue: 0, maxValue: 360, step: 1, pageSize: 15 };\n      case \"saturation\":\n      case \"brightness\":\n        return { minValue: 0, maxValue: 100, step: 1, pageSize: 10 };\n      case \"alpha\":\n        return { minValue: 0, maxValue: 1, step: 0.01, pageSize: 0.1 };\n      default:\n        throw new Error(\"Unknown color channel: \" + channel);\n    }\n  }\n  toJSON() {\n    return { h: this.hue, s: this.saturation, b: this.brightness, a: this.alpha };\n  }\n  getFormat() {\n    return \"hsba\";\n  }\n  getChannels() {\n    return _HSBColor.colorChannels;\n  }\n};\n__publicField(_HSBColor, \"colorChannels\", [\"hue\", \"saturation\", \"brightness\"]);\nvar HSBColor = _HSBColor;\n\n// src/native-color.ts\nvar nativeColors = \"aliceblue:f0f8ff,antiquewhite:faebd7,aqua:00ffff,aquamarine:7fffd4,azure:f0ffff,beige:f5f5dc,bisque:ffe4c4,black:000000,blanchedalmond:ffebcd,blue:0000ff,blueviolet:8a2be2,brown:a52a2a,burlywood:deb887,cadetblue:5f9ea0,chartreuse:7fff00,chocolate:d2691e,coral:ff7f50,cornflowerblue:6495ed,cornsilk:fff8dc,crimson:dc143c,cyan:00ffff,darkblue:00008b,darkcyan:008b8b,darkgoldenrod:b8860b,darkgray:a9a9a9,darkgreen:006400,darkkhaki:bdb76b,darkmagenta:8b008b,darkolivegreen:556b2f,darkorange:ff8c00,darkorchid:9932cc,darkred:8b0000,darksalmon:e9967a,darkseagreen:8fbc8f,darkslateblue:483d8b,darkslategray:2f4f4f,darkturquoise:00ced1,darkviolet:9400d3,deeppink:ff1493,deepskyblue:00bfff,dimgray:696969,dodgerblue:1e90ff,firebrick:b22222,floralwhite:fffaf0,forestgreen:228b22,fuchsia:ff00ff,gainsboro:dcdcdc,ghostwhite:f8f8ff,gold:ffd700,goldenrod:daa520,gray:808080,green:008000,greenyellow:adff2f,honeydew:f0fff0,hotpink:ff69b4,indianred:cd5c5c,indigo:4b0082,ivory:fffff0,khaki:f0e68c,lavender:e6e6fa,lavenderblush:fff0f5,lawngreen:7cfc00,lemonchiffon:fffacd,lightblue:add8e6,lightcoral:f08080,lightcyan:e0ffff,lightgoldenrodyellow:fafad2,lightgrey:d3d3d3,lightgreen:90ee90,lightpink:ffb6c1,lightsalmon:ffa07a,lightseagreen:20b2aa,lightskyblue:87cefa,lightslategray:778899,lightsteelblue:b0c4de,lightyellow:ffffe0,lime:00ff00,limegreen:32cd32,linen:faf0e6,magenta:ff00ff,maroon:800000,mediumaquamarine:66cdaa,mediumblue:0000cd,mediumorchid:ba55d3,mediumpurple:9370d8,mediumseagreen:3cb371,mediumslateblue:7b68ee,mediumspringgreen:00fa9a,mediumturquoise:48d1cc,mediumvioletred:c71585,midnightblue:191970,mintcream:f5fffa,mistyrose:ffe4e1,moccasin:ffe4b5,navajowhite:ffdead,navy:000080,oldlace:fdf5e6,olive:808000,olivedrab:6b8e23,orange:ffa500,orangered:ff4500,orchid:da70d6,palegoldenrod:eee8aa,palegreen:98fb98,paleturquoise:afeeee,palevioletred:d87093,papayawhip:ffefd5,peachpuff:ffdab9,peru:cd853f,pink:ffc0cb,plum:dda0dd,powderblue:b0e0e6,purple:800080,red:ff0000,rosybrown:bc8f8f,royalblue:4169e1,saddlebrown:8b4513,salmon:fa8072,sandybrown:f4a460,seagreen:2e8b57,seashell:fff5ee,sienna:a0522d,silver:c0c0c0,skyblue:87ceeb,slateblue:6a5acd,slategray:708090,snow:fffafa,springgreen:00ff7f,steelblue:4682b4,tan:d2b48c,teal:008080,thistle:d8bfd8,tomato:ff6347,turquoise:40e0d0,violet:ee82ee,wheat:f5deb3,white:ffffff,whitesmoke:f5f5f5,yellow:ffff00,yellowgreen:9acd32\";\nvar makeMap = (str) => {\n  const map = /* @__PURE__ */ new Map();\n  const list = str.split(\",\");\n  for (let i = 0; i < list.length; i++) {\n    const [key, val] = list[i].split(\":\");\n    map.set(key, `#${val}`);\n  }\n  return map;\n};\nvar nativeColorMap = makeMap(nativeColors);\n\n// src/parse-color.ts\nvar parseColor = (value) => {\n  if (nativeColorMap.has(value)) {\n    return parseColor(nativeColorMap.get(value));\n  }\n  const result = RGBColor.parse(value) || HSBColor.parse(value) || HSLColor.parse(value);\n  if (!result) {\n    const error = new Error(\"Invalid color value: \" + value);\n    Error.captureStackTrace?.(error, parseColor);\n    throw error;\n  }\n  return result;\n};\nvar normalizeColor = (v) => {\n  return typeof v === \"string\" ? parseColor(v) : v;\n};\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9jb2xvci11dGlscy9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0EsOEVBQThFLDZEQUE2RDtBQUMzSTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsMENBQTBDLDBCQUEwQjtBQUNwRTtBQUNBO0FBQ0EsNkNBQTZDLHlCQUF5QixPQUFPLE9BQU8sWUFBWSxPQUFPO0FBQ3ZHLEtBQUs7QUFDTDtBQUNBLDZDQUE2Qyx5QkFBeUIsT0FBTyxPQUFPLGNBQWMsT0FBTztBQUN6RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQywwQkFBMEI7QUFDcEU7QUFDQTtBQUNBLDZDQUE2Qyx5QkFBeUIsU0FBUyxPQUFPLGNBQWMsT0FBTztBQUMzRyxLQUFLO0FBQ0w7QUFDQSw2Q0FBNkMseUJBQXlCLFNBQVMsT0FBTyxnQkFBZ0IsT0FBTztBQUM3RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQywwQkFBMEI7QUFDcEU7QUFDQTtBQUNBLDZDQUE2Qyx5QkFBeUIsV0FBVyxPQUFPLGNBQWMsT0FBTztBQUM3RyxLQUFLO0FBQ0w7QUFDQSw2Q0FBNkMseUJBQXlCLGFBQWEsT0FBTyxnQkFBZ0IsT0FBTztBQUNqSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQSw4QkFBOEIseUJBQXlCO0FBQ3ZELDhCQUE4QiwwQkFBMEI7QUFDeEQsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQSw4QkFBOEIsMEJBQTBCLGlCQUFpQixXQUFXLG1FQUFtRSxXQUFXO0FBQ2xLLDhCQUE4Qix5QkFBeUIsbUJBQW1CLFdBQVcscUJBQXFCLFdBQVcsc0JBQXNCLFdBQVcsc0JBQXNCLFdBQVcsc0JBQXNCLFdB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b2R1bGVzL0B6YWctanMvY29sb3ItdXRpbHMvZGlzdC9pbmRleC5tanM/MGIzYSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZGVmTm9ybWFsUHJvcCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3Aob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fcHVibGljRmllbGQgPSAob2JqLCBrZXksIHZhbHVlKSA9PiB7XG4gIF9fZGVmTm9ybWFsUHJvcChvYmosIHR5cGVvZiBrZXkgIT09IFwic3ltYm9sXCIgPyBrZXkgKyBcIlwiIDoga2V5LCB2YWx1ZSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG5cbi8vIHNyYy9jb2xvci1mb3JtYXQtZ3JhZGllbnQudHNcbnZhciBnZW5lcmF0ZVJHQl9SID0gKG9yaWVudGF0aW9uLCBkaXIsIHpWYWx1ZSkgPT4ge1xuICBjb25zdCBtYXNrSW1hZ2UgPSBgbGluZWFyLWdyYWRpZW50KHRvICR7b3JpZW50YXRpb25bTnVtYmVyKCFkaXIpXX0sIHRyYW5zcGFyZW50LCAjMDAwKWA7XG4gIGNvbnN0IHJlc3VsdCA9IHtcbiAgICBhcmVhU3R5bGVzOiB7XG4gICAgICBiYWNrZ3JvdW5kSW1hZ2U6IGBsaW5lYXItZ3JhZGllbnQodG8gJHtvcmllbnRhdGlvbltOdW1iZXIoZGlyKV19LHJnYigke3pWYWx1ZX0sMCwwKSxyZ2IoJHt6VmFsdWV9LDI1NSwwKSlgXG4gICAgfSxcbiAgICBhcmVhR3JhZGllbnRTdHlsZXM6IHtcbiAgICAgIGJhY2tncm91bmRJbWFnZTogYGxpbmVhci1ncmFkaWVudCh0byAke29yaWVudGF0aW9uW051bWJlcihkaXIpXX0scmdiKCR7elZhbHVlfSwwLDI1NSkscmdiKCR7elZhbHVlfSwyNTUsMjU1KSlgLFxuICAgICAgV2Via2l0TWFza0ltYWdlOiBtYXNrSW1hZ2UsXG4gICAgICBtYXNrSW1hZ2VcbiAgICB9XG4gIH07XG4gIHJldHVybiByZXN1bHQ7XG59O1xudmFyIGdlbmVyYXRlUkdCX0cgPSAob3JpZW50YXRpb24sIGRpciwgelZhbHVlKSA9PiB7XG4gIGNvbnN0IG1hc2tJbWFnZSA9IGBsaW5lYXItZ3JhZGllbnQodG8gJHtvcmllbnRhdGlvbltOdW1iZXIoIWRpcildfSwgdHJhbnNwYXJlbnQsICMwMDApYDtcbiAgY29uc3QgcmVzdWx0ID0ge1xuICAgIGFyZWFTdHlsZXM6IHtcbiAgICAgIGJhY2tncm91bmRJbWFnZTogYGxpbmVhci1ncmFkaWVudCh0byAke29yaWVudGF0aW9uW051bWJlcihkaXIpXX0scmdiKDAsJHt6VmFsdWV9LDApLHJnYigyNTUsJHt6VmFsdWV9LDApKWBcbiAgICB9LFxuICAgIGFyZWFHcmFkaWVudFN0eWxlczoge1xuICAgICAgYmFja2dyb3VuZEltYWdlOiBgbGluZWFyLWdyYWRpZW50KHRvICR7b3JpZW50YXRpb25bTnVtYmVyKGRpcildfSxyZ2IoMCwke3pWYWx1ZX0sMjU1KSxyZ2IoMjU1LCR7elZhbHVlfSwyNTUpKWAsXG4gICAgICBXZWJraXRNYXNrSW1hZ2U6IG1hc2tJbWFnZSxcbiAgICAgIG1hc2tJbWFnZVxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG52YXIgZ2VuZXJhdGVSR0JfQiA9IChvcmllbnRhdGlvbiwgZGlyLCB6VmFsdWUpID0+IHtcbiAgY29uc3QgbWFza0ltYWdlID0gYGxpbmVhci1ncmFkaWVudCh0byAke29yaWVudGF0aW9uW051bWJlcighZGlyKV19LCB0cmFuc3BhcmVudCwgIzAwMClgO1xuICBjb25zdCByZXN1bHQgPSB7XG4gICAgYXJlYVN0eWxlczoge1xuICAgICAgYmFja2dyb3VuZEltYWdlOiBgbGluZWFyLWdyYWRpZW50KHRvICR7b3JpZW50YXRpb25bTnVtYmVyKGRpcildfSxyZ2IoMCwwLCR7elZhbHVlfSkscmdiKDI1NSwwLCR7elZhbHVlfSkpYFxuICAgIH0sXG4gICAgYXJlYUdyYWRpZW50U3R5bGVzOiB7XG4gICAgICBiYWNrZ3JvdW5kSW1hZ2U6IGBsaW5lYXItZ3JhZGllbnQodG8gJHtvcmllbnRhdGlvbltOdW1iZXIoZGlyKV19LHJnYigwLDI1NSwke3pWYWx1ZX0pLHJnYigyNTUsMjU1LCR7elZhbHVlfSkpYCxcbiAgICAgIFdlYmtpdE1hc2tJbWFnZTogbWFza0ltYWdlLFxuICAgICAgbWFza0ltYWdlXG4gICAgfVxuICB9O1xuICByZXR1cm4gcmVzdWx0O1xufTtcbnZhciBnZW5lcmF0ZUhTTF9IID0gKG9yaWVudGF0aW9uLCBkaXIsIHpWYWx1ZSkgPT4ge1xuICBjb25zdCByZXN1bHQgPSB7XG4gICAgYXJlYVN0eWxlczoge30sXG4gICAgYXJlYUdyYWRpZW50U3R5bGVzOiB7XG4gICAgICBiYWNrZ3JvdW5kOiBbXG4gICAgICAgIGBsaW5lYXItZ3JhZGllbnQodG8gJHtvcmllbnRhdGlvbltOdW1iZXIoZGlyKV19LCBoc2xhKDAsMCUsMCUsMSkgMCUsIGhzbGEoMCwwJSwwJSwwKSA1MCUsIGhzbGEoMCwwJSwxMDAlLDApIDUwJSwgaHNsYSgwLDAlLDEwMCUsMSkgMTAwJSlgLFxuICAgICAgICBgbGluZWFyLWdyYWRpZW50KHRvICR7b3JpZW50YXRpb25bTnVtYmVyKCFkaXIpXX0saHNsKDAsMCUsNTAlKSxoc2xhKDAsMCUsNTAlLDApKWAsXG4gICAgICAgIGBoc2woJHt6VmFsdWV9LCAxMDAlLCA1MCUpYFxuICAgICAgXS5qb2luKFwiLFwiKVxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG52YXIgZ2VuZXJhdGVIU0xfUyA9IChvcmllbnRhdGlvbiwgZGlyLCBhbHBoYVZhbHVlKSA9PiB7XG4gIGNvbnN0IHJlc3VsdCA9IHtcbiAgICBhcmVhU3R5bGVzOiB7fSxcbiAgICBhcmVhR3JhZGllbnRTdHlsZXM6IHtcbiAgICAgIGJhY2tncm91bmQ6IFtcbiAgICAgICAgYGxpbmVhci1ncmFkaWVudCh0byAke29yaWVudGF0aW9uW051bWJlcighZGlyKV19LCBoc2xhKDAsMCUsMCUsJHthbHBoYVZhbHVlfSkgMCUsIGhzbGEoMCwwJSwwJSwwKSA1MCUsIGhzbGEoMCwwJSwxMDAlLDApIDUwJSwgaHNsYSgwLDAlLDEwMCUsJHthbHBoYVZhbHVlfSkgMTAwJSlgLFxuICAgICAgICBgbGluZWFyLWdyYWRpZW50KHRvICR7b3JpZW50YXRpb25bTnVtYmVyKGRpcildfSxoc2xhKDAsMTAwJSw1MCUsJHthbHBoYVZhbHVlfSksaHNsYSg2MCwxMDAlLDUwJSwke2FscGhhVmFsdWV9KSxoc2xhKDEyMCwxMDAlLDUwJSwke2FscGhhVmFsdWV9KSxoc2xhKDE4MCwxMDAlLDUwJSwke2FscGhhVmFsdWV9KSxoc2xhKDI0MCwxMDAlLDUwJSwke2FscGhhVmFsdWV9KSxoc2xhKDMwMCwxMDAlLDUwJSwke2FscGhhVmFsdWV9KSxoc2xhKDM1OSwxMDAlLDUwJSwke2FscGhhVmFsdWV9KSlgLFxuICAgICAgICBcImhzbCgwLCAwJSwgNTAlKVwiXG4gICAgICBdLmpvaW4oXCIsXCIpXG4gICAgfVxuICB9O1xuICByZXR1cm4gcmVzdWx0O1xufTtcbnZhciBnZW5lcmF0ZUhTTF9MID0gKG9yaWVudGF0aW9uLCBkaXIsIHpWYWx1ZSkgPT4ge1xuICBjb25zdCByZXN1bHQgPSB7XG4gICAgYXJlYVN0eWxlczoge30sXG4gICAgYXJlYUdyYWRpZW50U3R5bGVzOiB7XG4gICAgICBiYWNrZ3JvdW5kSW1hZ2U6IFtcbiAgICAgICAgYGxpbmVhci1ncmFkaWVudCh0byAke29yaWVudGF0aW9uW051bWJlcighZGlyKV19LGhzbCgwLDAlLCR7elZhbHVlfSUpLGhzbGEoMCwwJSwke3pWYWx1ZX0lLDApKWAsXG4gICAgICAgIGBsaW5lYXItZ3JhZGllbnQodG8gJHtvcmllbnRhdGlvbltOdW1iZXIoZGlyKV19LGhzbCgwLDEwMCUsJHt6VmFsdWV9JSksaHNsKDYwLDEwMCUsJHt6VmFsdWV9JSksaHNsKDEyMCwxMDAlLCR7elZhbHVlfSUpLGhzbCgxODAsMTAwJSwke3pWYWx1ZX0lKSxoc2woMjQwLDEwMCUsJHt6VmFsdWV9JSksaHNsKDMwMCwxMDAlLCR7elZhbHVlfSUpLGhzbCgzNjAsMTAwJSwke3pWYWx1ZX0lKSlgXG4gICAgICBdLmpvaW4oXCIsXCIpXG4gICAgfVxuICB9O1xuICByZXR1cm4gcmVzdWx0O1xufTtcbnZhciBnZW5lcmF0ZUhTQl9IID0gKG9yaWVudGF0aW9uLCBkaXIsIHpWYWx1ZSkgPT4ge1xuICBjb25zdCByZXN1bHQgPSB7XG4gICAgYXJlYVN0eWxlczoge30sXG4gICAgYXJlYUdyYWRpZW50U3R5bGVzOiB7XG4gICAgICBiYWNrZ3JvdW5kOiBbXG4gICAgICAgIGBsaW5lYXItZ3JhZGllbnQodG8gJHtvcmllbnRhdGlvbltOdW1iZXIoZGlyKV19LGhzbCgwLDAlLDAlKSxoc2xhKDAsMCUsMCUsMCkpYCxcbiAgICAgICAgYGxpbmVhci1ncmFkaWVudCh0byAke29yaWVudGF0aW9uW051bWJlcighZGlyKV19LGhzbCgwLDAlLDEwMCUpLGhzbGEoMCwwJSwxMDAlLDApKWAsXG4gICAgICAgIGBoc2woJHt6VmFsdWV9LCAxMDAlLCA1MCUpYFxuICAgICAgXS5qb2luKFwiLFwiKVxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG52YXIgZ2VuZXJhdGVIU0JfUyA9IChvcmllbnRhdGlvbiwgZGlyLCBhbHBoYVZhbHVlKSA9PiB7XG4gIGNvbnN0IHJlc3VsdCA9IHtcbiAgICBhcmVhU3R5bGVzOiB7fSxcbiAgICBhcmVhR3JhZGllbnRTdHlsZXM6IHtcbiAgICAgIGJhY2tncm91bmQ6IFtcbiAgICAgICAgYGxpbmVhci1ncmFkaWVudCh0byAke29yaWVudGF0aW9uW051bWJlcighZGlyKV19LGhzbGEoMCwwJSwwJSwke2FscGhhVmFsdWV9KSxoc2xhKDAsMCUsMCUsMCkpYCxcbiAgICAgICAgYGxpbmVhci1ncmFkaWVudCh0byAke29yaWVudGF0aW9uW051bWJlcihkaXIpXX0saHNsYSgwLDEwMCUsNTAlLCR7YWxwaGFWYWx1ZX0pLGhzbGEoNjAsMTAwJSw1MCUsJHthbHBoYVZhbHVlfSksaHNsYSgxMjAsMTAwJSw1MCUsJHthbHBoYVZhbHVlfSksaHNsYSgxODAsMTAwJSw1MCUsJHthbHBoYVZhbHVlfSksaHNsYSgyNDAsMTAwJSw1MCUsJHthbHBoYVZhbHVlfSksaHNsYSgzMDAsMTAwJSw1MCUsJHthbHBoYVZhbHVlfSksaHNsYSgzNTksMTAwJSw1MCUsJHthbHBoYVZhbHVlfSkpYCxcbiAgICAgICAgYGxpbmVhci1ncmFkaWVudCh0byAke29yaWVudGF0aW9uW051bWJlcighZGlyKV19LGhzbCgwLDAlLDAlKSxoc2woMCwwJSwxMDAlKSlgXG4gICAgICBdLmpvaW4oXCIsXCIpXG4gICAgfVxuICB9O1xuICByZXR1cm4gcmVzdWx0O1xufTtcbnZhciBnZW5lcmF0ZUhTQl9CID0gKG9yaWVudGF0aW9uLCBkaXIsIGFscGhhVmFsdWUpID0+IHtcbiAgY29uc3QgcmVzdWx0ID0ge1xuICAgIGFyZWFTdHlsZXM6IHt9LFxuICAgIGFyZWFHcmFkaWVudFN0eWxlczoge1xuICAgICAgYmFja2dyb3VuZDogW1xuICAgICAgICBgbGluZWFyLWdyYWRpZW50KHRvICR7b3JpZW50YXRpb25bTnVtYmVyKCFkaXIpXX0saHNsYSgwLDAlLDEwMCUsJHthbHBoYVZhbHVlfSksaHNsYSgwLDAlLDEwMCUsMCkpYCxcbiAgICAgICAgYGxpbmVhci1ncmFkaWVudCh0byAke29yaWVudGF0aW9uW051bWJlcihkaXIpXX0saHNsYSgwLDEwMCUsNTAlLCR7YWxwaGFWYWx1ZX0pLGhzbGEoNjAsMTAwJSw1MCUsJHthbHBoYVZhbHVlfSksaHNsYSgxMjAsMTAwJSw1MCUsJHthbHBoYVZhbHVlfSksaHNsYSgxODAsMTAwJSw1MCUsJHthbHBoYVZhbHVlfSksaHNsYSgyNDAsMTAwJSw1MCUsJHthbHBoYVZhbHVlfSksaHNsYSgzMDAsMTAwJSw1MCUsJHthbHBoYVZhbHVlfSksaHNsYSgzNTksMTAwJSw1MCUsJHthbHBoYVZhbHVlfSkpYCxcbiAgICAgICAgXCIjMDAwXCJcbiAgICAgIF0uam9pbihcIixcIilcbiAgICB9XG4gIH07XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vLyBzcmMvYXJlYS1ncmFkaWVudC50c1xuZnVuY3Rpb24gZ2V0Q29sb3JBcmVhR3JhZGllbnQoY29sb3IsIG9wdGlvbnMpIHtcbiAgY29uc3QgeyB4Q2hhbm5lbCwgeUNoYW5uZWwsIGRpcjogZGlyUHJvcCB9ID0gb3B0aW9ucztcbiAgY29uc3QgeyB6Q2hhbm5lbCB9ID0gY29sb3IuZ2V0Q29sb3JBeGVzKHsgeENoYW5uZWwsIHlDaGFubmVsIH0pO1xuICBjb25zdCB6VmFsdWUgPSBjb2xvci5nZXRDaGFubmVsVmFsdWUoekNoYW5uZWwpO1xuICBjb25zdCB7IG1pblZhbHVlOiB6TWluLCBtYXhWYWx1ZTogek1heCB9ID0gY29sb3IuZ2V0Q2hhbm5lbFJhbmdlKHpDaGFubmVsKTtcbiAgY29uc3Qgb3JpZW50YXRpb24gPSBbXCJ0b3BcIiwgZGlyUHJvcCA9PT0gXCJydGxcIiA/IFwibGVmdFwiIDogXCJyaWdodFwiXTtcbiAgbGV0IGRpciA9IGZhbHNlO1xuICBsZXQgYmFja2dyb3VuZCA9IHsgYXJlYVN0eWxlczoge30sIGFyZWFHcmFkaWVudFN0eWxlczoge30gfTtcbiAgbGV0IGFscGhhVmFsdWUgPSAoelZhbHVlIC0gek1pbikgLyAoek1heCAtIHpNaW4pO1xuICBsZXQgaXNIU0wgPSBjb2xvci5nZXRGb3JtYXQoKSA9PT0gXCJoc2xhXCI7XG4gIHN3aXRjaCAoekNoYW5uZWwpIHtcbiAgICBjYXNlIFwicmVkXCI6IHtcbiAgICAgIGRpciA9IHhDaGFubmVsID09PSBcImdyZWVuXCI7XG4gICAgICBiYWNrZ3JvdW5kID0gZ2VuZXJhdGVSR0JfUihvcmllbnRhdGlvbiwgZGlyLCB6VmFsdWUpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgXCJncmVlblwiOiB7XG4gICAgICBkaXIgPSB4Q2hhbm5lbCA9PT0gXCJyZWRcIjtcbiAgICAgIGJhY2tncm91bmQgPSBnZW5lcmF0ZVJHQl9HKG9yaWVudGF0aW9uLCBkaXIsIHpWYWx1ZSk7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY2FzZSBcImJsdWVcIjoge1xuICAgICAgZGlyID0geENoYW5uZWwgPT09IFwicmVkXCI7XG4gICAgICBiYWNrZ3JvdW5kID0gZ2VuZXJhdGVSR0JfQihvcmllbnRhdGlvbiwgZGlyLCB6VmFsdWUpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgXCJodWVcIjoge1xuICAgICAgZGlyID0geENoYW5uZWwgIT09IFwic2F0dXJhdGlvblwiO1xuICAgICAgaWYgKGlzSFNMKSB7XG4gICAgICAgIGJhY2tncm91bmQgPSBnZW5lcmF0ZUhTTF9IKG9yaWVudGF0aW9uLCBkaXIsIHpWYWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiYWNrZ3JvdW5kID0gZ2VuZXJhdGVIU0JfSChvcmllbnRhdGlvbiwgZGlyLCB6VmFsdWUpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgXCJzYXR1cmF0aW9uXCI6IHtcbiAgICAgIGRpciA9IHhDaGFubmVsID09PSBcImh1ZVwiO1xuICAgICAgaWYgKGlzSFNMKSB7XG4gICAgICAgIGJhY2tncm91bmQgPSBnZW5lcmF0ZUhTTF9TKG9yaWVudGF0aW9uLCBkaXIsIGFscGhhVmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmFja2dyb3VuZCA9IGdlbmVyYXRlSFNCX1Mob3JpZW50YXRpb24sIGRpciwgYWxwaGFWYWx1ZSk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY2FzZSBcImJyaWdodG5lc3NcIjoge1xuICAgICAgZGlyID0geENoYW5uZWwgPT09IFwiaHVlXCI7XG4gICAgICBiYWNrZ3JvdW5kID0gZ2VuZXJhdGVIU0JfQihvcmllbnRhdGlvbiwgZGlyLCBhbHBoYVZhbHVlKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlIFwibGlnaHRuZXNzXCI6IHtcbiAgICAgIGRpciA9IHhDaGFubmVsID09PSBcImh1ZVwiO1xuICAgICAgYmFja2dyb3VuZCA9IGdlbmVyYXRlSFNMX0wob3JpZW50YXRpb24sIGRpciwgelZhbHVlKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYmFja2dyb3VuZDtcbn1cblxuLy8gc3JjL2NvbG9yLnRzXG5pbXBvcnQgeyBjbGFtcFZhbHVlLCBnZXRQZXJjZW50VmFsdWUsIGdldFZhbHVlUGVyY2VudCwgc25hcFZhbHVlVG9TdGVwIH0gZnJvbSBcIkB6YWctanMvbnVtZXJpYy1yYW5nZVwiO1xudmFyIGlzRXF1YWxPYmplY3QgPSAoYSwgYikgPT4ge1xuICBpZiAoT2JqZWN0LmtleXMoYSkubGVuZ3RoICE9PSBPYmplY3Qua2V5cyhiKS5sZW5ndGgpXG4gICAgcmV0dXJuIGZhbHNlO1xuICBmb3IgKGxldCBrZXkgaW4gYSlcbiAgICBpZiAoYVtrZXldICE9PSBiW2tleV0pXG4gICAgICByZXR1cm4gZmFsc2U7XG4gIHJldHVybiB0cnVlO1xufTtcbnZhciBDb2xvciA9IGNsYXNzIHtcbiAgdG9IZXhJbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMudG9Gb3JtYXQoXCJyZ2JhXCIpLnRvSGV4SW50KCk7XG4gIH1cbiAgZ2V0Q2hhbm5lbFZhbHVlKGNoYW5uZWwpIHtcbiAgICBpZiAoY2hhbm5lbCBpbiB0aGlzKVxuICAgICAgcmV0dXJuIHRoaXNbY2hhbm5lbF07XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgY29sb3IgY2hhbm5lbDogXCIgKyBjaGFubmVsKTtcbiAgfVxuICBnZXRDaGFubmVsVmFsdWVQZXJjZW50KGNoYW5uZWwsIHZhbHVlVG9DaGVjaykge1xuICAgIGNvbnN0IHZhbHVlID0gdmFsdWVUb0NoZWNrID8/IHRoaXMuZ2V0Q2hhbm5lbFZhbHVlKGNoYW5uZWwpO1xuICAgIGNvbnN0IHsgbWluVmFsdWUsIG1heFZhbHVlIH0gPSB0aGlzLmdldENoYW5uZWxSYW5nZShjaGFubmVsKTtcbiAgICByZXR1cm4gZ2V0VmFsdWVQZXJjZW50KHZhbHVlLCBtaW5WYWx1ZSwgbWF4VmFsdWUpO1xuICB9XG4gIGdldENoYW5uZWxQZXJjZW50VmFsdWUoY2hhbm5lbCwgcGVyY2VudFRvQ2hlY2spIHtcbiAgICBjb25zdCB7IG1pblZhbHVlLCBtYXhWYWx1ZSwgc3RlcCB9ID0gdGhpcy5nZXRDaGFubmVsUmFuZ2UoY2hhbm5lbCk7XG4gICAgY29uc3QgcGVyY2VudFZhbHVlID0gZ2V0UGVyY2VudFZhbHVlKHBlcmNlbnRUb0NoZWNrLCBtaW5WYWx1ZSwgbWF4VmFsdWUsIHN0ZXApO1xuICAgIHJldHVybiBzbmFwVmFsdWVUb1N0ZXAocGVyY2VudFZhbHVlLCBtaW5WYWx1ZSwgbWF4VmFsdWUsIHN0ZXApO1xuICB9XG4gIHdpdGhDaGFubmVsVmFsdWUoY2hhbm5lbCwgdmFsdWUpIHtcbiAgICBjb25zdCB7IG1pblZhbHVlLCBtYXhWYWx1ZSB9ID0gdGhpcy5nZXRDaGFubmVsUmFuZ2UoY2hhbm5lbCk7XG4gICAgaWYgKGNoYW5uZWwgaW4gdGhpcykge1xuICAgICAgbGV0IGNsb25lID0gdGhpcy5jbG9uZSgpO1xuICAgICAgY2xvbmVbY2hhbm5lbF0gPSBjbGFtcFZhbHVlKHZhbHVlLCBtaW5WYWx1ZSwgbWF4VmFsdWUpO1xuICAgICAgcmV0dXJuIGNsb25lO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBjb2xvciBjaGFubmVsOiBcIiArIGNoYW5uZWwpO1xuICB9XG4gIGdldENvbG9yQXhlcyh4eUNoYW5uZWxzKSB7XG4gICAgbGV0IHsgeENoYW5uZWwsIHlDaGFubmVsIH0gPSB4eUNoYW5uZWxzO1xuICAgIGxldCB4Q2ggPSB4Q2hhbm5lbCB8fCB0aGlzLmdldENoYW5uZWxzKCkuZmluZCgoYykgPT4gYyAhPT0geUNoYW5uZWwpO1xuICAgIGxldCB5Q2ggPSB5Q2hhbm5lbCB8fCB0aGlzLmdldENoYW5uZWxzKCkuZmluZCgoYykgPT4gYyAhPT0geENoKTtcbiAgICBsZXQgekNoID0gdGhpcy5nZXRDaGFubmVscygpLmZpbmQoKGMpID0+IGMgIT09IHhDaCAmJiBjICE9PSB5Q2gpO1xuICAgIHJldHVybiB7IHhDaGFubmVsOiB4Q2gsIHlDaGFubmVsOiB5Q2gsIHpDaGFubmVsOiB6Q2ggfTtcbiAgfVxuICBpbmNyZW1lbnRDaGFubmVsKGNoYW5uZWwsIHN0ZXBTaXplKSB7XG4gICAgY29uc3QgeyBtaW5WYWx1ZSwgbWF4VmFsdWUsIHN0ZXAgfSA9IHRoaXMuZ2V0Q2hhbm5lbFJhbmdlKGNoYW5uZWwpO1xuICAgIGNvbnN0IHZhbHVlID0gc25hcFZhbHVlVG9TdGVwKFxuICAgICAgY2xhbXBWYWx1ZSh0aGlzLmdldENoYW5uZWxWYWx1ZShjaGFubmVsKSArIHN0ZXBTaXplLCBtaW5WYWx1ZSwgbWF4VmFsdWUpLFxuICAgICAgbWluVmFsdWUsXG4gICAgICBtYXhWYWx1ZSxcbiAgICAgIHN0ZXBcbiAgICApO1xuICAgIHJldHVybiB0aGlzLndpdGhDaGFubmVsVmFsdWUoY2hhbm5lbCwgdmFsdWUpO1xuICB9XG4gIGRlY3JlbWVudENoYW5uZWwoY2hhbm5lbCwgc3RlcFNpemUpIHtcbiAgICByZXR1cm4gdGhpcy5pbmNyZW1lbnRDaGFubmVsKGNoYW5uZWwsIC1zdGVwU2l6ZSk7XG4gIH1cbiAgaXNFcXVhbChjb2xvcikge1xuICAgIGNvbnN0IGlzU2FtZSA9IGlzRXF1YWxPYmplY3QodGhpcy50b0pTT04oKSwgY29sb3IudG9KU09OKCkpO1xuICAgIHJldHVybiBpc1NhbWUgJiYgdGhpcy5nZXRDaGFubmVsVmFsdWUoXCJhbHBoYVwiKSA9PT0gY29sb3IuZ2V0Q2hhbm5lbFZhbHVlKFwiYWxwaGFcIik7XG4gIH1cbn07XG5cbi8vIHNyYy9oc2ItY29sb3IudHNcbmltcG9ydCB7IGNsYW1wVmFsdWUgYXMgY2xhbXBWYWx1ZTQsIG1vZCBhcyBtb2QyLCB0b0ZpeGVkTnVtYmVyIGFzIHRvRml4ZWROdW1iZXIzIH0gZnJvbSBcIkB6YWctanMvbnVtZXJpYy1yYW5nZVwiO1xuXG4vLyBzcmMvaHNsLWNvbG9yLnRzXG5pbXBvcnQgeyBjbGFtcFZhbHVlIGFzIGNsYW1wVmFsdWUzLCBtb2QsIHRvRml4ZWROdW1iZXIgYXMgdG9GaXhlZE51bWJlcjIgfSBmcm9tIFwiQHphZy1qcy9udW1lcmljLXJhbmdlXCI7XG5cbi8vIHNyYy9yZ2ItY29sb3IudHNcbmltcG9ydCB7IGNsYW1wVmFsdWUgYXMgY2xhbXBWYWx1ZTIsIHRvRml4ZWROdW1iZXIgfSBmcm9tIFwiQHphZy1qcy9udW1lcmljLXJhbmdlXCI7XG52YXIgX1JHQkNvbG9yID0gY2xhc3MgX1JHQkNvbG9yIGV4dGVuZHMgQ29sb3Ige1xuICBjb25zdHJ1Y3RvcihyZWQsIGdyZWVuLCBibHVlLCBhbHBoYSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5yZWQgPSByZWQ7XG4gICAgdGhpcy5ncmVlbiA9IGdyZWVuO1xuICAgIHRoaXMuYmx1ZSA9IGJsdWU7XG4gICAgdGhpcy5hbHBoYSA9IGFscGhhO1xuICB9XG4gIHN0YXRpYyBwYXJzZSh2YWx1ZSkge1xuICAgIGxldCBjb2xvcnMgPSBbXTtcbiAgICBpZiAoL14jW1xcZGEtZl0rJC9pLnRlc3QodmFsdWUpICYmIFs0LCA1LCA3LCA5XS5pbmNsdWRlcyh2YWx1ZS5sZW5ndGgpKSB7XG4gICAgICBjb25zdCB2YWx1ZXMgPSAodmFsdWUubGVuZ3RoIDwgNiA/IHZhbHVlLnJlcGxhY2UoL1teI10vZ2ksIFwiJCYkJlwiKSA6IHZhbHVlKS5zbGljZSgxKS5zcGxpdChcIlwiKTtcbiAgICAgIHdoaWxlICh2YWx1ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb2xvcnMucHVzaChwYXJzZUludCh2YWx1ZXMuc3BsaWNlKDAsIDIpLmpvaW4oXCJcIiksIDE2KSk7XG4gICAgICB9XG4gICAgICBjb2xvcnNbM10gPSBjb2xvcnNbM10gIT09IHZvaWQgMCA/IGNvbG9yc1szXSAvIDI1NSA6IHZvaWQgMDtcbiAgICB9XG4gICAgY29uc3QgbWF0Y2ggPSB2YWx1ZS5tYXRjaCgvXnJnYmE/XFwoKC4qKVxcKSQvKTtcbiAgICBpZiAobWF0Y2g/LlsxXSkge1xuICAgICAgY29sb3JzID0gbWF0Y2hbMV0uc3BsaXQoXCIsXCIpLm1hcCgodmFsdWUyKSA9PiBOdW1iZXIodmFsdWUyLnRyaW0oKSkpLm1hcCgobnVtLCBpKSA9PiBjbGFtcFZhbHVlMihudW0sIDAsIGkgPCAzID8gMjU1IDogMSkpO1xuICAgIH1cbiAgICByZXR1cm4gY29sb3JzLmxlbmd0aCA8IDMgPyB2b2lkIDAgOiBuZXcgX1JHQkNvbG9yKGNvbG9yc1swXSwgY29sb3JzWzFdLCBjb2xvcnNbMl0sIGNvbG9yc1szXSA/PyAxKTtcbiAgfVxuICB0b1N0cmluZyhmb3JtYXQpIHtcbiAgICBzd2l0Y2ggKGZvcm1hdCkge1xuICAgICAgY2FzZSBcImhleFwiOlxuICAgICAgICByZXR1cm4gXCIjXCIgKyAodGhpcy5yZWQudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsIFwiMFwiKSArIHRoaXMuZ3JlZW4udG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsIFwiMFwiKSArIHRoaXMuYmx1ZS50b1N0cmluZygxNikucGFkU3RhcnQoMiwgXCIwXCIpKS50b1VwcGVyQ2FzZSgpO1xuICAgICAgY2FzZSBcImhleGFcIjpcbiAgICAgICAgcmV0dXJuIFwiI1wiICsgKHRoaXMucmVkLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCBcIjBcIikgKyB0aGlzLmdyZWVuLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCBcIjBcIikgKyB0aGlzLmJsdWUudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsIFwiMFwiKSArIE1hdGgucm91bmQodGhpcy5hbHBoYSAqIDI1NSkudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsIFwiMFwiKSkudG9VcHBlckNhc2UoKTtcbiAgICAgIGNhc2UgXCJyZ2JcIjpcbiAgICAgICAgcmV0dXJuIGByZ2IoJHt0aGlzLnJlZH0sICR7dGhpcy5ncmVlbn0sICR7dGhpcy5ibHVlfSlgO1xuICAgICAgY2FzZSBcImNzc1wiOlxuICAgICAgY2FzZSBcInJnYmFcIjpcbiAgICAgICAgcmV0dXJuIGByZ2JhKCR7dGhpcy5yZWR9LCAke3RoaXMuZ3JlZW59LCAke3RoaXMuYmx1ZX0sICR7dGhpcy5hbHBoYX0pYDtcbiAgICAgIGNhc2UgXCJoc2xcIjpcbiAgICAgICAgcmV0dXJuIHRoaXMudG9IU0woKS50b1N0cmluZyhcImhzbFwiKTtcbiAgICAgIGNhc2UgXCJoc2JcIjpcbiAgICAgICAgcmV0dXJuIHRoaXMudG9IU0IoKS50b1N0cmluZyhcImhzYlwiKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB0aGlzLnRvRm9ybWF0KGZvcm1hdCkudG9TdHJpbmcoZm9ybWF0KTtcbiAgICB9XG4gIH1cbiAgdG9Gb3JtYXQoZm9ybWF0KSB7XG4gICAgc3dpdGNoIChmb3JtYXQpIHtcbiAgICAgIGNhc2UgXCJyZ2JhXCI6XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgY2FzZSBcImhzYmFcIjpcbiAgICAgICAgcmV0dXJuIHRoaXMudG9IU0IoKTtcbiAgICAgIGNhc2UgXCJoc2xhXCI6XG4gICAgICAgIHJldHVybiB0aGlzLnRvSFNMKCk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBjb2xvciBjb252ZXJzaW9uOiByZ2IgLT4gXCIgKyBmb3JtYXQpO1xuICAgIH1cbiAgfVxuICB0b0hleEludCgpIHtcbiAgICByZXR1cm4gdGhpcy5yZWQgPDwgMTYgfCB0aGlzLmdyZWVuIDw8IDggfCB0aGlzLmJsdWU7XG4gIH1cbiAgLyoqXG4gICAqIENvbnZlcnRzIGFuIFJHQiBjb2xvciB2YWx1ZSB0byBIU0IuXG4gICAqIENvbnZlcnNpb24gZm9ybXVsYSBhZGFwdGVkIGZyb20gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSFNMX2FuZF9IU1YjRnJvbV9SR0IuXG4gICAqIEByZXR1cm5zIEFuIEhTQkNvbG9yIG9iamVjdC5cbiAgICovXG4gIHRvSFNCKCkge1xuICAgIGNvbnN0IHJlZCA9IHRoaXMucmVkIC8gMjU1O1xuICAgIGNvbnN0IGdyZWVuID0gdGhpcy5ncmVlbiAvIDI1NTtcbiAgICBjb25zdCBibHVlID0gdGhpcy5ibHVlIC8gMjU1O1xuICAgIGNvbnN0IG1pbiA9IE1hdGgubWluKHJlZCwgZ3JlZW4sIGJsdWUpO1xuICAgIGNvbnN0IGJyaWdodG5lc3MgPSBNYXRoLm1heChyZWQsIGdyZWVuLCBibHVlKTtcbiAgICBjb25zdCBjaHJvbWEgPSBicmlnaHRuZXNzIC0gbWluO1xuICAgIGNvbnN0IHNhdHVyYXRpb24gPSBicmlnaHRuZXNzID09PSAwID8gMCA6IGNocm9tYSAvIGJyaWdodG5lc3M7XG4gICAgbGV0IGh1ZSA9IDA7XG4gICAgaWYgKGNocm9tYSAhPT0gMCkge1xuICAgICAgc3dpdGNoIChicmlnaHRuZXNzKSB7XG4gICAgICAgIGNhc2UgcmVkOlxuICAgICAgICAgIGh1ZSA9IChncmVlbiAtIGJsdWUpIC8gY2hyb21hICsgKGdyZWVuIDwgYmx1ZSA/IDYgOiAwKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBncmVlbjpcbiAgICAgICAgICBodWUgPSAoYmx1ZSAtIHJlZCkgLyBjaHJvbWEgKyAyO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGJsdWU6XG4gICAgICAgICAgaHVlID0gKHJlZCAtIGdyZWVuKSAvIGNocm9tYSArIDQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBodWUgLz0gNjtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBIU0JDb2xvcihcbiAgICAgIHRvRml4ZWROdW1iZXIoaHVlICogMzYwLCAyKSxcbiAgICAgIHRvRml4ZWROdW1iZXIoc2F0dXJhdGlvbiAqIDEwMCwgMiksXG4gICAgICB0b0ZpeGVkTnVtYmVyKGJyaWdodG5lc3MgKiAxMDAsIDIpLFxuICAgICAgdG9GaXhlZE51bWJlcih0aGlzLmFscGhhLCAyKVxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIENvbnZlcnRzIGFuIFJHQiBjb2xvciB2YWx1ZSB0byBIU0wuXG4gICAqIENvbnZlcnNpb24gZm9ybXVsYSBhZGFwdGVkIGZyb20gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSFNMX2FuZF9IU1YjRnJvbV9SR0IuXG4gICAqIEByZXR1cm5zIEFuIEhTTENvbG9yIG9iamVjdC5cbiAgICovXG4gIHRvSFNMKCkge1xuICAgIGNvbnN0IHJlZCA9IHRoaXMucmVkIC8gMjU1O1xuICAgIGNvbnN0IGdyZWVuID0gdGhpcy5ncmVlbiAvIDI1NTtcbiAgICBjb25zdCBibHVlID0gdGhpcy5ibHVlIC8gMjU1O1xuICAgIGNvbnN0IG1pbiA9IE1hdGgubWluKHJlZCwgZ3JlZW4sIGJsdWUpO1xuICAgIGNvbnN0IG1heCA9IE1hdGgubWF4KHJlZCwgZ3JlZW4sIGJsdWUpO1xuICAgIGNvbnN0IGxpZ2h0bmVzcyA9IChtYXggKyBtaW4pIC8gMjtcbiAgICBjb25zdCBjaHJvbWEgPSBtYXggLSBtaW47XG4gICAgbGV0IGh1ZSA9IC0xO1xuICAgIGxldCBzYXR1cmF0aW9uID0gLTE7XG4gICAgaWYgKGNocm9tYSA9PT0gMCkge1xuICAgICAgaHVlID0gc2F0dXJhdGlvbiA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNhdHVyYXRpb24gPSBjaHJvbWEgLyAobGlnaHRuZXNzIDwgMC41ID8gbWF4ICsgbWluIDogMiAtIG1heCAtIG1pbik7XG4gICAgICBzd2l0Y2ggKG1heCkge1xuICAgICAgICBjYXNlIHJlZDpcbiAgICAgICAgICBodWUgPSAoZ3JlZW4gLSBibHVlKSAvIGNocm9tYSArIChncmVlbiA8IGJsdWUgPyA2IDogMCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgZ3JlZW46XG4gICAgICAgICAgaHVlID0gKGJsdWUgLSByZWQpIC8gY2hyb21hICsgMjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBibHVlOlxuICAgICAgICAgIGh1ZSA9IChyZWQgLSBncmVlbikgLyBjaHJvbWEgKyA0O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaHVlIC89IDY7XG4gICAgfVxuICAgIHJldHVybiBuZXcgSFNMQ29sb3IoXG4gICAgICB0b0ZpeGVkTnVtYmVyKGh1ZSAqIDM2MCwgMiksXG4gICAgICB0b0ZpeGVkTnVtYmVyKHNhdHVyYXRpb24gKiAxMDAsIDIpLFxuICAgICAgdG9GaXhlZE51bWJlcihsaWdodG5lc3MgKiAxMDAsIDIpLFxuICAgICAgdG9GaXhlZE51bWJlcih0aGlzLmFscGhhLCAyKVxuICAgICk7XG4gIH1cbiAgY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBfUkdCQ29sb3IodGhpcy5yZWQsIHRoaXMuZ3JlZW4sIHRoaXMuYmx1ZSwgdGhpcy5hbHBoYSk7XG4gIH1cbiAgZ2V0Q2hhbm5lbFJhbmdlKGNoYW5uZWwpIHtcbiAgICBzd2l0Y2ggKGNoYW5uZWwpIHtcbiAgICAgIGNhc2UgXCJyZWRcIjpcbiAgICAgIGNhc2UgXCJncmVlblwiOlxuICAgICAgY2FzZSBcImJsdWVcIjpcbiAgICAgICAgcmV0dXJuIHsgbWluVmFsdWU6IDAsIG1heFZhbHVlOiAyNTUsIHN0ZXA6IDEsIHBhZ2VTaXplOiAxNyB9O1xuICAgICAgY2FzZSBcImFscGhhXCI6XG4gICAgICAgIHJldHVybiB7IG1pblZhbHVlOiAwLCBtYXhWYWx1ZTogMSwgc3RlcDogMC4wMSwgcGFnZVNpemU6IDAuMSB9O1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBjb2xvciBjaGFubmVsOiBcIiArIGNoYW5uZWwpO1xuICAgIH1cbiAgfVxuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHsgcjogdGhpcy5yZWQsIGc6IHRoaXMuZ3JlZW4sIGI6IHRoaXMuYmx1ZSwgYTogdGhpcy5hbHBoYSB9O1xuICB9XG4gIGdldEZvcm1hdCgpIHtcbiAgICByZXR1cm4gXCJyZ2JhXCI7XG4gIH1cbiAgZ2V0Q2hhbm5lbHMoKSB7XG4gICAgcmV0dXJuIF9SR0JDb2xvci5jb2xvckNoYW5uZWxzO1xuICB9XG59O1xuX19wdWJsaWNGaWVsZChfUkdCQ29sb3IsIFwiY29sb3JDaGFubmVsc1wiLCBbXCJyZWRcIiwgXCJncmVlblwiLCBcImJsdWVcIl0pO1xudmFyIFJHQkNvbG9yID0gX1JHQkNvbG9yO1xuXG4vLyBzcmMvaHNsLWNvbG9yLnRzXG52YXIgSFNMX1JFR0VYID0gL2hzbFxcKChbLStdP1xcZCsoPzouXFxkKyk/XFxzKixcXHMqWy0rXT9cXGQrKD86LlxcZCspPyVcXHMqLFxccypbLStdP1xcZCsoPzouXFxkKyk/JSlcXCl8aHNsYVxcKChbLStdP1xcZCsoPzouXFxkKyk/XFxzKixcXHMqWy0rXT9cXGQrKD86LlxcZCspPyVcXHMqLFxccypbLStdP1xcZCsoPzouXFxkKyk/JVxccyosXFxzKlstK10/XFxkKC5cXGQrKT8pXFwpLztcbnZhciBfSFNMQ29sb3IgPSBjbGFzcyBfSFNMQ29sb3IgZXh0ZW5kcyBDb2xvciB7XG4gIGNvbnN0cnVjdG9yKGh1ZSwgc2F0dXJhdGlvbiwgbGlnaHRuZXNzLCBhbHBoYSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5odWUgPSBodWU7XG4gICAgdGhpcy5zYXR1cmF0aW9uID0gc2F0dXJhdGlvbjtcbiAgICB0aGlzLmxpZ2h0bmVzcyA9IGxpZ2h0bmVzcztcbiAgICB0aGlzLmFscGhhID0gYWxwaGE7XG4gIH1cbiAgc3RhdGljIHBhcnNlKHZhbHVlKSB7XG4gICAgbGV0IG07XG4gICAgaWYgKG0gPSB2YWx1ZS5tYXRjaChIU0xfUkVHRVgpKSB7XG4gICAgICBjb25zdCBbaCwgcywgbCwgYV0gPSAobVsxXSA/PyBtWzJdKS5zcGxpdChcIixcIikubWFwKChuKSA9PiBOdW1iZXIobi50cmltKCkucmVwbGFjZShcIiVcIiwgXCJcIikpKTtcbiAgICAgIHJldHVybiBuZXcgX0hTTENvbG9yKG1vZChoLCAzNjApLCBjbGFtcFZhbHVlMyhzLCAwLCAxMDApLCBjbGFtcFZhbHVlMyhsLCAwLCAxMDApLCBjbGFtcFZhbHVlMyhhID8/IDEsIDAsIDEpKTtcbiAgICB9XG4gIH1cbiAgdG9TdHJpbmcoZm9ybWF0KSB7XG4gICAgc3dpdGNoIChmb3JtYXQpIHtcbiAgICAgIGNhc2UgXCJoZXhcIjpcbiAgICAgICAgcmV0dXJuIHRoaXMudG9SR0IoKS50b1N0cmluZyhcImhleFwiKTtcbiAgICAgIGNhc2UgXCJoZXhhXCI6XG4gICAgICAgIHJldHVybiB0aGlzLnRvUkdCKCkudG9TdHJpbmcoXCJoZXhhXCIpO1xuICAgICAgY2FzZSBcImhzbFwiOlxuICAgICAgICByZXR1cm4gYGhzbCgke3RoaXMuaHVlfSwgJHt0b0ZpeGVkTnVtYmVyMih0aGlzLnNhdHVyYXRpb24sIDIpfSUsICR7dG9GaXhlZE51bWJlcjIodGhpcy5saWdodG5lc3MsIDIpfSUpYDtcbiAgICAgIGNhc2UgXCJjc3NcIjpcbiAgICAgIGNhc2UgXCJoc2xhXCI6XG4gICAgICAgIHJldHVybiBgaHNsYSgke3RoaXMuaHVlfSwgJHt0b0ZpeGVkTnVtYmVyMih0aGlzLnNhdHVyYXRpb24sIDIpfSUsICR7dG9GaXhlZE51bWJlcjIodGhpcy5saWdodG5lc3MsIDIpfSUsICR7dGhpcy5hbHBoYX0pYDtcbiAgICAgIGNhc2UgXCJoc2JcIjpcbiAgICAgICAgcmV0dXJuIHRoaXMudG9IU0IoKS50b1N0cmluZyhcImhzYlwiKTtcbiAgICAgIGNhc2UgXCJyZ2JcIjpcbiAgICAgICAgcmV0dXJuIHRoaXMudG9SR0IoKS50b1N0cmluZyhcInJnYlwiKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB0aGlzLnRvRm9ybWF0KGZvcm1hdCkudG9TdHJpbmcoZm9ybWF0KTtcbiAgICB9XG4gIH1cbiAgdG9Gb3JtYXQoZm9ybWF0KSB7XG4gICAgc3dpdGNoIChmb3JtYXQpIHtcbiAgICAgIGNhc2UgXCJoc2xhXCI6XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgY2FzZSBcImhzYmFcIjpcbiAgICAgICAgcmV0dXJuIHRoaXMudG9IU0IoKTtcbiAgICAgIGNhc2UgXCJyZ2JhXCI6XG4gICAgICAgIHJldHVybiB0aGlzLnRvUkdCKCk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBjb2xvciBjb252ZXJzaW9uOiBoc2wgLT4gXCIgKyBmb3JtYXQpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ29udmVydHMgYSBIU0wgY29sb3IgdG8gSFNCLlxuICAgKiBDb252ZXJzaW9uIGZvcm11bGEgYWRhcHRlZCBmcm9tIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0hTTF9hbmRfSFNWI0hTTF90b19IU1YuXG4gICAqIEByZXR1cm5zIEFuIEhTQkNvbG9yIG9iamVjdC5cbiAgICovXG4gIHRvSFNCKCkge1xuICAgIGxldCBzYXR1cmF0aW9uID0gdGhpcy5zYXR1cmF0aW9uIC8gMTAwO1xuICAgIGxldCBsaWdodG5lc3MgPSB0aGlzLmxpZ2h0bmVzcyAvIDEwMDtcbiAgICBsZXQgYnJpZ2h0bmVzcyA9IGxpZ2h0bmVzcyArIHNhdHVyYXRpb24gKiBNYXRoLm1pbihsaWdodG5lc3MsIDEgLSBsaWdodG5lc3MpO1xuICAgIHNhdHVyYXRpb24gPSBicmlnaHRuZXNzID09PSAwID8gMCA6IDIgKiAoMSAtIGxpZ2h0bmVzcyAvIGJyaWdodG5lc3MpO1xuICAgIHJldHVybiBuZXcgSFNCQ29sb3IoXG4gICAgICB0b0ZpeGVkTnVtYmVyMih0aGlzLmh1ZSwgMiksXG4gICAgICB0b0ZpeGVkTnVtYmVyMihzYXR1cmF0aW9uICogMTAwLCAyKSxcbiAgICAgIHRvRml4ZWROdW1iZXIyKGJyaWdodG5lc3MgKiAxMDAsIDIpLFxuICAgICAgdG9GaXhlZE51bWJlcjIodGhpcy5hbHBoYSwgMilcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBDb252ZXJ0cyBhIEhTTCBjb2xvciB0byBSR0IuXG4gICAqIENvbnZlcnNpb24gZm9ybXVsYSBhZGFwdGVkIGZyb20gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSFNMX2FuZF9IU1YjSFNMX3RvX1JHQl9hbHRlcm5hdGl2ZS5cbiAgICogQHJldHVybnMgQW4gUkdCQ29sb3Igb2JqZWN0LlxuICAgKi9cbiAgdG9SR0IoKSB7XG4gICAgbGV0IGh1ZSA9IHRoaXMuaHVlO1xuICAgIGxldCBzYXR1cmF0aW9uID0gdGhpcy5zYXR1cmF0aW9uIC8gMTAwO1xuICAgIGxldCBsaWdodG5lc3MgPSB0aGlzLmxpZ2h0bmVzcyAvIDEwMDtcbiAgICBsZXQgYSA9IHNhdHVyYXRpb24gKiBNYXRoLm1pbihsaWdodG5lc3MsIDEgLSBsaWdodG5lc3MpO1xuICAgIGxldCBmbiA9IChuLCBrID0gKG4gKyBodWUgLyAzMCkgJSAxMikgPT4gbGlnaHRuZXNzIC0gYSAqIE1hdGgubWF4KE1hdGgubWluKGsgLSAzLCA5IC0gaywgMSksIC0xKTtcbiAgICByZXR1cm4gbmV3IFJHQkNvbG9yKFxuICAgICAgTWF0aC5yb3VuZChmbigwKSAqIDI1NSksXG4gICAgICBNYXRoLnJvdW5kKGZuKDgpICogMjU1KSxcbiAgICAgIE1hdGgucm91bmQoZm4oNCkgKiAyNTUpLFxuICAgICAgdG9GaXhlZE51bWJlcjIodGhpcy5hbHBoYSwgMilcbiAgICApO1xuICB9XG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgX0hTTENvbG9yKHRoaXMuaHVlLCB0aGlzLnNhdHVyYXRpb24sIHRoaXMubGlnaHRuZXNzLCB0aGlzLmFscGhhKTtcbiAgfVxuICBnZXRDaGFubmVsUmFuZ2UoY2hhbm5lbCkge1xuICAgIHN3aXRjaCAoY2hhbm5lbCkge1xuICAgICAgY2FzZSBcImh1ZVwiOlxuICAgICAgICByZXR1cm4geyBtaW5WYWx1ZTogMCwgbWF4VmFsdWU6IDM2MCwgc3RlcDogMSwgcGFnZVNpemU6IDE1IH07XG4gICAgICBjYXNlIFwic2F0dXJhdGlvblwiOlxuICAgICAgY2FzZSBcImxpZ2h0bmVzc1wiOlxuICAgICAgICByZXR1cm4geyBtaW5WYWx1ZTogMCwgbWF4VmFsdWU6IDEwMCwgc3RlcDogMSwgcGFnZVNpemU6IDEwIH07XG4gICAgICBjYXNlIFwiYWxwaGFcIjpcbiAgICAgICAgcmV0dXJuIHsgbWluVmFsdWU6IDAsIG1heFZhbHVlOiAxLCBzdGVwOiAwLjAxLCBwYWdlU2l6ZTogMC4xIH07XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGNvbG9yIGNoYW5uZWw6IFwiICsgY2hhbm5lbCk7XG4gICAgfVxuICB9XG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4geyBoOiB0aGlzLmh1ZSwgczogdGhpcy5zYXR1cmF0aW9uLCBsOiB0aGlzLmxpZ2h0bmVzcywgYTogdGhpcy5hbHBoYSB9O1xuICB9XG4gIGdldEZvcm1hdCgpIHtcbiAgICByZXR1cm4gXCJoc2xhXCI7XG4gIH1cbiAgZ2V0Q2hhbm5lbHMoKSB7XG4gICAgcmV0dXJuIF9IU0xDb2xvci5jb2xvckNoYW5uZWxzO1xuICB9XG59O1xuX19wdWJsaWNGaWVsZChfSFNMQ29sb3IsIFwiY29sb3JDaGFubmVsc1wiLCBbXCJodWVcIiwgXCJzYXR1cmF0aW9uXCIsIFwibGlnaHRuZXNzXCJdKTtcbnZhciBIU0xDb2xvciA9IF9IU0xDb2xvcjtcblxuLy8gc3JjL2hzYi1jb2xvci50c1xudmFyIEhTQl9SRUdFWCA9IC9oc2JcXCgoWy0rXT9cXGQrKD86LlxcZCspP1xccyosXFxzKlstK10/XFxkKyg/Oi5cXGQrKT8lXFxzKixcXHMqWy0rXT9cXGQrKD86LlxcZCspPyUpXFwpfGhzYmFcXCgoWy0rXT9cXGQrKD86LlxcZCspP1xccyosXFxzKlstK10/XFxkKyg/Oi5cXGQrKT8lXFxzKixcXHMqWy0rXT9cXGQrKD86LlxcZCspPyVcXHMqLFxccypbLStdP1xcZCguXFxkKyk/KVxcKS87XG52YXIgX0hTQkNvbG9yID0gY2xhc3MgX0hTQkNvbG9yIGV4dGVuZHMgQ29sb3Ige1xuICBjb25zdHJ1Y3RvcihodWUsIHNhdHVyYXRpb24sIGJyaWdodG5lc3MsIGFscGhhKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmh1ZSA9IGh1ZTtcbiAgICB0aGlzLnNhdHVyYXRpb24gPSBzYXR1cmF0aW9uO1xuICAgIHRoaXMuYnJpZ2h0bmVzcyA9IGJyaWdodG5lc3M7XG4gICAgdGhpcy5hbHBoYSA9IGFscGhhO1xuICB9XG4gIHN0YXRpYyBwYXJzZSh2YWx1ZSkge1xuICAgIGxldCBtO1xuICAgIGlmIChtID0gdmFsdWUubWF0Y2goSFNCX1JFR0VYKSkge1xuICAgICAgY29uc3QgW2gsIHMsIGIsIGFdID0gKG1bMV0gPz8gbVsyXSkuc3BsaXQoXCIsXCIpLm1hcCgobikgPT4gTnVtYmVyKG4udHJpbSgpLnJlcGxhY2UoXCIlXCIsIFwiXCIpKSk7XG4gICAgICByZXR1cm4gbmV3IF9IU0JDb2xvcihtb2QyKGgsIDM2MCksIGNsYW1wVmFsdWU0KHMsIDAsIDEwMCksIGNsYW1wVmFsdWU0KGIsIDAsIDEwMCksIGNsYW1wVmFsdWU0KGEgPz8gMSwgMCwgMSkpO1xuICAgIH1cbiAgfVxuICB0b1N0cmluZyhmb3JtYXQpIHtcbiAgICBzd2l0Y2ggKGZvcm1hdCkge1xuICAgICAgY2FzZSBcImNzc1wiOlxuICAgICAgICByZXR1cm4gdGhpcy50b0hTTCgpLnRvU3RyaW5nKFwiY3NzXCIpO1xuICAgICAgY2FzZSBcImhleFwiOlxuICAgICAgICByZXR1cm4gdGhpcy50b1JHQigpLnRvU3RyaW5nKFwiaGV4XCIpO1xuICAgICAgY2FzZSBcImhleGFcIjpcbiAgICAgICAgcmV0dXJuIHRoaXMudG9SR0IoKS50b1N0cmluZyhcImhleGFcIik7XG4gICAgICBjYXNlIFwiaHNiXCI6XG4gICAgICAgIHJldHVybiBgaHNiKCR7dGhpcy5odWV9LCAke3RvRml4ZWROdW1iZXIzKHRoaXMuc2F0dXJhdGlvbiwgMil9JSwgJHt0b0ZpeGVkTnVtYmVyMyh0aGlzLmJyaWdodG5lc3MsIDIpfSUpYDtcbiAgICAgIGNhc2UgXCJoc2JhXCI6XG4gICAgICAgIHJldHVybiBgaHNiYSgke3RoaXMuaHVlfSwgJHt0b0ZpeGVkTnVtYmVyMyh0aGlzLnNhdHVyYXRpb24sIDIpfSUsICR7dG9GaXhlZE51bWJlcjModGhpcy5icmlnaHRuZXNzLCAyKX0lLCAke3RoaXMuYWxwaGF9KWA7XG4gICAgICBjYXNlIFwiaHNsXCI6XG4gICAgICAgIHJldHVybiB0aGlzLnRvSFNMKCkudG9TdHJpbmcoXCJoc2xcIik7XG4gICAgICBjYXNlIFwicmdiXCI6XG4gICAgICAgIHJldHVybiB0aGlzLnRvUkdCKCkudG9TdHJpbmcoXCJyZ2JcIik7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gdGhpcy50b0Zvcm1hdChmb3JtYXQpLnRvU3RyaW5nKGZvcm1hdCk7XG4gICAgfVxuICB9XG4gIHRvRm9ybWF0KGZvcm1hdCkge1xuICAgIHN3aXRjaCAoZm9ybWF0KSB7XG4gICAgICBjYXNlIFwiaHNiYVwiOlxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIGNhc2UgXCJoc2xhXCI6XG4gICAgICAgIHJldHVybiB0aGlzLnRvSFNMKCk7XG4gICAgICBjYXNlIFwicmdiYVwiOlxuICAgICAgICByZXR1cm4gdGhpcy50b1JHQigpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgY29sb3IgY29udmVyc2lvbjogaHNiIC0+IFwiICsgZm9ybWF0KTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENvbnZlcnRzIGEgSFNCIGNvbG9yIHRvIEhTTC5cbiAgICogQ29udmVyc2lvbiBmb3JtdWxhIGFkYXB0ZWQgZnJvbSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9IU0xfYW5kX0hTViNIU1ZfdG9fSFNMLlxuICAgKiBAcmV0dXJucyBBbiBIU0xDb2xvciBvYmplY3QuXG4gICAqL1xuICB0b0hTTCgpIHtcbiAgICBsZXQgc2F0dXJhdGlvbiA9IHRoaXMuc2F0dXJhdGlvbiAvIDEwMDtcbiAgICBsZXQgYnJpZ2h0bmVzcyA9IHRoaXMuYnJpZ2h0bmVzcyAvIDEwMDtcbiAgICBsZXQgbGlnaHRuZXNzID0gYnJpZ2h0bmVzcyAqICgxIC0gc2F0dXJhdGlvbiAvIDIpO1xuICAgIHNhdHVyYXRpb24gPSBsaWdodG5lc3MgPT09IDAgfHwgbGlnaHRuZXNzID09PSAxID8gMCA6IChicmlnaHRuZXNzIC0gbGlnaHRuZXNzKSAvIE1hdGgubWluKGxpZ2h0bmVzcywgMSAtIGxpZ2h0bmVzcyk7XG4gICAgcmV0dXJuIG5ldyBIU0xDb2xvcihcbiAgICAgIHRvRml4ZWROdW1iZXIzKHRoaXMuaHVlLCAyKSxcbiAgICAgIHRvRml4ZWROdW1iZXIzKHNhdHVyYXRpb24gKiAxMDAsIDIpLFxuICAgICAgdG9GaXhlZE51bWJlcjMobGlnaHRuZXNzICogMTAwLCAyKSxcbiAgICAgIHRvRml4ZWROdW1iZXIzKHRoaXMuYWxwaGEsIDIpXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogQ29udmVydHMgYSBIU1YgY29sb3IgdmFsdWUgdG8gUkdCLlxuICAgKiBDb252ZXJzaW9uIGZvcm11bGEgYWRhcHRlZCBmcm9tIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0hTTF9hbmRfSFNWI0hTVl90b19SR0JfYWx0ZXJuYXRpdmUuXG4gICAqIEByZXR1cm5zIEFuIFJHQkNvbG9yIG9iamVjdC5cbiAgICovXG4gIHRvUkdCKCkge1xuICAgIGxldCBodWUgPSB0aGlzLmh1ZTtcbiAgICBsZXQgc2F0dXJhdGlvbiA9IHRoaXMuc2F0dXJhdGlvbiAvIDEwMDtcbiAgICBsZXQgYnJpZ2h0bmVzcyA9IHRoaXMuYnJpZ2h0bmVzcyAvIDEwMDtcbiAgICBsZXQgZm4gPSAobiwgayA9IChuICsgaHVlIC8gNjApICUgNikgPT4gYnJpZ2h0bmVzcyAtIHNhdHVyYXRpb24gKiBicmlnaHRuZXNzICogTWF0aC5tYXgoTWF0aC5taW4oaywgNCAtIGssIDEpLCAwKTtcbiAgICByZXR1cm4gbmV3IFJHQkNvbG9yKFxuICAgICAgTWF0aC5yb3VuZChmbig1KSAqIDI1NSksXG4gICAgICBNYXRoLnJvdW5kKGZuKDMpICogMjU1KSxcbiAgICAgIE1hdGgucm91bmQoZm4oMSkgKiAyNTUpLFxuICAgICAgdG9GaXhlZE51bWJlcjModGhpcy5hbHBoYSwgMilcbiAgICApO1xuICB9XG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgX0hTQkNvbG9yKHRoaXMuaHVlLCB0aGlzLnNhdHVyYXRpb24sIHRoaXMuYnJpZ2h0bmVzcywgdGhpcy5hbHBoYSk7XG4gIH1cbiAgZ2V0Q2hhbm5lbFJhbmdlKGNoYW5uZWwpIHtcbiAgICBzd2l0Y2ggKGNoYW5uZWwpIHtcbiAgICAgIGNhc2UgXCJodWVcIjpcbiAgICAgICAgcmV0dXJuIHsgbWluVmFsdWU6IDAsIG1heFZhbHVlOiAzNjAsIHN0ZXA6IDEsIHBhZ2VTaXplOiAxNSB9O1xuICAgICAgY2FzZSBcInNhdHVyYXRpb25cIjpcbiAgICAgIGNhc2UgXCJicmlnaHRuZXNzXCI6XG4gICAgICAgIHJldHVybiB7IG1pblZhbHVlOiAwLCBtYXhWYWx1ZTogMTAwLCBzdGVwOiAxLCBwYWdlU2l6ZTogMTAgfTtcbiAgICAgIGNhc2UgXCJhbHBoYVwiOlxuICAgICAgICByZXR1cm4geyBtaW5WYWx1ZTogMCwgbWF4VmFsdWU6IDEsIHN0ZXA6IDAuMDEsIHBhZ2VTaXplOiAwLjEgfTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gY29sb3IgY2hhbm5lbDogXCIgKyBjaGFubmVsKTtcbiAgICB9XG4gIH1cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7IGg6IHRoaXMuaHVlLCBzOiB0aGlzLnNhdHVyYXRpb24sIGI6IHRoaXMuYnJpZ2h0bmVzcywgYTogdGhpcy5hbHBoYSB9O1xuICB9XG4gIGdldEZvcm1hdCgpIHtcbiAgICByZXR1cm4gXCJoc2JhXCI7XG4gIH1cbiAgZ2V0Q2hhbm5lbHMoKSB7XG4gICAgcmV0dXJuIF9IU0JDb2xvci5jb2xvckNoYW5uZWxzO1xuICB9XG59O1xuX19wdWJsaWNGaWVsZChfSFNCQ29sb3IsIFwiY29sb3JDaGFubmVsc1wiLCBbXCJodWVcIiwgXCJzYXR1cmF0aW9uXCIsIFwiYnJpZ2h0bmVzc1wiXSk7XG52YXIgSFNCQ29sb3IgPSBfSFNCQ29sb3I7XG5cbi8vIHNyYy9uYXRpdmUtY29sb3IudHNcbnZhciBuYXRpdmVDb2xvcnMgPSBcImFsaWNlYmx1ZTpmMGY4ZmYsYW50aXF1ZXdoaXRlOmZhZWJkNyxhcXVhOjAwZmZmZixhcXVhbWFyaW5lOjdmZmZkNCxhenVyZTpmMGZmZmYsYmVpZ2U6ZjVmNWRjLGJpc3F1ZTpmZmU0YzQsYmxhY2s6MDAwMDAwLGJsYW5jaGVkYWxtb25kOmZmZWJjZCxibHVlOjAwMDBmZixibHVldmlvbGV0OjhhMmJlMixicm93bjphNTJhMmEsYnVybHl3b29kOmRlYjg4NyxjYWRldGJsdWU6NWY5ZWEwLGNoYXJ0cmV1c2U6N2ZmZjAwLGNob2NvbGF0ZTpkMjY5MWUsY29yYWw6ZmY3ZjUwLGNvcm5mbG93ZXJibHVlOjY0OTVlZCxjb3Juc2lsazpmZmY4ZGMsY3JpbXNvbjpkYzE0M2MsY3lhbjowMGZmZmYsZGFya2JsdWU6MDAwMDhiLGRhcmtjeWFuOjAwOGI4YixkYXJrZ29sZGVucm9kOmI4ODYwYixkYXJrZ3JheTphOWE5YTksZGFya2dyZWVuOjAwNjQwMCxkYXJra2hha2k6YmRiNzZiLGRhcmttYWdlbnRhOjhiMDA4YixkYXJrb2xpdmVncmVlbjo1NTZiMmYsZGFya29yYW5nZTpmZjhjMDAsZGFya29yY2hpZDo5OTMyY2MsZGFya3JlZDo4YjAwMDAsZGFya3NhbG1vbjplOTk2N2EsZGFya3NlYWdyZWVuOjhmYmM4ZixkYXJrc2xhdGVibHVlOjQ4M2Q4YixkYXJrc2xhdGVncmF5OjJmNGY0ZixkYXJrdHVycXVvaXNlOjAwY2VkMSxkYXJrdmlvbGV0Ojk0MDBkMyxkZWVwcGluazpmZjE0OTMsZGVlcHNreWJsdWU6MDBiZmZmLGRpbWdyYXk6Njk2OTY5LGRvZGdlcmJsdWU6MWU5MGZmLGZpcmVicmljazpiMjIyMjIsZmxvcmFsd2hpdGU6ZmZmYWYwLGZvcmVzdGdyZWVuOjIyOGIyMixmdWNoc2lhOmZmMDBmZixnYWluc2Jvcm86ZGNkY2RjLGdob3N0d2hpdGU6ZjhmOGZmLGdvbGQ6ZmZkNzAwLGdvbGRlbnJvZDpkYWE1MjAsZ3JheTo4MDgwODAsZ3JlZW46MDA4MDAwLGdyZWVueWVsbG93OmFkZmYyZixob25leWRldzpmMGZmZjAsaG90cGluazpmZjY5YjQsaW5kaWFucmVkOmNkNWM1YyxpbmRpZ286NGIwMDgyLGl2b3J5OmZmZmZmMCxraGFraTpmMGU2OGMsbGF2ZW5kZXI6ZTZlNmZhLGxhdmVuZGVyYmx1c2g6ZmZmMGY1LGxhd25ncmVlbjo3Y2ZjMDAsbGVtb25jaGlmZm9uOmZmZmFjZCxsaWdodGJsdWU6YWRkOGU2LGxpZ2h0Y29yYWw6ZjA4MDgwLGxpZ2h0Y3lhbjplMGZmZmYsbGlnaHRnb2xkZW5yb2R5ZWxsb3c6ZmFmYWQyLGxpZ2h0Z3JleTpkM2QzZDMsbGlnaHRncmVlbjo5MGVlOTAsbGlnaHRwaW5rOmZmYjZjMSxsaWdodHNhbG1vbjpmZmEwN2EsbGlnaHRzZWFncmVlbjoyMGIyYWEsbGlnaHRza3libHVlOjg3Y2VmYSxsaWdodHNsYXRlZ3JheTo3Nzg4OTksbGlnaHRzdGVlbGJsdWU6YjBjNGRlLGxpZ2h0eWVsbG93OmZmZmZlMCxsaW1lOjAwZmYwMCxsaW1lZ3JlZW46MzJjZDMyLGxpbmVuOmZhZjBlNixtYWdlbnRhOmZmMDBmZixtYXJvb246ODAwMDAwLG1lZGl1bWFxdWFtYXJpbmU6NjZjZGFhLG1lZGl1bWJsdWU6MDAwMGNkLG1lZGl1bW9yY2hpZDpiYTU1ZDMsbWVkaXVtcHVycGxlOjkzNzBkOCxtZWRpdW1zZWFncmVlbjozY2IzNzEsbWVkaXVtc2xhdGVibHVlOjdiNjhlZSxtZWRpdW1zcHJpbmdncmVlbjowMGZhOWEsbWVkaXVtdHVycXVvaXNlOjQ4ZDFjYyxtZWRpdW12aW9sZXRyZWQ6YzcxNTg1LG1pZG5pZ2h0Ymx1ZToxOTE5NzAsbWludGNyZWFtOmY1ZmZmYSxtaXN0eXJvc2U6ZmZlNGUxLG1vY2Nhc2luOmZmZTRiNSxuYXZham93aGl0ZTpmZmRlYWQsbmF2eTowMDAwODAsb2xkbGFjZTpmZGY1ZTYsb2xpdmU6ODA4MDAwLG9saXZlZHJhYjo2YjhlMjMsb3JhbmdlOmZmYTUwMCxvcmFuZ2VyZWQ6ZmY0NTAwLG9yY2hpZDpkYTcwZDYscGFsZWdvbGRlbnJvZDplZWU4YWEscGFsZWdyZWVuOjk4ZmI5OCxwYWxldHVycXVvaXNlOmFmZWVlZSxwYWxldmlvbGV0cmVkOmQ4NzA5MyxwYXBheWF3aGlwOmZmZWZkNSxwZWFjaHB1ZmY6ZmZkYWI5LHBlcnU6Y2Q4NTNmLHBpbms6ZmZjMGNiLHBsdW06ZGRhMGRkLHBvd2RlcmJsdWU6YjBlMGU2LHB1cnBsZTo4MDAwODAscmVkOmZmMDAwMCxyb3N5YnJvd246YmM4ZjhmLHJveWFsYmx1ZTo0MTY5ZTEsc2FkZGxlYnJvd246OGI0NTEzLHNhbG1vbjpmYTgwNzIsc2FuZHlicm93bjpmNGE0NjAsc2VhZ3JlZW46MmU4YjU3LHNlYXNoZWxsOmZmZjVlZSxzaWVubmE6YTA1MjJkLHNpbHZlcjpjMGMwYzAsc2t5Ymx1ZTo4N2NlZWIsc2xhdGVibHVlOjZhNWFjZCxzbGF0ZWdyYXk6NzA4MDkwLHNub3c6ZmZmYWZhLHNwcmluZ2dyZWVuOjAwZmY3ZixzdGVlbGJsdWU6NDY4MmI0LHRhbjpkMmI0OGMsdGVhbDowMDgwODAsdGhpc3RsZTpkOGJmZDgsdG9tYXRvOmZmNjM0Nyx0dXJxdW9pc2U6NDBlMGQwLHZpb2xldDplZTgyZWUsd2hlYXQ6ZjVkZWIzLHdoaXRlOmZmZmZmZix3aGl0ZXNtb2tlOmY1ZjVmNSx5ZWxsb3c6ZmZmZjAwLHllbGxvd2dyZWVuOjlhY2QzMlwiO1xudmFyIG1ha2VNYXAgPSAoc3RyKSA9PiB7XG4gIGNvbnN0IG1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGNvbnN0IGxpc3QgPSBzdHIuc3BsaXQoXCIsXCIpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBba2V5LCB2YWxdID0gbGlzdFtpXS5zcGxpdChcIjpcIik7XG4gICAgbWFwLnNldChrZXksIGAjJHt2YWx9YCk7XG4gIH1cbiAgcmV0dXJuIG1hcDtcbn07XG52YXIgbmF0aXZlQ29sb3JNYXAgPSBtYWtlTWFwKG5hdGl2ZUNvbG9ycyk7XG5cbi8vIHNyYy9wYXJzZS1jb2xvci50c1xudmFyIHBhcnNlQ29sb3IgPSAodmFsdWUpID0+IHtcbiAgaWYgKG5hdGl2ZUNvbG9yTWFwLmhhcyh2YWx1ZSkpIHtcbiAgICByZXR1cm4gcGFyc2VDb2xvcihuYXRpdmVDb2xvck1hcC5nZXQodmFsdWUpKTtcbiAgfVxuICBjb25zdCByZXN1bHQgPSBSR0JDb2xvci5wYXJzZSh2YWx1ZSkgfHwgSFNCQ29sb3IucGFyc2UodmFsdWUpIHx8IEhTTENvbG9yLnBhcnNlKHZhbHVlKTtcbiAgaWYgKCFyZXN1bHQpIHtcbiAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihcIkludmFsaWQgY29sb3IgdmFsdWU6IFwiICsgdmFsdWUpO1xuICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlPy4oZXJyb3IsIHBhcnNlQ29sb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xudmFyIG5vcm1hbGl6ZUNvbG9yID0gKHYpID0+IHtcbiAgcmV0dXJuIHR5cGVvZiB2ID09PSBcInN0cmluZ1wiID8gcGFyc2VDb2xvcih2KSA6IHY7XG59O1xuZXhwb3J0IHtcbiAgQ29sb3IsXG4gIGdldENvbG9yQXJlYUdyYWRpZW50LFxuICBub3JtYWxpemVDb2xvcixcbiAgcGFyc2VDb2xvclxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/color-utils/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/combobox/dist/index.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@zag-js/combobox/dist/index.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   anatomy: () => (/* binding */ anatomy),\n/* harmony export */   collection: () => (/* binding */ collection),\n/* harmony export */   connect: () => (/* binding */ connect),\n/* harmony export */   machine: () => (/* binding */ machine)\n/* harmony export */ });\n/* harmony import */ var _zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/anatomy */ \"(ssr)/./node_modules/@zag-js/anatomy/dist/index.mjs\");\n/* harmony import */ var _zag_js_collection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @zag-js/collection */ \"(ssr)/./node_modules/@zag-js/collection/dist/index.mjs\");\n/* harmony import */ var _zag_js_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @zag-js/core */ \"(ssr)/./node_modules/@zag-js/store/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_event__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @zag-js/dom-event */ \"(ssr)/./node_modules/@zag-js/dom-event/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @zag-js/dom-query */ \"(ssr)/./node_modules/@zag-js/dom-query/dist/index.mjs\");\n/* harmony import */ var _zag_js_popper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @zag-js/popper */ \"(ssr)/./node_modules/@zag-js/popper/dist/index.mjs\");\n/* harmony import */ var _zag_js_aria_hidden__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @zag-js/aria-hidden */ \"(ssr)/./node_modules/@zag-js/aria-hidden/dist/index.mjs\");\n/* harmony import */ var _zag_js_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @zag-js/core */ \"(ssr)/./node_modules/@zag-js/core/dist/index.mjs\");\n/* harmony import */ var _zag_js_dismissable__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @zag-js/dismissable */ \"(ssr)/./node_modules/@zag-js/dismissable/dist/index.mjs\");\n/* harmony import */ var _zag_js_mutation_observer__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @zag-js/mutation-observer */ \"(ssr)/./node_modules/@zag-js/mutation-observer/dist/index.mjs\");\n/* harmony import */ var _zag_js_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @zag-js/utils */ \"(ssr)/./node_modules/@zag-js/utils/dist/index.mjs\");\n// src/combobox.anatomy.ts\n\nvar anatomy = (0,_zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__.createAnatomy)(\"combobox\").parts(\n  \"root\",\n  \"label\",\n  \"input\",\n  \"positioner\",\n  \"control\",\n  \"trigger\",\n  \"content\",\n  \"clearTrigger\",\n  \"item\",\n  \"itemText\",\n  \"itemIndicator\",\n  \"itemGroup\",\n  \"itemGroupLabel\"\n);\nvar parts = anatomy.build();\n\n// src/combobox.collection.ts\n\n\nvar collection = (options) => {\n  return (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_1__.ref)(new _zag_js_collection__WEBPACK_IMPORTED_MODULE_2__.Collection(options));\n};\ncollection.empty = () => {\n  return (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_1__.ref)(new _zag_js_collection__WEBPACK_IMPORTED_MODULE_2__.Collection({ items: [] }));\n};\n\n// src/combobox.connect.ts\n\n\n\n\n// src/combobox.dom.ts\n\nvar dom = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.createScope)({\n  getRootId: (ctx) => ctx.ids?.root ?? `combobox:${ctx.id}`,\n  getLabelId: (ctx) => ctx.ids?.label ?? `combobox:${ctx.id}:label`,\n  getControlId: (ctx) => ctx.ids?.control ?? `combobox:${ctx.id}:control`,\n  getInputId: (ctx) => ctx.ids?.input ?? `combobox:${ctx.id}:input`,\n  getContentId: (ctx) => ctx.ids?.content ?? `combobox:${ctx.id}:content`,\n  getPositionerId: (ctx) => ctx.ids?.positioner ?? `combobox:${ctx.id}:popper`,\n  getTriggerId: (ctx) => ctx.ids?.trigger ?? `combobox:${ctx.id}:toggle-btn`,\n  getClearTriggerId: (ctx) => ctx.ids?.clearTrigger ?? `combobox:${ctx.id}:clear-btn`,\n  getItemGroupId: (ctx, id) => ctx.ids?.itemGroup?.(id) ?? `combobox:${ctx.id}:optgroup:${id}`,\n  getItemGroupLabelId: (ctx, id) => ctx.ids?.itemGroupLabel?.(id) ?? `combobox:${ctx.id}:optgroup-label:${id}`,\n  getItemId: (ctx, id) => `combobox:${ctx.id}:option:${id}`,\n  getContentEl: (ctx) => dom.getById(ctx, dom.getContentId(ctx)),\n  getInputEl: (ctx) => dom.getById(ctx, dom.getInputId(ctx)),\n  getPositionerEl: (ctx) => dom.getById(ctx, dom.getPositionerId(ctx)),\n  getControlEl: (ctx) => dom.getById(ctx, dom.getControlId(ctx)),\n  getTriggerEl: (ctx) => dom.getById(ctx, dom.getTriggerId(ctx)),\n  getClearTriggerEl: (ctx) => dom.getById(ctx, dom.getClearTriggerId(ctx)),\n  isInputFocused: (ctx) => dom.getDoc(ctx).activeElement === dom.getInputEl(ctx),\n  getHighlightedItemEl: (ctx) => {\n    const value = ctx.highlightedValue;\n    if (value == null)\n      return;\n    return dom.getContentEl(ctx)?.querySelector(`[role=option][data-value=\"${CSS.escape(value)}\"`);\n  }\n});\n\n// src/combobox.connect.ts\nfunction connect(state, send, normalize) {\n  const translations = state.context.translations;\n  const collection2 = state.context.collection;\n  const isDisabled = state.context.disabled;\n  const isInteractive = state.context.isInteractive;\n  const isInvalid = state.context.invalid;\n  const isReadOnly = state.context.readOnly;\n  const isOpen = state.hasTag(\"open\");\n  const isFocused = state.hasTag(\"focused\");\n  const popperStyles = (0,_zag_js_popper__WEBPACK_IMPORTED_MODULE_4__.getPlacementStyles)({\n    ...state.context.positioning,\n    placement: state.context.currentPlacement\n  });\n  function getItemState(props) {\n    const { item } = props;\n    const value = collection2.itemToValue(item);\n    return {\n      value,\n      isDisabled: collection2.isItemDisabled(item),\n      isHighlighted: state.context.highlightedValue === value,\n      isSelected: state.context.value.includes(value)\n    };\n  }\n  return {\n    isFocused,\n    isOpen,\n    inputValue: state.context.inputValue,\n    isInputValueEmpty: state.context.isInputValueEmpty,\n    highlightedValue: state.context.highlightedValue,\n    highlightedItem: state.context.highlightedItem,\n    value: state.context.value,\n    valueAsString: state.context.valueAsString,\n    hasSelectedItems: state.context.hasSelectedItems,\n    selectedItems: state.context.selectedItems,\n    reposition(options = {}) {\n      send({ type: \"POSITIONING.SET\", options });\n    },\n    setCollection(collection3) {\n      send({ type: \"COLLECTION.SET\", value: collection3 });\n    },\n    highlightValue(value) {\n      send({ type: \"HIGHLIGHTED_VALUE.SET\", value });\n    },\n    selectValue(value) {\n      send({ type: \"ITEM.SELECT\", value });\n    },\n    setValue(value) {\n      send({ type: \"VALUE.SET\", value });\n    },\n    setInputValue(value) {\n      send({ type: \"INPUT_VALUE.SET\", value });\n    },\n    clearValue(value) {\n      if (value != null) {\n        send({ type: \"ITEM.CLEAR\", value });\n      } else {\n        send(\"VALUE.CLEAR\");\n      }\n    },\n    focus() {\n      dom.getInputEl(state.context)?.focus();\n    },\n    open() {\n      send(\"OPEN\");\n    },\n    close() {\n      send(\"CLOSE\");\n    },\n    rootProps: normalize.element({\n      ...parts.root.attrs,\n      dir: state.context.dir,\n      id: dom.getRootId(state.context),\n      \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.dataAttr)(isInvalid),\n      \"data-readonly\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.dataAttr)(isReadOnly)\n    }),\n    labelProps: normalize.label({\n      ...parts.label.attrs,\n      dir: state.context.dir,\n      htmlFor: dom.getInputId(state.context),\n      id: dom.getLabelId(state.context),\n      \"data-readonly\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.dataAttr)(isReadOnly),\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.dataAttr)(isDisabled),\n      \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.dataAttr)(isInvalid),\n      \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.dataAttr)(isFocused)\n    }),\n    controlProps: normalize.element({\n      ...parts.control.attrs,\n      dir: state.context.dir,\n      id: dom.getControlId(state.context),\n      \"data-state\": isOpen ? \"open\" : \"closed\",\n      \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.dataAttr)(isFocused),\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.dataAttr)(isDisabled),\n      \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.dataAttr)(isInvalid)\n    }),\n    positionerProps: normalize.element({\n      ...parts.positioner.attrs,\n      dir: state.context.dir,\n      id: dom.getPositionerId(state.context),\n      style: popperStyles.floating\n    }),\n    inputProps: normalize.input({\n      ...parts.input.attrs,\n      dir: state.context.dir,\n      \"aria-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.ariaAttr)(isInvalid),\n      \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.dataAttr)(isInvalid),\n      name: state.context.name,\n      form: state.context.form,\n      disabled: isDisabled,\n      autoFocus: state.context.autoFocus,\n      autoComplete: \"off\",\n      autoCorrect: \"off\",\n      autoCapitalize: \"none\",\n      spellCheck: \"false\",\n      readOnly: isReadOnly,\n      placeholder: state.context.placeholder,\n      id: dom.getInputId(state.context),\n      type: \"text\",\n      role: \"combobox\",\n      defaultValue: state.context.inputValue || state.context.valueAsString,\n      \"aria-autocomplete\": state.context.autoComplete ? \"both\" : \"list\",\n      \"aria-controls\": isOpen ? dom.getContentId(state.context) : void 0,\n      \"aria-expanded\": isOpen,\n      \"data-state\": isOpen ? \"open\" : \"closed\",\n      \"aria-activedescendant\": state.context.highlightedValue ? dom.getItemId(state.context, state.context.highlightedValue) : void 0,\n      onCompositionStart() {\n        send(\"INPUT.COMPOSITION_START\");\n      },\n      onCompositionEnd() {\n        (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.raf)(() => {\n          send(\"INPUT.COMPOSITION_END\");\n        });\n      },\n      onClick() {\n        if (!isInteractive)\n          return;\n        send(\"INPUT.CLICK\");\n      },\n      onFocus() {\n        if (isDisabled)\n          return;\n        send(\"INPUT.FOCUS\");\n      },\n      onChange(event) {\n        send({ type: \"INPUT.CHANGE\", value: event.currentTarget.value });\n      },\n      onKeyDown(event) {\n        if (!isInteractive)\n          return;\n        const evt = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_5__.getNativeEvent)(event);\n        if (evt.ctrlKey || evt.shiftKey || evt.isComposing)\n          return;\n        const keymap = {\n          ArrowDown(event2) {\n            send({ type: event2.altKey ? \"INPUT.ARROW_DOWN+ALT\" : \"INPUT.ARROW_DOWN\" });\n            event2.preventDefault();\n            event2.stopPropagation();\n          },\n          ArrowUp() {\n            send(event.altKey ? \"INPUT.ARROW_UP+ALT\" : \"INPUT.ARROW_UP\");\n            event.preventDefault();\n            event.stopPropagation();\n          },\n          Home(event2) {\n            const isModified = event2.ctrlKey || event2.metaKey || event2.shiftKey;\n            if (isModified)\n              return;\n            send(\"INPUT.HOME\");\n            if (isOpen) {\n              event2.preventDefault();\n              event2.stopPropagation();\n            }\n          },\n          End(event2) {\n            const isModified = event2.ctrlKey || event2.metaKey || event2.shiftKey;\n            if (isModified)\n              return;\n            send(\"INPUT.END\");\n            if (isOpen) {\n              event2.preventDefault();\n              event2.stopPropagation();\n            }\n          },\n          Enter() {\n            if (state.context.composing)\n              return;\n            send(\"INPUT.ENTER\");\n            event.preventDefault();\n            event.stopPropagation();\n          },\n          Escape() {\n            send(\"INPUT.ESCAPE\");\n            event.preventDefault();\n          }\n        };\n        const key = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_5__.getEventKey)(event, state.context);\n        const exec = keymap[key];\n        exec?.(event);\n      }\n    }),\n    triggerProps: normalize.button({\n      ...parts.trigger.attrs,\n      dir: state.context.dir,\n      id: dom.getTriggerId(state.context),\n      \"aria-haspopup\": \"listbox\",\n      type: \"button\",\n      tabIndex: -1,\n      \"aria-label\": translations.triggerLabel,\n      \"aria-expanded\": isOpen,\n      \"data-state\": isOpen ? \"open\" : \"closed\",\n      \"aria-controls\": isOpen ? dom.getContentId(state.context) : void 0,\n      disabled: isDisabled,\n      \"data-readonly\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.dataAttr)(isReadOnly),\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.dataAttr)(isDisabled),\n      onPointerDown(event) {\n        const evt = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_5__.getNativeEvent)(event);\n        if (!isInteractive || !(0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_5__.isLeftClick)(evt) || evt.pointerType === \"touch\")\n          return;\n        send(\"TRIGGER.CLICK\");\n        event.preventDefault();\n      },\n      onPointerUp(event) {\n        if (event.pointerType !== \"touch\")\n          return;\n        send(\"TRIGGER.CLICK\");\n      },\n      style: { outline: 0 }\n    }),\n    contentProps: normalize.element({\n      ...parts.content.attrs,\n      dir: state.context.dir,\n      id: dom.getContentId(state.context),\n      role: \"listbox\",\n      tabIndex: -1,\n      hidden: !isOpen,\n      \"data-state\": isOpen ? \"open\" : \"closed\",\n      \"aria-labelledby\": dom.getLabelId(state.context),\n      \"aria-multiselectable\": state.context.multiple ? true : void 0,\n      onPointerDown(event) {\n        event.preventDefault();\n      }\n    }),\n    clearTriggerProps: normalize.button({\n      ...parts.clearTrigger.attrs,\n      dir: state.context.dir,\n      id: dom.getClearTriggerId(state.context),\n      type: \"button\",\n      tabIndex: -1,\n      disabled: isDisabled,\n      \"aria-label\": translations.clearTriggerLabel,\n      hidden: state.context.isInputValueEmpty,\n      onPointerDown(event) {\n        const evt = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_5__.getNativeEvent)(event);\n        if (!isInteractive || !(0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_5__.isLeftClick)(evt))\n          return;\n        send({ type: \"VALUE.CLEAR\", src: \"clear-trigger\" });\n        event.preventDefault();\n      }\n    }),\n    getItemState,\n    getItemProps(props) {\n      const itemState = getItemState(props);\n      const value = itemState.value;\n      return normalize.element({\n        ...parts.item.attrs,\n        dir: state.context.dir,\n        id: dom.getItemId(state.context, value),\n        role: \"option\",\n        tabIndex: -1,\n        \"data-highlighted\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.dataAttr)(itemState.isHighlighted),\n        \"data-state\": itemState.isSelected ? \"checked\" : \"unchecked\",\n        \"aria-selected\": itemState.isHighlighted,\n        \"aria-disabled\": itemState.isDisabled,\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.dataAttr)(itemState.isDisabled),\n        \"data-value\": itemState.value,\n        onPointerMove() {\n          if (itemState.isDisabled)\n            return;\n          send({ type: \"ITEM.POINTER_OVER\", value });\n        },\n        onPointerLeave() {\n          if (itemState.isDisabled)\n            return;\n          send({ type: \"ITEM.POINTER_LEAVE\", value });\n        },\n        onPointerUp(event) {\n          if (itemState.isDisabled || (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_5__.isContextMenuEvent)(event))\n            return;\n          send({ type: \"ITEM.CLICK\", src: \"pointerup\", value });\n        }\n      });\n    },\n    getItemTextProps(props) {\n      const itemState = getItemState(props);\n      return normalize.element({\n        ...parts.itemText.attrs,\n        dir: state.context.dir,\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.dataAttr)(itemState.isDisabled),\n        \"data-highlighted\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.dataAttr)(itemState.isHighlighted)\n      });\n    },\n    getItemIndicatorProps(props) {\n      const itemState = getItemState(props);\n      return normalize.element({\n        \"aria-hidden\": true,\n        ...parts.itemIndicator.attrs,\n        dir: state.context.dir,\n        \"data-state\": itemState.isSelected ? \"checked\" : \"unchecked\",\n        hidden: !itemState.isSelected\n      });\n    },\n    getItemGroupProps(props) {\n      const { id } = props;\n      return normalize.element({\n        ...parts.itemGroup.attrs,\n        dir: state.context.dir,\n        id: dom.getItemGroupId(state.context, id),\n        \"aria-labelledby\": dom.getItemGroupLabelId(state.context, id)\n      });\n    },\n    getItemGroupLabelProps(props) {\n      const { htmlFor } = props;\n      return normalize.element({\n        ...parts.itemGroupLabel.attrs,\n        dir: state.context.dir,\n        id: dom.getItemGroupLabelId(state.context, htmlFor),\n        role: \"group\"\n      });\n    }\n  };\n}\n\n// src/combobox.machine.ts\n\n\n\n\n\n\n\nvar { and, not } = _zag_js_core__WEBPACK_IMPORTED_MODULE_6__.guards;\nvar KEYDOWN_EVENT_REGEX = /(ARROW_UP|ARROW_DOWN|HOME|END|ENTER|ESCAPE)/;\nfunction machine(userContext) {\n  const ctx = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_7__.compact)(userContext);\n  return (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_6__.createMachine)(\n    {\n      id: \"combobox\",\n      initial: ctx.autoFocus ? \"focused\" : \"idle\",\n      context: {\n        loop: true,\n        openOnClick: false,\n        composing: false,\n        value: [],\n        highlightedValue: null,\n        inputValue: \"\",\n        selectOnBlur: true,\n        allowCustomValue: false,\n        closeOnSelect: true,\n        inputBehavior: \"none\",\n        selectionBehavior: \"replace\",\n        ...ctx,\n        collection: ctx.collection ?? collection.empty(),\n        positioning: {\n          placement: \"bottom\",\n          flip: false,\n          sameWidth: true,\n          ...ctx.positioning\n        },\n        translations: {\n          triggerLabel: \"Toggle suggestions\",\n          clearTriggerLabel: \"Clear value\",\n          ...ctx.translations\n        }\n      },\n      computed: {\n        isInputValueEmpty: (ctx2) => ctx2.inputValue.length === 0,\n        isInteractive: (ctx2) => !(ctx2.readOnly || ctx2.disabled),\n        autoComplete: (ctx2) => ctx2.inputBehavior === \"autocomplete\",\n        autoHighlight: (ctx2) => ctx2.inputBehavior === \"autohighlight\",\n        selectedItems: (ctx2) => ctx2.collection.items(ctx2.value),\n        highlightedItem: (ctx2) => ctx2.collection.item(ctx2.highlightedValue),\n        valueAsString: (ctx2) => ctx2.collection.itemsToString(ctx2.selectedItems),\n        hasSelectedItems: (ctx2) => ctx2.value.length > 0\n      },\n      watch: {\n        inputValue: [\"syncInputValue\"],\n        highlightedValue: [\"autofillInputValue\"]\n      },\n      on: {\n        \"HIGHLIGHTED_VALUE.SET\": {\n          actions: [\"setHighlightedItem\"]\n        },\n        \"ITEM.SELECT\": {\n          actions: [\"selectItem\"]\n        },\n        \"ITEM.CLEAR\": {\n          actions: [\"clearItem\"]\n        },\n        \"VALUE.SET\": {\n          actions: [\"setSelectedItems\"]\n        },\n        \"INPUT_VALUE.SET\": {\n          actions: \"setInputValue\"\n        },\n        \"VALUE.CLEAR\": {\n          target: \"focused\",\n          actions: [\"clearInputValue\", \"clearSelectedItems\"]\n        },\n        \"INPUT.COMPOSITION_START\": {\n          actions: [\"setIsComposing\"]\n        },\n        \"INPUT.COMPOSITION_END\": {\n          actions: [\"clearIsComposing\"]\n        },\n        \"COLLECTION.SET\": {\n          actions: [\"setCollection\"]\n        },\n        \"POSITIONING.SET\": {\n          actions: [\"reposition\"]\n        }\n      },\n      states: {\n        idle: {\n          tags: [\"idle\", \"closed\"],\n          entry: [\"scrollContentToTop\", \"clearHighlightedItem\"],\n          on: {\n            \"TRIGGER.CLICK\": {\n              target: \"interacting\",\n              actions: [\"focusInput\", \"highlightFirstSelectedItem\", \"invokeOnOpen\"]\n            },\n            \"INPUT.CLICK\": {\n              guard: \"openOnClick\",\n              target: \"interacting\",\n              actions: [\"highlightFirstSelectedItem\", \"invokeOnOpen\"]\n            },\n            \"INPUT.FOCUS\": {\n              target: \"focused\"\n            },\n            OPEN: {\n              target: \"interacting\",\n              actions: [\"invokeOnOpen\"]\n            }\n          }\n        },\n        focused: {\n          tags: [\"focused\", \"closed\"],\n          entry: [\"focusInput\", \"scrollContentToTop\", \"clearHighlightedItem\"],\n          on: {\n            \"INPUT.CHANGE\": {\n              target: \"suggesting\",\n              actions: \"setInputValue\"\n            },\n            \"LAYER.INTERACT_OUTSIDE\": {\n              target: \"idle\"\n            },\n            \"INPUT.ESCAPE\": {\n              guard: and(\"isCustomValue\", not(\"allowCustomValue\")),\n              actions: \"revertInputValue\"\n            },\n            \"INPUT.CLICK\": {\n              guard: \"openOnClick\",\n              target: \"interacting\",\n              actions: [\"highlightFirstSelectedItem\", \"invokeOnOpen\"]\n            },\n            \"TRIGGER.CLICK\": {\n              target: \"interacting\",\n              actions: [\"focusInput\", \"highlightFirstSelectedItem\", \"invokeOnOpen\"]\n            },\n            \"INPUT.ARROW_DOWN\": [\n              {\n                guard: \"autoComplete\",\n                target: \"interacting\",\n                actions: [\"invokeOnOpen\"]\n              },\n              {\n                guard: \"hasSelectedItems\",\n                target: \"interacting\",\n                actions: [\"highlightFirstSelectedItem\", \"invokeOnOpen\"]\n              },\n              {\n                target: \"interacting\",\n                actions: [\"highlightFirstItem\", \"invokeOnOpen\"]\n              }\n            ],\n            \"INPUT.ARROW_DOWN+ALT\": {\n              target: \"interacting\",\n              actions: \"invokeOnOpen\"\n            },\n            \"INPUT.ARROW_UP\": [\n              {\n                guard: \"autoComplete\",\n                target: \"interacting\",\n                actions: \"invokeOnOpen\"\n              },\n              {\n                guard: \"hasSelectedItems\",\n                target: \"interacting\",\n                actions: [\"highlightFirstSelectedItem\", \"invokeOnOpen\"]\n              },\n              {\n                target: \"interacting\",\n                actions: [\"highlightLastItem\", \"invokeOnOpen\"]\n              }\n            ],\n            OPEN: {\n              target: \"interacting\",\n              actions: [\"invokeOnOpen\"]\n            }\n          }\n        },\n        interacting: {\n          tags: [\"open\", \"focused\"],\n          activities: [\"scrollIntoView\", \"trackDismissableLayer\", \"computePlacement\", \"hideOtherElements\"],\n          on: {\n            \"INPUT.HOME\": {\n              actions: [\"highlightFirstItem\"]\n            },\n            \"INPUT.END\": {\n              actions: [\"highlightLastItem\"]\n            },\n            \"INPUT.ARROW_DOWN\": [\n              {\n                guard: and(\"autoComplete\", \"isLastItemHighlighted\"),\n                actions: [\"clearHighlightedItem\", \"scrollContentToTop\"]\n              },\n              {\n                actions: [\"highlightNextItem\"]\n              }\n            ],\n            \"INPUT.ARROW_UP\": [\n              {\n                guard: and(\"autoComplete\", \"isFirstItemHighlighted\"),\n                actions: \"clearHighlightedItem\"\n              },\n              {\n                actions: \"highlightPrevItem\"\n              }\n            ],\n            \"INPUT.ARROW_UP+ALT\": {\n              target: \"focused\"\n            },\n            \"INPUT.ENTER\": [\n              {\n                guard: not(\"closeOnSelect\"),\n                actions: [\"selectHighlightedItem\"]\n              },\n              {\n                target: \"focused\",\n                actions: [\"selectHighlightedItem\", \"invokeOnClose\"]\n              }\n            ],\n            \"INPUT.CHANGE\": [\n              {\n                guard: \"autoComplete\",\n                target: \"suggesting\",\n                actions: [\"setInputValue\"]\n              },\n              {\n                target: \"suggesting\",\n                actions: [\"clearHighlightedItem\", \"setInputValue\"]\n              }\n            ],\n            \"ITEM.POINTER_OVER\": {\n              actions: [\"setHighlightedItem\"]\n            },\n            \"ITEM.POINTER_LEAVE\": {\n              actions: [\"clearHighlightedItem\"]\n            },\n            \"ITEM.CLICK\": [\n              {\n                guard: not(\"closeOnSelect\"),\n                actions: [\"selectItem\"]\n              },\n              {\n                target: \"focused\",\n                actions: [\"selectItem\", \"invokeOnClose\"]\n              }\n            ],\n            \"LAYER.ESCAPE\": [\n              {\n                guard: \"autoComplete\",\n                target: \"focused\",\n                actions: [\"syncInputValue\", \"invokeOnClose\"]\n              },\n              {\n                target: \"focused\",\n                actions: [\"invokeOnClose\"]\n              }\n            ],\n            \"TRIGGER.CLICK\": {\n              target: \"focused\",\n              actions: \"invokeOnClose\"\n            },\n            \"LAYER.INTERACT_OUTSIDE\": [\n              {\n                guard: and(\"selectOnBlur\", \"hasHighlightedItem\"),\n                target: \"idle\",\n                actions: [\"selectHighlightedItem\", \"invokeOnClose\"]\n              },\n              {\n                guard: and(\"isCustomValue\", not(\"allowCustomValue\")),\n                target: \"idle\",\n                actions: [\"revertInputValue\", \"invokeOnClose\"]\n              },\n              {\n                target: \"idle\",\n                actions: \"invokeOnClose\"\n              }\n            ],\n            CLOSE: {\n              target: \"focused\",\n              actions: \"invokeOnClose\"\n            }\n          }\n        },\n        suggesting: {\n          tags: [\"open\", \"focused\"],\n          activities: [\n            \"trackDismissableLayer\",\n            \"scrollIntoView\",\n            \"computePlacement\",\n            \"trackChildNodes\",\n            \"hideOtherElements\"\n          ],\n          entry: [\"focusInput\", \"invokeOnOpen\"],\n          on: {\n            CHILDREN_CHANGE: {\n              guard: not(\"isHighlightedItemVisible\"),\n              actions: [\"highlightFirstItem\"]\n            },\n            \"INPUT.ARROW_DOWN\": {\n              target: \"interacting\",\n              actions: \"highlightNextItem\"\n            },\n            \"INPUT.ARROW_UP\": {\n              target: \"interacting\",\n              actions: \"highlightPrevItem\"\n            },\n            \"INPUT.ARROW_UP+ALT\": {\n              target: \"focused\"\n            },\n            \"INPUT.HOME\": {\n              target: \"interacting\",\n              actions: [\"highlightFirstItem\"]\n            },\n            \"INPUT.END\": {\n              target: \"interacting\",\n              actions: [\"highlightLastItem\"]\n            },\n            \"INPUT.ENTER\": [\n              {\n                guard: not(\"closeOnSelect\"),\n                actions: [\"selectHighlightedItem\"]\n              },\n              {\n                target: \"focused\",\n                actions: [\"selectHighlightedItem\", \"invokeOnClose\"]\n              }\n            ],\n            \"INPUT.CHANGE\": [\n              {\n                guard: \"autoHighlight\",\n                actions: [\"setInputValue\", \"highlightFirstItem\"]\n              },\n              {\n                actions: [\"clearHighlightedItem\", \"setInputValue\"]\n              }\n            ],\n            \"LAYER.ESCAPE\": {\n              target: \"focused\",\n              actions: \"invokeOnClose\"\n            },\n            \"ITEM.POINTER_OVER\": {\n              target: \"interacting\",\n              actions: \"setHighlightedItem\"\n            },\n            \"ITEM.POINTER_LEAVE\": {\n              actions: \"clearHighlightedItem\"\n            },\n            \"LAYER.INTERACT_OUTSIDE\": [\n              {\n                guard: and(\"isCustomValue\", not(\"allowCustomValue\")),\n                target: \"idle\",\n                actions: [\"revertInputValue\", \"invokeOnClose\"]\n              },\n              {\n                target: \"idle\",\n                actions: \"invokeOnClose\"\n              }\n            ],\n            \"TRIGGER.CLICK\": {\n              target: \"focused\",\n              actions: \"invokeOnClose\"\n            },\n            \"ITEM.CLICK\": [\n              {\n                guard: not(\"closeOnSelect\"),\n                actions: [\"selectItem\"]\n              },\n              {\n                target: \"focused\",\n                actions: [\"selectItem\", \"invokeOnClose\"]\n              }\n            ],\n            CLOSE: {\n              target: \"focused\",\n              actions: \"invokeOnClose\"\n            }\n          }\n        }\n      }\n    },\n    {\n      guards: {\n        openOnClick: (ctx2) => !!ctx2.openOnClick,\n        isInputValueEmpty: (ctx2) => ctx2.isInputValueEmpty,\n        autoComplete: (ctx2) => ctx2.autoComplete && !ctx2.multiple,\n        autoHighlight: (ctx2) => ctx2.autoHighlight,\n        isFirstItemHighlighted: (ctx2) => ctx2.collection.first() === ctx2.highlightedValue,\n        isLastItemHighlighted: (ctx2) => ctx2.collection.last() === ctx2.highlightedValue,\n        isCustomValue: (ctx2) => ctx2.inputValue !== ctx2.valueAsString,\n        allowCustomValue: (ctx2) => !!ctx2.allowCustomValue,\n        hasHighlightedItem: (ctx2) => ctx2.highlightedValue != null,\n        hasSelectedItems: (ctx2) => ctx2.hasSelectedItems,\n        selectOnBlur: (ctx2) => !!ctx2.selectOnBlur,\n        closeOnSelect: (ctx2) => ctx2.multiple ? false : !!ctx2.closeOnSelect,\n        isHighlightedItemVisible: (ctx2) => ctx2.collection.has(ctx2.highlightedValue)\n      },\n      activities: {\n        trackDismissableLayer(ctx2, _evt, { send }) {\n          const contentEl = () => dom.getContentEl(ctx2);\n          return (0,_zag_js_dismissable__WEBPACK_IMPORTED_MODULE_8__.trackDismissableElement)(contentEl, {\n            defer: true,\n            exclude: () => [dom.getContentEl(ctx2), dom.getTriggerEl(ctx2), dom.getClearTriggerEl(ctx2)],\n            onFocusOutside: ctx2.onFocusOutside,\n            onPointerDownOutside: ctx2.onPointerDownOutside,\n            onInteractOutside: ctx2.onInteractOutside,\n            onEscapeKeyDown(event) {\n              event.preventDefault();\n              send(\"LAYER.ESCAPE\");\n            },\n            onDismiss() {\n              send({ type: \"LAYER.INTERACT_OUTSIDE\" });\n            }\n          });\n        },\n        hideOtherElements(ctx2) {\n          return (0,_zag_js_aria_hidden__WEBPACK_IMPORTED_MODULE_9__.ariaHidden)([dom.getInputEl(ctx2), dom.getContentEl(ctx2), dom.getTriggerEl(ctx2)]);\n        },\n        computePlacement(ctx2) {\n          const controlEl = () => dom.getControlEl(ctx2);\n          const positionerEl = () => dom.getPositionerEl(ctx2);\n          ctx2.currentPlacement = ctx2.positioning.placement;\n          return (0,_zag_js_popper__WEBPACK_IMPORTED_MODULE_4__.getPlacement)(controlEl, positionerEl, {\n            ...ctx2.positioning,\n            defer: true,\n            onComplete(data) {\n              ctx2.currentPlacement = data.placement;\n            },\n            onCleanup() {\n              ctx2.currentPlacement = void 0;\n            }\n          });\n        },\n        // in event the options are fetched (async), we still want to auto-highlight the first option\n        trackChildNodes(ctx2, _evt, { send }) {\n          if (!ctx2.autoHighlight)\n            return;\n          const exec = () => send(\"CHILDREN_CHANGE\");\n          exec();\n          return (0,_zag_js_mutation_observer__WEBPACK_IMPORTED_MODULE_10__.observeChildren)(dom.getContentEl(ctx2), exec);\n        },\n        scrollIntoView(ctx2, _evt, { getState }) {\n          const inputEl = dom.getInputEl(ctx2);\n          const exec = () => {\n            const state = getState();\n            const isPointer = state.event.type.startsWith(\"ITEM.POINTER\");\n            if (isPointer || !ctx2.highlightedValue)\n              return;\n            const optionEl = dom.getHighlightedItemEl(ctx2);\n            optionEl?.scrollIntoView({ block: \"nearest\" });\n          };\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.raf)(() => exec());\n          return (0,_zag_js_mutation_observer__WEBPACK_IMPORTED_MODULE_10__.observeAttributes)(inputEl, [\"aria-activedescendant\"], exec);\n        }\n      },\n      actions: {\n        reposition(ctx2, evt) {\n          const controlEl = () => dom.getControlEl(ctx2);\n          const positionerEl = () => dom.getPositionerEl(ctx2);\n          (0,_zag_js_popper__WEBPACK_IMPORTED_MODULE_4__.getPlacement)(controlEl, positionerEl, {\n            ...ctx2.positioning,\n            ...evt.options,\n            defer: true,\n            listeners: false,\n            onComplete(data) {\n              ctx2.currentPlacement = data.placement;\n            }\n          });\n        },\n        setIsComposing(ctx2) {\n          ctx2.composing = true;\n        },\n        clearIsComposing(ctx2) {\n          ctx2.composing = false;\n        },\n        setHighlightedItem(ctx2, evt) {\n          set.highlightedItem(ctx2, evt.value);\n        },\n        clearHighlightedItem(ctx2) {\n          set.highlightedItem(ctx2, null, true);\n        },\n        selectHighlightedItem(ctx2) {\n          set.selectedItem(ctx2, ctx2.highlightedValue);\n        },\n        selectItem(ctx2, evt) {\n          set.selectedItem(ctx2, evt.value);\n        },\n        clearItem(ctx2, evt) {\n          const value = ctx2.value.filter((v) => v !== evt.value);\n          set.selectedItems(ctx2, value);\n        },\n        focusInput(ctx2) {\n          if (dom.isInputFocused(ctx2))\n            return;\n          dom.getInputEl(ctx2)?.focus({ preventScroll: true });\n        },\n        syncInputValue(ctx2, evt) {\n          const isTyping = !KEYDOWN_EVENT_REGEX.test(evt.type);\n          const inputEl = dom.getInputEl(ctx2);\n          if (!inputEl)\n            return;\n          inputEl.value = ctx2.inputValue;\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.raf)(() => {\n            if (isTyping)\n              return;\n            const { selectionStart, selectionEnd } = inputEl;\n            if (Math.abs((selectionEnd ?? 0) - (selectionStart ?? 0)) !== 0)\n              return;\n            if (selectionStart !== 0)\n              return;\n            inputEl.setSelectionRange(inputEl.value.length, inputEl.value.length);\n          });\n        },\n        setInputValue(ctx2, evt) {\n          set.inputValue(ctx2, evt.value);\n        },\n        clearInputValue(ctx2) {\n          set.inputValue(ctx2, \"\");\n        },\n        revertInputValue(ctx2) {\n          set.inputValue(ctx2, ctx2.hasSelectedItems ? ctx2.valueAsString : \"\");\n        },\n        setSelectedItems(ctx2, evt) {\n          set.selectedItems(ctx2, evt.value);\n        },\n        clearSelectedItems(ctx2) {\n          set.selectedItems(ctx2, []);\n        },\n        scrollContentToTop(ctx2) {\n          const contentEl = dom.getContentEl(ctx2);\n          if (!contentEl)\n            return;\n          contentEl.scrollTop = 0;\n        },\n        invokeOnOpen(ctx2) {\n          ctx2.onOpenChange?.({ open: true });\n        },\n        invokeOnClose(ctx2) {\n          ctx2.onOpenChange?.({ open: false });\n        },\n        highlightFirstItem(ctx2) {\n          const value = ctx2.collection.first();\n          set.highlightedItem(ctx2, value);\n        },\n        highlightLastItem(ctx2) {\n          const value = ctx2.collection.last();\n          set.highlightedItem(ctx2, value);\n        },\n        highlightNextItem(ctx2) {\n          const value = ctx2.collection.next(ctx2.highlightedValue) ?? (ctx2.loop ? ctx2.collection.first() : null);\n          set.highlightedItem(ctx2, value);\n        },\n        highlightPrevItem(ctx2) {\n          const value = ctx2.collection.prev(ctx2.highlightedValue) ?? (ctx2.loop ? ctx2.collection.last() : null);\n          set.highlightedItem(ctx2, value);\n        },\n        highlightFirstSelectedItem(ctx2) {\n          const [value] = ctx2.collection.sort(ctx2.value);\n          set.highlightedItem(ctx2, value);\n        },\n        autofillInputValue(ctx2, evt) {\n          const inputEl = dom.getInputEl(ctx2);\n          if (!ctx2.autoComplete || !inputEl || !KEYDOWN_EVENT_REGEX.test(evt.type))\n            return;\n          const valueText = ctx2.collection.valueToString(ctx2.highlightedValue);\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.raf)(() => {\n            inputEl.value = valueText || ctx2.inputValue;\n          });\n        },\n        setCollection(ctx2, evt) {\n          ctx2.collection = evt.value;\n        }\n      }\n    }\n  );\n}\nvar invoke = {\n  selectionChange: (ctx) => {\n    ctx.onValueChange?.({\n      value: Array.from(ctx.value),\n      items: ctx.selectedItems\n    });\n    ctx.inputValue = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_7__.match)(ctx.selectionBehavior, {\n      replace: ctx.valueAsString,\n      clear: \"\",\n      preserve: ctx.inputValue\n    });\n  },\n  highlightChange: (ctx) => {\n    ctx.onHighlightChange?.({\n      highlightedValue: ctx.highlightedValue,\n      highligtedItem: ctx.highlightedItem\n    });\n  },\n  inputChange: (ctx) => {\n    ctx.onInputValueChange?.({ value: ctx.inputValue });\n  }\n};\nvar set = {\n  selectedItem: (ctx, value, force = false) => {\n    if ((0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_7__.isEqual)(ctx.value, value))\n      return;\n    if (value == null && !force)\n      return;\n    if (value == null && force) {\n      ctx.value = [];\n      invoke.selectionChange(ctx);\n      return;\n    }\n    ctx.value = ctx.multiple ? (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_7__.addOrRemove)(ctx.value, value) : [value];\n    invoke.selectionChange(ctx);\n  },\n  selectedItems: (ctx, value) => {\n    if ((0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_7__.isEqual)(ctx.value, value))\n      return;\n    ctx.value = value;\n    invoke.selectionChange(ctx);\n  },\n  highlightedItem: (ctx, value, force = false) => {\n    if ((0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_7__.isEqual)(ctx.highlightedValue, value))\n      return;\n    if (!value && !force)\n      return;\n    ctx.highlightedValue = value || null;\n    invoke.highlightChange(ctx);\n  },\n  inputValue: (ctx, value) => {\n    if ((0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_7__.isEqual)(ctx.inputValue, value))\n      return;\n    ctx.inputValue = value;\n    invoke.inputChange(ctx);\n  }\n};\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9jb21ib2JveC9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNnRDtBQUNoRCxjQUFjLDhEQUFhO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNnRDtBQUNiO0FBQ25DO0FBQ0EsU0FBUyxpREFBRyxLQUFLLDBEQUFVO0FBQzNCO0FBQ0E7QUFDQSxTQUFTLGlEQUFHLEtBQUssMERBQVUsR0FBRyxXQUFXO0FBQ3pDOztBQUVBO0FBQ2lHO0FBQ3JDO0FBQ1I7O0FBRXBEO0FBQ2dEO0FBQ2hELFVBQVUsOERBQVc7QUFDckIsbURBQW1ELE9BQU87QUFDMUQscURBQXFELE9BQU87QUFDNUQseURBQXlELE9BQU87QUFDaEUscURBQXFELE9BQU87QUFDNUQseURBQXlELE9BQU87QUFDaEUsK0RBQStELE9BQU87QUFDdEUseURBQXlELE9BQU87QUFDaEUsbUVBQW1FLE9BQU87QUFDMUUsdUVBQXVFLE9BQU8sWUFBWSxHQUFHO0FBQzdGLGlGQUFpRixPQUFPLGtCQUFrQixHQUFHO0FBQzdHLHNDQUFzQyxPQUFPLFVBQVUsR0FBRztBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkVBQTZFLGtCQUFrQjtBQUMvRjtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsa0VBQWtCO0FBQ3pDO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxZQUFZLE9BQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwy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LFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNM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QUFDQTtBQUNBO0FBTUU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL0BwYXJrLXVpL2V4YW1wbGVzLXJlYWN0LW5leHQtanMvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9jb21ib2JveC9kaXN0L2luZGV4Lm1qcz80MGE5Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9jb21ib2JveC5hbmF0b215LnRzXG5pbXBvcnQgeyBjcmVhdGVBbmF0b215IH0gZnJvbSBcIkB6YWctanMvYW5hdG9teVwiO1xudmFyIGFuYXRvbXkgPSBjcmVhdGVBbmF0b215KFwiY29tYm9ib3hcIikucGFydHMoXG4gIFwicm9vdFwiLFxuICBcImxhYmVsXCIsXG4gIFwiaW5wdXRcIixcbiAgXCJwb3NpdGlvbmVyXCIsXG4gIFwiY29udHJvbFwiLFxuICBcInRyaWdnZXJcIixcbiAgXCJjb250ZW50XCIsXG4gIFwiY2xlYXJUcmlnZ2VyXCIsXG4gIFwiaXRlbVwiLFxuICBcIml0ZW1UZXh0XCIsXG4gIFwiaXRlbUluZGljYXRvclwiLFxuICBcIml0ZW1Hcm91cFwiLFxuICBcIml0ZW1Hcm91cExhYmVsXCJcbik7XG52YXIgcGFydHMgPSBhbmF0b215LmJ1aWxkKCk7XG5cbi8vIHNyYy9jb21ib2JveC5jb2xsZWN0aW9uLnRzXG5pbXBvcnQgeyBDb2xsZWN0aW9uIH0gZnJvbSBcIkB6YWctanMvY29sbGVjdGlvblwiO1xuaW1wb3J0IHsgcmVmIH0gZnJvbSBcIkB6YWctanMvY29yZVwiO1xudmFyIGNvbGxlY3Rpb24gPSAob3B0aW9ucykgPT4ge1xuICByZXR1cm4gcmVmKG5ldyBDb2xsZWN0aW9uKG9wdGlvbnMpKTtcbn07XG5jb2xsZWN0aW9uLmVtcHR5ID0gKCkgPT4ge1xuICByZXR1cm4gcmVmKG5ldyBDb2xsZWN0aW9uKHsgaXRlbXM6IFtdIH0pKTtcbn07XG5cbi8vIHNyYy9jb21ib2JveC5jb25uZWN0LnRzXG5pbXBvcnQgeyBnZXRFdmVudEtleSwgZ2V0TmF0aXZlRXZlbnQsIGlzQ29udGV4dE1lbnVFdmVudCwgaXNMZWZ0Q2xpY2sgfSBmcm9tIFwiQHphZy1qcy9kb20tZXZlbnRcIjtcbmltcG9ydCB7IGFyaWFBdHRyLCBkYXRhQXR0ciwgcmFmIH0gZnJvbSBcIkB6YWctanMvZG9tLXF1ZXJ5XCI7XG5pbXBvcnQgeyBnZXRQbGFjZW1lbnRTdHlsZXMgfSBmcm9tIFwiQHphZy1qcy9wb3BwZXJcIjtcblxuLy8gc3JjL2NvbWJvYm94LmRvbS50c1xuaW1wb3J0IHsgY3JlYXRlU2NvcGUgfSBmcm9tIFwiQHphZy1qcy9kb20tcXVlcnlcIjtcbnZhciBkb20gPSBjcmVhdGVTY29wZSh7XG4gIGdldFJvb3RJZDogKGN0eCkgPT4gY3R4Lmlkcz8ucm9vdCA/PyBgY29tYm9ib3g6JHtjdHguaWR9YCxcbiAgZ2V0TGFiZWxJZDogKGN0eCkgPT4gY3R4Lmlkcz8ubGFiZWwgPz8gYGNvbWJvYm94OiR7Y3R4LmlkfTpsYWJlbGAsXG4gIGdldENvbnRyb2xJZDogKGN0eCkgPT4gY3R4Lmlkcz8uY29udHJvbCA/PyBgY29tYm9ib3g6JHtjdHguaWR9OmNvbnRyb2xgLFxuICBnZXRJbnB1dElkOiAoY3R4KSA9PiBjdHguaWRzPy5pbnB1dCA/PyBgY29tYm9ib3g6JHtjdHguaWR9OmlucHV0YCxcbiAgZ2V0Q29udGVudElkOiAoY3R4KSA9PiBjdHguaWRzPy5jb250ZW50ID8/IGBjb21ib2JveDoke2N0eC5pZH06Y29udGVudGAsXG4gIGdldFBvc2l0aW9uZXJJZDogKGN0eCkgPT4gY3R4Lmlkcz8ucG9zaXRpb25lciA/PyBgY29tYm9ib3g6JHtjdHguaWR9OnBvcHBlcmAsXG4gIGdldFRyaWdnZXJJZDogKGN0eCkgPT4gY3R4Lmlkcz8udHJpZ2dlciA/PyBgY29tYm9ib3g6JHtjdHguaWR9OnRvZ2dsZS1idG5gLFxuICBnZXRDbGVhclRyaWdnZXJJZDogKGN0eCkgPT4gY3R4Lmlkcz8uY2xlYXJUcmlnZ2VyID8/IGBjb21ib2JveDoke2N0eC5pZH06Y2xlYXItYnRuYCxcbiAgZ2V0SXRlbUdyb3VwSWQ6IChjdHgsIGlkKSA9PiBjdHguaWRzPy5pdGVtR3JvdXA/LihpZCkgPz8gYGNvbWJvYm94OiR7Y3R4LmlkfTpvcHRncm91cDoke2lkfWAsXG4gIGdldEl0ZW1Hcm91cExhYmVsSWQ6IChjdHgsIGlkKSA9PiBjdHguaWRzPy5pdGVtR3JvdXBMYWJlbD8uKGlkKSA/PyBgY29tYm9ib3g6JHtjdHguaWR9Om9wdGdyb3VwLWxhYmVsOiR7aWR9YCxcbiAgZ2V0SXRlbUlkOiAoY3R4LCBpZCkgPT4gYGNvbWJvYm94OiR7Y3R4LmlkfTpvcHRpb246JHtpZH1gLFxuICBnZXRDb250ZW50RWw6IChjdHgpID0+IGRvbS5nZXRCeUlkKGN0eCwgZG9tLmdldENvbnRlbnRJZChjdHgpKSxcbiAgZ2V0SW5wdXRFbDogKGN0eCkgPT4gZG9tLmdldEJ5SWQoY3R4LCBkb20uZ2V0SW5wdXRJZChjdHgpKSxcbiAgZ2V0UG9zaXRpb25lckVsOiAoY3R4KSA9PiBkb20uZ2V0QnlJZChjdHgsIGRvbS5nZXRQb3NpdGlvbmVySWQoY3R4KSksXG4gIGdldENvbnRyb2xFbDogKGN0eCkgPT4gZG9tLmdldEJ5SWQoY3R4LCBkb20uZ2V0Q29udHJvbElkKGN0eCkpLFxuICBnZXRUcmlnZ2VyRWw6IChjdHgpID0+IGRvbS5nZXRCeUlkKGN0eCwgZG9tLmdldFRyaWdnZXJJZChjdHgpKSxcbiAgZ2V0Q2xlYXJUcmlnZ2VyRWw6IChjdHgpID0+IGRvbS5nZXRCeUlkKGN0eCwgZG9tLmdldENsZWFyVHJpZ2dlcklkKGN0eCkpLFxuICBpc0lucHV0Rm9jdXNlZDogKGN0eCkgPT4gZG9tLmdldERvYyhjdHgpLmFjdGl2ZUVsZW1lbnQgPT09IGRvbS5nZXRJbnB1dEVsKGN0eCksXG4gIGdldEhpZ2hsaWdodGVkSXRlbUVsOiAoY3R4KSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBjdHguaGlnaGxpZ2h0ZWRWYWx1ZTtcbiAgICBpZiAodmFsdWUgPT0gbnVsbClcbiAgICAgIHJldHVybjtcbiAgICByZXR1cm4gZG9tLmdldENvbnRlbnRFbChjdHgpPy5xdWVyeVNlbGVjdG9yKGBbcm9sZT1vcHRpb25dW2RhdGEtdmFsdWU9XCIke0NTUy5lc2NhcGUodmFsdWUpfVwiYCk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tYm9ib3guY29ubmVjdC50c1xuZnVuY3Rpb24gY29ubmVjdChzdGF0ZSwgc2VuZCwgbm9ybWFsaXplKSB7XG4gIGNvbnN0IHRyYW5zbGF0aW9ucyA9IHN0YXRlLmNvbnRleHQudHJhbnNsYXRpb25zO1xuICBjb25zdCBjb2xsZWN0aW9uMiA9IHN0YXRlLmNvbnRleHQuY29sbGVjdGlvbjtcbiAgY29uc3QgaXNEaXNhYmxlZCA9IHN0YXRlLmNvbnRleHQuZGlzYWJsZWQ7XG4gIGNvbnN0IGlzSW50ZXJhY3RpdmUgPSBzdGF0ZS5jb250ZXh0LmlzSW50ZXJhY3RpdmU7XG4gIGNvbnN0IGlzSW52YWxpZCA9IHN0YXRlLmNvbnRleHQuaW52YWxpZDtcbiAgY29uc3QgaXNSZWFkT25seSA9IHN0YXRlLmNvbnRleHQucmVhZE9ubHk7XG4gIGNvbnN0IGlzT3BlbiA9IHN0YXRlLmhhc1RhZyhcIm9wZW5cIik7XG4gIGNvbnN0IGlzRm9jdXNlZCA9IHN0YXRlLmhhc1RhZyhcImZvY3VzZWRcIik7XG4gIGNvbnN0IHBvcHBlclN0eWxlcyA9IGdldFBsYWNlbWVudFN0eWxlcyh7XG4gICAgLi4uc3RhdGUuY29udGV4dC5wb3NpdGlvbmluZyxcbiAgICBwbGFjZW1lbnQ6IHN0YXRlLmNvbnRleHQuY3VycmVudFBsYWNlbWVudFxuICB9KTtcbiAgZnVuY3Rpb24gZ2V0SXRlbVN0YXRlKHByb3BzKSB7XG4gICAgY29uc3QgeyBpdGVtIH0gPSBwcm9wcztcbiAgICBjb25zdCB2YWx1ZSA9IGNvbGxlY3Rpb24yLml0ZW1Ub1ZhbHVlKGl0ZW0pO1xuICAgIHJldHVybiB7XG4gICAgICB2YWx1ZSxcbiAgICAgIGlzRGlzYWJsZWQ6IGNvbGxlY3Rpb24yLmlzSXRlbURpc2FibGVkKGl0ZW0pLFxuICAgICAgaXNIaWdobGlnaHRlZDogc3RhdGUuY29udGV4dC5oaWdobGlnaHRlZFZhbHVlID09PSB2YWx1ZSxcbiAgICAgIGlzU2VsZWN0ZWQ6IHN0YXRlLmNvbnRleHQudmFsdWUuaW5jbHVkZXModmFsdWUpXG4gICAgfTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGlzRm9jdXNlZCxcbiAgICBpc09wZW4sXG4gICAgaW5wdXRWYWx1ZTogc3RhdGUuY29udGV4dC5pbnB1dFZhbHVlLFxuICAgIGlzSW5wdXRWYWx1ZUVtcHR5OiBzdGF0ZS5jb250ZXh0LmlzSW5wdXRWYWx1ZUVtcHR5LFxuICAgIGhpZ2hsaWdodGVkVmFsdWU6IHN0YXRlLmNvbnRleHQuaGlnaGxpZ2h0ZWRWYWx1ZSxcbiAgICBoaWdobGlnaHRlZEl0ZW06IHN0YXRlLmNvbnRleHQuaGlnaGxpZ2h0ZWRJdGVtLFxuICAgIHZhbHVlOiBzdGF0ZS5jb250ZXh0LnZhbHVlLFxuICAgIHZhbHVlQXNTdHJpbmc6IHN0YXRlLmNvbnRleHQudmFsdWVBc1N0cmluZyxcbiAgICBoYXNTZWxlY3RlZEl0ZW1zOiBzdGF0ZS5jb250ZXh0Lmhhc1NlbGVjdGVkSXRlbXMsXG4gICAgc2VsZWN0ZWRJdGVtczogc3RhdGUuY29udGV4dC5zZWxlY3RlZEl0ZW1zLFxuICAgIHJlcG9zaXRpb24ob3B0aW9ucyA9IHt9KSB7XG4gICAgICBzZW5kKHsgdHlwZTogXCJQT1NJVElPTklORy5TRVRcIiwgb3B0aW9ucyB9KTtcbiAgICB9LFxuICAgIHNldENvbGxlY3Rpb24oY29sbGVjdGlvbjMpIHtcbiAgICAgIHNlbmQoeyB0eXBlOiBcIkNPTExFQ1RJT04uU0VUXCIsIHZhbHVlOiBjb2xsZWN0aW9uMyB9KTtcbiAgICB9LFxuICAgIGhpZ2hsaWdodFZhbHVlKHZhbHVlKSB7XG4gICAgICBzZW5kKHsgdHlwZTogXCJISUdITElHSFRFRF9WQUxVRS5TRVRcIiwgdmFsdWUgfSk7XG4gICAgfSxcbiAgICBzZWxlY3RWYWx1ZSh2YWx1ZSkge1xuICAgICAgc2VuZCh7IHR5cGU6IFwiSVRFTS5TRUxFQ1RcIiwgdmFsdWUgfSk7XG4gICAgfSxcbiAgICBzZXRWYWx1ZSh2YWx1ZSkge1xuICAgICAgc2VuZCh7IHR5cGU6IFwiVkFMVUUuU0VUXCIsIHZhbHVlIH0pO1xuICAgIH0sXG4gICAgc2V0SW5wdXRWYWx1ZSh2YWx1ZSkge1xuICAgICAgc2VuZCh7IHR5cGU6IFwiSU5QVVRfVkFMVUUuU0VUXCIsIHZhbHVlIH0pO1xuICAgIH0sXG4gICAgY2xlYXJWYWx1ZSh2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgc2VuZCh7IHR5cGU6IFwiSVRFTS5DTEVBUlwiLCB2YWx1ZSB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbmQoXCJWQUxVRS5DTEVBUlwiKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGZvY3VzKCkge1xuICAgICAgZG9tLmdldElucHV0RWwoc3RhdGUuY29udGV4dCk/LmZvY3VzKCk7XG4gICAgfSxcbiAgICBvcGVuKCkge1xuICAgICAgc2VuZChcIk9QRU5cIik7XG4gICAgfSxcbiAgICBjbG9zZSgpIHtcbiAgICAgIHNlbmQoXCJDTE9TRVwiKTtcbiAgICB9LFxuICAgIHJvb3RQcm9wczogbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgLi4ucGFydHMucm9vdC5hdHRycyxcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICBpZDogZG9tLmdldFJvb3RJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIFwiZGF0YS1pbnZhbGlkXCI6IGRhdGFBdHRyKGlzSW52YWxpZCksXG4gICAgICBcImRhdGEtcmVhZG9ubHlcIjogZGF0YUF0dHIoaXNSZWFkT25seSlcbiAgICB9KSxcbiAgICBsYWJlbFByb3BzOiBub3JtYWxpemUubGFiZWwoe1xuICAgICAgLi4ucGFydHMubGFiZWwuYXR0cnMsXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgaHRtbEZvcjogZG9tLmdldElucHV0SWQoc3RhdGUuY29udGV4dCksXG4gICAgICBpZDogZG9tLmdldExhYmVsSWQoc3RhdGUuY29udGV4dCksXG4gICAgICBcImRhdGEtcmVhZG9ubHlcIjogZGF0YUF0dHIoaXNSZWFkT25seSksXG4gICAgICBcImRhdGEtZGlzYWJsZWRcIjogZGF0YUF0dHIoaXNEaXNhYmxlZCksXG4gICAgICBcImRhdGEtaW52YWxpZFwiOiBkYXRhQXR0cihpc0ludmFsaWQpLFxuICAgICAgXCJkYXRhLWZvY3VzXCI6IGRhdGFBdHRyKGlzRm9jdXNlZClcbiAgICB9KSxcbiAgICBjb250cm9sUHJvcHM6IG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgIC4uLnBhcnRzLmNvbnRyb2wuYXR0cnMsXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgaWQ6IGRvbS5nZXRDb250cm9sSWQoc3RhdGUuY29udGV4dCksXG4gICAgICBcImRhdGEtc3RhdGVcIjogaXNPcGVuID8gXCJvcGVuXCIgOiBcImNsb3NlZFwiLFxuICAgICAgXCJkYXRhLWZvY3VzXCI6IGRhdGFBdHRyKGlzRm9jdXNlZCksXG4gICAgICBcImRhdGEtZGlzYWJsZWRcIjogZGF0YUF0dHIoaXNEaXNhYmxlZCksXG4gICAgICBcImRhdGEtaW52YWxpZFwiOiBkYXRhQXR0cihpc0ludmFsaWQpXG4gICAgfSksXG4gICAgcG9zaXRpb25lclByb3BzOiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICAuLi5wYXJ0cy5wb3NpdGlvbmVyLmF0dHJzLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIGlkOiBkb20uZ2V0UG9zaXRpb25lcklkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgc3R5bGU6IHBvcHBlclN0eWxlcy5mbG9hdGluZ1xuICAgIH0pLFxuICAgIGlucHV0UHJvcHM6IG5vcm1hbGl6ZS5pbnB1dCh7XG4gICAgICAuLi5wYXJ0cy5pbnB1dC5hdHRycyxcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICBcImFyaWEtaW52YWxpZFwiOiBhcmlhQXR0cihpc0ludmFsaWQpLFxuICAgICAgXCJkYXRhLWludmFsaWRcIjogZGF0YUF0dHIoaXNJbnZhbGlkKSxcbiAgICAgIG5hbWU6IHN0YXRlLmNvbnRleHQubmFtZSxcbiAgICAgIGZvcm06IHN0YXRlLmNvbnRleHQuZm9ybSxcbiAgICAgIGRpc2FibGVkOiBpc0Rpc2FibGVkLFxuICAgICAgYXV0b0ZvY3VzOiBzdGF0ZS5jb250ZXh0LmF1dG9Gb2N1cyxcbiAgICAgIGF1dG9Db21wbGV0ZTogXCJvZmZcIixcbiAgICAgIGF1dG9Db3JyZWN0OiBcIm9mZlwiLFxuICAgICAgYXV0b0NhcGl0YWxpemU6IFwibm9uZVwiLFxuICAgICAgc3BlbGxDaGVjazogXCJmYWxzZVwiLFxuICAgICAgcmVhZE9ubHk6IGlzUmVhZE9ubHksXG4gICAgICBwbGFjZWhvbGRlcjogc3RhdGUuY29udGV4dC5wbGFjZWhvbGRlcixcbiAgICAgIGlkOiBkb20uZ2V0SW5wdXRJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgcm9sZTogXCJjb21ib2JveFwiLFxuICAgICAgZGVmYXVsdFZhbHVlOiBzdGF0ZS5jb250ZXh0LmlucHV0VmFsdWUgfHwgc3RhdGUuY29udGV4dC52YWx1ZUFzU3RyaW5nLFxuICAgICAgXCJhcmlhLWF1dG9jb21wbGV0ZVwiOiBzdGF0ZS5jb250ZXh0LmF1dG9Db21wbGV0ZSA/IFwiYm90aFwiIDogXCJsaXN0XCIsXG4gICAgICBcImFyaWEtY29udHJvbHNcIjogaXNPcGVuID8gZG9tLmdldENvbnRlbnRJZChzdGF0ZS5jb250ZXh0KSA6IHZvaWQgMCxcbiAgICAgIFwiYXJpYS1leHBhbmRlZFwiOiBpc09wZW4sXG4gICAgICBcImRhdGEtc3RhdGVcIjogaXNPcGVuID8gXCJvcGVuXCIgOiBcImNsb3NlZFwiLFxuICAgICAgXCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnRcIjogc3RhdGUuY29udGV4dC5oaWdobGlnaHRlZFZhbHVlID8gZG9tLmdldEl0ZW1JZChzdGF0ZS5jb250ZXh0LCBzdGF0ZS5jb250ZXh0LmhpZ2hsaWdodGVkVmFsdWUpIDogdm9pZCAwLFxuICAgICAgb25Db21wb3NpdGlvblN0YXJ0KCkge1xuICAgICAgICBzZW5kKFwiSU5QVVQuQ09NUE9TSVRJT05fU1RBUlRcIik7XG4gICAgICB9LFxuICAgICAgb25Db21wb3NpdGlvbkVuZCgpIHtcbiAgICAgICAgcmFmKCgpID0+IHtcbiAgICAgICAgICBzZW5kKFwiSU5QVVQuQ09NUE9TSVRJT05fRU5EXCIpO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBvbkNsaWNrKCkge1xuICAgICAgICBpZiAoIWlzSW50ZXJhY3RpdmUpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBzZW5kKFwiSU5QVVQuQ0xJQ0tcIik7XG4gICAgICB9LFxuICAgICAgb25Gb2N1cygpIHtcbiAgICAgICAgaWYgKGlzRGlzYWJsZWQpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBzZW5kKFwiSU5QVVQuRk9DVVNcIik7XG4gICAgICB9LFxuICAgICAgb25DaGFuZ2UoZXZlbnQpIHtcbiAgICAgICAgc2VuZCh7IHR5cGU6IFwiSU5QVVQuQ0hBTkdFXCIsIHZhbHVlOiBldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgfSxcbiAgICAgIG9uS2V5RG93bihldmVudCkge1xuICAgICAgICBpZiAoIWlzSW50ZXJhY3RpdmUpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBldnQgPSBnZXROYXRpdmVFdmVudChldmVudCk7XG4gICAgICAgIGlmIChldnQuY3RybEtleSB8fCBldnQuc2hpZnRLZXkgfHwgZXZ0LmlzQ29tcG9zaW5nKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3Qga2V5bWFwID0ge1xuICAgICAgICAgIEFycm93RG93bihldmVudDIpIHtcbiAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBldmVudDIuYWx0S2V5ID8gXCJJTlBVVC5BUlJPV19ET1dOK0FMVFwiIDogXCJJTlBVVC5BUlJPV19ET1dOXCIgfSk7XG4gICAgICAgICAgICBldmVudDIucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGV2ZW50Mi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIEFycm93VXAoKSB7XG4gICAgICAgICAgICBzZW5kKGV2ZW50LmFsdEtleSA/IFwiSU5QVVQuQVJST1dfVVArQUxUXCIgOiBcIklOUFVULkFSUk9XX1VQXCIpO1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgSG9tZShldmVudDIpIHtcbiAgICAgICAgICAgIGNvbnN0IGlzTW9kaWZpZWQgPSBldmVudDIuY3RybEtleSB8fCBldmVudDIubWV0YUtleSB8fCBldmVudDIuc2hpZnRLZXk7XG4gICAgICAgICAgICBpZiAoaXNNb2RpZmllZClcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgc2VuZChcIklOUFVULkhPTUVcIik7XG4gICAgICAgICAgICBpZiAoaXNPcGVuKSB7XG4gICAgICAgICAgICAgIGV2ZW50Mi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICBldmVudDIuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBFbmQoZXZlbnQyKSB7XG4gICAgICAgICAgICBjb25zdCBpc01vZGlmaWVkID0gZXZlbnQyLmN0cmxLZXkgfHwgZXZlbnQyLm1ldGFLZXkgfHwgZXZlbnQyLnNoaWZ0S2V5O1xuICAgICAgICAgICAgaWYgKGlzTW9kaWZpZWQpXG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHNlbmQoXCJJTlBVVC5FTkRcIik7XG4gICAgICAgICAgICBpZiAoaXNPcGVuKSB7XG4gICAgICAgICAgICAgIGV2ZW50Mi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICBldmVudDIuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBFbnRlcigpIHtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5jb250ZXh0LmNvbXBvc2luZylcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgc2VuZChcIklOUFVULkVOVEVSXCIpO1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgRXNjYXBlKCkge1xuICAgICAgICAgICAgc2VuZChcIklOUFVULkVTQ0FQRVwiKTtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBrZXkgPSBnZXRFdmVudEtleShldmVudCwgc3RhdGUuY29udGV4dCk7XG4gICAgICAgIGNvbnN0IGV4ZWMgPSBrZXltYXBba2V5XTtcbiAgICAgICAgZXhlYz8uKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9KSxcbiAgICB0cmlnZ2VyUHJvcHM6IG5vcm1hbGl6ZS5idXR0b24oe1xuICAgICAgLi4ucGFydHMudHJpZ2dlci5hdHRycyxcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICBpZDogZG9tLmdldFRyaWdnZXJJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIFwiYXJpYS1oYXNwb3B1cFwiOiBcImxpc3Rib3hcIixcbiAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICB0YWJJbmRleDogLTEsXG4gICAgICBcImFyaWEtbGFiZWxcIjogdHJhbnNsYXRpb25zLnRyaWdnZXJMYWJlbCxcbiAgICAgIFwiYXJpYS1leHBhbmRlZFwiOiBpc09wZW4sXG4gICAgICBcImRhdGEtc3RhdGVcIjogaXNPcGVuID8gXCJvcGVuXCIgOiBcImNsb3NlZFwiLFxuICAgICAgXCJhcmlhLWNvbnRyb2xzXCI6IGlzT3BlbiA/IGRvbS5nZXRDb250ZW50SWQoc3RhdGUuY29udGV4dCkgOiB2b2lkIDAsXG4gICAgICBkaXNhYmxlZDogaXNEaXNhYmxlZCxcbiAgICAgIFwiZGF0YS1yZWFkb25seVwiOiBkYXRhQXR0cihpc1JlYWRPbmx5KSxcbiAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihpc0Rpc2FibGVkKSxcbiAgICAgIG9uUG9pbnRlckRvd24oZXZlbnQpIHtcbiAgICAgICAgY29uc3QgZXZ0ID0gZ2V0TmF0aXZlRXZlbnQoZXZlbnQpO1xuICAgICAgICBpZiAoIWlzSW50ZXJhY3RpdmUgfHwgIWlzTGVmdENsaWNrKGV2dCkgfHwgZXZ0LnBvaW50ZXJUeXBlID09PSBcInRvdWNoXCIpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBzZW5kKFwiVFJJR0dFUi5DTElDS1wiKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH0sXG4gICAgICBvblBvaW50ZXJVcChldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgIT09IFwidG91Y2hcIilcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIHNlbmQoXCJUUklHR0VSLkNMSUNLXCIpO1xuICAgICAgfSxcbiAgICAgIHN0eWxlOiB7IG91dGxpbmU6IDAgfVxuICAgIH0pLFxuICAgIGNvbnRlbnRQcm9wczogbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgLi4ucGFydHMuY29udGVudC5hdHRycyxcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICBpZDogZG9tLmdldENvbnRlbnRJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIHJvbGU6IFwibGlzdGJveFwiLFxuICAgICAgdGFiSW5kZXg6IC0xLFxuICAgICAgaGlkZGVuOiAhaXNPcGVuLFxuICAgICAgXCJkYXRhLXN0YXRlXCI6IGlzT3BlbiA/IFwib3BlblwiIDogXCJjbG9zZWRcIixcbiAgICAgIFwiYXJpYS1sYWJlbGxlZGJ5XCI6IGRvbS5nZXRMYWJlbElkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgXCJhcmlhLW11bHRpc2VsZWN0YWJsZVwiOiBzdGF0ZS5jb250ZXh0Lm11bHRpcGxlID8gdHJ1ZSA6IHZvaWQgMCxcbiAgICAgIG9uUG9pbnRlckRvd24oZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICB9KSxcbiAgICBjbGVhclRyaWdnZXJQcm9wczogbm9ybWFsaXplLmJ1dHRvbih7XG4gICAgICAuLi5wYXJ0cy5jbGVhclRyaWdnZXIuYXR0cnMsXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgaWQ6IGRvbS5nZXRDbGVhclRyaWdnZXJJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICB0YWJJbmRleDogLTEsXG4gICAgICBkaXNhYmxlZDogaXNEaXNhYmxlZCxcbiAgICAgIFwiYXJpYS1sYWJlbFwiOiB0cmFuc2xhdGlvbnMuY2xlYXJUcmlnZ2VyTGFiZWwsXG4gICAgICBoaWRkZW46IHN0YXRlLmNvbnRleHQuaXNJbnB1dFZhbHVlRW1wdHksXG4gICAgICBvblBvaW50ZXJEb3duKGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IGV2dCA9IGdldE5hdGl2ZUV2ZW50KGV2ZW50KTtcbiAgICAgICAgaWYgKCFpc0ludGVyYWN0aXZlIHx8ICFpc0xlZnRDbGljayhldnQpKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgc2VuZCh7IHR5cGU6IFwiVkFMVUUuQ0xFQVJcIiwgc3JjOiBcImNsZWFyLXRyaWdnZXJcIiB9KTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICB9KSxcbiAgICBnZXRJdGVtU3RhdGUsXG4gICAgZ2V0SXRlbVByb3BzKHByb3BzKSB7XG4gICAgICBjb25zdCBpdGVtU3RhdGUgPSBnZXRJdGVtU3RhdGUocHJvcHMpO1xuICAgICAgY29uc3QgdmFsdWUgPSBpdGVtU3RhdGUudmFsdWU7XG4gICAgICByZXR1cm4gbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgICAuLi5wYXJ0cy5pdGVtLmF0dHJzLFxuICAgICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgICBpZDogZG9tLmdldEl0ZW1JZChzdGF0ZS5jb250ZXh0LCB2YWx1ZSksXG4gICAgICAgIHJvbGU6IFwib3B0aW9uXCIsXG4gICAgICAgIHRhYkluZGV4OiAtMSxcbiAgICAgICAgXCJkYXRhLWhpZ2hsaWdodGVkXCI6IGRhdGFBdHRyKGl0ZW1TdGF0ZS5pc0hpZ2hsaWdodGVkKSxcbiAgICAgICAgXCJkYXRhLXN0YXRlXCI6IGl0ZW1TdGF0ZS5pc1NlbGVjdGVkID8gXCJjaGVja2VkXCIgOiBcInVuY2hlY2tlZFwiLFxuICAgICAgICBcImFyaWEtc2VsZWN0ZWRcIjogaXRlbVN0YXRlLmlzSGlnaGxpZ2h0ZWQsXG4gICAgICAgIFwiYXJpYS1kaXNhYmxlZFwiOiBpdGVtU3RhdGUuaXNEaXNhYmxlZCxcbiAgICAgICAgXCJkYXRhLWRpc2FibGVkXCI6IGRhdGFBdHRyKGl0ZW1TdGF0ZS5pc0Rpc2FibGVkKSxcbiAgICAgICAgXCJkYXRhLXZhbHVlXCI6IGl0ZW1TdGF0ZS52YWx1ZSxcbiAgICAgICAgb25Qb2ludGVyTW92ZSgpIHtcbiAgICAgICAgICBpZiAoaXRlbVN0YXRlLmlzRGlzYWJsZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgc2VuZCh7IHR5cGU6IFwiSVRFTS5QT0lOVEVSX09WRVJcIiwgdmFsdWUgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uUG9pbnRlckxlYXZlKCkge1xuICAgICAgICAgIGlmIChpdGVtU3RhdGUuaXNEaXNhYmxlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBzZW5kKHsgdHlwZTogXCJJVEVNLlBPSU5URVJfTEVBVkVcIiwgdmFsdWUgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uUG9pbnRlclVwKGV2ZW50KSB7XG4gICAgICAgICAgaWYgKGl0ZW1TdGF0ZS5pc0Rpc2FibGVkIHx8IGlzQ29udGV4dE1lbnVFdmVudChldmVudCkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgc2VuZCh7IHR5cGU6IFwiSVRFTS5DTElDS1wiLCBzcmM6IFwicG9pbnRlcnVwXCIsIHZhbHVlIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdldEl0ZW1UZXh0UHJvcHMocHJvcHMpIHtcbiAgICAgIGNvbnN0IGl0ZW1TdGF0ZSA9IGdldEl0ZW1TdGF0ZShwcm9wcyk7XG4gICAgICByZXR1cm4gbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgICAuLi5wYXJ0cy5pdGVtVGV4dC5hdHRycyxcbiAgICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgICAgXCJkYXRhLWRpc2FibGVkXCI6IGRhdGFBdHRyKGl0ZW1TdGF0ZS5pc0Rpc2FibGVkKSxcbiAgICAgICAgXCJkYXRhLWhpZ2hsaWdodGVkXCI6IGRhdGFBdHRyKGl0ZW1TdGF0ZS5pc0hpZ2hsaWdodGVkKVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZXRJdGVtSW5kaWNhdG9yUHJvcHMocHJvcHMpIHtcbiAgICAgIGNvbnN0IGl0ZW1TdGF0ZSA9IGdldEl0ZW1TdGF0ZShwcm9wcyk7XG4gICAgICByZXR1cm4gbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgICBcImFyaWEtaGlkZGVuXCI6IHRydWUsXG4gICAgICAgIC4uLnBhcnRzLml0ZW1JbmRpY2F0b3IuYXR0cnMsXG4gICAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICAgIFwiZGF0YS1zdGF0ZVwiOiBpdGVtU3RhdGUuaXNTZWxlY3RlZCA/IFwiY2hlY2tlZFwiIDogXCJ1bmNoZWNrZWRcIixcbiAgICAgICAgaGlkZGVuOiAhaXRlbVN0YXRlLmlzU2VsZWN0ZWRcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0SXRlbUdyb3VwUHJvcHMocHJvcHMpIHtcbiAgICAgIGNvbnN0IHsgaWQgfSA9IHByb3BzO1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgICAgLi4ucGFydHMuaXRlbUdyb3VwLmF0dHJzLFxuICAgICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgICBpZDogZG9tLmdldEl0ZW1Hcm91cElkKHN0YXRlLmNvbnRleHQsIGlkKSxcbiAgICAgICAgXCJhcmlhLWxhYmVsbGVkYnlcIjogZG9tLmdldEl0ZW1Hcm91cExhYmVsSWQoc3RhdGUuY29udGV4dCwgaWQpXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdldEl0ZW1Hcm91cExhYmVsUHJvcHMocHJvcHMpIHtcbiAgICAgIGNvbnN0IHsgaHRtbEZvciB9ID0gcHJvcHM7XG4gICAgICByZXR1cm4gbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgICAuLi5wYXJ0cy5pdGVtR3JvdXBMYWJlbC5hdHRycyxcbiAgICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgICAgaWQ6IGRvbS5nZXRJdGVtR3JvdXBMYWJlbElkKHN0YXRlLmNvbnRleHQsIGh0bWxGb3IpLFxuICAgICAgICByb2xlOiBcImdyb3VwXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1cblxuLy8gc3JjL2NvbWJvYm94Lm1hY2hpbmUudHNcbmltcG9ydCB7IGFyaWFIaWRkZW4gfSBmcm9tIFwiQHphZy1qcy9hcmlhLWhpZGRlblwiO1xuaW1wb3J0IHsgY3JlYXRlTWFjaGluZSwgZ3VhcmRzIH0gZnJvbSBcIkB6YWctanMvY29yZVwiO1xuaW1wb3J0IHsgdHJhY2tEaXNtaXNzYWJsZUVsZW1lbnQgfSBmcm9tIFwiQHphZy1qcy9kaXNtaXNzYWJsZVwiO1xuaW1wb3J0IHsgcmFmIGFzIHJhZjIgfSBmcm9tIFwiQHphZy1qcy9kb20tcXVlcnlcIjtcbmltcG9ydCB7IG9ic2VydmVBdHRyaWJ1dGVzLCBvYnNlcnZlQ2hpbGRyZW4gfSBmcm9tIFwiQHphZy1qcy9tdXRhdGlvbi1vYnNlcnZlclwiO1xuaW1wb3J0IHsgZ2V0UGxhY2VtZW50IH0gZnJvbSBcIkB6YWctanMvcG9wcGVyXCI7XG5pbXBvcnQgeyBhZGRPclJlbW92ZSwgY29tcGFjdCwgaXNFcXVhbCwgbWF0Y2ggfSBmcm9tIFwiQHphZy1qcy91dGlsc1wiO1xudmFyIHsgYW5kLCBub3QgfSA9IGd1YXJkcztcbnZhciBLRVlET1dOX0VWRU5UX1JFR0VYID0gLyhBUlJPV19VUHxBUlJPV19ET1dOfEhPTUV8RU5EfEVOVEVSfEVTQ0FQRSkvO1xuZnVuY3Rpb24gbWFjaGluZSh1c2VyQ29udGV4dCkge1xuICBjb25zdCBjdHggPSBjb21wYWN0KHVzZXJDb250ZXh0KTtcbiAgcmV0dXJuIGNyZWF0ZU1hY2hpbmUoXG4gICAge1xuICAgICAgaWQ6IFwiY29tYm9ib3hcIixcbiAgICAgIGluaXRpYWw6IGN0eC5hdXRvRm9jdXMgPyBcImZvY3VzZWRcIiA6IFwiaWRsZVwiLFxuICAgICAgY29udGV4dDoge1xuICAgICAgICBsb29wOiB0cnVlLFxuICAgICAgICBvcGVuT25DbGljazogZmFsc2UsXG4gICAgICAgIGNvbXBvc2luZzogZmFsc2UsXG4gICAgICAgIHZhbHVlOiBbXSxcbiAgICAgICAgaGlnaGxpZ2h0ZWRWYWx1ZTogbnVsbCxcbiAgICAgICAgaW5wdXRWYWx1ZTogXCJcIixcbiAgICAgICAgc2VsZWN0T25CbHVyOiB0cnVlLFxuICAgICAgICBhbGxvd0N1c3RvbVZhbHVlOiBmYWxzZSxcbiAgICAgICAgY2xvc2VPblNlbGVjdDogdHJ1ZSxcbiAgICAgICAgaW5wdXRCZWhhdmlvcjogXCJub25lXCIsXG4gICAgICAgIHNlbGVjdGlvbkJlaGF2aW9yOiBcInJlcGxhY2VcIixcbiAgICAgICAgLi4uY3R4LFxuICAgICAgICBjb2xsZWN0aW9uOiBjdHguY29sbGVjdGlvbiA/PyBjb2xsZWN0aW9uLmVtcHR5KCksXG4gICAgICAgIHBvc2l0aW9uaW5nOiB7XG4gICAgICAgICAgcGxhY2VtZW50OiBcImJvdHRvbVwiLFxuICAgICAgICAgIGZsaXA6IGZhbHNlLFxuICAgICAgICAgIHNhbWVXaWR0aDogdHJ1ZSxcbiAgICAgICAgICAuLi5jdHgucG9zaXRpb25pbmdcbiAgICAgICAgfSxcbiAgICAgICAgdHJhbnNsYXRpb25zOiB7XG4gICAgICAgICAgdHJpZ2dlckxhYmVsOiBcIlRvZ2dsZSBzdWdnZXN0aW9uc1wiLFxuICAgICAgICAgIGNsZWFyVHJpZ2dlckxhYmVsOiBcIkNsZWFyIHZhbHVlXCIsXG4gICAgICAgICAgLi4uY3R4LnRyYW5zbGF0aW9uc1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY29tcHV0ZWQ6IHtcbiAgICAgICAgaXNJbnB1dFZhbHVlRW1wdHk6IChjdHgyKSA9PiBjdHgyLmlucHV0VmFsdWUubGVuZ3RoID09PSAwLFxuICAgICAgICBpc0ludGVyYWN0aXZlOiAoY3R4MikgPT4gIShjdHgyLnJlYWRPbmx5IHx8IGN0eDIuZGlzYWJsZWQpLFxuICAgICAgICBhdXRvQ29tcGxldGU6IChjdHgyKSA9PiBjdHgyLmlucHV0QmVoYXZpb3IgPT09IFwiYXV0b2NvbXBsZXRlXCIsXG4gICAgICAgIGF1dG9IaWdobGlnaHQ6IChjdHgyKSA9PiBjdHgyLmlucHV0QmVoYXZpb3IgPT09IFwiYXV0b2hpZ2hsaWdodFwiLFxuICAgICAgICBzZWxlY3RlZEl0ZW1zOiAoY3R4MikgPT4gY3R4Mi5jb2xsZWN0aW9uLml0ZW1zKGN0eDIudmFsdWUpLFxuICAgICAgICBoaWdobGlnaHRlZEl0ZW06IChjdHgyKSA9PiBjdHgyLmNvbGxlY3Rpb24uaXRlbShjdHgyLmhpZ2hsaWdodGVkVmFsdWUpLFxuICAgICAgICB2YWx1ZUFzU3RyaW5nOiAoY3R4MikgPT4gY3R4Mi5jb2xsZWN0aW9uLml0ZW1zVG9TdHJpbmcoY3R4Mi5zZWxlY3RlZEl0ZW1zKSxcbiAgICAgICAgaGFzU2VsZWN0ZWRJdGVtczogKGN0eDIpID0+IGN0eDIudmFsdWUubGVuZ3RoID4gMFxuICAgICAgfSxcbiAgICAgIHdhdGNoOiB7XG4gICAgICAgIGlucHV0VmFsdWU6IFtcInN5bmNJbnB1dFZhbHVlXCJdLFxuICAgICAgICBoaWdobGlnaHRlZFZhbHVlOiBbXCJhdXRvZmlsbElucHV0VmFsdWVcIl1cbiAgICAgIH0sXG4gICAgICBvbjoge1xuICAgICAgICBcIkhJR0hMSUdIVEVEX1ZBTFVFLlNFVFwiOiB7XG4gICAgICAgICAgYWN0aW9uczogW1wic2V0SGlnaGxpZ2h0ZWRJdGVtXCJdXG4gICAgICAgIH0sXG4gICAgICAgIFwiSVRFTS5TRUxFQ1RcIjoge1xuICAgICAgICAgIGFjdGlvbnM6IFtcInNlbGVjdEl0ZW1cIl1cbiAgICAgICAgfSxcbiAgICAgICAgXCJJVEVNLkNMRUFSXCI6IHtcbiAgICAgICAgICBhY3Rpb25zOiBbXCJjbGVhckl0ZW1cIl1cbiAgICAgICAgfSxcbiAgICAgICAgXCJWQUxVRS5TRVRcIjoge1xuICAgICAgICAgIGFjdGlvbnM6IFtcInNldFNlbGVjdGVkSXRlbXNcIl1cbiAgICAgICAgfSxcbiAgICAgICAgXCJJTlBVVF9WQUxVRS5TRVRcIjoge1xuICAgICAgICAgIGFjdGlvbnM6IFwic2V0SW5wdXRWYWx1ZVwiXG4gICAgICAgIH0sXG4gICAgICAgIFwiVkFMVUUuQ0xFQVJcIjoge1xuICAgICAgICAgIHRhcmdldDogXCJmb2N1c2VkXCIsXG4gICAgICAgICAgYWN0aW9uczogW1wiY2xlYXJJbnB1dFZhbHVlXCIsIFwiY2xlYXJTZWxlY3RlZEl0ZW1zXCJdXG4gICAgICAgIH0sXG4gICAgICAgIFwiSU5QVVQuQ09NUE9TSVRJT05fU1RBUlRcIjoge1xuICAgICAgICAgIGFjdGlvbnM6IFtcInNldElzQ29tcG9zaW5nXCJdXG4gICAgICAgIH0sXG4gICAgICAgIFwiSU5QVVQuQ09NUE9TSVRJT05fRU5EXCI6IHtcbiAgICAgICAgICBhY3Rpb25zOiBbXCJjbGVhcklzQ29tcG9zaW5nXCJdXG4gICAgICAgIH0sXG4gICAgICAgIFwiQ09MTEVDVElPTi5TRVRcIjoge1xuICAgICAgICAgIGFjdGlvbnM6IFtcInNldENvbGxlY3Rpb25cIl1cbiAgICAgICAgfSxcbiAgICAgICAgXCJQT1NJVElPTklORy5TRVRcIjoge1xuICAgICAgICAgIGFjdGlvbnM6IFtcInJlcG9zaXRpb25cIl1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHN0YXRlczoge1xuICAgICAgICBpZGxlOiB7XG4gICAgICAgICAgdGFnczogW1wiaWRsZVwiLCBcImNsb3NlZFwiXSxcbiAgICAgICAgICBlbnRyeTogW1wic2Nyb2xsQ29udGVudFRvVG9wXCIsIFwiY2xlYXJIaWdobGlnaHRlZEl0ZW1cIl0sXG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIFwiVFJJR0dFUi5DTElDS1wiOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJpbnRlcmFjdGluZ1wiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJmb2N1c0lucHV0XCIsIFwiaGlnaGxpZ2h0Rmlyc3RTZWxlY3RlZEl0ZW1cIiwgXCJpbnZva2VPbk9wZW5cIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIklOUFVULkNMSUNLXCI6IHtcbiAgICAgICAgICAgICAgZ3VhcmQ6IFwib3Blbk9uQ2xpY2tcIixcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcImludGVyYWN0aW5nXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcImhpZ2hsaWdodEZpcnN0U2VsZWN0ZWRJdGVtXCIsIFwiaW52b2tlT25PcGVuXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJJTlBVVC5GT0NVU1wiOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJmb2N1c2VkXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBPUEVOOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJpbnRlcmFjdGluZ1wiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJpbnZva2VPbk9wZW5cIl1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGZvY3VzZWQ6IHtcbiAgICAgICAgICB0YWdzOiBbXCJmb2N1c2VkXCIsIFwiY2xvc2VkXCJdLFxuICAgICAgICAgIGVudHJ5OiBbXCJmb2N1c0lucHV0XCIsIFwic2Nyb2xsQ29udGVudFRvVG9wXCIsIFwiY2xlYXJIaWdobGlnaHRlZEl0ZW1cIl0sXG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIFwiSU5QVVQuQ0hBTkdFXCI6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcInN1Z2dlc3RpbmdcIixcbiAgICAgICAgICAgICAgYWN0aW9uczogXCJzZXRJbnB1dFZhbHVlXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIkxBWUVSLklOVEVSQUNUX09VVFNJREVcIjoge1xuICAgICAgICAgICAgICB0YXJnZXQ6IFwiaWRsZVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJJTlBVVC5FU0NBUEVcIjoge1xuICAgICAgICAgICAgICBndWFyZDogYW5kKFwiaXNDdXN0b21WYWx1ZVwiLCBub3QoXCJhbGxvd0N1c3RvbVZhbHVlXCIpKSxcbiAgICAgICAgICAgICAgYWN0aW9uczogXCJyZXZlcnRJbnB1dFZhbHVlXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIklOUFVULkNMSUNLXCI6IHtcbiAgICAgICAgICAgICAgZ3VhcmQ6IFwib3Blbk9uQ2xpY2tcIixcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcImludGVyYWN0aW5nXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcImhpZ2hsaWdodEZpcnN0U2VsZWN0ZWRJdGVtXCIsIFwiaW52b2tlT25PcGVuXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJUUklHR0VSLkNMSUNLXCI6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcImludGVyYWN0aW5nXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcImZvY3VzSW5wdXRcIiwgXCJoaWdobGlnaHRGaXJzdFNlbGVjdGVkSXRlbVwiLCBcImludm9rZU9uT3BlblwiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiSU5QVVQuQVJST1dfRE9XTlwiOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBndWFyZDogXCJhdXRvQ29tcGxldGVcIixcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiaW50ZXJhY3RpbmdcIixcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJpbnZva2VPbk9wZW5cIl1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGd1YXJkOiBcImhhc1NlbGVjdGVkSXRlbXNcIixcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiaW50ZXJhY3RpbmdcIixcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJoaWdobGlnaHRGaXJzdFNlbGVjdGVkSXRlbVwiLCBcImludm9rZU9uT3BlblwiXVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBcImludGVyYWN0aW5nXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogW1wiaGlnaGxpZ2h0Rmlyc3RJdGVtXCIsIFwiaW52b2tlT25PcGVuXCJdXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIklOUFVULkFSUk9XX0RPV04rQUxUXCI6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcImludGVyYWN0aW5nXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFwiaW52b2tlT25PcGVuXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIklOUFVULkFSUk9XX1VQXCI6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGd1YXJkOiBcImF1dG9Db21wbGV0ZVwiLFxuICAgICAgICAgICAgICAgIHRhcmdldDogXCJpbnRlcmFjdGluZ1wiLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFwiaW52b2tlT25PcGVuXCJcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGd1YXJkOiBcImhhc1NlbGVjdGVkSXRlbXNcIixcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiaW50ZXJhY3RpbmdcIixcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJoaWdobGlnaHRGaXJzdFNlbGVjdGVkSXRlbVwiLCBcImludm9rZU9uT3BlblwiXVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBcImludGVyYWN0aW5nXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogW1wiaGlnaGxpZ2h0TGFzdEl0ZW1cIiwgXCJpbnZva2VPbk9wZW5cIl1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIE9QRU46IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcImludGVyYWN0aW5nXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcImludm9rZU9uT3BlblwiXVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgaW50ZXJhY3Rpbmc6IHtcbiAgICAgICAgICB0YWdzOiBbXCJvcGVuXCIsIFwiZm9jdXNlZFwiXSxcbiAgICAgICAgICBhY3Rpdml0aWVzOiBbXCJzY3JvbGxJbnRvVmlld1wiLCBcInRyYWNrRGlzbWlzc2FibGVMYXllclwiLCBcImNvbXB1dGVQbGFjZW1lbnRcIiwgXCJoaWRlT3RoZXJFbGVtZW50c1wiXSxcbiAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgXCJJTlBVVC5IT01FXCI6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wiaGlnaGxpZ2h0Rmlyc3RJdGVtXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJJTlBVVC5FTkRcIjoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJoaWdobGlnaHRMYXN0SXRlbVwiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiSU5QVVQuQVJST1dfRE9XTlwiOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBndWFyZDogYW5kKFwiYXV0b0NvbXBsZXRlXCIsIFwiaXNMYXN0SXRlbUhpZ2hsaWdodGVkXCIpLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFtcImNsZWFySGlnaGxpZ2h0ZWRJdGVtXCIsIFwic2Nyb2xsQ29udGVudFRvVG9wXCJdXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJoaWdobGlnaHROZXh0SXRlbVwiXVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJJTlBVVC5BUlJPV19VUFwiOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBndWFyZDogYW5kKFwiYXV0b0NvbXBsZXRlXCIsIFwiaXNGaXJzdEl0ZW1IaWdobGlnaHRlZFwiKSxcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBcImNsZWFySGlnaGxpZ2h0ZWRJdGVtXCJcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFwiaGlnaGxpZ2h0UHJldkl0ZW1cIlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJJTlBVVC5BUlJPV19VUCtBTFRcIjoge1xuICAgICAgICAgICAgICB0YXJnZXQ6IFwiZm9jdXNlZFwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJJTlBVVC5FTlRFUlwiOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBndWFyZDogbm90KFwiY2xvc2VPblNlbGVjdFwiKSxcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJzZWxlY3RIaWdobGlnaHRlZEl0ZW1cIl1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRhcmdldDogXCJmb2N1c2VkXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogW1wic2VsZWN0SGlnaGxpZ2h0ZWRJdGVtXCIsIFwiaW52b2tlT25DbG9zZVwiXVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJJTlBVVC5DSEFOR0VcIjogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ3VhcmQ6IFwiYXV0b0NvbXBsZXRlXCIsXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBcInN1Z2dlc3RpbmdcIixcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRJbnB1dFZhbHVlXCJdXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IFwic3VnZ2VzdGluZ1wiLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFtcImNsZWFySGlnaGxpZ2h0ZWRJdGVtXCIsIFwic2V0SW5wdXRWYWx1ZVwiXVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJJVEVNLlBPSU5URVJfT1ZFUlwiOiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldEhpZ2hsaWdodGVkSXRlbVwiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiSVRFTS5QT0lOVEVSX0xFQVZFXCI6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wiY2xlYXJIaWdobGlnaHRlZEl0ZW1cIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIklURU0uQ0xJQ0tcIjogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ3VhcmQ6IG5vdChcImNsb3NlT25TZWxlY3RcIiksXG4gICAgICAgICAgICAgICAgYWN0aW9uczogW1wic2VsZWN0SXRlbVwiXVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBcImZvY3VzZWRcIixcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJzZWxlY3RJdGVtXCIsIFwiaW52b2tlT25DbG9zZVwiXVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJMQVlFUi5FU0NBUEVcIjogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ3VhcmQ6IFwiYXV0b0NvbXBsZXRlXCIsXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBcImZvY3VzZWRcIixcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJzeW5jSW5wdXRWYWx1ZVwiLCBcImludm9rZU9uQ2xvc2VcIl1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRhcmdldDogXCJmb2N1c2VkXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogW1wiaW52b2tlT25DbG9zZVwiXVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJUUklHR0VSLkNMSUNLXCI6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcImZvY3VzZWRcIixcbiAgICAgICAgICAgICAgYWN0aW9uczogXCJpbnZva2VPbkNsb3NlXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIkxBWUVSLklOVEVSQUNUX09VVFNJREVcIjogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ3VhcmQ6IGFuZChcInNlbGVjdE9uQmx1clwiLCBcImhhc0hpZ2hsaWdodGVkSXRlbVwiKSxcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiaWRsZVwiLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNlbGVjdEhpZ2hsaWdodGVkSXRlbVwiLCBcImludm9rZU9uQ2xvc2VcIl1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGd1YXJkOiBhbmQoXCJpc0N1c3RvbVZhbHVlXCIsIG5vdChcImFsbG93Q3VzdG9tVmFsdWVcIikpLFxuICAgICAgICAgICAgICAgIHRhcmdldDogXCJpZGxlXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogW1wicmV2ZXJ0SW5wdXRWYWx1ZVwiLCBcImludm9rZU9uQ2xvc2VcIl1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRhcmdldDogXCJpZGxlXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogXCJpbnZva2VPbkNsb3NlXCJcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIENMT1NFOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJmb2N1c2VkXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFwiaW52b2tlT25DbG9zZVwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzdWdnZXN0aW5nOiB7XG4gICAgICAgICAgdGFnczogW1wib3BlblwiLCBcImZvY3VzZWRcIl0sXG4gICAgICAgICAgYWN0aXZpdGllczogW1xuICAgICAgICAgICAgXCJ0cmFja0Rpc21pc3NhYmxlTGF5ZXJcIixcbiAgICAgICAgICAgIFwic2Nyb2xsSW50b1ZpZXdcIixcbiAgICAgICAgICAgIFwiY29tcHV0ZVBsYWNlbWVudFwiLFxuICAgICAgICAgICAgXCJ0cmFja0NoaWxkTm9kZXNcIixcbiAgICAgICAgICAgIFwiaGlkZU90aGVyRWxlbWVudHNcIlxuICAgICAgICAgIF0sXG4gICAgICAgICAgZW50cnk6IFtcImZvY3VzSW5wdXRcIiwgXCJpbnZva2VPbk9wZW5cIl0sXG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIENISUxEUkVOX0NIQU5HRToge1xuICAgICAgICAgICAgICBndWFyZDogbm90KFwiaXNIaWdobGlnaHRlZEl0ZW1WaXNpYmxlXCIpLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJoaWdobGlnaHRGaXJzdEl0ZW1cIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIklOUFVULkFSUk9XX0RPV05cIjoge1xuICAgICAgICAgICAgICB0YXJnZXQ6IFwiaW50ZXJhY3RpbmdcIixcbiAgICAgICAgICAgICAgYWN0aW9uczogXCJoaWdobGlnaHROZXh0SXRlbVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJJTlBVVC5BUlJPV19VUFwiOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJpbnRlcmFjdGluZ1wiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBcImhpZ2hsaWdodFByZXZJdGVtXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIklOUFVULkFSUk9XX1VQK0FMVFwiOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJmb2N1c2VkXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIklOUFVULkhPTUVcIjoge1xuICAgICAgICAgICAgICB0YXJnZXQ6IFwiaW50ZXJhY3RpbmdcIixcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wiaGlnaGxpZ2h0Rmlyc3RJdGVtXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJJTlBVVC5FTkRcIjoge1xuICAgICAgICAgICAgICB0YXJnZXQ6IFwiaW50ZXJhY3RpbmdcIixcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wiaGlnaGxpZ2h0TGFzdEl0ZW1cIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIklOUFVULkVOVEVSXCI6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGd1YXJkOiBub3QoXCJjbG9zZU9uU2VsZWN0XCIpLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNlbGVjdEhpZ2hsaWdodGVkSXRlbVwiXVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBcImZvY3VzZWRcIixcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJzZWxlY3RIaWdobGlnaHRlZEl0ZW1cIiwgXCJpbnZva2VPbkNsb3NlXCJdXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIklOUFVULkNIQU5HRVwiOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBndWFyZDogXCJhdXRvSGlnaGxpZ2h0XCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogW1wic2V0SW5wdXRWYWx1ZVwiLCBcImhpZ2hsaWdodEZpcnN0SXRlbVwiXVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYWN0aW9uczogW1wiY2xlYXJIaWdobGlnaHRlZEl0ZW1cIiwgXCJzZXRJbnB1dFZhbHVlXCJdXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIkxBWUVSLkVTQ0FQRVwiOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJmb2N1c2VkXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFwiaW52b2tlT25DbG9zZVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJJVEVNLlBPSU5URVJfT1ZFUlwiOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJpbnRlcmFjdGluZ1wiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBcInNldEhpZ2hsaWdodGVkSXRlbVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJJVEVNLlBPSU5URVJfTEVBVkVcIjoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBcImNsZWFySGlnaGxpZ2h0ZWRJdGVtXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIkxBWUVSLklOVEVSQUNUX09VVFNJREVcIjogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ3VhcmQ6IGFuZChcImlzQ3VzdG9tVmFsdWVcIiwgbm90KFwiYWxsb3dDdXN0b21WYWx1ZVwiKSksXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBcImlkbGVcIixcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJyZXZlcnRJbnB1dFZhbHVlXCIsIFwiaW52b2tlT25DbG9zZVwiXVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBcImlkbGVcIixcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBcImludm9rZU9uQ2xvc2VcIlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJUUklHR0VSLkNMSUNLXCI6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcImZvY3VzZWRcIixcbiAgICAgICAgICAgICAgYWN0aW9uczogXCJpbnZva2VPbkNsb3NlXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIklURU0uQ0xJQ0tcIjogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ3VhcmQ6IG5vdChcImNsb3NlT25TZWxlY3RcIiksXG4gICAgICAgICAgICAgICAgYWN0aW9uczogW1wic2VsZWN0SXRlbVwiXVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBcImZvY3VzZWRcIixcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJzZWxlY3RJdGVtXCIsIFwiaW52b2tlT25DbG9zZVwiXVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgQ0xPU0U6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcImZvY3VzZWRcIixcbiAgICAgICAgICAgICAgYWN0aW9uczogXCJpbnZva2VPbkNsb3NlXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIGd1YXJkczoge1xuICAgICAgICBvcGVuT25DbGljazogKGN0eDIpID0+ICEhY3R4Mi5vcGVuT25DbGljayxcbiAgICAgICAgaXNJbnB1dFZhbHVlRW1wdHk6IChjdHgyKSA9PiBjdHgyLmlzSW5wdXRWYWx1ZUVtcHR5LFxuICAgICAgICBhdXRvQ29tcGxldGU6IChjdHgyKSA9PiBjdHgyLmF1dG9Db21wbGV0ZSAmJiAhY3R4Mi5tdWx0aXBsZSxcbiAgICAgICAgYXV0b0hpZ2hsaWdodDogKGN0eDIpID0+IGN0eDIuYXV0b0hpZ2hsaWdodCxcbiAgICAgICAgaXNGaXJzdEl0ZW1IaWdobGlnaHRlZDogKGN0eDIpID0+IGN0eDIuY29sbGVjdGlvbi5maXJzdCgpID09PSBjdHgyLmhpZ2hsaWdodGVkVmFsdWUsXG4gICAgICAgIGlzTGFzdEl0ZW1IaWdobGlnaHRlZDogKGN0eDIpID0+IGN0eDIuY29sbGVjdGlvbi5sYXN0KCkgPT09IGN0eDIuaGlnaGxpZ2h0ZWRWYWx1ZSxcbiAgICAgICAgaXNDdXN0b21WYWx1ZTogKGN0eDIpID0+IGN0eDIuaW5wdXRWYWx1ZSAhPT0gY3R4Mi52YWx1ZUFzU3RyaW5nLFxuICAgICAgICBhbGxvd0N1c3RvbVZhbHVlOiAoY3R4MikgPT4gISFjdHgyLmFsbG93Q3VzdG9tVmFsdWUsXG4gICAgICAgIGhhc0hpZ2hsaWdodGVkSXRlbTogKGN0eDIpID0+IGN0eDIuaGlnaGxpZ2h0ZWRWYWx1ZSAhPSBudWxsLFxuICAgICAgICBoYXNTZWxlY3RlZEl0ZW1zOiAoY3R4MikgPT4gY3R4Mi5oYXNTZWxlY3RlZEl0ZW1zLFxuICAgICAgICBzZWxlY3RPbkJsdXI6IChjdHgyKSA9PiAhIWN0eDIuc2VsZWN0T25CbHVyLFxuICAgICAgICBjbG9zZU9uU2VsZWN0OiAoY3R4MikgPT4gY3R4Mi5tdWx0aXBsZSA/IGZhbHNlIDogISFjdHgyLmNsb3NlT25TZWxlY3QsXG4gICAgICAgIGlzSGlnaGxpZ2h0ZWRJdGVtVmlzaWJsZTogKGN0eDIpID0+IGN0eDIuY29sbGVjdGlvbi5oYXMoY3R4Mi5oaWdobGlnaHRlZFZhbHVlKVxuICAgICAgfSxcbiAgICAgIGFjdGl2aXRpZXM6IHtcbiAgICAgICAgdHJhY2tEaXNtaXNzYWJsZUxheWVyKGN0eDIsIF9ldnQsIHsgc2VuZCB9KSB7XG4gICAgICAgICAgY29uc3QgY29udGVudEVsID0gKCkgPT4gZG9tLmdldENvbnRlbnRFbChjdHgyKTtcbiAgICAgICAgICByZXR1cm4gdHJhY2tEaXNtaXNzYWJsZUVsZW1lbnQoY29udGVudEVsLCB7XG4gICAgICAgICAgICBkZWZlcjogdHJ1ZSxcbiAgICAgICAgICAgIGV4Y2x1ZGU6ICgpID0+IFtkb20uZ2V0Q29udGVudEVsKGN0eDIpLCBkb20uZ2V0VHJpZ2dlckVsKGN0eDIpLCBkb20uZ2V0Q2xlYXJUcmlnZ2VyRWwoY3R4MildLFxuICAgICAgICAgICAgb25Gb2N1c091dHNpZGU6IGN0eDIub25Gb2N1c091dHNpZGUsXG4gICAgICAgICAgICBvblBvaW50ZXJEb3duT3V0c2lkZTogY3R4Mi5vblBvaW50ZXJEb3duT3V0c2lkZSxcbiAgICAgICAgICAgIG9uSW50ZXJhY3RPdXRzaWRlOiBjdHgyLm9uSW50ZXJhY3RPdXRzaWRlLFxuICAgICAgICAgICAgb25Fc2NhcGVLZXlEb3duKGV2ZW50KSB7XG4gICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgIHNlbmQoXCJMQVlFUi5FU0NBUEVcIik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25EaXNtaXNzKCkge1xuICAgICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJMQVlFUi5JTlRFUkFDVF9PVVRTSURFXCIgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGhpZGVPdGhlckVsZW1lbnRzKGN0eDIpIHtcbiAgICAgICAgICByZXR1cm4gYXJpYUhpZGRlbihbZG9tLmdldElucHV0RWwoY3R4MiksIGRvbS5nZXRDb250ZW50RWwoY3R4MiksIGRvbS5nZXRUcmlnZ2VyRWwoY3R4MildKTtcbiAgICAgICAgfSxcbiAgICAgICAgY29tcHV0ZVBsYWNlbWVudChjdHgyKSB7XG4gICAgICAgICAgY29uc3QgY29udHJvbEVsID0gKCkgPT4gZG9tLmdldENvbnRyb2xFbChjdHgyKTtcbiAgICAgICAgICBjb25zdCBwb3NpdGlvbmVyRWwgPSAoKSA9PiBkb20uZ2V0UG9zaXRpb25lckVsKGN0eDIpO1xuICAgICAgICAgIGN0eDIuY3VycmVudFBsYWNlbWVudCA9IGN0eDIucG9zaXRpb25pbmcucGxhY2VtZW50O1xuICAgICAgICAgIHJldHVybiBnZXRQbGFjZW1lbnQoY29udHJvbEVsLCBwb3NpdGlvbmVyRWwsIHtcbiAgICAgICAgICAgIC4uLmN0eDIucG9zaXRpb25pbmcsXG4gICAgICAgICAgICBkZWZlcjogdHJ1ZSxcbiAgICAgICAgICAgIG9uQ29tcGxldGUoZGF0YSkge1xuICAgICAgICAgICAgICBjdHgyLmN1cnJlbnRQbGFjZW1lbnQgPSBkYXRhLnBsYWNlbWVudDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkNsZWFudXAoKSB7XG4gICAgICAgICAgICAgIGN0eDIuY3VycmVudFBsYWNlbWVudCA9IHZvaWQgMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gaW4gZXZlbnQgdGhlIG9wdGlvbnMgYXJlIGZldGNoZWQgKGFzeW5jKSwgd2Ugc3RpbGwgd2FudCB0byBhdXRvLWhpZ2hsaWdodCB0aGUgZmlyc3Qgb3B0aW9uXG4gICAgICAgIHRyYWNrQ2hpbGROb2RlcyhjdHgyLCBfZXZ0LCB7IHNlbmQgfSkge1xuICAgICAgICAgIGlmICghY3R4Mi5hdXRvSGlnaGxpZ2h0KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IGV4ZWMgPSAoKSA9PiBzZW5kKFwiQ0hJTERSRU5fQ0hBTkdFXCIpO1xuICAgICAgICAgIGV4ZWMoKTtcbiAgICAgICAgICByZXR1cm4gb2JzZXJ2ZUNoaWxkcmVuKGRvbS5nZXRDb250ZW50RWwoY3R4MiksIGV4ZWMpO1xuICAgICAgICB9LFxuICAgICAgICBzY3JvbGxJbnRvVmlldyhjdHgyLCBfZXZ0LCB7IGdldFN0YXRlIH0pIHtcbiAgICAgICAgICBjb25zdCBpbnB1dEVsID0gZG9tLmdldElucHV0RWwoY3R4Mik7XG4gICAgICAgICAgY29uc3QgZXhlYyA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgIGNvbnN0IGlzUG9pbnRlciA9IHN0YXRlLmV2ZW50LnR5cGUuc3RhcnRzV2l0aChcIklURU0uUE9JTlRFUlwiKTtcbiAgICAgICAgICAgIGlmIChpc1BvaW50ZXIgfHwgIWN0eDIuaGlnaGxpZ2h0ZWRWYWx1ZSlcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9uRWwgPSBkb20uZ2V0SGlnaGxpZ2h0ZWRJdGVtRWwoY3R4Mik7XG4gICAgICAgICAgICBvcHRpb25FbD8uc2Nyb2xsSW50b1ZpZXcoeyBibG9jazogXCJuZWFyZXN0XCIgfSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICByYWYyKCgpID0+IGV4ZWMoKSk7XG4gICAgICAgICAgcmV0dXJuIG9ic2VydmVBdHRyaWJ1dGVzKGlucHV0RWwsIFtcImFyaWEtYWN0aXZlZGVzY2VuZGFudFwiXSwgZXhlYyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBhY3Rpb25zOiB7XG4gICAgICAgIHJlcG9zaXRpb24oY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgY29uc3QgY29udHJvbEVsID0gKCkgPT4gZG9tLmdldENvbnRyb2xFbChjdHgyKTtcbiAgICAgICAgICBjb25zdCBwb3NpdGlvbmVyRWwgPSAoKSA9PiBkb20uZ2V0UG9zaXRpb25lckVsKGN0eDIpO1xuICAgICAgICAgIGdldFBsYWNlbWVudChjb250cm9sRWwsIHBvc2l0aW9uZXJFbCwge1xuICAgICAgICAgICAgLi4uY3R4Mi5wb3NpdGlvbmluZyxcbiAgICAgICAgICAgIC4uLmV2dC5vcHRpb25zLFxuICAgICAgICAgICAgZGVmZXI6IHRydWUsXG4gICAgICAgICAgICBsaXN0ZW5lcnM6IGZhbHNlLFxuICAgICAgICAgICAgb25Db21wbGV0ZShkYXRhKSB7XG4gICAgICAgICAgICAgIGN0eDIuY3VycmVudFBsYWNlbWVudCA9IGRhdGEucGxhY2VtZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBzZXRJc0NvbXBvc2luZyhjdHgyKSB7XG4gICAgICAgICAgY3R4Mi5jb21wb3NpbmcgPSB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBjbGVhcklzQ29tcG9zaW5nKGN0eDIpIHtcbiAgICAgICAgICBjdHgyLmNvbXBvc2luZyA9IGZhbHNlO1xuICAgICAgICB9LFxuICAgICAgICBzZXRIaWdobGlnaHRlZEl0ZW0oY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgc2V0LmhpZ2hsaWdodGVkSXRlbShjdHgyLCBldnQudmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBjbGVhckhpZ2hsaWdodGVkSXRlbShjdHgyKSB7XG4gICAgICAgICAgc2V0LmhpZ2hsaWdodGVkSXRlbShjdHgyLCBudWxsLCB0cnVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2VsZWN0SGlnaGxpZ2h0ZWRJdGVtKGN0eDIpIHtcbiAgICAgICAgICBzZXQuc2VsZWN0ZWRJdGVtKGN0eDIsIGN0eDIuaGlnaGxpZ2h0ZWRWYWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNlbGVjdEl0ZW0oY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgc2V0LnNlbGVjdGVkSXRlbShjdHgyLCBldnQudmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBjbGVhckl0ZW0oY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSBjdHgyLnZhbHVlLmZpbHRlcigodikgPT4gdiAhPT0gZXZ0LnZhbHVlKTtcbiAgICAgICAgICBzZXQuc2VsZWN0ZWRJdGVtcyhjdHgyLCB2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGZvY3VzSW5wdXQoY3R4Mikge1xuICAgICAgICAgIGlmIChkb20uaXNJbnB1dEZvY3VzZWQoY3R4MikpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgZG9tLmdldElucHV0RWwoY3R4Mik/LmZvY3VzKHsgcHJldmVudFNjcm9sbDogdHJ1ZSB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgc3luY0lucHV0VmFsdWUoY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgY29uc3QgaXNUeXBpbmcgPSAhS0VZRE9XTl9FVkVOVF9SRUdFWC50ZXN0KGV2dC50eXBlKTtcbiAgICAgICAgICBjb25zdCBpbnB1dEVsID0gZG9tLmdldElucHV0RWwoY3R4Mik7XG4gICAgICAgICAgaWYgKCFpbnB1dEVsKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGlucHV0RWwudmFsdWUgPSBjdHgyLmlucHV0VmFsdWU7XG4gICAgICAgICAgcmFmMigoKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNUeXBpbmcpXG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHsgc2VsZWN0aW9uU3RhcnQsIHNlbGVjdGlvbkVuZCB9ID0gaW5wdXRFbDtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicygoc2VsZWN0aW9uRW5kID8/IDApIC0gKHNlbGVjdGlvblN0YXJ0ID8/IDApKSAhPT0gMClcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGlvblN0YXJ0ICE9PSAwKVxuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBpbnB1dEVsLnNldFNlbGVjdGlvblJhbmdlKGlucHV0RWwudmFsdWUubGVuZ3RoLCBpbnB1dEVsLnZhbHVlLmxlbmd0aCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldElucHV0VmFsdWUoY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgc2V0LmlucHV0VmFsdWUoY3R4MiwgZXZ0LnZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xlYXJJbnB1dFZhbHVlKGN0eDIpIHtcbiAgICAgICAgICBzZXQuaW5wdXRWYWx1ZShjdHgyLCBcIlwiKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmV2ZXJ0SW5wdXRWYWx1ZShjdHgyKSB7XG4gICAgICAgICAgc2V0LmlucHV0VmFsdWUoY3R4MiwgY3R4Mi5oYXNTZWxlY3RlZEl0ZW1zID8gY3R4Mi52YWx1ZUFzU3RyaW5nIDogXCJcIik7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFNlbGVjdGVkSXRlbXMoY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgc2V0LnNlbGVjdGVkSXRlbXMoY3R4MiwgZXZ0LnZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xlYXJTZWxlY3RlZEl0ZW1zKGN0eDIpIHtcbiAgICAgICAgICBzZXQuc2VsZWN0ZWRJdGVtcyhjdHgyLCBbXSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNjcm9sbENvbnRlbnRUb1RvcChjdHgyKSB7XG4gICAgICAgICAgY29uc3QgY29udGVudEVsID0gZG9tLmdldENvbnRlbnRFbChjdHgyKTtcbiAgICAgICAgICBpZiAoIWNvbnRlbnRFbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjb250ZW50RWwuc2Nyb2xsVG9wID0gMDtcbiAgICAgICAgfSxcbiAgICAgICAgaW52b2tlT25PcGVuKGN0eDIpIHtcbiAgICAgICAgICBjdHgyLm9uT3BlbkNoYW5nZT8uKHsgb3BlbjogdHJ1ZSB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgaW52b2tlT25DbG9zZShjdHgyKSB7XG4gICAgICAgICAgY3R4Mi5vbk9wZW5DaGFuZ2U/Lih7IG9wZW46IGZhbHNlIH0pO1xuICAgICAgICB9LFxuICAgICAgICBoaWdobGlnaHRGaXJzdEl0ZW0oY3R4Mikge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gY3R4Mi5jb2xsZWN0aW9uLmZpcnN0KCk7XG4gICAgICAgICAgc2V0LmhpZ2hsaWdodGVkSXRlbShjdHgyLCB2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGhpZ2hsaWdodExhc3RJdGVtKGN0eDIpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IGN0eDIuY29sbGVjdGlvbi5sYXN0KCk7XG4gICAgICAgICAgc2V0LmhpZ2hsaWdodGVkSXRlbShjdHgyLCB2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGhpZ2hsaWdodE5leHRJdGVtKGN0eDIpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IGN0eDIuY29sbGVjdGlvbi5uZXh0KGN0eDIuaGlnaGxpZ2h0ZWRWYWx1ZSkgPz8gKGN0eDIubG9vcCA/IGN0eDIuY29sbGVjdGlvbi5maXJzdCgpIDogbnVsbCk7XG4gICAgICAgICAgc2V0LmhpZ2hsaWdodGVkSXRlbShjdHgyLCB2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGhpZ2hsaWdodFByZXZJdGVtKGN0eDIpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IGN0eDIuY29sbGVjdGlvbi5wcmV2KGN0eDIuaGlnaGxpZ2h0ZWRWYWx1ZSkgPz8gKGN0eDIubG9vcCA/IGN0eDIuY29sbGVjdGlvbi5sYXN0KCkgOiBudWxsKTtcbiAgICAgICAgICBzZXQuaGlnaGxpZ2h0ZWRJdGVtKGN0eDIsIHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgaGlnaGxpZ2h0Rmlyc3RTZWxlY3RlZEl0ZW0oY3R4Mikge1xuICAgICAgICAgIGNvbnN0IFt2YWx1ZV0gPSBjdHgyLmNvbGxlY3Rpb24uc29ydChjdHgyLnZhbHVlKTtcbiAgICAgICAgICBzZXQuaGlnaGxpZ2h0ZWRJdGVtKGN0eDIsIHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgYXV0b2ZpbGxJbnB1dFZhbHVlKGN0eDIsIGV2dCkge1xuICAgICAgICAgIGNvbnN0IGlucHV0RWwgPSBkb20uZ2V0SW5wdXRFbChjdHgyKTtcbiAgICAgICAgICBpZiAoIWN0eDIuYXV0b0NvbXBsZXRlIHx8ICFpbnB1dEVsIHx8ICFLRVlET1dOX0VWRU5UX1JFR0VYLnRlc3QoZXZ0LnR5cGUpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHZhbHVlVGV4dCA9IGN0eDIuY29sbGVjdGlvbi52YWx1ZVRvU3RyaW5nKGN0eDIuaGlnaGxpZ2h0ZWRWYWx1ZSk7XG4gICAgICAgICAgcmFmMigoKSA9PiB7XG4gICAgICAgICAgICBpbnB1dEVsLnZhbHVlID0gdmFsdWVUZXh0IHx8IGN0eDIuaW5wdXRWYWx1ZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0Q29sbGVjdGlvbihjdHgyLCBldnQpIHtcbiAgICAgICAgICBjdHgyLmNvbGxlY3Rpb24gPSBldnQudmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICk7XG59XG52YXIgaW52b2tlID0ge1xuICBzZWxlY3Rpb25DaGFuZ2U6IChjdHgpID0+IHtcbiAgICBjdHgub25WYWx1ZUNoYW5nZT8uKHtcbiAgICAgIHZhbHVlOiBBcnJheS5mcm9tKGN0eC52YWx1ZSksXG4gICAgICBpdGVtczogY3R4LnNlbGVjdGVkSXRlbXNcbiAgICB9KTtcbiAgICBjdHguaW5wdXRWYWx1ZSA9IG1hdGNoKGN0eC5zZWxlY3Rpb25CZWhhdmlvciwge1xuICAgICAgcmVwbGFjZTogY3R4LnZhbHVlQXNTdHJpbmcsXG4gICAgICBjbGVhcjogXCJcIixcbiAgICAgIHByZXNlcnZlOiBjdHguaW5wdXRWYWx1ZVxuICAgIH0pO1xuICB9LFxuICBoaWdobGlnaHRDaGFuZ2U6IChjdHgpID0+IHtcbiAgICBjdHgub25IaWdobGlnaHRDaGFuZ2U/Lih7XG4gICAgICBoaWdobGlnaHRlZFZhbHVlOiBjdHguaGlnaGxpZ2h0ZWRWYWx1ZSxcbiAgICAgIGhpZ2hsaWd0ZWRJdGVtOiBjdHguaGlnaGxpZ2h0ZWRJdGVtXG4gICAgfSk7XG4gIH0sXG4gIGlucHV0Q2hhbmdlOiAoY3R4KSA9PiB7XG4gICAgY3R4Lm9uSW5wdXRWYWx1ZUNoYW5nZT8uKHsgdmFsdWU6IGN0eC5pbnB1dFZhbHVlIH0pO1xuICB9XG59O1xudmFyIHNldCA9IHtcbiAgc2VsZWN0ZWRJdGVtOiAoY3R4LCB2YWx1ZSwgZm9yY2UgPSBmYWxzZSkgPT4ge1xuICAgIGlmIChpc0VxdWFsKGN0eC52YWx1ZSwgdmFsdWUpKVxuICAgICAgcmV0dXJuO1xuICAgIGlmICh2YWx1ZSA9PSBudWxsICYmICFmb3JjZSlcbiAgICAgIHJldHVybjtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCAmJiBmb3JjZSkge1xuICAgICAgY3R4LnZhbHVlID0gW107XG4gICAgICBpbnZva2Uuc2VsZWN0aW9uQ2hhbmdlKGN0eCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGN0eC52YWx1ZSA9IGN0eC5tdWx0aXBsZSA/IGFkZE9yUmVtb3ZlKGN0eC52YWx1ZSwgdmFsdWUpIDogW3ZhbHVlXTtcbiAgICBpbnZva2Uuc2VsZWN0aW9uQ2hhbmdlKGN0eCk7XG4gIH0sXG4gIHNlbGVjdGVkSXRlbXM6IChjdHgsIHZhbHVlKSA9PiB7XG4gICAgaWYgKGlzRXF1YWwoY3R4LnZhbHVlLCB2YWx1ZSkpXG4gICAgICByZXR1cm47XG4gICAgY3R4LnZhbHVlID0gdmFsdWU7XG4gICAgaW52b2tlLnNlbGVjdGlvbkNoYW5nZShjdHgpO1xuICB9LFxuICBoaWdobGlnaHRlZEl0ZW06IChjdHgsIHZhbHVlLCBmb3JjZSA9IGZhbHNlKSA9PiB7XG4gICAgaWYgKGlzRXF1YWwoY3R4LmhpZ2hsaWdodGVkVmFsdWUsIHZhbHVlKSlcbiAgICAgIHJldHVybjtcbiAgICBpZiAoIXZhbHVlICYmICFmb3JjZSlcbiAgICAgIHJldHVybjtcbiAgICBjdHguaGlnaGxpZ2h0ZWRWYWx1ZSA9IHZhbHVlIHx8IG51bGw7XG4gICAgaW52b2tlLmhpZ2hsaWdodENoYW5nZShjdHgpO1xuICB9LFxuICBpbnB1dFZhbHVlOiAoY3R4LCB2YWx1ZSkgPT4ge1xuICAgIGlmIChpc0VxdWFsKGN0eC5pbnB1dFZhbHVlLCB2YWx1ZSkpXG4gICAgICByZXR1cm47XG4gICAgY3R4LmlucHV0VmFsdWUgPSB2YWx1ZTtcbiAgICBpbnZva2UuaW5wdXRDaGFuZ2UoY3R4KTtcbiAgfVxufTtcbmV4cG9ydCB7XG4gIGFuYXRvbXksXG4gIGNvbGxlY3Rpb24sXG4gIGNvbm5lY3QsXG4gIG1hY2hpbmVcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/combobox/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/core/dist/index.mjs":
/*!**************************************************!*\
  !*** ./node_modules/@zag-js/core/dist/index.mjs ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Machine: () => (/* binding */ Machine),\n/* harmony export */   choose: () => (/* binding */ choose),\n/* harmony export */   createMachine: () => (/* binding */ createMachine),\n/* harmony export */   deepMerge: () => (/* binding */ deepMerge),\n/* harmony export */   guards: () => (/* binding */ guards),\n/* harmony export */   mergeProps: () => (/* binding */ mergeProps),\n/* harmony export */   proxy: () => (/* reexport safe */ _zag_js_store__WEBPACK_IMPORTED_MODULE_1__.proxy),\n/* harmony export */   ref: () => (/* reexport safe */ _zag_js_store__WEBPACK_IMPORTED_MODULE_1__.ref),\n/* harmony export */   snapshot: () => (/* reexport safe */ _zag_js_store__WEBPACK_IMPORTED_MODULE_1__.snapshot),\n/* harmony export */   subscribe: () => (/* reexport safe */ _zag_js_store__WEBPACK_IMPORTED_MODULE_1__.subscribe)\n/* harmony export */ });\n/* harmony import */ var _zag_js_store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @zag-js/store */ \"(ssr)/./node_modules/@zag-js/store/dist/index.mjs\");\n/* harmony import */ var klona_full__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! klona/full */ \"(ssr)/./node_modules/klona/full/index.mjs\");\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\n\n// src/index.ts\n\n\n// ../utilities/core/src/array.ts\nfunction clear(v) {\n  while (v.length > 0)\n    v.pop();\n  return v;\n}\n\n// ../utilities/core/src/functions.ts\nvar runIfFn = (v, ...a) => {\n  const res = typeof v === \"function\" ? v(...a) : v;\n  return res ?? void 0;\n};\nvar cast = (v) => v;\nvar noop = () => {\n};\nvar callAll = (...fns) => (...a) => {\n  fns.forEach(function(fn) {\n    fn?.(...a);\n  });\n};\nvar uuid = /* @__PURE__ */ (() => {\n  let id = 0;\n  return () => {\n    id++;\n    return id.toString(36);\n  };\n})();\n\n// ../utilities/core/src/guard.ts\nvar isDev = () => \"development\" !== \"production\";\nvar isArray = (v) => Array.isArray(v);\nvar isObject = (v) => !(v == null || typeof v !== \"object\" || isArray(v));\nvar isNumber = (v) => typeof v === \"number\" && !Number.isNaN(v);\nvar isString = (v) => typeof v === \"string\";\nvar isFunction = (v) => typeof v === \"function\";\n\n// ../utilities/core/src/object.ts\nfunction compact(obj) {\n  if (!isPlainObject(obj) || obj === void 0) {\n    return obj;\n  }\n  const keys = Reflect.ownKeys(obj).filter((key) => typeof key === \"string\");\n  const filtered = {};\n  for (const key of keys) {\n    const value = obj[key];\n    if (value !== void 0) {\n      filtered[key] = compact(value);\n    }\n  }\n  return filtered;\n}\nvar isPlainObject = (value) => {\n  return value && typeof value === \"object\" && value.constructor === Object;\n};\n\n// ../utilities/core/src/warning.ts\nfunction warn(...a) {\n  const m = a.length === 1 ? a[0] : a[1];\n  const c = a.length === 2 ? a[0] : true;\n  if (c && \"development\" !== \"production\") {\n    console.warn(m);\n  }\n}\nfunction invariant(...a) {\n  const m = a.length === 1 ? a[0] : a[1];\n  const c = a.length === 2 ? a[0] : true;\n  if (c && \"development\" !== \"production\") {\n    throw new Error(m);\n  }\n}\n\n// src/deep-merge.ts\nfunction deepMerge(source, ...objects) {\n  for (const obj of objects) {\n    const target = compact(obj);\n    for (const key in target) {\n      if (isObject(obj[key])) {\n        if (!source[key]) {\n          source[key] = {};\n        }\n        deepMerge(source[key], obj[key]);\n      } else {\n        source[key] = obj[key];\n      }\n    }\n  }\n  return source;\n}\n\n// src/utils.ts\n\nfunction structuredClone(v) {\n  return (0,klona_full__WEBPACK_IMPORTED_MODULE_0__.klona)(v);\n}\nfunction toEvent(event) {\n  const obj = isString(event) ? { type: event } : event;\n  return obj;\n}\nfunction toArray(value) {\n  if (!value)\n    return [];\n  return isArray(value) ? value.slice() : [value];\n}\nfunction isGuardHelper(value) {\n  return isObject(value) && value.predicate != null;\n}\n\n// src/guard-utils.ts\nvar Truthy = () => true;\nfunction exec(guardMap, ctx, event, meta) {\n  return (guard) => {\n    if (isString(guard)) {\n      return !!guardMap[guard]?.(ctx, event, meta);\n    }\n    if (isFunction(guard)) {\n      return guard(ctx, event, meta);\n    }\n    return guard.predicate(guardMap)(ctx, event, meta);\n  };\n}\nfunction or(...conditions) {\n  return {\n    predicate: (guardMap) => (ctx, event, meta) => conditions.map(exec(guardMap, ctx, event, meta)).some(Boolean)\n  };\n}\nfunction and(...conditions) {\n  return {\n    predicate: (guardMap) => (ctx, event, meta) => conditions.map(exec(guardMap, ctx, event, meta)).every(Boolean)\n  };\n}\nfunction not(condition) {\n  return {\n    predicate: (guardMap) => (ctx, event, meta) => {\n      return !exec(guardMap, ctx, event, meta)(condition);\n    }\n  };\n}\nfunction stateIn(...values) {\n  return (_ctx, _evt, meta) => meta.state.matches(...values);\n}\nvar guards = { or, and, not, stateIn };\nfunction choose(actions) {\n  return {\n    predicate: (guardMap) => (ctx, event, meta) => actions.find((def) => {\n      const guard = def.guard ?? Truthy;\n      return exec(guardMap, ctx, event, meta)(guard);\n    })?.actions\n  };\n}\nfunction determineGuardFn(guard, guardMap) {\n  guard = guard ?? Truthy;\n  return (context, event, meta) => {\n    if (isString(guard)) {\n      const value = guardMap[guard];\n      return isFunction(value) ? value(context, event, meta) : value;\n    }\n    if (isGuardHelper(guard)) {\n      return guard.predicate(guardMap)(context, event, meta);\n    }\n    return guard?.(context, event, meta);\n  };\n}\nfunction determineActionsFn(values, guardMap) {\n  return (context, event, meta) => {\n    if (isGuardHelper(values)) {\n      return values.predicate(guardMap)(context, event, meta);\n    }\n    return values;\n  };\n}\n\n// src/machine.ts\n\n\n// src/create-proxy.ts\n\nfunction createProxy(config) {\n  const computedContext = config.computed ?? cast({});\n  const initialContext = config.context ?? cast({});\n  const state = (0,_zag_js_store__WEBPACK_IMPORTED_MODULE_1__.proxy)({\n    value: config.initial ?? \"\",\n    previousValue: \"\",\n    event: cast({}),\n    previousEvent: cast({}),\n    context: (0,_zag_js_store__WEBPACK_IMPORTED_MODULE_1__.proxyWithComputed)(initialContext, computedContext),\n    done: false,\n    tags: [],\n    hasTag(tag) {\n      return this.tags.includes(tag);\n    },\n    matches(...value) {\n      return value.includes(this.value);\n    },\n    can(event) {\n      return cast(this).nextEvents.includes(event);\n    },\n    get nextEvents() {\n      const stateEvents = config.states?.[this.value]?.[\"on\"] ?? {};\n      const globalEvents = config?.on ?? {};\n      return Object.keys({ ...stateEvents, ...globalEvents });\n    },\n    get changed() {\n      if (this.event.value === \"machine.init\" /* Init */ || !this.previousValue)\n        return false;\n      return this.value !== this.previousValue;\n    }\n  });\n  return cast(state);\n}\n\n// src/delay-utils.ts\nfunction determineDelayFn(delay, delaysMap) {\n  return (context, event) => {\n    if (isNumber(delay))\n      return delay;\n    if (isFunction(delay)) {\n      return delay(context, event);\n    }\n    if (isString(delay)) {\n      const value = Number.parseFloat(delay);\n      if (!Number.isNaN(value)) {\n        return value;\n      }\n      if (delaysMap) {\n        const valueOrFn = delaysMap?.[delay];\n        invariant(\n          valueOrFn == null,\n          `[@zag-js/core > determine-delay] Cannot determine delay for \\`${delay}\\`. It doesn't exist in \\`options.delays\\``\n        );\n        return isFunction(valueOrFn) ? valueOrFn(context, event) : valueOrFn;\n      }\n    }\n  };\n}\n\n// src/transition-utils.ts\nfunction toTarget(target) {\n  return isString(target) ? { target } : target;\n}\nfunction determineTransitionFn(transitions, guardMap) {\n  return (context, event, meta) => {\n    return toArray(transitions).map(toTarget).find((transition) => {\n      const determineGuard = determineGuardFn(transition.guard, guardMap);\n      const guard = determineGuard(context, event, meta);\n      return guard ?? transition.target ?? transition.actions;\n    });\n  };\n}\n\n// src/machine.ts\nvar Machine = class _Machine {\n  // Let's get started!\n  constructor(config, options) {\n    __publicField(this, \"status\", \"Not Started\" /* NotStarted */);\n    __publicField(this, \"state\");\n    __publicField(this, \"initialState\");\n    __publicField(this, \"initialContext\");\n    __publicField(this, \"id\");\n    __publicField(this, \"type\", \"machine\" /* Machine */);\n    // Cleanup function map (per state)\n    __publicField(this, \"activityEvents\", /* @__PURE__ */ new Map());\n    __publicField(this, \"delayedEvents\", /* @__PURE__ */ new Map());\n    // state update listeners the user can opt-in for\n    __publicField(this, \"stateListeners\", /* @__PURE__ */ new Set());\n    __publicField(this, \"contextListeners\", /* @__PURE__ */ new Set());\n    __publicField(this, \"eventListeners\", /* @__PURE__ */ new Set());\n    __publicField(this, \"doneListeners\", /* @__PURE__ */ new Set());\n    __publicField(this, \"contextWatchers\", /* @__PURE__ */ new Set());\n    // Cleanup functions (for `subscribe`)\n    __publicField(this, \"removeStateListener\", noop);\n    __publicField(this, \"removeEventListener\", noop);\n    __publicField(this, \"removeContextListener\", noop);\n    // For Parent <==> Spawned Actor relationship\n    __publicField(this, \"parent\");\n    __publicField(this, \"children\", /* @__PURE__ */ new Map());\n    // A map of guard, action, delay implementations\n    __publicField(this, \"guardMap\");\n    __publicField(this, \"actionMap\");\n    __publicField(this, \"delayMap\");\n    __publicField(this, \"activityMap\");\n    __publicField(this, \"sync\");\n    __publicField(this, \"options\");\n    __publicField(this, \"config\");\n    // Starts the interpreted machine.\n    __publicField(this, \"start\", (init) => {\n      this.state.value = \"\";\n      if (this.status === \"Running\" /* Running */) {\n        return this;\n      }\n      this.status = \"Running\" /* Running */;\n      this.removeStateListener = (0,_zag_js_store__WEBPACK_IMPORTED_MODULE_1__.subscribe)(\n        this.state,\n        () => {\n          this.stateListeners.forEach((listener) => {\n            listener(this.stateSnapshot);\n          });\n        },\n        this.sync\n      );\n      this.removeEventListener = (0,_zag_js_store__WEBPACK_IMPORTED_MODULE_1__.subscribeKey)(\n        this.state,\n        \"event\",\n        (event2) => {\n          this.executeActions(this.config.onEvent, event2);\n          this.eventListeners.forEach((listener) => {\n            listener(event2);\n          });\n        },\n        this.sync\n      );\n      this.removeContextListener = (0,_zag_js_store__WEBPACK_IMPORTED_MODULE_1__.subscribe)(\n        this.state.context,\n        () => {\n          this.log(\"Context:\", this.contextSnapshot);\n          this.contextListeners.forEach((listener) => {\n            listener(this.contextSnapshot);\n          });\n        },\n        this.sync || this.options.debug\n      );\n      this.setupContextWatchers();\n      this.executeActivities(toEvent(\"machine.start\" /* Start */), toArray(this.config.activities), \"machine.start\" /* Start */);\n      this.executeActions(this.config.entry, toEvent(\"machine.start\" /* Start */));\n      const event = toEvent(\"machine.init\" /* Init */);\n      const target = isObject(init) ? init.value : init;\n      const context = isObject(init) ? init.context : void 0;\n      if (context) {\n        this.setContext(context);\n      }\n      const transition = {\n        target: target ?? this.config.initial\n      };\n      const next = this.getNextStateInfo(transition, event);\n      this.initialState = next;\n      this.performStateChangeEffects(this.state.value, next, event);\n      return this;\n    });\n    __publicField(this, \"setupContextWatchers\", () => {\n      for (const [key, fn] of Object.entries(this.config.watch ?? {})) {\n        const compareFn = this.options.compareFns?.[key];\n        const cleanup = (0,_zag_js_store__WEBPACK_IMPORTED_MODULE_1__.subscribeKey)(\n          this.state.context,\n          key,\n          () => {\n            this.executeActions(fn, this.state.event);\n          },\n          this.sync,\n          compareFn\n        );\n        this.contextWatchers.add(cleanup);\n      }\n    });\n    // Stops the interpreted machine\n    __publicField(this, \"stop\", () => {\n      if (this.status === \"Stopped\" /* Stopped */)\n        return;\n      this.performExitEffects(this.state.value, toEvent(\"machine.stop\" /* Stop */));\n      this.executeActions(this.config.exit, toEvent(\"machine.stop\" /* Stop */));\n      this.setState(\"\");\n      this.setEvent(\"machine.stop\" /* Stop */);\n      this.stopStateListeners();\n      this.stopChildren();\n      this.stopActivities();\n      this.stopDelayedEvents();\n      this.stopContextWatchers();\n      this.stopEventListeners();\n      this.stopContextListeners();\n      this.status = \"Stopped\" /* Stopped */;\n      return this;\n    });\n    __publicField(this, \"stopEventListeners\", () => {\n      this.eventListeners.clear();\n      this.removeEventListener();\n    });\n    __publicField(this, \"stopContextListeners\", () => {\n      this.contextListeners.clear();\n      this.removeContextListener();\n    });\n    __publicField(this, \"stopStateListeners\", () => {\n      this.removeStateListener();\n      this.stateListeners.clear();\n    });\n    __publicField(this, \"stopContextWatchers\", () => {\n      this.contextWatchers.forEach((fn) => fn());\n      this.contextWatchers.clear();\n    });\n    __publicField(this, \"stopDelayedEvents\", () => {\n      this.delayedEvents.forEach((state) => {\n        state.forEach((stop) => stop());\n      });\n      this.delayedEvents.clear();\n    });\n    // Cleanup running activities (e.g `setInterval`, invoked callbacks, promises)\n    __publicField(this, \"stopActivities\", (state) => {\n      if (state) {\n        this.activityEvents.get(state)?.forEach((stop) => stop());\n        this.activityEvents.get(state)?.clear();\n        this.activityEvents.delete(state);\n      } else {\n        this.activityEvents.forEach((state2) => {\n          state2.forEach((stop) => stop());\n          state2.clear();\n        });\n        this.activityEvents.clear();\n      }\n    });\n    /**\n     * Function to send event to spawned child machine or actor\n     */\n    __publicField(this, \"sendChild\", (evt, to) => {\n      const event = toEvent(evt);\n      const id = runIfFn(to, this.contextSnapshot);\n      const child = this.children.get(id);\n      if (!child) {\n        invariant(`[@zag-js/core] Cannot send '${event.type}' event to unknown child`);\n      }\n      child.send(event);\n    });\n    /**\n     * Function to stop a running child machine or actor\n     */\n    __publicField(this, \"stopChild\", (id) => {\n      if (!this.children.has(id)) {\n        invariant(`[@zag-js/core > stop-child] Cannot stop unknown child ${id}`);\n      }\n      this.children.get(id).stop();\n      this.children.delete(id);\n    });\n    __publicField(this, \"removeChild\", (id) => {\n      this.children.delete(id);\n    });\n    // Stop and delete spawned actors\n    __publicField(this, \"stopChildren\", () => {\n      this.children.forEach((child) => child.stop());\n      this.children.clear();\n    });\n    __publicField(this, \"setParent\", (parent) => {\n      this.parent = parent;\n    });\n    __publicField(this, \"spawn\", (src, id) => {\n      const actor = runIfFn(src);\n      if (id)\n        actor.id = id;\n      actor.type = \"machine.actor\" /* Actor */;\n      actor.setParent(this);\n      this.children.set(actor.id, cast(actor));\n      actor.onDone(() => {\n        this.removeChild(actor.id);\n      }).start();\n      return cast((0,_zag_js_store__WEBPACK_IMPORTED_MODULE_1__.ref)(actor));\n    });\n    __publicField(this, \"stopActivity\", (key) => {\n      if (!this.state.value)\n        return;\n      const cleanups = this.activityEvents.get(this.state.value);\n      cleanups?.get(key)?.();\n      cleanups?.delete(key);\n    });\n    __publicField(this, \"addActivityCleanup\", (state, key, cleanup) => {\n      if (!state)\n        return;\n      if (!this.activityEvents.has(state)) {\n        this.activityEvents.set(state, /* @__PURE__ */ new Map([[key, cleanup]]));\n      } else {\n        this.activityEvents.get(state)?.set(key, cleanup);\n      }\n    });\n    __publicField(this, \"setState\", (target) => {\n      this.state.previousValue = this.state.value;\n      this.state.value = target;\n      const stateNode = this.getStateNode(target);\n      if (target == null) {\n        clear(this.state.tags);\n      } else {\n        this.state.tags = toArray(stateNode?.tags);\n      }\n    });\n    __publicField(this, \"transformContext\", (context) => {\n      this.options?.transformContext?.(context);\n      return context;\n    });\n    /**\n     * To used within side effects for React or Vue to update context\n     */\n    __publicField(this, \"setContext\", (context) => {\n      if (!context)\n        return;\n      deepMerge(this.state.context, this.transformContext(context));\n    });\n    __publicField(this, \"withContext\", (context) => {\n      const transformed = this.transformContext(context);\n      const newContext = { ...this.config.context, ...compact(transformed) };\n      return new _Machine({ ...this.config, context: newContext }, this.options);\n    });\n    __publicField(this, \"setOptions\", (options) => {\n      const opts = compact(options);\n      this.actionMap = { ...this.actionMap, ...opts.actions };\n      this.delayMap = { ...this.delayMap, ...opts.delays };\n      this.activityMap = { ...this.activityMap, ...opts.activities };\n      this.guardMap = { ...this.guardMap, ...opts.guards };\n    });\n    __publicField(this, \"getStateNode\", (state) => {\n      if (!state)\n        return;\n      return this.config.states?.[state];\n    });\n    __publicField(this, \"getNextStateInfo\", (transitions, event) => {\n      const transition = this.determineTransition(transitions, event);\n      const isTargetless = !transition?.target;\n      const target = transition?.target ?? this.state.value;\n      const changed = this.state.value !== target;\n      const stateNode = this.getStateNode(target);\n      const reenter = !isTargetless && !changed && !transition?.internal;\n      const info = {\n        reenter,\n        transition,\n        stateNode,\n        target,\n        changed\n      };\n      this.log(\"NextState:\", `[${event.type}]`, this.state.value, \"---->\", info.target);\n      return info;\n    });\n    __publicField(this, \"getActionFromDelayedTransition\", (transition) => {\n      const event = toEvent(\"machine.after\" /* After */);\n      const determineDelay = determineDelayFn(transition.delay, this.delayMap);\n      const delay = determineDelay(this.contextSnapshot, event);\n      let id;\n      return {\n        entry: () => {\n          id = globalThis.setTimeout(() => {\n            const next = this.getNextStateInfo(transition, event);\n            this.performStateChangeEffects(this.state.value, next, event);\n          }, delay);\n        },\n        exit: () => {\n          globalThis.clearTimeout(id);\n        }\n      };\n    });\n    /**\n     * All `after` events leverage `setTimeout` and `clearTimeout`,\n     * we invoke the `clearTimeout` on exit and `setTimeout` on entry.\n     *\n     * To achieve this, we split the `after` defintion into `entry` and `exit`\n     *  functions and append them to the state's `entry` and `exit` actions\n     */\n    __publicField(this, \"getDelayedEventActions\", (state) => {\n      const stateNode = this.getStateNode(state);\n      const event = toEvent(\"machine.after\" /* After */);\n      if (!stateNode || !stateNode.after)\n        return;\n      const entries = [];\n      const exits = [];\n      if (isArray(stateNode.after)) {\n        const transition = this.determineTransition(stateNode.after, event);\n        if (!transition)\n          return;\n        const actions = this.getActionFromDelayedTransition(transition);\n        entries.push(actions.entry);\n        exits.push(actions.exit);\n      } else if (isObject(stateNode.after)) {\n        for (const delay in stateNode.after) {\n          const transition = stateNode.after[delay];\n          let resolvedTransition = {};\n          if (isArray(transition)) {\n            const picked = this.determineTransition(transition, event);\n            if (picked)\n              resolvedTransition = picked;\n          } else if (isString(transition)) {\n            resolvedTransition = { target: transition, delay };\n          } else {\n            resolvedTransition = { ...transition, delay };\n          }\n          const actions = this.getActionFromDelayedTransition(resolvedTransition);\n          entries.push(actions.entry);\n          exits.push(actions.exit);\n        }\n      }\n      return { entries, exits };\n    });\n    /**\n     * Function to executes defined actions. It can accept actions as string\n     * (referencing `options.actions`) or actual functions.\n     */\n    __publicField(this, \"executeActions\", (actions, event) => {\n      const pickedActions = determineActionsFn(actions, this.guardMap)(this.contextSnapshot, event, this.guardMeta);\n      for (const action of toArray(pickedActions)) {\n        const fn = isString(action) ? this.actionMap?.[action] : action;\n        warn(\n          isString(action) && !fn,\n          `[@zag-js/core > execute-actions] No implementation found for action: \\`${action}\\``\n        );\n        fn?.(this.state.context, event, this.meta);\n      }\n    });\n    /**\n     * Function to execute running activities and registers\n     * their cleanup function internally (to be called later on when we exit the state)\n     */\n    __publicField(this, \"executeActivities\", (event, activities, state) => {\n      for (const activity of activities) {\n        const fn = isString(activity) ? this.activityMap?.[activity] : activity;\n        if (!fn) {\n          warn(`[@zag-js/core > execute-activity] No implementation found for activity: \\`${activity}\\``);\n          continue;\n        }\n        const cleanup = fn(this.state.context, event, this.meta);\n        if (cleanup) {\n          const key = isString(activity) ? activity : activity.name || uuid();\n          this.addActivityCleanup(state ?? this.state.value, key, cleanup);\n        }\n      }\n    });\n    /**\n     * Normalizes the `every` definition to transition. `every` can be:\n     * - An array of possible actions to run (we need to pick the first match based on guard)\n     * - An object of intervals and actions\n     */\n    __publicField(this, \"createEveryActivities\", (every, callbackfn) => {\n      if (!every)\n        return;\n      const event = toEvent(\"machine.every\" /* Every */);\n      if (isArray(every)) {\n        const picked = toArray(every).find((transition) => {\n          const delayOrFn = transition.delay;\n          const determineDelay2 = determineDelayFn(delayOrFn, this.delayMap);\n          const delay2 = determineDelay2(this.contextSnapshot, event);\n          const determineGuard = determineGuardFn(transition.guard, this.guardMap);\n          const guard = determineGuard(this.contextSnapshot, event, this.guardMeta);\n          return guard ?? delay2 != null;\n        });\n        if (!picked)\n          return;\n        const determineDelay = determineDelayFn(picked.delay, this.delayMap);\n        const delay = determineDelay(this.contextSnapshot, event);\n        const activity = () => {\n          const id = globalThis.setInterval(() => {\n            this.executeActions(picked.actions, event);\n          }, delay);\n          return () => {\n            globalThis.clearInterval(id);\n          };\n        };\n        callbackfn(activity);\n      } else {\n        for (const interval in every) {\n          const actions = every?.[interval];\n          const determineDelay = determineDelayFn(interval, this.delayMap);\n          const delay = determineDelay(this.contextSnapshot, event);\n          const activity = () => {\n            const id = globalThis.setInterval(() => {\n              this.executeActions(actions, event);\n            }, delay);\n            return () => {\n              globalThis.clearInterval(id);\n            };\n          };\n          callbackfn(activity);\n        }\n      }\n    });\n    __publicField(this, \"setEvent\", (event) => {\n      this.state.previousEvent = this.state.event;\n      this.state.event = (0,_zag_js_store__WEBPACK_IMPORTED_MODULE_1__.ref)(toEvent(event));\n    });\n    __publicField(this, \"performExitEffects\", (current, event) => {\n      const currentState = this.state.value;\n      if (currentState === \"\")\n        return;\n      const stateNode = current ? this.getStateNode(current) : void 0;\n      this.stopActivities(currentState);\n      const _exit = determineActionsFn(stateNode?.exit, this.guardMap)(this.contextSnapshot, event, this.guardMeta);\n      const exitActions = toArray(_exit);\n      const afterExitActions = this.delayedEvents.get(currentState);\n      if (afterExitActions) {\n        exitActions.push(...afterExitActions);\n      }\n      this.executeActions(exitActions, event);\n      this.eventListeners.clear();\n    });\n    __publicField(this, \"performEntryEffects\", (next, event) => {\n      const stateNode = this.getStateNode(next);\n      const activities = toArray(stateNode?.activities);\n      this.createEveryActivities(stateNode?.every, (activity) => {\n        activities.unshift(activity);\n      });\n      if (activities.length > 0) {\n        this.executeActivities(event, activities);\n      }\n      const pickedActions = determineActionsFn(stateNode?.entry, this.guardMap)(\n        this.contextSnapshot,\n        event,\n        this.guardMeta\n      );\n      const entryActions = toArray(pickedActions);\n      const afterActions = this.getDelayedEventActions(next);\n      if (stateNode?.after && afterActions) {\n        this.delayedEvents.set(next, afterActions?.exits);\n        entryActions.push(...afterActions.entries);\n      }\n      this.executeActions(entryActions, event);\n      if (stateNode?.type === \"final\") {\n        this.state.done = true;\n        this.doneListeners.forEach((listener) => {\n          listener(this.stateSnapshot);\n        });\n        this.stop();\n      }\n    });\n    __publicField(this, \"performTransitionEffects\", (transitions, event) => {\n      const transition = this.determineTransition(transitions, event);\n      this.executeActions(transition?.actions, event);\n    });\n    /**\n     * Performs all the requires side-effects or reactions when\n     * we move from state A => state B.\n     *\n     * The Effect order:\n     * Exit actions (current state) => Transition actions  => Go to state => Entry actions (next state)\n     */\n    __publicField(this, \"performStateChangeEffects\", (current, next, event) => {\n      this.setEvent(event);\n      const changed = next.changed || next.reenter;\n      if (changed) {\n        this.performExitEffects(current, event);\n      }\n      this.performTransitionEffects(next.transition, event);\n      this.setState(next.target);\n      if (changed) {\n        this.performEntryEffects(next.target, event);\n      }\n    });\n    __publicField(this, \"determineTransition\", (transition, event) => {\n      const fn = determineTransitionFn(transition, this.guardMap);\n      return fn?.(this.contextSnapshot, event, this.guardMeta);\n    });\n    /**\n     * Function to send event to parent machine from spawned child\n     */\n    __publicField(this, \"sendParent\", (evt) => {\n      if (!this.parent) {\n        invariant(\"[@zag-js/core > send-parent] Cannot send event to an unknown parent\");\n      }\n      const event = toEvent(evt);\n      this.parent?.send(event);\n    });\n    __publicField(this, \"log\", (...args) => {\n      if (isDev() && this.options.debug) {\n        console.log(...args);\n      }\n    });\n    /**\n     * Function to send an event to current machine\n     */\n    __publicField(this, \"send\", (evt) => {\n      const event = toEvent(evt);\n      this.transition(this.state.value, event);\n    });\n    __publicField(this, \"transition\", (state, evt) => {\n      const stateNode = isString(state) ? this.getStateNode(state) : state?.stateNode;\n      const event = toEvent(evt);\n      if (!stateNode && !this.config.on) {\n        const msg = this.status === \"Stopped\" /* Stopped */ ? \"[@zag-js/core > transition] Cannot transition a stopped machine\" : `[@zag-js/core > transition] State does not have a definition for \\`state\\`: ${state}, \\`event\\`: ${event.type}`;\n        warn(msg);\n        return;\n      }\n      const transitions = stateNode?.on?.[event.type] ?? this.config.on?.[event.type];\n      const next = this.getNextStateInfo(transitions, event);\n      this.performStateChangeEffects(this.state.value, next, event);\n      return next.stateNode;\n    });\n    __publicField(this, \"subscribe\", (listener) => {\n      this.stateListeners.add(listener);\n      if (this.status === \"Running\" /* Running */) {\n        listener(this.stateSnapshot);\n      }\n      return () => {\n        this.stateListeners.delete(listener);\n      };\n    });\n    __publicField(this, \"onDone\", (listener) => {\n      this.doneListeners.add(listener);\n      return this;\n    });\n    __publicField(this, \"onTransition\", (listener) => {\n      this.stateListeners.add(listener);\n      if (this.status === \"Running\" /* Running */) {\n        listener(this.stateSnapshot);\n      }\n      return this;\n    });\n    __publicField(this, \"onChange\", (listener) => {\n      this.contextListeners.add(listener);\n      return this;\n    });\n    __publicField(this, \"onEvent\", (listener) => {\n      this.eventListeners.add(listener);\n      return this;\n    });\n    this.config = structuredClone(config);\n    this.options = structuredClone(options ?? {});\n    this.id = this.config.id ?? `machine-${uuid()}`;\n    this.guardMap = this.options?.guards ?? {};\n    this.actionMap = this.options?.actions ?? {};\n    this.delayMap = this.options?.delays ?? {};\n    this.activityMap = this.options?.activities ?? {};\n    this.sync = this.options?.sync ?? false;\n    this.state = createProxy(this.config);\n    this.initialContext = (0,_zag_js_store__WEBPACK_IMPORTED_MODULE_1__.snapshot)(this.state.context);\n    this.transformContext(this.state.context);\n    const event = toEvent(\"machine.created\" /* Created */);\n    this.executeActions(this.config?.created, event);\n  }\n  // immutable state value\n  get stateSnapshot() {\n    return cast((0,_zag_js_store__WEBPACK_IMPORTED_MODULE_1__.snapshot)(this.state));\n  }\n  getState() {\n    return this.stateSnapshot;\n  }\n  // immutable context value\n  get contextSnapshot() {\n    return this.stateSnapshot.context;\n  }\n  /**\n   * A reference to the instance methods of the machine.\n   * Useful when spawning child machines and managing the communication between them.\n   */\n  get self() {\n    const self = this;\n    return {\n      id: this.id,\n      send: this.send.bind(this),\n      sendParent: this.sendParent.bind(this),\n      sendChild: this.sendChild.bind(this),\n      stop: this.stop.bind(this),\n      stopChild: this.stopChild.bind(this),\n      spawn: this.spawn.bind(this),\n      stopActivity: this.stopActivity.bind(this),\n      get state() {\n        return self.stateSnapshot;\n      },\n      get initialContext() {\n        return self.initialContext;\n      },\n      get initialState() {\n        return self.initialState?.target ?? \"\";\n      }\n    };\n  }\n  get meta() {\n    return {\n      state: this.stateSnapshot,\n      guards: this.guardMap,\n      send: this.send.bind(this),\n      self: this.self,\n      initialContext: this.initialContext,\n      initialState: this.initialState?.target ?? \"\",\n      getState: () => this.stateSnapshot,\n      getAction: (key) => this.actionMap[key],\n      getGuard: (key) => this.guardMap[key]\n    };\n  }\n  get guardMeta() {\n    return {\n      state: this.stateSnapshot\n    };\n  }\n  get [Symbol.toStringTag]() {\n    return \"Machine\";\n  }\n};\nvar createMachine = (config, options) => new Machine(config, options);\n\n// src/merge-props.ts\nvar clsx = (...args) => args.map((str) => str?.trim?.()).filter(Boolean).join(\" \");\nvar eventRegex = /^on[A-Z]/;\nfunction mergeProps(...args) {\n  let result = {};\n  for (let props of args) {\n    for (let key in result) {\n      if (eventRegex.test(key) && typeof result[key] === \"function\" && typeof props[key] === \"function\") {\n        result[key] = callAll(result[key], props[key]);\n        continue;\n      }\n      if (key === \"className\" || key === \"class\") {\n        result[key] = clsx(result[key], props[key]);\n        continue;\n      }\n      if (key === \"style\") {\n        result[key] = Object.assign({}, result[key] ?? {}, props[key] ?? {});\n        continue;\n      }\n      result[key] = props[key] !== void 0 ? props[key] : result[key];\n    }\n    for (let key in props) {\n      if (result[key] === void 0) {\n        result[key] = props[key];\n      }\n    }\n  }\n  return result;\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9jb3JlL2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0EsOEVBQThFLDZEQUE2RDtBQUMzSTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUM2Rzs7QUFFN0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0Esa0JBQWtCLGFBQW9CO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxhQUFvQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGFBQW9CO0FBQy9CO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDbUM7QUFDbkM7QUFDQSxTQUFTLGlEQUFLO0FBQ2Q7QUFDQTtBQUNBLGtDQUFrQyxjQUFjO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxtQkFBbUIsa0JBQWtCO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVlFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AcGFyay11aS9leGFtcGxlcy1yZWFjdC1uZXh0LWpzLy4vbm9kZV9tb2R1bGVzL0B6YWctanMvY29yZS9kaXN0L2luZGV4Lm1qcz9kNjM3Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19kZWZOb3JtYWxQcm9wID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcChvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19wdWJsaWNGaWVsZCA9IChvYmosIGtleSwgdmFsdWUpID0+IHtcbiAgX19kZWZOb3JtYWxQcm9wKG9iaiwgdHlwZW9mIGtleSAhPT0gXCJzeW1ib2xcIiA/IGtleSArIFwiXCIgOiBrZXksIHZhbHVlKTtcbiAgcmV0dXJuIHZhbHVlO1xufTtcblxuLy8gc3JjL2luZGV4LnRzXG5pbXBvcnQgeyBwcm94eSBhcyBwcm94eTIsIHJlZiBhcyByZWYyLCBzbmFwc2hvdCBhcyBzbmFwc2hvdDIsIHN1YnNjcmliZSBhcyBzdWJzY3JpYmUyIH0gZnJvbSBcIkB6YWctanMvc3RvcmVcIjtcblxuLy8gLi4vdXRpbGl0aWVzL2NvcmUvc3JjL2FycmF5LnRzXG5mdW5jdGlvbiBjbGVhcih2KSB7XG4gIHdoaWxlICh2Lmxlbmd0aCA+IDApXG4gICAgdi5wb3AoKTtcbiAgcmV0dXJuIHY7XG59XG5cbi8vIC4uL3V0aWxpdGllcy9jb3JlL3NyYy9mdW5jdGlvbnMudHNcbnZhciBydW5JZkZuID0gKHYsIC4uLmEpID0+IHtcbiAgY29uc3QgcmVzID0gdHlwZW9mIHYgPT09IFwiZnVuY3Rpb25cIiA/IHYoLi4uYSkgOiB2O1xuICByZXR1cm4gcmVzID8/IHZvaWQgMDtcbn07XG52YXIgY2FzdCA9ICh2KSA9PiB2O1xudmFyIG5vb3AgPSAoKSA9PiB7XG59O1xudmFyIGNhbGxBbGwgPSAoLi4uZm5zKSA9PiAoLi4uYSkgPT4ge1xuICBmbnMuZm9yRWFjaChmdW5jdGlvbihmbikge1xuICAgIGZuPy4oLi4uYSk7XG4gIH0pO1xufTtcbnZhciB1dWlkID0gLyogQF9fUFVSRV9fICovICgoKSA9PiB7XG4gIGxldCBpZCA9IDA7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgaWQrKztcbiAgICByZXR1cm4gaWQudG9TdHJpbmcoMzYpO1xuICB9O1xufSkoKTtcblxuLy8gLi4vdXRpbGl0aWVzL2NvcmUvc3JjL2d1YXJkLnRzXG52YXIgaXNEZXYgPSAoKSA9PiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCI7XG52YXIgaXNBcnJheSA9ICh2KSA9PiBBcnJheS5pc0FycmF5KHYpO1xudmFyIGlzT2JqZWN0ID0gKHYpID0+ICEodiA9PSBudWxsIHx8IHR5cGVvZiB2ICE9PSBcIm9iamVjdFwiIHx8IGlzQXJyYXkodikpO1xudmFyIGlzTnVtYmVyID0gKHYpID0+IHR5cGVvZiB2ID09PSBcIm51bWJlclwiICYmICFOdW1iZXIuaXNOYU4odik7XG52YXIgaXNTdHJpbmcgPSAodikgPT4gdHlwZW9mIHYgPT09IFwic3RyaW5nXCI7XG52YXIgaXNGdW5jdGlvbiA9ICh2KSA9PiB0eXBlb2YgdiA9PT0gXCJmdW5jdGlvblwiO1xuXG4vLyAuLi91dGlsaXRpZXMvY29yZS9zcmMvb2JqZWN0LnRzXG5mdW5jdGlvbiBjb21wYWN0KG9iaikge1xuICBpZiAoIWlzUGxhaW5PYmplY3Qob2JqKSB8fCBvYmogPT09IHZvaWQgMCkge1xuICAgIHJldHVybiBvYmo7XG4gIH1cbiAgY29uc3Qga2V5cyA9IFJlZmxlY3Qub3duS2V5cyhvYmopLmZpbHRlcigoa2V5KSA9PiB0eXBlb2Yga2V5ID09PSBcInN0cmluZ1wiKTtcbiAgY29uc3QgZmlsdGVyZWQgPSB7fTtcbiAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xuICAgIGNvbnN0IHZhbHVlID0gb2JqW2tleV07XG4gICAgaWYgKHZhbHVlICE9PSB2b2lkIDApIHtcbiAgICAgIGZpbHRlcmVkW2tleV0gPSBjb21wYWN0KHZhbHVlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZpbHRlcmVkO1xufVxudmFyIGlzUGxhaW5PYmplY3QgPSAodmFsdWUpID0+IHtcbiAgcmV0dXJuIHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0O1xufTtcblxuLy8gLi4vdXRpbGl0aWVzL2NvcmUvc3JjL3dhcm5pbmcudHNcbmZ1bmN0aW9uIHdhcm4oLi4uYSkge1xuICBjb25zdCBtID0gYS5sZW5ndGggPT09IDEgPyBhWzBdIDogYVsxXTtcbiAgY29uc3QgYyA9IGEubGVuZ3RoID09PSAyID8gYVswXSA6IHRydWU7XG4gIGlmIChjICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgIGNvbnNvbGUud2FybihtKTtcbiAgfVxufVxuZnVuY3Rpb24gaW52YXJpYW50KC4uLmEpIHtcbiAgY29uc3QgbSA9IGEubGVuZ3RoID09PSAxID8gYVswXSA6IGFbMV07XG4gIGNvbnN0IGMgPSBhLmxlbmd0aCA9PT0gMiA/IGFbMF0gOiB0cnVlO1xuICBpZiAoYyAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IobSk7XG4gIH1cbn1cblxuLy8gc3JjL2RlZXAtbWVyZ2UudHNcbmZ1bmN0aW9uIGRlZXBNZXJnZShzb3VyY2UsIC4uLm9iamVjdHMpIHtcbiAgZm9yIChjb25zdCBvYmogb2Ygb2JqZWN0cykge1xuICAgIGNvbnN0IHRhcmdldCA9IGNvbXBhY3Qob2JqKTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiB0YXJnZXQpIHtcbiAgICAgIGlmIChpc09iamVjdChvYmpba2V5XSkpIHtcbiAgICAgICAgaWYgKCFzb3VyY2Vba2V5XSkge1xuICAgICAgICAgIHNvdXJjZVtrZXldID0ge307XG4gICAgICAgIH1cbiAgICAgICAgZGVlcE1lcmdlKHNvdXJjZVtrZXldLCBvYmpba2V5XSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzb3VyY2Vba2V5XSA9IG9ialtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gc291cmNlO1xufVxuXG4vLyBzcmMvdXRpbHMudHNcbmltcG9ydCB7IGtsb25hIH0gZnJvbSBcImtsb25hL2Z1bGxcIjtcbmZ1bmN0aW9uIHN0cnVjdHVyZWRDbG9uZSh2KSB7XG4gIHJldHVybiBrbG9uYSh2KTtcbn1cbmZ1bmN0aW9uIHRvRXZlbnQoZXZlbnQpIHtcbiAgY29uc3Qgb2JqID0gaXNTdHJpbmcoZXZlbnQpID8geyB0eXBlOiBldmVudCB9IDogZXZlbnQ7XG4gIHJldHVybiBvYmo7XG59XG5mdW5jdGlvbiB0b0FycmF5KHZhbHVlKSB7XG4gIGlmICghdmFsdWUpXG4gICAgcmV0dXJuIFtdO1xuICByZXR1cm4gaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5zbGljZSgpIDogW3ZhbHVlXTtcbn1cbmZ1bmN0aW9uIGlzR3VhcmRIZWxwZXIodmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHZhbHVlKSAmJiB2YWx1ZS5wcmVkaWNhdGUgIT0gbnVsbDtcbn1cblxuLy8gc3JjL2d1YXJkLXV0aWxzLnRzXG52YXIgVHJ1dGh5ID0gKCkgPT4gdHJ1ZTtcbmZ1bmN0aW9uIGV4ZWMoZ3VhcmRNYXAsIGN0eCwgZXZlbnQsIG1ldGEpIHtcbiAgcmV0dXJuIChndWFyZCkgPT4ge1xuICAgIGlmIChpc1N0cmluZyhndWFyZCkpIHtcbiAgICAgIHJldHVybiAhIWd1YXJkTWFwW2d1YXJkXT8uKGN0eCwgZXZlbnQsIG1ldGEpO1xuICAgIH1cbiAgICBpZiAoaXNGdW5jdGlvbihndWFyZCkpIHtcbiAgICAgIHJldHVybiBndWFyZChjdHgsIGV2ZW50LCBtZXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIGd1YXJkLnByZWRpY2F0ZShndWFyZE1hcCkoY3R4LCBldmVudCwgbWV0YSk7XG4gIH07XG59XG5mdW5jdGlvbiBvciguLi5jb25kaXRpb25zKSB7XG4gIHJldHVybiB7XG4gICAgcHJlZGljYXRlOiAoZ3VhcmRNYXApID0+IChjdHgsIGV2ZW50LCBtZXRhKSA9PiBjb25kaXRpb25zLm1hcChleGVjKGd1YXJkTWFwLCBjdHgsIGV2ZW50LCBtZXRhKSkuc29tZShCb29sZWFuKVxuICB9O1xufVxuZnVuY3Rpb24gYW5kKC4uLmNvbmRpdGlvbnMpIHtcbiAgcmV0dXJuIHtcbiAgICBwcmVkaWNhdGU6IChndWFyZE1hcCkgPT4gKGN0eCwgZXZlbnQsIG1ldGEpID0+IGNvbmRpdGlvbnMubWFwKGV4ZWMoZ3VhcmRNYXAsIGN0eCwgZXZlbnQsIG1ldGEpKS5ldmVyeShCb29sZWFuKVxuICB9O1xufVxuZnVuY3Rpb24gbm90KGNvbmRpdGlvbikge1xuICByZXR1cm4ge1xuICAgIHByZWRpY2F0ZTogKGd1YXJkTWFwKSA9PiAoY3R4LCBldmVudCwgbWV0YSkgPT4ge1xuICAgICAgcmV0dXJuICFleGVjKGd1YXJkTWFwLCBjdHgsIGV2ZW50LCBtZXRhKShjb25kaXRpb24pO1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIHN0YXRlSW4oLi4udmFsdWVzKSB7XG4gIHJldHVybiAoX2N0eCwgX2V2dCwgbWV0YSkgPT4gbWV0YS5zdGF0ZS5tYXRjaGVzKC4uLnZhbHVlcyk7XG59XG52YXIgZ3VhcmRzID0geyBvciwgYW5kLCBub3QsIHN0YXRlSW4gfTtcbmZ1bmN0aW9uIGNob29zZShhY3Rpb25zKSB7XG4gIHJldHVybiB7XG4gICAgcHJlZGljYXRlOiAoZ3VhcmRNYXApID0+IChjdHgsIGV2ZW50LCBtZXRhKSA9PiBhY3Rpb25zLmZpbmQoKGRlZikgPT4ge1xuICAgICAgY29uc3QgZ3VhcmQgPSBkZWYuZ3VhcmQgPz8gVHJ1dGh5O1xuICAgICAgcmV0dXJuIGV4ZWMoZ3VhcmRNYXAsIGN0eCwgZXZlbnQsIG1ldGEpKGd1YXJkKTtcbiAgICB9KT8uYWN0aW9uc1xuICB9O1xufVxuZnVuY3Rpb24gZGV0ZXJtaW5lR3VhcmRGbihndWFyZCwgZ3VhcmRNYXApIHtcbiAgZ3VhcmQgPSBndWFyZCA/PyBUcnV0aHk7XG4gIHJldHVybiAoY29udGV4dCwgZXZlbnQsIG1ldGEpID0+IHtcbiAgICBpZiAoaXNTdHJpbmcoZ3VhcmQpKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IGd1YXJkTWFwW2d1YXJkXTtcbiAgICAgIHJldHVybiBpc0Z1bmN0aW9uKHZhbHVlKSA/IHZhbHVlKGNvbnRleHQsIGV2ZW50LCBtZXRhKSA6IHZhbHVlO1xuICAgIH1cbiAgICBpZiAoaXNHdWFyZEhlbHBlcihndWFyZCkpIHtcbiAgICAgIHJldHVybiBndWFyZC5wcmVkaWNhdGUoZ3VhcmRNYXApKGNvbnRleHQsIGV2ZW50LCBtZXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIGd1YXJkPy4oY29udGV4dCwgZXZlbnQsIG1ldGEpO1xuICB9O1xufVxuZnVuY3Rpb24gZGV0ZXJtaW5lQWN0aW9uc0ZuKHZhbHVlcywgZ3VhcmRNYXApIHtcbiAgcmV0dXJuIChjb250ZXh0LCBldmVudCwgbWV0YSkgPT4ge1xuICAgIGlmIChpc0d1YXJkSGVscGVyKHZhbHVlcykpIHtcbiAgICAgIHJldHVybiB2YWx1ZXMucHJlZGljYXRlKGd1YXJkTWFwKShjb250ZXh0LCBldmVudCwgbWV0YSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZXM7XG4gIH07XG59XG5cbi8vIHNyYy9tYWNoaW5lLnRzXG5pbXBvcnQgeyByZWYsIHNuYXBzaG90LCBzdWJzY3JpYmUsIHN1YnNjcmliZUtleSB9IGZyb20gXCJAemFnLWpzL3N0b3JlXCI7XG5cbi8vIHNyYy9jcmVhdGUtcHJveHkudHNcbmltcG9ydCB7IHByb3h5LCBwcm94eVdpdGhDb21wdXRlZCB9IGZyb20gXCJAemFnLWpzL3N0b3JlXCI7XG5mdW5jdGlvbiBjcmVhdGVQcm94eShjb25maWcpIHtcbiAgY29uc3QgY29tcHV0ZWRDb250ZXh0ID0gY29uZmlnLmNvbXB1dGVkID8/IGNhc3Qoe30pO1xuICBjb25zdCBpbml0aWFsQ29udGV4dCA9IGNvbmZpZy5jb250ZXh0ID8/IGNhc3Qoe30pO1xuICBjb25zdCBzdGF0ZSA9IHByb3h5KHtcbiAgICB2YWx1ZTogY29uZmlnLmluaXRpYWwgPz8gXCJcIixcbiAgICBwcmV2aW91c1ZhbHVlOiBcIlwiLFxuICAgIGV2ZW50OiBjYXN0KHt9KSxcbiAgICBwcmV2aW91c0V2ZW50OiBjYXN0KHt9KSxcbiAgICBjb250ZXh0OiBwcm94eVdpdGhDb21wdXRlZChpbml0aWFsQ29udGV4dCwgY29tcHV0ZWRDb250ZXh0KSxcbiAgICBkb25lOiBmYWxzZSxcbiAgICB0YWdzOiBbXSxcbiAgICBoYXNUYWcodGFnKSB7XG4gICAgICByZXR1cm4gdGhpcy50YWdzLmluY2x1ZGVzKHRhZyk7XG4gICAgfSxcbiAgICBtYXRjaGVzKC4uLnZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUuaW5jbHVkZXModGhpcy52YWx1ZSk7XG4gICAgfSxcbiAgICBjYW4oZXZlbnQpIHtcbiAgICAgIHJldHVybiBjYXN0KHRoaXMpLm5leHRFdmVudHMuaW5jbHVkZXMoZXZlbnQpO1xuICAgIH0sXG4gICAgZ2V0IG5leHRFdmVudHMoKSB7XG4gICAgICBjb25zdCBzdGF0ZUV2ZW50cyA9IGNvbmZpZy5zdGF0ZXM/Llt0aGlzLnZhbHVlXT8uW1wib25cIl0gPz8ge307XG4gICAgICBjb25zdCBnbG9iYWxFdmVudHMgPSBjb25maWc/Lm9uID8/IHt9O1xuICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHsgLi4uc3RhdGVFdmVudHMsIC4uLmdsb2JhbEV2ZW50cyB9KTtcbiAgICB9LFxuICAgIGdldCBjaGFuZ2VkKCkge1xuICAgICAgaWYgKHRoaXMuZXZlbnQudmFsdWUgPT09IFwibWFjaGluZS5pbml0XCIgLyogSW5pdCAqLyB8fCAhdGhpcy5wcmV2aW91c1ZhbHVlKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICByZXR1cm4gdGhpcy52YWx1ZSAhPT0gdGhpcy5wcmV2aW91c1ZhbHVlO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBjYXN0KHN0YXRlKTtcbn1cblxuLy8gc3JjL2RlbGF5LXV0aWxzLnRzXG5mdW5jdGlvbiBkZXRlcm1pbmVEZWxheUZuKGRlbGF5LCBkZWxheXNNYXApIHtcbiAgcmV0dXJuIChjb250ZXh0LCBldmVudCkgPT4ge1xuICAgIGlmIChpc051bWJlcihkZWxheSkpXG4gICAgICByZXR1cm4gZGVsYXk7XG4gICAgaWYgKGlzRnVuY3Rpb24oZGVsYXkpKSB7XG4gICAgICByZXR1cm4gZGVsYXkoY29udGV4dCwgZXZlbnQpO1xuICAgIH1cbiAgICBpZiAoaXNTdHJpbmcoZGVsYXkpKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IE51bWJlci5wYXJzZUZsb2F0KGRlbGF5KTtcbiAgICAgIGlmICghTnVtYmVyLmlzTmFOKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAoZGVsYXlzTWFwKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlT3JGbiA9IGRlbGF5c01hcD8uW2RlbGF5XTtcbiAgICAgICAgaW52YXJpYW50KFxuICAgICAgICAgIHZhbHVlT3JGbiA9PSBudWxsLFxuICAgICAgICAgIGBbQHphZy1qcy9jb3JlID4gZGV0ZXJtaW5lLWRlbGF5XSBDYW5ub3QgZGV0ZXJtaW5lIGRlbGF5IGZvciBcXGAke2RlbGF5fVxcYC4gSXQgZG9lc24ndCBleGlzdCBpbiBcXGBvcHRpb25zLmRlbGF5c1xcYGBcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGlzRnVuY3Rpb24odmFsdWVPckZuKSA/IHZhbHVlT3JGbihjb250ZXh0LCBldmVudCkgOiB2YWx1ZU9yRm47XG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuXG4vLyBzcmMvdHJhbnNpdGlvbi11dGlscy50c1xuZnVuY3Rpb24gdG9UYXJnZXQodGFyZ2V0KSB7XG4gIHJldHVybiBpc1N0cmluZyh0YXJnZXQpID8geyB0YXJnZXQgfSA6IHRhcmdldDtcbn1cbmZ1bmN0aW9uIGRldGVybWluZVRyYW5zaXRpb25Gbih0cmFuc2l0aW9ucywgZ3VhcmRNYXApIHtcbiAgcmV0dXJuIChjb250ZXh0LCBldmVudCwgbWV0YSkgPT4ge1xuICAgIHJldHVybiB0b0FycmF5KHRyYW5zaXRpb25zKS5tYXAodG9UYXJnZXQpLmZpbmQoKHRyYW5zaXRpb24pID0+IHtcbiAgICAgIGNvbnN0IGRldGVybWluZUd1YXJkID0gZGV0ZXJtaW5lR3VhcmRGbih0cmFuc2l0aW9uLmd1YXJkLCBndWFyZE1hcCk7XG4gICAgICBjb25zdCBndWFyZCA9IGRldGVybWluZUd1YXJkKGNvbnRleHQsIGV2ZW50LCBtZXRhKTtcbiAgICAgIHJldHVybiBndWFyZCA/PyB0cmFuc2l0aW9uLnRhcmdldCA/PyB0cmFuc2l0aW9uLmFjdGlvbnM7XG4gICAgfSk7XG4gIH07XG59XG5cbi8vIHNyYy9tYWNoaW5lLnRzXG52YXIgTWFjaGluZSA9IGNsYXNzIF9NYWNoaW5lIHtcbiAgLy8gTGV0J3MgZ2V0IHN0YXJ0ZWQhXG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgb3B0aW9ucykge1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJzdGF0dXNcIiwgXCJOb3QgU3RhcnRlZFwiIC8qIE5vdFN0YXJ0ZWQgKi8pO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJzdGF0ZVwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiaW5pdGlhbFN0YXRlXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJpbml0aWFsQ29udGV4dFwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiaWRcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInR5cGVcIiwgXCJtYWNoaW5lXCIgLyogTWFjaGluZSAqLyk7XG4gICAgLy8gQ2xlYW51cCBmdW5jdGlvbiBtYXAgKHBlciBzdGF0ZSlcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiYWN0aXZpdHlFdmVudHNcIiwgLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImRlbGF5ZWRFdmVudHNcIiwgLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSk7XG4gICAgLy8gc3RhdGUgdXBkYXRlIGxpc3RlbmVycyB0aGUgdXNlciBjYW4gb3B0LWluIGZvclxuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJzdGF0ZUxpc3RlbmVyc1wiLCAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiY29udGV4dExpc3RlbmVyc1wiLCAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiZXZlbnRMaXN0ZW5lcnNcIiwgLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImRvbmVMaXN0ZW5lcnNcIiwgLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImNvbnRleHRXYXRjaGVyc1wiLCAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpKTtcbiAgICAvLyBDbGVhbnVwIGZ1bmN0aW9ucyAoZm9yIGBzdWJzY3JpYmVgKVxuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJyZW1vdmVTdGF0ZUxpc3RlbmVyXCIsIG5vb3ApO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJyZW1vdmVFdmVudExpc3RlbmVyXCIsIG5vb3ApO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJyZW1vdmVDb250ZXh0TGlzdGVuZXJcIiwgbm9vcCk7XG4gICAgLy8gRm9yIFBhcmVudCA8PT0+IFNwYXduZWQgQWN0b3IgcmVsYXRpb25zaGlwXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInBhcmVudFwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiY2hpbGRyZW5cIiwgLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSk7XG4gICAgLy8gQSBtYXAgb2YgZ3VhcmQsIGFjdGlvbiwgZGVsYXkgaW1wbGVtZW50YXRpb25zXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImd1YXJkTWFwXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJhY3Rpb25NYXBcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImRlbGF5TWFwXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJhY3Rpdml0eU1hcFwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwic3luY1wiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwib3B0aW9uc1wiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiY29uZmlnXCIpO1xuICAgIC8vIFN0YXJ0cyB0aGUgaW50ZXJwcmV0ZWQgbWFjaGluZS5cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwic3RhcnRcIiwgKGluaXQpID0+IHtcbiAgICAgIHRoaXMuc3RhdGUudmFsdWUgPSBcIlwiO1xuICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSBcIlJ1bm5pbmdcIiAvKiBSdW5uaW5nICovKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgdGhpcy5zdGF0dXMgPSBcIlJ1bm5pbmdcIiAvKiBSdW5uaW5nICovO1xuICAgICAgdGhpcy5yZW1vdmVTdGF0ZUxpc3RlbmVyID0gc3Vic2NyaWJlKFxuICAgICAgICB0aGlzLnN0YXRlLFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5zdGF0ZUxpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT4ge1xuICAgICAgICAgICAgbGlzdGVuZXIodGhpcy5zdGF0ZVNuYXBzaG90KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgdGhpcy5zeW5jXG4gICAgICApO1xuICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyID0gc3Vic2NyaWJlS2V5KFxuICAgICAgICB0aGlzLnN0YXRlLFxuICAgICAgICBcImV2ZW50XCIsXG4gICAgICAgIChldmVudDIpID0+IHtcbiAgICAgICAgICB0aGlzLmV4ZWN1dGVBY3Rpb25zKHRoaXMuY29uZmlnLm9uRXZlbnQsIGV2ZW50Mik7XG4gICAgICAgICAgdGhpcy5ldmVudExpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT4ge1xuICAgICAgICAgICAgbGlzdGVuZXIoZXZlbnQyKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgdGhpcy5zeW5jXG4gICAgICApO1xuICAgICAgdGhpcy5yZW1vdmVDb250ZXh0TGlzdGVuZXIgPSBzdWJzY3JpYmUoXG4gICAgICAgIHRoaXMuc3RhdGUuY29udGV4dCxcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIHRoaXMubG9nKFwiQ29udGV4dDpcIiwgdGhpcy5jb250ZXh0U25hcHNob3QpO1xuICAgICAgICAgIHRoaXMuY29udGV4dExpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT4ge1xuICAgICAgICAgICAgbGlzdGVuZXIodGhpcy5jb250ZXh0U25hcHNob3QpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICB0aGlzLnN5bmMgfHwgdGhpcy5vcHRpb25zLmRlYnVnXG4gICAgICApO1xuICAgICAgdGhpcy5zZXR1cENvbnRleHRXYXRjaGVycygpO1xuICAgICAgdGhpcy5leGVjdXRlQWN0aXZpdGllcyh0b0V2ZW50KFwibWFjaGluZS5zdGFydFwiIC8qIFN0YXJ0ICovKSwgdG9BcnJheSh0aGlzLmNvbmZpZy5hY3Rpdml0aWVzKSwgXCJtYWNoaW5lLnN0YXJ0XCIgLyogU3RhcnQgKi8pO1xuICAgICAgdGhpcy5leGVjdXRlQWN0aW9ucyh0aGlzLmNvbmZpZy5lbnRyeSwgdG9FdmVudChcIm1hY2hpbmUuc3RhcnRcIiAvKiBTdGFydCAqLykpO1xuICAgICAgY29uc3QgZXZlbnQgPSB0b0V2ZW50KFwibWFjaGluZS5pbml0XCIgLyogSW5pdCAqLyk7XG4gICAgICBjb25zdCB0YXJnZXQgPSBpc09iamVjdChpbml0KSA/IGluaXQudmFsdWUgOiBpbml0O1xuICAgICAgY29uc3QgY29udGV4dCA9IGlzT2JqZWN0KGluaXQpID8gaW5pdC5jb250ZXh0IDogdm9pZCAwO1xuICAgICAgaWYgKGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5zZXRDb250ZXh0KGNvbnRleHQpO1xuICAgICAgfVxuICAgICAgY29uc3QgdHJhbnNpdGlvbiA9IHtcbiAgICAgICAgdGFyZ2V0OiB0YXJnZXQgPz8gdGhpcy5jb25maWcuaW5pdGlhbFxuICAgICAgfTtcbiAgICAgIGNvbnN0IG5leHQgPSB0aGlzLmdldE5leHRTdGF0ZUluZm8odHJhbnNpdGlvbiwgZXZlbnQpO1xuICAgICAgdGhpcy5pbml0aWFsU3RhdGUgPSBuZXh0O1xuICAgICAgdGhpcy5wZXJmb3JtU3RhdGVDaGFuZ2VFZmZlY3RzKHRoaXMuc3RhdGUudmFsdWUsIG5leHQsIGV2ZW50KTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0pO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJzZXR1cENvbnRleHRXYXRjaGVyc1wiLCAoKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IFtrZXksIGZuXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLmNvbmZpZy53YXRjaCA/PyB7fSkpIHtcbiAgICAgICAgY29uc3QgY29tcGFyZUZuID0gdGhpcy5vcHRpb25zLmNvbXBhcmVGbnM/LltrZXldO1xuICAgICAgICBjb25zdCBjbGVhbnVwID0gc3Vic2NyaWJlS2V5KFxuICAgICAgICAgIHRoaXMuc3RhdGUuY29udGV4dCxcbiAgICAgICAgICBrZXksXG4gICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5leGVjdXRlQWN0aW9ucyhmbiwgdGhpcy5zdGF0ZS5ldmVudCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICB0aGlzLnN5bmMsXG4gICAgICAgICAgY29tcGFyZUZuXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuY29udGV4dFdhdGNoZXJzLmFkZChjbGVhbnVwKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBTdG9wcyB0aGUgaW50ZXJwcmV0ZWQgbWFjaGluZVxuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJzdG9wXCIsICgpID0+IHtcbiAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gXCJTdG9wcGVkXCIgLyogU3RvcHBlZCAqLylcbiAgICAgICAgcmV0dXJuO1xuICAgICAgdGhpcy5wZXJmb3JtRXhpdEVmZmVjdHModGhpcy5zdGF0ZS52YWx1ZSwgdG9FdmVudChcIm1hY2hpbmUuc3RvcFwiIC8qIFN0b3AgKi8pKTtcbiAgICAgIHRoaXMuZXhlY3V0ZUFjdGlvbnModGhpcy5jb25maWcuZXhpdCwgdG9FdmVudChcIm1hY2hpbmUuc3RvcFwiIC8qIFN0b3AgKi8pKTtcbiAgICAgIHRoaXMuc2V0U3RhdGUoXCJcIik7XG4gICAgICB0aGlzLnNldEV2ZW50KFwibWFjaGluZS5zdG9wXCIgLyogU3RvcCAqLyk7XG4gICAgICB0aGlzLnN0b3BTdGF0ZUxpc3RlbmVycygpO1xuICAgICAgdGhpcy5zdG9wQ2hpbGRyZW4oKTtcbiAgICAgIHRoaXMuc3RvcEFjdGl2aXRpZXMoKTtcbiAgICAgIHRoaXMuc3RvcERlbGF5ZWRFdmVudHMoKTtcbiAgICAgIHRoaXMuc3RvcENvbnRleHRXYXRjaGVycygpO1xuICAgICAgdGhpcy5zdG9wRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgIHRoaXMuc3RvcENvbnRleHRMaXN0ZW5lcnMoKTtcbiAgICAgIHRoaXMuc3RhdHVzID0gXCJTdG9wcGVkXCIgLyogU3RvcHBlZCAqLztcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0pO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJzdG9wRXZlbnRMaXN0ZW5lcnNcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5ldmVudExpc3RlbmVycy5jbGVhcigpO1xuICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCk7XG4gICAgfSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInN0b3BDb250ZXh0TGlzdGVuZXJzXCIsICgpID0+IHtcbiAgICAgIHRoaXMuY29udGV4dExpc3RlbmVycy5jbGVhcigpO1xuICAgICAgdGhpcy5yZW1vdmVDb250ZXh0TGlzdGVuZXIoKTtcbiAgICB9KTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwic3RvcFN0YXRlTGlzdGVuZXJzXCIsICgpID0+IHtcbiAgICAgIHRoaXMucmVtb3ZlU3RhdGVMaXN0ZW5lcigpO1xuICAgICAgdGhpcy5zdGF0ZUxpc3RlbmVycy5jbGVhcigpO1xuICAgIH0pO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJzdG9wQ29udGV4dFdhdGNoZXJzXCIsICgpID0+IHtcbiAgICAgIHRoaXMuY29udGV4dFdhdGNoZXJzLmZvckVhY2goKGZuKSA9PiBmbigpKTtcbiAgICAgIHRoaXMuY29udGV4dFdhdGNoZXJzLmNsZWFyKCk7XG4gICAgfSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInN0b3BEZWxheWVkRXZlbnRzXCIsICgpID0+IHtcbiAgICAgIHRoaXMuZGVsYXllZEV2ZW50cy5mb3JFYWNoKChzdGF0ZSkgPT4ge1xuICAgICAgICBzdGF0ZS5mb3JFYWNoKChzdG9wKSA9PiBzdG9wKCkpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmRlbGF5ZWRFdmVudHMuY2xlYXIoKTtcbiAgICB9KTtcbiAgICAvLyBDbGVhbnVwIHJ1bm5pbmcgYWN0aXZpdGllcyAoZS5nIGBzZXRJbnRlcnZhbGAsIGludm9rZWQgY2FsbGJhY2tzLCBwcm9taXNlcylcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwic3RvcEFjdGl2aXRpZXNcIiwgKHN0YXRlKSA9PiB7XG4gICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgdGhpcy5hY3Rpdml0eUV2ZW50cy5nZXQoc3RhdGUpPy5mb3JFYWNoKChzdG9wKSA9PiBzdG9wKCkpO1xuICAgICAgICB0aGlzLmFjdGl2aXR5RXZlbnRzLmdldChzdGF0ZSk/LmNsZWFyKCk7XG4gICAgICAgIHRoaXMuYWN0aXZpdHlFdmVudHMuZGVsZXRlKHN0YXRlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYWN0aXZpdHlFdmVudHMuZm9yRWFjaCgoc3RhdGUyKSA9PiB7XG4gICAgICAgICAgc3RhdGUyLmZvckVhY2goKHN0b3ApID0+IHN0b3AoKSk7XG4gICAgICAgICAgc3RhdGUyLmNsZWFyKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmFjdGl2aXR5RXZlbnRzLmNsZWFyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdG8gc2VuZCBldmVudCB0byBzcGF3bmVkIGNoaWxkIG1hY2hpbmUgb3IgYWN0b3JcbiAgICAgKi9cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwic2VuZENoaWxkXCIsIChldnQsIHRvKSA9PiB7XG4gICAgICBjb25zdCBldmVudCA9IHRvRXZlbnQoZXZ0KTtcbiAgICAgIGNvbnN0IGlkID0gcnVuSWZGbih0bywgdGhpcy5jb250ZXh0U25hcHNob3QpO1xuICAgICAgY29uc3QgY2hpbGQgPSB0aGlzLmNoaWxkcmVuLmdldChpZCk7XG4gICAgICBpZiAoIWNoaWxkKSB7XG4gICAgICAgIGludmFyaWFudChgW0B6YWctanMvY29yZV0gQ2Fubm90IHNlbmQgJyR7ZXZlbnQudHlwZX0nIGV2ZW50IHRvIHVua25vd24gY2hpbGRgKTtcbiAgICAgIH1cbiAgICAgIGNoaWxkLnNlbmQoZXZlbnQpO1xuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIHRvIHN0b3AgYSBydW5uaW5nIGNoaWxkIG1hY2hpbmUgb3IgYWN0b3JcbiAgICAgKi9cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwic3RvcENoaWxkXCIsIChpZCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLmNoaWxkcmVuLmhhcyhpZCkpIHtcbiAgICAgICAgaW52YXJpYW50KGBbQHphZy1qcy9jb3JlID4gc3RvcC1jaGlsZF0gQ2Fubm90IHN0b3AgdW5rbm93biBjaGlsZCAke2lkfWApO1xuICAgICAgfVxuICAgICAgdGhpcy5jaGlsZHJlbi5nZXQoaWQpLnN0b3AoKTtcbiAgICAgIHRoaXMuY2hpbGRyZW4uZGVsZXRlKGlkKTtcbiAgICB9KTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwicmVtb3ZlQ2hpbGRcIiwgKGlkKSA9PiB7XG4gICAgICB0aGlzLmNoaWxkcmVuLmRlbGV0ZShpZCk7XG4gICAgfSk7XG4gICAgLy8gU3RvcCBhbmQgZGVsZXRlIHNwYXduZWQgYWN0b3JzXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInN0b3BDaGlsZHJlblwiLCAoKSA9PiB7XG4gICAgICB0aGlzLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiBjaGlsZC5zdG9wKCkpO1xuICAgICAgdGhpcy5jaGlsZHJlbi5jbGVhcigpO1xuICAgIH0pO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJzZXRQYXJlbnRcIiwgKHBhcmVudCkgPT4ge1xuICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgfSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInNwYXduXCIsIChzcmMsIGlkKSA9PiB7XG4gICAgICBjb25zdCBhY3RvciA9IHJ1bklmRm4oc3JjKTtcbiAgICAgIGlmIChpZClcbiAgICAgICAgYWN0b3IuaWQgPSBpZDtcbiAgICAgIGFjdG9yLnR5cGUgPSBcIm1hY2hpbmUuYWN0b3JcIiAvKiBBY3RvciAqLztcbiAgICAgIGFjdG9yLnNldFBhcmVudCh0aGlzKTtcbiAgICAgIHRoaXMuY2hpbGRyZW4uc2V0KGFjdG9yLmlkLCBjYXN0KGFjdG9yKSk7XG4gICAgICBhY3Rvci5vbkRvbmUoKCkgPT4ge1xuICAgICAgICB0aGlzLnJlbW92ZUNoaWxkKGFjdG9yLmlkKTtcbiAgICAgIH0pLnN0YXJ0KCk7XG4gICAgICByZXR1cm4gY2FzdChyZWYoYWN0b3IpKTtcbiAgICB9KTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwic3RvcEFjdGl2aXR5XCIsIChrZXkpID0+IHtcbiAgICAgIGlmICghdGhpcy5zdGF0ZS52YWx1ZSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29uc3QgY2xlYW51cHMgPSB0aGlzLmFjdGl2aXR5RXZlbnRzLmdldCh0aGlzLnN0YXRlLnZhbHVlKTtcbiAgICAgIGNsZWFudXBzPy5nZXQoa2V5KT8uKCk7XG4gICAgICBjbGVhbnVwcz8uZGVsZXRlKGtleSk7XG4gICAgfSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImFkZEFjdGl2aXR5Q2xlYW51cFwiLCAoc3RhdGUsIGtleSwgY2xlYW51cCkgPT4ge1xuICAgICAgaWYgKCFzdGF0ZSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgaWYgKCF0aGlzLmFjdGl2aXR5RXZlbnRzLmhhcyhzdGF0ZSkpIHtcbiAgICAgICAgdGhpcy5hY3Rpdml0eUV2ZW50cy5zZXQoc3RhdGUsIC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKFtba2V5LCBjbGVhbnVwXV0pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYWN0aXZpdHlFdmVudHMuZ2V0KHN0YXRlKT8uc2V0KGtleSwgY2xlYW51cCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInNldFN0YXRlXCIsICh0YXJnZXQpID0+IHtcbiAgICAgIHRoaXMuc3RhdGUucHJldmlvdXNWYWx1ZSA9IHRoaXMuc3RhdGUudmFsdWU7XG4gICAgICB0aGlzLnN0YXRlLnZhbHVlID0gdGFyZ2V0O1xuICAgICAgY29uc3Qgc3RhdGVOb2RlID0gdGhpcy5nZXRTdGF0ZU5vZGUodGFyZ2V0KTtcbiAgICAgIGlmICh0YXJnZXQgPT0gbnVsbCkge1xuICAgICAgICBjbGVhcih0aGlzLnN0YXRlLnRhZ3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zdGF0ZS50YWdzID0gdG9BcnJheShzdGF0ZU5vZGU/LnRhZ3MpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJ0cmFuc2Zvcm1Db250ZXh0XCIsIChjb250ZXh0KSA9PiB7XG4gICAgICB0aGlzLm9wdGlvbnM/LnRyYW5zZm9ybUNvbnRleHQ/Lihjb250ZXh0KTtcbiAgICAgIHJldHVybiBjb250ZXh0O1xuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFRvIHVzZWQgd2l0aGluIHNpZGUgZWZmZWN0cyBmb3IgUmVhY3Qgb3IgVnVlIHRvIHVwZGF0ZSBjb250ZXh0XG4gICAgICovXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInNldENvbnRleHRcIiwgKGNvbnRleHQpID0+IHtcbiAgICAgIGlmICghY29udGV4dClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgZGVlcE1lcmdlKHRoaXMuc3RhdGUuY29udGV4dCwgdGhpcy50cmFuc2Zvcm1Db250ZXh0KGNvbnRleHQpKTtcbiAgICB9KTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwid2l0aENvbnRleHRcIiwgKGNvbnRleHQpID0+IHtcbiAgICAgIGNvbnN0IHRyYW5zZm9ybWVkID0gdGhpcy50cmFuc2Zvcm1Db250ZXh0KGNvbnRleHQpO1xuICAgICAgY29uc3QgbmV3Q29udGV4dCA9IHsgLi4udGhpcy5jb25maWcuY29udGV4dCwgLi4uY29tcGFjdCh0cmFuc2Zvcm1lZCkgfTtcbiAgICAgIHJldHVybiBuZXcgX01hY2hpbmUoeyAuLi50aGlzLmNvbmZpZywgY29udGV4dDogbmV3Q29udGV4dCB9LCB0aGlzLm9wdGlvbnMpO1xuICAgIH0pO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJzZXRPcHRpb25zXCIsIChvcHRpb25zKSA9PiB7XG4gICAgICBjb25zdCBvcHRzID0gY29tcGFjdChvcHRpb25zKTtcbiAgICAgIHRoaXMuYWN0aW9uTWFwID0geyAuLi50aGlzLmFjdGlvbk1hcCwgLi4ub3B0cy5hY3Rpb25zIH07XG4gICAgICB0aGlzLmRlbGF5TWFwID0geyAuLi50aGlzLmRlbGF5TWFwLCAuLi5vcHRzLmRlbGF5cyB9O1xuICAgICAgdGhpcy5hY3Rpdml0eU1hcCA9IHsgLi4udGhpcy5hY3Rpdml0eU1hcCwgLi4ub3B0cy5hY3Rpdml0aWVzIH07XG4gICAgICB0aGlzLmd1YXJkTWFwID0geyAuLi50aGlzLmd1YXJkTWFwLCAuLi5vcHRzLmd1YXJkcyB9O1xuICAgIH0pO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJnZXRTdGF0ZU5vZGVcIiwgKHN0YXRlKSA9PiB7XG4gICAgICBpZiAoIXN0YXRlKVxuICAgICAgICByZXR1cm47XG4gICAgICByZXR1cm4gdGhpcy5jb25maWcuc3RhdGVzPy5bc3RhdGVdO1xuICAgIH0pO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJnZXROZXh0U3RhdGVJbmZvXCIsICh0cmFuc2l0aW9ucywgZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRyYW5zaXRpb24gPSB0aGlzLmRldGVybWluZVRyYW5zaXRpb24odHJhbnNpdGlvbnMsIGV2ZW50KTtcbiAgICAgIGNvbnN0IGlzVGFyZ2V0bGVzcyA9ICF0cmFuc2l0aW9uPy50YXJnZXQ7XG4gICAgICBjb25zdCB0YXJnZXQgPSB0cmFuc2l0aW9uPy50YXJnZXQgPz8gdGhpcy5zdGF0ZS52YWx1ZTtcbiAgICAgIGNvbnN0IGNoYW5nZWQgPSB0aGlzLnN0YXRlLnZhbHVlICE9PSB0YXJnZXQ7XG4gICAgICBjb25zdCBzdGF0ZU5vZGUgPSB0aGlzLmdldFN0YXRlTm9kZSh0YXJnZXQpO1xuICAgICAgY29uc3QgcmVlbnRlciA9ICFpc1RhcmdldGxlc3MgJiYgIWNoYW5nZWQgJiYgIXRyYW5zaXRpb24/LmludGVybmFsO1xuICAgICAgY29uc3QgaW5mbyA9IHtcbiAgICAgICAgcmVlbnRlcixcbiAgICAgICAgdHJhbnNpdGlvbixcbiAgICAgICAgc3RhdGVOb2RlLFxuICAgICAgICB0YXJnZXQsXG4gICAgICAgIGNoYW5nZWRcbiAgICAgIH07XG4gICAgICB0aGlzLmxvZyhcIk5leHRTdGF0ZTpcIiwgYFske2V2ZW50LnR5cGV9XWAsIHRoaXMuc3RhdGUudmFsdWUsIFwiLS0tLT5cIiwgaW5mby50YXJnZXQpO1xuICAgICAgcmV0dXJuIGluZm87XG4gICAgfSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImdldEFjdGlvbkZyb21EZWxheWVkVHJhbnNpdGlvblwiLCAodHJhbnNpdGlvbikgPT4ge1xuICAgICAgY29uc3QgZXZlbnQgPSB0b0V2ZW50KFwibWFjaGluZS5hZnRlclwiIC8qIEFmdGVyICovKTtcbiAgICAgIGNvbnN0IGRldGVybWluZURlbGF5ID0gZGV0ZXJtaW5lRGVsYXlGbih0cmFuc2l0aW9uLmRlbGF5LCB0aGlzLmRlbGF5TWFwKTtcbiAgICAgIGNvbnN0IGRlbGF5ID0gZGV0ZXJtaW5lRGVsYXkodGhpcy5jb250ZXh0U25hcHNob3QsIGV2ZW50KTtcbiAgICAgIGxldCBpZDtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGVudHJ5OiAoKSA9PiB7XG4gICAgICAgICAgaWQgPSBnbG9iYWxUaGlzLnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV4dCA9IHRoaXMuZ2V0TmV4dFN0YXRlSW5mbyh0cmFuc2l0aW9uLCBldmVudCk7XG4gICAgICAgICAgICB0aGlzLnBlcmZvcm1TdGF0ZUNoYW5nZUVmZmVjdHModGhpcy5zdGF0ZS52YWx1ZSwgbmV4dCwgZXZlbnQpO1xuICAgICAgICAgIH0sIGRlbGF5KTtcbiAgICAgICAgfSxcbiAgICAgICAgZXhpdDogKCkgPT4ge1xuICAgICAgICAgIGdsb2JhbFRoaXMuY2xlYXJUaW1lb3V0KGlkKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBBbGwgYGFmdGVyYCBldmVudHMgbGV2ZXJhZ2UgYHNldFRpbWVvdXRgIGFuZCBgY2xlYXJUaW1lb3V0YCxcbiAgICAgKiB3ZSBpbnZva2UgdGhlIGBjbGVhclRpbWVvdXRgIG9uIGV4aXQgYW5kIGBzZXRUaW1lb3V0YCBvbiBlbnRyeS5cbiAgICAgKlxuICAgICAqIFRvIGFjaGlldmUgdGhpcywgd2Ugc3BsaXQgdGhlIGBhZnRlcmAgZGVmaW50aW9uIGludG8gYGVudHJ5YCBhbmQgYGV4aXRgXG4gICAgICogIGZ1bmN0aW9ucyBhbmQgYXBwZW5kIHRoZW0gdG8gdGhlIHN0YXRlJ3MgYGVudHJ5YCBhbmQgYGV4aXRgIGFjdGlvbnNcbiAgICAgKi9cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiZ2V0RGVsYXllZEV2ZW50QWN0aW9uc1wiLCAoc3RhdGUpID0+IHtcbiAgICAgIGNvbnN0IHN0YXRlTm9kZSA9IHRoaXMuZ2V0U3RhdGVOb2RlKHN0YXRlKTtcbiAgICAgIGNvbnN0IGV2ZW50ID0gdG9FdmVudChcIm1hY2hpbmUuYWZ0ZXJcIiAvKiBBZnRlciAqLyk7XG4gICAgICBpZiAoIXN0YXRlTm9kZSB8fCAhc3RhdGVOb2RlLmFmdGVyKVxuICAgICAgICByZXR1cm47XG4gICAgICBjb25zdCBlbnRyaWVzID0gW107XG4gICAgICBjb25zdCBleGl0cyA9IFtdO1xuICAgICAgaWYgKGlzQXJyYXkoc3RhdGVOb2RlLmFmdGVyKSkge1xuICAgICAgICBjb25zdCB0cmFuc2l0aW9uID0gdGhpcy5kZXRlcm1pbmVUcmFuc2l0aW9uKHN0YXRlTm9kZS5hZnRlciwgZXZlbnQpO1xuICAgICAgICBpZiAoIXRyYW5zaXRpb24pXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBhY3Rpb25zID0gdGhpcy5nZXRBY3Rpb25Gcm9tRGVsYXllZFRyYW5zaXRpb24odHJhbnNpdGlvbik7XG4gICAgICAgIGVudHJpZXMucHVzaChhY3Rpb25zLmVudHJ5KTtcbiAgICAgICAgZXhpdHMucHVzaChhY3Rpb25zLmV4aXQpO1xuICAgICAgfSBlbHNlIGlmIChpc09iamVjdChzdGF0ZU5vZGUuYWZ0ZXIpKSB7XG4gICAgICAgIGZvciAoY29uc3QgZGVsYXkgaW4gc3RhdGVOb2RlLmFmdGVyKSB7XG4gICAgICAgICAgY29uc3QgdHJhbnNpdGlvbiA9IHN0YXRlTm9kZS5hZnRlcltkZWxheV07XG4gICAgICAgICAgbGV0IHJlc29sdmVkVHJhbnNpdGlvbiA9IHt9O1xuICAgICAgICAgIGlmIChpc0FycmF5KHRyYW5zaXRpb24pKSB7XG4gICAgICAgICAgICBjb25zdCBwaWNrZWQgPSB0aGlzLmRldGVybWluZVRyYW5zaXRpb24odHJhbnNpdGlvbiwgZXZlbnQpO1xuICAgICAgICAgICAgaWYgKHBpY2tlZClcbiAgICAgICAgICAgICAgcmVzb2x2ZWRUcmFuc2l0aW9uID0gcGlja2VkO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaXNTdHJpbmcodHJhbnNpdGlvbikpIHtcbiAgICAgICAgICAgIHJlc29sdmVkVHJhbnNpdGlvbiA9IHsgdGFyZ2V0OiB0cmFuc2l0aW9uLCBkZWxheSB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNvbHZlZFRyYW5zaXRpb24gPSB7IC4uLnRyYW5zaXRpb24sIGRlbGF5IH07XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGFjdGlvbnMgPSB0aGlzLmdldEFjdGlvbkZyb21EZWxheWVkVHJhbnNpdGlvbihyZXNvbHZlZFRyYW5zaXRpb24pO1xuICAgICAgICAgIGVudHJpZXMucHVzaChhY3Rpb25zLmVudHJ5KTtcbiAgICAgICAgICBleGl0cy5wdXNoKGFjdGlvbnMuZXhpdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB7IGVudHJpZXMsIGV4aXRzIH07XG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdG8gZXhlY3V0ZXMgZGVmaW5lZCBhY3Rpb25zLiBJdCBjYW4gYWNjZXB0IGFjdGlvbnMgYXMgc3RyaW5nXG4gICAgICogKHJlZmVyZW5jaW5nIGBvcHRpb25zLmFjdGlvbnNgKSBvciBhY3R1YWwgZnVuY3Rpb25zLlxuICAgICAqL1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJleGVjdXRlQWN0aW9uc1wiLCAoYWN0aW9ucywgZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHBpY2tlZEFjdGlvbnMgPSBkZXRlcm1pbmVBY3Rpb25zRm4oYWN0aW9ucywgdGhpcy5ndWFyZE1hcCkodGhpcy5jb250ZXh0U25hcHNob3QsIGV2ZW50LCB0aGlzLmd1YXJkTWV0YSk7XG4gICAgICBmb3IgKGNvbnN0IGFjdGlvbiBvZiB0b0FycmF5KHBpY2tlZEFjdGlvbnMpKSB7XG4gICAgICAgIGNvbnN0IGZuID0gaXNTdHJpbmcoYWN0aW9uKSA/IHRoaXMuYWN0aW9uTWFwPy5bYWN0aW9uXSA6IGFjdGlvbjtcbiAgICAgICAgd2FybihcbiAgICAgICAgICBpc1N0cmluZyhhY3Rpb24pICYmICFmbixcbiAgICAgICAgICBgW0B6YWctanMvY29yZSA+IGV4ZWN1dGUtYWN0aW9uc10gTm8gaW1wbGVtZW50YXRpb24gZm91bmQgZm9yIGFjdGlvbjogXFxgJHthY3Rpb259XFxgYFxuICAgICAgICApO1xuICAgICAgICBmbj8uKHRoaXMuc3RhdGUuY29udGV4dCwgZXZlbnQsIHRoaXMubWV0YSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdG8gZXhlY3V0ZSBydW5uaW5nIGFjdGl2aXRpZXMgYW5kIHJlZ2lzdGVyc1xuICAgICAqIHRoZWlyIGNsZWFudXAgZnVuY3Rpb24gaW50ZXJuYWxseSAodG8gYmUgY2FsbGVkIGxhdGVyIG9uIHdoZW4gd2UgZXhpdCB0aGUgc3RhdGUpXG4gICAgICovXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImV4ZWN1dGVBY3Rpdml0aWVzXCIsIChldmVudCwgYWN0aXZpdGllcywgc3RhdGUpID0+IHtcbiAgICAgIGZvciAoY29uc3QgYWN0aXZpdHkgb2YgYWN0aXZpdGllcykge1xuICAgICAgICBjb25zdCBmbiA9IGlzU3RyaW5nKGFjdGl2aXR5KSA/IHRoaXMuYWN0aXZpdHlNYXA/LlthY3Rpdml0eV0gOiBhY3Rpdml0eTtcbiAgICAgICAgaWYgKCFmbikge1xuICAgICAgICAgIHdhcm4oYFtAemFnLWpzL2NvcmUgPiBleGVjdXRlLWFjdGl2aXR5XSBObyBpbXBsZW1lbnRhdGlvbiBmb3VuZCBmb3IgYWN0aXZpdHk6IFxcYCR7YWN0aXZpdHl9XFxgYCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2xlYW51cCA9IGZuKHRoaXMuc3RhdGUuY29udGV4dCwgZXZlbnQsIHRoaXMubWV0YSk7XG4gICAgICAgIGlmIChjbGVhbnVwKSB7XG4gICAgICAgICAgY29uc3Qga2V5ID0gaXNTdHJpbmcoYWN0aXZpdHkpID8gYWN0aXZpdHkgOiBhY3Rpdml0eS5uYW1lIHx8IHV1aWQoKTtcbiAgICAgICAgICB0aGlzLmFkZEFjdGl2aXR5Q2xlYW51cChzdGF0ZSA/PyB0aGlzLnN0YXRlLnZhbHVlLCBrZXksIGNsZWFudXApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogTm9ybWFsaXplcyB0aGUgYGV2ZXJ5YCBkZWZpbml0aW9uIHRvIHRyYW5zaXRpb24uIGBldmVyeWAgY2FuIGJlOlxuICAgICAqIC0gQW4gYXJyYXkgb2YgcG9zc2libGUgYWN0aW9ucyB0byBydW4gKHdlIG5lZWQgdG8gcGljayB0aGUgZmlyc3QgbWF0Y2ggYmFzZWQgb24gZ3VhcmQpXG4gICAgICogLSBBbiBvYmplY3Qgb2YgaW50ZXJ2YWxzIGFuZCBhY3Rpb25zXG4gICAgICovXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImNyZWF0ZUV2ZXJ5QWN0aXZpdGllc1wiLCAoZXZlcnksIGNhbGxiYWNrZm4pID0+IHtcbiAgICAgIGlmICghZXZlcnkpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGNvbnN0IGV2ZW50ID0gdG9FdmVudChcIm1hY2hpbmUuZXZlcnlcIiAvKiBFdmVyeSAqLyk7XG4gICAgICBpZiAoaXNBcnJheShldmVyeSkpIHtcbiAgICAgICAgY29uc3QgcGlja2VkID0gdG9BcnJheShldmVyeSkuZmluZCgodHJhbnNpdGlvbikgPT4ge1xuICAgICAgICAgIGNvbnN0IGRlbGF5T3JGbiA9IHRyYW5zaXRpb24uZGVsYXk7XG4gICAgICAgICAgY29uc3QgZGV0ZXJtaW5lRGVsYXkyID0gZGV0ZXJtaW5lRGVsYXlGbihkZWxheU9yRm4sIHRoaXMuZGVsYXlNYXApO1xuICAgICAgICAgIGNvbnN0IGRlbGF5MiA9IGRldGVybWluZURlbGF5Mih0aGlzLmNvbnRleHRTbmFwc2hvdCwgZXZlbnQpO1xuICAgICAgICAgIGNvbnN0IGRldGVybWluZUd1YXJkID0gZGV0ZXJtaW5lR3VhcmRGbih0cmFuc2l0aW9uLmd1YXJkLCB0aGlzLmd1YXJkTWFwKTtcbiAgICAgICAgICBjb25zdCBndWFyZCA9IGRldGVybWluZUd1YXJkKHRoaXMuY29udGV4dFNuYXBzaG90LCBldmVudCwgdGhpcy5ndWFyZE1ldGEpO1xuICAgICAgICAgIHJldHVybiBndWFyZCA/PyBkZWxheTIgIT0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcGlja2VkKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgZGV0ZXJtaW5lRGVsYXkgPSBkZXRlcm1pbmVEZWxheUZuKHBpY2tlZC5kZWxheSwgdGhpcy5kZWxheU1hcCk7XG4gICAgICAgIGNvbnN0IGRlbGF5ID0gZGV0ZXJtaW5lRGVsYXkodGhpcy5jb250ZXh0U25hcHNob3QsIGV2ZW50KTtcbiAgICAgICAgY29uc3QgYWN0aXZpdHkgPSAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgaWQgPSBnbG9iYWxUaGlzLnNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZXhlY3V0ZUFjdGlvbnMocGlja2VkLmFjdGlvbnMsIGV2ZW50KTtcbiAgICAgICAgICB9LCBkZWxheSk7XG4gICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGdsb2JhbFRoaXMuY2xlYXJJbnRlcnZhbChpZCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgY2FsbGJhY2tmbihhY3Rpdml0eSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGNvbnN0IGludGVydmFsIGluIGV2ZXJ5KSB7XG4gICAgICAgICAgY29uc3QgYWN0aW9ucyA9IGV2ZXJ5Py5baW50ZXJ2YWxdO1xuICAgICAgICAgIGNvbnN0IGRldGVybWluZURlbGF5ID0gZGV0ZXJtaW5lRGVsYXlGbihpbnRlcnZhbCwgdGhpcy5kZWxheU1hcCk7XG4gICAgICAgICAgY29uc3QgZGVsYXkgPSBkZXRlcm1pbmVEZWxheSh0aGlzLmNvbnRleHRTbmFwc2hvdCwgZXZlbnQpO1xuICAgICAgICAgIGNvbnN0IGFjdGl2aXR5ID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaWQgPSBnbG9iYWxUaGlzLnNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5leGVjdXRlQWN0aW9ucyhhY3Rpb25zLCBldmVudCk7XG4gICAgICAgICAgICB9LCBkZWxheSk7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICBnbG9iYWxUaGlzLmNsZWFySW50ZXJ2YWwoaWQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNhbGxiYWNrZm4oYWN0aXZpdHkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInNldEV2ZW50XCIsIChldmVudCkgPT4ge1xuICAgICAgdGhpcy5zdGF0ZS5wcmV2aW91c0V2ZW50ID0gdGhpcy5zdGF0ZS5ldmVudDtcbiAgICAgIHRoaXMuc3RhdGUuZXZlbnQgPSByZWYodG9FdmVudChldmVudCkpO1xuICAgIH0pO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJwZXJmb3JtRXhpdEVmZmVjdHNcIiwgKGN1cnJlbnQsIGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBjdXJyZW50U3RhdGUgPSB0aGlzLnN0YXRlLnZhbHVlO1xuICAgICAgaWYgKGN1cnJlbnRTdGF0ZSA9PT0gXCJcIilcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29uc3Qgc3RhdGVOb2RlID0gY3VycmVudCA/IHRoaXMuZ2V0U3RhdGVOb2RlKGN1cnJlbnQpIDogdm9pZCAwO1xuICAgICAgdGhpcy5zdG9wQWN0aXZpdGllcyhjdXJyZW50U3RhdGUpO1xuICAgICAgY29uc3QgX2V4aXQgPSBkZXRlcm1pbmVBY3Rpb25zRm4oc3RhdGVOb2RlPy5leGl0LCB0aGlzLmd1YXJkTWFwKSh0aGlzLmNvbnRleHRTbmFwc2hvdCwgZXZlbnQsIHRoaXMuZ3VhcmRNZXRhKTtcbiAgICAgIGNvbnN0IGV4aXRBY3Rpb25zID0gdG9BcnJheShfZXhpdCk7XG4gICAgICBjb25zdCBhZnRlckV4aXRBY3Rpb25zID0gdGhpcy5kZWxheWVkRXZlbnRzLmdldChjdXJyZW50U3RhdGUpO1xuICAgICAgaWYgKGFmdGVyRXhpdEFjdGlvbnMpIHtcbiAgICAgICAgZXhpdEFjdGlvbnMucHVzaCguLi5hZnRlckV4aXRBY3Rpb25zKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZXhlY3V0ZUFjdGlvbnMoZXhpdEFjdGlvbnMsIGV2ZW50KTtcbiAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMuY2xlYXIoKTtcbiAgICB9KTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwicGVyZm9ybUVudHJ5RWZmZWN0c1wiLCAobmV4dCwgZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHN0YXRlTm9kZSA9IHRoaXMuZ2V0U3RhdGVOb2RlKG5leHQpO1xuICAgICAgY29uc3QgYWN0aXZpdGllcyA9IHRvQXJyYXkoc3RhdGVOb2RlPy5hY3Rpdml0aWVzKTtcbiAgICAgIHRoaXMuY3JlYXRlRXZlcnlBY3Rpdml0aWVzKHN0YXRlTm9kZT8uZXZlcnksIChhY3Rpdml0eSkgPT4ge1xuICAgICAgICBhY3Rpdml0aWVzLnVuc2hpZnQoYWN0aXZpdHkpO1xuICAgICAgfSk7XG4gICAgICBpZiAoYWN0aXZpdGllcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRoaXMuZXhlY3V0ZUFjdGl2aXRpZXMoZXZlbnQsIGFjdGl2aXRpZXMpO1xuICAgICAgfVxuICAgICAgY29uc3QgcGlja2VkQWN0aW9ucyA9IGRldGVybWluZUFjdGlvbnNGbihzdGF0ZU5vZGU/LmVudHJ5LCB0aGlzLmd1YXJkTWFwKShcbiAgICAgICAgdGhpcy5jb250ZXh0U25hcHNob3QsXG4gICAgICAgIGV2ZW50LFxuICAgICAgICB0aGlzLmd1YXJkTWV0YVxuICAgICAgKTtcbiAgICAgIGNvbnN0IGVudHJ5QWN0aW9ucyA9IHRvQXJyYXkocGlja2VkQWN0aW9ucyk7XG4gICAgICBjb25zdCBhZnRlckFjdGlvbnMgPSB0aGlzLmdldERlbGF5ZWRFdmVudEFjdGlvbnMobmV4dCk7XG4gICAgICBpZiAoc3RhdGVOb2RlPy5hZnRlciAmJiBhZnRlckFjdGlvbnMpIHtcbiAgICAgICAgdGhpcy5kZWxheWVkRXZlbnRzLnNldChuZXh0LCBhZnRlckFjdGlvbnM/LmV4aXRzKTtcbiAgICAgICAgZW50cnlBY3Rpb25zLnB1c2goLi4uYWZ0ZXJBY3Rpb25zLmVudHJpZXMpO1xuICAgICAgfVxuICAgICAgdGhpcy5leGVjdXRlQWN0aW9ucyhlbnRyeUFjdGlvbnMsIGV2ZW50KTtcbiAgICAgIGlmIChzdGF0ZU5vZGU/LnR5cGUgPT09IFwiZmluYWxcIikge1xuICAgICAgICB0aGlzLnN0YXRlLmRvbmUgPSB0cnVlO1xuICAgICAgICB0aGlzLmRvbmVMaXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+IHtcbiAgICAgICAgICBsaXN0ZW5lcih0aGlzLnN0YXRlU25hcHNob3QpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInBlcmZvcm1UcmFuc2l0aW9uRWZmZWN0c1wiLCAodHJhbnNpdGlvbnMsIGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB0cmFuc2l0aW9uID0gdGhpcy5kZXRlcm1pbmVUcmFuc2l0aW9uKHRyYW5zaXRpb25zLCBldmVudCk7XG4gICAgICB0aGlzLmV4ZWN1dGVBY3Rpb25zKHRyYW5zaXRpb24/LmFjdGlvbnMsIGV2ZW50KTtcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhbGwgdGhlIHJlcXVpcmVzIHNpZGUtZWZmZWN0cyBvciByZWFjdGlvbnMgd2hlblxuICAgICAqIHdlIG1vdmUgZnJvbSBzdGF0ZSBBID0+IHN0YXRlIEIuXG4gICAgICpcbiAgICAgKiBUaGUgRWZmZWN0IG9yZGVyOlxuICAgICAqIEV4aXQgYWN0aW9ucyAoY3VycmVudCBzdGF0ZSkgPT4gVHJhbnNpdGlvbiBhY3Rpb25zICA9PiBHbyB0byBzdGF0ZSA9PiBFbnRyeSBhY3Rpb25zIChuZXh0IHN0YXRlKVxuICAgICAqL1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJwZXJmb3JtU3RhdGVDaGFuZ2VFZmZlY3RzXCIsIChjdXJyZW50LCBuZXh0LCBldmVudCkgPT4ge1xuICAgICAgdGhpcy5zZXRFdmVudChldmVudCk7XG4gICAgICBjb25zdCBjaGFuZ2VkID0gbmV4dC5jaGFuZ2VkIHx8IG5leHQucmVlbnRlcjtcbiAgICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICAgIHRoaXMucGVyZm9ybUV4aXRFZmZlY3RzKGN1cnJlbnQsIGV2ZW50KTtcbiAgICAgIH1cbiAgICAgIHRoaXMucGVyZm9ybVRyYW5zaXRpb25FZmZlY3RzKG5leHQudHJhbnNpdGlvbiwgZXZlbnQpO1xuICAgICAgdGhpcy5zZXRTdGF0ZShuZXh0LnRhcmdldCk7XG4gICAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgICB0aGlzLnBlcmZvcm1FbnRyeUVmZmVjdHMobmV4dC50YXJnZXQsIGV2ZW50KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiZGV0ZXJtaW5lVHJhbnNpdGlvblwiLCAodHJhbnNpdGlvbiwgZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IGZuID0gZGV0ZXJtaW5lVHJhbnNpdGlvbkZuKHRyYW5zaXRpb24sIHRoaXMuZ3VhcmRNYXApO1xuICAgICAgcmV0dXJuIGZuPy4odGhpcy5jb250ZXh0U25hcHNob3QsIGV2ZW50LCB0aGlzLmd1YXJkTWV0YSk7XG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdG8gc2VuZCBldmVudCB0byBwYXJlbnQgbWFjaGluZSBmcm9tIHNwYXduZWQgY2hpbGRcbiAgICAgKi9cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwic2VuZFBhcmVudFwiLCAoZXZ0KSA9PiB7XG4gICAgICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgICAgIGludmFyaWFudChcIltAemFnLWpzL2NvcmUgPiBzZW5kLXBhcmVudF0gQ2Fubm90IHNlbmQgZXZlbnQgdG8gYW4gdW5rbm93biBwYXJlbnRcIik7XG4gICAgICB9XG4gICAgICBjb25zdCBldmVudCA9IHRvRXZlbnQoZXZ0KTtcbiAgICAgIHRoaXMucGFyZW50Py5zZW5kKGV2ZW50KTtcbiAgICB9KTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwibG9nXCIsICguLi5hcmdzKSA9PiB7XG4gICAgICBpZiAoaXNEZXYoKSAmJiB0aGlzLm9wdGlvbnMuZGVidWcpIHtcbiAgICAgICAgY29uc29sZS5sb2coLi4uYXJncyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdG8gc2VuZCBhbiBldmVudCB0byBjdXJyZW50IG1hY2hpbmVcbiAgICAgKi9cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwic2VuZFwiLCAoZXZ0KSA9PiB7XG4gICAgICBjb25zdCBldmVudCA9IHRvRXZlbnQoZXZ0KTtcbiAgICAgIHRoaXMudHJhbnNpdGlvbih0aGlzLnN0YXRlLnZhbHVlLCBldmVudCk7XG4gICAgfSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInRyYW5zaXRpb25cIiwgKHN0YXRlLCBldnQpID0+IHtcbiAgICAgIGNvbnN0IHN0YXRlTm9kZSA9IGlzU3RyaW5nKHN0YXRlKSA/IHRoaXMuZ2V0U3RhdGVOb2RlKHN0YXRlKSA6IHN0YXRlPy5zdGF0ZU5vZGU7XG4gICAgICBjb25zdCBldmVudCA9IHRvRXZlbnQoZXZ0KTtcbiAgICAgIGlmICghc3RhdGVOb2RlICYmICF0aGlzLmNvbmZpZy5vbikge1xuICAgICAgICBjb25zdCBtc2cgPSB0aGlzLnN0YXR1cyA9PT0gXCJTdG9wcGVkXCIgLyogU3RvcHBlZCAqLyA/IFwiW0B6YWctanMvY29yZSA+IHRyYW5zaXRpb25dIENhbm5vdCB0cmFuc2l0aW9uIGEgc3RvcHBlZCBtYWNoaW5lXCIgOiBgW0B6YWctanMvY29yZSA+IHRyYW5zaXRpb25dIFN0YXRlIGRvZXMgbm90IGhhdmUgYSBkZWZpbml0aW9uIGZvciBcXGBzdGF0ZVxcYDogJHtzdGF0ZX0sIFxcYGV2ZW50XFxgOiAke2V2ZW50LnR5cGV9YDtcbiAgICAgICAgd2Fybihtc2cpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB0cmFuc2l0aW9ucyA9IHN0YXRlTm9kZT8ub24/LltldmVudC50eXBlXSA/PyB0aGlzLmNvbmZpZy5vbj8uW2V2ZW50LnR5cGVdO1xuICAgICAgY29uc3QgbmV4dCA9IHRoaXMuZ2V0TmV4dFN0YXRlSW5mbyh0cmFuc2l0aW9ucywgZXZlbnQpO1xuICAgICAgdGhpcy5wZXJmb3JtU3RhdGVDaGFuZ2VFZmZlY3RzKHRoaXMuc3RhdGUudmFsdWUsIG5leHQsIGV2ZW50KTtcbiAgICAgIHJldHVybiBuZXh0LnN0YXRlTm9kZTtcbiAgICB9KTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwic3Vic2NyaWJlXCIsIChsaXN0ZW5lcikgPT4ge1xuICAgICAgdGhpcy5zdGF0ZUxpc3RlbmVycy5hZGQobGlzdGVuZXIpO1xuICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSBcIlJ1bm5pbmdcIiAvKiBSdW5uaW5nICovKSB7XG4gICAgICAgIGxpc3RlbmVyKHRoaXMuc3RhdGVTbmFwc2hvdCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICB0aGlzLnN0YXRlTGlzdGVuZXJzLmRlbGV0ZShsaXN0ZW5lcik7XG4gICAgICB9O1xuICAgIH0pO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJvbkRvbmVcIiwgKGxpc3RlbmVyKSA9PiB7XG4gICAgICB0aGlzLmRvbmVMaXN0ZW5lcnMuYWRkKGxpc3RlbmVyKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0pO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJvblRyYW5zaXRpb25cIiwgKGxpc3RlbmVyKSA9PiB7XG4gICAgICB0aGlzLnN0YXRlTGlzdGVuZXJzLmFkZChsaXN0ZW5lcik7XG4gICAgICBpZiAodGhpcy5zdGF0dXMgPT09IFwiUnVubmluZ1wiIC8qIFJ1bm5pbmcgKi8pIHtcbiAgICAgICAgbGlzdGVuZXIodGhpcy5zdGF0ZVNuYXBzaG90KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0pO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJvbkNoYW5nZVwiLCAobGlzdGVuZXIpID0+IHtcbiAgICAgIHRoaXMuY29udGV4dExpc3RlbmVycy5hZGQobGlzdGVuZXIpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcIm9uRXZlbnRcIiwgKGxpc3RlbmVyKSA9PiB7XG4gICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLmFkZChsaXN0ZW5lcik7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9KTtcbiAgICB0aGlzLmNvbmZpZyA9IHN0cnVjdHVyZWRDbG9uZShjb25maWcpO1xuICAgIHRoaXMub3B0aW9ucyA9IHN0cnVjdHVyZWRDbG9uZShvcHRpb25zID8/IHt9KTtcbiAgICB0aGlzLmlkID0gdGhpcy5jb25maWcuaWQgPz8gYG1hY2hpbmUtJHt1dWlkKCl9YDtcbiAgICB0aGlzLmd1YXJkTWFwID0gdGhpcy5vcHRpb25zPy5ndWFyZHMgPz8ge307XG4gICAgdGhpcy5hY3Rpb25NYXAgPSB0aGlzLm9wdGlvbnM/LmFjdGlvbnMgPz8ge307XG4gICAgdGhpcy5kZWxheU1hcCA9IHRoaXMub3B0aW9ucz8uZGVsYXlzID8/IHt9O1xuICAgIHRoaXMuYWN0aXZpdHlNYXAgPSB0aGlzLm9wdGlvbnM/LmFjdGl2aXRpZXMgPz8ge307XG4gICAgdGhpcy5zeW5jID0gdGhpcy5vcHRpb25zPy5zeW5jID8/IGZhbHNlO1xuICAgIHRoaXMuc3RhdGUgPSBjcmVhdGVQcm94eSh0aGlzLmNvbmZpZyk7XG4gICAgdGhpcy5pbml0aWFsQ29udGV4dCA9IHNuYXBzaG90KHRoaXMuc3RhdGUuY29udGV4dCk7XG4gICAgdGhpcy50cmFuc2Zvcm1Db250ZXh0KHRoaXMuc3RhdGUuY29udGV4dCk7XG4gICAgY29uc3QgZXZlbnQgPSB0b0V2ZW50KFwibWFjaGluZS5jcmVhdGVkXCIgLyogQ3JlYXRlZCAqLyk7XG4gICAgdGhpcy5leGVjdXRlQWN0aW9ucyh0aGlzLmNvbmZpZz8uY3JlYXRlZCwgZXZlbnQpO1xuICB9XG4gIC8vIGltbXV0YWJsZSBzdGF0ZSB2YWx1ZVxuICBnZXQgc3RhdGVTbmFwc2hvdCgpIHtcbiAgICByZXR1cm4gY2FzdChzbmFwc2hvdCh0aGlzLnN0YXRlKSk7XG4gIH1cbiAgZ2V0U3RhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGVTbmFwc2hvdDtcbiAgfVxuICAvLyBpbW11dGFibGUgY29udGV4dCB2YWx1ZVxuICBnZXQgY29udGV4dFNuYXBzaG90KCkge1xuICAgIHJldHVybiB0aGlzLnN0YXRlU25hcHNob3QuY29udGV4dDtcbiAgfVxuICAvKipcbiAgICogQSByZWZlcmVuY2UgdG8gdGhlIGluc3RhbmNlIG1ldGhvZHMgb2YgdGhlIG1hY2hpbmUuXG4gICAqIFVzZWZ1bCB3aGVuIHNwYXduaW5nIGNoaWxkIG1hY2hpbmVzIGFuZCBtYW5hZ2luZyB0aGUgY29tbXVuaWNhdGlvbiBiZXR3ZWVuIHRoZW0uXG4gICAqL1xuICBnZXQgc2VsZigpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICBzZW5kOiB0aGlzLnNlbmQuYmluZCh0aGlzKSxcbiAgICAgIHNlbmRQYXJlbnQ6IHRoaXMuc2VuZFBhcmVudC5iaW5kKHRoaXMpLFxuICAgICAgc2VuZENoaWxkOiB0aGlzLnNlbmRDaGlsZC5iaW5kKHRoaXMpLFxuICAgICAgc3RvcDogdGhpcy5zdG9wLmJpbmQodGhpcyksXG4gICAgICBzdG9wQ2hpbGQ6IHRoaXMuc3RvcENoaWxkLmJpbmQodGhpcyksXG4gICAgICBzcGF3bjogdGhpcy5zcGF3bi5iaW5kKHRoaXMpLFxuICAgICAgc3RvcEFjdGl2aXR5OiB0aGlzLnN0b3BBY3Rpdml0eS5iaW5kKHRoaXMpLFxuICAgICAgZ2V0IHN0YXRlKCkge1xuICAgICAgICByZXR1cm4gc2VsZi5zdGF0ZVNuYXBzaG90O1xuICAgICAgfSxcbiAgICAgIGdldCBpbml0aWFsQ29udGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuaW5pdGlhbENvbnRleHQ7XG4gICAgICB9LFxuICAgICAgZ2V0IGluaXRpYWxTdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuaW5pdGlhbFN0YXRlPy50YXJnZXQgPz8gXCJcIjtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIGdldCBtZXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzdGF0ZTogdGhpcy5zdGF0ZVNuYXBzaG90LFxuICAgICAgZ3VhcmRzOiB0aGlzLmd1YXJkTWFwLFxuICAgICAgc2VuZDogdGhpcy5zZW5kLmJpbmQodGhpcyksXG4gICAgICBzZWxmOiB0aGlzLnNlbGYsXG4gICAgICBpbml0aWFsQ29udGV4dDogdGhpcy5pbml0aWFsQ29udGV4dCxcbiAgICAgIGluaXRpYWxTdGF0ZTogdGhpcy5pbml0aWFsU3RhdGU/LnRhcmdldCA/PyBcIlwiLFxuICAgICAgZ2V0U3RhdGU6ICgpID0+IHRoaXMuc3RhdGVTbmFwc2hvdCxcbiAgICAgIGdldEFjdGlvbjogKGtleSkgPT4gdGhpcy5hY3Rpb25NYXBba2V5XSxcbiAgICAgIGdldEd1YXJkOiAoa2V5KSA9PiB0aGlzLmd1YXJkTWFwW2tleV1cbiAgICB9O1xuICB9XG4gIGdldCBndWFyZE1ldGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXRlOiB0aGlzLnN0YXRlU25hcHNob3RcbiAgICB9O1xuICB9XG4gIGdldCBbU3ltYm9sLnRvU3RyaW5nVGFnXSgpIHtcbiAgICByZXR1cm4gXCJNYWNoaW5lXCI7XG4gIH1cbn07XG52YXIgY3JlYXRlTWFjaGluZSA9IChjb25maWcsIG9wdGlvbnMpID0+IG5ldyBNYWNoaW5lKGNvbmZpZywgb3B0aW9ucyk7XG5cbi8vIHNyYy9tZXJnZS1wcm9wcy50c1xudmFyIGNsc3ggPSAoLi4uYXJncykgPT4gYXJncy5tYXAoKHN0cikgPT4gc3RyPy50cmltPy4oKSkuZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCIgXCIpO1xudmFyIGV2ZW50UmVnZXggPSAvXm9uW0EtWl0vO1xuZnVuY3Rpb24gbWVyZ2VQcm9wcyguLi5hcmdzKSB7XG4gIGxldCByZXN1bHQgPSB7fTtcbiAgZm9yIChsZXQgcHJvcHMgb2YgYXJncykge1xuICAgIGZvciAobGV0IGtleSBpbiByZXN1bHQpIHtcbiAgICAgIGlmIChldmVudFJlZ2V4LnRlc3Qoa2V5KSAmJiB0eXBlb2YgcmVzdWx0W2tleV0gPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgcHJvcHNba2V5XSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJlc3VsdFtrZXldID0gY2FsbEFsbChyZXN1bHRba2V5XSwgcHJvcHNba2V5XSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKGtleSA9PT0gXCJjbGFzc05hbWVcIiB8fCBrZXkgPT09IFwiY2xhc3NcIikge1xuICAgICAgICByZXN1bHRba2V5XSA9IGNsc3gocmVzdWx0W2tleV0sIHByb3BzW2tleV0pO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChrZXkgPT09IFwic3R5bGVcIikge1xuICAgICAgICByZXN1bHRba2V5XSA9IE9iamVjdC5hc3NpZ24oe30sIHJlc3VsdFtrZXldID8/IHt9LCBwcm9wc1trZXldID8/IHt9KTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICByZXN1bHRba2V5XSA9IHByb3BzW2tleV0gIT09IHZvaWQgMCA/IHByb3BzW2tleV0gOiByZXN1bHRba2V5XTtcbiAgICB9XG4gICAgZm9yIChsZXQga2V5IGluIHByb3BzKSB7XG4gICAgICBpZiAocmVzdWx0W2tleV0gPT09IHZvaWQgMCkge1xuICAgICAgICByZXN1bHRba2V5XSA9IHByb3BzW2tleV07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnQge1xuICBNYWNoaW5lLFxuICBjaG9vc2UsXG4gIGNyZWF0ZU1hY2hpbmUsXG4gIGRlZXBNZXJnZSxcbiAgZ3VhcmRzLFxuICBtZXJnZVByb3BzLFxuICBwcm94eTIgYXMgcHJveHksXG4gIHJlZjIgYXMgcmVmLFxuICBzbmFwc2hvdDIgYXMgc25hcHNob3QsXG4gIHN1YnNjcmliZTIgYXMgc3Vic2NyaWJlXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/core/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/date-picker/dist/index.mjs":
/*!*********************************************************!*\
  !*** ./node_modules/@zag-js/date-picker/dist/index.mjs ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   anatomy: () => (/* binding */ anatomy),\n/* harmony export */   connect: () => (/* binding */ connect),\n/* harmony export */   machine: () => (/* binding */ machine),\n/* harmony export */   parse: () => (/* binding */ parse)\n/* harmony export */ });\n/* harmony import */ var _zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/anatomy */ \"(ssr)/./node_modules/@zag-js/anatomy/dist/index.mjs\");\n/* harmony import */ var _internationalized_date__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @internationalized/date */ \"(ssr)/./node_modules/@internationalized/date/dist/import.mjs\");\n/* harmony import */ var _zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @zag-js/date-utils */ \"(ssr)/./node_modules/@zag-js/date-utils/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_event__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @zag-js/dom-event */ \"(ssr)/./node_modules/@zag-js/dom-event/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @zag-js/dom-query */ \"(ssr)/./node_modules/@zag-js/dom-query/dist/index.mjs\");\n/* harmony import */ var _zag_js_popper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @zag-js/popper */ \"(ssr)/./node_modules/@zag-js/popper/dist/index.mjs\");\n/* harmony import */ var _zag_js_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @zag-js/utils */ \"(ssr)/./node_modules/@zag-js/utils/dist/index.mjs\");\n/* harmony import */ var _zag_js_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @zag-js/core */ \"(ssr)/./node_modules/@zag-js/core/dist/index.mjs\");\n/* harmony import */ var _zag_js_dismissable__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @zag-js/dismissable */ \"(ssr)/./node_modules/@zag-js/dismissable/dist/index.mjs\");\n/* harmony import */ var _zag_js_live_region__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @zag-js/live-region */ \"(ssr)/./node_modules/@zag-js/live-region/dist/index.mjs\");\n/* harmony import */ var _zag_js_text_selection__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @zag-js/text-selection */ \"(ssr)/./node_modules/@zag-js/text-selection/dist/index.mjs\");\n// src/date-picker.anatomy.ts\n\nvar anatomy = (0,_zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__.createAnatomy)(\"date-picker\").parts(\n  \"root\",\n  \"label\",\n  \"clearTrigger\",\n  \"content\",\n  \"control\",\n  \"input\",\n  \"monthSelect\",\n  \"nextTrigger\",\n  \"positioner\",\n  \"prevTrigger\",\n  \"rangeText\",\n  \"table\",\n  \"tableBody\",\n  \"tableCell\",\n  \"tableCellTrigger\",\n  \"tableHead\",\n  \"tableHeader\",\n  \"tableRow\",\n  \"trigger\",\n  \"viewTrigger\",\n  \"viewControl\",\n  \"yearSelect\"\n);\nvar parts = anatomy.build();\n\n// src/date-picker.connect.ts\n\n\n\n\n\n\n\n// src/date-picker.dom.ts\n\nvar dom = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.createScope)({\n  getRootId: (ctx) => ctx.ids?.root ?? `datepicker:${ctx.id}`,\n  getTableId: (ctx, id) => ctx.ids?.table?.(id) ?? `datepicker:${ctx.id}:table:${id}`,\n  getTableHeaderId: (ctx, id) => ctx.ids?.tableHeader?.(id) ?? `datepicker:${ctx.id}:thead`,\n  getTableBodyId: (ctx, id) => ctx.ids?.tableBody?.(id) ?? `datepicker:${ctx.id}:tbody`,\n  getTableRowId: (ctx, id) => ctx.ids?.tableRow?.(id) ?? `datepicker:${ctx.id}:tr:${id}`,\n  getContentId: (ctx) => ctx.ids?.content ?? `datepicker:${ctx.id}:content`,\n  getCellTriggerId: (ctx, id) => ctx.ids?.cellTrigger?.(id) ?? `datepicker:${ctx.id}:cell-trigger:${id}`,\n  getPrevTriggerId: (ctx, view) => ctx.ids?.prevTrigger?.(view) ?? `datepicker:${ctx.id}:prev:${view}`,\n  getNextTriggerId: (ctx, view) => ctx.ids?.nextTrigger?.(view) ?? `datepicker:${ctx.id}:next:${view}`,\n  getViewTriggerId: (ctx, view) => ctx.ids?.viewTrigger?.(view) ?? `datepicker:${ctx.id}:view:${view}`,\n  getClearTriggerId: (ctx) => ctx.ids?.clearTrigger ?? `datepicker:${ctx.id}:clear`,\n  getControlId: (ctx) => ctx.ids?.control ?? `datepicker:${ctx.id}:control`,\n  getInputId: (ctx) => ctx.ids?.input ?? `datepicker:${ctx.id}:input`,\n  getTriggerId: (ctx) => ctx.ids?.trigger ?? `datepicker:${ctx.id}:trigger`,\n  getPositionerId: (ctx) => ctx.ids?.positioner ?? `datepicker:${ctx.id}:positioner`,\n  getMonthSelectId: (ctx) => ctx.ids?.monthSelect ?? `datepicker:${ctx.id}:month-select`,\n  getYearSelectId: (ctx) => ctx.ids?.yearSelect ?? `datepicker:${ctx.id}:year-select`,\n  getFocusedCell: (ctx, view = ctx.view) => (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.query)(\n    dom.getContentEl(ctx),\n    `[data-part=table-cell-trigger][data-view=${view}][data-focused]:not([data-outside-range])`\n  ),\n  getTriggerEl: (ctx) => dom.getById(ctx, dom.getTriggerId(ctx)),\n  getContentEl: (ctx) => dom.getById(ctx, dom.getContentId(ctx)),\n  getInputEl: (ctx) => dom.getById(ctx, dom.getInputId(ctx)),\n  getYearSelectEl: (ctx) => dom.getById(ctx, dom.getYearSelectId(ctx)),\n  getMonthSelectEl: (ctx) => dom.getById(ctx, dom.getMonthSelectId(ctx)),\n  getClearTriggerEl: (ctx) => dom.getById(ctx, dom.getClearTriggerId(ctx)),\n  getPositionerEl: (ctx) => dom.getById(ctx, dom.getPositionerId(ctx)),\n  getControlEl: (ctx) => dom.getById(ctx, dom.getControlId(ctx))\n});\n\n// src/date-picker.utils.ts\n\n\nfunction adjustStartAndEndDate(value) {\n  const [startDate, endDate] = value;\n  if (!startDate || !endDate)\n    return value;\n  return startDate.compare(endDate) <= 0 ? value : [endDate, startDate];\n}\nfunction isDateWithinRange(date, value) {\n  const [startDate, endDate] = value;\n  if (!startDate || !endDate)\n    return false;\n  return startDate.compare(date) <= 0 && endDate.compare(date) >= 0;\n}\nfunction sortDates(values) {\n  return values.sort((a, b) => a.compare(b));\n}\nfunction formatValue(ctx) {\n  const formatter = new _internationalized_date__WEBPACK_IMPORTED_MODULE_2__.DateFormatter(ctx.locale, {\n    timeZone: ctx.timeZone,\n    day: \"2-digit\",\n    month: \"2-digit\",\n    year: \"numeric\"\n  });\n  if (ctx.selectionMode === \"range\") {\n    const [startDate, endDate] = ctx.value;\n    if (!startDate || !endDate)\n      return \"\";\n    return `${formatter.format(startDate.toDate(ctx.timeZone))} - ${formatter.format(endDate.toDate(ctx.timeZone))}`;\n  }\n  if (ctx.selectionMode === \"single\") {\n    const [startValue] = ctx.value;\n    if (!startValue)\n      return \"\";\n    return formatter.format(startValue.toDate(ctx.timeZone));\n  }\n  return ctx.value.map((date) => formatter.format(date.toDate(ctx.timeZone))).join(\", \");\n}\nfunction getNextTriggerLabel(view) {\n  return (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_3__.match)(view, {\n    year: \"Switch to next decade\",\n    month: \"Switch to next year\",\n    day: \"Switch to next month\"\n  });\n}\nfunction getPrevTriggerLabel(view) {\n  return (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_3__.match)(view, {\n    year: \"Switch to previous decade\",\n    month: \"Switch to previous year\",\n    day: \"Switch to previous month\"\n  });\n}\nfunction getRoleDescription(view) {\n  return (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_3__.match)(view, {\n    year: \"calendar decade\",\n    month: \"calendar year\",\n    day: \"calendar month\"\n  });\n}\nfunction getViewTriggerLabel(view) {\n  return (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_3__.match)(view, {\n    year: \"Switch to month view\",\n    month: \"Switch to day view\",\n    day: \"Switch to year view\"\n  });\n}\nvar PLACEHOLDERS = { day: \"dd\", month: \"mm\", year: \"yyyy\" };\nfunction getInputPlaceholder(locale) {\n  return new _internationalized_date__WEBPACK_IMPORTED_MODULE_2__.DateFormatter(locale).formatToParts(/* @__PURE__ */ new Date()).map((item) => PLACEHOLDERS[item.type] ?? item.value).join(\"\");\n}\nvar isValidCharacter = (char, separator) => {\n  if (!char)\n    return true;\n  return /\\d/.test(char) || char === separator || char.length !== 1;\n};\nvar ensureValidCharacters = (value, separator) => {\n  return value.split(\"\").filter((char) => isValidCharacter(char, separator)).join(\"\");\n};\nfunction getLocaleSeparator(locale) {\n  const dateFormatter = new Intl.DateTimeFormat(locale);\n  const parts2 = dateFormatter.formatToParts(/* @__PURE__ */ new Date());\n  const literalPart = parts2.find((part) => part.type === \"literal\");\n  return literalPart ? literalPart.value : \"/\";\n}\n\n// src/date-picker.connect.ts\nvar pretty = (value) => value.toString().split(\"T\")[0];\nfunction connect(state, send, normalize) {\n  const startValue = state.context.startValue;\n  const endValue = state.context.endValue;\n  const selectedValue = state.context.value;\n  const focusedValue = state.context.focusedValue;\n  const hoveredValue = state.context.hoveredValue;\n  const hoveredRangeValue = hoveredValue ? adjustStartAndEndDate([selectedValue[0], hoveredValue]) : [];\n  const disabled = state.context.disabled;\n  const readOnly = state.context.readOnly;\n  const isInteractive = state.context.isInteractive;\n  const min = state.context.min;\n  const max = state.context.max;\n  const locale = state.context.locale;\n  const timeZone = state.context.timeZone;\n  const startOfWeek = state.context.startOfWeek;\n  const isFocused = state.matches(\"focused\");\n  const isOpen = state.matches(\"open\");\n  const isRangePicker = state.context.selectionMode === \"range\";\n  const isDateUnavailableFn = state.context.isDateUnavailable;\n  const currentPlacement = state.context.currentPlacement;\n  const popperStyles = (0,_zag_js_popper__WEBPACK_IMPORTED_MODULE_4__.getPlacementStyles)({\n    ...state.context.positioning,\n    placement: currentPlacement\n  });\n  const separator = getLocaleSeparator(locale);\n  function getMonthWeeks(from = startValue) {\n    const numOfWeeks = state.context.fixedWeeks ? 6 : void 0;\n    return (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.getMonthDays)(from, locale, numOfWeeks, startOfWeek);\n  }\n  function getMonths(props = {}) {\n    const { format } = props;\n    return (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.getMonthNames)(locale, format).map((label, index) => ({ label, value: index + 1 }));\n  }\n  function getYears() {\n    return (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.getDecadeRange)(focusedValue.year).map((year) => ({\n      label: year.toString(),\n      value: year\n    }));\n  }\n  function isUnavailable(date) {\n    return (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.isDateUnavailable)(date, isDateUnavailableFn, locale, min, max);\n  }\n  function focusMonth(month) {\n    const value = (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.setMonth)(focusedValue ?? (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.getTodayDate)(timeZone), month);\n    send({ type: \"FOCUS.SET\", value });\n  }\n  function focusYear(year) {\n    const value = (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.setYear)(focusedValue ?? (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.getTodayDate)(timeZone), year);\n    send({ type: \"FOCUS.SET\", value });\n  }\n  function getYearTableCellState(props) {\n    const { value, disabled: disabled2 } = props;\n    const normalized = focusedValue.set({ year: value });\n    const cellState = {\n      isFocused: focusedValue.year === props.value,\n      isSelectable: !(0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.isDateInvalid)(normalized, min, max),\n      isSelected: !!selectedValue.find((date) => date.year === value),\n      valueText: value.toString(),\n      get isDisabled() {\n        return disabled2 || !cellState.isSelectable;\n      }\n    };\n    return cellState;\n  }\n  function getMonthTableCellState(props) {\n    const { value, disabled: disabled2 } = props;\n    const normalized = focusedValue.set({ month: value });\n    const formatter = (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.getMonthFormatter)(locale, timeZone);\n    const cellState = {\n      isFocused: focusedValue.month === props.value,\n      isSelectable: !(0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.isDateInvalid)(normalized, min, max),\n      isSelected: !!selectedValue.find((date) => date.month === value && date.year === focusedValue.year),\n      valueText: formatter.format(normalized.toDate(timeZone)),\n      get isDisabled() {\n        return disabled2 || !cellState.isSelectable;\n      }\n    };\n    return cellState;\n  }\n  function getDayTableCellState(props) {\n    const { value, disabled: disabled2, visibleRange = state.context.visibleRange } = props;\n    const formatter = (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.getDayFormatter)(locale, timeZone);\n    const unitDuration = (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.getUnitDuration)(state.context.visibleDuration);\n    const end = visibleRange.start.add(unitDuration).subtract({ days: 1 });\n    const cellState = {\n      isInvalid: (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.isDateInvalid)(value, min, max),\n      isDisabled: disabled2 || (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.isDateDisabled)(value, visibleRange.start, end, min, max),\n      isSelected: selectedValue.some((date) => (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.isDateEqual)(value, date)),\n      isUnavailable: (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.isDateUnavailable)(value, isDateUnavailableFn, locale, min, max) && !disabled2,\n      isOutsideRange: (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.isDateOutsideVisibleRange)(value, visibleRange.start, end),\n      isInRange: isRangePicker && (isDateWithinRange(value, selectedValue) || isDateWithinRange(value, hoveredRangeValue)),\n      isFirstInRange: isRangePicker && (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.isDateEqual)(value, selectedValue[0]),\n      isLastInRange: isRangePicker && (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.isDateEqual)(value, selectedValue[1]),\n      isToday: (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.isTodayDate)(value, timeZone),\n      isWeekend: (0,_internationalized_date__WEBPACK_IMPORTED_MODULE_2__.isWeekend)(value, locale),\n      formattedDate: formatter.format(value.toDate(timeZone)),\n      get isFocused() {\n        return (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.isDateEqual)(value, focusedValue) && !cellState.isOutsideRange;\n      },\n      get ariaLabel() {\n        if (cellState.isUnavailable)\n          return `Not available. ${cellState.formattedDate}`;\n        if (cellState.isSelected)\n          return `Selected date. ${cellState.formattedDate}`;\n        return `Choose ${cellState.formattedDate}`;\n      },\n      get isSelectable() {\n        return !cellState.isDisabled && !cellState.isUnavailable;\n      }\n    };\n    return cellState;\n  }\n  function getTableId(props) {\n    const { view = \"day\", id } = props;\n    return [view, id].filter(Boolean).join(\" \");\n  }\n  return {\n    isFocused,\n    isOpen,\n    view: state.context.view,\n    getDaysInWeek(week, from = startValue) {\n      return (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.getDaysInWeek)(week, from, locale, startOfWeek);\n    },\n    getOffset(duration) {\n      const from = startValue.add(duration);\n      return {\n        visibleRange: { start: from, end: endValue.add(duration) },\n        weeks: getMonthWeeks(from)\n      };\n    },\n    getMonthWeeks,\n    isUnavailable,\n    weeks: getMonthWeeks(),\n    weekDays: (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.getWeekDays)((0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.getTodayDate)(timeZone), startOfWeek, timeZone, locale),\n    visibleRangeText: state.context.visibleRangeText,\n    value: selectedValue,\n    valueAsDate: selectedValue.map((date) => date.toDate(timeZone)),\n    valueAsString: selectedValue.map(pretty),\n    focusedValue,\n    focusedValueAsDate: focusedValue?.toDate(timeZone),\n    focusedValueAsString: pretty(focusedValue),\n    visibleRange: state.context.visibleRange,\n    selectToday() {\n      const value = (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.constrainValue)((0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.getTodayDate)(timeZone), min, max);\n      send({ type: \"VALUE.SET\", value });\n    },\n    setValue(values) {\n      const computedValue = values.map((date) => (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.constrainValue)(date, min, max));\n      send({ type: \"VALUE.SET\", value: computedValue });\n    },\n    clearValue() {\n      send(\"VALUE.CLEAR\");\n    },\n    setFocusedValue(value) {\n      send({ type: \"FOCUS.SET\", value });\n    },\n    open() {\n      send(\"OPEN\");\n    },\n    close() {\n      send(\"CLOSE\");\n    },\n    focusMonth,\n    focusYear,\n    getYears,\n    getMonths,\n    getYearsGrid(props = {}) {\n      const { columns = 1 } = props;\n      return (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_3__.chunk)(getYears(), columns);\n    },\n    getDecade() {\n      const years = (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.getDecadeRange)(focusedValue.year);\n      return { start: years.at(0), end: years.at(-1) };\n    },\n    getMonthsGrid(props = {}) {\n      const { columns = 1, format } = props;\n      return (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_3__.chunk)(getMonths({ format }), columns);\n    },\n    format(value, opts = { month: \"long\", year: \"numeric\" }) {\n      return new _internationalized_date__WEBPACK_IMPORTED_MODULE_2__.DateFormatter(locale, opts).format(value.toDate(timeZone));\n    },\n    setView(view) {\n      send({ type: \"VIEW.SET\", cell: view });\n    },\n    goToNext() {\n      send({ type: \"GOTO.NEXT\", view: state.context.view });\n    },\n    goToPrev() {\n      send({ type: \"GOTO.PREV\", view: state.context.view });\n    },\n    rootProps: normalize.element({\n      ...parts.root.attrs,\n      dir: state.context.dir,\n      id: dom.getRootId(state.context),\n      \"data-state\": isOpen ? \"open\" : \"closed\",\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(disabled),\n      \"data-readonly\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(readOnly)\n    }),\n    labelProps: normalize.label({\n      ...parts.label.attrs,\n      dir: state.context.dir,\n      htmlFor: dom.getInputId(state.context),\n      \"data-state\": isOpen ? \"open\" : \"closed\",\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(disabled),\n      \"data-readonly\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(readOnly)\n    }),\n    controlProps: normalize.element({\n      ...parts.control.attrs,\n      dir: state.context.dir,\n      id: dom.getControlId(state.context),\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(disabled)\n    }),\n    rangeTextProps: normalize.element({\n      ...parts.rangeText.attrs,\n      dir: state.context.dir\n    }),\n    contentProps: normalize.element({\n      ...parts.content.attrs,\n      hidden: !isOpen,\n      dir: state.context.dir,\n      \"data-state\": isOpen ? \"open\" : \"closed\",\n      \"data-placement\": currentPlacement,\n      id: dom.getContentId(state.context),\n      role: \"application\",\n      \"aria-roledescription\": \"datepicker\",\n      \"aria-label\": \"calendar\"\n    }),\n    getTableProps(props = {}) {\n      const { view = \"day\", columns = view === \"day\" ? 7 : 4 } = props;\n      const uid = getTableId(props);\n      return normalize.element({\n        ...parts.table.attrs,\n        role: \"grid\",\n        \"data-columns\": columns,\n        \"aria-roledescription\": getRoleDescription(view),\n        id: dom.getTableId(state.context, uid),\n        \"aria-readonly\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.ariaAttr)(readOnly),\n        \"aria-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.ariaAttr)(disabled),\n        \"aria-multiselectable\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.ariaAttr)(state.context.selectionMode !== \"single\"),\n        \"data-view\": view,\n        dir: state.context.dir,\n        tabIndex: -1,\n        onKeyDown(event) {\n          const keyMap = {\n            Enter() {\n              if (isUnavailable(focusedValue))\n                return;\n              send({ type: \"TABLE.ENTER\", view, columns, focus: true });\n            },\n            ArrowLeft() {\n              send({ type: \"TABLE.ARROW_LEFT\", view, columns, focus: true });\n            },\n            ArrowRight() {\n              send({ type: \"TABLE.ARROW_RIGHT\", view, columns, focus: true });\n            },\n            ArrowUp() {\n              send({ type: \"TABLE.ARROW_UP\", view, columns, focus: true });\n            },\n            ArrowDown() {\n              send({ type: \"TABLE.ARROW_DOWN\", view, columns, focus: true });\n            },\n            PageUp(event2) {\n              send({ type: \"TABLE.PAGE_UP\", larger: event2.shiftKey, view, columns, focus: true });\n            },\n            PageDown(event2) {\n              send({ type: \"TABLE.PAGE_DOWN\", larger: event2.shiftKey, view, columns, focus: true });\n            },\n            Home() {\n              send({ type: \"TABLE.HOME\", view, columns, focus: true });\n            },\n            End() {\n              send({ type: \"TABLE.END\", view, columns, focus: true });\n            }\n          };\n          const exec = keyMap[(0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_6__.getEventKey)(event, state.context)];\n          if (exec) {\n            exec(event);\n            event.preventDefault();\n            event.stopPropagation();\n          }\n        },\n        onPointerLeave() {\n          send({ type: \"TABLE.POINTER_LEAVE\" });\n        },\n        onPointerDown() {\n          send({ type: \"TABLE.POINTER_DOWN\", view });\n        },\n        onPointerUp() {\n          send({ type: \"TABLE.POINTER_UP\", view });\n        }\n      });\n    },\n    getTableHeadProps(props = {}) {\n      const { view = \"day\" } = props;\n      return normalize.element({\n        ...parts.tableHead.attrs,\n        \"aria-hidden\": true,\n        dir: state.context.dir,\n        \"data-view\": view,\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(disabled)\n      });\n    },\n    getTableHeaderProps(props = {}) {\n      const { view = \"day\" } = props;\n      return normalize.element({\n        ...parts.tableHeader.attrs,\n        dir: state.context.dir,\n        \"data-view\": view,\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(disabled)\n      });\n    },\n    getTableBodyProps(props = {}) {\n      const { view = \"day\" } = props;\n      return normalize.element({\n        ...parts.tableBody.attrs,\n        \"data-view\": view,\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(disabled)\n      });\n    },\n    getTableRowProps(props = {}) {\n      const { view = \"day\" } = props;\n      return normalize.element({\n        ...parts.tableRow.attrs,\n        \"aria-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.ariaAttr)(disabled),\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(disabled),\n        \"data-view\": view\n      });\n    },\n    getDayTableCellState,\n    getDayTableCellProps(props) {\n      const { value } = props;\n      const cellState = getDayTableCellState(props);\n      return normalize.element({\n        ...parts.tableCell.attrs,\n        role: \"gridcell\",\n        \"aria-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.ariaAttr)(!cellState.isSelectable),\n        \"aria-selected\": cellState.isSelected || cellState.isInRange,\n        \"aria-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.ariaAttr)(cellState.isInvalid),\n        \"aria-current\": cellState.isToday ? \"date\" : void 0,\n        \"data-value\": value.toString()\n      });\n    },\n    getDayTableCellTriggerProps(props) {\n      const { value } = props;\n      const cellState = getDayTableCellState(props);\n      return normalize.element({\n        ...parts.tableCellTrigger.attrs,\n        id: dom.getCellTriggerId(state.context, value.toString()),\n        role: \"button\",\n        dir: state.context.dir,\n        tabIndex: cellState.isFocused ? 0 : -1,\n        \"aria-label\": cellState.ariaLabel,\n        \"aria-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.ariaAttr)(!cellState.isSelectable),\n        \"aria-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.ariaAttr)(cellState.isInvalid),\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(!cellState.isSelectable),\n        \"data-selected\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(cellState.isSelected),\n        \"data-value\": value.toString(),\n        \"data-view\": \"day\",\n        \"data-today\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(cellState.isToday),\n        \"data-focused\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(cellState.isFocused),\n        \"data-unavailable\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(cellState.isUnavailable),\n        \"data-range-start\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(cellState.isFirstInRange),\n        \"data-range-end\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(cellState.isLastInRange),\n        \"data-in-range\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(cellState.isInRange),\n        \"data-outside-range\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(cellState.isOutsideRange),\n        \"data-weekend\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(cellState.isWeekend),\n        onClick() {\n          if (!cellState.isSelectable)\n            return;\n          send({ type: \"CELL.CLICK\", cell: \"day\", value });\n        },\n        onPointerMove(event) {\n          if (event.pointerType === \"touch\" || !cellState.isSelectable)\n            return;\n          const focus = event.currentTarget.ownerDocument.activeElement !== event.currentTarget;\n          send({ type: \"CELL.POINTER_MOVE\", cell: \"day\", value, focus });\n        }\n      });\n    },\n    getMonthTableCellState,\n    getMonthTableCellProps(props) {\n      const { value, columns } = props;\n      const cellState = getMonthTableCellState(props);\n      return normalize.element({\n        ...parts.tableCell.attrs,\n        dir: state.context.dir,\n        colSpan: columns,\n        role: \"gridcell\",\n        \"aria-selected\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.ariaAttr)(cellState.isSelected),\n        \"data-selected\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(cellState.isSelected),\n        \"aria-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.ariaAttr)(!cellState.isSelectable),\n        \"data-value\": value\n      });\n    },\n    getMonthTableCellTriggerProps(props) {\n      const { value } = props;\n      const cellState = getMonthTableCellState(props);\n      return normalize.element({\n        ...parts.tableCellTrigger.attrs,\n        dir: state.context.dir,\n        role: \"button\",\n        id: dom.getCellTriggerId(state.context, value.toString()),\n        \"data-selected\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(cellState.isSelected),\n        \"aria-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.ariaAttr)(!cellState.isSelectable),\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(!cellState.isSelectable),\n        \"data-focused\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(cellState.isFocused),\n        \"aria-label\": cellState.valueText,\n        \"data-view\": \"month\",\n        \"data-value\": value,\n        tabIndex: cellState.isFocused ? 0 : -1,\n        onClick() {\n          if (!cellState.isSelectable)\n            return;\n          send({ type: \"CELL.CLICK\", cell: \"month\", value });\n        }\n      });\n    },\n    getYearTableCellState,\n    getYearTableCellProps(props) {\n      const { value, columns } = props;\n      const cellState = getYearTableCellState(props);\n      return normalize.element({\n        ...parts.tableCell.attrs,\n        dir: state.context.dir,\n        colSpan: columns,\n        role: \"gridcell\",\n        \"aria-selected\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.ariaAttr)(cellState.isSelected),\n        \"data-selected\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(cellState.isSelected),\n        \"aria-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.ariaAttr)(!cellState.isSelectable),\n        \"data-value\": value\n      });\n    },\n    getYearTableCellTriggerProps(props) {\n      const { value } = props;\n      const cellState = getYearTableCellState(props);\n      return normalize.element({\n        ...parts.tableCellTrigger.attrs,\n        dir: state.context.dir,\n        role: \"button\",\n        id: dom.getCellTriggerId(state.context, value.toString()),\n        \"data-selected\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(cellState.isSelected),\n        \"data-focused\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(cellState.isFocused),\n        \"aria-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.ariaAttr)(!cellState.isSelectable),\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(!cellState.isSelectable),\n        \"aria-label\": cellState.valueText,\n        \"data-value\": value,\n        \"data-view\": \"year\",\n        tabIndex: cellState.isFocused ? 0 : -1,\n        onClick() {\n          if (!cellState.isSelectable)\n            return;\n          send({ type: \"CELL.CLICK\", cell: \"year\", value });\n        }\n      });\n    },\n    getNextTriggerProps(props = {}) {\n      const { view = \"day\" } = props;\n      return normalize.button({\n        ...parts.nextTrigger.attrs,\n        dir: state.context.dir,\n        id: dom.getNextTriggerId(state.context, view),\n        type: \"button\",\n        \"aria-label\": getPrevTriggerLabel(view),\n        disabled: disabled || !state.context.isNextVisibleRangeValid,\n        onClick() {\n          send({ type: \"GOTO.NEXT\", view });\n        }\n      });\n    },\n    getPrevTriggerProps(props = {}) {\n      const { view = \"day\" } = props;\n      return normalize.button({\n        ...parts.prevTrigger.attrs,\n        dir: state.context.dir,\n        id: dom.getPrevTriggerId(state.context, view),\n        type: \"button\",\n        \"aria-label\": getNextTriggerLabel(view),\n        disabled: disabled || !state.context.isPrevVisibleRangeValid,\n        onClick() {\n          send({ type: \"GOTO.PREV\", view });\n        }\n      });\n    },\n    clearTriggerProps: normalize.button({\n      ...parts.clearTrigger.attrs,\n      id: dom.getClearTriggerId(state.context),\n      dir: state.context.dir,\n      type: \"button\",\n      \"aria-label\": \"Clear dates\",\n      hidden: !state.context.value.length,\n      onClick() {\n        send(\"VALUE.CLEAR\");\n      }\n    }),\n    triggerProps: normalize.button({\n      ...parts.trigger.attrs,\n      id: dom.getTriggerId(state.context),\n      dir: state.context.dir,\n      type: \"button\",\n      \"data-placement\": currentPlacement,\n      \"aria-label\": isOpen ? \"Close calendar\" : \"Open calendar\",\n      \"aria-controls\": dom.getContentId(state.context),\n      \"data-state\": isOpen ? \"open\" : \"closed\",\n      \"aria-haspopup\": \"grid\",\n      disabled,\n      onClick() {\n        if (!isInteractive)\n          return;\n        send(\"TRIGGER.CLICK\");\n      }\n    }),\n    getViewTriggerProps(props = {}) {\n      const { view = \"day\" } = props;\n      return normalize.button({\n        ...parts.viewTrigger.attrs,\n        \"data-view\": view,\n        dir: state.context.dir,\n        id: dom.getViewTriggerId(state.context, view),\n        type: \"button\",\n        disabled,\n        \"aria-label\": getViewTriggerLabel(state.context.view),\n        onClick() {\n          if (!isInteractive)\n            return;\n          send(\"VIEW.CHANGE\");\n        }\n      });\n    },\n    getViewControlProps(props = {}) {\n      const { view = \"day\" } = props;\n      return normalize.element({\n        ...parts.viewControl.attrs,\n        \"data-view\": view,\n        dir: state.context.dir\n      });\n    },\n    inputProps: normalize.input({\n      ...parts.input.attrs,\n      id: dom.getInputId(state.context),\n      autoComplete: \"off\",\n      autoCorrect: \"off\",\n      spellCheck: \"false\",\n      dir: state.context.dir,\n      name: state.context.name,\n      \"data-state\": isOpen ? \"open\" : \"closed\",\n      readOnly,\n      disabled,\n      placeholder: getInputPlaceholder(locale),\n      defaultValue: state.context.inputValue,\n      onBeforeInput(event) {\n        const { data } = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_6__.getNativeEvent)(event);\n        if (!isValidCharacter(data, separator)) {\n          event.preventDefault();\n        }\n      },\n      onFocus() {\n        send(\"INPUT.FOCUS\");\n      },\n      onBlur(event) {\n        send({ type: \"INPUT.BLUR\", value: event.currentTarget.value });\n      },\n      onKeyDown(event) {\n        if (event.key !== \"Enter\" || !isInteractive)\n          return;\n        if (isUnavailable(state.context.focusedValue))\n          return;\n        send({ type: \"INPUT.ENTER\", value: event.currentTarget.value });\n      },\n      onChange(event) {\n        const { value } = event.target;\n        send({ type: \"INPUT.CHANGE\", value: ensureValidCharacters(value, separator) });\n      }\n    }),\n    monthSelectProps: normalize.select({\n      ...parts.monthSelect.attrs,\n      id: dom.getMonthSelectId(state.context),\n      \"aria-label\": \"Select month\",\n      disabled,\n      dir: state.context.dir,\n      defaultValue: focusedValue.month,\n      onChange(event) {\n        focusMonth(Number(event.currentTarget.value));\n      }\n    }),\n    yearSelectProps: normalize.select({\n      ...parts.yearSelect.attrs,\n      id: dom.getYearSelectId(state.context),\n      disabled,\n      \"aria-label\": \"Select year\",\n      dir: state.context.dir,\n      defaultValue: focusedValue.year,\n      onChange(event) {\n        focusYear(Number(event.currentTarget.value));\n      }\n    }),\n    positionerProps: normalize.element({\n      id: dom.getPositionerId(state.context),\n      ...parts.positioner.attrs,\n      dir: state.context.dir,\n      style: popperStyles.floating\n    })\n  };\n}\n\n// src/date-picker.machine.ts\n\n\n\n\n\n\n\n\n\nvar { and } = _zag_js_core__WEBPACK_IMPORTED_MODULE_7__.guards;\nvar getInitialContext = (ctx) => {\n  const locale = ctx.locale || \"en-US\";\n  const timeZone = ctx.timeZone || \"UTC\";\n  const selectionMode = ctx.selectionMode || \"single\";\n  const numOfMonths = ctx.numOfMonths || 1;\n  let value = sortDates(ctx.value || []);\n  value = value.map((date) => (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.constrainValue)(date, ctx.min, ctx.max));\n  let focusedValue = value[0] || ctx.focusedValue || (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.getTodayDate)(timeZone);\n  focusedValue = (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.constrainValue)(focusedValue, ctx.min, ctx.max);\n  const startValue = (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.alignDate)(focusedValue, \"start\", { months: numOfMonths }, locale);\n  const inputValue = ctx.format?.(value) ?? formatValue({ locale, timeZone, selectionMode, value });\n  return {\n    locale,\n    numOfMonths,\n    focusedValue,\n    startValue,\n    timeZone,\n    value,\n    inputValue,\n    selectionMode,\n    view: \"day\",\n    activeIndex: 0,\n    hoveredValue: null,\n    closeOnSelect: true,\n    ...ctx,\n    positioning: {\n      placement: \"bottom\",\n      ...ctx.positioning\n    }\n  };\n};\nfunction machine(userContext) {\n  const ctx = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_3__.compact)(userContext);\n  return (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_7__.createMachine)(\n    {\n      id: \"datepicker\",\n      initial: ctx.open ? \"open\" : \"idle\",\n      context: getInitialContext(ctx),\n      computed: {\n        valueAsString: (ctx2) => ctx2.value.map((date) => (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.formatSelectedDate)(date, null, ctx2.locale, ctx2.timeZone)),\n        isInteractive: (ctx2) => !ctx2.disabled && !ctx2.readOnly,\n        visibleDuration: (ctx2) => ({ months: ctx2.numOfMonths }),\n        endValue: (ctx2) => (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.getEndDate)(ctx2.startValue, ctx2.visibleDuration),\n        visibleRange: (ctx2) => ({ start: ctx2.startValue, end: ctx2.endValue }),\n        visibleRangeText(ctx2) {\n          const formatter = new _internationalized_date__WEBPACK_IMPORTED_MODULE_2__.DateFormatter(ctx2.locale, { month: \"long\", year: \"numeric\", timeZone: ctx2.timeZone });\n          const start = formatter.format(ctx2.startValue.toDate(ctx2.timeZone));\n          const end = formatter.format(ctx2.endValue.toDate(ctx2.timeZone));\n          const formatted = ctx2.selectionMode === \"range\" ? `${start} - ${end}` : start;\n          return { start, end, formatted };\n        },\n        isPrevVisibleRangeValid: (ctx2) => !(0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.isPreviousVisibleRangeInvalid)(ctx2.startValue, ctx2.min, ctx2.max),\n        isNextVisibleRangeValid: (ctx2) => !(0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.isNextVisibleRangeInvalid)(ctx2.endValue, ctx2.min, ctx2.max)\n      },\n      activities: [\"setupLiveRegion\"],\n      watch: {\n        locale: [\"setStartValue\", \"setInputValue\"],\n        focusedValue: [\n          \"adjustStartDate\",\n          \"syncMonthSelectElement\",\n          \"syncYearSelectElement\",\n          \"focusActiveCellIfNeeded\",\n          \"setHoveredValueIfKeyboard\"\n        ],\n        value: [\"setInputValue\"],\n        valueAsString: [\"announceValueText\"],\n        inputValue: [\"syncInputElement\"],\n        view: [\"focusActiveCell\"],\n        open: [\"toggleVisibility\"]\n      },\n      on: {\n        \"VALUE.SET\": {\n          actions: [\"setSelectedDate\", \"setFocusedDate\"]\n        },\n        \"VIEW.SET\": {\n          actions: [\"setView\"]\n        },\n        \"FOCUS.SET\": {\n          actions: [\"setFocusedDate\"]\n        },\n        \"VALUE.CLEAR\": {\n          actions: [\"clearSelectedDate\", \"clearFocusedDate\", \"focusInputElement\"]\n        },\n        \"GOTO.NEXT\": [\n          { guard: \"isYearView\", actions: [\"focusNextDecade\", \"announceVisibleRange\"] },\n          { guard: \"isMonthView\", actions: [\"focusNextYear\", \"announceVisibleRange\"] },\n          { actions: [\"focusNextPage\"] }\n        ],\n        \"GOTO.PREV\": [\n          { guard: \"isYearView\", actions: [\"focusPreviousDecade\", \"announceVisibleRange\"] },\n          { guard: \"isMonthView\", actions: [\"focusPreviousYear\", \"announceVisibleRange\"] },\n          { actions: [\"focusPreviousPage\"] }\n        ]\n      },\n      states: {\n        idle: {\n          tags: \"closed\",\n          on: {\n            \"INPUT.FOCUS\": {\n              target: \"focused\"\n            },\n            \"TRIGGER.CLICK\": {\n              target: \"open\",\n              actions: [\"focusFirstSelectedDate\", \"focusActiveCell\", \"invokeOnOpen\"]\n            },\n            OPEN: {\n              target: \"open\",\n              actions: [\"invokeOnOpen\"]\n            }\n          }\n        },\n        focused: {\n          tags: \"closed\",\n          on: {\n            \"TRIGGER.CLICK\": {\n              target: \"open\",\n              actions: [\"setViewToDay\", \"focusFirstSelectedDate\", \"focusActiveCell\", \"invokeOnOpen\"]\n            },\n            \"INPUT.CHANGE\": {\n              actions: [\"focusParsedDate\"]\n            },\n            \"INPUT.ENTER\": {\n              actions: [\"focusParsedDate\", \"selectFocusedDate\"]\n            },\n            \"INPUT.BLUR\": {\n              target: \"idle\"\n            },\n            \"CELL.FOCUS\": {\n              target: \"open\",\n              actions: [\"setView\", \"focusActiveCell\", \"invokeOnOpen\"]\n            },\n            OPEN: {\n              target: \"open\",\n              actions: [\"invokeOnOpen\"]\n            }\n          }\n        },\n        open: {\n          tags: \"open\",\n          activities: [\"trackDismissableElement\", \"trackPositioning\"],\n          exit: [\"clearHoveredDate\", \"resetView\"],\n          on: {\n            \"INPUT.CHANGE\": {\n              actions: [\"focusParsedDate\"]\n            },\n            \"CELL.CLICK\": [\n              {\n                guard: \"isMonthView\",\n                actions: [\"setFocusedMonth\", \"setViewToDay\"]\n              },\n              {\n                guard: \"isYearView\",\n                actions: [\"setFocusedYear\", \"setViewToMonth\"]\n              },\n              {\n                guard: and(\"isRangePicker\", \"hasSelectedRange\"),\n                actions: [\"setStartIndex\", \"clearSelectedDate\", \"setFocusedDate\", \"setSelectedDate\", \"setEndIndex\"]\n              },\n              // === Grouped transitions (based on `closeOnSelect`) ===\n              {\n                guard: and(\"isRangePicker\", \"isSelectingEndDate\", \"closeOnSelect\"),\n                target: \"focused\",\n                actions: [\n                  \"setFocusedDate\",\n                  \"setSelectedDate\",\n                  \"setStartIndex\",\n                  \"clearHoveredDate\",\n                  \"focusInputElement\",\n                  \"invokeOnClose\"\n                ]\n              },\n              {\n                guard: and(\"isRangePicker\", \"isSelectingEndDate\"),\n                actions: [\"setFocusedDate\", \"setSelectedDate\", \"setStartIndex\", \"clearHoveredDate\"]\n              },\n              // ===\n              {\n                guard: \"isRangePicker\",\n                actions: [\"setFocusedDate\", \"setSelectedDate\", \"setEndIndex\"]\n              },\n              {\n                guard: \"isMultiPicker\",\n                actions: [\"setFocusedDate\", \"toggleSelectedDate\"]\n              },\n              // === Grouped transitions (based on `closeOnSelect`) ===\n              {\n                guard: \"closeOnSelect\",\n                target: \"focused\",\n                actions: [\"setFocusedDate\", \"setSelectedDate\", \"focusInputElement\", \"invokeOnClose\"]\n              },\n              {\n                actions: [\"setFocusedDate\", \"setSelectedDate\"]\n              }\n              // ===\n            ],\n            \"CELL.POINTER_MOVE\": {\n              guard: and(\"isRangePicker\", \"isSelectingEndDate\"),\n              actions: [\"setHoveredDate\", \"setFocusedDate\"]\n            },\n            \"TABLE.POINTER_LEAVE\": {\n              guard: \"isRangePicker\",\n              actions: [\"clearHoveredDate\"]\n            },\n            \"TABLE.POINTER_DOWN\": {\n              actions: [\"disableTextSelection\"]\n            },\n            \"TABLE.POINTER_UP\": {\n              actions: [\"enableTextSelection\"]\n            },\n            \"TABLE.ESCAPE\": {\n              target: \"focused\",\n              actions: [\"setViewToDay\", \"focusFirstSelectedDate\", \"focusTriggerElement\", \"invokeOnClose\"]\n            },\n            \"TABLE.ENTER\": [\n              {\n                guard: \"isMonthView\",\n                actions: \"setViewToDay\"\n              },\n              {\n                guard: \"isYearView\",\n                actions: \"setViewToMonth\"\n              },\n              {\n                guard: and(\"isRangePicker\", \"hasSelectedRange\"),\n                actions: [\"setStartIndex\", \"clearSelectedDate\", \"setSelectedDate\", \"setEndIndex\"]\n              },\n              // === Grouped transitions (based on `closeOnSelect`) ===\n              {\n                guard: and(\"isRangePicker\", \"isSelectingEndDate\", \"closeOnSelect\"),\n                target: \"focused\",\n                actions: [\"setSelectedDate\", \"setStartIndex\", \"focusInputElement\", \"invokeOnClose\"]\n              },\n              {\n                guard: and(\"isRangePicker\", \"isSelectingEndDate\"),\n                actions: [\"setSelectedDate\", \"setStartIndex\"]\n              },\n              // ===\n              {\n                guard: \"isRangePicker\",\n                actions: [\"setSelectedDate\", \"setEndIndex\", \"focusNextDay\"]\n              },\n              {\n                guard: \"isMultiPicker\",\n                actions: [\"toggleSelectedDate\"]\n              },\n              // === Grouped transitions (based on `closeOnSelect`) ===\n              {\n                guard: \"closeOnSelect\",\n                target: \"focused\",\n                actions: [\"selectFocusedDate\", \"focusInputElement\", \"invokeOnClose\"]\n              },\n              {\n                actions: [\"selectFocusedDate\"]\n              }\n              // ===\n            ],\n            \"TABLE.ARROW_RIGHT\": [\n              { guard: \"isMonthView\", actions: \"focusNextMonth\" },\n              { guard: \"isYearView\", actions: \"focusNextYear\" },\n              { actions: [\"focusNextDay\", \"setHoveredDate\"] }\n            ],\n            \"TABLE.ARROW_LEFT\": [\n              { guard: \"isMonthView\", actions: \"focusPreviousMonth\" },\n              { guard: \"isYearView\", actions: \"focusPreviousYear\" },\n              { actions: [\"focusPreviousDay\"] }\n            ],\n            \"TABLE.ARROW_UP\": [\n              { guard: \"isMonthView\", actions: \"focusPreviousMonthColumn\" },\n              { guard: \"isYearView\", actions: \"focusPreviousYearColumn\" },\n              { actions: [\"focusPreviousWeek\"] }\n            ],\n            \"TABLE.ARROW_DOWN\": [\n              { guard: \"isMonthView\", actions: \"focusNextMonthColumn\" },\n              { guard: \"isYearView\", actions: \"focusNextYearColumn\" },\n              { actions: [\"focusNextWeek\"] }\n            ],\n            \"TABLE.PAGE_UP\": {\n              actions: [\"focusPreviousSection\"]\n            },\n            \"TABLE.PAGE_DOWN\": {\n              actions: [\"focusNextSection\"]\n            },\n            \"TABLE.HOME\": [\n              { guard: \"isMonthView\", actions: [\"focusFirstMonth\"] },\n              { guard: \"isYearView\", actions: [\"focusFirstYear\"] },\n              { actions: [\"focusSectionStart\"] }\n            ],\n            \"TABLE.END\": [\n              { guard: \"isMonthView\", actions: [\"focusLastMonth\"] },\n              { guard: \"isYearView\", actions: [\"focusLastYear\"] },\n              { actions: [\"focusSectionEnd\"] }\n            ],\n            \"TRIGGER.CLICK\": {\n              target: \"focused\",\n              actions: [\"invokeOnClose\"]\n            },\n            \"VIEW.CHANGE\": [\n              {\n                guard: \"isDayView\",\n                actions: [\"setViewToMonth\"]\n              },\n              {\n                guard: \"isMonthView\",\n                actions: [\"setViewToYear\"]\n              }\n            ],\n            DISMISS: [\n              {\n                guard: \"isTargetFocusable\",\n                target: \"idle\",\n                actions: [\"setStartIndex\", \"invokeOnClose\"]\n              },\n              {\n                target: \"focused\",\n                actions: [\"focusTriggerElement\", \"setStartIndex\", \"invokeOnClose\"]\n              }\n            ],\n            CLOSE: {\n              target: \"idle\",\n              actions: [\"setStartIndex\", \"invokeOnClose\"]\n            }\n          }\n        }\n      }\n    },\n    {\n      guards: {\n        isDayView: (ctx2, evt) => (evt.view || ctx2.view) === \"day\",\n        isMonthView: (ctx2, evt) => (evt.view || ctx2.view) === \"month\",\n        isYearView: (ctx2, evt) => (evt.view || ctx2.view) === \"year\",\n        isRangePicker: (ctx2) => ctx2.selectionMode === \"range\",\n        hasSelectedRange: (ctx2) => ctx2.value.length === 2,\n        isMultiPicker: (ctx2) => ctx2.selectionMode === \"multiple\",\n        isTargetFocusable: (_ctx, evt) => evt.focusable,\n        isSelectingEndDate: (ctx2) => ctx2.activeIndex === 1,\n        closeOnSelect: (ctx2) => !!ctx2.closeOnSelect\n      },\n      activities: {\n        trackPositioning(ctx2) {\n          ctx2.currentPlacement = ctx2.positioning.placement;\n          const anchorEl = dom.getControlEl(ctx2);\n          const getPositionerEl = () => dom.getPositionerEl(ctx2);\n          return (0,_zag_js_popper__WEBPACK_IMPORTED_MODULE_4__.getPlacement)(anchorEl, getPositionerEl, {\n            ...ctx2.positioning,\n            defer: true,\n            onComplete(data) {\n              ctx2.currentPlacement = data.placement;\n            },\n            onCleanup() {\n              ctx2.currentPlacement = void 0;\n            }\n          });\n        },\n        setupLiveRegion(ctx2) {\n          const doc = dom.getDoc(ctx2);\n          ctx2.announcer = (0,_zag_js_live_region__WEBPACK_IMPORTED_MODULE_8__.createLiveRegion)({ level: \"assertive\", document: doc });\n          return () => ctx2.announcer?.destroy?.();\n        },\n        trackDismissableElement(ctx2, _evt, { send }) {\n          let focusable = false;\n          return (0,_zag_js_dismissable__WEBPACK_IMPORTED_MODULE_9__.trackDismissableElement)(dom.getContentEl(ctx2), {\n            exclude: [dom.getInputEl(ctx2), dom.getTriggerEl(ctx2), dom.getClearTriggerEl(ctx2)],\n            onInteractOutside(event) {\n              focusable = event.detail.focusable;\n            },\n            onDismiss() {\n              send({ type: \"DISMISS\", src: \"dismissable\", focusable });\n            },\n            onEscapeKeyDown(event) {\n              event.preventDefault();\n              send({ type: \"TABLE.ESCAPE\", src: \"dismissable\" });\n            }\n          });\n        }\n      },\n      actions: {\n        setViewToDay(ctx2) {\n          set.view(ctx2, \"day\");\n        },\n        setViewToMonth(ctx2) {\n          set.view(ctx2, \"month\");\n        },\n        setViewToYear(ctx2) {\n          set.view(ctx2, \"year\");\n        },\n        setView(ctx2, evt) {\n          set.view(ctx2, evt.cell);\n        },\n        announceValueText(ctx2) {\n          ctx2.announcer?.announce(ctx2.valueAsString.join(\",\"), 3e3);\n        },\n        announceVisibleRange(ctx2) {\n          const { formatted } = ctx2.visibleRangeText;\n          ctx2.announcer?.announce(formatted);\n        },\n        disableTextSelection(ctx2) {\n          (0,_zag_js_text_selection__WEBPACK_IMPORTED_MODULE_10__.disableTextSelection)({ target: dom.getContentEl(ctx2), doc: dom.getDoc(ctx2) });\n        },\n        enableTextSelection(ctx2) {\n          (0,_zag_js_text_selection__WEBPACK_IMPORTED_MODULE_10__.restoreTextSelection)({ doc: dom.getDoc(ctx2), target: dom.getContentEl(ctx2) });\n        },\n        focusFirstSelectedDate(ctx2) {\n          if (!ctx2.value.length)\n            return;\n          set.focusedValue(ctx2, ctx2.value[0]);\n        },\n        setInputValue(ctx2) {\n          const input = dom.getInputEl(ctx2);\n          if (!input)\n            return;\n          ctx2.inputValue = ctx2.format?.(ctx2.value) ?? formatValue(ctx2);\n        },\n        syncInputElement(ctx2) {\n          const inputEl = dom.getInputEl(ctx2);\n          if (!inputEl || inputEl.value === ctx2.inputValue)\n            return;\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => {\n            inputEl.value = ctx2.inputValue;\n            inputEl.setSelectionRange(inputEl.value.length, inputEl.value.length);\n          });\n        },\n        setFocusedDate(ctx2, evt) {\n          const value = Array.isArray(evt.value) ? evt.value[0] : evt.value;\n          set.focusedValue(ctx2, (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.constrainValue)(value, ctx2.min, ctx2.max));\n        },\n        setFocusedMonth(ctx2, evt) {\n          set.focusedValue(ctx2, ctx2.focusedValue.set({ month: evt.value }));\n        },\n        focusNextMonth(ctx2) {\n          set.focusedValue(ctx2, ctx2.focusedValue.add({ months: 1 }));\n        },\n        focusPreviousMonth(ctx2) {\n          set.focusedValue(ctx2, ctx2.focusedValue.subtract({ months: 1 }));\n        },\n        setFocusedYear(ctx2, evt) {\n          set.focusedValue(ctx2, ctx2.focusedValue.set({ year: evt.value }));\n        },\n        setSelectedDate(ctx2, evt) {\n          const values = [...ctx2.value];\n          values[ctx2.activeIndex] = evt.value ?? ctx2.focusedValue;\n          set.value(ctx2, adjustStartAndEndDate(values));\n        },\n        toggleSelectedDate(ctx2, evt) {\n          const currentValue = evt.value ?? ctx2.focusedValue;\n          const index = ctx2.value.findIndex((date) => (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.isDateEqual)(date, currentValue));\n          if (index === -1) {\n            const values = [...ctx2.value, currentValue];\n            set.value(ctx2, sortDates(values));\n          } else {\n            const values = [...ctx2.value];\n            values.splice(index, 1);\n            set.value(ctx2, sortDates(values));\n          }\n        },\n        setHoveredDate(ctx2, evt) {\n          ctx2.hoveredValue = evt.value;\n        },\n        clearHoveredDate(ctx2) {\n          ctx2.hoveredValue = null;\n        },\n        selectFocusedDate(ctx2) {\n          const values = [...ctx2.value];\n          values[ctx2.activeIndex] = ctx2.focusedValue.copy();\n          set.value(ctx2, adjustStartAndEndDate(values));\n        },\n        adjustStartDate(ctx2) {\n          const adjust = (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.getAdjustedDateFn)(ctx2.visibleDuration, ctx2.locale, ctx2.min, ctx2.max);\n          const { startDate, focusedDate } = adjust({ focusedDate: ctx2.focusedValue, startDate: ctx2.startValue });\n          ctx2.startValue = startDate;\n          set.focusedValue(ctx2, focusedDate);\n        },\n        setPreviousDate(ctx2) {\n          set.focusedValue(ctx2, (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.getPreviousDay)(ctx2.focusedValue));\n        },\n        setNextDate(ctx2) {\n          set.focusedValue(ctx2, (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.getNextDay)(ctx2.focusedValue));\n        },\n        focusPreviousDay(ctx2) {\n          set.focusedValue(ctx2, ctx2.focusedValue.subtract({ days: 1 }));\n        },\n        focusNextDay(ctx2) {\n          set.focusedValue(ctx2, ctx2.focusedValue.add({ days: 1 }));\n        },\n        focusPreviousWeek(ctx2) {\n          set.focusedValue(ctx2, ctx2.focusedValue.subtract({ weeks: 1 }));\n        },\n        focusNextWeek(ctx2) {\n          set.focusedValue(ctx2, ctx2.focusedValue.add({ weeks: 1 }));\n        },\n        focusNextPage(ctx2) {\n          set.focusedValue(ctx2, ctx2.focusedValue.add(ctx2.visibleDuration));\n        },\n        focusPreviousPage(ctx2) {\n          set.focusedValue(ctx2, ctx2.focusedValue.subtract(ctx2.visibleDuration));\n        },\n        focusSectionStart(ctx2) {\n          set.focusedValue(ctx2, ctx2.startValue.copy());\n        },\n        focusSectionEnd(ctx2) {\n          set.focusedValue(ctx2, ctx2.endValue.copy());\n        },\n        focusNextSection(ctx2, evt) {\n          const section = (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.getNextSection)(\n            ctx2.focusedValue,\n            ctx2.startValue,\n            evt.larger,\n            ctx2.visibleDuration,\n            ctx2.locale,\n            ctx2.min,\n            ctx2.max\n          );\n          if (!section)\n            return;\n          set.focusedValue(ctx2, section.focusedDate);\n        },\n        focusPreviousSection(ctx2, evt) {\n          const section = (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.getPreviousSection)(\n            ctx2.focusedValue,\n            ctx2.startValue,\n            evt.larger,\n            ctx2.visibleDuration,\n            ctx2.locale,\n            ctx2.min,\n            ctx2.max\n          );\n          if (!section)\n            return;\n          set.focusedValue(ctx2, section.focusedDate);\n        },\n        focusNextYear(ctx2) {\n          set.focusedValue(ctx2, ctx2.focusedValue.add({ years: 1 }));\n        },\n        focusPreviousYear(ctx2) {\n          set.focusedValue(ctx2, ctx2.focusedValue.subtract({ years: 1 }));\n        },\n        focusNextDecade(ctx2) {\n          set.focusedValue(ctx2, ctx2.focusedValue.add({ years: 10 }));\n        },\n        focusPreviousDecade(ctx2) {\n          set.focusedValue(ctx2, ctx2.focusedValue.subtract({ years: 10 }));\n        },\n        clearSelectedDate(ctx2) {\n          set.value(ctx2, []);\n        },\n        clearFocusedDate(ctx2) {\n          set.focusedValue(ctx2, (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.getTodayDate)(ctx2.timeZone));\n        },\n        focusPreviousMonthColumn(ctx2, evt) {\n          set.focusedValue(ctx2, ctx2.focusedValue.subtract({ months: evt.columns }));\n        },\n        focusNextMonthColumn(ctx2, evt) {\n          set.focusedValue(ctx2, ctx2.focusedValue.add({ months: evt.columns }));\n        },\n        focusPreviousYearColumn(ctx2, evt) {\n          set.focusedValue(ctx2, ctx2.focusedValue.subtract({ years: evt.columns }));\n        },\n        focusNextYearColumn(ctx2, evt) {\n          set.focusedValue(ctx2, ctx2.focusedValue.add({ years: evt.columns }));\n        },\n        focusFirstMonth(ctx2) {\n          set.focusedValue(ctx2, ctx2.focusedValue.set({ month: 0 }));\n        },\n        focusLastMonth(ctx2) {\n          set.focusedValue(ctx2, ctx2.focusedValue.set({ month: 12 }));\n        },\n        focusFirstYear(ctx2) {\n          const range = (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.getDecadeRange)(ctx2.focusedValue.year);\n          set.focusedValue(ctx2, ctx2.focusedValue.set({ year: range.at(0) }));\n        },\n        focusLastYear(ctx2) {\n          const range = (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.getDecadeRange)(ctx2.focusedValue.year);\n          set.focusedValue(ctx2, ctx2.focusedValue.set({ year: range.at(-1) }));\n        },\n        setEndIndex(ctx2) {\n          ctx2.activeIndex = 1;\n        },\n        setStartIndex(ctx2) {\n          ctx2.activeIndex = 0;\n        },\n        focusActiveCell(ctx2) {\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => {\n            dom.getFocusedCell(ctx2)?.focus({ preventScroll: true });\n          });\n        },\n        focusActiveCellIfNeeded(ctx2, evt) {\n          if (!evt.focus)\n            return;\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => {\n            dom.getFocusedCell(ctx2)?.focus({ preventScroll: true });\n          });\n        },\n        setHoveredValueIfKeyboard(ctx2, evt) {\n          if (!evt.type.startsWith(\"TABLE.ARROW\") || ctx2.selectionMode !== \"range\" || ctx2.activeIndex === 0)\n            return;\n          ctx2.hoveredValue = ctx2.focusedValue.copy();\n        },\n        focusTriggerElement(ctx2) {\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => {\n            dom.getTriggerEl(ctx2)?.focus({ preventScroll: true });\n          });\n        },\n        focusInputElement(ctx2) {\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => {\n            dom.getInputEl(ctx2)?.focus({ preventScroll: true });\n          });\n        },\n        syncMonthSelectElement(ctx2) {\n          const monthSelectEl = dom.getMonthSelectEl(ctx2);\n          if (!monthSelectEl)\n            return;\n          monthSelectEl.value = ctx2.focusedValue.month.toString();\n        },\n        syncYearSelectElement(ctx2) {\n          const yearSelectEl = dom.getYearSelectEl(ctx2);\n          if (!yearSelectEl)\n            return;\n          yearSelectEl.value = ctx2.focusedValue.year.toString();\n        },\n        focusParsedDate(ctx2, evt) {\n          ctx2.inputValue = evt.value;\n          const date = (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.parseDateString)(ctx2.inputValue, ctx2.locale, ctx2.timeZone);\n          set.focusedValue(ctx2, date);\n        },\n        resetView(ctx2, _evt, { initialContext }) {\n          set.view(ctx2, initialContext.view);\n        },\n        setStartValue(ctx2) {\n          const startValue = (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.alignDate)(ctx2.focusedValue, \"start\", { months: ctx2.numOfMonths }, ctx2.locale);\n          ctx2.startValue = startValue;\n        },\n        invokeOnOpen(ctx2) {\n          ctx2.onOpenChange?.({ open: true });\n        },\n        invokeOnClose(ctx2) {\n          ctx2.onOpenChange?.({ open: false });\n        },\n        toggleVisibility(ctx2, _evt, { send }) {\n          send({ type: ctx2.open ? \"OPEN\" : \"CLOSE\", src: \"controlled\" });\n        }\n      },\n      compareFns: {\n        startValue: _zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.isDateEqual,\n        focusedValue: _zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.isDateEqual,\n        value: isDateEqualFn\n      }\n    }\n  );\n}\nvar invoke = {\n  change(ctx) {\n    ctx.onValueChange?.({\n      value: Array.from(ctx.value),\n      view: ctx.view\n    });\n  },\n  focusChange(ctx) {\n    ctx.onFocusChange?.({\n      focusedValue: ctx.focusedValue,\n      value: Array.from(ctx.value),\n      view: ctx.view\n    });\n  },\n  viewChange(ctx) {\n    ctx.onViewChange?.({ view: ctx.view });\n  }\n};\nvar isDateEqualFn = (a, b) => {\n  if (a.length !== b.length)\n    return false;\n  return a.every((date, index) => (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.isDateEqual)(date, b[index]));\n};\nvar set = {\n  value(ctx, value) {\n    if (isDateEqualFn(ctx.value, value))\n      return;\n    ctx.value = value;\n    invoke.change(ctx);\n  },\n  focusedValue(ctx, value) {\n    if (!value || (0,_zag_js_date_utils__WEBPACK_IMPORTED_MODULE_5__.isDateEqual)(ctx.focusedValue, value))\n      return;\n    ctx.focusedValue = value;\n    invoke.focusChange(ctx);\n  },\n  view(ctx, value) {\n    if ((0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_3__.isEqual)(ctx.view, value))\n      return;\n    ctx.view = value;\n    invoke.viewChange(ctx);\n  }\n};\n\n// src/date-picker.parse.ts\n\nfunction parse(value) {\n  if (Array.isArray(value)) {\n    return value.map((v) => parse(v));\n  }\n  if (value instanceof Date) {\n    return new _internationalized_date__WEBPACK_IMPORTED_MODULE_2__.CalendarDate(value.getFullYear(), value.getMonth() + 1, value.getDate());\n  }\n  return (0,_internationalized_date__WEBPACK_IMPORTED_MODULE_2__.parseDate)(value);\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9kYXRlLXBpY2tlci9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNnRDtBQUNoRCxjQUFjLDhEQUFhO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNxRjtBQW9CekQ7QUFDb0M7QUFDVDtBQUNIO0FBQ2Q7O0FBRXRDO0FBQ3VEO0FBQ3ZELFVBQVUsOERBQVc7QUFDckIscURBQXFELE9BQU87QUFDNUQsaUVBQWlFLE9BQU8sU0FBUyxHQUFHO0FBQ3BGLDZFQUE2RSxPQUFPO0FBQ3BGLHlFQUF5RSxPQUFPO0FBQ2hGLHVFQUF1RSxPQUFPLE1BQU0sR0FBRztBQUN2RiwyREFBMkQsT0FBTztBQUNsRSw2RUFBNkUsT0FBTyxnQkFBZ0IsR0FBRztBQUN2RyxpRkFBaUYsT0FBTyxRQUFRLEtBQUs7QUFDckcsaUZBQWlGLE9BQU8sUUFBUSxLQUFLO0FBQ3JHLGlGQUFpRixPQUFPLFFBQVEsS0FBSztBQUNyRyxxRUFBcUUsT0FBTztBQUM1RSwyREFBMkQsT0FBTztBQUNsRSx1REFBdUQsT0FBTztBQUM5RCwyREFBMkQsT0FBTztBQUNsRSxpRUFBaUUsT0FBTztBQUN4RSxtRUFBbUUsT0FBTztBQUMxRSxpRUFBaUUsT0FBTztBQUN4RSw0Q0FBNEMsd0RBQUs7QUFDakQ7QUFDQSxnREFBZ0QsS0FBSztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ3dEO0FBQ2xCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JB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U0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsdUJBQXVCLG1FQUFlO0FBQ3RDO0FBQ0EsU0FBUztBQUNULGdDQUFnQyxnQkFBZ0I7QUFDaEQ7QUFDQSxTQUFTO0FBQ1Q7QUFDQSw2QkFBNkIsNkRBQVMsK0JBQStCLDBCQUEwQjtBQUMvRjtBQUNBLFNBQVM7QUFDVDtBQUNBLGdDQUFnQyxZQUFZO0FBQzVDLFNBQVM7QUFDVDtBQUNBLGdDQUFnQyxhQUFhO0FBQzdDLFNBQVM7QUFDVCx1Q0FBdUMsTUFBTTtBQUM3QyxpQkFBaUIsdURBQXVEO0FBQ3hFO0FBQ0EsT0FBTztBQUNQO0FBQ0Esb0JBQW9CLDJEQUFZO0FBQ2hDLHNCQUFzQiwyREFBWTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQSx5QkFBeUIsZ0JBQWdCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsK0RBQVk7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxrQkFBa0IsK0RBQVk7QUFDOUI7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsUUFBUSxzREFBTztBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDa0U7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsaUVBQVk7QUFDM0I7QUFDQSxTQUFTLGtFQUFTO0FBQ2xCO0FBTUU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL0BwYXJrLXVpL2V4YW1wbGVzLXJlYWN0LW5leHQtanMvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9kYXRlLXBpY2tlci9kaXN0L2luZGV4Lm1qcz81Y2Q2Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9kYXRlLXBpY2tlci5hbmF0b215LnRzXG5pbXBvcnQgeyBjcmVhdGVBbmF0b215IH0gZnJvbSBcIkB6YWctanMvYW5hdG9teVwiO1xudmFyIGFuYXRvbXkgPSBjcmVhdGVBbmF0b215KFwiZGF0ZS1waWNrZXJcIikucGFydHMoXG4gIFwicm9vdFwiLFxuICBcImxhYmVsXCIsXG4gIFwiY2xlYXJUcmlnZ2VyXCIsXG4gIFwiY29udGVudFwiLFxuICBcImNvbnRyb2xcIixcbiAgXCJpbnB1dFwiLFxuICBcIm1vbnRoU2VsZWN0XCIsXG4gIFwibmV4dFRyaWdnZXJcIixcbiAgXCJwb3NpdGlvbmVyXCIsXG4gIFwicHJldlRyaWdnZXJcIixcbiAgXCJyYW5nZVRleHRcIixcbiAgXCJ0YWJsZVwiLFxuICBcInRhYmxlQm9keVwiLFxuICBcInRhYmxlQ2VsbFwiLFxuICBcInRhYmxlQ2VsbFRyaWdnZXJcIixcbiAgXCJ0YWJsZUhlYWRcIixcbiAgXCJ0YWJsZUhlYWRlclwiLFxuICBcInRhYmxlUm93XCIsXG4gIFwidHJpZ2dlclwiLFxuICBcInZpZXdUcmlnZ2VyXCIsXG4gIFwidmlld0NvbnRyb2xcIixcbiAgXCJ5ZWFyU2VsZWN0XCJcbik7XG52YXIgcGFydHMgPSBhbmF0b215LmJ1aWxkKCk7XG5cbi8vIHNyYy9kYXRlLXBpY2tlci5jb25uZWN0LnRzXG5pbXBvcnQgeyBEYXRlRm9ybWF0dGVyIGFzIERhdGVGb3JtYXR0ZXIyLCBpc1dlZWtlbmQgfSBmcm9tIFwiQGludGVybmF0aW9uYWxpemVkL2RhdGVcIjtcbmltcG9ydCB7XG4gIGNvbnN0cmFpblZhbHVlLFxuICBnZXREYXlGb3JtYXR0ZXIsXG4gIGdldERheXNJbldlZWssXG4gIGdldERlY2FkZVJhbmdlLFxuICBnZXRNb250aERheXMsXG4gIGdldE1vbnRoRm9ybWF0dGVyLFxuICBnZXRNb250aE5hbWVzLFxuICBnZXRUb2RheURhdGUsXG4gIGdldFVuaXREdXJhdGlvbixcbiAgZ2V0V2Vla0RheXMsXG4gIGlzRGF0ZURpc2FibGVkLFxuICBpc0RhdGVFcXVhbCxcbiAgaXNEYXRlSW52YWxpZCxcbiAgaXNEYXRlT3V0c2lkZVZpc2libGVSYW5nZSxcbiAgaXNEYXRlVW5hdmFpbGFibGUsXG4gIGlzVG9kYXlEYXRlLFxuICBzZXRNb250aCxcbiAgc2V0WWVhclxufSBmcm9tIFwiQHphZy1qcy9kYXRlLXV0aWxzXCI7XG5pbXBvcnQgeyBnZXRFdmVudEtleSwgZ2V0TmF0aXZlRXZlbnQgfSBmcm9tIFwiQHphZy1qcy9kb20tZXZlbnRcIjtcbmltcG9ydCB7IGFyaWFBdHRyLCBkYXRhQXR0ciB9IGZyb20gXCJAemFnLWpzL2RvbS1xdWVyeVwiO1xuaW1wb3J0IHsgZ2V0UGxhY2VtZW50U3R5bGVzIH0gZnJvbSBcIkB6YWctanMvcG9wcGVyXCI7XG5pbXBvcnQgeyBjaHVuayB9IGZyb20gXCJAemFnLWpzL3V0aWxzXCI7XG5cbi8vIHNyYy9kYXRlLXBpY2tlci5kb20udHNcbmltcG9ydCB7IGNyZWF0ZVNjb3BlLCBxdWVyeSB9IGZyb20gXCJAemFnLWpzL2RvbS1xdWVyeVwiO1xudmFyIGRvbSA9IGNyZWF0ZVNjb3BlKHtcbiAgZ2V0Um9vdElkOiAoY3R4KSA9PiBjdHguaWRzPy5yb290ID8/IGBkYXRlcGlja2VyOiR7Y3R4LmlkfWAsXG4gIGdldFRhYmxlSWQ6IChjdHgsIGlkKSA9PiBjdHguaWRzPy50YWJsZT8uKGlkKSA/PyBgZGF0ZXBpY2tlcjoke2N0eC5pZH06dGFibGU6JHtpZH1gLFxuICBnZXRUYWJsZUhlYWRlcklkOiAoY3R4LCBpZCkgPT4gY3R4Lmlkcz8udGFibGVIZWFkZXI/LihpZCkgPz8gYGRhdGVwaWNrZXI6JHtjdHguaWR9OnRoZWFkYCxcbiAgZ2V0VGFibGVCb2R5SWQ6IChjdHgsIGlkKSA9PiBjdHguaWRzPy50YWJsZUJvZHk/LihpZCkgPz8gYGRhdGVwaWNrZXI6JHtjdHguaWR9OnRib2R5YCxcbiAgZ2V0VGFibGVSb3dJZDogKGN0eCwgaWQpID0+IGN0eC5pZHM/LnRhYmxlUm93Py4oaWQpID8/IGBkYXRlcGlja2VyOiR7Y3R4LmlkfTp0cjoke2lkfWAsXG4gIGdldENvbnRlbnRJZDogKGN0eCkgPT4gY3R4Lmlkcz8uY29udGVudCA/PyBgZGF0ZXBpY2tlcjoke2N0eC5pZH06Y29udGVudGAsXG4gIGdldENlbGxUcmlnZ2VySWQ6IChjdHgsIGlkKSA9PiBjdHguaWRzPy5jZWxsVHJpZ2dlcj8uKGlkKSA/PyBgZGF0ZXBpY2tlcjoke2N0eC5pZH06Y2VsbC10cmlnZ2VyOiR7aWR9YCxcbiAgZ2V0UHJldlRyaWdnZXJJZDogKGN0eCwgdmlldykgPT4gY3R4Lmlkcz8ucHJldlRyaWdnZXI/Lih2aWV3KSA/PyBgZGF0ZXBpY2tlcjoke2N0eC5pZH06cHJldjoke3ZpZXd9YCxcbiAgZ2V0TmV4dFRyaWdnZXJJZDogKGN0eCwgdmlldykgPT4gY3R4Lmlkcz8ubmV4dFRyaWdnZXI/Lih2aWV3KSA/PyBgZGF0ZXBpY2tlcjoke2N0eC5pZH06bmV4dDoke3ZpZXd9YCxcbiAgZ2V0Vmlld1RyaWdnZXJJZDogKGN0eCwgdmlldykgPT4gY3R4Lmlkcz8udmlld1RyaWdnZXI/Lih2aWV3KSA/PyBgZGF0ZXBpY2tlcjoke2N0eC5pZH06dmlldzoke3ZpZXd9YCxcbiAgZ2V0Q2xlYXJUcmlnZ2VySWQ6IChjdHgpID0+IGN0eC5pZHM/LmNsZWFyVHJpZ2dlciA/PyBgZGF0ZXBpY2tlcjoke2N0eC5pZH06Y2xlYXJgLFxuICBnZXRDb250cm9sSWQ6IChjdHgpID0+IGN0eC5pZHM/LmNvbnRyb2wgPz8gYGRhdGVwaWNrZXI6JHtjdHguaWR9OmNvbnRyb2xgLFxuICBnZXRJbnB1dElkOiAoY3R4KSA9PiBjdHguaWRzPy5pbnB1dCA/PyBgZGF0ZXBpY2tlcjoke2N0eC5pZH06aW5wdXRgLFxuICBnZXRUcmlnZ2VySWQ6IChjdHgpID0+IGN0eC5pZHM/LnRyaWdnZXIgPz8gYGRhdGVwaWNrZXI6JHtjdHguaWR9OnRyaWdnZXJgLFxuICBnZXRQb3NpdGlvbmVySWQ6IChjdHgpID0+IGN0eC5pZHM/LnBvc2l0aW9uZXIgPz8gYGRhdGVwaWNrZXI6JHtjdHguaWR9OnBvc2l0aW9uZXJgLFxuICBnZXRNb250aFNlbGVjdElkOiAoY3R4KSA9PiBjdHguaWRzPy5tb250aFNlbGVjdCA/PyBgZGF0ZXBpY2tlcjoke2N0eC5pZH06bW9udGgtc2VsZWN0YCxcbiAgZ2V0WWVhclNlbGVjdElkOiAoY3R4KSA9PiBjdHguaWRzPy55ZWFyU2VsZWN0ID8/IGBkYXRlcGlja2VyOiR7Y3R4LmlkfTp5ZWFyLXNlbGVjdGAsXG4gIGdldEZvY3VzZWRDZWxsOiAoY3R4LCB2aWV3ID0gY3R4LnZpZXcpID0+IHF1ZXJ5KFxuICAgIGRvbS5nZXRDb250ZW50RWwoY3R4KSxcbiAgICBgW2RhdGEtcGFydD10YWJsZS1jZWxsLXRyaWdnZXJdW2RhdGEtdmlldz0ke3ZpZXd9XVtkYXRhLWZvY3VzZWRdOm5vdChbZGF0YS1vdXRzaWRlLXJhbmdlXSlgXG4gICksXG4gIGdldFRyaWdnZXJFbDogKGN0eCkgPT4gZG9tLmdldEJ5SWQoY3R4LCBkb20uZ2V0VHJpZ2dlcklkKGN0eCkpLFxuICBnZXRDb250ZW50RWw6IChjdHgpID0+IGRvbS5nZXRCeUlkKGN0eCwgZG9tLmdldENvbnRlbnRJZChjdHgpKSxcbiAgZ2V0SW5wdXRFbDogKGN0eCkgPT4gZG9tLmdldEJ5SWQoY3R4LCBkb20uZ2V0SW5wdXRJZChjdHgpKSxcbiAgZ2V0WWVhclNlbGVjdEVsOiAoY3R4KSA9PiBkb20uZ2V0QnlJZChjdHgsIGRvbS5nZXRZZWFyU2VsZWN0SWQoY3R4KSksXG4gIGdldE1vbnRoU2VsZWN0RWw6IChjdHgpID0+IGRvbS5nZXRCeUlkKGN0eCwgZG9tLmdldE1vbnRoU2VsZWN0SWQoY3R4KSksXG4gIGdldENsZWFyVHJpZ2dlckVsOiAoY3R4KSA9PiBkb20uZ2V0QnlJZChjdHgsIGRvbS5nZXRDbGVhclRyaWdnZXJJZChjdHgpKSxcbiAgZ2V0UG9zaXRpb25lckVsOiAoY3R4KSA9PiBkb20uZ2V0QnlJZChjdHgsIGRvbS5nZXRQb3NpdGlvbmVySWQoY3R4KSksXG4gIGdldENvbnRyb2xFbDogKGN0eCkgPT4gZG9tLmdldEJ5SWQoY3R4LCBkb20uZ2V0Q29udHJvbElkKGN0eCkpXG59KTtcblxuLy8gc3JjL2RhdGUtcGlja2VyLnV0aWxzLnRzXG5pbXBvcnQgeyBEYXRlRm9ybWF0dGVyIH0gZnJvbSBcIkBpbnRlcm5hdGlvbmFsaXplZC9kYXRlXCI7XG5pbXBvcnQgeyBtYXRjaCB9IGZyb20gXCJAemFnLWpzL3V0aWxzXCI7XG5mdW5jdGlvbiBhZGp1c3RTdGFydEFuZEVuZERhdGUodmFsdWUpIHtcbiAgY29uc3QgW3N0YXJ0RGF0ZSwgZW5kRGF0ZV0gPSB2YWx1ZTtcbiAgaWYgKCFzdGFydERhdGUgfHwgIWVuZERhdGUpXG4gICAgcmV0dXJuIHZhbHVlO1xuICByZXR1cm4gc3RhcnREYXRlLmNvbXBhcmUoZW5kRGF0ZSkgPD0gMCA/IHZhbHVlIDogW2VuZERhdGUsIHN0YXJ0RGF0ZV07XG59XG5mdW5jdGlvbiBpc0RhdGVXaXRoaW5SYW5nZShkYXRlLCB2YWx1ZSkge1xuICBjb25zdCBbc3RhcnREYXRlLCBlbmREYXRlXSA9IHZhbHVlO1xuICBpZiAoIXN0YXJ0RGF0ZSB8fCAhZW5kRGF0ZSlcbiAgICByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBzdGFydERhdGUuY29tcGFyZShkYXRlKSA8PSAwICYmIGVuZERhdGUuY29tcGFyZShkYXRlKSA+PSAwO1xufVxuZnVuY3Rpb24gc29ydERhdGVzKHZhbHVlcykge1xuICByZXR1cm4gdmFsdWVzLnNvcnQoKGEsIGIpID0+IGEuY29tcGFyZShiKSk7XG59XG5mdW5jdGlvbiBmb3JtYXRWYWx1ZShjdHgpIHtcbiAgY29uc3QgZm9ybWF0dGVyID0gbmV3IERhdGVGb3JtYXR0ZXIoY3R4LmxvY2FsZSwge1xuICAgIHRpbWVab25lOiBjdHgudGltZVpvbmUsXG4gICAgZGF5OiBcIjItZGlnaXRcIixcbiAgICBtb250aDogXCIyLWRpZ2l0XCIsXG4gICAgeWVhcjogXCJudW1lcmljXCJcbiAgfSk7XG4gIGlmIChjdHguc2VsZWN0aW9uTW9kZSA9PT0gXCJyYW5nZVwiKSB7XG4gICAgY29uc3QgW3N0YXJ0RGF0ZSwgZW5kRGF0ZV0gPSBjdHgudmFsdWU7XG4gICAgaWYgKCFzdGFydERhdGUgfHwgIWVuZERhdGUpXG4gICAgICByZXR1cm4gXCJcIjtcbiAgICByZXR1cm4gYCR7Zm9ybWF0dGVyLmZvcm1hdChzdGFydERhdGUudG9EYXRlKGN0eC50aW1lWm9uZSkpfSAtICR7Zm9ybWF0dGVyLmZvcm1hdChlbmREYXRlLnRvRGF0ZShjdHgudGltZVpvbmUpKX1gO1xuICB9XG4gIGlmIChjdHguc2VsZWN0aW9uTW9kZSA9PT0gXCJzaW5nbGVcIikge1xuICAgIGNvbnN0IFtzdGFydFZhbHVlXSA9IGN0eC52YWx1ZTtcbiAgICBpZiAoIXN0YXJ0VmFsdWUpXG4gICAgICByZXR1cm4gXCJcIjtcbiAgICByZXR1cm4gZm9ybWF0dGVyLmZvcm1hdChzdGFydFZhbHVlLnRvRGF0ZShjdHgudGltZVpvbmUpKTtcbiAgfVxuICByZXR1cm4gY3R4LnZhbHVlLm1hcCgoZGF0ZSkgPT4gZm9ybWF0dGVyLmZvcm1hdChkYXRlLnRvRGF0ZShjdHgudGltZVpvbmUpKSkuam9pbihcIiwgXCIpO1xufVxuZnVuY3Rpb24gZ2V0TmV4dFRyaWdnZXJMYWJlbCh2aWV3KSB7XG4gIHJldHVybiBtYXRjaCh2aWV3LCB7XG4gICAgeWVhcjogXCJTd2l0Y2ggdG8gbmV4dCBkZWNhZGVcIixcbiAgICBtb250aDogXCJTd2l0Y2ggdG8gbmV4dCB5ZWFyXCIsXG4gICAgZGF5OiBcIlN3aXRjaCB0byBuZXh0IG1vbnRoXCJcbiAgfSk7XG59XG5mdW5jdGlvbiBnZXRQcmV2VHJpZ2dlckxhYmVsKHZpZXcpIHtcbiAgcmV0dXJuIG1hdGNoKHZpZXcsIHtcbiAgICB5ZWFyOiBcIlN3aXRjaCB0byBwcmV2aW91cyBkZWNhZGVcIixcbiAgICBtb250aDogXCJTd2l0Y2ggdG8gcHJldmlvdXMgeWVhclwiLFxuICAgIGRheTogXCJTd2l0Y2ggdG8gcHJldmlvdXMgbW9udGhcIlxuICB9KTtcbn1cbmZ1bmN0aW9uIGdldFJvbGVEZXNjcmlwdGlvbih2aWV3KSB7XG4gIHJldHVybiBtYXRjaCh2aWV3LCB7XG4gICAgeWVhcjogXCJjYWxlbmRhciBkZWNhZGVcIixcbiAgICBtb250aDogXCJjYWxlbmRhciB5ZWFyXCIsXG4gICAgZGF5OiBcImNhbGVuZGFyIG1vbnRoXCJcbiAgfSk7XG59XG5mdW5jdGlvbiBnZXRWaWV3VHJpZ2dlckxhYmVsKHZpZXcpIHtcbiAgcmV0dXJuIG1hdGNoKHZpZXcsIHtcbiAgICB5ZWFyOiBcIlN3aXRjaCB0byBtb250aCB2aWV3XCIsXG4gICAgbW9udGg6IFwiU3dpdGNoIHRvIGRheSB2aWV3XCIsXG4gICAgZGF5OiBcIlN3aXRjaCB0byB5ZWFyIHZpZXdcIlxuICB9KTtcbn1cbnZhciBQTEFDRUhPTERFUlMgPSB7IGRheTogXCJkZFwiLCBtb250aDogXCJtbVwiLCB5ZWFyOiBcInl5eXlcIiB9O1xuZnVuY3Rpb24gZ2V0SW5wdXRQbGFjZWhvbGRlcihsb2NhbGUpIHtcbiAgcmV0dXJuIG5ldyBEYXRlRm9ybWF0dGVyKGxvY2FsZSkuZm9ybWF0VG9QYXJ0cygvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSkubWFwKChpdGVtKSA9PiBQTEFDRUhPTERFUlNbaXRlbS50eXBlXSA/PyBpdGVtLnZhbHVlKS5qb2luKFwiXCIpO1xufVxudmFyIGlzVmFsaWRDaGFyYWN0ZXIgPSAoY2hhciwgc2VwYXJhdG9yKSA9PiB7XG4gIGlmICghY2hhcilcbiAgICByZXR1cm4gdHJ1ZTtcbiAgcmV0dXJuIC9cXGQvLnRlc3QoY2hhcikgfHwgY2hhciA9PT0gc2VwYXJhdG9yIHx8IGNoYXIubGVuZ3RoICE9PSAxO1xufTtcbnZhciBlbnN1cmVWYWxpZENoYXJhY3RlcnMgPSAodmFsdWUsIHNlcGFyYXRvcikgPT4ge1xuICByZXR1cm4gdmFsdWUuc3BsaXQoXCJcIikuZmlsdGVyKChjaGFyKSA9PiBpc1ZhbGlkQ2hhcmFjdGVyKGNoYXIsIHNlcGFyYXRvcikpLmpvaW4oXCJcIik7XG59O1xuZnVuY3Rpb24gZ2V0TG9jYWxlU2VwYXJhdG9yKGxvY2FsZSkge1xuICBjb25zdCBkYXRlRm9ybWF0dGVyID0gbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQobG9jYWxlKTtcbiAgY29uc3QgcGFydHMyID0gZGF0ZUZvcm1hdHRlci5mb3JtYXRUb1BhcnRzKC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpKTtcbiAgY29uc3QgbGl0ZXJhbFBhcnQgPSBwYXJ0czIuZmluZCgocGFydCkgPT4gcGFydC50eXBlID09PSBcImxpdGVyYWxcIik7XG4gIHJldHVybiBsaXRlcmFsUGFydCA/IGxpdGVyYWxQYXJ0LnZhbHVlIDogXCIvXCI7XG59XG5cbi8vIHNyYy9kYXRlLXBpY2tlci5jb25uZWN0LnRzXG52YXIgcHJldHR5ID0gKHZhbHVlKSA9PiB2YWx1ZS50b1N0cmluZygpLnNwbGl0KFwiVFwiKVswXTtcbmZ1bmN0aW9uIGNvbm5lY3Qoc3RhdGUsIHNlbmQsIG5vcm1hbGl6ZSkge1xuICBjb25zdCBzdGFydFZhbHVlID0gc3RhdGUuY29udGV4dC5zdGFydFZhbHVlO1xuICBjb25zdCBlbmRWYWx1ZSA9IHN0YXRlLmNvbnRleHQuZW5kVmFsdWU7XG4gIGNvbnN0IHNlbGVjdGVkVmFsdWUgPSBzdGF0ZS5jb250ZXh0LnZhbHVlO1xuICBjb25zdCBmb2N1c2VkVmFsdWUgPSBzdGF0ZS5jb250ZXh0LmZvY3VzZWRWYWx1ZTtcbiAgY29uc3QgaG92ZXJlZFZhbHVlID0gc3RhdGUuY29udGV4dC5ob3ZlcmVkVmFsdWU7XG4gIGNvbnN0IGhvdmVyZWRSYW5nZVZhbHVlID0gaG92ZXJlZFZhbHVlID8gYWRqdXN0U3RhcnRBbmRFbmREYXRlKFtzZWxlY3RlZFZhbHVlWzBdLCBob3ZlcmVkVmFsdWVdKSA6IFtdO1xuICBjb25zdCBkaXNhYmxlZCA9IHN0YXRlLmNvbnRleHQuZGlzYWJsZWQ7XG4gIGNvbnN0IHJlYWRPbmx5ID0gc3RhdGUuY29udGV4dC5yZWFkT25seTtcbiAgY29uc3QgaXNJbnRlcmFjdGl2ZSA9IHN0YXRlLmNvbnRleHQuaXNJbnRlcmFjdGl2ZTtcbiAgY29uc3QgbWluID0gc3RhdGUuY29udGV4dC5taW47XG4gIGNvbnN0IG1heCA9IHN0YXRlLmNvbnRleHQubWF4O1xuICBjb25zdCBsb2NhbGUgPSBzdGF0ZS5jb250ZXh0LmxvY2FsZTtcbiAgY29uc3QgdGltZVpvbmUgPSBzdGF0ZS5jb250ZXh0LnRpbWVab25lO1xuICBjb25zdCBzdGFydE9mV2VlayA9IHN0YXRlLmNvbnRleHQuc3RhcnRPZldlZWs7XG4gIGNvbnN0IGlzRm9jdXNlZCA9IHN0YXRlLm1hdGNoZXMoXCJmb2N1c2VkXCIpO1xuICBjb25zdCBpc09wZW4gPSBzdGF0ZS5tYXRjaGVzKFwib3BlblwiKTtcbiAgY29uc3QgaXNSYW5nZVBpY2tlciA9IHN0YXRlLmNvbnRleHQuc2VsZWN0aW9uTW9kZSA9PT0gXCJyYW5nZVwiO1xuICBjb25zdCBpc0RhdGVVbmF2YWlsYWJsZUZuID0gc3RhdGUuY29udGV4dC5pc0RhdGVVbmF2YWlsYWJsZTtcbiAgY29uc3QgY3VycmVudFBsYWNlbWVudCA9IHN0YXRlLmNvbnRleHQuY3VycmVudFBsYWNlbWVudDtcbiAgY29uc3QgcG9wcGVyU3R5bGVzID0gZ2V0UGxhY2VtZW50U3R5bGVzKHtcbiAgICAuLi5zdGF0ZS5jb250ZXh0LnBvc2l0aW9uaW5nLFxuICAgIHBsYWNlbWVudDogY3VycmVudFBsYWNlbWVudFxuICB9KTtcbiAgY29uc3Qgc2VwYXJhdG9yID0gZ2V0TG9jYWxlU2VwYXJhdG9yKGxvY2FsZSk7XG4gIGZ1bmN0aW9uIGdldE1vbnRoV2Vla3MoZnJvbSA9IHN0YXJ0VmFsdWUpIHtcbiAgICBjb25zdCBudW1PZldlZWtzID0gc3RhdGUuY29udGV4dC5maXhlZFdlZWtzID8gNiA6IHZvaWQgMDtcbiAgICByZXR1cm4gZ2V0TW9udGhEYXlzKGZyb20sIGxvY2FsZSwgbnVtT2ZXZWVrcywgc3RhcnRPZldlZWspO1xuICB9XG4gIGZ1bmN0aW9uIGdldE1vbnRocyhwcm9wcyA9IHt9KSB7XG4gICAgY29uc3QgeyBmb3JtYXQgfSA9IHByb3BzO1xuICAgIHJldHVybiBnZXRNb250aE5hbWVzKGxvY2FsZSwgZm9ybWF0KS5tYXAoKGxhYmVsLCBpbmRleCkgPT4gKHsgbGFiZWwsIHZhbHVlOiBpbmRleCArIDEgfSkpO1xuICB9XG4gIGZ1bmN0aW9uIGdldFllYXJzKCkge1xuICAgIHJldHVybiBnZXREZWNhZGVSYW5nZShmb2N1c2VkVmFsdWUueWVhcikubWFwKCh5ZWFyKSA9PiAoe1xuICAgICAgbGFiZWw6IHllYXIudG9TdHJpbmcoKSxcbiAgICAgIHZhbHVlOiB5ZWFyXG4gICAgfSkpO1xuICB9XG4gIGZ1bmN0aW9uIGlzVW5hdmFpbGFibGUoZGF0ZSkge1xuICAgIHJldHVybiBpc0RhdGVVbmF2YWlsYWJsZShkYXRlLCBpc0RhdGVVbmF2YWlsYWJsZUZuLCBsb2NhbGUsIG1pbiwgbWF4KTtcbiAgfVxuICBmdW5jdGlvbiBmb2N1c01vbnRoKG1vbnRoKSB7XG4gICAgY29uc3QgdmFsdWUgPSBzZXRNb250aChmb2N1c2VkVmFsdWUgPz8gZ2V0VG9kYXlEYXRlKHRpbWVab25lKSwgbW9udGgpO1xuICAgIHNlbmQoeyB0eXBlOiBcIkZPQ1VTLlNFVFwiLCB2YWx1ZSB9KTtcbiAgfVxuICBmdW5jdGlvbiBmb2N1c1llYXIoeWVhcikge1xuICAgIGNvbnN0IHZhbHVlID0gc2V0WWVhcihmb2N1c2VkVmFsdWUgPz8gZ2V0VG9kYXlEYXRlKHRpbWVab25lKSwgeWVhcik7XG4gICAgc2VuZCh7IHR5cGU6IFwiRk9DVVMuU0VUXCIsIHZhbHVlIH0pO1xuICB9XG4gIGZ1bmN0aW9uIGdldFllYXJUYWJsZUNlbGxTdGF0ZShwcm9wcykge1xuICAgIGNvbnN0IHsgdmFsdWUsIGRpc2FibGVkOiBkaXNhYmxlZDIgfSA9IHByb3BzO1xuICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBmb2N1c2VkVmFsdWUuc2V0KHsgeWVhcjogdmFsdWUgfSk7XG4gICAgY29uc3QgY2VsbFN0YXRlID0ge1xuICAgICAgaXNGb2N1c2VkOiBmb2N1c2VkVmFsdWUueWVhciA9PT0gcHJvcHMudmFsdWUsXG4gICAgICBpc1NlbGVjdGFibGU6ICFpc0RhdGVJbnZhbGlkKG5vcm1hbGl6ZWQsIG1pbiwgbWF4KSxcbiAgICAgIGlzU2VsZWN0ZWQ6ICEhc2VsZWN0ZWRWYWx1ZS5maW5kKChkYXRlKSA9PiBkYXRlLnllYXIgPT09IHZhbHVlKSxcbiAgICAgIHZhbHVlVGV4dDogdmFsdWUudG9TdHJpbmcoKSxcbiAgICAgIGdldCBpc0Rpc2FibGVkKCkge1xuICAgICAgICByZXR1cm4gZGlzYWJsZWQyIHx8ICFjZWxsU3RhdGUuaXNTZWxlY3RhYmxlO1xuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIGNlbGxTdGF0ZTtcbiAgfVxuICBmdW5jdGlvbiBnZXRNb250aFRhYmxlQ2VsbFN0YXRlKHByb3BzKSB7XG4gICAgY29uc3QgeyB2YWx1ZSwgZGlzYWJsZWQ6IGRpc2FibGVkMiB9ID0gcHJvcHM7XG4gICAgY29uc3Qgbm9ybWFsaXplZCA9IGZvY3VzZWRWYWx1ZS5zZXQoeyBtb250aDogdmFsdWUgfSk7XG4gICAgY29uc3QgZm9ybWF0dGVyID0gZ2V0TW9udGhGb3JtYXR0ZXIobG9jYWxlLCB0aW1lWm9uZSk7XG4gICAgY29uc3QgY2VsbFN0YXRlID0ge1xuICAgICAgaXNGb2N1c2VkOiBmb2N1c2VkVmFsdWUubW9udGggPT09IHByb3BzLnZhbHVlLFxuICAgICAgaXNTZWxlY3RhYmxlOiAhaXNEYXRlSW52YWxpZChub3JtYWxpemVkLCBtaW4sIG1heCksXG4gICAgICBpc1NlbGVjdGVkOiAhIXNlbGVjdGVkVmFsdWUuZmluZCgoZGF0ZSkgPT4gZGF0ZS5tb250aCA9PT0gdmFsdWUgJiYgZGF0ZS55ZWFyID09PSBmb2N1c2VkVmFsdWUueWVhciksXG4gICAgICB2YWx1ZVRleHQ6IGZvcm1hdHRlci5mb3JtYXQobm9ybWFsaXplZC50b0RhdGUodGltZVpvbmUpKSxcbiAgICAgIGdldCBpc0Rpc2FibGVkKCkge1xuICAgICAgICByZXR1cm4gZGlzYWJsZWQyIHx8ICFjZWxsU3RhdGUuaXNTZWxlY3RhYmxlO1xuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIGNlbGxTdGF0ZTtcbiAgfVxuICBmdW5jdGlvbiBnZXREYXlUYWJsZUNlbGxTdGF0ZShwcm9wcykge1xuICAgIGNvbnN0IHsgdmFsdWUsIGRpc2FibGVkOiBkaXNhYmxlZDIsIHZpc2libGVSYW5nZSA9IHN0YXRlLmNvbnRleHQudmlzaWJsZVJhbmdlIH0gPSBwcm9wcztcbiAgICBjb25zdCBmb3JtYXR0ZXIgPSBnZXREYXlGb3JtYXR0ZXIobG9jYWxlLCB0aW1lWm9uZSk7XG4gICAgY29uc3QgdW5pdER1cmF0aW9uID0gZ2V0VW5pdER1cmF0aW9uKHN0YXRlLmNvbnRleHQudmlzaWJsZUR1cmF0aW9uKTtcbiAgICBjb25zdCBlbmQgPSB2aXNpYmxlUmFuZ2Uuc3RhcnQuYWRkKHVuaXREdXJhdGlvbikuc3VidHJhY3QoeyBkYXlzOiAxIH0pO1xuICAgIGNvbnN0IGNlbGxTdGF0ZSA9IHtcbiAgICAgIGlzSW52YWxpZDogaXNEYXRlSW52YWxpZCh2YWx1ZSwgbWluLCBtYXgpLFxuICAgICAgaXNEaXNhYmxlZDogZGlzYWJsZWQyIHx8IGlzRGF0ZURpc2FibGVkKHZhbHVlLCB2aXNpYmxlUmFuZ2Uuc3RhcnQsIGVuZCwgbWluLCBtYXgpLFxuICAgICAgaXNTZWxlY3RlZDogc2VsZWN0ZWRWYWx1ZS5zb21lKChkYXRlKSA9PiBpc0RhdGVFcXVhbCh2YWx1ZSwgZGF0ZSkpLFxuICAgICAgaXNVbmF2YWlsYWJsZTogaXNEYXRlVW5hdmFpbGFibGUodmFsdWUsIGlzRGF0ZVVuYXZhaWxhYmxlRm4sIGxvY2FsZSwgbWluLCBtYXgpICYmICFkaXNhYmxlZDIsXG4gICAgICBpc091dHNpZGVSYW5nZTogaXNEYXRlT3V0c2lkZVZpc2libGVSYW5nZSh2YWx1ZSwgdmlzaWJsZVJhbmdlLnN0YXJ0LCBlbmQpLFxuICAgICAgaXNJblJhbmdlOiBpc1JhbmdlUGlja2VyICYmIChpc0RhdGVXaXRoaW5SYW5nZSh2YWx1ZSwgc2VsZWN0ZWRWYWx1ZSkgfHwgaXNEYXRlV2l0aGluUmFuZ2UodmFsdWUsIGhvdmVyZWRSYW5nZVZhbHVlKSksXG4gICAgICBpc0ZpcnN0SW5SYW5nZTogaXNSYW5nZVBpY2tlciAmJiBpc0RhdGVFcXVhbCh2YWx1ZSwgc2VsZWN0ZWRWYWx1ZVswXSksXG4gICAgICBpc0xhc3RJblJhbmdlOiBpc1JhbmdlUGlja2VyICYmIGlzRGF0ZUVxdWFsKHZhbHVlLCBzZWxlY3RlZFZhbHVlWzFdKSxcbiAgICAgIGlzVG9kYXk6IGlzVG9kYXlEYXRlKHZhbHVlLCB0aW1lWm9uZSksXG4gICAgICBpc1dlZWtlbmQ6IGlzV2Vla2VuZCh2YWx1ZSwgbG9jYWxlKSxcbiAgICAgIGZvcm1hdHRlZERhdGU6IGZvcm1hdHRlci5mb3JtYXQodmFsdWUudG9EYXRlKHRpbWVab25lKSksXG4gICAgICBnZXQgaXNGb2N1c2VkKCkge1xuICAgICAgICByZXR1cm4gaXNEYXRlRXF1YWwodmFsdWUsIGZvY3VzZWRWYWx1ZSkgJiYgIWNlbGxTdGF0ZS5pc091dHNpZGVSYW5nZTtcbiAgICAgIH0sXG4gICAgICBnZXQgYXJpYUxhYmVsKCkge1xuICAgICAgICBpZiAoY2VsbFN0YXRlLmlzVW5hdmFpbGFibGUpXG4gICAgICAgICAgcmV0dXJuIGBOb3QgYXZhaWxhYmxlLiAke2NlbGxTdGF0ZS5mb3JtYXR0ZWREYXRlfWA7XG4gICAgICAgIGlmIChjZWxsU3RhdGUuaXNTZWxlY3RlZClcbiAgICAgICAgICByZXR1cm4gYFNlbGVjdGVkIGRhdGUuICR7Y2VsbFN0YXRlLmZvcm1hdHRlZERhdGV9YDtcbiAgICAgICAgcmV0dXJuIGBDaG9vc2UgJHtjZWxsU3RhdGUuZm9ybWF0dGVkRGF0ZX1gO1xuICAgICAgfSxcbiAgICAgIGdldCBpc1NlbGVjdGFibGUoKSB7XG4gICAgICAgIHJldHVybiAhY2VsbFN0YXRlLmlzRGlzYWJsZWQgJiYgIWNlbGxTdGF0ZS5pc1VuYXZhaWxhYmxlO1xuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIGNlbGxTdGF0ZTtcbiAgfVxuICBmdW5jdGlvbiBnZXRUYWJsZUlkKHByb3BzKSB7XG4gICAgY29uc3QgeyB2aWV3ID0gXCJkYXlcIiwgaWQgfSA9IHByb3BzO1xuICAgIHJldHVybiBbdmlldywgaWRdLmZpbHRlcihCb29sZWFuKS5qb2luKFwiIFwiKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGlzRm9jdXNlZCxcbiAgICBpc09wZW4sXG4gICAgdmlldzogc3RhdGUuY29udGV4dC52aWV3LFxuICAgIGdldERheXNJbldlZWsod2VlaywgZnJvbSA9IHN0YXJ0VmFsdWUpIHtcbiAgICAgIHJldHVybiBnZXREYXlzSW5XZWVrKHdlZWssIGZyb20sIGxvY2FsZSwgc3RhcnRPZldlZWspO1xuICAgIH0sXG4gICAgZ2V0T2Zmc2V0KGR1cmF0aW9uKSB7XG4gICAgICBjb25zdCBmcm9tID0gc3RhcnRWYWx1ZS5hZGQoZHVyYXRpb24pO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmlzaWJsZVJhbmdlOiB7IHN0YXJ0OiBmcm9tLCBlbmQ6IGVuZFZhbHVlLmFkZChkdXJhdGlvbikgfSxcbiAgICAgICAgd2Vla3M6IGdldE1vbnRoV2Vla3MoZnJvbSlcbiAgICAgIH07XG4gICAgfSxcbiAgICBnZXRNb250aFdlZWtzLFxuICAgIGlzVW5hdmFpbGFibGUsXG4gICAgd2Vla3M6IGdldE1vbnRoV2Vla3MoKSxcbiAgICB3ZWVrRGF5czogZ2V0V2Vla0RheXMoZ2V0VG9kYXlEYXRlKHRpbWVab25lKSwgc3RhcnRPZldlZWssIHRpbWVab25lLCBsb2NhbGUpLFxuICAgIHZpc2libGVSYW5nZVRleHQ6IHN0YXRlLmNvbnRleHQudmlzaWJsZVJhbmdlVGV4dCxcbiAgICB2YWx1ZTogc2VsZWN0ZWRWYWx1ZSxcbiAgICB2YWx1ZUFzRGF0ZTogc2VsZWN0ZWRWYWx1ZS5tYXAoKGRhdGUpID0+IGRhdGUudG9EYXRlKHRpbWVab25lKSksXG4gICAgdmFsdWVBc1N0cmluZzogc2VsZWN0ZWRWYWx1ZS5tYXAocHJldHR5KSxcbiAgICBmb2N1c2VkVmFsdWUsXG4gICAgZm9jdXNlZFZhbHVlQXNEYXRlOiBmb2N1c2VkVmFsdWU/LnRvRGF0ZSh0aW1lWm9uZSksXG4gICAgZm9jdXNlZFZhbHVlQXNTdHJpbmc6IHByZXR0eShmb2N1c2VkVmFsdWUpLFxuICAgIHZpc2libGVSYW5nZTogc3RhdGUuY29udGV4dC52aXNpYmxlUmFuZ2UsXG4gICAgc2VsZWN0VG9kYXkoKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IGNvbnN0cmFpblZhbHVlKGdldFRvZGF5RGF0ZSh0aW1lWm9uZSksIG1pbiwgbWF4KTtcbiAgICAgIHNlbmQoeyB0eXBlOiBcIlZBTFVFLlNFVFwiLCB2YWx1ZSB9KTtcbiAgICB9LFxuICAgIHNldFZhbHVlKHZhbHVlcykge1xuICAgICAgY29uc3QgY29tcHV0ZWRWYWx1ZSA9IHZhbHVlcy5tYXAoKGRhdGUpID0+IGNvbnN0cmFpblZhbHVlKGRhdGUsIG1pbiwgbWF4KSk7XG4gICAgICBzZW5kKHsgdHlwZTogXCJWQUxVRS5TRVRcIiwgdmFsdWU6IGNvbXB1dGVkVmFsdWUgfSk7XG4gICAgfSxcbiAgICBjbGVhclZhbHVlKCkge1xuICAgICAgc2VuZChcIlZBTFVFLkNMRUFSXCIpO1xuICAgIH0sXG4gICAgc2V0Rm9jdXNlZFZhbHVlKHZhbHVlKSB7XG4gICAgICBzZW5kKHsgdHlwZTogXCJGT0NVUy5TRVRcIiwgdmFsdWUgfSk7XG4gICAgfSxcbiAgICBvcGVuKCkge1xuICAgICAgc2VuZChcIk9QRU5cIik7XG4gICAgfSxcbiAgICBjbG9zZSgpIHtcbiAgICAgIHNlbmQoXCJDTE9TRVwiKTtcbiAgICB9LFxuICAgIGZvY3VzTW9udGgsXG4gICAgZm9jdXNZZWFyLFxuICAgIGdldFllYXJzLFxuICAgIGdldE1vbnRocyxcbiAgICBnZXRZZWFyc0dyaWQocHJvcHMgPSB7fSkge1xuICAgICAgY29uc3QgeyBjb2x1bW5zID0gMSB9ID0gcHJvcHM7XG4gICAgICByZXR1cm4gY2h1bmsoZ2V0WWVhcnMoKSwgY29sdW1ucyk7XG4gICAgfSxcbiAgICBnZXREZWNhZGUoKSB7XG4gICAgICBjb25zdCB5ZWFycyA9IGdldERlY2FkZVJhbmdlKGZvY3VzZWRWYWx1ZS55ZWFyKTtcbiAgICAgIHJldHVybiB7IHN0YXJ0OiB5ZWFycy5hdCgwKSwgZW5kOiB5ZWFycy5hdCgtMSkgfTtcbiAgICB9LFxuICAgIGdldE1vbnRoc0dyaWQocHJvcHMgPSB7fSkge1xuICAgICAgY29uc3QgeyBjb2x1bW5zID0gMSwgZm9ybWF0IH0gPSBwcm9wcztcbiAgICAgIHJldHVybiBjaHVuayhnZXRNb250aHMoeyBmb3JtYXQgfSksIGNvbHVtbnMpO1xuICAgIH0sXG4gICAgZm9ybWF0KHZhbHVlLCBvcHRzID0geyBtb250aDogXCJsb25nXCIsIHllYXI6IFwibnVtZXJpY1wiIH0pIHtcbiAgICAgIHJldHVybiBuZXcgRGF0ZUZvcm1hdHRlcjIobG9jYWxlLCBvcHRzKS5mb3JtYXQodmFsdWUudG9EYXRlKHRpbWVab25lKSk7XG4gICAgfSxcbiAgICBzZXRWaWV3KHZpZXcpIHtcbiAgICAgIHNlbmQoeyB0eXBlOiBcIlZJRVcuU0VUXCIsIGNlbGw6IHZpZXcgfSk7XG4gICAgfSxcbiAgICBnb1RvTmV4dCgpIHtcbiAgICAgIHNlbmQoeyB0eXBlOiBcIkdPVE8uTkVYVFwiLCB2aWV3OiBzdGF0ZS5jb250ZXh0LnZpZXcgfSk7XG4gICAgfSxcbiAgICBnb1RvUHJldigpIHtcbiAgICAgIHNlbmQoeyB0eXBlOiBcIkdPVE8uUFJFVlwiLCB2aWV3OiBzdGF0ZS5jb250ZXh0LnZpZXcgfSk7XG4gICAgfSxcbiAgICByb290UHJvcHM6IG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgIC4uLnBhcnRzLnJvb3QuYXR0cnMsXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgaWQ6IGRvbS5nZXRSb290SWQoc3RhdGUuY29udGV4dCksXG4gICAgICBcImRhdGEtc3RhdGVcIjogaXNPcGVuID8gXCJvcGVuXCIgOiBcImNsb3NlZFwiLFxuICAgICAgXCJkYXRhLWRpc2FibGVkXCI6IGRhdGFBdHRyKGRpc2FibGVkKSxcbiAgICAgIFwiZGF0YS1yZWFkb25seVwiOiBkYXRhQXR0cihyZWFkT25seSlcbiAgICB9KSxcbiAgICBsYWJlbFByb3BzOiBub3JtYWxpemUubGFiZWwoe1xuICAgICAgLi4ucGFydHMubGFiZWwuYXR0cnMsXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgaHRtbEZvcjogZG9tLmdldElucHV0SWQoc3RhdGUuY29udGV4dCksXG4gICAgICBcImRhdGEtc3RhdGVcIjogaXNPcGVuID8gXCJvcGVuXCIgOiBcImNsb3NlZFwiLFxuICAgICAgXCJkYXRhLWRpc2FibGVkXCI6IGRhdGFBdHRyKGRpc2FibGVkKSxcbiAgICAgIFwiZGF0YS1yZWFkb25seVwiOiBkYXRhQXR0cihyZWFkT25seSlcbiAgICB9KSxcbiAgICBjb250cm9sUHJvcHM6IG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgIC4uLnBhcnRzLmNvbnRyb2wuYXR0cnMsXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgaWQ6IGRvbS5nZXRDb250cm9sSWQoc3RhdGUuY29udGV4dCksXG4gICAgICBcImRhdGEtZGlzYWJsZWRcIjogZGF0YUF0dHIoZGlzYWJsZWQpXG4gICAgfSksXG4gICAgcmFuZ2VUZXh0UHJvcHM6IG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgIC4uLnBhcnRzLnJhbmdlVGV4dC5hdHRycyxcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXJcbiAgICB9KSxcbiAgICBjb250ZW50UHJvcHM6IG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgIC4uLnBhcnRzLmNvbnRlbnQuYXR0cnMsXG4gICAgICBoaWRkZW46ICFpc09wZW4sXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgXCJkYXRhLXN0YXRlXCI6IGlzT3BlbiA/IFwib3BlblwiIDogXCJjbG9zZWRcIixcbiAgICAgIFwiZGF0YS1wbGFjZW1lbnRcIjogY3VycmVudFBsYWNlbWVudCxcbiAgICAgIGlkOiBkb20uZ2V0Q29udGVudElkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgcm9sZTogXCJhcHBsaWNhdGlvblwiLFxuICAgICAgXCJhcmlhLXJvbGVkZXNjcmlwdGlvblwiOiBcImRhdGVwaWNrZXJcIixcbiAgICAgIFwiYXJpYS1sYWJlbFwiOiBcImNhbGVuZGFyXCJcbiAgICB9KSxcbiAgICBnZXRUYWJsZVByb3BzKHByb3BzID0ge30pIHtcbiAgICAgIGNvbnN0IHsgdmlldyA9IFwiZGF5XCIsIGNvbHVtbnMgPSB2aWV3ID09PSBcImRheVwiID8gNyA6IDQgfSA9IHByb3BzO1xuICAgICAgY29uc3QgdWlkID0gZ2V0VGFibGVJZChwcm9wcyk7XG4gICAgICByZXR1cm4gbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgICAuLi5wYXJ0cy50YWJsZS5hdHRycyxcbiAgICAgICAgcm9sZTogXCJncmlkXCIsXG4gICAgICAgIFwiZGF0YS1jb2x1bW5zXCI6IGNvbHVtbnMsXG4gICAgICAgIFwiYXJpYS1yb2xlZGVzY3JpcHRpb25cIjogZ2V0Um9sZURlc2NyaXB0aW9uKHZpZXcpLFxuICAgICAgICBpZDogZG9tLmdldFRhYmxlSWQoc3RhdGUuY29udGV4dCwgdWlkKSxcbiAgICAgICAgXCJhcmlhLXJlYWRvbmx5XCI6IGFyaWFBdHRyKHJlYWRPbmx5KSxcbiAgICAgICAgXCJhcmlhLWRpc2FibGVkXCI6IGFyaWFBdHRyKGRpc2FibGVkKSxcbiAgICAgICAgXCJhcmlhLW11bHRpc2VsZWN0YWJsZVwiOiBhcmlhQXR0cihzdGF0ZS5jb250ZXh0LnNlbGVjdGlvbk1vZGUgIT09IFwic2luZ2xlXCIpLFxuICAgICAgICBcImRhdGEtdmlld1wiOiB2aWV3LFxuICAgICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgICB0YWJJbmRleDogLTEsXG4gICAgICAgIG9uS2V5RG93bihldmVudCkge1xuICAgICAgICAgIGNvbnN0IGtleU1hcCA9IHtcbiAgICAgICAgICAgIEVudGVyKCkge1xuICAgICAgICAgICAgICBpZiAoaXNVbmF2YWlsYWJsZShmb2N1c2VkVmFsdWUpKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwiVEFCTEUuRU5URVJcIiwgdmlldywgY29sdW1ucywgZm9jdXM6IHRydWUgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgQXJyb3dMZWZ0KCkge1xuICAgICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJUQUJMRS5BUlJPV19MRUZUXCIsIHZpZXcsIGNvbHVtbnMsIGZvY3VzOiB0cnVlIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIEFycm93UmlnaHQoKSB7XG4gICAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIlRBQkxFLkFSUk9XX1JJR0hUXCIsIHZpZXcsIGNvbHVtbnMsIGZvY3VzOiB0cnVlIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIEFycm93VXAoKSB7XG4gICAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIlRBQkxFLkFSUk9XX1VQXCIsIHZpZXcsIGNvbHVtbnMsIGZvY3VzOiB0cnVlIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIEFycm93RG93bigpIHtcbiAgICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwiVEFCTEUuQVJST1dfRE9XTlwiLCB2aWV3LCBjb2x1bW5zLCBmb2N1czogdHJ1ZSB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBQYWdlVXAoZXZlbnQyKSB7XG4gICAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIlRBQkxFLlBBR0VfVVBcIiwgbGFyZ2VyOiBldmVudDIuc2hpZnRLZXksIHZpZXcsIGNvbHVtbnMsIGZvY3VzOiB0cnVlIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFBhZ2VEb3duKGV2ZW50Mikge1xuICAgICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJUQUJMRS5QQUdFX0RPV05cIiwgbGFyZ2VyOiBldmVudDIuc2hpZnRLZXksIHZpZXcsIGNvbHVtbnMsIGZvY3VzOiB0cnVlIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIEhvbWUoKSB7XG4gICAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIlRBQkxFLkhPTUVcIiwgdmlldywgY29sdW1ucywgZm9jdXM6IHRydWUgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgRW5kKCkge1xuICAgICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJUQUJMRS5FTkRcIiwgdmlldywgY29sdW1ucywgZm9jdXM6IHRydWUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICBjb25zdCBleGVjID0ga2V5TWFwW2dldEV2ZW50S2V5KGV2ZW50LCBzdGF0ZS5jb250ZXh0KV07XG4gICAgICAgICAgaWYgKGV4ZWMpIHtcbiAgICAgICAgICAgIGV4ZWMoZXZlbnQpO1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25Qb2ludGVyTGVhdmUoKSB7XG4gICAgICAgICAgc2VuZCh7IHR5cGU6IFwiVEFCTEUuUE9JTlRFUl9MRUFWRVwiIH0pO1xuICAgICAgICB9LFxuICAgICAgICBvblBvaW50ZXJEb3duKCkge1xuICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIlRBQkxFLlBPSU5URVJfRE9XTlwiLCB2aWV3IH0pO1xuICAgICAgICB9LFxuICAgICAgICBvblBvaW50ZXJVcCgpIHtcbiAgICAgICAgICBzZW5kKHsgdHlwZTogXCJUQUJMRS5QT0lOVEVSX1VQXCIsIHZpZXcgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0VGFibGVIZWFkUHJvcHMocHJvcHMgPSB7fSkge1xuICAgICAgY29uc3QgeyB2aWV3ID0gXCJkYXlcIiB9ID0gcHJvcHM7XG4gICAgICByZXR1cm4gbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgICAuLi5wYXJ0cy50YWJsZUhlYWQuYXR0cnMsXG4gICAgICAgIFwiYXJpYS1oaWRkZW5cIjogdHJ1ZSxcbiAgICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgICAgXCJkYXRhLXZpZXdcIjogdmlldyxcbiAgICAgICAgXCJkYXRhLWRpc2FibGVkXCI6IGRhdGFBdHRyKGRpc2FibGVkKVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZXRUYWJsZUhlYWRlclByb3BzKHByb3BzID0ge30pIHtcbiAgICAgIGNvbnN0IHsgdmlldyA9IFwiZGF5XCIgfSA9IHByb3BzO1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgICAgLi4ucGFydHMudGFibGVIZWFkZXIuYXR0cnMsXG4gICAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICAgIFwiZGF0YS12aWV3XCI6IHZpZXcsXG4gICAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihkaXNhYmxlZClcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0VGFibGVCb2R5UHJvcHMocHJvcHMgPSB7fSkge1xuICAgICAgY29uc3QgeyB2aWV3ID0gXCJkYXlcIiB9ID0gcHJvcHM7XG4gICAgICByZXR1cm4gbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgICAuLi5wYXJ0cy50YWJsZUJvZHkuYXR0cnMsXG4gICAgICAgIFwiZGF0YS12aWV3XCI6IHZpZXcsXG4gICAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihkaXNhYmxlZClcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0VGFibGVSb3dQcm9wcyhwcm9wcyA9IHt9KSB7XG4gICAgICBjb25zdCB7IHZpZXcgPSBcImRheVwiIH0gPSBwcm9wcztcbiAgICAgIHJldHVybiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICAgIC4uLnBhcnRzLnRhYmxlUm93LmF0dHJzLFxuICAgICAgICBcImFyaWEtZGlzYWJsZWRcIjogYXJpYUF0dHIoZGlzYWJsZWQpLFxuICAgICAgICBcImRhdGEtZGlzYWJsZWRcIjogZGF0YUF0dHIoZGlzYWJsZWQpLFxuICAgICAgICBcImRhdGEtdmlld1wiOiB2aWV3XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdldERheVRhYmxlQ2VsbFN0YXRlLFxuICAgIGdldERheVRhYmxlQ2VsbFByb3BzKHByb3BzKSB7XG4gICAgICBjb25zdCB7IHZhbHVlIH0gPSBwcm9wcztcbiAgICAgIGNvbnN0IGNlbGxTdGF0ZSA9IGdldERheVRhYmxlQ2VsbFN0YXRlKHByb3BzKTtcbiAgICAgIHJldHVybiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICAgIC4uLnBhcnRzLnRhYmxlQ2VsbC5hdHRycyxcbiAgICAgICAgcm9sZTogXCJncmlkY2VsbFwiLFxuICAgICAgICBcImFyaWEtZGlzYWJsZWRcIjogYXJpYUF0dHIoIWNlbGxTdGF0ZS5pc1NlbGVjdGFibGUpLFxuICAgICAgICBcImFyaWEtc2VsZWN0ZWRcIjogY2VsbFN0YXRlLmlzU2VsZWN0ZWQgfHwgY2VsbFN0YXRlLmlzSW5SYW5nZSxcbiAgICAgICAgXCJhcmlhLWludmFsaWRcIjogYXJpYUF0dHIoY2VsbFN0YXRlLmlzSW52YWxpZCksXG4gICAgICAgIFwiYXJpYS1jdXJyZW50XCI6IGNlbGxTdGF0ZS5pc1RvZGF5ID8gXCJkYXRlXCIgOiB2b2lkIDAsXG4gICAgICAgIFwiZGF0YS12YWx1ZVwiOiB2YWx1ZS50b1N0cmluZygpXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdldERheVRhYmxlQ2VsbFRyaWdnZXJQcm9wcyhwcm9wcykge1xuICAgICAgY29uc3QgeyB2YWx1ZSB9ID0gcHJvcHM7XG4gICAgICBjb25zdCBjZWxsU3RhdGUgPSBnZXREYXlUYWJsZUNlbGxTdGF0ZShwcm9wcyk7XG4gICAgICByZXR1cm4gbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgICAuLi5wYXJ0cy50YWJsZUNlbGxUcmlnZ2VyLmF0dHJzLFxuICAgICAgICBpZDogZG9tLmdldENlbGxUcmlnZ2VySWQoc3RhdGUuY29udGV4dCwgdmFsdWUudG9TdHJpbmcoKSksXG4gICAgICAgIHJvbGU6IFwiYnV0dG9uXCIsXG4gICAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICAgIHRhYkluZGV4OiBjZWxsU3RhdGUuaXNGb2N1c2VkID8gMCA6IC0xLFxuICAgICAgICBcImFyaWEtbGFiZWxcIjogY2VsbFN0YXRlLmFyaWFMYWJlbCxcbiAgICAgICAgXCJhcmlhLWRpc2FibGVkXCI6IGFyaWFBdHRyKCFjZWxsU3RhdGUuaXNTZWxlY3RhYmxlKSxcbiAgICAgICAgXCJhcmlhLWludmFsaWRcIjogYXJpYUF0dHIoY2VsbFN0YXRlLmlzSW52YWxpZCksXG4gICAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cighY2VsbFN0YXRlLmlzU2VsZWN0YWJsZSksXG4gICAgICAgIFwiZGF0YS1zZWxlY3RlZFwiOiBkYXRhQXR0cihjZWxsU3RhdGUuaXNTZWxlY3RlZCksXG4gICAgICAgIFwiZGF0YS12YWx1ZVwiOiB2YWx1ZS50b1N0cmluZygpLFxuICAgICAgICBcImRhdGEtdmlld1wiOiBcImRheVwiLFxuICAgICAgICBcImRhdGEtdG9kYXlcIjogZGF0YUF0dHIoY2VsbFN0YXRlLmlzVG9kYXkpLFxuICAgICAgICBcImRhdGEtZm9jdXNlZFwiOiBkYXRhQXR0cihjZWxsU3RhdGUuaXNGb2N1c2VkKSxcbiAgICAgICAgXCJkYXRhLXVuYXZhaWxhYmxlXCI6IGRhdGFBdHRyKGNlbGxTdGF0ZS5pc1VuYXZhaWxhYmxlKSxcbiAgICAgICAgXCJkYXRhLXJhbmdlLXN0YXJ0XCI6IGRhdGFBdHRyKGNlbGxTdGF0ZS5pc0ZpcnN0SW5SYW5nZSksXG4gICAgICAgIFwiZGF0YS1yYW5nZS1lbmRcIjogZGF0YUF0dHIoY2VsbFN0YXRlLmlzTGFzdEluUmFuZ2UpLFxuICAgICAgICBcImRhdGEtaW4tcmFuZ2VcIjogZGF0YUF0dHIoY2VsbFN0YXRlLmlzSW5SYW5nZSksXG4gICAgICAgIFwiZGF0YS1vdXRzaWRlLXJhbmdlXCI6IGRhdGFBdHRyKGNlbGxTdGF0ZS5pc091dHNpZGVSYW5nZSksXG4gICAgICAgIFwiZGF0YS13ZWVrZW5kXCI6IGRhdGFBdHRyKGNlbGxTdGF0ZS5pc1dlZWtlbmQpLFxuICAgICAgICBvbkNsaWNrKCkge1xuICAgICAgICAgIGlmICghY2VsbFN0YXRlLmlzU2VsZWN0YWJsZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBzZW5kKHsgdHlwZTogXCJDRUxMLkNMSUNLXCIsIGNlbGw6IFwiZGF5XCIsIHZhbHVlIH0pO1xuICAgICAgICB9LFxuICAgICAgICBvblBvaW50ZXJNb3ZlKGV2ZW50KSB7XG4gICAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSBcInRvdWNoXCIgfHwgIWNlbGxTdGF0ZS5pc1NlbGVjdGFibGUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgY29uc3QgZm9jdXMgPSBldmVudC5jdXJyZW50VGFyZ2V0Lm93bmVyRG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gZXZlbnQuY3VycmVudFRhcmdldDtcbiAgICAgICAgICBzZW5kKHsgdHlwZTogXCJDRUxMLlBPSU5URVJfTU9WRVwiLCBjZWxsOiBcImRheVwiLCB2YWx1ZSwgZm9jdXMgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0TW9udGhUYWJsZUNlbGxTdGF0ZSxcbiAgICBnZXRNb250aFRhYmxlQ2VsbFByb3BzKHByb3BzKSB7XG4gICAgICBjb25zdCB7IHZhbHVlLCBjb2x1bW5zIH0gPSBwcm9wcztcbiAgICAgIGNvbnN0IGNlbGxTdGF0ZSA9IGdldE1vbnRoVGFibGVDZWxsU3RhdGUocHJvcHMpO1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgICAgLi4ucGFydHMudGFibGVDZWxsLmF0dHJzLFxuICAgICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgICBjb2xTcGFuOiBjb2x1bW5zLFxuICAgICAgICByb2xlOiBcImdyaWRjZWxsXCIsXG4gICAgICAgIFwiYXJpYS1zZWxlY3RlZFwiOiBhcmlhQXR0cihjZWxsU3RhdGUuaXNTZWxlY3RlZCksXG4gICAgICAgIFwiZGF0YS1zZWxlY3RlZFwiOiBkYXRhQXR0cihjZWxsU3RhdGUuaXNTZWxlY3RlZCksXG4gICAgICAgIFwiYXJpYS1kaXNhYmxlZFwiOiBhcmlhQXR0cighY2VsbFN0YXRlLmlzU2VsZWN0YWJsZSksXG4gICAgICAgIFwiZGF0YS12YWx1ZVwiOiB2YWx1ZVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZXRNb250aFRhYmxlQ2VsbFRyaWdnZXJQcm9wcyhwcm9wcykge1xuICAgICAgY29uc3QgeyB2YWx1ZSB9ID0gcHJvcHM7XG4gICAgICBjb25zdCBjZWxsU3RhdGUgPSBnZXRNb250aFRhYmxlQ2VsbFN0YXRlKHByb3BzKTtcbiAgICAgIHJldHVybiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICAgIC4uLnBhcnRzLnRhYmxlQ2VsbFRyaWdnZXIuYXR0cnMsXG4gICAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICAgIHJvbGU6IFwiYnV0dG9uXCIsXG4gICAgICAgIGlkOiBkb20uZ2V0Q2VsbFRyaWdnZXJJZChzdGF0ZS5jb250ZXh0LCB2YWx1ZS50b1N0cmluZygpKSxcbiAgICAgICAgXCJkYXRhLXNlbGVjdGVkXCI6IGRhdGFBdHRyKGNlbGxTdGF0ZS5pc1NlbGVjdGVkKSxcbiAgICAgICAgXCJhcmlhLWRpc2FibGVkXCI6IGFyaWFBdHRyKCFjZWxsU3RhdGUuaXNTZWxlY3RhYmxlKSxcbiAgICAgICAgXCJkYXRhLWRpc2FibGVkXCI6IGRhdGFBdHRyKCFjZWxsU3RhdGUuaXNTZWxlY3RhYmxlKSxcbiAgICAgICAgXCJkYXRhLWZvY3VzZWRcIjogZGF0YUF0dHIoY2VsbFN0YXRlLmlzRm9jdXNlZCksXG4gICAgICAgIFwiYXJpYS1sYWJlbFwiOiBjZWxsU3RhdGUudmFsdWVUZXh0LFxuICAgICAgICBcImRhdGEtdmlld1wiOiBcIm1vbnRoXCIsXG4gICAgICAgIFwiZGF0YS12YWx1ZVwiOiB2YWx1ZSxcbiAgICAgICAgdGFiSW5kZXg6IGNlbGxTdGF0ZS5pc0ZvY3VzZWQgPyAwIDogLTEsXG4gICAgICAgIG9uQ2xpY2soKSB7XG4gICAgICAgICAgaWYgKCFjZWxsU3RhdGUuaXNTZWxlY3RhYmxlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIkNFTEwuQ0xJQ0tcIiwgY2VsbDogXCJtb250aFwiLCB2YWx1ZSB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZXRZZWFyVGFibGVDZWxsU3RhdGUsXG4gICAgZ2V0WWVhclRhYmxlQ2VsbFByb3BzKHByb3BzKSB7XG4gICAgICBjb25zdCB7IHZhbHVlLCBjb2x1bW5zIH0gPSBwcm9wcztcbiAgICAgIGNvbnN0IGNlbGxTdGF0ZSA9IGdldFllYXJUYWJsZUNlbGxTdGF0ZShwcm9wcyk7XG4gICAgICByZXR1cm4gbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgICAuLi5wYXJ0cy50YWJsZUNlbGwuYXR0cnMsXG4gICAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICAgIGNvbFNwYW46IGNvbHVtbnMsXG4gICAgICAgIHJvbGU6IFwiZ3JpZGNlbGxcIixcbiAgICAgICAgXCJhcmlhLXNlbGVjdGVkXCI6IGFyaWFBdHRyKGNlbGxTdGF0ZS5pc1NlbGVjdGVkKSxcbiAgICAgICAgXCJkYXRhLXNlbGVjdGVkXCI6IGRhdGFBdHRyKGNlbGxTdGF0ZS5pc1NlbGVjdGVkKSxcbiAgICAgICAgXCJhcmlhLWRpc2FibGVkXCI6IGFyaWFBdHRyKCFjZWxsU3RhdGUuaXNTZWxlY3RhYmxlKSxcbiAgICAgICAgXCJkYXRhLXZhbHVlXCI6IHZhbHVlXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdldFllYXJUYWJsZUNlbGxUcmlnZ2VyUHJvcHMocHJvcHMpIHtcbiAgICAgIGNvbnN0IHsgdmFsdWUgfSA9IHByb3BzO1xuICAgICAgY29uc3QgY2VsbFN0YXRlID0gZ2V0WWVhclRhYmxlQ2VsbFN0YXRlKHByb3BzKTtcbiAgICAgIHJldHVybiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICAgIC4uLnBhcnRzLnRhYmxlQ2VsbFRyaWdnZXIuYXR0cnMsXG4gICAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICAgIHJvbGU6IFwiYnV0dG9uXCIsXG4gICAgICAgIGlkOiBkb20uZ2V0Q2VsbFRyaWdnZXJJZChzdGF0ZS5jb250ZXh0LCB2YWx1ZS50b1N0cmluZygpKSxcbiAgICAgICAgXCJkYXRhLXNlbGVjdGVkXCI6IGRhdGFBdHRyKGNlbGxTdGF0ZS5pc1NlbGVjdGVkKSxcbiAgICAgICAgXCJkYXRhLWZvY3VzZWRcIjogZGF0YUF0dHIoY2VsbFN0YXRlLmlzRm9jdXNlZCksXG4gICAgICAgIFwiYXJpYS1kaXNhYmxlZFwiOiBhcmlhQXR0cighY2VsbFN0YXRlLmlzU2VsZWN0YWJsZSksXG4gICAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cighY2VsbFN0YXRlLmlzU2VsZWN0YWJsZSksXG4gICAgICAgIFwiYXJpYS1sYWJlbFwiOiBjZWxsU3RhdGUudmFsdWVUZXh0LFxuICAgICAgICBcImRhdGEtdmFsdWVcIjogdmFsdWUsXG4gICAgICAgIFwiZGF0YS12aWV3XCI6IFwieWVhclwiLFxuICAgICAgICB0YWJJbmRleDogY2VsbFN0YXRlLmlzRm9jdXNlZCA/IDAgOiAtMSxcbiAgICAgICAgb25DbGljaygpIHtcbiAgICAgICAgICBpZiAoIWNlbGxTdGF0ZS5pc1NlbGVjdGFibGUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgc2VuZCh7IHR5cGU6IFwiQ0VMTC5DTElDS1wiLCBjZWxsOiBcInllYXJcIiwgdmFsdWUgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0TmV4dFRyaWdnZXJQcm9wcyhwcm9wcyA9IHt9KSB7XG4gICAgICBjb25zdCB7IHZpZXcgPSBcImRheVwiIH0gPSBwcm9wcztcbiAgICAgIHJldHVybiBub3JtYWxpemUuYnV0dG9uKHtcbiAgICAgICAgLi4ucGFydHMubmV4dFRyaWdnZXIuYXR0cnMsXG4gICAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICAgIGlkOiBkb20uZ2V0TmV4dFRyaWdnZXJJZChzdGF0ZS5jb250ZXh0LCB2aWV3KSxcbiAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgXCJhcmlhLWxhYmVsXCI6IGdldFByZXZUcmlnZ2VyTGFiZWwodmlldyksXG4gICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCB8fCAhc3RhdGUuY29udGV4dC5pc05leHRWaXNpYmxlUmFuZ2VWYWxpZCxcbiAgICAgICAgb25DbGljaygpIHtcbiAgICAgICAgICBzZW5kKHsgdHlwZTogXCJHT1RPLk5FWFRcIiwgdmlldyB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZXRQcmV2VHJpZ2dlclByb3BzKHByb3BzID0ge30pIHtcbiAgICAgIGNvbnN0IHsgdmlldyA9IFwiZGF5XCIgfSA9IHByb3BzO1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZS5idXR0b24oe1xuICAgICAgICAuLi5wYXJ0cy5wcmV2VHJpZ2dlci5hdHRycyxcbiAgICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgICAgaWQ6IGRvbS5nZXRQcmV2VHJpZ2dlcklkKHN0YXRlLmNvbnRleHQsIHZpZXcpLFxuICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgICBcImFyaWEtbGFiZWxcIjogZ2V0TmV4dFRyaWdnZXJMYWJlbCh2aWV3KSxcbiAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkIHx8ICFzdGF0ZS5jb250ZXh0LmlzUHJldlZpc2libGVSYW5nZVZhbGlkLFxuICAgICAgICBvbkNsaWNrKCkge1xuICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIkdPVE8uUFJFVlwiLCB2aWV3IH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGNsZWFyVHJpZ2dlclByb3BzOiBub3JtYWxpemUuYnV0dG9uKHtcbiAgICAgIC4uLnBhcnRzLmNsZWFyVHJpZ2dlci5hdHRycyxcbiAgICAgIGlkOiBkb20uZ2V0Q2xlYXJUcmlnZ2VySWQoc3RhdGUuY29udGV4dCksXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgIFwiYXJpYS1sYWJlbFwiOiBcIkNsZWFyIGRhdGVzXCIsXG4gICAgICBoaWRkZW46ICFzdGF0ZS5jb250ZXh0LnZhbHVlLmxlbmd0aCxcbiAgICAgIG9uQ2xpY2soKSB7XG4gICAgICAgIHNlbmQoXCJWQUxVRS5DTEVBUlwiKTtcbiAgICAgIH1cbiAgICB9KSxcbiAgICB0cmlnZ2VyUHJvcHM6IG5vcm1hbGl6ZS5idXR0b24oe1xuICAgICAgLi4ucGFydHMudHJpZ2dlci5hdHRycyxcbiAgICAgIGlkOiBkb20uZ2V0VHJpZ2dlcklkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICBcImRhdGEtcGxhY2VtZW50XCI6IGN1cnJlbnRQbGFjZW1lbnQsXG4gICAgICBcImFyaWEtbGFiZWxcIjogaXNPcGVuID8gXCJDbG9zZSBjYWxlbmRhclwiIDogXCJPcGVuIGNhbGVuZGFyXCIsXG4gICAgICBcImFyaWEtY29udHJvbHNcIjogZG9tLmdldENvbnRlbnRJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIFwiZGF0YS1zdGF0ZVwiOiBpc09wZW4gPyBcIm9wZW5cIiA6IFwiY2xvc2VkXCIsXG4gICAgICBcImFyaWEtaGFzcG9wdXBcIjogXCJncmlkXCIsXG4gICAgICBkaXNhYmxlZCxcbiAgICAgIG9uQ2xpY2soKSB7XG4gICAgICAgIGlmICghaXNJbnRlcmFjdGl2ZSlcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIHNlbmQoXCJUUklHR0VSLkNMSUNLXCIpO1xuICAgICAgfVxuICAgIH0pLFxuICAgIGdldFZpZXdUcmlnZ2VyUHJvcHMocHJvcHMgPSB7fSkge1xuICAgICAgY29uc3QgeyB2aWV3ID0gXCJkYXlcIiB9ID0gcHJvcHM7XG4gICAgICByZXR1cm4gbm9ybWFsaXplLmJ1dHRvbih7XG4gICAgICAgIC4uLnBhcnRzLnZpZXdUcmlnZ2VyLmF0dHJzLFxuICAgICAgICBcImRhdGEtdmlld1wiOiB2aWV3LFxuICAgICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgICBpZDogZG9tLmdldFZpZXdUcmlnZ2VySWQoc3RhdGUuY29udGV4dCwgdmlldyksXG4gICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgIGRpc2FibGVkLFxuICAgICAgICBcImFyaWEtbGFiZWxcIjogZ2V0Vmlld1RyaWdnZXJMYWJlbChzdGF0ZS5jb250ZXh0LnZpZXcpLFxuICAgICAgICBvbkNsaWNrKCkge1xuICAgICAgICAgIGlmICghaXNJbnRlcmFjdGl2ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBzZW5kKFwiVklFVy5DSEFOR0VcIik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0Vmlld0NvbnRyb2xQcm9wcyhwcm9wcyA9IHt9KSB7XG4gICAgICBjb25zdCB7IHZpZXcgPSBcImRheVwiIH0gPSBwcm9wcztcbiAgICAgIHJldHVybiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICAgIC4uLnBhcnRzLnZpZXdDb250cm9sLmF0dHJzLFxuICAgICAgICBcImRhdGEtdmlld1wiOiB2aWV3LFxuICAgICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGlucHV0UHJvcHM6IG5vcm1hbGl6ZS5pbnB1dCh7XG4gICAgICAuLi5wYXJ0cy5pbnB1dC5hdHRycyxcbiAgICAgIGlkOiBkb20uZ2V0SW5wdXRJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIGF1dG9Db21wbGV0ZTogXCJvZmZcIixcbiAgICAgIGF1dG9Db3JyZWN0OiBcIm9mZlwiLFxuICAgICAgc3BlbGxDaGVjazogXCJmYWxzZVwiLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIG5hbWU6IHN0YXRlLmNvbnRleHQubmFtZSxcbiAgICAgIFwiZGF0YS1zdGF0ZVwiOiBpc09wZW4gPyBcIm9wZW5cIiA6IFwiY2xvc2VkXCIsXG4gICAgICByZWFkT25seSxcbiAgICAgIGRpc2FibGVkLFxuICAgICAgcGxhY2Vob2xkZXI6IGdldElucHV0UGxhY2Vob2xkZXIobG9jYWxlKSxcbiAgICAgIGRlZmF1bHRWYWx1ZTogc3RhdGUuY29udGV4dC5pbnB1dFZhbHVlLFxuICAgICAgb25CZWZvcmVJbnB1dChldmVudCkge1xuICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGdldE5hdGl2ZUV2ZW50KGV2ZW50KTtcbiAgICAgICAgaWYgKCFpc1ZhbGlkQ2hhcmFjdGVyKGRhdGEsIHNlcGFyYXRvcikpIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgb25Gb2N1cygpIHtcbiAgICAgICAgc2VuZChcIklOUFVULkZPQ1VTXCIpO1xuICAgICAgfSxcbiAgICAgIG9uQmx1cihldmVudCkge1xuICAgICAgICBzZW5kKHsgdHlwZTogXCJJTlBVVC5CTFVSXCIsIHZhbHVlOiBldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgfSxcbiAgICAgIG9uS2V5RG93bihldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQua2V5ICE9PSBcIkVudGVyXCIgfHwgIWlzSW50ZXJhY3RpdmUpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoaXNVbmF2YWlsYWJsZShzdGF0ZS5jb250ZXh0LmZvY3VzZWRWYWx1ZSkpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBzZW5kKHsgdHlwZTogXCJJTlBVVC5FTlRFUlwiLCB2YWx1ZTogZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZSB9KTtcbiAgICAgIH0sXG4gICAgICBvbkNoYW5nZShldmVudCkge1xuICAgICAgICBjb25zdCB7IHZhbHVlIH0gPSBldmVudC50YXJnZXQ7XG4gICAgICAgIHNlbmQoeyB0eXBlOiBcIklOUFVULkNIQU5HRVwiLCB2YWx1ZTogZW5zdXJlVmFsaWRDaGFyYWN0ZXJzKHZhbHVlLCBzZXBhcmF0b3IpIH0pO1xuICAgICAgfVxuICAgIH0pLFxuICAgIG1vbnRoU2VsZWN0UHJvcHM6IG5vcm1hbGl6ZS5zZWxlY3Qoe1xuICAgICAgLi4ucGFydHMubW9udGhTZWxlY3QuYXR0cnMsXG4gICAgICBpZDogZG9tLmdldE1vbnRoU2VsZWN0SWQoc3RhdGUuY29udGV4dCksXG4gICAgICBcImFyaWEtbGFiZWxcIjogXCJTZWxlY3QgbW9udGhcIixcbiAgICAgIGRpc2FibGVkLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIGRlZmF1bHRWYWx1ZTogZm9jdXNlZFZhbHVlLm1vbnRoLFxuICAgICAgb25DaGFuZ2UoZXZlbnQpIHtcbiAgICAgICAgZm9jdXNNb250aChOdW1iZXIoZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZSkpO1xuICAgICAgfVxuICAgIH0pLFxuICAgIHllYXJTZWxlY3RQcm9wczogbm9ybWFsaXplLnNlbGVjdCh7XG4gICAgICAuLi5wYXJ0cy55ZWFyU2VsZWN0LmF0dHJzLFxuICAgICAgaWQ6IGRvbS5nZXRZZWFyU2VsZWN0SWQoc3RhdGUuY29udGV4dCksXG4gICAgICBkaXNhYmxlZCxcbiAgICAgIFwiYXJpYS1sYWJlbFwiOiBcIlNlbGVjdCB5ZWFyXCIsXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgZGVmYXVsdFZhbHVlOiBmb2N1c2VkVmFsdWUueWVhcixcbiAgICAgIG9uQ2hhbmdlKGV2ZW50KSB7XG4gICAgICAgIGZvY3VzWWVhcihOdW1iZXIoZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZSkpO1xuICAgICAgfVxuICAgIH0pLFxuICAgIHBvc2l0aW9uZXJQcm9wczogbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgaWQ6IGRvbS5nZXRQb3NpdGlvbmVySWQoc3RhdGUuY29udGV4dCksXG4gICAgICAuLi5wYXJ0cy5wb3NpdGlvbmVyLmF0dHJzLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIHN0eWxlOiBwb3BwZXJTdHlsZXMuZmxvYXRpbmdcbiAgICB9KVxuICB9O1xufVxuXG4vLyBzcmMvZGF0ZS1waWNrZXIubWFjaGluZS50c1xuaW1wb3J0IHsgRGF0ZUZvcm1hdHRlciBhcyBEYXRlRm9ybWF0dGVyMyB9IGZyb20gXCJAaW50ZXJuYXRpb25hbGl6ZWQvZGF0ZVwiO1xuaW1wb3J0IHsgY3JlYXRlTWFjaGluZSwgZ3VhcmRzIH0gZnJvbSBcIkB6YWctanMvY29yZVwiO1xuaW1wb3J0IHtcbiAgYWxpZ25EYXRlLFxuICBjb25zdHJhaW5WYWx1ZSBhcyBjb25zdHJhaW5WYWx1ZTIsXG4gIGZvcm1hdFNlbGVjdGVkRGF0ZSxcbiAgZ2V0QWRqdXN0ZWREYXRlRm4sXG4gIGdldERlY2FkZVJhbmdlIGFzIGdldERlY2FkZVJhbmdlMixcbiAgZ2V0RW5kRGF0ZSxcbiAgZ2V0TmV4dERheSxcbiAgZ2V0TmV4dFNlY3Rpb24sXG4gIGdldFByZXZpb3VzRGF5LFxuICBnZXRQcmV2aW91c1NlY3Rpb24sXG4gIGdldFRvZGF5RGF0ZSBhcyBnZXRUb2RheURhdGUyLFxuICBpc0RhdGVFcXVhbCBhcyBpc0RhdGVFcXVhbDIsXG4gIGlzTmV4dFZpc2libGVSYW5nZUludmFsaWQsXG4gIGlzUHJldmlvdXNWaXNpYmxlUmFuZ2VJbnZhbGlkLFxuICBwYXJzZURhdGVTdHJpbmdcbn0gZnJvbSBcIkB6YWctanMvZGF0ZS11dGlsc1wiO1xuaW1wb3J0IHsgdHJhY2tEaXNtaXNzYWJsZUVsZW1lbnQgfSBmcm9tIFwiQHphZy1qcy9kaXNtaXNzYWJsZVwiO1xuaW1wb3J0IHsgcmFmIH0gZnJvbSBcIkB6YWctanMvZG9tLXF1ZXJ5XCI7XG5pbXBvcnQgeyBjcmVhdGVMaXZlUmVnaW9uIH0gZnJvbSBcIkB6YWctanMvbGl2ZS1yZWdpb25cIjtcbmltcG9ydCB7IGdldFBsYWNlbWVudCB9IGZyb20gXCJAemFnLWpzL3BvcHBlclwiO1xuaW1wb3J0IHsgZGlzYWJsZVRleHRTZWxlY3Rpb24sIHJlc3RvcmVUZXh0U2VsZWN0aW9uIH0gZnJvbSBcIkB6YWctanMvdGV4dC1zZWxlY3Rpb25cIjtcbmltcG9ydCB7IGNvbXBhY3QsIGlzRXF1YWwgfSBmcm9tIFwiQHphZy1qcy91dGlsc1wiO1xudmFyIHsgYW5kIH0gPSBndWFyZHM7XG52YXIgZ2V0SW5pdGlhbENvbnRleHQgPSAoY3R4KSA9PiB7XG4gIGNvbnN0IGxvY2FsZSA9IGN0eC5sb2NhbGUgfHwgXCJlbi1VU1wiO1xuICBjb25zdCB0aW1lWm9uZSA9IGN0eC50aW1lWm9uZSB8fCBcIlVUQ1wiO1xuICBjb25zdCBzZWxlY3Rpb25Nb2RlID0gY3R4LnNlbGVjdGlvbk1vZGUgfHwgXCJzaW5nbGVcIjtcbiAgY29uc3QgbnVtT2ZNb250aHMgPSBjdHgubnVtT2ZNb250aHMgfHwgMTtcbiAgbGV0IHZhbHVlID0gc29ydERhdGVzKGN0eC52YWx1ZSB8fCBbXSk7XG4gIHZhbHVlID0gdmFsdWUubWFwKChkYXRlKSA9PiBjb25zdHJhaW5WYWx1ZTIoZGF0ZSwgY3R4Lm1pbiwgY3R4Lm1heCkpO1xuICBsZXQgZm9jdXNlZFZhbHVlID0gdmFsdWVbMF0gfHwgY3R4LmZvY3VzZWRWYWx1ZSB8fCBnZXRUb2RheURhdGUyKHRpbWVab25lKTtcbiAgZm9jdXNlZFZhbHVlID0gY29uc3RyYWluVmFsdWUyKGZvY3VzZWRWYWx1ZSwgY3R4Lm1pbiwgY3R4Lm1heCk7XG4gIGNvbnN0IHN0YXJ0VmFsdWUgPSBhbGlnbkRhdGUoZm9jdXNlZFZhbHVlLCBcInN0YXJ0XCIsIHsgbW9udGhzOiBudW1PZk1vbnRocyB9LCBsb2NhbGUpO1xuICBjb25zdCBpbnB1dFZhbHVlID0gY3R4LmZvcm1hdD8uKHZhbHVlKSA/PyBmb3JtYXRWYWx1ZSh7IGxvY2FsZSwgdGltZVpvbmUsIHNlbGVjdGlvbk1vZGUsIHZhbHVlIH0pO1xuICByZXR1cm4ge1xuICAgIGxvY2FsZSxcbiAgICBudW1PZk1vbnRocyxcbiAgICBmb2N1c2VkVmFsdWUsXG4gICAgc3RhcnRWYWx1ZSxcbiAgICB0aW1lWm9uZSxcbiAgICB2YWx1ZSxcbiAgICBpbnB1dFZhbHVlLFxuICAgIHNlbGVjdGlvbk1vZGUsXG4gICAgdmlldzogXCJkYXlcIixcbiAgICBhY3RpdmVJbmRleDogMCxcbiAgICBob3ZlcmVkVmFsdWU6IG51bGwsXG4gICAgY2xvc2VPblNlbGVjdDogdHJ1ZSxcbiAgICAuLi5jdHgsXG4gICAgcG9zaXRpb25pbmc6IHtcbiAgICAgIHBsYWNlbWVudDogXCJib3R0b21cIixcbiAgICAgIC4uLmN0eC5wb3NpdGlvbmluZ1xuICAgIH1cbiAgfTtcbn07XG5mdW5jdGlvbiBtYWNoaW5lKHVzZXJDb250ZXh0KSB7XG4gIGNvbnN0IGN0eCA9IGNvbXBhY3QodXNlckNvbnRleHQpO1xuICByZXR1cm4gY3JlYXRlTWFjaGluZShcbiAgICB7XG4gICAgICBpZDogXCJkYXRlcGlja2VyXCIsXG4gICAgICBpbml0aWFsOiBjdHgub3BlbiA/IFwib3BlblwiIDogXCJpZGxlXCIsXG4gICAgICBjb250ZXh0OiBnZXRJbml0aWFsQ29udGV4dChjdHgpLFxuICAgICAgY29tcHV0ZWQ6IHtcbiAgICAgICAgdmFsdWVBc1N0cmluZzogKGN0eDIpID0+IGN0eDIudmFsdWUubWFwKChkYXRlKSA9PiBmb3JtYXRTZWxlY3RlZERhdGUoZGF0ZSwgbnVsbCwgY3R4Mi5sb2NhbGUsIGN0eDIudGltZVpvbmUpKSxcbiAgICAgICAgaXNJbnRlcmFjdGl2ZTogKGN0eDIpID0+ICFjdHgyLmRpc2FibGVkICYmICFjdHgyLnJlYWRPbmx5LFxuICAgICAgICB2aXNpYmxlRHVyYXRpb246IChjdHgyKSA9PiAoeyBtb250aHM6IGN0eDIubnVtT2ZNb250aHMgfSksXG4gICAgICAgIGVuZFZhbHVlOiAoY3R4MikgPT4gZ2V0RW5kRGF0ZShjdHgyLnN0YXJ0VmFsdWUsIGN0eDIudmlzaWJsZUR1cmF0aW9uKSxcbiAgICAgICAgdmlzaWJsZVJhbmdlOiAoY3R4MikgPT4gKHsgc3RhcnQ6IGN0eDIuc3RhcnRWYWx1ZSwgZW5kOiBjdHgyLmVuZFZhbHVlIH0pLFxuICAgICAgICB2aXNpYmxlUmFuZ2VUZXh0KGN0eDIpIHtcbiAgICAgICAgICBjb25zdCBmb3JtYXR0ZXIgPSBuZXcgRGF0ZUZvcm1hdHRlcjMoY3R4Mi5sb2NhbGUsIHsgbW9udGg6IFwibG9uZ1wiLCB5ZWFyOiBcIm51bWVyaWNcIiwgdGltZVpvbmU6IGN0eDIudGltZVpvbmUgfSk7XG4gICAgICAgICAgY29uc3Qgc3RhcnQgPSBmb3JtYXR0ZXIuZm9ybWF0KGN0eDIuc3RhcnRWYWx1ZS50b0RhdGUoY3R4Mi50aW1lWm9uZSkpO1xuICAgICAgICAgIGNvbnN0IGVuZCA9IGZvcm1hdHRlci5mb3JtYXQoY3R4Mi5lbmRWYWx1ZS50b0RhdGUoY3R4Mi50aW1lWm9uZSkpO1xuICAgICAgICAgIGNvbnN0IGZvcm1hdHRlZCA9IGN0eDIuc2VsZWN0aW9uTW9kZSA9PT0gXCJyYW5nZVwiID8gYCR7c3RhcnR9IC0gJHtlbmR9YCA6IHN0YXJ0O1xuICAgICAgICAgIHJldHVybiB7IHN0YXJ0LCBlbmQsIGZvcm1hdHRlZCB9O1xuICAgICAgICB9LFxuICAgICAgICBpc1ByZXZWaXNpYmxlUmFuZ2VWYWxpZDogKGN0eDIpID0+ICFpc1ByZXZpb3VzVmlzaWJsZVJhbmdlSW52YWxpZChjdHgyLnN0YXJ0VmFsdWUsIGN0eDIubWluLCBjdHgyLm1heCksXG4gICAgICAgIGlzTmV4dFZpc2libGVSYW5nZVZhbGlkOiAoY3R4MikgPT4gIWlzTmV4dFZpc2libGVSYW5nZUludmFsaWQoY3R4Mi5lbmRWYWx1ZSwgY3R4Mi5taW4sIGN0eDIubWF4KVxuICAgICAgfSxcbiAgICAgIGFjdGl2aXRpZXM6IFtcInNldHVwTGl2ZVJlZ2lvblwiXSxcbiAgICAgIHdhdGNoOiB7XG4gICAgICAgIGxvY2FsZTogW1wic2V0U3RhcnRWYWx1ZVwiLCBcInNldElucHV0VmFsdWVcIl0sXG4gICAgICAgIGZvY3VzZWRWYWx1ZTogW1xuICAgICAgICAgIFwiYWRqdXN0U3RhcnREYXRlXCIsXG4gICAgICAgICAgXCJzeW5jTW9udGhTZWxlY3RFbGVtZW50XCIsXG4gICAgICAgICAgXCJzeW5jWWVhclNlbGVjdEVsZW1lbnRcIixcbiAgICAgICAgICBcImZvY3VzQWN0aXZlQ2VsbElmTmVlZGVkXCIsXG4gICAgICAgICAgXCJzZXRIb3ZlcmVkVmFsdWVJZktleWJvYXJkXCJcbiAgICAgICAgXSxcbiAgICAgICAgdmFsdWU6IFtcInNldElucHV0VmFsdWVcIl0sXG4gICAgICAgIHZhbHVlQXNTdHJpbmc6IFtcImFubm91bmNlVmFsdWVUZXh0XCJdLFxuICAgICAgICBpbnB1dFZhbHVlOiBbXCJzeW5jSW5wdXRFbGVtZW50XCJdLFxuICAgICAgICB2aWV3OiBbXCJmb2N1c0FjdGl2ZUNlbGxcIl0sXG4gICAgICAgIG9wZW46IFtcInRvZ2dsZVZpc2liaWxpdHlcIl1cbiAgICAgIH0sXG4gICAgICBvbjoge1xuICAgICAgICBcIlZBTFVFLlNFVFwiOiB7XG4gICAgICAgICAgYWN0aW9uczogW1wic2V0U2VsZWN0ZWREYXRlXCIsIFwic2V0Rm9jdXNlZERhdGVcIl1cbiAgICAgICAgfSxcbiAgICAgICAgXCJWSUVXLlNFVFwiOiB7XG4gICAgICAgICAgYWN0aW9uczogW1wic2V0Vmlld1wiXVxuICAgICAgICB9LFxuICAgICAgICBcIkZPQ1VTLlNFVFwiOiB7XG4gICAgICAgICAgYWN0aW9uczogW1wic2V0Rm9jdXNlZERhdGVcIl1cbiAgICAgICAgfSxcbiAgICAgICAgXCJWQUxVRS5DTEVBUlwiOiB7XG4gICAgICAgICAgYWN0aW9uczogW1wiY2xlYXJTZWxlY3RlZERhdGVcIiwgXCJjbGVhckZvY3VzZWREYXRlXCIsIFwiZm9jdXNJbnB1dEVsZW1lbnRcIl1cbiAgICAgICAgfSxcbiAgICAgICAgXCJHT1RPLk5FWFRcIjogW1xuICAgICAgICAgIHsgZ3VhcmQ6IFwiaXNZZWFyVmlld1wiLCBhY3Rpb25zOiBbXCJmb2N1c05leHREZWNhZGVcIiwgXCJhbm5vdW5jZVZpc2libGVSYW5nZVwiXSB9LFxuICAgICAgICAgIHsgZ3VhcmQ6IFwiaXNNb250aFZpZXdcIiwgYWN0aW9uczogW1wiZm9jdXNOZXh0WWVhclwiLCBcImFubm91bmNlVmlzaWJsZVJhbmdlXCJdIH0sXG4gICAgICAgICAgeyBhY3Rpb25zOiBbXCJmb2N1c05leHRQYWdlXCJdIH1cbiAgICAgICAgXSxcbiAgICAgICAgXCJHT1RPLlBSRVZcIjogW1xuICAgICAgICAgIHsgZ3VhcmQ6IFwiaXNZZWFyVmlld1wiLCBhY3Rpb25zOiBbXCJmb2N1c1ByZXZpb3VzRGVjYWRlXCIsIFwiYW5ub3VuY2VWaXNpYmxlUmFuZ2VcIl0gfSxcbiAgICAgICAgICB7IGd1YXJkOiBcImlzTW9udGhWaWV3XCIsIGFjdGlvbnM6IFtcImZvY3VzUHJldmlvdXNZZWFyXCIsIFwiYW5ub3VuY2VWaXNpYmxlUmFuZ2VcIl0gfSxcbiAgICAgICAgICB7IGFjdGlvbnM6IFtcImZvY3VzUHJldmlvdXNQYWdlXCJdIH1cbiAgICAgICAgXVxuICAgICAgfSxcbiAgICAgIHN0YXRlczoge1xuICAgICAgICBpZGxlOiB7XG4gICAgICAgICAgdGFnczogXCJjbG9zZWRcIixcbiAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgXCJJTlBVVC5GT0NVU1wiOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJmb2N1c2VkXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIlRSSUdHRVIuQ0xJQ0tcIjoge1xuICAgICAgICAgICAgICB0YXJnZXQ6IFwib3BlblwiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJmb2N1c0ZpcnN0U2VsZWN0ZWREYXRlXCIsIFwiZm9jdXNBY3RpdmVDZWxsXCIsIFwiaW52b2tlT25PcGVuXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgT1BFTjoge1xuICAgICAgICAgICAgICB0YXJnZXQ6IFwib3BlblwiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJpbnZva2VPbk9wZW5cIl1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGZvY3VzZWQ6IHtcbiAgICAgICAgICB0YWdzOiBcImNsb3NlZFwiLFxuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBcIlRSSUdHRVIuQ0xJQ0tcIjoge1xuICAgICAgICAgICAgICB0YXJnZXQ6IFwib3BlblwiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRWaWV3VG9EYXlcIiwgXCJmb2N1c0ZpcnN0U2VsZWN0ZWREYXRlXCIsIFwiZm9jdXNBY3RpdmVDZWxsXCIsIFwiaW52b2tlT25PcGVuXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJJTlBVVC5DSEFOR0VcIjoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJmb2N1c1BhcnNlZERhdGVcIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIklOUFVULkVOVEVSXCI6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wiZm9jdXNQYXJzZWREYXRlXCIsIFwic2VsZWN0Rm9jdXNlZERhdGVcIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIklOUFVULkJMVVJcIjoge1xuICAgICAgICAgICAgICB0YXJnZXQ6IFwiaWRsZVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJDRUxMLkZPQ1VTXCI6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcIm9wZW5cIixcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wic2V0Vmlld1wiLCBcImZvY3VzQWN0aXZlQ2VsbFwiLCBcImludm9rZU9uT3BlblwiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIE9QRU46IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcIm9wZW5cIixcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wiaW52b2tlT25PcGVuXCJdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvcGVuOiB7XG4gICAgICAgICAgdGFnczogXCJvcGVuXCIsXG4gICAgICAgICAgYWN0aXZpdGllczogW1widHJhY2tEaXNtaXNzYWJsZUVsZW1lbnRcIiwgXCJ0cmFja1Bvc2l0aW9uaW5nXCJdLFxuICAgICAgICAgIGV4aXQ6IFtcImNsZWFySG92ZXJlZERhdGVcIiwgXCJyZXNldFZpZXdcIl0sXG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIFwiSU5QVVQuQ0hBTkdFXCI6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wiZm9jdXNQYXJzZWREYXRlXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJDRUxMLkNMSUNLXCI6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGd1YXJkOiBcImlzTW9udGhWaWV3XCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogW1wic2V0Rm9jdXNlZE1vbnRoXCIsIFwic2V0Vmlld1RvRGF5XCJdXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBndWFyZDogXCJpc1llYXJWaWV3XCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogW1wic2V0Rm9jdXNlZFllYXJcIiwgXCJzZXRWaWV3VG9Nb250aFwiXVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ3VhcmQ6IGFuZChcImlzUmFuZ2VQaWNrZXJcIiwgXCJoYXNTZWxlY3RlZFJhbmdlXCIpLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldFN0YXJ0SW5kZXhcIiwgXCJjbGVhclNlbGVjdGVkRGF0ZVwiLCBcInNldEZvY3VzZWREYXRlXCIsIFwic2V0U2VsZWN0ZWREYXRlXCIsIFwic2V0RW5kSW5kZXhcIl1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgLy8gPT09IEdyb3VwZWQgdHJhbnNpdGlvbnMgKGJhc2VkIG9uIGBjbG9zZU9uU2VsZWN0YCkgPT09XG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBndWFyZDogYW5kKFwiaXNSYW5nZVBpY2tlclwiLCBcImlzU2VsZWN0aW5nRW5kRGF0ZVwiLCBcImNsb3NlT25TZWxlY3RcIiksXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBcImZvY3VzZWRcIixcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXG4gICAgICAgICAgICAgICAgICBcInNldEZvY3VzZWREYXRlXCIsXG4gICAgICAgICAgICAgICAgICBcInNldFNlbGVjdGVkRGF0ZVwiLFxuICAgICAgICAgICAgICAgICAgXCJzZXRTdGFydEluZGV4XCIsXG4gICAgICAgICAgICAgICAgICBcImNsZWFySG92ZXJlZERhdGVcIixcbiAgICAgICAgICAgICAgICAgIFwiZm9jdXNJbnB1dEVsZW1lbnRcIixcbiAgICAgICAgICAgICAgICAgIFwiaW52b2tlT25DbG9zZVwiXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ3VhcmQ6IGFuZChcImlzUmFuZ2VQaWNrZXJcIiwgXCJpc1NlbGVjdGluZ0VuZERhdGVcIiksXG4gICAgICAgICAgICAgICAgYWN0aW9uczogW1wic2V0Rm9jdXNlZERhdGVcIiwgXCJzZXRTZWxlY3RlZERhdGVcIiwgXCJzZXRTdGFydEluZGV4XCIsIFwiY2xlYXJIb3ZlcmVkRGF0ZVwiXVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAvLyA9PT1cbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGd1YXJkOiBcImlzUmFuZ2VQaWNrZXJcIixcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRGb2N1c2VkRGF0ZVwiLCBcInNldFNlbGVjdGVkRGF0ZVwiLCBcInNldEVuZEluZGV4XCJdXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBndWFyZDogXCJpc011bHRpUGlja2VyXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogW1wic2V0Rm9jdXNlZERhdGVcIiwgXCJ0b2dnbGVTZWxlY3RlZERhdGVcIl1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgLy8gPT09IEdyb3VwZWQgdHJhbnNpdGlvbnMgKGJhc2VkIG9uIGBjbG9zZU9uU2VsZWN0YCkgPT09XG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBndWFyZDogXCJjbG9zZU9uU2VsZWN0XCIsXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBcImZvY3VzZWRcIixcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRGb2N1c2VkRGF0ZVwiLCBcInNldFNlbGVjdGVkRGF0ZVwiLCBcImZvY3VzSW5wdXRFbGVtZW50XCIsIFwiaW52b2tlT25DbG9zZVwiXVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYWN0aW9uczogW1wic2V0Rm9jdXNlZERhdGVcIiwgXCJzZXRTZWxlY3RlZERhdGVcIl1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAvLyA9PT1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIkNFTEwuUE9JTlRFUl9NT1ZFXCI6IHtcbiAgICAgICAgICAgICAgZ3VhcmQ6IGFuZChcImlzUmFuZ2VQaWNrZXJcIiwgXCJpc1NlbGVjdGluZ0VuZERhdGVcIiksXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldEhvdmVyZWREYXRlXCIsIFwic2V0Rm9jdXNlZERhdGVcIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIlRBQkxFLlBPSU5URVJfTEVBVkVcIjoge1xuICAgICAgICAgICAgICBndWFyZDogXCJpc1JhbmdlUGlja2VyXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcImNsZWFySG92ZXJlZERhdGVcIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIlRBQkxFLlBPSU5URVJfRE9XTlwiOiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcImRpc2FibGVUZXh0U2VsZWN0aW9uXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJUQUJMRS5QT0lOVEVSX1VQXCI6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wiZW5hYmxlVGV4dFNlbGVjdGlvblwiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiVEFCTEUuRVNDQVBFXCI6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcImZvY3VzZWRcIixcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wic2V0Vmlld1RvRGF5XCIsIFwiZm9jdXNGaXJzdFNlbGVjdGVkRGF0ZVwiLCBcImZvY3VzVHJpZ2dlckVsZW1lbnRcIiwgXCJpbnZva2VPbkNsb3NlXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJUQUJMRS5FTlRFUlwiOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBndWFyZDogXCJpc01vbnRoVmlld1wiLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFwic2V0Vmlld1RvRGF5XCJcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGd1YXJkOiBcImlzWWVhclZpZXdcIixcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBcInNldFZpZXdUb01vbnRoXCJcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGd1YXJkOiBhbmQoXCJpc1JhbmdlUGlja2VyXCIsIFwiaGFzU2VsZWN0ZWRSYW5nZVwiKSxcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRTdGFydEluZGV4XCIsIFwiY2xlYXJTZWxlY3RlZERhdGVcIiwgXCJzZXRTZWxlY3RlZERhdGVcIiwgXCJzZXRFbmRJbmRleFwiXVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAvLyA9PT0gR3JvdXBlZCB0cmFuc2l0aW9ucyAoYmFzZWQgb24gYGNsb3NlT25TZWxlY3RgKSA9PT1cbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGd1YXJkOiBhbmQoXCJpc1JhbmdlUGlja2VyXCIsIFwiaXNTZWxlY3RpbmdFbmREYXRlXCIsIFwiY2xvc2VPblNlbGVjdFwiKSxcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiZm9jdXNlZFwiLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldFNlbGVjdGVkRGF0ZVwiLCBcInNldFN0YXJ0SW5kZXhcIiwgXCJmb2N1c0lucHV0RWxlbWVudFwiLCBcImludm9rZU9uQ2xvc2VcIl1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGd1YXJkOiBhbmQoXCJpc1JhbmdlUGlja2VyXCIsIFwiaXNTZWxlY3RpbmdFbmREYXRlXCIpLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldFNlbGVjdGVkRGF0ZVwiLCBcInNldFN0YXJ0SW5kZXhcIl1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgLy8gPT09XG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBndWFyZDogXCJpc1JhbmdlUGlja2VyXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogW1wic2V0U2VsZWN0ZWREYXRlXCIsIFwic2V0RW5kSW5kZXhcIiwgXCJmb2N1c05leHREYXlcIl1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGd1YXJkOiBcImlzTXVsdGlQaWNrZXJcIixcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJ0b2dnbGVTZWxlY3RlZERhdGVcIl1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgLy8gPT09IEdyb3VwZWQgdHJhbnNpdGlvbnMgKGJhc2VkIG9uIGBjbG9zZU9uU2VsZWN0YCkgPT09XG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBndWFyZDogXCJjbG9zZU9uU2VsZWN0XCIsXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBcImZvY3VzZWRcIixcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJzZWxlY3RGb2N1c2VkRGF0ZVwiLCBcImZvY3VzSW5wdXRFbGVtZW50XCIsIFwiaW52b2tlT25DbG9zZVwiXVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYWN0aW9uczogW1wic2VsZWN0Rm9jdXNlZERhdGVcIl1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAvLyA9PT1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIlRBQkxFLkFSUk9XX1JJR0hUXCI6IFtcbiAgICAgICAgICAgICAgeyBndWFyZDogXCJpc01vbnRoVmlld1wiLCBhY3Rpb25zOiBcImZvY3VzTmV4dE1vbnRoXCIgfSxcbiAgICAgICAgICAgICAgeyBndWFyZDogXCJpc1llYXJWaWV3XCIsIGFjdGlvbnM6IFwiZm9jdXNOZXh0WWVhclwiIH0sXG4gICAgICAgICAgICAgIHsgYWN0aW9uczogW1wiZm9jdXNOZXh0RGF5XCIsIFwic2V0SG92ZXJlZERhdGVcIl0gfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwiVEFCTEUuQVJST1dfTEVGVFwiOiBbXG4gICAgICAgICAgICAgIHsgZ3VhcmQ6IFwiaXNNb250aFZpZXdcIiwgYWN0aW9uczogXCJmb2N1c1ByZXZpb3VzTW9udGhcIiB9LFxuICAgICAgICAgICAgICB7IGd1YXJkOiBcImlzWWVhclZpZXdcIiwgYWN0aW9uczogXCJmb2N1c1ByZXZpb3VzWWVhclwiIH0sXG4gICAgICAgICAgICAgIHsgYWN0aW9uczogW1wiZm9jdXNQcmV2aW91c0RheVwiXSB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJUQUJMRS5BUlJPV19VUFwiOiBbXG4gICAgICAgICAgICAgIHsgZ3VhcmQ6IFwiaXNNb250aFZpZXdcIiwgYWN0aW9uczogXCJmb2N1c1ByZXZpb3VzTW9udGhDb2x1bW5cIiB9LFxuICAgICAgICAgICAgICB7IGd1YXJkOiBcImlzWWVhclZpZXdcIiwgYWN0aW9uczogXCJmb2N1c1ByZXZpb3VzWWVhckNvbHVtblwiIH0sXG4gICAgICAgICAgICAgIHsgYWN0aW9uczogW1wiZm9jdXNQcmV2aW91c1dlZWtcIl0gfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwiVEFCTEUuQVJST1dfRE9XTlwiOiBbXG4gICAgICAgICAgICAgIHsgZ3VhcmQ6IFwiaXNNb250aFZpZXdcIiwgYWN0aW9uczogXCJmb2N1c05leHRNb250aENvbHVtblwiIH0sXG4gICAgICAgICAgICAgIHsgZ3VhcmQ6IFwiaXNZZWFyVmlld1wiLCBhY3Rpb25zOiBcImZvY3VzTmV4dFllYXJDb2x1bW5cIiB9LFxuICAgICAgICAgICAgICB7IGFjdGlvbnM6IFtcImZvY3VzTmV4dFdlZWtcIl0gfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwiVEFCTEUuUEFHRV9VUFwiOiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcImZvY3VzUHJldmlvdXNTZWN0aW9uXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJUQUJMRS5QQUdFX0RPV05cIjoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJmb2N1c05leHRTZWN0aW9uXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJUQUJMRS5IT01FXCI6IFtcbiAgICAgICAgICAgICAgeyBndWFyZDogXCJpc01vbnRoVmlld1wiLCBhY3Rpb25zOiBbXCJmb2N1c0ZpcnN0TW9udGhcIl0gfSxcbiAgICAgICAgICAgICAgeyBndWFyZDogXCJpc1llYXJWaWV3XCIsIGFjdGlvbnM6IFtcImZvY3VzRmlyc3RZZWFyXCJdIH0sXG4gICAgICAgICAgICAgIHsgYWN0aW9uczogW1wiZm9jdXNTZWN0aW9uU3RhcnRcIl0gfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwiVEFCTEUuRU5EXCI6IFtcbiAgICAgICAgICAgICAgeyBndWFyZDogXCJpc01vbnRoVmlld1wiLCBhY3Rpb25zOiBbXCJmb2N1c0xhc3RNb250aFwiXSB9LFxuICAgICAgICAgICAgICB7IGd1YXJkOiBcImlzWWVhclZpZXdcIiwgYWN0aW9uczogW1wiZm9jdXNMYXN0WWVhclwiXSB9LFxuICAgICAgICAgICAgICB7IGFjdGlvbnM6IFtcImZvY3VzU2VjdGlvbkVuZFwiXSB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJUUklHR0VSLkNMSUNLXCI6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcImZvY3VzZWRcIixcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wiaW52b2tlT25DbG9zZVwiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiVklFVy5DSEFOR0VcIjogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ3VhcmQ6IFwiaXNEYXlWaWV3XCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogW1wic2V0Vmlld1RvTW9udGhcIl1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGd1YXJkOiBcImlzTW9udGhWaWV3XCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogW1wic2V0Vmlld1RvWWVhclwiXVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgRElTTUlTUzogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ3VhcmQ6IFwiaXNUYXJnZXRGb2N1c2FibGVcIixcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiaWRsZVwiLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldFN0YXJ0SW5kZXhcIiwgXCJpbnZva2VPbkNsb3NlXCJdXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiZm9jdXNlZFwiLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFtcImZvY3VzVHJpZ2dlckVsZW1lbnRcIiwgXCJzZXRTdGFydEluZGV4XCIsIFwiaW52b2tlT25DbG9zZVwiXVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgQ0xPU0U6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcImlkbGVcIixcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wic2V0U3RhcnRJbmRleFwiLCBcImludm9rZU9uQ2xvc2VcIl1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIGd1YXJkczoge1xuICAgICAgICBpc0RheVZpZXc6IChjdHgyLCBldnQpID0+IChldnQudmlldyB8fCBjdHgyLnZpZXcpID09PSBcImRheVwiLFxuICAgICAgICBpc01vbnRoVmlldzogKGN0eDIsIGV2dCkgPT4gKGV2dC52aWV3IHx8IGN0eDIudmlldykgPT09IFwibW9udGhcIixcbiAgICAgICAgaXNZZWFyVmlldzogKGN0eDIsIGV2dCkgPT4gKGV2dC52aWV3IHx8IGN0eDIudmlldykgPT09IFwieWVhclwiLFxuICAgICAgICBpc1JhbmdlUGlja2VyOiAoY3R4MikgPT4gY3R4Mi5zZWxlY3Rpb25Nb2RlID09PSBcInJhbmdlXCIsXG4gICAgICAgIGhhc1NlbGVjdGVkUmFuZ2U6IChjdHgyKSA9PiBjdHgyLnZhbHVlLmxlbmd0aCA9PT0gMixcbiAgICAgICAgaXNNdWx0aVBpY2tlcjogKGN0eDIpID0+IGN0eDIuc2VsZWN0aW9uTW9kZSA9PT0gXCJtdWx0aXBsZVwiLFxuICAgICAgICBpc1RhcmdldEZvY3VzYWJsZTogKF9jdHgsIGV2dCkgPT4gZXZ0LmZvY3VzYWJsZSxcbiAgICAgICAgaXNTZWxlY3RpbmdFbmREYXRlOiAoY3R4MikgPT4gY3R4Mi5hY3RpdmVJbmRleCA9PT0gMSxcbiAgICAgICAgY2xvc2VPblNlbGVjdDogKGN0eDIpID0+ICEhY3R4Mi5jbG9zZU9uU2VsZWN0XG4gICAgICB9LFxuICAgICAgYWN0aXZpdGllczoge1xuICAgICAgICB0cmFja1Bvc2l0aW9uaW5nKGN0eDIpIHtcbiAgICAgICAgICBjdHgyLmN1cnJlbnRQbGFjZW1lbnQgPSBjdHgyLnBvc2l0aW9uaW5nLnBsYWNlbWVudDtcbiAgICAgICAgICBjb25zdCBhbmNob3JFbCA9IGRvbS5nZXRDb250cm9sRWwoY3R4Mik7XG4gICAgICAgICAgY29uc3QgZ2V0UG9zaXRpb25lckVsID0gKCkgPT4gZG9tLmdldFBvc2l0aW9uZXJFbChjdHgyKTtcbiAgICAgICAgICByZXR1cm4gZ2V0UGxhY2VtZW50KGFuY2hvckVsLCBnZXRQb3NpdGlvbmVyRWwsIHtcbiAgICAgICAgICAgIC4uLmN0eDIucG9zaXRpb25pbmcsXG4gICAgICAgICAgICBkZWZlcjogdHJ1ZSxcbiAgICAgICAgICAgIG9uQ29tcGxldGUoZGF0YSkge1xuICAgICAgICAgICAgICBjdHgyLmN1cnJlbnRQbGFjZW1lbnQgPSBkYXRhLnBsYWNlbWVudDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkNsZWFudXAoKSB7XG4gICAgICAgICAgICAgIGN0eDIuY3VycmVudFBsYWNlbWVudCA9IHZvaWQgMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0dXBMaXZlUmVnaW9uKGN0eDIpIHtcbiAgICAgICAgICBjb25zdCBkb2MgPSBkb20uZ2V0RG9jKGN0eDIpO1xuICAgICAgICAgIGN0eDIuYW5ub3VuY2VyID0gY3JlYXRlTGl2ZVJlZ2lvbih7IGxldmVsOiBcImFzc2VydGl2ZVwiLCBkb2N1bWVudDogZG9jIH0pO1xuICAgICAgICAgIHJldHVybiAoKSA9PiBjdHgyLmFubm91bmNlcj8uZGVzdHJveT8uKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHRyYWNrRGlzbWlzc2FibGVFbGVtZW50KGN0eDIsIF9ldnQsIHsgc2VuZCB9KSB7XG4gICAgICAgICAgbGV0IGZvY3VzYWJsZSA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybiB0cmFja0Rpc21pc3NhYmxlRWxlbWVudChkb20uZ2V0Q29udGVudEVsKGN0eDIpLCB7XG4gICAgICAgICAgICBleGNsdWRlOiBbZG9tLmdldElucHV0RWwoY3R4MiksIGRvbS5nZXRUcmlnZ2VyRWwoY3R4MiksIGRvbS5nZXRDbGVhclRyaWdnZXJFbChjdHgyKV0sXG4gICAgICAgICAgICBvbkludGVyYWN0T3V0c2lkZShldmVudCkge1xuICAgICAgICAgICAgICBmb2N1c2FibGUgPSBldmVudC5kZXRhaWwuZm9jdXNhYmxlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uRGlzbWlzcygpIHtcbiAgICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwiRElTTUlTU1wiLCBzcmM6IFwiZGlzbWlzc2FibGVcIiwgZm9jdXNhYmxlIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uRXNjYXBlS2V5RG93bihldmVudCkge1xuICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJUQUJMRS5FU0NBUEVcIiwgc3JjOiBcImRpc21pc3NhYmxlXCIgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBhY3Rpb25zOiB7XG4gICAgICAgIHNldFZpZXdUb0RheShjdHgyKSB7XG4gICAgICAgICAgc2V0LnZpZXcoY3R4MiwgXCJkYXlcIik7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFZpZXdUb01vbnRoKGN0eDIpIHtcbiAgICAgICAgICBzZXQudmlldyhjdHgyLCBcIm1vbnRoXCIpO1xuICAgICAgICB9LFxuICAgICAgICBzZXRWaWV3VG9ZZWFyKGN0eDIpIHtcbiAgICAgICAgICBzZXQudmlldyhjdHgyLCBcInllYXJcIik7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFZpZXcoY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgc2V0LnZpZXcoY3R4MiwgZXZ0LmNlbGwpO1xuICAgICAgICB9LFxuICAgICAgICBhbm5vdW5jZVZhbHVlVGV4dChjdHgyKSB7XG4gICAgICAgICAgY3R4Mi5hbm5vdW5jZXI/LmFubm91bmNlKGN0eDIudmFsdWVBc1N0cmluZy5qb2luKFwiLFwiKSwgM2UzKTtcbiAgICAgICAgfSxcbiAgICAgICAgYW5ub3VuY2VWaXNpYmxlUmFuZ2UoY3R4Mikge1xuICAgICAgICAgIGNvbnN0IHsgZm9ybWF0dGVkIH0gPSBjdHgyLnZpc2libGVSYW5nZVRleHQ7XG4gICAgICAgICAgY3R4Mi5hbm5vdW5jZXI/LmFubm91bmNlKGZvcm1hdHRlZCk7XG4gICAgICAgIH0sXG4gICAgICAgIGRpc2FibGVUZXh0U2VsZWN0aW9uKGN0eDIpIHtcbiAgICAgICAgICBkaXNhYmxlVGV4dFNlbGVjdGlvbih7IHRhcmdldDogZG9tLmdldENvbnRlbnRFbChjdHgyKSwgZG9jOiBkb20uZ2V0RG9jKGN0eDIpIH0pO1xuICAgICAgICB9LFxuICAgICAgICBlbmFibGVUZXh0U2VsZWN0aW9uKGN0eDIpIHtcbiAgICAgICAgICByZXN0b3JlVGV4dFNlbGVjdGlvbih7IGRvYzogZG9tLmdldERvYyhjdHgyKSwgdGFyZ2V0OiBkb20uZ2V0Q29udGVudEVsKGN0eDIpIH0pO1xuICAgICAgICB9LFxuICAgICAgICBmb2N1c0ZpcnN0U2VsZWN0ZWREYXRlKGN0eDIpIHtcbiAgICAgICAgICBpZiAoIWN0eDIudmFsdWUubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIHNldC5mb2N1c2VkVmFsdWUoY3R4MiwgY3R4Mi52YWx1ZVswXSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldElucHV0VmFsdWUoY3R4Mikge1xuICAgICAgICAgIGNvbnN0IGlucHV0ID0gZG9tLmdldElucHV0RWwoY3R4Mik7XG4gICAgICAgICAgaWYgKCFpbnB1dClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjdHgyLmlucHV0VmFsdWUgPSBjdHgyLmZvcm1hdD8uKGN0eDIudmFsdWUpID8/IGZvcm1hdFZhbHVlKGN0eDIpO1xuICAgICAgICB9LFxuICAgICAgICBzeW5jSW5wdXRFbGVtZW50KGN0eDIpIHtcbiAgICAgICAgICBjb25zdCBpbnB1dEVsID0gZG9tLmdldElucHV0RWwoY3R4Mik7XG4gICAgICAgICAgaWYgKCFpbnB1dEVsIHx8IGlucHV0RWwudmFsdWUgPT09IGN0eDIuaW5wdXRWYWx1ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICByYWYoKCkgPT4ge1xuICAgICAgICAgICAgaW5wdXRFbC52YWx1ZSA9IGN0eDIuaW5wdXRWYWx1ZTtcbiAgICAgICAgICAgIGlucHV0RWwuc2V0U2VsZWN0aW9uUmFuZ2UoaW5wdXRFbC52YWx1ZS5sZW5ndGgsIGlucHV0RWwudmFsdWUubGVuZ3RoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0Rm9jdXNlZERhdGUoY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSBBcnJheS5pc0FycmF5KGV2dC52YWx1ZSkgPyBldnQudmFsdWVbMF0gOiBldnQudmFsdWU7XG4gICAgICAgICAgc2V0LmZvY3VzZWRWYWx1ZShjdHgyLCBjb25zdHJhaW5WYWx1ZTIodmFsdWUsIGN0eDIubWluLCBjdHgyLm1heCkpO1xuICAgICAgICB9LFxuICAgICAgICBzZXRGb2N1c2VkTW9udGgoY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgc2V0LmZvY3VzZWRWYWx1ZShjdHgyLCBjdHgyLmZvY3VzZWRWYWx1ZS5zZXQoeyBtb250aDogZXZ0LnZhbHVlIH0pKTtcbiAgICAgICAgfSxcbiAgICAgICAgZm9jdXNOZXh0TW9udGgoY3R4Mikge1xuICAgICAgICAgIHNldC5mb2N1c2VkVmFsdWUoY3R4MiwgY3R4Mi5mb2N1c2VkVmFsdWUuYWRkKHsgbW9udGhzOiAxIH0pKTtcbiAgICAgICAgfSxcbiAgICAgICAgZm9jdXNQcmV2aW91c01vbnRoKGN0eDIpIHtcbiAgICAgICAgICBzZXQuZm9jdXNlZFZhbHVlKGN0eDIsIGN0eDIuZm9jdXNlZFZhbHVlLnN1YnRyYWN0KHsgbW9udGhzOiAxIH0pKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0Rm9jdXNlZFllYXIoY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgc2V0LmZvY3VzZWRWYWx1ZShjdHgyLCBjdHgyLmZvY3VzZWRWYWx1ZS5zZXQoeyB5ZWFyOiBldnQudmFsdWUgfSkpO1xuICAgICAgICB9LFxuICAgICAgICBzZXRTZWxlY3RlZERhdGUoY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgY29uc3QgdmFsdWVzID0gWy4uLmN0eDIudmFsdWVdO1xuICAgICAgICAgIHZhbHVlc1tjdHgyLmFjdGl2ZUluZGV4XSA9IGV2dC52YWx1ZSA/PyBjdHgyLmZvY3VzZWRWYWx1ZTtcbiAgICAgICAgICBzZXQudmFsdWUoY3R4MiwgYWRqdXN0U3RhcnRBbmRFbmREYXRlKHZhbHVlcykpO1xuICAgICAgICB9LFxuICAgICAgICB0b2dnbGVTZWxlY3RlZERhdGUoY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgY29uc3QgY3VycmVudFZhbHVlID0gZXZ0LnZhbHVlID8/IGN0eDIuZm9jdXNlZFZhbHVlO1xuICAgICAgICAgIGNvbnN0IGluZGV4ID0gY3R4Mi52YWx1ZS5maW5kSW5kZXgoKGRhdGUpID0+IGlzRGF0ZUVxdWFsMihkYXRlLCBjdXJyZW50VmFsdWUpKTtcbiAgICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBbLi4uY3R4Mi52YWx1ZSwgY3VycmVudFZhbHVlXTtcbiAgICAgICAgICAgIHNldC52YWx1ZShjdHgyLCBzb3J0RGF0ZXModmFsdWVzKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IFsuLi5jdHgyLnZhbHVlXTtcbiAgICAgICAgICAgIHZhbHVlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgc2V0LnZhbHVlKGN0eDIsIHNvcnREYXRlcyh2YWx1ZXMpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHNldEhvdmVyZWREYXRlKGN0eDIsIGV2dCkge1xuICAgICAgICAgIGN0eDIuaG92ZXJlZFZhbHVlID0gZXZ0LnZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBjbGVhckhvdmVyZWREYXRlKGN0eDIpIHtcbiAgICAgICAgICBjdHgyLmhvdmVyZWRWYWx1ZSA9IG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIHNlbGVjdEZvY3VzZWREYXRlKGN0eDIpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBbLi4uY3R4Mi52YWx1ZV07XG4gICAgICAgICAgdmFsdWVzW2N0eDIuYWN0aXZlSW5kZXhdID0gY3R4Mi5mb2N1c2VkVmFsdWUuY29weSgpO1xuICAgICAgICAgIHNldC52YWx1ZShjdHgyLCBhZGp1c3RTdGFydEFuZEVuZERhdGUodmFsdWVzKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGFkanVzdFN0YXJ0RGF0ZShjdHgyKSB7XG4gICAgICAgICAgY29uc3QgYWRqdXN0ID0gZ2V0QWRqdXN0ZWREYXRlRm4oY3R4Mi52aXNpYmxlRHVyYXRpb24sIGN0eDIubG9jYWxlLCBjdHgyLm1pbiwgY3R4Mi5tYXgpO1xuICAgICAgICAgIGNvbnN0IHsgc3RhcnREYXRlLCBmb2N1c2VkRGF0ZSB9ID0gYWRqdXN0KHsgZm9jdXNlZERhdGU6IGN0eDIuZm9jdXNlZFZhbHVlLCBzdGFydERhdGU6IGN0eDIuc3RhcnRWYWx1ZSB9KTtcbiAgICAgICAgICBjdHgyLnN0YXJ0VmFsdWUgPSBzdGFydERhdGU7XG4gICAgICAgICAgc2V0LmZvY3VzZWRWYWx1ZShjdHgyLCBmb2N1c2VkRGF0ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFByZXZpb3VzRGF0ZShjdHgyKSB7XG4gICAgICAgICAgc2V0LmZvY3VzZWRWYWx1ZShjdHgyLCBnZXRQcmV2aW91c0RheShjdHgyLmZvY3VzZWRWYWx1ZSkpO1xuICAgICAgICB9LFxuICAgICAgICBzZXROZXh0RGF0ZShjdHgyKSB7XG4gICAgICAgICAgc2V0LmZvY3VzZWRWYWx1ZShjdHgyLCBnZXROZXh0RGF5KGN0eDIuZm9jdXNlZFZhbHVlKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGZvY3VzUHJldmlvdXNEYXkoY3R4Mikge1xuICAgICAgICAgIHNldC5mb2N1c2VkVmFsdWUoY3R4MiwgY3R4Mi5mb2N1c2VkVmFsdWUuc3VidHJhY3QoeyBkYXlzOiAxIH0pKTtcbiAgICAgICAgfSxcbiAgICAgICAgZm9jdXNOZXh0RGF5KGN0eDIpIHtcbiAgICAgICAgICBzZXQuZm9jdXNlZFZhbHVlKGN0eDIsIGN0eDIuZm9jdXNlZFZhbHVlLmFkZCh7IGRheXM6IDEgfSkpO1xuICAgICAgICB9LFxuICAgICAgICBmb2N1c1ByZXZpb3VzV2VlayhjdHgyKSB7XG4gICAgICAgICAgc2V0LmZvY3VzZWRWYWx1ZShjdHgyLCBjdHgyLmZvY3VzZWRWYWx1ZS5zdWJ0cmFjdCh7IHdlZWtzOiAxIH0pKTtcbiAgICAgICAgfSxcbiAgICAgICAgZm9jdXNOZXh0V2VlayhjdHgyKSB7XG4gICAgICAgICAgc2V0LmZvY3VzZWRWYWx1ZShjdHgyLCBjdHgyLmZvY3VzZWRWYWx1ZS5hZGQoeyB3ZWVrczogMSB9KSk7XG4gICAgICAgIH0sXG4gICAgICAgIGZvY3VzTmV4dFBhZ2UoY3R4Mikge1xuICAgICAgICAgIHNldC5mb2N1c2VkVmFsdWUoY3R4MiwgY3R4Mi5mb2N1c2VkVmFsdWUuYWRkKGN0eDIudmlzaWJsZUR1cmF0aW9uKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGZvY3VzUHJldmlvdXNQYWdlKGN0eDIpIHtcbiAgICAgICAgICBzZXQuZm9jdXNlZFZhbHVlKGN0eDIsIGN0eDIuZm9jdXNlZFZhbHVlLnN1YnRyYWN0KGN0eDIudmlzaWJsZUR1cmF0aW9uKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGZvY3VzU2VjdGlvblN0YXJ0KGN0eDIpIHtcbiAgICAgICAgICBzZXQuZm9jdXNlZFZhbHVlKGN0eDIsIGN0eDIuc3RhcnRWYWx1ZS5jb3B5KCkpO1xuICAgICAgICB9LFxuICAgICAgICBmb2N1c1NlY3Rpb25FbmQoY3R4Mikge1xuICAgICAgICAgIHNldC5mb2N1c2VkVmFsdWUoY3R4MiwgY3R4Mi5lbmRWYWx1ZS5jb3B5KCkpO1xuICAgICAgICB9LFxuICAgICAgICBmb2N1c05leHRTZWN0aW9uKGN0eDIsIGV2dCkge1xuICAgICAgICAgIGNvbnN0IHNlY3Rpb24gPSBnZXROZXh0U2VjdGlvbihcbiAgICAgICAgICAgIGN0eDIuZm9jdXNlZFZhbHVlLFxuICAgICAgICAgICAgY3R4Mi5zdGFydFZhbHVlLFxuICAgICAgICAgICAgZXZ0LmxhcmdlcixcbiAgICAgICAgICAgIGN0eDIudmlzaWJsZUR1cmF0aW9uLFxuICAgICAgICAgICAgY3R4Mi5sb2NhbGUsXG4gICAgICAgICAgICBjdHgyLm1pbixcbiAgICAgICAgICAgIGN0eDIubWF4XG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoIXNlY3Rpb24pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgc2V0LmZvY3VzZWRWYWx1ZShjdHgyLCBzZWN0aW9uLmZvY3VzZWREYXRlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZm9jdXNQcmV2aW91c1NlY3Rpb24oY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgY29uc3Qgc2VjdGlvbiA9IGdldFByZXZpb3VzU2VjdGlvbihcbiAgICAgICAgICAgIGN0eDIuZm9jdXNlZFZhbHVlLFxuICAgICAgICAgICAgY3R4Mi5zdGFydFZhbHVlLFxuICAgICAgICAgICAgZXZ0LmxhcmdlcixcbiAgICAgICAgICAgIGN0eDIudmlzaWJsZUR1cmF0aW9uLFxuICAgICAgICAgICAgY3R4Mi5sb2NhbGUsXG4gICAgICAgICAgICBjdHgyLm1pbixcbiAgICAgICAgICAgIGN0eDIubWF4XG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoIXNlY3Rpb24pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgc2V0LmZvY3VzZWRWYWx1ZShjdHgyLCBzZWN0aW9uLmZvY3VzZWREYXRlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZm9jdXNOZXh0WWVhcihjdHgyKSB7XG4gICAgICAgICAgc2V0LmZvY3VzZWRWYWx1ZShjdHgyLCBjdHgyLmZvY3VzZWRWYWx1ZS5hZGQoeyB5ZWFyczogMSB9KSk7XG4gICAgICAgIH0sXG4gICAgICAgIGZvY3VzUHJldmlvdXNZZWFyKGN0eDIpIHtcbiAgICAgICAgICBzZXQuZm9jdXNlZFZhbHVlKGN0eDIsIGN0eDIuZm9jdXNlZFZhbHVlLnN1YnRyYWN0KHsgeWVhcnM6IDEgfSkpO1xuICAgICAgICB9LFxuICAgICAgICBmb2N1c05leHREZWNhZGUoY3R4Mikge1xuICAgICAgICAgIHNldC5mb2N1c2VkVmFsdWUoY3R4MiwgY3R4Mi5mb2N1c2VkVmFsdWUuYWRkKHsgeWVhcnM6IDEwIH0pKTtcbiAgICAgICAgfSxcbiAgICAgICAgZm9jdXNQcmV2aW91c0RlY2FkZShjdHgyKSB7XG4gICAgICAgICAgc2V0LmZvY3VzZWRWYWx1ZShjdHgyLCBjdHgyLmZvY3VzZWRWYWx1ZS5zdWJ0cmFjdCh7IHllYXJzOiAxMCB9KSk7XG4gICAgICAgIH0sXG4gICAgICAgIGNsZWFyU2VsZWN0ZWREYXRlKGN0eDIpIHtcbiAgICAgICAgICBzZXQudmFsdWUoY3R4MiwgW10pO1xuICAgICAgICB9LFxuICAgICAgICBjbGVhckZvY3VzZWREYXRlKGN0eDIpIHtcbiAgICAgICAgICBzZXQuZm9jdXNlZFZhbHVlKGN0eDIsIGdldFRvZGF5RGF0ZTIoY3R4Mi50aW1lWm9uZSkpO1xuICAgICAgICB9LFxuICAgICAgICBmb2N1c1ByZXZpb3VzTW9udGhDb2x1bW4oY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgc2V0LmZvY3VzZWRWYWx1ZShjdHgyLCBjdHgyLmZvY3VzZWRWYWx1ZS5zdWJ0cmFjdCh7IG1vbnRoczogZXZ0LmNvbHVtbnMgfSkpO1xuICAgICAgICB9LFxuICAgICAgICBmb2N1c05leHRNb250aENvbHVtbihjdHgyLCBldnQpIHtcbiAgICAgICAgICBzZXQuZm9jdXNlZFZhbHVlKGN0eDIsIGN0eDIuZm9jdXNlZFZhbHVlLmFkZCh7IG1vbnRoczogZXZ0LmNvbHVtbnMgfSkpO1xuICAgICAgICB9LFxuICAgICAgICBmb2N1c1ByZXZpb3VzWWVhckNvbHVtbihjdHgyLCBldnQpIHtcbiAgICAgICAgICBzZXQuZm9jdXNlZFZhbHVlKGN0eDIsIGN0eDIuZm9jdXNlZFZhbHVlLnN1YnRyYWN0KHsgeWVhcnM6IGV2dC5jb2x1bW5zIH0pKTtcbiAgICAgICAgfSxcbiAgICAgICAgZm9jdXNOZXh0WWVhckNvbHVtbihjdHgyLCBldnQpIHtcbiAgICAgICAgICBzZXQuZm9jdXNlZFZhbHVlKGN0eDIsIGN0eDIuZm9jdXNlZFZhbHVlLmFkZCh7IHllYXJzOiBldnQuY29sdW1ucyB9KSk7XG4gICAgICAgIH0sXG4gICAgICAgIGZvY3VzRmlyc3RNb250aChjdHgyKSB7XG4gICAgICAgICAgc2V0LmZvY3VzZWRWYWx1ZShjdHgyLCBjdHgyLmZvY3VzZWRWYWx1ZS5zZXQoeyBtb250aDogMCB9KSk7XG4gICAgICAgIH0sXG4gICAgICAgIGZvY3VzTGFzdE1vbnRoKGN0eDIpIHtcbiAgICAgICAgICBzZXQuZm9jdXNlZFZhbHVlKGN0eDIsIGN0eDIuZm9jdXNlZFZhbHVlLnNldCh7IG1vbnRoOiAxMiB9KSk7XG4gICAgICAgIH0sXG4gICAgICAgIGZvY3VzRmlyc3RZZWFyKGN0eDIpIHtcbiAgICAgICAgICBjb25zdCByYW5nZSA9IGdldERlY2FkZVJhbmdlMihjdHgyLmZvY3VzZWRWYWx1ZS55ZWFyKTtcbiAgICAgICAgICBzZXQuZm9jdXNlZFZhbHVlKGN0eDIsIGN0eDIuZm9jdXNlZFZhbHVlLnNldCh7IHllYXI6IHJhbmdlLmF0KDApIH0pKTtcbiAgICAgICAgfSxcbiAgICAgICAgZm9jdXNMYXN0WWVhcihjdHgyKSB7XG4gICAgICAgICAgY29uc3QgcmFuZ2UgPSBnZXREZWNhZGVSYW5nZTIoY3R4Mi5mb2N1c2VkVmFsdWUueWVhcik7XG4gICAgICAgICAgc2V0LmZvY3VzZWRWYWx1ZShjdHgyLCBjdHgyLmZvY3VzZWRWYWx1ZS5zZXQoeyB5ZWFyOiByYW5nZS5hdCgtMSkgfSkpO1xuICAgICAgICB9LFxuICAgICAgICBzZXRFbmRJbmRleChjdHgyKSB7XG4gICAgICAgICAgY3R4Mi5hY3RpdmVJbmRleCA9IDE7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFN0YXJ0SW5kZXgoY3R4Mikge1xuICAgICAgICAgIGN0eDIuYWN0aXZlSW5kZXggPSAwO1xuICAgICAgICB9LFxuICAgICAgICBmb2N1c0FjdGl2ZUNlbGwoY3R4Mikge1xuICAgICAgICAgIHJhZigoKSA9PiB7XG4gICAgICAgICAgICBkb20uZ2V0Rm9jdXNlZENlbGwoY3R4Mik/LmZvY3VzKHsgcHJldmVudFNjcm9sbDogdHJ1ZSB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgZm9jdXNBY3RpdmVDZWxsSWZOZWVkZWQoY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgaWYgKCFldnQuZm9jdXMpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgcmFmKCgpID0+IHtcbiAgICAgICAgICAgIGRvbS5nZXRGb2N1c2VkQ2VsbChjdHgyKT8uZm9jdXMoeyBwcmV2ZW50U2Nyb2xsOiB0cnVlIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBzZXRIb3ZlcmVkVmFsdWVJZktleWJvYXJkKGN0eDIsIGV2dCkge1xuICAgICAgICAgIGlmICghZXZ0LnR5cGUuc3RhcnRzV2l0aChcIlRBQkxFLkFSUk9XXCIpIHx8IGN0eDIuc2VsZWN0aW9uTW9kZSAhPT0gXCJyYW5nZVwiIHx8IGN0eDIuYWN0aXZlSW5kZXggPT09IDApXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgY3R4Mi5ob3ZlcmVkVmFsdWUgPSBjdHgyLmZvY3VzZWRWYWx1ZS5jb3B5KCk7XG4gICAgICAgIH0sXG4gICAgICAgIGZvY3VzVHJpZ2dlckVsZW1lbnQoY3R4Mikge1xuICAgICAgICAgIHJhZigoKSA9PiB7XG4gICAgICAgICAgICBkb20uZ2V0VHJpZ2dlckVsKGN0eDIpPy5mb2N1cyh7IHByZXZlbnRTY3JvbGw6IHRydWUgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGZvY3VzSW5wdXRFbGVtZW50KGN0eDIpIHtcbiAgICAgICAgICByYWYoKCkgPT4ge1xuICAgICAgICAgICAgZG9tLmdldElucHV0RWwoY3R4Mik/LmZvY3VzKHsgcHJldmVudFNjcm9sbDogdHJ1ZSB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgc3luY01vbnRoU2VsZWN0RWxlbWVudChjdHgyKSB7XG4gICAgICAgICAgY29uc3QgbW9udGhTZWxlY3RFbCA9IGRvbS5nZXRNb250aFNlbGVjdEVsKGN0eDIpO1xuICAgICAgICAgIGlmICghbW9udGhTZWxlY3RFbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBtb250aFNlbGVjdEVsLnZhbHVlID0gY3R4Mi5mb2N1c2VkVmFsdWUubW9udGgudG9TdHJpbmcoKTtcbiAgICAgICAgfSxcbiAgICAgICAgc3luY1llYXJTZWxlY3RFbGVtZW50KGN0eDIpIHtcbiAgICAgICAgICBjb25zdCB5ZWFyU2VsZWN0RWwgPSBkb20uZ2V0WWVhclNlbGVjdEVsKGN0eDIpO1xuICAgICAgICAgIGlmICgheWVhclNlbGVjdEVsKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIHllYXJTZWxlY3RFbC52YWx1ZSA9IGN0eDIuZm9jdXNlZFZhbHVlLnllYXIudG9TdHJpbmcoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZm9jdXNQYXJzZWREYXRlKGN0eDIsIGV2dCkge1xuICAgICAgICAgIGN0eDIuaW5wdXRWYWx1ZSA9IGV2dC52YWx1ZTtcbiAgICAgICAgICBjb25zdCBkYXRlID0gcGFyc2VEYXRlU3RyaW5nKGN0eDIuaW5wdXRWYWx1ZSwgY3R4Mi5sb2NhbGUsIGN0eDIudGltZVpvbmUpO1xuICAgICAgICAgIHNldC5mb2N1c2VkVmFsdWUoY3R4MiwgZGF0ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlc2V0VmlldyhjdHgyLCBfZXZ0LCB7IGluaXRpYWxDb250ZXh0IH0pIHtcbiAgICAgICAgICBzZXQudmlldyhjdHgyLCBpbml0aWFsQ29udGV4dC52aWV3KTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0U3RhcnRWYWx1ZShjdHgyKSB7XG4gICAgICAgICAgY29uc3Qgc3RhcnRWYWx1ZSA9IGFsaWduRGF0ZShjdHgyLmZvY3VzZWRWYWx1ZSwgXCJzdGFydFwiLCB7IG1vbnRoczogY3R4Mi5udW1PZk1vbnRocyB9LCBjdHgyLmxvY2FsZSk7XG4gICAgICAgICAgY3R4Mi5zdGFydFZhbHVlID0gc3RhcnRWYWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgaW52b2tlT25PcGVuKGN0eDIpIHtcbiAgICAgICAgICBjdHgyLm9uT3BlbkNoYW5nZT8uKHsgb3BlbjogdHJ1ZSB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgaW52b2tlT25DbG9zZShjdHgyKSB7XG4gICAgICAgICAgY3R4Mi5vbk9wZW5DaGFuZ2U/Lih7IG9wZW46IGZhbHNlIH0pO1xuICAgICAgICB9LFxuICAgICAgICB0b2dnbGVWaXNpYmlsaXR5KGN0eDIsIF9ldnQsIHsgc2VuZCB9KSB7XG4gICAgICAgICAgc2VuZCh7IHR5cGU6IGN0eDIub3BlbiA/IFwiT1BFTlwiIDogXCJDTE9TRVwiLCBzcmM6IFwiY29udHJvbGxlZFwiIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY29tcGFyZUZuczoge1xuICAgICAgICBzdGFydFZhbHVlOiBpc0RhdGVFcXVhbDIsXG4gICAgICAgIGZvY3VzZWRWYWx1ZTogaXNEYXRlRXF1YWwyLFxuICAgICAgICB2YWx1ZTogaXNEYXRlRXF1YWxGblxuICAgICAgfVxuICAgIH1cbiAgKTtcbn1cbnZhciBpbnZva2UgPSB7XG4gIGNoYW5nZShjdHgpIHtcbiAgICBjdHgub25WYWx1ZUNoYW5nZT8uKHtcbiAgICAgIHZhbHVlOiBBcnJheS5mcm9tKGN0eC52YWx1ZSksXG4gICAgICB2aWV3OiBjdHgudmlld1xuICAgIH0pO1xuICB9LFxuICBmb2N1c0NoYW5nZShjdHgpIHtcbiAgICBjdHgub25Gb2N1c0NoYW5nZT8uKHtcbiAgICAgIGZvY3VzZWRWYWx1ZTogY3R4LmZvY3VzZWRWYWx1ZSxcbiAgICAgIHZhbHVlOiBBcnJheS5mcm9tKGN0eC52YWx1ZSksXG4gICAgICB2aWV3OiBjdHgudmlld1xuICAgIH0pO1xuICB9LFxuICB2aWV3Q2hhbmdlKGN0eCkge1xuICAgIGN0eC5vblZpZXdDaGFuZ2U/Lih7IHZpZXc6IGN0eC52aWV3IH0pO1xuICB9XG59O1xudmFyIGlzRGF0ZUVxdWFsRm4gPSAoYSwgYikgPT4ge1xuICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKVxuICAgIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIGEuZXZlcnkoKGRhdGUsIGluZGV4KSA9PiBpc0RhdGVFcXVhbDIoZGF0ZSwgYltpbmRleF0pKTtcbn07XG52YXIgc2V0ID0ge1xuICB2YWx1ZShjdHgsIHZhbHVlKSB7XG4gICAgaWYgKGlzRGF0ZUVxdWFsRm4oY3R4LnZhbHVlLCB2YWx1ZSkpXG4gICAgICByZXR1cm47XG4gICAgY3R4LnZhbHVlID0gdmFsdWU7XG4gICAgaW52b2tlLmNoYW5nZShjdHgpO1xuICB9LFxuICBmb2N1c2VkVmFsdWUoY3R4LCB2YWx1ZSkge1xuICAgIGlmICghdmFsdWUgfHwgaXNEYXRlRXF1YWwyKGN0eC5mb2N1c2VkVmFsdWUsIHZhbHVlKSlcbiAgICAgIHJldHVybjtcbiAgICBjdHguZm9jdXNlZFZhbHVlID0gdmFsdWU7XG4gICAgaW52b2tlLmZvY3VzQ2hhbmdlKGN0eCk7XG4gIH0sXG4gIHZpZXcoY3R4LCB2YWx1ZSkge1xuICAgIGlmIChpc0VxdWFsKGN0eC52aWV3LCB2YWx1ZSkpXG4gICAgICByZXR1cm47XG4gICAgY3R4LnZpZXcgPSB2YWx1ZTtcbiAgICBpbnZva2Uudmlld0NoYW5nZShjdHgpO1xuICB9XG59O1xuXG4vLyBzcmMvZGF0ZS1waWNrZXIucGFyc2UudHNcbmltcG9ydCB7IENhbGVuZGFyRGF0ZSwgcGFyc2VEYXRlIH0gZnJvbSBcIkBpbnRlcm5hdGlvbmFsaXplZC9kYXRlXCI7XG5mdW5jdGlvbiBwYXJzZSh2YWx1ZSkge1xuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWUubWFwKCh2KSA9PiBwYXJzZSh2KSk7XG4gIH1cbiAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgIHJldHVybiBuZXcgQ2FsZW5kYXJEYXRlKHZhbHVlLmdldEZ1bGxZZWFyKCksIHZhbHVlLmdldE1vbnRoKCkgKyAxLCB2YWx1ZS5nZXREYXRlKCkpO1xuICB9XG4gIHJldHVybiBwYXJzZURhdGUodmFsdWUpO1xufVxuZXhwb3J0IHtcbiAgYW5hdG9teSxcbiAgY29ubmVjdCxcbiAgbWFjaGluZSxcbiAgcGFyc2Vcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/date-picker/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/date-utils/dist/index.mjs":
/*!********************************************************!*\
  !*** ./node_modules/@zag-js/date-utils/dist/index.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   alignCenter: () => (/* binding */ alignCenter),\n/* harmony export */   alignDate: () => (/* binding */ alignDate),\n/* harmony export */   alignEnd: () => (/* binding */ alignEnd),\n/* harmony export */   alignStart: () => (/* binding */ alignStart),\n/* harmony export */   alignStartDate: () => (/* binding */ alignStartDate),\n/* harmony export */   constrainStart: () => (/* binding */ constrainStart),\n/* harmony export */   constrainValue: () => (/* binding */ constrainValue),\n/* harmony export */   formatDate: () => (/* binding */ formatDate),\n/* harmony export */   formatRange: () => (/* binding */ formatRange),\n/* harmony export */   formatSelectedDate: () => (/* binding */ formatSelectedDate),\n/* harmony export */   formatVisibleRange: () => (/* binding */ formatVisibleRange),\n/* harmony export */   getAdjustedDateFn: () => (/* binding */ getAdjustedDateFn),\n/* harmony export */   getDayFormatter: () => (/* binding */ getDayFormatter),\n/* harmony export */   getDaysInWeek: () => (/* binding */ getDaysInWeek),\n/* harmony export */   getDecadeRange: () => (/* binding */ getDecadeRange),\n/* harmony export */   getEndDate: () => (/* binding */ getEndDate),\n/* harmony export */   getMonthDays: () => (/* binding */ getMonthDays),\n/* harmony export */   getMonthFormatter: () => (/* binding */ getMonthFormatter),\n/* harmony export */   getMonthNames: () => (/* binding */ getMonthNames),\n/* harmony export */   getNextDay: () => (/* binding */ getNextDay),\n/* harmony export */   getNextPage: () => (/* binding */ getNextPage),\n/* harmony export */   getNextRow: () => (/* binding */ getNextRow),\n/* harmony export */   getNextSection: () => (/* binding */ getNextSection),\n/* harmony export */   getPreviousAvailableDate: () => (/* binding */ getPreviousAvailableDate),\n/* harmony export */   getPreviousDay: () => (/* binding */ getPreviousDay),\n/* harmony export */   getPreviousPage: () => (/* binding */ getPreviousPage),\n/* harmony export */   getPreviousRow: () => (/* binding */ getPreviousRow),\n/* harmony export */   getPreviousSection: () => (/* binding */ getPreviousSection),\n/* harmony export */   getSectionEnd: () => (/* binding */ getSectionEnd),\n/* harmony export */   getSectionStart: () => (/* binding */ getSectionStart),\n/* harmony export */   getTodayDate: () => (/* binding */ getTodayDate),\n/* harmony export */   getUnitDuration: () => (/* binding */ getUnitDuration),\n/* harmony export */   getWeekDays: () => (/* binding */ getWeekDays),\n/* harmony export */   getWeekdayFormats: () => (/* binding */ getWeekdayFormats),\n/* harmony export */   getYearsRange: () => (/* binding */ getYearsRange),\n/* harmony export */   isDateDisabled: () => (/* binding */ isDateDisabled),\n/* harmony export */   isDateEqual: () => (/* binding */ isDateEqual),\n/* harmony export */   isDateInvalid: () => (/* binding */ isDateInvalid),\n/* harmony export */   isDateOutsideVisibleRange: () => (/* binding */ isDateOutsideVisibleRange),\n/* harmony export */   isDateUnavailable: () => (/* binding */ isDateUnavailable),\n/* harmony export */   isNextVisibleRangeInvalid: () => (/* binding */ isNextVisibleRangeInvalid),\n/* harmony export */   isPreviousVisibleRangeInvalid: () => (/* binding */ isPreviousVisibleRangeInvalid),\n/* harmony export */   isTodayDate: () => (/* binding */ isTodayDate),\n/* harmony export */   parseDateString: () => (/* binding */ parseDateString),\n/* harmony export */   setCalendar: () => (/* binding */ setCalendar),\n/* harmony export */   setDate: () => (/* binding */ setDate),\n/* harmony export */   setMonth: () => (/* binding */ setMonth),\n/* harmony export */   setYear: () => (/* binding */ setYear)\n/* harmony export */ });\n/* harmony import */ var _internationalized_date__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @internationalized/date */ \"(ssr)/./node_modules/@internationalized/date/dist/import.mjs\");\n// src/constrain.ts\n\nfunction alignCenter(date, duration, locale, min, max) {\n  let halfDuration = {};\n  for (let key in duration) {\n    halfDuration[key] = Math.floor(duration[key] / 2);\n    if (halfDuration[key] > 0 && duration[key] % 2 === 0) {\n      halfDuration[key]--;\n    }\n  }\n  let aligned = alignStart(date, duration, locale).subtract(halfDuration);\n  return constrainStart(date, aligned, duration, locale, min, max);\n}\nfunction alignStart(date, duration, locale, min, max) {\n  let aligned = date;\n  if (duration.years) {\n    aligned = (0,_internationalized_date__WEBPACK_IMPORTED_MODULE_0__.startOfYear)(date);\n  } else if (duration.months) {\n    aligned = (0,_internationalized_date__WEBPACK_IMPORTED_MODULE_0__.startOfMonth)(date);\n  } else if (duration.weeks) {\n    aligned = (0,_internationalized_date__WEBPACK_IMPORTED_MODULE_0__.startOfWeek)(date, locale);\n  }\n  return constrainStart(date, aligned, duration, locale, min, max);\n}\nfunction alignEnd(date, duration, locale, min, max) {\n  let d = { ...duration };\n  if (d.days) {\n    d.days--;\n  } else if (d.weeks) {\n    d.weeks--;\n  } else if (d.months) {\n    d.months--;\n  } else if (d.years) {\n    d.years--;\n  }\n  let aligned = alignStart(date, duration, locale).subtract(d);\n  return constrainStart(date, aligned, duration, locale, min, max);\n}\nfunction constrainStart(date, aligned, duration, locale, min, max) {\n  if (min && date.compare(min) >= 0) {\n    aligned = (0,_internationalized_date__WEBPACK_IMPORTED_MODULE_0__.maxDate)(aligned, alignStart((0,_internationalized_date__WEBPACK_IMPORTED_MODULE_0__.toCalendarDate)(min), duration, locale));\n  }\n  if (max && date.compare(max) <= 0) {\n    aligned = (0,_internationalized_date__WEBPACK_IMPORTED_MODULE_0__.minDate)(aligned, alignEnd((0,_internationalized_date__WEBPACK_IMPORTED_MODULE_0__.toCalendarDate)(max), duration, locale));\n  }\n  return aligned;\n}\nfunction constrainValue(date, minValue, maxValue) {\n  if (minValue) {\n    date = (0,_internationalized_date__WEBPACK_IMPORTED_MODULE_0__.maxDate)(date, (0,_internationalized_date__WEBPACK_IMPORTED_MODULE_0__.toCalendarDate)(minValue));\n  }\n  if (maxValue) {\n    date = (0,_internationalized_date__WEBPACK_IMPORTED_MODULE_0__.minDate)(date, (0,_internationalized_date__WEBPACK_IMPORTED_MODULE_0__.toCalendarDate)(maxValue));\n  }\n  return date;\n}\n\n// src/align.ts\nfunction alignDate(date, alignment, duration, locale, min, max) {\n  switch (alignment) {\n    case \"start\":\n      return alignStart(date, duration, locale, min, max);\n    case \"end\":\n      return alignEnd(date, duration, locale, min, max);\n    case \"center\":\n    default:\n      return alignCenter(date, duration, locale, min, max);\n  }\n}\nfunction alignStartDate(date, startDate, endDate, duration, locale, min, max) {\n  if (date.compare(startDate) < 0) {\n    return alignEnd(date, duration, locale, min, max);\n  }\n  if (date.compare(endDate) > 0) {\n    return alignStart(date, duration, locale, min, max);\n  }\n  return startDate;\n}\n\n// src/assertion.ts\n\nfunction isTodayDate(date, timeZone) {\n  return (0,_internationalized_date__WEBPACK_IMPORTED_MODULE_0__.isToday)(date, timeZone);\n}\nfunction isDateEqual(dateA, dateB) {\n  return dateB != null && (0,_internationalized_date__WEBPACK_IMPORTED_MODULE_0__.isSameDay)(dateA, dateB);\n}\nfunction isDateInvalid(date, minValue, maxValue) {\n  return minValue != null && date.compare(minValue) < 0 || maxValue != null && date.compare(maxValue) > 0;\n}\nfunction isDateDisabled(date, startDate, endDate, minValue, maxValue) {\n  return date.compare(startDate) < 0 || date.compare(endDate) > 0 || isDateInvalid(date, minValue, maxValue);\n}\nfunction isDateUnavailable(date, isUnavailable, locale, minValue, maxValue) {\n  if (!date) {\n    return false;\n  }\n  if (isUnavailable?.(date, locale)) {\n    return true;\n  }\n  return isDateInvalid(date, minValue, maxValue);\n}\nfunction isDateOutsideVisibleRange(date, startDate, endDate) {\n  return date.compare(startDate) < 0 || date.compare(endDate) > 0;\n}\nfunction isPreviousVisibleRangeInvalid(startDate, minValue, maxValue) {\n  const prevDate = startDate.subtract({ days: 1 });\n  return (0,_internationalized_date__WEBPACK_IMPORTED_MODULE_0__.isSameDay)(prevDate, startDate) || isDateInvalid(prevDate, minValue, maxValue);\n}\nfunction isNextVisibleRangeInvalid(endDate, minValue, maxValue) {\n  const nextDate = endDate.add({ days: 1 });\n  return (0,_internationalized_date__WEBPACK_IMPORTED_MODULE_0__.isSameDay)(nextDate, endDate) || isDateInvalid(nextDate, minValue, maxValue);\n}\n\n// src/duration.ts\nfunction getUnitDuration(duration) {\n  let d = { ...duration };\n  for (let key in d) {\n    d[key] = 1;\n  }\n  return d;\n}\nfunction getEndDate(startDate, duration) {\n  let d = { ...duration };\n  if (d.days) {\n    d.days--;\n  } else {\n    d.days = -1;\n  }\n  return startDate.add(d);\n}\n\n// src/format-date.ts\n\nfunction createRegEx(sign) {\n  let symbols = \"\\\\s|\\\\.|-|/|\\\\\\\\|,|\\\\$|\\\\!|\\\\?|:|;\";\n  return new RegExp(\"(^|>|\" + symbols + \")(\" + sign + \")($|<|\" + symbols + \")\", \"g\");\n}\nfunction formatDate(value, formatString, locale, timeZone = \"UTC\") {\n  const datetime = (0,_internationalized_date__WEBPACK_IMPORTED_MODULE_0__.toCalendarDateTime)(value);\n  const date = datetime.toDate(timeZone);\n  const formats = {\n    // Time in ms\n    T: date.getTime(),\n    // Minutes\n    m: date.toLocaleString(locale, { minute: \"numeric\" }),\n    mm: date.toLocaleString(locale, { minute: \"2-digit\" }),\n    // Seconds\n    s: date.toLocaleString(locale, { second: \"numeric\" }),\n    ss: date.toLocaleString(locale, { second: \"2-digit\" }),\n    // Hours\n    h: date.toLocaleString(locale, { hour: \"numeric\", hour12: true }),\n    hh: date.toLocaleString(locale, { hour: \"2-digit\", hour12: true }),\n    H: date.toLocaleString(locale, { hour: \"numeric\", hour12: false }),\n    HH: date.toLocaleString(locale, { hour: \"2-digit\", hour12: false }),\n    // Day period\n    aa: date.toLocaleString(locale, { hour: \"numeric\", hour12: true }).toLowerCase(),\n    AA: date.toLocaleString(locale, { hour: \"numeric\", hour12: true }).toUpperCase(),\n    // Day of week\n    E: date.toLocaleString(locale, { weekday: \"short\" }),\n    EE: date.toLocaleString(locale, { weekday: \"short\" }),\n    EEE: date.toLocaleString(locale, { weekday: \"short\" }),\n    EEEE: date.toLocaleString(locale, { weekday: \"long\" }),\n    // Date of month\n    d: datetime.day,\n    dd: date.toLocaleString(locale, { day: \"2-digit\" }),\n    // Months\n    M: datetime.month + 1,\n    MM: date.toLocaleString(locale, { month: \"2-digit\" }),\n    MMM: date.toLocaleString(locale, { month: \"short\" }),\n    MMMM: date.toLocaleString(locale, { month: \"long\" }),\n    // Years\n    yy: date.toLocaleString(locale, { year: \"2-digit\" }),\n    yyyy: date.toLocaleString(locale, { year: \"numeric\" }),\n    YY: date.toLocaleString(locale, { year: \"2-digit\" }),\n    YYYY: date.toLocaleString(locale, { year: \"numeric\" })\n  };\n  let result = formatString;\n  for (const key in formats) {\n    result = result.replace(createRegEx(key), \"$1\" + formats[key] + \"$3\");\n  }\n  return result;\n}\n\n// src/format-range.ts\nfunction formatRange(startDate, endDate, formatter, toString, timeZone) {\n  let parts = formatter.formatRangeToParts(startDate.toDate(timeZone), endDate.toDate(timeZone));\n  let separatorIndex = -1;\n  for (let i = 0; i < parts.length; i++) {\n    let part = parts[i];\n    if (part.source === \"shared\" && part.type === \"literal\") {\n      separatorIndex = i;\n    } else if (part.source === \"endRange\") {\n      break;\n    }\n  }\n  let start = \"\";\n  let end = \"\";\n  for (let i = 0; i < parts.length; i++) {\n    if (i < separatorIndex) {\n      start += parts[i].value;\n    } else if (i > separatorIndex) {\n      end += parts[i].value;\n    }\n  }\n  return toString(start, end);\n}\n\n// src/format-selected-date.ts\n\n\n// src/get-day-formatter.ts\n\n\n// src/get-era-format.ts\nfunction getEraFormat(date) {\n  return date?.calendar.identifier === \"gregory\" && date.era === \"BC\" ? \"short\" : void 0;\n}\n\n// src/get-day-formatter.ts\nfunction getDayFormatter(locale, timeZone) {\n  const date = (0,_internationalized_date__WEBPACK_IMPORTED_MODULE_0__.toCalendarDateTime)((0,_internationalized_date__WEBPACK_IMPORTED_MODULE_0__.today)(timeZone));\n  return new _internationalized_date__WEBPACK_IMPORTED_MODULE_0__.DateFormatter(locale, {\n    weekday: \"long\",\n    month: \"long\",\n    year: \"numeric\",\n    day: \"numeric\",\n    era: getEraFormat(date),\n    timeZone\n  });\n}\n\n// src/format-selected-date.ts\nfunction formatSelectedDate(startDate, endDate, locale, timeZone) {\n  let start = startDate;\n  let end = endDate ?? startDate;\n  let formatter = getDayFormatter(locale, timeZone);\n  if ((0,_internationalized_date__WEBPACK_IMPORTED_MODULE_0__.isSameDay)(start, end)) {\n    return formatter.format(start.toDate(timeZone));\n  }\n  return formatRange(start, end, formatter, (start2, end2) => `${start2} \\u2013 ${end2}`, timeZone);\n}\n\n// src/format-visible-range.ts\n\n\n// src/get-month-formatter.ts\n\nfunction getMonthFormatter(locale, timeZone) {\n  const date = (0,_internationalized_date__WEBPACK_IMPORTED_MODULE_0__.toCalendarDate)((0,_internationalized_date__WEBPACK_IMPORTED_MODULE_0__.today)(timeZone));\n  return new _internationalized_date__WEBPACK_IMPORTED_MODULE_0__.DateFormatter(locale, {\n    month: \"long\",\n    year: \"numeric\",\n    era: getEraFormat(date),\n    calendar: date?.calendar.identifier,\n    timeZone\n  });\n}\n\n// src/format-visible-range.ts\nfunction formatVisibleRange(startDate, endDate, locale, timeZone) {\n  const start = startDate;\n  const end = endDate ?? startDate;\n  const dayFormatter = getDayFormatter(locale, timeZone);\n  if (!(0,_internationalized_date__WEBPACK_IMPORTED_MODULE_0__.isSameDay)(start, (0,_internationalized_date__WEBPACK_IMPORTED_MODULE_0__.startOfMonth)(start))) {\n    return dayFormatter.formatRange(start.toDate(timeZone), end.toDate(timeZone));\n  }\n  const monthFormatter = getMonthFormatter(locale, timeZone);\n  if ((0,_internationalized_date__WEBPACK_IMPORTED_MODULE_0__.isSameDay)(end, (0,_internationalized_date__WEBPACK_IMPORTED_MODULE_0__.endOfMonth)(start))) {\n    return monthFormatter.format(start.toDate(timeZone));\n  }\n  if ((0,_internationalized_date__WEBPACK_IMPORTED_MODULE_0__.isSameDay)(end, (0,_internationalized_date__WEBPACK_IMPORTED_MODULE_0__.endOfMonth)(end))) {\n    return monthFormatter.formatRange(start.toDate(timeZone), end.toDate(timeZone));\n  }\n  return \"\";\n}\n\n// src/get-decade-range.ts\nfunction getDecadeRange(year) {\n  const computedYear = year - year % 10 - 1;\n  const years = [];\n  for (let i = 0; i < 12; i += 1) {\n    const value = computedYear + i;\n    years.push(value);\n  }\n  return years;\n}\n\n// src/get-month-days.ts\n\n\n// src/get-start-of-week.ts\n\nfunction getStartOfWeek(date, locale, firstDayOfWeek = 0) {\n  const day = (0,_internationalized_date__WEBPACK_IMPORTED_MODULE_0__.getDayOfWeek)(date, locale);\n  const diff = (day - firstDayOfWeek + 7) % 7;\n  return date.subtract({ days: diff });\n}\n\n// src/get-month-days.ts\nfunction getDaysInWeek(weekIndex, from, locale, firstDayOfWeek) {\n  const weekDate = from.add({ weeks: weekIndex });\n  const dates = [];\n  let date = getStartOfWeek(weekDate, locale, firstDayOfWeek);\n  while (dates.length < 7) {\n    dates.push(date);\n    let nextDate = date.add({ days: 1 });\n    if ((0,_internationalized_date__WEBPACK_IMPORTED_MODULE_0__.isSameDay)(date, nextDate)) {\n      break;\n    }\n    date = nextDate;\n  }\n  return dates;\n}\nfunction getMonthDays(from, locale, numOfWeeks, firstDayOfWeek) {\n  const monthWeeks = (0,_internationalized_date__WEBPACK_IMPORTED_MODULE_0__.getWeeksInMonth)(from, locale);\n  const weeks = [...new Array(numOfWeeks ?? monthWeeks).keys()];\n  return weeks.map((week) => getDaysInWeek(week, from, locale, firstDayOfWeek));\n}\n\n// src/get-month-names.ts\nfunction getMonthNames(locale, format = \"long\") {\n  const date = new Date(2021, 0, 1);\n  const monthNames = [];\n  for (let i = 0; i < 12; i++) {\n    monthNames.push(date.toLocaleString(locale, { month: format }));\n    date.setMonth(date.getMonth() + 1);\n  }\n  return monthNames;\n}\n\n// src/get-weekday-formats.ts\n\nfunction getWeekdayFormats(locale, timeZone) {\n  const longFormat = new _internationalized_date__WEBPACK_IMPORTED_MODULE_0__.DateFormatter(locale, { weekday: \"long\", timeZone });\n  const shortFormat = new _internationalized_date__WEBPACK_IMPORTED_MODULE_0__.DateFormatter(locale, { weekday: \"short\", timeZone });\n  const narrowFormat = new _internationalized_date__WEBPACK_IMPORTED_MODULE_0__.DateFormatter(locale, { weekday: \"narrow\", timeZone });\n  return (value) => {\n    const date = value instanceof Date ? value : value.toDate(timeZone);\n    return {\n      value,\n      short: shortFormat.format(date),\n      long: longFormat.format(date),\n      narrow: narrowFormat.format(date)\n    };\n  };\n}\n\n// src/get-week-days.ts\nfunction getWeekDays(date, startOfWeekProp, timeZone, locale) {\n  const firstDayOfWeek = getStartOfWeek(date, locale, startOfWeekProp);\n  const weeks = [...new Array(7).keys()];\n  const format = getWeekdayFormats(locale, timeZone);\n  return weeks.map((index) => format(firstDayOfWeek.add({ days: index })));\n}\n\n// src/get-year-range.ts\nfunction getYearsRange(range) {\n  const years = [];\n  for (let year = range.from; year <= range.to; year += 1) {\n    years.push(year);\n  }\n  return years;\n}\n\n// src/mutation.ts\n\nfunction getTodayDate(timeZone) {\n  return (0,_internationalized_date__WEBPACK_IMPORTED_MODULE_0__.today)(timeZone ?? (0,_internationalized_date__WEBPACK_IMPORTED_MODULE_0__.getLocalTimeZone)());\n}\nfunction getNextDay(date) {\n  return date.add({ days: 1 });\n}\nfunction getPreviousDay(date) {\n  return date.subtract({ days: 1 });\n}\nfunction setMonth(date, month) {\n  return date.set({ month });\n}\nfunction setYear(date, year) {\n  return date.set({ year });\n}\nfunction setCalendar(date, calendar) {\n  return (0,_internationalized_date__WEBPACK_IMPORTED_MODULE_0__.toCalendar)((0,_internationalized_date__WEBPACK_IMPORTED_MODULE_0__.toCalendarDateTime)(date), calendar);\n}\nfunction setDate(date, startDate, isDateUnavailable2, locale, minValue, maxValue) {\n  let result;\n  result = constrainValue(date, minValue, maxValue);\n  result = getPreviousAvailableDate(date, startDate, locale, isDateUnavailable2);\n  return result;\n}\nfunction getPreviousAvailableDate(date, minValue, locale, isDateUnavailable2) {\n  if (!isDateUnavailable2) {\n    return date;\n  }\n  while (date.compare(minValue) >= 0 && isDateUnavailable2(date, locale)) {\n    date = date.subtract({ days: 1 });\n  }\n  if (date.compare(minValue) >= 0) {\n    return date;\n  }\n}\n\n// src/pagination.ts\n\nfunction getAdjustedDateFn(visibleDuration, locale, minValue, maxValue) {\n  return function getDate(options) {\n    const { startDate, focusedDate } = options;\n    const endDate = getEndDate(startDate, visibleDuration);\n    if (isDateInvalid(focusedDate, minValue, maxValue)) {\n      return {\n        startDate,\n        focusedDate: constrainValue(focusedDate, minValue, maxValue),\n        endDate\n      };\n    }\n    if (focusedDate.compare(startDate) < 0) {\n      return {\n        startDate: alignEnd(focusedDate, visibleDuration, locale, minValue, maxValue),\n        endDate,\n        focusedDate: constrainValue(focusedDate, minValue, maxValue)\n      };\n    }\n    if (focusedDate.compare(endDate) > 0) {\n      return {\n        startDate: alignStart(focusedDate, visibleDuration, locale, minValue, maxValue),\n        endDate,\n        focusedDate: constrainValue(focusedDate, minValue, maxValue)\n      };\n    }\n    return {\n      startDate,\n      endDate,\n      focusedDate: constrainValue(focusedDate, minValue, maxValue)\n    };\n  };\n}\nfunction getNextPage(focusedDate, startDate, visibleDuration, locale, minValue, maxValue) {\n  const adjust = getAdjustedDateFn(visibleDuration, locale, minValue, maxValue);\n  const start = startDate.add(visibleDuration);\n  return adjust({\n    focusedDate: focusedDate.add(visibleDuration),\n    startDate: alignStart(\n      constrainStart(focusedDate, start, visibleDuration, locale, minValue, maxValue),\n      visibleDuration,\n      locale\n    )\n  });\n}\nfunction getPreviousPage(focusedDate, startDate, visibleDuration, locale, minValue, maxValue) {\n  const adjust = getAdjustedDateFn(visibleDuration, locale, minValue, maxValue);\n  let start = startDate.subtract(visibleDuration);\n  return adjust({\n    focusedDate: focusedDate.subtract(visibleDuration),\n    startDate: alignStart(\n      constrainStart(focusedDate, start, visibleDuration, locale, minValue, maxValue),\n      visibleDuration,\n      locale\n    )\n  });\n}\nfunction getNextRow(focusedDate, startDate, visibleDuration, locale, minValue, maxValue) {\n  const adjust = getAdjustedDateFn(visibleDuration, locale, minValue, maxValue);\n  if (visibleDuration.days) {\n    return getNextPage(focusedDate, startDate, visibleDuration, locale, minValue, maxValue);\n  }\n  if (visibleDuration.weeks || visibleDuration.months || visibleDuration.years) {\n    return adjust({\n      focusedDate: focusedDate.add({ weeks: 1 }),\n      startDate\n    });\n  }\n}\nfunction getPreviousRow(focusedDate, startDate, visibleDuration, locale, minValue, maxValue) {\n  const adjust = getAdjustedDateFn(visibleDuration, locale, minValue, maxValue);\n  if (visibleDuration.days) {\n    return getPreviousPage(focusedDate, startDate, visibleDuration, locale, minValue, maxValue);\n  }\n  if (visibleDuration.weeks || visibleDuration.months || visibleDuration.years) {\n    return adjust({\n      focusedDate: focusedDate.subtract({ weeks: 1 }),\n      startDate\n    });\n  }\n}\nfunction getSectionStart(focusedDate, startDate, visibleDuration, locale, minValue, maxValue) {\n  const adjust = getAdjustedDateFn(visibleDuration, locale, minValue, maxValue);\n  if (visibleDuration.days) {\n    return adjust({\n      focusedDate: startDate,\n      startDate\n    });\n  }\n  if (visibleDuration.weeks) {\n    return adjust({\n      focusedDate: (0,_internationalized_date__WEBPACK_IMPORTED_MODULE_0__.startOfWeek)(focusedDate, locale),\n      startDate\n    });\n  }\n  if (visibleDuration.months || visibleDuration.years) {\n    return adjust({\n      focusedDate: (0,_internationalized_date__WEBPACK_IMPORTED_MODULE_0__.startOfMonth)(focusedDate),\n      startDate\n    });\n  }\n}\nfunction getSectionEnd(focusedDate, startDate, visibleDuration, locale, minValue, maxValue) {\n  const adjust = getAdjustedDateFn(visibleDuration, locale, minValue, maxValue);\n  const endDate = getEndDate(startDate, visibleDuration);\n  if (visibleDuration.days) {\n    return adjust({\n      focusedDate: endDate,\n      startDate\n    });\n  }\n  if (visibleDuration.weeks) {\n    return adjust({\n      //@ts-expect-error - endOfWeek is loosely typed\n      focusedDate: (0,_internationalized_date__WEBPACK_IMPORTED_MODULE_0__.endOfWeek)(focusedDate, locale),\n      startDate\n    });\n  }\n  if (visibleDuration.months || visibleDuration.years) {\n    return adjust({\n      focusedDate: (0,_internationalized_date__WEBPACK_IMPORTED_MODULE_0__.endOfMonth)(focusedDate),\n      startDate\n    });\n  }\n}\nfunction getNextSection(focusedDate, startDate, larger, visibleDuration, locale, minValue, maxValue) {\n  const adjust = getAdjustedDateFn(visibleDuration, locale, minValue, maxValue);\n  if (!larger && !visibleDuration.days) {\n    return adjust({\n      focusedDate: focusedDate.add(getUnitDuration(visibleDuration)),\n      startDate\n    });\n  }\n  if (visibleDuration.days) {\n    return getNextPage(focusedDate, startDate, visibleDuration, locale, minValue, maxValue);\n  }\n  if (visibleDuration.weeks) {\n    return adjust({\n      focusedDate: focusedDate.add({ months: 1 }),\n      startDate\n    });\n  }\n  if (visibleDuration.months || visibleDuration.years) {\n    return adjust({\n      focusedDate: focusedDate.add({ years: 1 }),\n      startDate\n    });\n  }\n}\nfunction getPreviousSection(focusedDate, startDate, larger, visibleDuration, locale, minValue, maxValue) {\n  const adjust = getAdjustedDateFn(visibleDuration, locale, minValue, maxValue);\n  if (!larger && !visibleDuration.days) {\n    return adjust({\n      focusedDate: focusedDate.subtract(getUnitDuration(visibleDuration)),\n      startDate\n    });\n  }\n  if (visibleDuration.days) {\n    return getPreviousPage(focusedDate, startDate, visibleDuration, locale, minValue, maxValue);\n  }\n  if (visibleDuration.weeks) {\n    return adjust({\n      focusedDate: focusedDate.subtract({ months: 1 }),\n      startDate\n    });\n  }\n  if (visibleDuration.months || visibleDuration.years) {\n    return adjust({\n      focusedDate: focusedDate.subtract({ years: 1 }),\n      startDate\n    });\n  }\n}\n\n// src/parse-date.ts\n\nfunction parseDateString(date, locale, timeZone) {\n  const regex = createRegex(locale, timeZone);\n  const { year, month, day } = extract(regex, date) ?? {};\n  if (year != null && year.length === 4 && month != null && +month <= 12 && day != null && +day <= 31) {\n    return new _internationalized_date__WEBPACK_IMPORTED_MODULE_0__.CalendarDateTime(+year, +month, +day);\n  }\n  const time = Date.parse(date);\n  if (!isNaN(time)) {\n    const date2 = new Date(time);\n    return new _internationalized_date__WEBPACK_IMPORTED_MODULE_0__.CalendarDateTime(date2.getFullYear(), date2.getMonth() + 1, date2.getDate());\n  }\n}\nfunction createRegex(locale, timeZone) {\n  const formatter = new _internationalized_date__WEBPACK_IMPORTED_MODULE_0__.DateFormatter(locale, { day: \"numeric\", month: \"numeric\", year: \"numeric\", timeZone });\n  const parts = formatter.formatToParts(new Date(2e3, 11, 25));\n  return parts.map(({ type, value }) => type === \"literal\" ? value : `((?!=<${type}>)\\\\d+)`).join(\"\");\n}\nfunction extract(pattern, str) {\n  const matches = str.match(pattern);\n  return pattern.toString().match(/<(.+?)>/g)?.map((group) => {\n    const groupMatches = group.match(/<(.+)>/);\n    if (!groupMatches || groupMatches.length <= 0) {\n      return null;\n    }\n    return group.match(/<(.+)>/)?.[1];\n  }).reduce(\n    (acc, curr, index) => {\n      if (!curr)\n        return acc;\n      if (matches && matches.length > index) {\n        acc[curr] = matches[index + 1];\n      } else {\n        acc[curr] = null;\n      }\n      return acc;\n    },\n    {}\n  );\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9kYXRlLXV0aWxzL2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQVFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxvRUFBVztBQUN6QixJQUFJO0FBQ0osY0FBYyxxRUFBWTtBQUMxQixJQUFJO0FBQ0osY0FBYyxvRUFBVztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxnRUFBTyxxQkFBcUIsdUVBQWM7QUFDeEQ7QUFDQTtBQUNBLGNBQWMsZ0VBQU8sbUJBQW1CLHVFQUFjO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGdFQUFPLE9BQU8sdUVBQWM7QUFDdkM7QUFDQTtBQUNBLFdBQVcsZ0VBQU8sT0FBTyx1RUFBYztBQUN2QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQzZEO0FBQzdEO0FBQ0EsU0FBUyxnRUFBTztBQUNoQjtBQUNBO0FBQ0EsMEJBQTBCLGtFQUFTO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsU0FBUztBQUNqRCxTQUFTLGtFQUFTO0FBQ2xCO0FBQ0E7QUFDQSxpQ0FBaUMsU0FBUztBQUMxQyxTQUFTLGtFQUFTO0FBQ2xCOztBQUVBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDNkQ7QUFDN0Q7QUFDQSxtREFBbUQ7QUFDbkQ7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDJFQUFrQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLG1CQUFtQjtBQUN4RCxzQ0FBc0MsbUJBQW1CO0FBQ3pEO0FBQ0EscUNBQXFDLG1CQUFtQjtBQUN4RCxzQ0FBc0MsbUJBQW1CO0FBQ3pEO0FBQ0EscUNBQXFDLCtCQUErQjtBQUNwRSxzQ0FBc0MsK0JBQStCO0FBQ3JFLHFDQUFxQyxnQ0FBZ0M7QUFDckUsc0NBQXNDLGdDQUFnQztBQUN0RTtBQUNBLHNDQUFzQywrQkFBK0I7QUFDckUsc0NBQXNDLCtCQUErQjtBQUNyRTtBQUNBLHFDQUFxQyxrQkFBa0I7QUFDdkQsc0NBQXNDLGtCQUFrQjtBQUN4RCx1Q0FBdUMsa0JBQWtCO0FBQ3pELHdDQUF3QyxpQkFBaUI7QUFDekQ7QUFDQTtBQUNBLHNDQUFzQyxnQkFBZ0I7QUFDdEQ7QUFDQTtBQUNBLHNDQUFzQyxrQkFBa0I7QUFDeEQsdUNBQXVDLGdCQUFnQjtBQUN2RCx3Q0FBd0MsZUFBZTtBQUN2RDtBQUNBLHNDQUFzQyxpQkFBaUI7QUFDdkQsd0NBQXdDLGlCQUFpQjtBQUN6RCxzQ0FBc0MsaUJBQWlCO0FBQ3ZELHdDQUF3QyxpQkFBaUI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isa0JBQWtCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGtCQUFrQjtBQUNwQztBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDa0U7O0FBRWxFO0FBQzBHOztBQUUxRztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZUFBZSwyRUFBbUIsQ0FBQyw4REFBSztBQUN4QyxhQUFhLGtFQUFhO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxrRUFBVTtBQUNoQjtBQUNBO0FBQ0EsaUVBQWlFLFFBQVEsU0FBUyxLQUFLO0FBQ3ZGOztBQUVBO0FBQzZHOztBQUU3RztBQUM4SDtBQUM5SDtBQUNBLGVBQWUsdUVBQWUsQ0FBQyw4REFBTTtBQUNyQyxhQUFhLGtFQUFjO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sa0VBQVUsUUFBUSxxRUFBYTtBQUN0QztBQUNBO0FBQ0E7QUFDQSxNQUFNLGtFQUFVLE1BQU0sbUVBQVU7QUFDaEM7QUFDQTtBQUNBLE1BQU0sa0VBQVUsTUFBTSxtRUFBVTtBQUNoQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixRQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDbUY7O0FBRW5GO0FBQ3VEO0FBQ3ZEO0FBQ0EsY0FBYyxxRUFBWTtBQUMxQjtBQUNBLHlCQUF5QixZQUFZO0FBQ3JDOztBQUVBO0FBQ0E7QUFDQSw4QkFBOEIsa0JBQWtCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLFNBQVM7QUFDdkMsUUFBUSxrRUFBVTtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQix3RUFBZTtBQUNwQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsUUFBUTtBQUMxQixrREFBa0QsZUFBZTtBQUNqRTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUMwRTtBQUMxRTtBQUNBLHlCQUF5QixrRUFBYyxXQUFXLDJCQUEyQjtBQUM3RSwwQkFBMEIsa0VBQWMsV0FBVyw0QkFBNEI7QUFDL0UsMkJBQTJCLGtFQUFjLFdBQVcsNkJBQTZCO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsYUFBYTtBQUN2RTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsa0JBQWtCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBTWlDO0FBQ2pDO0FBQ0EsU0FBUyw4REFBTSxhQUFhLHlFQUFnQjtBQUM1QztBQUNBO0FBQ0Esb0JBQW9CLFNBQVM7QUFDN0I7QUFDQTtBQUNBLHlCQUF5QixTQUFTO0FBQ2xDO0FBQ0E7QUFDQSxvQkFBb0IsT0FBTztBQUMzQjtBQUNBO0FBQ0Esb0JBQW9CLE1BQU07QUFDMUI7QUFDQTtBQUNBLFNBQVMsbUVBQVUsQ0FBQywyRUFBbUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLFNBQVM7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQU1pQztBQUNqQztBQUNBO0FBQ0EsWUFBWSx5QkFBeUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxVQUFVO0FBQy9DO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxVQUFVO0FBQ3BEO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLG9FQUFZO0FBQy9CO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixxRUFBYTtBQUNoQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsa0VBQVM7QUFDNUI7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLG1FQUFXO0FBQzlCO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLFdBQVc7QUFDaEQ7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLFVBQVU7QUFDL0M7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsV0FBVztBQUNyRDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsVUFBVTtBQUNwRDtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQzRGO0FBQzVGO0FBQ0E7QUFDQSxVQUFVLG1CQUFtQjtBQUM3QjtBQUNBLGVBQWUscUVBQWdCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxxRUFBZ0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGtFQUFjLFdBQVcsNkRBQTZEO0FBQzlHO0FBQ0Esc0JBQXNCLGFBQWEsMkNBQTJDLEtBQUs7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQWtERTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBhcmstdWkvZXhhbXBsZXMtcmVhY3QtbmV4dC1qcy8uL25vZGVfbW9kdWxlcy9AemFnLWpzL2RhdGUtdXRpbHMvZGlzdC9pbmRleC5tanM/ZDU3MiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvY29uc3RyYWluLnRzXG5pbXBvcnQge1xuICBtYXhEYXRlLFxuICBtaW5EYXRlLFxuICBzdGFydE9mTW9udGgsXG4gIHN0YXJ0T2ZXZWVrLFxuICBzdGFydE9mWWVhcixcbiAgdG9DYWxlbmRhckRhdGVcbn0gZnJvbSBcIkBpbnRlcm5hdGlvbmFsaXplZC9kYXRlXCI7XG5mdW5jdGlvbiBhbGlnbkNlbnRlcihkYXRlLCBkdXJhdGlvbiwgbG9jYWxlLCBtaW4sIG1heCkge1xuICBsZXQgaGFsZkR1cmF0aW9uID0ge307XG4gIGZvciAobGV0IGtleSBpbiBkdXJhdGlvbikge1xuICAgIGhhbGZEdXJhdGlvbltrZXldID0gTWF0aC5mbG9vcihkdXJhdGlvbltrZXldIC8gMik7XG4gICAgaWYgKGhhbGZEdXJhdGlvbltrZXldID4gMCAmJiBkdXJhdGlvbltrZXldICUgMiA9PT0gMCkge1xuICAgICAgaGFsZkR1cmF0aW9uW2tleV0tLTtcbiAgICB9XG4gIH1cbiAgbGV0IGFsaWduZWQgPSBhbGlnblN0YXJ0KGRhdGUsIGR1cmF0aW9uLCBsb2NhbGUpLnN1YnRyYWN0KGhhbGZEdXJhdGlvbik7XG4gIHJldHVybiBjb25zdHJhaW5TdGFydChkYXRlLCBhbGlnbmVkLCBkdXJhdGlvbiwgbG9jYWxlLCBtaW4sIG1heCk7XG59XG5mdW5jdGlvbiBhbGlnblN0YXJ0KGRhdGUsIGR1cmF0aW9uLCBsb2NhbGUsIG1pbiwgbWF4KSB7XG4gIGxldCBhbGlnbmVkID0gZGF0ZTtcbiAgaWYgKGR1cmF0aW9uLnllYXJzKSB7XG4gICAgYWxpZ25lZCA9IHN0YXJ0T2ZZZWFyKGRhdGUpO1xuICB9IGVsc2UgaWYgKGR1cmF0aW9uLm1vbnRocykge1xuICAgIGFsaWduZWQgPSBzdGFydE9mTW9udGgoZGF0ZSk7XG4gIH0gZWxzZSBpZiAoZHVyYXRpb24ud2Vla3MpIHtcbiAgICBhbGlnbmVkID0gc3RhcnRPZldlZWsoZGF0ZSwgbG9jYWxlKTtcbiAgfVxuICByZXR1cm4gY29uc3RyYWluU3RhcnQoZGF0ZSwgYWxpZ25lZCwgZHVyYXRpb24sIGxvY2FsZSwgbWluLCBtYXgpO1xufVxuZnVuY3Rpb24gYWxpZ25FbmQoZGF0ZSwgZHVyYXRpb24sIGxvY2FsZSwgbWluLCBtYXgpIHtcbiAgbGV0IGQgPSB7IC4uLmR1cmF0aW9uIH07XG4gIGlmIChkLmRheXMpIHtcbiAgICBkLmRheXMtLTtcbiAgfSBlbHNlIGlmIChkLndlZWtzKSB7XG4gICAgZC53ZWVrcy0tO1xuICB9IGVsc2UgaWYgKGQubW9udGhzKSB7XG4gICAgZC5tb250aHMtLTtcbiAgfSBlbHNlIGlmIChkLnllYXJzKSB7XG4gICAgZC55ZWFycy0tO1xuICB9XG4gIGxldCBhbGlnbmVkID0gYWxpZ25TdGFydChkYXRlLCBkdXJhdGlvbiwgbG9jYWxlKS5zdWJ0cmFjdChkKTtcbiAgcmV0dXJuIGNvbnN0cmFpblN0YXJ0KGRhdGUsIGFsaWduZWQsIGR1cmF0aW9uLCBsb2NhbGUsIG1pbiwgbWF4KTtcbn1cbmZ1bmN0aW9uIGNvbnN0cmFpblN0YXJ0KGRhdGUsIGFsaWduZWQsIGR1cmF0aW9uLCBsb2NhbGUsIG1pbiwgbWF4KSB7XG4gIGlmIChtaW4gJiYgZGF0ZS5jb21wYXJlKG1pbikgPj0gMCkge1xuICAgIGFsaWduZWQgPSBtYXhEYXRlKGFsaWduZWQsIGFsaWduU3RhcnQodG9DYWxlbmRhckRhdGUobWluKSwgZHVyYXRpb24sIGxvY2FsZSkpO1xuICB9XG4gIGlmIChtYXggJiYgZGF0ZS5jb21wYXJlKG1heCkgPD0gMCkge1xuICAgIGFsaWduZWQgPSBtaW5EYXRlKGFsaWduZWQsIGFsaWduRW5kKHRvQ2FsZW5kYXJEYXRlKG1heCksIGR1cmF0aW9uLCBsb2NhbGUpKTtcbiAgfVxuICByZXR1cm4gYWxpZ25lZDtcbn1cbmZ1bmN0aW9uIGNvbnN0cmFpblZhbHVlKGRhdGUsIG1pblZhbHVlLCBtYXhWYWx1ZSkge1xuICBpZiAobWluVmFsdWUpIHtcbiAgICBkYXRlID0gbWF4RGF0ZShkYXRlLCB0b0NhbGVuZGFyRGF0ZShtaW5WYWx1ZSkpO1xuICB9XG4gIGlmIChtYXhWYWx1ZSkge1xuICAgIGRhdGUgPSBtaW5EYXRlKGRhdGUsIHRvQ2FsZW5kYXJEYXRlKG1heFZhbHVlKSk7XG4gIH1cbiAgcmV0dXJuIGRhdGU7XG59XG5cbi8vIHNyYy9hbGlnbi50c1xuZnVuY3Rpb24gYWxpZ25EYXRlKGRhdGUsIGFsaWdubWVudCwgZHVyYXRpb24sIGxvY2FsZSwgbWluLCBtYXgpIHtcbiAgc3dpdGNoIChhbGlnbm1lbnQpIHtcbiAgICBjYXNlIFwic3RhcnRcIjpcbiAgICAgIHJldHVybiBhbGlnblN0YXJ0KGRhdGUsIGR1cmF0aW9uLCBsb2NhbGUsIG1pbiwgbWF4KTtcbiAgICBjYXNlIFwiZW5kXCI6XG4gICAgICByZXR1cm4gYWxpZ25FbmQoZGF0ZSwgZHVyYXRpb24sIGxvY2FsZSwgbWluLCBtYXgpO1xuICAgIGNhc2UgXCJjZW50ZXJcIjpcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGFsaWduQ2VudGVyKGRhdGUsIGR1cmF0aW9uLCBsb2NhbGUsIG1pbiwgbWF4KTtcbiAgfVxufVxuZnVuY3Rpb24gYWxpZ25TdGFydERhdGUoZGF0ZSwgc3RhcnREYXRlLCBlbmREYXRlLCBkdXJhdGlvbiwgbG9jYWxlLCBtaW4sIG1heCkge1xuICBpZiAoZGF0ZS5jb21wYXJlKHN0YXJ0RGF0ZSkgPCAwKSB7XG4gICAgcmV0dXJuIGFsaWduRW5kKGRhdGUsIGR1cmF0aW9uLCBsb2NhbGUsIG1pbiwgbWF4KTtcbiAgfVxuICBpZiAoZGF0ZS5jb21wYXJlKGVuZERhdGUpID4gMCkge1xuICAgIHJldHVybiBhbGlnblN0YXJ0KGRhdGUsIGR1cmF0aW9uLCBsb2NhbGUsIG1pbiwgbWF4KTtcbiAgfVxuICByZXR1cm4gc3RhcnREYXRlO1xufVxuXG4vLyBzcmMvYXNzZXJ0aW9uLnRzXG5pbXBvcnQgeyBpc1NhbWVEYXksIGlzVG9kYXkgfSBmcm9tIFwiQGludGVybmF0aW9uYWxpemVkL2RhdGVcIjtcbmZ1bmN0aW9uIGlzVG9kYXlEYXRlKGRhdGUsIHRpbWVab25lKSB7XG4gIHJldHVybiBpc1RvZGF5KGRhdGUsIHRpbWVab25lKTtcbn1cbmZ1bmN0aW9uIGlzRGF0ZUVxdWFsKGRhdGVBLCBkYXRlQikge1xuICByZXR1cm4gZGF0ZUIgIT0gbnVsbCAmJiBpc1NhbWVEYXkoZGF0ZUEsIGRhdGVCKTtcbn1cbmZ1bmN0aW9uIGlzRGF0ZUludmFsaWQoZGF0ZSwgbWluVmFsdWUsIG1heFZhbHVlKSB7XG4gIHJldHVybiBtaW5WYWx1ZSAhPSBudWxsICYmIGRhdGUuY29tcGFyZShtaW5WYWx1ZSkgPCAwIHx8IG1heFZhbHVlICE9IG51bGwgJiYgZGF0ZS5jb21wYXJlKG1heFZhbHVlKSA+IDA7XG59XG5mdW5jdGlvbiBpc0RhdGVEaXNhYmxlZChkYXRlLCBzdGFydERhdGUsIGVuZERhdGUsIG1pblZhbHVlLCBtYXhWYWx1ZSkge1xuICByZXR1cm4gZGF0ZS5jb21wYXJlKHN0YXJ0RGF0ZSkgPCAwIHx8IGRhdGUuY29tcGFyZShlbmREYXRlKSA+IDAgfHwgaXNEYXRlSW52YWxpZChkYXRlLCBtaW5WYWx1ZSwgbWF4VmFsdWUpO1xufVxuZnVuY3Rpb24gaXNEYXRlVW5hdmFpbGFibGUoZGF0ZSwgaXNVbmF2YWlsYWJsZSwgbG9jYWxlLCBtaW5WYWx1ZSwgbWF4VmFsdWUpIHtcbiAgaWYgKCFkYXRlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChpc1VuYXZhaWxhYmxlPy4oZGF0ZSwgbG9jYWxlKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBpc0RhdGVJbnZhbGlkKGRhdGUsIG1pblZhbHVlLCBtYXhWYWx1ZSk7XG59XG5mdW5jdGlvbiBpc0RhdGVPdXRzaWRlVmlzaWJsZVJhbmdlKGRhdGUsIHN0YXJ0RGF0ZSwgZW5kRGF0ZSkge1xuICByZXR1cm4gZGF0ZS5jb21wYXJlKHN0YXJ0RGF0ZSkgPCAwIHx8IGRhdGUuY29tcGFyZShlbmREYXRlKSA+IDA7XG59XG5mdW5jdGlvbiBpc1ByZXZpb3VzVmlzaWJsZVJhbmdlSW52YWxpZChzdGFydERhdGUsIG1pblZhbHVlLCBtYXhWYWx1ZSkge1xuICBjb25zdCBwcmV2RGF0ZSA9IHN0YXJ0RGF0ZS5zdWJ0cmFjdCh7IGRheXM6IDEgfSk7XG4gIHJldHVybiBpc1NhbWVEYXkocHJldkRhdGUsIHN0YXJ0RGF0ZSkgfHwgaXNEYXRlSW52YWxpZChwcmV2RGF0ZSwgbWluVmFsdWUsIG1heFZhbHVlKTtcbn1cbmZ1bmN0aW9uIGlzTmV4dFZpc2libGVSYW5nZUludmFsaWQoZW5kRGF0ZSwgbWluVmFsdWUsIG1heFZhbHVlKSB7XG4gIGNvbnN0IG5leHREYXRlID0gZW5kRGF0ZS5hZGQoeyBkYXlzOiAxIH0pO1xuICByZXR1cm4gaXNTYW1lRGF5KG5leHREYXRlLCBlbmREYXRlKSB8fCBpc0RhdGVJbnZhbGlkKG5leHREYXRlLCBtaW5WYWx1ZSwgbWF4VmFsdWUpO1xufVxuXG4vLyBzcmMvZHVyYXRpb24udHNcbmZ1bmN0aW9uIGdldFVuaXREdXJhdGlvbihkdXJhdGlvbikge1xuICBsZXQgZCA9IHsgLi4uZHVyYXRpb24gfTtcbiAgZm9yIChsZXQga2V5IGluIGQpIHtcbiAgICBkW2tleV0gPSAxO1xuICB9XG4gIHJldHVybiBkO1xufVxuZnVuY3Rpb24gZ2V0RW5kRGF0ZShzdGFydERhdGUsIGR1cmF0aW9uKSB7XG4gIGxldCBkID0geyAuLi5kdXJhdGlvbiB9O1xuICBpZiAoZC5kYXlzKSB7XG4gICAgZC5kYXlzLS07XG4gIH0gZWxzZSB7XG4gICAgZC5kYXlzID0gLTE7XG4gIH1cbiAgcmV0dXJuIHN0YXJ0RGF0ZS5hZGQoZCk7XG59XG5cbi8vIHNyYy9mb3JtYXQtZGF0ZS50c1xuaW1wb3J0IHsgdG9DYWxlbmRhckRhdGVUaW1lIH0gZnJvbSBcIkBpbnRlcm5hdGlvbmFsaXplZC9kYXRlXCI7XG5mdW5jdGlvbiBjcmVhdGVSZWdFeChzaWduKSB7XG4gIGxldCBzeW1ib2xzID0gXCJcXFxcc3xcXFxcLnwtfC98XFxcXFxcXFx8LHxcXFxcJHxcXFxcIXxcXFxcP3w6fDtcIjtcbiAgcmV0dXJuIG5ldyBSZWdFeHAoXCIoXnw+fFwiICsgc3ltYm9scyArIFwiKShcIiArIHNpZ24gKyBcIikoJHw8fFwiICsgc3ltYm9scyArIFwiKVwiLCBcImdcIik7XG59XG5mdW5jdGlvbiBmb3JtYXREYXRlKHZhbHVlLCBmb3JtYXRTdHJpbmcsIGxvY2FsZSwgdGltZVpvbmUgPSBcIlVUQ1wiKSB7XG4gIGNvbnN0IGRhdGV0aW1lID0gdG9DYWxlbmRhckRhdGVUaW1lKHZhbHVlKTtcbiAgY29uc3QgZGF0ZSA9IGRhdGV0aW1lLnRvRGF0ZSh0aW1lWm9uZSk7XG4gIGNvbnN0IGZvcm1hdHMgPSB7XG4gICAgLy8gVGltZSBpbiBtc1xuICAgIFQ6IGRhdGUuZ2V0VGltZSgpLFxuICAgIC8vIE1pbnV0ZXNcbiAgICBtOiBkYXRlLnRvTG9jYWxlU3RyaW5nKGxvY2FsZSwgeyBtaW51dGU6IFwibnVtZXJpY1wiIH0pLFxuICAgIG1tOiBkYXRlLnRvTG9jYWxlU3RyaW5nKGxvY2FsZSwgeyBtaW51dGU6IFwiMi1kaWdpdFwiIH0pLFxuICAgIC8vIFNlY29uZHNcbiAgICBzOiBkYXRlLnRvTG9jYWxlU3RyaW5nKGxvY2FsZSwgeyBzZWNvbmQ6IFwibnVtZXJpY1wiIH0pLFxuICAgIHNzOiBkYXRlLnRvTG9jYWxlU3RyaW5nKGxvY2FsZSwgeyBzZWNvbmQ6IFwiMi1kaWdpdFwiIH0pLFxuICAgIC8vIEhvdXJzXG4gICAgaDogZGF0ZS50b0xvY2FsZVN0cmluZyhsb2NhbGUsIHsgaG91cjogXCJudW1lcmljXCIsIGhvdXIxMjogdHJ1ZSB9KSxcbiAgICBoaDogZGF0ZS50b0xvY2FsZVN0cmluZyhsb2NhbGUsIHsgaG91cjogXCIyLWRpZ2l0XCIsIGhvdXIxMjogdHJ1ZSB9KSxcbiAgICBIOiBkYXRlLnRvTG9jYWxlU3RyaW5nKGxvY2FsZSwgeyBob3VyOiBcIm51bWVyaWNcIiwgaG91cjEyOiBmYWxzZSB9KSxcbiAgICBISDogZGF0ZS50b0xvY2FsZVN0cmluZyhsb2NhbGUsIHsgaG91cjogXCIyLWRpZ2l0XCIsIGhvdXIxMjogZmFsc2UgfSksXG4gICAgLy8gRGF5IHBlcmlvZFxuICAgIGFhOiBkYXRlLnRvTG9jYWxlU3RyaW5nKGxvY2FsZSwgeyBob3VyOiBcIm51bWVyaWNcIiwgaG91cjEyOiB0cnVlIH0pLnRvTG93ZXJDYXNlKCksXG4gICAgQUE6IGRhdGUudG9Mb2NhbGVTdHJpbmcobG9jYWxlLCB7IGhvdXI6IFwibnVtZXJpY1wiLCBob3VyMTI6IHRydWUgfSkudG9VcHBlckNhc2UoKSxcbiAgICAvLyBEYXkgb2Ygd2Vla1xuICAgIEU6IGRhdGUudG9Mb2NhbGVTdHJpbmcobG9jYWxlLCB7IHdlZWtkYXk6IFwic2hvcnRcIiB9KSxcbiAgICBFRTogZGF0ZS50b0xvY2FsZVN0cmluZyhsb2NhbGUsIHsgd2Vla2RheTogXCJzaG9ydFwiIH0pLFxuICAgIEVFRTogZGF0ZS50b0xvY2FsZVN0cmluZyhsb2NhbGUsIHsgd2Vla2RheTogXCJzaG9ydFwiIH0pLFxuICAgIEVFRUU6IGRhdGUudG9Mb2NhbGVTdHJpbmcobG9jYWxlLCB7IHdlZWtkYXk6IFwibG9uZ1wiIH0pLFxuICAgIC8vIERhdGUgb2YgbW9udGhcbiAgICBkOiBkYXRldGltZS5kYXksXG4gICAgZGQ6IGRhdGUudG9Mb2NhbGVTdHJpbmcobG9jYWxlLCB7IGRheTogXCIyLWRpZ2l0XCIgfSksXG4gICAgLy8gTW9udGhzXG4gICAgTTogZGF0ZXRpbWUubW9udGggKyAxLFxuICAgIE1NOiBkYXRlLnRvTG9jYWxlU3RyaW5nKGxvY2FsZSwgeyBtb250aDogXCIyLWRpZ2l0XCIgfSksXG4gICAgTU1NOiBkYXRlLnRvTG9jYWxlU3RyaW5nKGxvY2FsZSwgeyBtb250aDogXCJzaG9ydFwiIH0pLFxuICAgIE1NTU06IGRhdGUudG9Mb2NhbGVTdHJpbmcobG9jYWxlLCB7IG1vbnRoOiBcImxvbmdcIiB9KSxcbiAgICAvLyBZZWFyc1xuICAgIHl5OiBkYXRlLnRvTG9jYWxlU3RyaW5nKGxvY2FsZSwgeyB5ZWFyOiBcIjItZGlnaXRcIiB9KSxcbiAgICB5eXl5OiBkYXRlLnRvTG9jYWxlU3RyaW5nKGxvY2FsZSwgeyB5ZWFyOiBcIm51bWVyaWNcIiB9KSxcbiAgICBZWTogZGF0ZS50b0xvY2FsZVN0cmluZyhsb2NhbGUsIHsgeWVhcjogXCIyLWRpZ2l0XCIgfSksXG4gICAgWVlZWTogZGF0ZS50b0xvY2FsZVN0cmluZyhsb2NhbGUsIHsgeWVhcjogXCJudW1lcmljXCIgfSlcbiAgfTtcbiAgbGV0IHJlc3VsdCA9IGZvcm1hdFN0cmluZztcbiAgZm9yIChjb25zdCBrZXkgaW4gZm9ybWF0cykge1xuICAgIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKGNyZWF0ZVJlZ0V4KGtleSksIFwiJDFcIiArIGZvcm1hdHNba2V5XSArIFwiJDNcIik7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8gc3JjL2Zvcm1hdC1yYW5nZS50c1xuZnVuY3Rpb24gZm9ybWF0UmFuZ2Uoc3RhcnREYXRlLCBlbmREYXRlLCBmb3JtYXR0ZXIsIHRvU3RyaW5nLCB0aW1lWm9uZSkge1xuICBsZXQgcGFydHMgPSBmb3JtYXR0ZXIuZm9ybWF0UmFuZ2VUb1BhcnRzKHN0YXJ0RGF0ZS50b0RhdGUodGltZVpvbmUpLCBlbmREYXRlLnRvRGF0ZSh0aW1lWm9uZSkpO1xuICBsZXQgc2VwYXJhdG9ySW5kZXggPSAtMTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgIGxldCBwYXJ0ID0gcGFydHNbaV07XG4gICAgaWYgKHBhcnQuc291cmNlID09PSBcInNoYXJlZFwiICYmIHBhcnQudHlwZSA9PT0gXCJsaXRlcmFsXCIpIHtcbiAgICAgIHNlcGFyYXRvckluZGV4ID0gaTtcbiAgICB9IGVsc2UgaWYgKHBhcnQuc291cmNlID09PSBcImVuZFJhbmdlXCIpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBsZXQgc3RhcnQgPSBcIlwiO1xuICBsZXQgZW5kID0gXCJcIjtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChpIDwgc2VwYXJhdG9ySW5kZXgpIHtcbiAgICAgIHN0YXJ0ICs9IHBhcnRzW2ldLnZhbHVlO1xuICAgIH0gZWxzZSBpZiAoaSA+IHNlcGFyYXRvckluZGV4KSB7XG4gICAgICBlbmQgKz0gcGFydHNbaV0udmFsdWU7XG4gICAgfVxuICB9XG4gIHJldHVybiB0b1N0cmluZyhzdGFydCwgZW5kKTtcbn1cblxuLy8gc3JjL2Zvcm1hdC1zZWxlY3RlZC1kYXRlLnRzXG5pbXBvcnQgeyBpc1NhbWVEYXkgYXMgaXNTYW1lRGF5MiB9IGZyb20gXCJAaW50ZXJuYXRpb25hbGl6ZWQvZGF0ZVwiO1xuXG4vLyBzcmMvZ2V0LWRheS1mb3JtYXR0ZXIudHNcbmltcG9ydCB7IERhdGVGb3JtYXR0ZXIsIHRvQ2FsZW5kYXJEYXRlVGltZSBhcyB0b0NhbGVuZGFyRGF0ZVRpbWUyLCB0b2RheSB9IGZyb20gXCJAaW50ZXJuYXRpb25hbGl6ZWQvZGF0ZVwiO1xuXG4vLyBzcmMvZ2V0LWVyYS1mb3JtYXQudHNcbmZ1bmN0aW9uIGdldEVyYUZvcm1hdChkYXRlKSB7XG4gIHJldHVybiBkYXRlPy5jYWxlbmRhci5pZGVudGlmaWVyID09PSBcImdyZWdvcnlcIiAmJiBkYXRlLmVyYSA9PT0gXCJCQ1wiID8gXCJzaG9ydFwiIDogdm9pZCAwO1xufVxuXG4vLyBzcmMvZ2V0LWRheS1mb3JtYXR0ZXIudHNcbmZ1bmN0aW9uIGdldERheUZvcm1hdHRlcihsb2NhbGUsIHRpbWVab25lKSB7XG4gIGNvbnN0IGRhdGUgPSB0b0NhbGVuZGFyRGF0ZVRpbWUyKHRvZGF5KHRpbWVab25lKSk7XG4gIHJldHVybiBuZXcgRGF0ZUZvcm1hdHRlcihsb2NhbGUsIHtcbiAgICB3ZWVrZGF5OiBcImxvbmdcIixcbiAgICBtb250aDogXCJsb25nXCIsXG4gICAgeWVhcjogXCJudW1lcmljXCIsXG4gICAgZGF5OiBcIm51bWVyaWNcIixcbiAgICBlcmE6IGdldEVyYUZvcm1hdChkYXRlKSxcbiAgICB0aW1lWm9uZVxuICB9KTtcbn1cblxuLy8gc3JjL2Zvcm1hdC1zZWxlY3RlZC1kYXRlLnRzXG5mdW5jdGlvbiBmb3JtYXRTZWxlY3RlZERhdGUoc3RhcnREYXRlLCBlbmREYXRlLCBsb2NhbGUsIHRpbWVab25lKSB7XG4gIGxldCBzdGFydCA9IHN0YXJ0RGF0ZTtcbiAgbGV0IGVuZCA9IGVuZERhdGUgPz8gc3RhcnREYXRlO1xuICBsZXQgZm9ybWF0dGVyID0gZ2V0RGF5Rm9ybWF0dGVyKGxvY2FsZSwgdGltZVpvbmUpO1xuICBpZiAoaXNTYW1lRGF5MihzdGFydCwgZW5kKSkge1xuICAgIHJldHVybiBmb3JtYXR0ZXIuZm9ybWF0KHN0YXJ0LnRvRGF0ZSh0aW1lWm9uZSkpO1xuICB9XG4gIHJldHVybiBmb3JtYXRSYW5nZShzdGFydCwgZW5kLCBmb3JtYXR0ZXIsIChzdGFydDIsIGVuZDIpID0+IGAke3N0YXJ0Mn0gXFx1MjAxMyAke2VuZDJ9YCwgdGltZVpvbmUpO1xufVxuXG4vLyBzcmMvZm9ybWF0LXZpc2libGUtcmFuZ2UudHNcbmltcG9ydCB7IGVuZE9mTW9udGgsIGlzU2FtZURheSBhcyBpc1NhbWVEYXkzLCBzdGFydE9mTW9udGggYXMgc3RhcnRPZk1vbnRoMiB9IGZyb20gXCJAaW50ZXJuYXRpb25hbGl6ZWQvZGF0ZVwiO1xuXG4vLyBzcmMvZ2V0LW1vbnRoLWZvcm1hdHRlci50c1xuaW1wb3J0IHsgdG9kYXkgYXMgdG9kYXkyLCB0b0NhbGVuZGFyRGF0ZSBhcyB0b0NhbGVuZGFyRGF0ZTIsIERhdGVGb3JtYXR0ZXIgYXMgRGF0ZUZvcm1hdHRlcjIgfSBmcm9tIFwiQGludGVybmF0aW9uYWxpemVkL2RhdGVcIjtcbmZ1bmN0aW9uIGdldE1vbnRoRm9ybWF0dGVyKGxvY2FsZSwgdGltZVpvbmUpIHtcbiAgY29uc3QgZGF0ZSA9IHRvQ2FsZW5kYXJEYXRlMih0b2RheTIodGltZVpvbmUpKTtcbiAgcmV0dXJuIG5ldyBEYXRlRm9ybWF0dGVyMihsb2NhbGUsIHtcbiAgICBtb250aDogXCJsb25nXCIsXG4gICAgeWVhcjogXCJudW1lcmljXCIsXG4gICAgZXJhOiBnZXRFcmFGb3JtYXQoZGF0ZSksXG4gICAgY2FsZW5kYXI6IGRhdGU/LmNhbGVuZGFyLmlkZW50aWZpZXIsXG4gICAgdGltZVpvbmVcbiAgfSk7XG59XG5cbi8vIHNyYy9mb3JtYXQtdmlzaWJsZS1yYW5nZS50c1xuZnVuY3Rpb24gZm9ybWF0VmlzaWJsZVJhbmdlKHN0YXJ0RGF0ZSwgZW5kRGF0ZSwgbG9jYWxlLCB0aW1lWm9uZSkge1xuICBjb25zdCBzdGFydCA9IHN0YXJ0RGF0ZTtcbiAgY29uc3QgZW5kID0gZW5kRGF0ZSA/PyBzdGFydERhdGU7XG4gIGNvbnN0IGRheUZvcm1hdHRlciA9IGdldERheUZvcm1hdHRlcihsb2NhbGUsIHRpbWVab25lKTtcbiAgaWYgKCFpc1NhbWVEYXkzKHN0YXJ0LCBzdGFydE9mTW9udGgyKHN0YXJ0KSkpIHtcbiAgICByZXR1cm4gZGF5Rm9ybWF0dGVyLmZvcm1hdFJhbmdlKHN0YXJ0LnRvRGF0ZSh0aW1lWm9uZSksIGVuZC50b0RhdGUodGltZVpvbmUpKTtcbiAgfVxuICBjb25zdCBtb250aEZvcm1hdHRlciA9IGdldE1vbnRoRm9ybWF0dGVyKGxvY2FsZSwgdGltZVpvbmUpO1xuICBpZiAoaXNTYW1lRGF5MyhlbmQsIGVuZE9mTW9udGgoc3RhcnQpKSkge1xuICAgIHJldHVybiBtb250aEZvcm1hdHRlci5mb3JtYXQoc3RhcnQudG9EYXRlKHRpbWVab25lKSk7XG4gIH1cbiAgaWYgKGlzU2FtZURheTMoZW5kLCBlbmRPZk1vbnRoKGVuZCkpKSB7XG4gICAgcmV0dXJuIG1vbnRoRm9ybWF0dGVyLmZvcm1hdFJhbmdlKHN0YXJ0LnRvRGF0ZSh0aW1lWm9uZSksIGVuZC50b0RhdGUodGltZVpvbmUpKTtcbiAgfVxuICByZXR1cm4gXCJcIjtcbn1cblxuLy8gc3JjL2dldC1kZWNhZGUtcmFuZ2UudHNcbmZ1bmN0aW9uIGdldERlY2FkZVJhbmdlKHllYXIpIHtcbiAgY29uc3QgY29tcHV0ZWRZZWFyID0geWVhciAtIHllYXIgJSAxMCAtIDE7XG4gIGNvbnN0IHllYXJzID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgMTI7IGkgKz0gMSkge1xuICAgIGNvbnN0IHZhbHVlID0gY29tcHV0ZWRZZWFyICsgaTtcbiAgICB5ZWFycy5wdXNoKHZhbHVlKTtcbiAgfVxuICByZXR1cm4geWVhcnM7XG59XG5cbi8vIHNyYy9nZXQtbW9udGgtZGF5cy50c1xuaW1wb3J0IHsgZ2V0V2Vla3NJbk1vbnRoLCBpc1NhbWVEYXkgYXMgaXNTYW1lRGF5NCB9IGZyb20gXCJAaW50ZXJuYXRpb25hbGl6ZWQvZGF0ZVwiO1xuXG4vLyBzcmMvZ2V0LXN0YXJ0LW9mLXdlZWsudHNcbmltcG9ydCB7IGdldERheU9mV2VlayB9IGZyb20gXCJAaW50ZXJuYXRpb25hbGl6ZWQvZGF0ZVwiO1xuZnVuY3Rpb24gZ2V0U3RhcnRPZldlZWsoZGF0ZSwgbG9jYWxlLCBmaXJzdERheU9mV2VlayA9IDApIHtcbiAgY29uc3QgZGF5ID0gZ2V0RGF5T2ZXZWVrKGRhdGUsIGxvY2FsZSk7XG4gIGNvbnN0IGRpZmYgPSAoZGF5IC0gZmlyc3REYXlPZldlZWsgKyA3KSAlIDc7XG4gIHJldHVybiBkYXRlLnN1YnRyYWN0KHsgZGF5czogZGlmZiB9KTtcbn1cblxuLy8gc3JjL2dldC1tb250aC1kYXlzLnRzXG5mdW5jdGlvbiBnZXREYXlzSW5XZWVrKHdlZWtJbmRleCwgZnJvbSwgbG9jYWxlLCBmaXJzdERheU9mV2Vlaykge1xuICBjb25zdCB3ZWVrRGF0ZSA9IGZyb20uYWRkKHsgd2Vla3M6IHdlZWtJbmRleCB9KTtcbiAgY29uc3QgZGF0ZXMgPSBbXTtcbiAgbGV0IGRhdGUgPSBnZXRTdGFydE9mV2Vlayh3ZWVrRGF0ZSwgbG9jYWxlLCBmaXJzdERheU9mV2Vlayk7XG4gIHdoaWxlIChkYXRlcy5sZW5ndGggPCA3KSB7XG4gICAgZGF0ZXMucHVzaChkYXRlKTtcbiAgICBsZXQgbmV4dERhdGUgPSBkYXRlLmFkZCh7IGRheXM6IDEgfSk7XG4gICAgaWYgKGlzU2FtZURheTQoZGF0ZSwgbmV4dERhdGUpKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgZGF0ZSA9IG5leHREYXRlO1xuICB9XG4gIHJldHVybiBkYXRlcztcbn1cbmZ1bmN0aW9uIGdldE1vbnRoRGF5cyhmcm9tLCBsb2NhbGUsIG51bU9mV2Vla3MsIGZpcnN0RGF5T2ZXZWVrKSB7XG4gIGNvbnN0IG1vbnRoV2Vla3MgPSBnZXRXZWVrc0luTW9udGgoZnJvbSwgbG9jYWxlKTtcbiAgY29uc3Qgd2Vla3MgPSBbLi4ubmV3IEFycmF5KG51bU9mV2Vla3MgPz8gbW9udGhXZWVrcykua2V5cygpXTtcbiAgcmV0dXJuIHdlZWtzLm1hcCgod2VlaykgPT4gZ2V0RGF5c0luV2Vlayh3ZWVrLCBmcm9tLCBsb2NhbGUsIGZpcnN0RGF5T2ZXZWVrKSk7XG59XG5cbi8vIHNyYy9nZXQtbW9udGgtbmFtZXMudHNcbmZ1bmN0aW9uIGdldE1vbnRoTmFtZXMobG9jYWxlLCBmb3JtYXQgPSBcImxvbmdcIikge1xuICBjb25zdCBkYXRlID0gbmV3IERhdGUoMjAyMSwgMCwgMSk7XG4gIGNvbnN0IG1vbnRoTmFtZXMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG4gICAgbW9udGhOYW1lcy5wdXNoKGRhdGUudG9Mb2NhbGVTdHJpbmcobG9jYWxlLCB7IG1vbnRoOiBmb3JtYXQgfSkpO1xuICAgIGRhdGUuc2V0TW9udGgoZGF0ZS5nZXRNb250aCgpICsgMSk7XG4gIH1cbiAgcmV0dXJuIG1vbnRoTmFtZXM7XG59XG5cbi8vIHNyYy9nZXQtd2Vla2RheS1mb3JtYXRzLnRzXG5pbXBvcnQgeyBEYXRlRm9ybWF0dGVyIGFzIERhdGVGb3JtYXR0ZXIzIH0gZnJvbSBcIkBpbnRlcm5hdGlvbmFsaXplZC9kYXRlXCI7XG5mdW5jdGlvbiBnZXRXZWVrZGF5Rm9ybWF0cyhsb2NhbGUsIHRpbWVab25lKSB7XG4gIGNvbnN0IGxvbmdGb3JtYXQgPSBuZXcgRGF0ZUZvcm1hdHRlcjMobG9jYWxlLCB7IHdlZWtkYXk6IFwibG9uZ1wiLCB0aW1lWm9uZSB9KTtcbiAgY29uc3Qgc2hvcnRGb3JtYXQgPSBuZXcgRGF0ZUZvcm1hdHRlcjMobG9jYWxlLCB7IHdlZWtkYXk6IFwic2hvcnRcIiwgdGltZVpvbmUgfSk7XG4gIGNvbnN0IG5hcnJvd0Zvcm1hdCA9IG5ldyBEYXRlRm9ybWF0dGVyMyhsb2NhbGUsIHsgd2Vla2RheTogXCJuYXJyb3dcIiwgdGltZVpvbmUgfSk7XG4gIHJldHVybiAodmFsdWUpID0+IHtcbiAgICBjb25zdCBkYXRlID0gdmFsdWUgaW5zdGFuY2VvZiBEYXRlID8gdmFsdWUgOiB2YWx1ZS50b0RhdGUodGltZVpvbmUpO1xuICAgIHJldHVybiB7XG4gICAgICB2YWx1ZSxcbiAgICAgIHNob3J0OiBzaG9ydEZvcm1hdC5mb3JtYXQoZGF0ZSksXG4gICAgICBsb25nOiBsb25nRm9ybWF0LmZvcm1hdChkYXRlKSxcbiAgICAgIG5hcnJvdzogbmFycm93Rm9ybWF0LmZvcm1hdChkYXRlKVxuICAgIH07XG4gIH07XG59XG5cbi8vIHNyYy9nZXQtd2Vlay1kYXlzLnRzXG5mdW5jdGlvbiBnZXRXZWVrRGF5cyhkYXRlLCBzdGFydE9mV2Vla1Byb3AsIHRpbWVab25lLCBsb2NhbGUpIHtcbiAgY29uc3QgZmlyc3REYXlPZldlZWsgPSBnZXRTdGFydE9mV2VlayhkYXRlLCBsb2NhbGUsIHN0YXJ0T2ZXZWVrUHJvcCk7XG4gIGNvbnN0IHdlZWtzID0gWy4uLm5ldyBBcnJheSg3KS5rZXlzKCldO1xuICBjb25zdCBmb3JtYXQgPSBnZXRXZWVrZGF5Rm9ybWF0cyhsb2NhbGUsIHRpbWVab25lKTtcbiAgcmV0dXJuIHdlZWtzLm1hcCgoaW5kZXgpID0+IGZvcm1hdChmaXJzdERheU9mV2Vlay5hZGQoeyBkYXlzOiBpbmRleCB9KSkpO1xufVxuXG4vLyBzcmMvZ2V0LXllYXItcmFuZ2UudHNcbmZ1bmN0aW9uIGdldFllYXJzUmFuZ2UocmFuZ2UpIHtcbiAgY29uc3QgeWVhcnMgPSBbXTtcbiAgZm9yIChsZXQgeWVhciA9IHJhbmdlLmZyb207IHllYXIgPD0gcmFuZ2UudG87IHllYXIgKz0gMSkge1xuICAgIHllYXJzLnB1c2goeWVhcik7XG4gIH1cbiAgcmV0dXJuIHllYXJzO1xufVxuXG4vLyBzcmMvbXV0YXRpb24udHNcbmltcG9ydCB7XG4gIGdldExvY2FsVGltZVpvbmUsXG4gIHRvQ2FsZW5kYXIsXG4gIHRvQ2FsZW5kYXJEYXRlVGltZSBhcyB0b0NhbGVuZGFyRGF0ZVRpbWUzLFxuICB0b2RheSBhcyB0b2RheTNcbn0gZnJvbSBcIkBpbnRlcm5hdGlvbmFsaXplZC9kYXRlXCI7XG5mdW5jdGlvbiBnZXRUb2RheURhdGUodGltZVpvbmUpIHtcbiAgcmV0dXJuIHRvZGF5Myh0aW1lWm9uZSA/PyBnZXRMb2NhbFRpbWVab25lKCkpO1xufVxuZnVuY3Rpb24gZ2V0TmV4dERheShkYXRlKSB7XG4gIHJldHVybiBkYXRlLmFkZCh7IGRheXM6IDEgfSk7XG59XG5mdW5jdGlvbiBnZXRQcmV2aW91c0RheShkYXRlKSB7XG4gIHJldHVybiBkYXRlLnN1YnRyYWN0KHsgZGF5czogMSB9KTtcbn1cbmZ1bmN0aW9uIHNldE1vbnRoKGRhdGUsIG1vbnRoKSB7XG4gIHJldHVybiBkYXRlLnNldCh7IG1vbnRoIH0pO1xufVxuZnVuY3Rpb24gc2V0WWVhcihkYXRlLCB5ZWFyKSB7XG4gIHJldHVybiBkYXRlLnNldCh7IHllYXIgfSk7XG59XG5mdW5jdGlvbiBzZXRDYWxlbmRhcihkYXRlLCBjYWxlbmRhcikge1xuICByZXR1cm4gdG9DYWxlbmRhcih0b0NhbGVuZGFyRGF0ZVRpbWUzKGRhdGUpLCBjYWxlbmRhcik7XG59XG5mdW5jdGlvbiBzZXREYXRlKGRhdGUsIHN0YXJ0RGF0ZSwgaXNEYXRlVW5hdmFpbGFibGUyLCBsb2NhbGUsIG1pblZhbHVlLCBtYXhWYWx1ZSkge1xuICBsZXQgcmVzdWx0O1xuICByZXN1bHQgPSBjb25zdHJhaW5WYWx1ZShkYXRlLCBtaW5WYWx1ZSwgbWF4VmFsdWUpO1xuICByZXN1bHQgPSBnZXRQcmV2aW91c0F2YWlsYWJsZURhdGUoZGF0ZSwgc3RhcnREYXRlLCBsb2NhbGUsIGlzRGF0ZVVuYXZhaWxhYmxlMik7XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBnZXRQcmV2aW91c0F2YWlsYWJsZURhdGUoZGF0ZSwgbWluVmFsdWUsIGxvY2FsZSwgaXNEYXRlVW5hdmFpbGFibGUyKSB7XG4gIGlmICghaXNEYXRlVW5hdmFpbGFibGUyKSB7XG4gICAgcmV0dXJuIGRhdGU7XG4gIH1cbiAgd2hpbGUgKGRhdGUuY29tcGFyZShtaW5WYWx1ZSkgPj0gMCAmJiBpc0RhdGVVbmF2YWlsYWJsZTIoZGF0ZSwgbG9jYWxlKSkge1xuICAgIGRhdGUgPSBkYXRlLnN1YnRyYWN0KHsgZGF5czogMSB9KTtcbiAgfVxuICBpZiAoZGF0ZS5jb21wYXJlKG1pblZhbHVlKSA+PSAwKSB7XG4gICAgcmV0dXJuIGRhdGU7XG4gIH1cbn1cblxuLy8gc3JjL3BhZ2luYXRpb24udHNcbmltcG9ydCB7XG4gIGVuZE9mTW9udGggYXMgZW5kT2ZNb250aDIsXG4gIGVuZE9mV2VlayxcbiAgc3RhcnRPZk1vbnRoIGFzIHN0YXJ0T2ZNb250aDMsXG4gIHN0YXJ0T2ZXZWVrIGFzIHN0YXJ0T2ZXZWVrMlxufSBmcm9tIFwiQGludGVybmF0aW9uYWxpemVkL2RhdGVcIjtcbmZ1bmN0aW9uIGdldEFkanVzdGVkRGF0ZUZuKHZpc2libGVEdXJhdGlvbiwgbG9jYWxlLCBtaW5WYWx1ZSwgbWF4VmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGdldERhdGUob3B0aW9ucykge1xuICAgIGNvbnN0IHsgc3RhcnREYXRlLCBmb2N1c2VkRGF0ZSB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBlbmREYXRlID0gZ2V0RW5kRGF0ZShzdGFydERhdGUsIHZpc2libGVEdXJhdGlvbik7XG4gICAgaWYgKGlzRGF0ZUludmFsaWQoZm9jdXNlZERhdGUsIG1pblZhbHVlLCBtYXhWYWx1ZSkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0YXJ0RGF0ZSxcbiAgICAgICAgZm9jdXNlZERhdGU6IGNvbnN0cmFpblZhbHVlKGZvY3VzZWREYXRlLCBtaW5WYWx1ZSwgbWF4VmFsdWUpLFxuICAgICAgICBlbmREYXRlXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoZm9jdXNlZERhdGUuY29tcGFyZShzdGFydERhdGUpIDwgMCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3RhcnREYXRlOiBhbGlnbkVuZChmb2N1c2VkRGF0ZSwgdmlzaWJsZUR1cmF0aW9uLCBsb2NhbGUsIG1pblZhbHVlLCBtYXhWYWx1ZSksXG4gICAgICAgIGVuZERhdGUsXG4gICAgICAgIGZvY3VzZWREYXRlOiBjb25zdHJhaW5WYWx1ZShmb2N1c2VkRGF0ZSwgbWluVmFsdWUsIG1heFZhbHVlKVxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGZvY3VzZWREYXRlLmNvbXBhcmUoZW5kRGF0ZSkgPiAwKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdGFydERhdGU6IGFsaWduU3RhcnQoZm9jdXNlZERhdGUsIHZpc2libGVEdXJhdGlvbiwgbG9jYWxlLCBtaW5WYWx1ZSwgbWF4VmFsdWUpLFxuICAgICAgICBlbmREYXRlLFxuICAgICAgICBmb2N1c2VkRGF0ZTogY29uc3RyYWluVmFsdWUoZm9jdXNlZERhdGUsIG1pblZhbHVlLCBtYXhWYWx1ZSlcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBzdGFydERhdGUsXG4gICAgICBlbmREYXRlLFxuICAgICAgZm9jdXNlZERhdGU6IGNvbnN0cmFpblZhbHVlKGZvY3VzZWREYXRlLCBtaW5WYWx1ZSwgbWF4VmFsdWUpXG4gICAgfTtcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldE5leHRQYWdlKGZvY3VzZWREYXRlLCBzdGFydERhdGUsIHZpc2libGVEdXJhdGlvbiwgbG9jYWxlLCBtaW5WYWx1ZSwgbWF4VmFsdWUpIHtcbiAgY29uc3QgYWRqdXN0ID0gZ2V0QWRqdXN0ZWREYXRlRm4odmlzaWJsZUR1cmF0aW9uLCBsb2NhbGUsIG1pblZhbHVlLCBtYXhWYWx1ZSk7XG4gIGNvbnN0IHN0YXJ0ID0gc3RhcnREYXRlLmFkZCh2aXNpYmxlRHVyYXRpb24pO1xuICByZXR1cm4gYWRqdXN0KHtcbiAgICBmb2N1c2VkRGF0ZTogZm9jdXNlZERhdGUuYWRkKHZpc2libGVEdXJhdGlvbiksXG4gICAgc3RhcnREYXRlOiBhbGlnblN0YXJ0KFxuICAgICAgY29uc3RyYWluU3RhcnQoZm9jdXNlZERhdGUsIHN0YXJ0LCB2aXNpYmxlRHVyYXRpb24sIGxvY2FsZSwgbWluVmFsdWUsIG1heFZhbHVlKSxcbiAgICAgIHZpc2libGVEdXJhdGlvbixcbiAgICAgIGxvY2FsZVxuICAgIClcbiAgfSk7XG59XG5mdW5jdGlvbiBnZXRQcmV2aW91c1BhZ2UoZm9jdXNlZERhdGUsIHN0YXJ0RGF0ZSwgdmlzaWJsZUR1cmF0aW9uLCBsb2NhbGUsIG1pblZhbHVlLCBtYXhWYWx1ZSkge1xuICBjb25zdCBhZGp1c3QgPSBnZXRBZGp1c3RlZERhdGVGbih2aXNpYmxlRHVyYXRpb24sIGxvY2FsZSwgbWluVmFsdWUsIG1heFZhbHVlKTtcbiAgbGV0IHN0YXJ0ID0gc3RhcnREYXRlLnN1YnRyYWN0KHZpc2libGVEdXJhdGlvbik7XG4gIHJldHVybiBhZGp1c3Qoe1xuICAgIGZvY3VzZWREYXRlOiBmb2N1c2VkRGF0ZS5zdWJ0cmFjdCh2aXNpYmxlRHVyYXRpb24pLFxuICAgIHN0YXJ0RGF0ZTogYWxpZ25TdGFydChcbiAgICAgIGNvbnN0cmFpblN0YXJ0KGZvY3VzZWREYXRlLCBzdGFydCwgdmlzaWJsZUR1cmF0aW9uLCBsb2NhbGUsIG1pblZhbHVlLCBtYXhWYWx1ZSksXG4gICAgICB2aXNpYmxlRHVyYXRpb24sXG4gICAgICBsb2NhbGVcbiAgICApXG4gIH0pO1xufVxuZnVuY3Rpb24gZ2V0TmV4dFJvdyhmb2N1c2VkRGF0ZSwgc3RhcnREYXRlLCB2aXNpYmxlRHVyYXRpb24sIGxvY2FsZSwgbWluVmFsdWUsIG1heFZhbHVlKSB7XG4gIGNvbnN0IGFkanVzdCA9IGdldEFkanVzdGVkRGF0ZUZuKHZpc2libGVEdXJhdGlvbiwgbG9jYWxlLCBtaW5WYWx1ZSwgbWF4VmFsdWUpO1xuICBpZiAodmlzaWJsZUR1cmF0aW9uLmRheXMpIHtcbiAgICByZXR1cm4gZ2V0TmV4dFBhZ2UoZm9jdXNlZERhdGUsIHN0YXJ0RGF0ZSwgdmlzaWJsZUR1cmF0aW9uLCBsb2NhbGUsIG1pblZhbHVlLCBtYXhWYWx1ZSk7XG4gIH1cbiAgaWYgKHZpc2libGVEdXJhdGlvbi53ZWVrcyB8fCB2aXNpYmxlRHVyYXRpb24ubW9udGhzIHx8IHZpc2libGVEdXJhdGlvbi55ZWFycykge1xuICAgIHJldHVybiBhZGp1c3Qoe1xuICAgICAgZm9jdXNlZERhdGU6IGZvY3VzZWREYXRlLmFkZCh7IHdlZWtzOiAxIH0pLFxuICAgICAgc3RhcnREYXRlXG4gICAgfSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGdldFByZXZpb3VzUm93KGZvY3VzZWREYXRlLCBzdGFydERhdGUsIHZpc2libGVEdXJhdGlvbiwgbG9jYWxlLCBtaW5WYWx1ZSwgbWF4VmFsdWUpIHtcbiAgY29uc3QgYWRqdXN0ID0gZ2V0QWRqdXN0ZWREYXRlRm4odmlzaWJsZUR1cmF0aW9uLCBsb2NhbGUsIG1pblZhbHVlLCBtYXhWYWx1ZSk7XG4gIGlmICh2aXNpYmxlRHVyYXRpb24uZGF5cykge1xuICAgIHJldHVybiBnZXRQcmV2aW91c1BhZ2UoZm9jdXNlZERhdGUsIHN0YXJ0RGF0ZSwgdmlzaWJsZUR1cmF0aW9uLCBsb2NhbGUsIG1pblZhbHVlLCBtYXhWYWx1ZSk7XG4gIH1cbiAgaWYgKHZpc2libGVEdXJhdGlvbi53ZWVrcyB8fCB2aXNpYmxlRHVyYXRpb24ubW9udGhzIHx8IHZpc2libGVEdXJhdGlvbi55ZWFycykge1xuICAgIHJldHVybiBhZGp1c3Qoe1xuICAgICAgZm9jdXNlZERhdGU6IGZvY3VzZWREYXRlLnN1YnRyYWN0KHsgd2Vla3M6IDEgfSksXG4gICAgICBzdGFydERhdGVcbiAgICB9KTtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0U2VjdGlvblN0YXJ0KGZvY3VzZWREYXRlLCBzdGFydERhdGUsIHZpc2libGVEdXJhdGlvbiwgbG9jYWxlLCBtaW5WYWx1ZSwgbWF4VmFsdWUpIHtcbiAgY29uc3QgYWRqdXN0ID0gZ2V0QWRqdXN0ZWREYXRlRm4odmlzaWJsZUR1cmF0aW9uLCBsb2NhbGUsIG1pblZhbHVlLCBtYXhWYWx1ZSk7XG4gIGlmICh2aXNpYmxlRHVyYXRpb24uZGF5cykge1xuICAgIHJldHVybiBhZGp1c3Qoe1xuICAgICAgZm9jdXNlZERhdGU6IHN0YXJ0RGF0ZSxcbiAgICAgIHN0YXJ0RGF0ZVxuICAgIH0pO1xuICB9XG4gIGlmICh2aXNpYmxlRHVyYXRpb24ud2Vla3MpIHtcbiAgICByZXR1cm4gYWRqdXN0KHtcbiAgICAgIGZvY3VzZWREYXRlOiBzdGFydE9mV2VlazIoZm9jdXNlZERhdGUsIGxvY2FsZSksXG4gICAgICBzdGFydERhdGVcbiAgICB9KTtcbiAgfVxuICBpZiAodmlzaWJsZUR1cmF0aW9uLm1vbnRocyB8fCB2aXNpYmxlRHVyYXRpb24ueWVhcnMpIHtcbiAgICByZXR1cm4gYWRqdXN0KHtcbiAgICAgIGZvY3VzZWREYXRlOiBzdGFydE9mTW9udGgzKGZvY3VzZWREYXRlKSxcbiAgICAgIHN0YXJ0RGF0ZVxuICAgIH0pO1xuICB9XG59XG5mdW5jdGlvbiBnZXRTZWN0aW9uRW5kKGZvY3VzZWREYXRlLCBzdGFydERhdGUsIHZpc2libGVEdXJhdGlvbiwgbG9jYWxlLCBtaW5WYWx1ZSwgbWF4VmFsdWUpIHtcbiAgY29uc3QgYWRqdXN0ID0gZ2V0QWRqdXN0ZWREYXRlRm4odmlzaWJsZUR1cmF0aW9uLCBsb2NhbGUsIG1pblZhbHVlLCBtYXhWYWx1ZSk7XG4gIGNvbnN0IGVuZERhdGUgPSBnZXRFbmREYXRlKHN0YXJ0RGF0ZSwgdmlzaWJsZUR1cmF0aW9uKTtcbiAgaWYgKHZpc2libGVEdXJhdGlvbi5kYXlzKSB7XG4gICAgcmV0dXJuIGFkanVzdCh7XG4gICAgICBmb2N1c2VkRGF0ZTogZW5kRGF0ZSxcbiAgICAgIHN0YXJ0RGF0ZVxuICAgIH0pO1xuICB9XG4gIGlmICh2aXNpYmxlRHVyYXRpb24ud2Vla3MpIHtcbiAgICByZXR1cm4gYWRqdXN0KHtcbiAgICAgIC8vQHRzLWV4cGVjdC1lcnJvciAtIGVuZE9mV2VlayBpcyBsb29zZWx5IHR5cGVkXG4gICAgICBmb2N1c2VkRGF0ZTogZW5kT2ZXZWVrKGZvY3VzZWREYXRlLCBsb2NhbGUpLFxuICAgICAgc3RhcnREYXRlXG4gICAgfSk7XG4gIH1cbiAgaWYgKHZpc2libGVEdXJhdGlvbi5tb250aHMgfHwgdmlzaWJsZUR1cmF0aW9uLnllYXJzKSB7XG4gICAgcmV0dXJuIGFkanVzdCh7XG4gICAgICBmb2N1c2VkRGF0ZTogZW5kT2ZNb250aDIoZm9jdXNlZERhdGUpLFxuICAgICAgc3RhcnREYXRlXG4gICAgfSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGdldE5leHRTZWN0aW9uKGZvY3VzZWREYXRlLCBzdGFydERhdGUsIGxhcmdlciwgdmlzaWJsZUR1cmF0aW9uLCBsb2NhbGUsIG1pblZhbHVlLCBtYXhWYWx1ZSkge1xuICBjb25zdCBhZGp1c3QgPSBnZXRBZGp1c3RlZERhdGVGbih2aXNpYmxlRHVyYXRpb24sIGxvY2FsZSwgbWluVmFsdWUsIG1heFZhbHVlKTtcbiAgaWYgKCFsYXJnZXIgJiYgIXZpc2libGVEdXJhdGlvbi5kYXlzKSB7XG4gICAgcmV0dXJuIGFkanVzdCh7XG4gICAgICBmb2N1c2VkRGF0ZTogZm9jdXNlZERhdGUuYWRkKGdldFVuaXREdXJhdGlvbih2aXNpYmxlRHVyYXRpb24pKSxcbiAgICAgIHN0YXJ0RGF0ZVxuICAgIH0pO1xuICB9XG4gIGlmICh2aXNpYmxlRHVyYXRpb24uZGF5cykge1xuICAgIHJldHVybiBnZXROZXh0UGFnZShmb2N1c2VkRGF0ZSwgc3RhcnREYXRlLCB2aXNpYmxlRHVyYXRpb24sIGxvY2FsZSwgbWluVmFsdWUsIG1heFZhbHVlKTtcbiAgfVxuICBpZiAodmlzaWJsZUR1cmF0aW9uLndlZWtzKSB7XG4gICAgcmV0dXJuIGFkanVzdCh7XG4gICAgICBmb2N1c2VkRGF0ZTogZm9jdXNlZERhdGUuYWRkKHsgbW9udGhzOiAxIH0pLFxuICAgICAgc3RhcnREYXRlXG4gICAgfSk7XG4gIH1cbiAgaWYgKHZpc2libGVEdXJhdGlvbi5tb250aHMgfHwgdmlzaWJsZUR1cmF0aW9uLnllYXJzKSB7XG4gICAgcmV0dXJuIGFkanVzdCh7XG4gICAgICBmb2N1c2VkRGF0ZTogZm9jdXNlZERhdGUuYWRkKHsgeWVhcnM6IDEgfSksXG4gICAgICBzdGFydERhdGVcbiAgICB9KTtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0UHJldmlvdXNTZWN0aW9uKGZvY3VzZWREYXRlLCBzdGFydERhdGUsIGxhcmdlciwgdmlzaWJsZUR1cmF0aW9uLCBsb2NhbGUsIG1pblZhbHVlLCBtYXhWYWx1ZSkge1xuICBjb25zdCBhZGp1c3QgPSBnZXRBZGp1c3RlZERhdGVGbih2aXNpYmxlRHVyYXRpb24sIGxvY2FsZSwgbWluVmFsdWUsIG1heFZhbHVlKTtcbiAgaWYgKCFsYXJnZXIgJiYgIXZpc2libGVEdXJhdGlvbi5kYXlzKSB7XG4gICAgcmV0dXJuIGFkanVzdCh7XG4gICAgICBmb2N1c2VkRGF0ZTogZm9jdXNlZERhdGUuc3VidHJhY3QoZ2V0VW5pdER1cmF0aW9uKHZpc2libGVEdXJhdGlvbikpLFxuICAgICAgc3RhcnREYXRlXG4gICAgfSk7XG4gIH1cbiAgaWYgKHZpc2libGVEdXJhdGlvbi5kYXlzKSB7XG4gICAgcmV0dXJuIGdldFByZXZpb3VzUGFnZShmb2N1c2VkRGF0ZSwgc3RhcnREYXRlLCB2aXNpYmxlRHVyYXRpb24sIGxvY2FsZSwgbWluVmFsdWUsIG1heFZhbHVlKTtcbiAgfVxuICBpZiAodmlzaWJsZUR1cmF0aW9uLndlZWtzKSB7XG4gICAgcmV0dXJuIGFkanVzdCh7XG4gICAgICBmb2N1c2VkRGF0ZTogZm9jdXNlZERhdGUuc3VidHJhY3QoeyBtb250aHM6IDEgfSksXG4gICAgICBzdGFydERhdGVcbiAgICB9KTtcbiAgfVxuICBpZiAodmlzaWJsZUR1cmF0aW9uLm1vbnRocyB8fCB2aXNpYmxlRHVyYXRpb24ueWVhcnMpIHtcbiAgICByZXR1cm4gYWRqdXN0KHtcbiAgICAgIGZvY3VzZWREYXRlOiBmb2N1c2VkRGF0ZS5zdWJ0cmFjdCh7IHllYXJzOiAxIH0pLFxuICAgICAgc3RhcnREYXRlXG4gICAgfSk7XG4gIH1cbn1cblxuLy8gc3JjL3BhcnNlLWRhdGUudHNcbmltcG9ydCB7IENhbGVuZGFyRGF0ZVRpbWUsIERhdGVGb3JtYXR0ZXIgYXMgRGF0ZUZvcm1hdHRlcjQgfSBmcm9tIFwiQGludGVybmF0aW9uYWxpemVkL2RhdGVcIjtcbmZ1bmN0aW9uIHBhcnNlRGF0ZVN0cmluZyhkYXRlLCBsb2NhbGUsIHRpbWVab25lKSB7XG4gIGNvbnN0IHJlZ2V4ID0gY3JlYXRlUmVnZXgobG9jYWxlLCB0aW1lWm9uZSk7XG4gIGNvbnN0IHsgeWVhciwgbW9udGgsIGRheSB9ID0gZXh0cmFjdChyZWdleCwgZGF0ZSkgPz8ge307XG4gIGlmICh5ZWFyICE9IG51bGwgJiYgeWVhci5sZW5ndGggPT09IDQgJiYgbW9udGggIT0gbnVsbCAmJiArbW9udGggPD0gMTIgJiYgZGF5ICE9IG51bGwgJiYgK2RheSA8PSAzMSkge1xuICAgIHJldHVybiBuZXcgQ2FsZW5kYXJEYXRlVGltZSgreWVhciwgK21vbnRoLCArZGF5KTtcbiAgfVxuICBjb25zdCB0aW1lID0gRGF0ZS5wYXJzZShkYXRlKTtcbiAgaWYgKCFpc05hTih0aW1lKSkge1xuICAgIGNvbnN0IGRhdGUyID0gbmV3IERhdGUodGltZSk7XG4gICAgcmV0dXJuIG5ldyBDYWxlbmRhckRhdGVUaW1lKGRhdGUyLmdldEZ1bGxZZWFyKCksIGRhdGUyLmdldE1vbnRoKCkgKyAxLCBkYXRlMi5nZXREYXRlKCkpO1xuICB9XG59XG5mdW5jdGlvbiBjcmVhdGVSZWdleChsb2NhbGUsIHRpbWVab25lKSB7XG4gIGNvbnN0IGZvcm1hdHRlciA9IG5ldyBEYXRlRm9ybWF0dGVyNChsb2NhbGUsIHsgZGF5OiBcIm51bWVyaWNcIiwgbW9udGg6IFwibnVtZXJpY1wiLCB5ZWFyOiBcIm51bWVyaWNcIiwgdGltZVpvbmUgfSk7XG4gIGNvbnN0IHBhcnRzID0gZm9ybWF0dGVyLmZvcm1hdFRvUGFydHMobmV3IERhdGUoMmUzLCAxMSwgMjUpKTtcbiAgcmV0dXJuIHBhcnRzLm1hcCgoeyB0eXBlLCB2YWx1ZSB9KSA9PiB0eXBlID09PSBcImxpdGVyYWxcIiA/IHZhbHVlIDogYCgoPyE9PCR7dHlwZX0+KVxcXFxkKylgKS5qb2luKFwiXCIpO1xufVxuZnVuY3Rpb24gZXh0cmFjdChwYXR0ZXJuLCBzdHIpIHtcbiAgY29uc3QgbWF0Y2hlcyA9IHN0ci5tYXRjaChwYXR0ZXJuKTtcbiAgcmV0dXJuIHBhdHRlcm4udG9TdHJpbmcoKS5tYXRjaCgvPCguKz8pPi9nKT8ubWFwKChncm91cCkgPT4ge1xuICAgIGNvbnN0IGdyb3VwTWF0Y2hlcyA9IGdyb3VwLm1hdGNoKC88KC4rKT4vKTtcbiAgICBpZiAoIWdyb3VwTWF0Y2hlcyB8fCBncm91cE1hdGNoZXMubGVuZ3RoIDw9IDApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gZ3JvdXAubWF0Y2goLzwoLispPi8pPy5bMV07XG4gIH0pLnJlZHVjZShcbiAgICAoYWNjLCBjdXJyLCBpbmRleCkgPT4ge1xuICAgICAgaWYgKCFjdXJyKVxuICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgaWYgKG1hdGNoZXMgJiYgbWF0Y2hlcy5sZW5ndGggPiBpbmRleCkge1xuICAgICAgICBhY2NbY3Vycl0gPSBtYXRjaGVzW2luZGV4ICsgMV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhY2NbY3Vycl0gPSBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LFxuICAgIHt9XG4gICk7XG59XG5leHBvcnQge1xuICBhbGlnbkNlbnRlcixcbiAgYWxpZ25EYXRlLFxuICBhbGlnbkVuZCxcbiAgYWxpZ25TdGFydCxcbiAgYWxpZ25TdGFydERhdGUsXG4gIGNvbnN0cmFpblN0YXJ0LFxuICBjb25zdHJhaW5WYWx1ZSxcbiAgZm9ybWF0RGF0ZSxcbiAgZm9ybWF0UmFuZ2UsXG4gIGZvcm1hdFNlbGVjdGVkRGF0ZSxcbiAgZm9ybWF0VmlzaWJsZVJhbmdlLFxuICBnZXRBZGp1c3RlZERhdGVGbixcbiAgZ2V0RGF5Rm9ybWF0dGVyLFxuICBnZXREYXlzSW5XZWVrLFxuICBnZXREZWNhZGVSYW5nZSxcbiAgZ2V0RW5kRGF0ZSxcbiAgZ2V0TW9udGhEYXlzLFxuICBnZXRNb250aEZvcm1hdHRlcixcbiAgZ2V0TW9udGhOYW1lcyxcbiAgZ2V0TmV4dERheSxcbiAgZ2V0TmV4dFBhZ2UsXG4gIGdldE5leHRSb3csXG4gIGdldE5leHRTZWN0aW9uLFxuICBnZXRQcmV2aW91c0F2YWlsYWJsZURhdGUsXG4gIGdldFByZXZpb3VzRGF5LFxuICBnZXRQcmV2aW91c1BhZ2UsXG4gIGdldFByZXZpb3VzUm93LFxuICBnZXRQcmV2aW91c1NlY3Rpb24sXG4gIGdldFNlY3Rpb25FbmQsXG4gIGdldFNlY3Rpb25TdGFydCxcbiAgZ2V0VG9kYXlEYXRlLFxuICBnZXRVbml0RHVyYXRpb24sXG4gIGdldFdlZWtEYXlzLFxuICBnZXRXZWVrZGF5Rm9ybWF0cyxcbiAgZ2V0WWVhcnNSYW5nZSxcbiAgaXNEYXRlRGlzYWJsZWQsXG4gIGlzRGF0ZUVxdWFsLFxuICBpc0RhdGVJbnZhbGlkLFxuICBpc0RhdGVPdXRzaWRlVmlzaWJsZVJhbmdlLFxuICBpc0RhdGVVbmF2YWlsYWJsZSxcbiAgaXNOZXh0VmlzaWJsZVJhbmdlSW52YWxpZCxcbiAgaXNQcmV2aW91c1Zpc2libGVSYW5nZUludmFsaWQsXG4gIGlzVG9kYXlEYXRlLFxuICBwYXJzZURhdGVTdHJpbmcsXG4gIHNldENhbGVuZGFyLFxuICBzZXREYXRlLFxuICBzZXRNb250aCxcbiAgc2V0WWVhclxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/date-utils/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/dialog/dist/index.mjs":
/*!****************************************************!*\
  !*** ./node_modules/@zag-js/dialog/dist/index.mjs ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   anatomy: () => (/* binding */ anatomy),\n/* harmony export */   connect: () => (/* binding */ connect),\n/* harmony export */   machine: () => (/* binding */ machine)\n/* harmony export */ });\n/* harmony import */ var _zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/anatomy */ \"(ssr)/./node_modules/@zag-js/anatomy/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @zag-js/dom-query */ \"(ssr)/./node_modules/@zag-js/dom-query/dist/index.mjs\");\n/* harmony import */ var _zag_js_aria_hidden__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @zag-js/aria-hidden */ \"(ssr)/./node_modules/@zag-js/aria-hidden/dist/index.mjs\");\n/* harmony import */ var _zag_js_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @zag-js/core */ \"(ssr)/./node_modules/@zag-js/core/dist/index.mjs\");\n/* harmony import */ var _zag_js_dismissable__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @zag-js/dismissable */ \"(ssr)/./node_modules/@zag-js/dismissable/dist/index.mjs\");\n/* harmony import */ var _zag_js_remove_scroll__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @zag-js/remove-scroll */ \"(ssr)/./node_modules/@zag-js/remove-scroll/dist/index.mjs\");\n/* harmony import */ var _zag_js_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @zag-js/utils */ \"(ssr)/./node_modules/@zag-js/utils/dist/index.mjs\");\n/* harmony import */ var focus_trap__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! focus-trap */ \"(ssr)/./node_modules/focus-trap/dist/focus-trap.js\");\n// src/dialog.anatomy.ts\n\nvar anatomy = (0,_zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__.createAnatomy)(\"dialog\").parts(\n  \"trigger\",\n  \"backdrop\",\n  \"positioner\",\n  \"content\",\n  \"title\",\n  \"description\",\n  \"closeTrigger\"\n);\nvar parts = anatomy.build();\n\n// src/dialog.dom.ts\n\nvar dom = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.createScope)({\n  getPositionerId: (ctx) => ctx.ids?.positioner ?? `dialog:${ctx.id}:positioner`,\n  getBackdropId: (ctx) => ctx.ids?.backdrop ?? `dialog:${ctx.id}:backdrop`,\n  getContentId: (ctx) => ctx.ids?.content ?? `dialog:${ctx.id}:content`,\n  getTriggerId: (ctx) => ctx.ids?.trigger ?? `dialog:${ctx.id}:trigger`,\n  getTitleId: (ctx) => ctx.ids?.title ?? `dialog:${ctx.id}:title`,\n  getDescriptionId: (ctx) => ctx.ids?.description ?? `dialog:${ctx.id}:description`,\n  getCloseTriggerId: (ctx) => ctx.ids?.closeTrigger ?? `dialog:${ctx.id}:close`,\n  getContentEl: (ctx) => dom.getById(ctx, dom.getContentId(ctx)),\n  getTriggerEl: (ctx) => dom.getById(ctx, dom.getTriggerId(ctx)),\n  getTitleEl: (ctx) => dom.getById(ctx, dom.getTitleId(ctx)),\n  getDescriptionEl: (ctx) => dom.getById(ctx, dom.getDescriptionId(ctx))\n});\n\n// src/dialog.connect.ts\nfunction connect(state, send, normalize) {\n  const ariaLabel = state.context[\"aria-label\"];\n  const isOpen = state.matches(\"open\");\n  const rendered = state.context.renderedElements;\n  return {\n    isOpen,\n    open() {\n      send(\"OPEN\");\n    },\n    close() {\n      send(\"CLOSE\");\n    },\n    triggerProps: normalize.button({\n      ...parts.trigger.attrs,\n      dir: state.context.dir,\n      id: dom.getTriggerId(state.context),\n      \"aria-haspopup\": \"dialog\",\n      type: \"button\",\n      \"aria-expanded\": isOpen,\n      \"data-state\": isOpen ? \"open\" : \"closed\",\n      \"aria-controls\": dom.getContentId(state.context),\n      onClick() {\n        send(\"TOGGLE\");\n      }\n    }),\n    backdropProps: normalize.element({\n      ...parts.backdrop.attrs,\n      dir: state.context.dir,\n      hidden: !isOpen,\n      id: dom.getBackdropId(state.context),\n      \"data-state\": isOpen ? \"open\" : \"closed\"\n    }),\n    positionerProps: normalize.element({\n      ...parts.positioner.attrs,\n      dir: state.context.dir,\n      id: dom.getPositionerId(state.context),\n      style: {\n        pointerEvents: isOpen ? void 0 : \"none\"\n      }\n    }),\n    contentProps: normalize.element({\n      ...parts.content.attrs,\n      dir: state.context.dir,\n      role: state.context.role,\n      hidden: !isOpen,\n      id: dom.getContentId(state.context),\n      tabIndex: -1,\n      \"data-state\": isOpen ? \"open\" : \"closed\",\n      \"aria-modal\": true,\n      \"aria-label\": ariaLabel || void 0,\n      \"aria-labelledby\": ariaLabel || !rendered.title ? void 0 : dom.getTitleId(state.context),\n      \"aria-describedby\": rendered.description ? dom.getDescriptionId(state.context) : void 0\n    }),\n    titleProps: normalize.element({\n      ...parts.title.attrs,\n      dir: state.context.dir,\n      id: dom.getTitleId(state.context)\n    }),\n    descriptionProps: normalize.element({\n      ...parts.description.attrs,\n      dir: state.context.dir,\n      id: dom.getDescriptionId(state.context)\n    }),\n    closeTriggerProps: normalize.button({\n      ...parts.closeTrigger.attrs,\n      dir: state.context.dir,\n      id: dom.getCloseTriggerId(state.context),\n      type: \"button\",\n      onClick(event) {\n        event.stopPropagation();\n        send(\"CLOSE\");\n      }\n    })\n  };\n}\n\n// src/dialog.machine.ts\n\n\n\n\n\n\n\nfunction machine(userContext) {\n  const ctx = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.compact)(userContext);\n  return (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_3__.createMachine)(\n    {\n      id: \"dialog\",\n      initial: ctx.open ? \"open\" : \"closed\",\n      context: {\n        role: \"dialog\",\n        renderedElements: {\n          title: true,\n          description: true\n        },\n        modal: true,\n        trapFocus: true,\n        preventScroll: true,\n        closeOnInteractOutside: true,\n        closeOnEscapeKeyDown: true,\n        restoreFocus: true,\n        ...ctx\n      },\n      watch: {\n        open: [\"toggleVisibility\"]\n      },\n      states: {\n        open: {\n          entry: [\"checkRenderedElements\"],\n          activities: [\"trackDismissableElement\", \"trapFocus\", \"preventScroll\", \"hideContentBelow\"],\n          on: {\n            CLOSE: {\n              target: \"closed\",\n              actions: [\"invokeOnClose\", \"restoreFocus\"]\n            },\n            TOGGLE: {\n              target: \"closed\",\n              actions: [\"invokeOnClose\", \"restoreFocus\"]\n            }\n          }\n        },\n        closed: {\n          on: {\n            OPEN: {\n              target: \"open\",\n              actions: [\"invokeOnOpen\"]\n            },\n            TOGGLE: {\n              target: \"open\",\n              actions: [\"invokeOnOpen\"]\n            }\n          }\n        }\n      }\n    },\n    {\n      activities: {\n        trackDismissableElement(ctx2, _evt, { send }) {\n          const getContentEl = () => dom.getContentEl(ctx2);\n          return (0,_zag_js_dismissable__WEBPACK_IMPORTED_MODULE_4__.trackDismissableElement)(getContentEl, {\n            defer: true,\n            pointerBlocking: ctx2.modal,\n            exclude: [dom.getTriggerEl(ctx2)],\n            onEscapeKeyDown(event) {\n              if (!ctx2.closeOnEscapeKeyDown)\n                event.preventDefault();\n              else\n                send({ type: \"CLOSE\", src: \"escape-key\" });\n              ctx2.onEscapeKeyDown?.(event);\n            },\n            onPointerDownOutside(event) {\n              if (!ctx2.closeOnInteractOutside)\n                event.preventDefault();\n              ctx2.onPointerDownOutside?.(event);\n            },\n            onFocusOutside(event) {\n              if (!ctx2.closeOnInteractOutside)\n                event.preventDefault();\n              ctx2.onFocusOutside?.(event);\n            },\n            onDismiss() {\n              send({ type: \"CLOSE\", src: \"interact-outside\" });\n            }\n          });\n        },\n        preventScroll(ctx2) {\n          if (!ctx2.preventScroll)\n            return;\n          return (0,_zag_js_remove_scroll__WEBPACK_IMPORTED_MODULE_5__.preventBodyScroll)(dom.getDoc(ctx2));\n        },\n        trapFocus(ctx2) {\n          if (!ctx2.trapFocus || !ctx2.modal)\n            return;\n          let trap;\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.nextTick)(() => {\n            const contentEl = dom.getContentEl(ctx2);\n            if (!contentEl)\n              return;\n            trap = (0,focus_trap__WEBPACK_IMPORTED_MODULE_6__.createFocusTrap)(contentEl, {\n              document: dom.getDoc(ctx2),\n              escapeDeactivates: false,\n              preventScroll: true,\n              returnFocusOnDeactivate: false,\n              fallbackFocus: contentEl,\n              allowOutsideClick: true,\n              initialFocus: (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.runIfFn)(ctx2.initialFocusEl)\n            });\n            try {\n              trap.activate();\n            } catch {\n            }\n          });\n          return () => trap?.deactivate();\n        },\n        hideContentBelow(ctx2) {\n          if (!ctx2.modal)\n            return;\n          const getElements = () => [dom.getContentEl(ctx2)];\n          return (0,_zag_js_aria_hidden__WEBPACK_IMPORTED_MODULE_7__.ariaHidden)(getElements, { defer: true });\n        }\n      },\n      actions: {\n        checkRenderedElements(ctx2) {\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => {\n            ctx2.renderedElements.title = !!dom.getTitleEl(ctx2);\n            ctx2.renderedElements.description = !!dom.getDescriptionEl(ctx2);\n          });\n        },\n        invokeOnClose(ctx2) {\n          ctx2.onOpenChange?.({ open: false });\n        },\n        invokeOnOpen(ctx2) {\n          ctx2.onOpenChange?.({ open: true });\n        },\n        toggleVisibility(ctx2, _evt, { send }) {\n          send({ type: ctx2.open ? \"OPEN\" : \"CLOSE\", src: \"controlled\" });\n        },\n        restoreFocus(ctx2) {\n          if (!ctx2.restoreFocus)\n            return;\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => {\n            const el = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.runIfFn)(ctx2.finalFocusEl) ?? dom.getTriggerEl(ctx2);\n            el?.focus({ preventScroll: true });\n          });\n        }\n      }\n    }\n  );\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9kaWFsb2cvZGlzdC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNnRDtBQUNoRCxjQUFjLDhEQUFhO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNnRDtBQUNoRCxVQUFVLDhEQUFXO0FBQ3JCLDZEQUE2RCxPQUFPO0FBQ3BFLHlEQUF5RCxPQUFPO0FBQ2hFLHVEQUF1RCxPQUFPO0FBQzlELHVEQUF1RCxPQUFPO0FBQzlELG1EQUFtRCxPQUFPO0FBQzFELCtEQUErRCxPQUFPO0FBQ3RFLGlFQUFpRSxPQUFPO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNpRDtBQUNKO0FBQ2lCO0FBQ1o7QUFDUTtBQUNUO0FBQ0o7QUFDN0M7QUFDQSxjQUFjLHNEQUFPO0FBQ3JCLFNBQVMsMkRBQWE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSw4Q0FBOEMsTUFBTTtBQUNwRDtBQUNBLGlCQUFpQiw0RUFBdUI7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsa0NBQWtDO0FBQ3pEO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EscUJBQXFCLHdDQUF3QztBQUM3RDtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHdFQUFpQjtBQUNsQyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLDJEQUFRO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiwyREFBZTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsc0RBQU87QUFDbkMsYUFBYTtBQUNiO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQSxXQUFXO0FBQ1g7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsK0RBQVUsZ0JBQWdCLGFBQWE7QUFDeEQ7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLFVBQVUsc0RBQUc7QUFDYjtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVDtBQUNBLGdDQUFnQyxhQUFhO0FBQzdDLFNBQVM7QUFDVDtBQUNBLGdDQUFnQyxZQUFZO0FBQzVDLFNBQVM7QUFDVCx1Q0FBdUMsTUFBTTtBQUM3QyxpQkFBaUIsdURBQXVEO0FBQ3hFLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxVQUFVLHNEQUFHO0FBQ2IsdUJBQXVCLHNEQUFPO0FBQzlCLHdCQUF3QixxQkFBcUI7QUFDN0MsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBhcmstdWkvZXhhbXBsZXMtcmVhY3QtbmV4dC1qcy8uL25vZGVfbW9kdWxlcy9AemFnLWpzL2RpYWxvZy9kaXN0L2luZGV4Lm1qcz81MTE1Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9kaWFsb2cuYW5hdG9teS50c1xuaW1wb3J0IHsgY3JlYXRlQW5hdG9teSB9IGZyb20gXCJAemFnLWpzL2FuYXRvbXlcIjtcbnZhciBhbmF0b215ID0gY3JlYXRlQW5hdG9teShcImRpYWxvZ1wiKS5wYXJ0cyhcbiAgXCJ0cmlnZ2VyXCIsXG4gIFwiYmFja2Ryb3BcIixcbiAgXCJwb3NpdGlvbmVyXCIsXG4gIFwiY29udGVudFwiLFxuICBcInRpdGxlXCIsXG4gIFwiZGVzY3JpcHRpb25cIixcbiAgXCJjbG9zZVRyaWdnZXJcIlxuKTtcbnZhciBwYXJ0cyA9IGFuYXRvbXkuYnVpbGQoKTtcblxuLy8gc3JjL2RpYWxvZy5kb20udHNcbmltcG9ydCB7IGNyZWF0ZVNjb3BlIH0gZnJvbSBcIkB6YWctanMvZG9tLXF1ZXJ5XCI7XG52YXIgZG9tID0gY3JlYXRlU2NvcGUoe1xuICBnZXRQb3NpdGlvbmVySWQ6IChjdHgpID0+IGN0eC5pZHM/LnBvc2l0aW9uZXIgPz8gYGRpYWxvZzoke2N0eC5pZH06cG9zaXRpb25lcmAsXG4gIGdldEJhY2tkcm9wSWQ6IChjdHgpID0+IGN0eC5pZHM/LmJhY2tkcm9wID8/IGBkaWFsb2c6JHtjdHguaWR9OmJhY2tkcm9wYCxcbiAgZ2V0Q29udGVudElkOiAoY3R4KSA9PiBjdHguaWRzPy5jb250ZW50ID8/IGBkaWFsb2c6JHtjdHguaWR9OmNvbnRlbnRgLFxuICBnZXRUcmlnZ2VySWQ6IChjdHgpID0+IGN0eC5pZHM/LnRyaWdnZXIgPz8gYGRpYWxvZzoke2N0eC5pZH06dHJpZ2dlcmAsXG4gIGdldFRpdGxlSWQ6IChjdHgpID0+IGN0eC5pZHM/LnRpdGxlID8/IGBkaWFsb2c6JHtjdHguaWR9OnRpdGxlYCxcbiAgZ2V0RGVzY3JpcHRpb25JZDogKGN0eCkgPT4gY3R4Lmlkcz8uZGVzY3JpcHRpb24gPz8gYGRpYWxvZzoke2N0eC5pZH06ZGVzY3JpcHRpb25gLFxuICBnZXRDbG9zZVRyaWdnZXJJZDogKGN0eCkgPT4gY3R4Lmlkcz8uY2xvc2VUcmlnZ2VyID8/IGBkaWFsb2c6JHtjdHguaWR9OmNsb3NlYCxcbiAgZ2V0Q29udGVudEVsOiAoY3R4KSA9PiBkb20uZ2V0QnlJZChjdHgsIGRvbS5nZXRDb250ZW50SWQoY3R4KSksXG4gIGdldFRyaWdnZXJFbDogKGN0eCkgPT4gZG9tLmdldEJ5SWQoY3R4LCBkb20uZ2V0VHJpZ2dlcklkKGN0eCkpLFxuICBnZXRUaXRsZUVsOiAoY3R4KSA9PiBkb20uZ2V0QnlJZChjdHgsIGRvbS5nZXRUaXRsZUlkKGN0eCkpLFxuICBnZXREZXNjcmlwdGlvbkVsOiAoY3R4KSA9PiBkb20uZ2V0QnlJZChjdHgsIGRvbS5nZXREZXNjcmlwdGlvbklkKGN0eCkpXG59KTtcblxuLy8gc3JjL2RpYWxvZy5jb25uZWN0LnRzXG5mdW5jdGlvbiBjb25uZWN0KHN0YXRlLCBzZW5kLCBub3JtYWxpemUpIHtcbiAgY29uc3QgYXJpYUxhYmVsID0gc3RhdGUuY29udGV4dFtcImFyaWEtbGFiZWxcIl07XG4gIGNvbnN0IGlzT3BlbiA9IHN0YXRlLm1hdGNoZXMoXCJvcGVuXCIpO1xuICBjb25zdCByZW5kZXJlZCA9IHN0YXRlLmNvbnRleHQucmVuZGVyZWRFbGVtZW50cztcbiAgcmV0dXJuIHtcbiAgICBpc09wZW4sXG4gICAgb3BlbigpIHtcbiAgICAgIHNlbmQoXCJPUEVOXCIpO1xuICAgIH0sXG4gICAgY2xvc2UoKSB7XG4gICAgICBzZW5kKFwiQ0xPU0VcIik7XG4gICAgfSxcbiAgICB0cmlnZ2VyUHJvcHM6IG5vcm1hbGl6ZS5idXR0b24oe1xuICAgICAgLi4ucGFydHMudHJpZ2dlci5hdHRycyxcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICBpZDogZG9tLmdldFRyaWdnZXJJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIFwiYXJpYS1oYXNwb3B1cFwiOiBcImRpYWxvZ1wiLFxuICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgIFwiYXJpYS1leHBhbmRlZFwiOiBpc09wZW4sXG4gICAgICBcImRhdGEtc3RhdGVcIjogaXNPcGVuID8gXCJvcGVuXCIgOiBcImNsb3NlZFwiLFxuICAgICAgXCJhcmlhLWNvbnRyb2xzXCI6IGRvbS5nZXRDb250ZW50SWQoc3RhdGUuY29udGV4dCksXG4gICAgICBvbkNsaWNrKCkge1xuICAgICAgICBzZW5kKFwiVE9HR0xFXCIpO1xuICAgICAgfVxuICAgIH0pLFxuICAgIGJhY2tkcm9wUHJvcHM6IG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgIC4uLnBhcnRzLmJhY2tkcm9wLmF0dHJzLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIGhpZGRlbjogIWlzT3BlbixcbiAgICAgIGlkOiBkb20uZ2V0QmFja2Ryb3BJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIFwiZGF0YS1zdGF0ZVwiOiBpc09wZW4gPyBcIm9wZW5cIiA6IFwiY2xvc2VkXCJcbiAgICB9KSxcbiAgICBwb3NpdGlvbmVyUHJvcHM6IG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgIC4uLnBhcnRzLnBvc2l0aW9uZXIuYXR0cnMsXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgaWQ6IGRvbS5nZXRQb3NpdGlvbmVySWQoc3RhdGUuY29udGV4dCksXG4gICAgICBzdHlsZToge1xuICAgICAgICBwb2ludGVyRXZlbnRzOiBpc09wZW4gPyB2b2lkIDAgOiBcIm5vbmVcIlxuICAgICAgfVxuICAgIH0pLFxuICAgIGNvbnRlbnRQcm9wczogbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgLi4ucGFydHMuY29udGVudC5hdHRycyxcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICByb2xlOiBzdGF0ZS5jb250ZXh0LnJvbGUsXG4gICAgICBoaWRkZW46ICFpc09wZW4sXG4gICAgICBpZDogZG9tLmdldENvbnRlbnRJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIHRhYkluZGV4OiAtMSxcbiAgICAgIFwiZGF0YS1zdGF0ZVwiOiBpc09wZW4gPyBcIm9wZW5cIiA6IFwiY2xvc2VkXCIsXG4gICAgICBcImFyaWEtbW9kYWxcIjogdHJ1ZSxcbiAgICAgIFwiYXJpYS1sYWJlbFwiOiBhcmlhTGFiZWwgfHwgdm9pZCAwLFxuICAgICAgXCJhcmlhLWxhYmVsbGVkYnlcIjogYXJpYUxhYmVsIHx8ICFyZW5kZXJlZC50aXRsZSA/IHZvaWQgMCA6IGRvbS5nZXRUaXRsZUlkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgXCJhcmlhLWRlc2NyaWJlZGJ5XCI6IHJlbmRlcmVkLmRlc2NyaXB0aW9uID8gZG9tLmdldERlc2NyaXB0aW9uSWQoc3RhdGUuY29udGV4dCkgOiB2b2lkIDBcbiAgICB9KSxcbiAgICB0aXRsZVByb3BzOiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICAuLi5wYXJ0cy50aXRsZS5hdHRycyxcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICBpZDogZG9tLmdldFRpdGxlSWQoc3RhdGUuY29udGV4dClcbiAgICB9KSxcbiAgICBkZXNjcmlwdGlvblByb3BzOiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICAuLi5wYXJ0cy5kZXNjcmlwdGlvbi5hdHRycyxcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICBpZDogZG9tLmdldERlc2NyaXB0aW9uSWQoc3RhdGUuY29udGV4dClcbiAgICB9KSxcbiAgICBjbG9zZVRyaWdnZXJQcm9wczogbm9ybWFsaXplLmJ1dHRvbih7XG4gICAgICAuLi5wYXJ0cy5jbG9zZVRyaWdnZXIuYXR0cnMsXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgaWQ6IGRvbS5nZXRDbG9zZVRyaWdnZXJJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICBvbkNsaWNrKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBzZW5kKFwiQ0xPU0VcIik7XG4gICAgICB9XG4gICAgfSlcbiAgfTtcbn1cblxuLy8gc3JjL2RpYWxvZy5tYWNoaW5lLnRzXG5pbXBvcnQgeyBhcmlhSGlkZGVuIH0gZnJvbSBcIkB6YWctanMvYXJpYS1oaWRkZW5cIjtcbmltcG9ydCB7IGNyZWF0ZU1hY2hpbmUgfSBmcm9tIFwiQHphZy1qcy9jb3JlXCI7XG5pbXBvcnQgeyB0cmFja0Rpc21pc3NhYmxlRWxlbWVudCB9IGZyb20gXCJAemFnLWpzL2Rpc21pc3NhYmxlXCI7XG5pbXBvcnQgeyBuZXh0VGljaywgcmFmIH0gZnJvbSBcIkB6YWctanMvZG9tLXF1ZXJ5XCI7XG5pbXBvcnQgeyBwcmV2ZW50Qm9keVNjcm9sbCB9IGZyb20gXCJAemFnLWpzL3JlbW92ZS1zY3JvbGxcIjtcbmltcG9ydCB7IGNvbXBhY3QsIHJ1bklmRm4gfSBmcm9tIFwiQHphZy1qcy91dGlsc1wiO1xuaW1wb3J0IHsgY3JlYXRlRm9jdXNUcmFwIH0gZnJvbSBcImZvY3VzLXRyYXBcIjtcbmZ1bmN0aW9uIG1hY2hpbmUodXNlckNvbnRleHQpIHtcbiAgY29uc3QgY3R4ID0gY29tcGFjdCh1c2VyQ29udGV4dCk7XG4gIHJldHVybiBjcmVhdGVNYWNoaW5lKFxuICAgIHtcbiAgICAgIGlkOiBcImRpYWxvZ1wiLFxuICAgICAgaW5pdGlhbDogY3R4Lm9wZW4gPyBcIm9wZW5cIiA6IFwiY2xvc2VkXCIsXG4gICAgICBjb250ZXh0OiB7XG4gICAgICAgIHJvbGU6IFwiZGlhbG9nXCIsXG4gICAgICAgIHJlbmRlcmVkRWxlbWVudHM6IHtcbiAgICAgICAgICB0aXRsZTogdHJ1ZSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBtb2RhbDogdHJ1ZSxcbiAgICAgICAgdHJhcEZvY3VzOiB0cnVlLFxuICAgICAgICBwcmV2ZW50U2Nyb2xsOiB0cnVlLFxuICAgICAgICBjbG9zZU9uSW50ZXJhY3RPdXRzaWRlOiB0cnVlLFxuICAgICAgICBjbG9zZU9uRXNjYXBlS2V5RG93bjogdHJ1ZSxcbiAgICAgICAgcmVzdG9yZUZvY3VzOiB0cnVlLFxuICAgICAgICAuLi5jdHhcbiAgICAgIH0sXG4gICAgICB3YXRjaDoge1xuICAgICAgICBvcGVuOiBbXCJ0b2dnbGVWaXNpYmlsaXR5XCJdXG4gICAgICB9LFxuICAgICAgc3RhdGVzOiB7XG4gICAgICAgIG9wZW46IHtcbiAgICAgICAgICBlbnRyeTogW1wiY2hlY2tSZW5kZXJlZEVsZW1lbnRzXCJdLFxuICAgICAgICAgIGFjdGl2aXRpZXM6IFtcInRyYWNrRGlzbWlzc2FibGVFbGVtZW50XCIsIFwidHJhcEZvY3VzXCIsIFwicHJldmVudFNjcm9sbFwiLCBcImhpZGVDb250ZW50QmVsb3dcIl0sXG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIENMT1NFOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJjbG9zZWRcIixcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wiaW52b2tlT25DbG9zZVwiLCBcInJlc3RvcmVGb2N1c1wiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFRPR0dMRToge1xuICAgICAgICAgICAgICB0YXJnZXQ6IFwiY2xvc2VkXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcImludm9rZU9uQ2xvc2VcIiwgXCJyZXN0b3JlRm9jdXNcIl1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGNsb3NlZDoge1xuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBPUEVOOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJvcGVuXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcImludm9rZU9uT3BlblwiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFRPR0dMRToge1xuICAgICAgICAgICAgICB0YXJnZXQ6IFwib3BlblwiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJpbnZva2VPbk9wZW5cIl1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIGFjdGl2aXRpZXM6IHtcbiAgICAgICAgdHJhY2tEaXNtaXNzYWJsZUVsZW1lbnQoY3R4MiwgX2V2dCwgeyBzZW5kIH0pIHtcbiAgICAgICAgICBjb25zdCBnZXRDb250ZW50RWwgPSAoKSA9PiBkb20uZ2V0Q29udGVudEVsKGN0eDIpO1xuICAgICAgICAgIHJldHVybiB0cmFja0Rpc21pc3NhYmxlRWxlbWVudChnZXRDb250ZW50RWwsIHtcbiAgICAgICAgICAgIGRlZmVyOiB0cnVlLFxuICAgICAgICAgICAgcG9pbnRlckJsb2NraW5nOiBjdHgyLm1vZGFsLFxuICAgICAgICAgICAgZXhjbHVkZTogW2RvbS5nZXRUcmlnZ2VyRWwoY3R4MildLFxuICAgICAgICAgICAgb25Fc2NhcGVLZXlEb3duKGV2ZW50KSB7XG4gICAgICAgICAgICAgIGlmICghY3R4Mi5jbG9zZU9uRXNjYXBlS2V5RG93bilcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwiQ0xPU0VcIiwgc3JjOiBcImVzY2FwZS1rZXlcIiB9KTtcbiAgICAgICAgICAgICAgY3R4Mi5vbkVzY2FwZUtleURvd24/LihldmVudCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25Qb2ludGVyRG93bk91dHNpZGUoZXZlbnQpIHtcbiAgICAgICAgICAgICAgaWYgKCFjdHgyLmNsb3NlT25JbnRlcmFjdE91dHNpZGUpXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgY3R4Mi5vblBvaW50ZXJEb3duT3V0c2lkZT8uKGV2ZW50KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkZvY3VzT3V0c2lkZShldmVudCkge1xuICAgICAgICAgICAgICBpZiAoIWN0eDIuY2xvc2VPbkludGVyYWN0T3V0c2lkZSlcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICBjdHgyLm9uRm9jdXNPdXRzaWRlPy4oZXZlbnQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uRGlzbWlzcygpIHtcbiAgICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwiQ0xPU0VcIiwgc3JjOiBcImludGVyYWN0LW91dHNpZGVcIiB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgcHJldmVudFNjcm9sbChjdHgyKSB7XG4gICAgICAgICAgaWYgKCFjdHgyLnByZXZlbnRTY3JvbGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgcmV0dXJuIHByZXZlbnRCb2R5U2Nyb2xsKGRvbS5nZXREb2MoY3R4MikpO1xuICAgICAgICB9LFxuICAgICAgICB0cmFwRm9jdXMoY3R4Mikge1xuICAgICAgICAgIGlmICghY3R4Mi50cmFwRm9jdXMgfHwgIWN0eDIubW9kYWwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgbGV0IHRyYXA7XG4gICAgICAgICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29udGVudEVsID0gZG9tLmdldENvbnRlbnRFbChjdHgyKTtcbiAgICAgICAgICAgIGlmICghY29udGVudEVsKVxuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB0cmFwID0gY3JlYXRlRm9jdXNUcmFwKGNvbnRlbnRFbCwge1xuICAgICAgICAgICAgICBkb2N1bWVudDogZG9tLmdldERvYyhjdHgyKSxcbiAgICAgICAgICAgICAgZXNjYXBlRGVhY3RpdmF0ZXM6IGZhbHNlLFxuICAgICAgICAgICAgICBwcmV2ZW50U2Nyb2xsOiB0cnVlLFxuICAgICAgICAgICAgICByZXR1cm5Gb2N1c09uRGVhY3RpdmF0ZTogZmFsc2UsXG4gICAgICAgICAgICAgIGZhbGxiYWNrRm9jdXM6IGNvbnRlbnRFbCxcbiAgICAgICAgICAgICAgYWxsb3dPdXRzaWRlQ2xpY2s6IHRydWUsXG4gICAgICAgICAgICAgIGluaXRpYWxGb2N1czogcnVuSWZGbihjdHgyLmluaXRpYWxGb2N1c0VsKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICB0cmFwLmFjdGl2YXRlKCk7XG4gICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gKCkgPT4gdHJhcD8uZGVhY3RpdmF0ZSgpO1xuICAgICAgICB9LFxuICAgICAgICBoaWRlQ29udGVudEJlbG93KGN0eDIpIHtcbiAgICAgICAgICBpZiAoIWN0eDIubW9kYWwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgY29uc3QgZ2V0RWxlbWVudHMgPSAoKSA9PiBbZG9tLmdldENvbnRlbnRFbChjdHgyKV07XG4gICAgICAgICAgcmV0dXJuIGFyaWFIaWRkZW4oZ2V0RWxlbWVudHMsIHsgZGVmZXI6IHRydWUgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBhY3Rpb25zOiB7XG4gICAgICAgIGNoZWNrUmVuZGVyZWRFbGVtZW50cyhjdHgyKSB7XG4gICAgICAgICAgcmFmKCgpID0+IHtcbiAgICAgICAgICAgIGN0eDIucmVuZGVyZWRFbGVtZW50cy50aXRsZSA9ICEhZG9tLmdldFRpdGxlRWwoY3R4Mik7XG4gICAgICAgICAgICBjdHgyLnJlbmRlcmVkRWxlbWVudHMuZGVzY3JpcHRpb24gPSAhIWRvbS5nZXREZXNjcmlwdGlvbkVsKGN0eDIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBpbnZva2VPbkNsb3NlKGN0eDIpIHtcbiAgICAgICAgICBjdHgyLm9uT3BlbkNoYW5nZT8uKHsgb3BlbjogZmFsc2UgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGludm9rZU9uT3BlbihjdHgyKSB7XG4gICAgICAgICAgY3R4Mi5vbk9wZW5DaGFuZ2U/Lih7IG9wZW46IHRydWUgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHRvZ2dsZVZpc2liaWxpdHkoY3R4MiwgX2V2dCwgeyBzZW5kIH0pIHtcbiAgICAgICAgICBzZW5kKHsgdHlwZTogY3R4Mi5vcGVuID8gXCJPUEVOXCIgOiBcIkNMT1NFXCIsIHNyYzogXCJjb250cm9sbGVkXCIgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlc3RvcmVGb2N1cyhjdHgyKSB7XG4gICAgICAgICAgaWYgKCFjdHgyLnJlc3RvcmVGb2N1cylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICByYWYoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWwgPSBydW5JZkZuKGN0eDIuZmluYWxGb2N1c0VsKSA/PyBkb20uZ2V0VHJpZ2dlckVsKGN0eDIpO1xuICAgICAgICAgICAgZWw/LmZvY3VzKHsgcHJldmVudFNjcm9sbDogdHJ1ZSB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgKTtcbn1cbmV4cG9ydCB7XG4gIGFuYXRvbXksXG4gIGNvbm5lY3QsXG4gIG1hY2hpbmVcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/dialog/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/dismissable/dist/index.mjs":
/*!*********************************************************!*\
  !*** ./node_modules/@zag-js/dismissable/dist/index.mjs ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   trackDismissableElement: () => (/* binding */ trackDismissableElement)\n/* harmony export */ });\n/* harmony import */ var _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @zag-js/dom-query */ \"(ssr)/./node_modules/@zag-js/dom-query/dist/index.mjs\");\n/* harmony import */ var _zag_js_interact_outside__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @zag-js/interact-outside */ \"(ssr)/./node_modules/@zag-js/interact-outside/dist/index.mjs\");\n/* harmony import */ var _zag_js_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @zag-js/utils */ \"(ssr)/./node_modules/@zag-js/utils/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/dom-event */ \"(ssr)/./node_modules/@zag-js/dom-event/dist/index.mjs\");\n// src/dismissable-layer.ts\n\n\n\n\n// src/escape-keydown.ts\n\n\nfunction trackEscapeKeydown(node, fn) {\n  const handleKeyDown = (event) => {\n    if (event.key === \"Escape\")\n      fn?.(event);\n  };\n  return (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_0__.addDomEvent)((0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.getDocument)(node), \"keydown\", handleKeyDown);\n}\n\n// src/layer-stack.ts\n\nvar layerStack = {\n  layers: [],\n  branches: [],\n  count() {\n    return this.layers.length;\n  },\n  pointerBlockingLayers() {\n    return this.layers.filter((layer) => layer.pointerBlocking);\n  },\n  topMostPointerBlockingLayer() {\n    return [...this.pointerBlockingLayers()].slice(-1)[0];\n  },\n  hasPointerBlockingLayer() {\n    return this.pointerBlockingLayers().length > 0;\n  },\n  isBelowPointerBlockingLayer(node) {\n    const index = this.indexOf(node);\n    const highestBlockingIndex = this.topMostPointerBlockingLayer() ? this.indexOf(this.topMostPointerBlockingLayer()?.node) : -1;\n    return index < highestBlockingIndex;\n  },\n  isTopMost(node) {\n    const layer = this.layers[this.count() - 1];\n    return layer?.node === node;\n  },\n  getNestedLayers(node) {\n    return Array.from(this.layers).slice(this.indexOf(node) + 1);\n  },\n  isInNestedLayer(node, target) {\n    return this.getNestedLayers(node).some((layer) => (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.contains)(layer.node, target));\n  },\n  isInBranch(target) {\n    return Array.from(this.branches).some((branch) => (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.contains)(branch, target));\n  },\n  add(layer) {\n    this.layers.push(layer);\n  },\n  addBranch(node) {\n    this.branches.push(node);\n  },\n  remove(node) {\n    const index = this.indexOf(node);\n    if (index < 0)\n      return;\n    if (index < this.count() - 1) {\n      const _layers = this.getNestedLayers(node);\n      _layers.forEach((layer) => layer.dismiss());\n    }\n    this.layers.splice(index, 1);\n  },\n  removeBranch(node) {\n    const index = this.branches.indexOf(node);\n    if (index >= 0)\n      this.branches.splice(index, 1);\n  },\n  indexOf(node) {\n    return this.layers.findIndex((layer) => layer.node === node);\n  },\n  dismiss(node) {\n    this.layers[this.indexOf(node)]?.dismiss();\n  },\n  clear() {\n    this.remove(this.layers[0].node);\n  }\n};\n\n// src/pointer-event-outside.ts\n\nvar originalBodyPointerEvents;\nfunction assignPointerEventToLayers() {\n  layerStack.layers.forEach(({ node }) => {\n    node.style.pointerEvents = layerStack.isBelowPointerBlockingLayer(node) ? \"none\" : \"auto\";\n  });\n}\nfunction clearPointerEvent(node) {\n  node.style.pointerEvents = \"\";\n}\nvar DATA_ATTR = \"data-inert\";\nfunction disablePointerEventsOutside(node) {\n  const doc = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.getDocument)(node);\n  if (layerStack.hasPointerBlockingLayer() && !doc.body.hasAttribute(DATA_ATTR)) {\n    originalBodyPointerEvents = document.body.style.pointerEvents;\n    doc.body.style.pointerEvents = \"none\";\n    doc.body.setAttribute(DATA_ATTR, \"\");\n  }\n  return () => {\n    if (layerStack.hasPointerBlockingLayer())\n      return;\n    doc.body.style.pointerEvents = originalBodyPointerEvents;\n    doc.body.removeAttribute(DATA_ATTR);\n    if (doc.body.style.length === 0)\n      doc.body.removeAttribute(\"style\");\n  };\n}\n\n// src/dismissable-layer.ts\nfunction trackDismissableElementImpl(node, options) {\n  if (!node) {\n    (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.warn)(\"[@zag-js/dismissable] node is `null` or `undefined`\");\n    return;\n  }\n  const { onDismiss, pointerBlocking, exclude: excludeContainers, debug } = options;\n  const layer = { dismiss: onDismiss, node, pointerBlocking };\n  layerStack.add(layer);\n  assignPointerEventToLayers();\n  function onPointerDownOutside(event) {\n    const target = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.getEventTarget)(event.detail.originalEvent);\n    if (layerStack.isBelowPointerBlockingLayer(node) || layerStack.isInBranch(target))\n      return;\n    options.onPointerDownOutside?.(event);\n    options.onInteractOutside?.(event);\n    if (event.defaultPrevented)\n      return;\n    if (debug) {\n      console.log(\"onPointerDownOutside:\", event.detail.originalEvent);\n    }\n    onDismiss?.();\n  }\n  function onFocusOutside(event) {\n    const target = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.getEventTarget)(event.detail.originalEvent);\n    if (layerStack.isInBranch(target))\n      return;\n    options.onFocusOutside?.(event);\n    options.onInteractOutside?.(event);\n    if (event.defaultPrevented)\n      return;\n    if (debug) {\n      console.log(\"onFocusOutside:\", event.detail.originalEvent);\n    }\n    onDismiss?.();\n  }\n  function onEscapeKeyDown(event) {\n    if (!layerStack.isTopMost(node))\n      return;\n    options.onEscapeKeyDown?.(event);\n    if (!event.defaultPrevented && onDismiss) {\n      event.preventDefault();\n      onDismiss();\n    }\n  }\n  function exclude(target) {\n    if (!node)\n      return false;\n    const containers = typeof excludeContainers === \"function\" ? excludeContainers() : excludeContainers;\n    const _containers = Array.isArray(containers) ? containers : [containers];\n    return _containers.some((node2) => (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.contains)(node2, target)) || layerStack.isInNestedLayer(node, target);\n  }\n  const cleanups = [\n    pointerBlocking ? disablePointerEventsOutside(node) : void 0,\n    trackEscapeKeydown(node, onEscapeKeyDown),\n    (0,_zag_js_interact_outside__WEBPACK_IMPORTED_MODULE_3__.trackInteractOutside)(node, { exclude, onFocusOutside, onPointerDownOutside })\n  ];\n  return () => {\n    layerStack.remove(node);\n    assignPointerEventToLayers();\n    clearPointerEvent(node);\n    cleanups.forEach((fn) => fn?.());\n  };\n}\nfunction trackDismissableElement(nodeOrFn, options) {\n  const { defer } = options;\n  const func = defer ? _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf : (v) => v();\n  const cleanups = [];\n  cleanups.push(\n    func(() => {\n      const node = typeof nodeOrFn === \"function\" ? nodeOrFn() : nodeOrFn;\n      cleanups.push(trackDismissableElementImpl(node, options));\n    })\n  );\n  return () => {\n    cleanups.forEach((fn) => fn?.());\n  };\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9kaXNtaXNzYWJsZS9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQytFO0FBRzdDO0FBQ0c7O0FBRXJDO0FBQ2dEO0FBQ0E7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsOERBQVcsQ0FBQyw4REFBVztBQUNoQzs7QUFFQTtBQUM2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0Esc0RBQXNELDJEQUFRO0FBQzlELEdBQUc7QUFDSDtBQUNBLHNEQUFzRCwyREFBUTtBQUM5RCxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDZ0U7QUFDaEU7QUFDQTtBQUNBLCtCQUErQixNQUFNO0FBQ3JDO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsOERBQVk7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLG1EQUFJO0FBQ1I7QUFDQTtBQUNBLFVBQVUsZ0VBQWdFO0FBQzFFLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsaUVBQWM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGlFQUFjO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLDJEQUFTO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSw4RUFBb0IsU0FBUywrQ0FBK0M7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxRQUFRO0FBQ2xCLHVCQUF1QixrREFBRztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBhcmstdWkvZXhhbXBsZXMtcmVhY3QtbmV4dC1qcy8uL25vZGVfbW9kdWxlcy9AemFnLWpzL2Rpc21pc3NhYmxlL2Rpc3QvaW5kZXgubWpzPzc3ZGEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2Rpc21pc3NhYmxlLWxheWVyLnRzXG5pbXBvcnQgeyBjb250YWlucyBhcyBjb250YWluczIsIGdldEV2ZW50VGFyZ2V0LCByYWYgfSBmcm9tIFwiQHphZy1qcy9kb20tcXVlcnlcIjtcbmltcG9ydCB7XG4gIHRyYWNrSW50ZXJhY3RPdXRzaWRlXG59IGZyb20gXCJAemFnLWpzL2ludGVyYWN0LW91dHNpZGVcIjtcbmltcG9ydCB7IHdhcm4gfSBmcm9tIFwiQHphZy1qcy91dGlsc1wiO1xuXG4vLyBzcmMvZXNjYXBlLWtleWRvd24udHNcbmltcG9ydCB7IGFkZERvbUV2ZW50IH0gZnJvbSBcIkB6YWctanMvZG9tLWV2ZW50XCI7XG5pbXBvcnQgeyBnZXREb2N1bWVudCB9IGZyb20gXCJAemFnLWpzL2RvbS1xdWVyeVwiO1xuZnVuY3Rpb24gdHJhY2tFc2NhcGVLZXlkb3duKG5vZGUsIGZuKSB7XG4gIGNvbnN0IGhhbmRsZUtleURvd24gPSAoZXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSBcIkVzY2FwZVwiKVxuICAgICAgZm4/LihldmVudCk7XG4gIH07XG4gIHJldHVybiBhZGREb21FdmVudChnZXREb2N1bWVudChub2RlKSwgXCJrZXlkb3duXCIsIGhhbmRsZUtleURvd24pO1xufVxuXG4vLyBzcmMvbGF5ZXItc3RhY2sudHNcbmltcG9ydCB7IGNvbnRhaW5zIH0gZnJvbSBcIkB6YWctanMvZG9tLXF1ZXJ5XCI7XG52YXIgbGF5ZXJTdGFjayA9IHtcbiAgbGF5ZXJzOiBbXSxcbiAgYnJhbmNoZXM6IFtdLFxuICBjb3VudCgpIHtcbiAgICByZXR1cm4gdGhpcy5sYXllcnMubGVuZ3RoO1xuICB9LFxuICBwb2ludGVyQmxvY2tpbmdMYXllcnMoKSB7XG4gICAgcmV0dXJuIHRoaXMubGF5ZXJzLmZpbHRlcigobGF5ZXIpID0+IGxheWVyLnBvaW50ZXJCbG9ja2luZyk7XG4gIH0sXG4gIHRvcE1vc3RQb2ludGVyQmxvY2tpbmdMYXllcigpIHtcbiAgICByZXR1cm4gWy4uLnRoaXMucG9pbnRlckJsb2NraW5nTGF5ZXJzKCldLnNsaWNlKC0xKVswXTtcbiAgfSxcbiAgaGFzUG9pbnRlckJsb2NraW5nTGF5ZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMucG9pbnRlckJsb2NraW5nTGF5ZXJzKCkubGVuZ3RoID4gMDtcbiAgfSxcbiAgaXNCZWxvd1BvaW50ZXJCbG9ja2luZ0xheWVyKG5vZGUpIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuaW5kZXhPZihub2RlKTtcbiAgICBjb25zdCBoaWdoZXN0QmxvY2tpbmdJbmRleCA9IHRoaXMudG9wTW9zdFBvaW50ZXJCbG9ja2luZ0xheWVyKCkgPyB0aGlzLmluZGV4T2YodGhpcy50b3BNb3N0UG9pbnRlckJsb2NraW5nTGF5ZXIoKT8ubm9kZSkgOiAtMTtcbiAgICByZXR1cm4gaW5kZXggPCBoaWdoZXN0QmxvY2tpbmdJbmRleDtcbiAgfSxcbiAgaXNUb3BNb3N0KG5vZGUpIHtcbiAgICBjb25zdCBsYXllciA9IHRoaXMubGF5ZXJzW3RoaXMuY291bnQoKSAtIDFdO1xuICAgIHJldHVybiBsYXllcj8ubm9kZSA9PT0gbm9kZTtcbiAgfSxcbiAgZ2V0TmVzdGVkTGF5ZXJzKG5vZGUpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmxheWVycykuc2xpY2UodGhpcy5pbmRleE9mKG5vZGUpICsgMSk7XG4gIH0sXG4gIGlzSW5OZXN0ZWRMYXllcihub2RlLCB0YXJnZXQpIHtcbiAgICByZXR1cm4gdGhpcy5nZXROZXN0ZWRMYXllcnMobm9kZSkuc29tZSgobGF5ZXIpID0+IGNvbnRhaW5zKGxheWVyLm5vZGUsIHRhcmdldCkpO1xuICB9LFxuICBpc0luQnJhbmNoKHRhcmdldCkge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuYnJhbmNoZXMpLnNvbWUoKGJyYW5jaCkgPT4gY29udGFpbnMoYnJhbmNoLCB0YXJnZXQpKTtcbiAgfSxcbiAgYWRkKGxheWVyKSB7XG4gICAgdGhpcy5sYXllcnMucHVzaChsYXllcik7XG4gIH0sXG4gIGFkZEJyYW5jaChub2RlKSB7XG4gICAgdGhpcy5icmFuY2hlcy5wdXNoKG5vZGUpO1xuICB9LFxuICByZW1vdmUobm9kZSkge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5pbmRleE9mKG5vZGUpO1xuICAgIGlmIChpbmRleCA8IDApXG4gICAgICByZXR1cm47XG4gICAgaWYgKGluZGV4IDwgdGhpcy5jb3VudCgpIC0gMSkge1xuICAgICAgY29uc3QgX2xheWVycyA9IHRoaXMuZ2V0TmVzdGVkTGF5ZXJzKG5vZGUpO1xuICAgICAgX2xheWVycy5mb3JFYWNoKChsYXllcikgPT4gbGF5ZXIuZGlzbWlzcygpKTtcbiAgICB9XG4gICAgdGhpcy5sYXllcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgfSxcbiAgcmVtb3ZlQnJhbmNoKG5vZGUpIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuYnJhbmNoZXMuaW5kZXhPZihub2RlKTtcbiAgICBpZiAoaW5kZXggPj0gMClcbiAgICAgIHRoaXMuYnJhbmNoZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgfSxcbiAgaW5kZXhPZihub2RlKSB7XG4gICAgcmV0dXJuIHRoaXMubGF5ZXJzLmZpbmRJbmRleCgobGF5ZXIpID0+IGxheWVyLm5vZGUgPT09IG5vZGUpO1xuICB9LFxuICBkaXNtaXNzKG5vZGUpIHtcbiAgICB0aGlzLmxheWVyc1t0aGlzLmluZGV4T2Yobm9kZSldPy5kaXNtaXNzKCk7XG4gIH0sXG4gIGNsZWFyKCkge1xuICAgIHRoaXMucmVtb3ZlKHRoaXMubGF5ZXJzWzBdLm5vZGUpO1xuICB9XG59O1xuXG4vLyBzcmMvcG9pbnRlci1ldmVudC1vdXRzaWRlLnRzXG5pbXBvcnQgeyBnZXREb2N1bWVudCBhcyBnZXREb2N1bWVudDIgfSBmcm9tIFwiQHphZy1qcy9kb20tcXVlcnlcIjtcbnZhciBvcmlnaW5hbEJvZHlQb2ludGVyRXZlbnRzO1xuZnVuY3Rpb24gYXNzaWduUG9pbnRlckV2ZW50VG9MYXllcnMoKSB7XG4gIGxheWVyU3RhY2subGF5ZXJzLmZvckVhY2goKHsgbm9kZSB9KSA9PiB7XG4gICAgbm9kZS5zdHlsZS5wb2ludGVyRXZlbnRzID0gbGF5ZXJTdGFjay5pc0JlbG93UG9pbnRlckJsb2NraW5nTGF5ZXIobm9kZSkgPyBcIm5vbmVcIiA6IFwiYXV0b1wiO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGNsZWFyUG9pbnRlckV2ZW50KG5vZGUpIHtcbiAgbm9kZS5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJcIjtcbn1cbnZhciBEQVRBX0FUVFIgPSBcImRhdGEtaW5lcnRcIjtcbmZ1bmN0aW9uIGRpc2FibGVQb2ludGVyRXZlbnRzT3V0c2lkZShub2RlKSB7XG4gIGNvbnN0IGRvYyA9IGdldERvY3VtZW50Mihub2RlKTtcbiAgaWYgKGxheWVyU3RhY2suaGFzUG9pbnRlckJsb2NraW5nTGF5ZXIoKSAmJiAhZG9jLmJvZHkuaGFzQXR0cmlidXRlKERBVEFfQVRUUikpIHtcbiAgICBvcmlnaW5hbEJvZHlQb2ludGVyRXZlbnRzID0gZG9jdW1lbnQuYm9keS5zdHlsZS5wb2ludGVyRXZlbnRzO1xuICAgIGRvYy5ib2R5LnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcIm5vbmVcIjtcbiAgICBkb2MuYm9keS5zZXRBdHRyaWJ1dGUoREFUQV9BVFRSLCBcIlwiKTtcbiAgfVxuICByZXR1cm4gKCkgPT4ge1xuICAgIGlmIChsYXllclN0YWNrLmhhc1BvaW50ZXJCbG9ja2luZ0xheWVyKCkpXG4gICAgICByZXR1cm47XG4gICAgZG9jLmJvZHkuc3R5bGUucG9pbnRlckV2ZW50cyA9IG9yaWdpbmFsQm9keVBvaW50ZXJFdmVudHM7XG4gICAgZG9jLmJvZHkucmVtb3ZlQXR0cmlidXRlKERBVEFfQVRUUik7XG4gICAgaWYgKGRvYy5ib2R5LnN0eWxlLmxlbmd0aCA9PT0gMClcbiAgICAgIGRvYy5ib2R5LnJlbW92ZUF0dHJpYnV0ZShcInN0eWxlXCIpO1xuICB9O1xufVxuXG4vLyBzcmMvZGlzbWlzc2FibGUtbGF5ZXIudHNcbmZ1bmN0aW9uIHRyYWNrRGlzbWlzc2FibGVFbGVtZW50SW1wbChub2RlLCBvcHRpb25zKSB7XG4gIGlmICghbm9kZSkge1xuICAgIHdhcm4oXCJbQHphZy1qcy9kaXNtaXNzYWJsZV0gbm9kZSBpcyBgbnVsbGAgb3IgYHVuZGVmaW5lZGBcIik7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHsgb25EaXNtaXNzLCBwb2ludGVyQmxvY2tpbmcsIGV4Y2x1ZGU6IGV4Y2x1ZGVDb250YWluZXJzLCBkZWJ1ZyB9ID0gb3B0aW9ucztcbiAgY29uc3QgbGF5ZXIgPSB7IGRpc21pc3M6IG9uRGlzbWlzcywgbm9kZSwgcG9pbnRlckJsb2NraW5nIH07XG4gIGxheWVyU3RhY2suYWRkKGxheWVyKTtcbiAgYXNzaWduUG9pbnRlckV2ZW50VG9MYXllcnMoKTtcbiAgZnVuY3Rpb24gb25Qb2ludGVyRG93bk91dHNpZGUoZXZlbnQpIHtcbiAgICBjb25zdCB0YXJnZXQgPSBnZXRFdmVudFRhcmdldChldmVudC5kZXRhaWwub3JpZ2luYWxFdmVudCk7XG4gICAgaWYgKGxheWVyU3RhY2suaXNCZWxvd1BvaW50ZXJCbG9ja2luZ0xheWVyKG5vZGUpIHx8IGxheWVyU3RhY2suaXNJbkJyYW5jaCh0YXJnZXQpKVxuICAgICAgcmV0dXJuO1xuICAgIG9wdGlvbnMub25Qb2ludGVyRG93bk91dHNpZGU/LihldmVudCk7XG4gICAgb3B0aW9ucy5vbkludGVyYWN0T3V0c2lkZT8uKGV2ZW50KTtcbiAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZClcbiAgICAgIHJldHVybjtcbiAgICBpZiAoZGVidWcpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwib25Qb2ludGVyRG93bk91dHNpZGU6XCIsIGV2ZW50LmRldGFpbC5vcmlnaW5hbEV2ZW50KTtcbiAgICB9XG4gICAgb25EaXNtaXNzPy4oKTtcbiAgfVxuICBmdW5jdGlvbiBvbkZvY3VzT3V0c2lkZShldmVudCkge1xuICAgIGNvbnN0IHRhcmdldCA9IGdldEV2ZW50VGFyZ2V0KGV2ZW50LmRldGFpbC5vcmlnaW5hbEV2ZW50KTtcbiAgICBpZiAobGF5ZXJTdGFjay5pc0luQnJhbmNoKHRhcmdldCkpXG4gICAgICByZXR1cm47XG4gICAgb3B0aW9ucy5vbkZvY3VzT3V0c2lkZT8uKGV2ZW50KTtcbiAgICBvcHRpb25zLm9uSW50ZXJhY3RPdXRzaWRlPy4oZXZlbnQpO1xuICAgIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKVxuICAgICAgcmV0dXJuO1xuICAgIGlmIChkZWJ1Zykge1xuICAgICAgY29uc29sZS5sb2coXCJvbkZvY3VzT3V0c2lkZTpcIiwgZXZlbnQuZGV0YWlsLm9yaWdpbmFsRXZlbnQpO1xuICAgIH1cbiAgICBvbkRpc21pc3M/LigpO1xuICB9XG4gIGZ1bmN0aW9uIG9uRXNjYXBlS2V5RG93bihldmVudCkge1xuICAgIGlmICghbGF5ZXJTdGFjay5pc1RvcE1vc3Qobm9kZSkpXG4gICAgICByZXR1cm47XG4gICAgb3B0aW9ucy5vbkVzY2FwZUtleURvd24/LihldmVudCk7XG4gICAgaWYgKCFldmVudC5kZWZhdWx0UHJldmVudGVkICYmIG9uRGlzbWlzcykge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIG9uRGlzbWlzcygpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBleGNsdWRlKHRhcmdldCkge1xuICAgIGlmICghbm9kZSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBjb250YWluZXJzID0gdHlwZW9mIGV4Y2x1ZGVDb250YWluZXJzID09PSBcImZ1bmN0aW9uXCIgPyBleGNsdWRlQ29udGFpbmVycygpIDogZXhjbHVkZUNvbnRhaW5lcnM7XG4gICAgY29uc3QgX2NvbnRhaW5lcnMgPSBBcnJheS5pc0FycmF5KGNvbnRhaW5lcnMpID8gY29udGFpbmVycyA6IFtjb250YWluZXJzXTtcbiAgICByZXR1cm4gX2NvbnRhaW5lcnMuc29tZSgobm9kZTIpID0+IGNvbnRhaW5zMihub2RlMiwgdGFyZ2V0KSkgfHwgbGF5ZXJTdGFjay5pc0luTmVzdGVkTGF5ZXIobm9kZSwgdGFyZ2V0KTtcbiAgfVxuICBjb25zdCBjbGVhbnVwcyA9IFtcbiAgICBwb2ludGVyQmxvY2tpbmcgPyBkaXNhYmxlUG9pbnRlckV2ZW50c091dHNpZGUobm9kZSkgOiB2b2lkIDAsXG4gICAgdHJhY2tFc2NhcGVLZXlkb3duKG5vZGUsIG9uRXNjYXBlS2V5RG93biksXG4gICAgdHJhY2tJbnRlcmFjdE91dHNpZGUobm9kZSwgeyBleGNsdWRlLCBvbkZvY3VzT3V0c2lkZSwgb25Qb2ludGVyRG93bk91dHNpZGUgfSlcbiAgXTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBsYXllclN0YWNrLnJlbW92ZShub2RlKTtcbiAgICBhc3NpZ25Qb2ludGVyRXZlbnRUb0xheWVycygpO1xuICAgIGNsZWFyUG9pbnRlckV2ZW50KG5vZGUpO1xuICAgIGNsZWFudXBzLmZvckVhY2goKGZuKSA9PiBmbj8uKCkpO1xuICB9O1xufVxuZnVuY3Rpb24gdHJhY2tEaXNtaXNzYWJsZUVsZW1lbnQobm9kZU9yRm4sIG9wdGlvbnMpIHtcbiAgY29uc3QgeyBkZWZlciB9ID0gb3B0aW9ucztcbiAgY29uc3QgZnVuYyA9IGRlZmVyID8gcmFmIDogKHYpID0+IHYoKTtcbiAgY29uc3QgY2xlYW51cHMgPSBbXTtcbiAgY2xlYW51cHMucHVzaChcbiAgICBmdW5jKCgpID0+IHtcbiAgICAgIGNvbnN0IG5vZGUgPSB0eXBlb2Ygbm9kZU9yRm4gPT09IFwiZnVuY3Rpb25cIiA/IG5vZGVPckZuKCkgOiBub2RlT3JGbjtcbiAgICAgIGNsZWFudXBzLnB1c2godHJhY2tEaXNtaXNzYWJsZUVsZW1lbnRJbXBsKG5vZGUsIG9wdGlvbnMpKTtcbiAgICB9KVxuICApO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGNsZWFudXBzLmZvckVhY2goKGZuKSA9PiBmbj8uKCkpO1xuICB9O1xufVxuZXhwb3J0IHtcbiAgdHJhY2tEaXNtaXNzYWJsZUVsZW1lbnRcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/dismissable/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/dom-event/dist/index.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/@zag-js/dom-event/dist/index.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addDomEvent: () => (/* binding */ addDomEvent),\n/* harmony export */   fireBlurEvent: () => (/* binding */ fireBlurEvent),\n/* harmony export */   fireCustomEvent: () => (/* binding */ fireCustomEvent),\n/* harmony export */   getEventKey: () => (/* binding */ getEventKey),\n/* harmony export */   getEventPoint: () => (/* binding */ getEventPoint),\n/* harmony export */   getEventStep: () => (/* binding */ getEventStep),\n/* harmony export */   getNativeEvent: () => (/* binding */ getNativeEvent),\n/* harmony export */   getRelativePoint: () => (/* binding */ getRelativePoint),\n/* harmony export */   isContextMenuEvent: () => (/* binding */ isContextMenuEvent),\n/* harmony export */   isKeyboardClick: () => (/* binding */ isKeyboardClick),\n/* harmony export */   isLeftClick: () => (/* binding */ isLeftClick),\n/* harmony export */   isModifiedEvent: () => (/* binding */ isModifiedEvent),\n/* harmony export */   isPrintableKey: () => (/* binding */ isPrintableKey),\n/* harmony export */   isVirtualClick: () => (/* binding */ isVirtualClick),\n/* harmony export */   isVirtualPointerEvent: () => (/* binding */ isVirtualPointerEvent),\n/* harmony export */   requestPointerLock: () => (/* binding */ requestPointerLock),\n/* harmony export */   trackPointerMove: () => (/* binding */ trackPointerMove),\n/* harmony export */   trackVisualViewport: () => (/* binding */ trackVisualViewport)\n/* harmony export */ });\n/* harmony import */ var _zag_js_text_selection__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/text-selection */ \"(ssr)/./node_modules/@zag-js/text-selection/dist/index.mjs\");\n// src/add-dom-event.ts\nvar addDomEvent = (target, eventName, handler, options) => {\n  const node = typeof target === \"function\" ? target() : target;\n  node?.addEventListener(eventName, handler, options);\n  return () => {\n    node?.removeEventListener(eventName, handler, options);\n  };\n};\n\n// src/assertion.ts\nfunction isKeyboardClick(e) {\n  return e.detail === 0 || e.clientX === 0 && e.clientY === 0;\n}\nfunction isPrintableKey(e) {\n  return e.key.length === 1 && !e.ctrlKey && !e.metaKey;\n}\nfunction isVirtualPointerEvent(e) {\n  return e.width === 0 && e.height === 0 || e.width === 1 && e.height === 1 && e.pressure === 0 && e.detail === 0 && e.pointerType === \"mouse\";\n}\nfunction isVirtualClick(e) {\n  if (e.mozInputSource === 0 && e.isTrusted)\n    return true;\n  return e.detail === 0 && !e.pointerType;\n}\nvar isLeftClick = (e) => e.button === 0;\nvar isContextMenuEvent = (e) => {\n  return e.button === 2 || isMac() && e.ctrlKey && e.button === 0;\n};\nvar isModifiedEvent = (e) => e.ctrlKey || e.altKey || e.metaKey;\nvar isMac = () => /Mac|iPod|iPhone|iPad/.test(window.navigator.platform);\n\n// src/fire-event.ts\nfunction fireCustomEvent(el, type, init) {\n  if (!el)\n    return;\n  const win = el.ownerDocument.defaultView || window;\n  const event = new win.CustomEvent(type, init);\n  return el.dispatchEvent(event);\n}\nfunction fireBlurEvent(el, init) {\n  const win = el.ownerDocument.defaultView || window;\n  const event = new win.FocusEvent(\"blur\", init);\n  const allowed = el.dispatchEvent(event);\n  const bubbleInit = { ...init, bubbles: true };\n  el.dispatchEvent(new win.FocusEvent(\"focusout\", bubbleInit));\n  return allowed;\n}\n\n// src/get-event-key.ts\nvar keyMap = {\n  Up: \"ArrowUp\",\n  Down: \"ArrowDown\",\n  Esc: \"Escape\",\n  \" \": \"Space\",\n  \",\": \"Comma\",\n  Left: \"ArrowLeft\",\n  Right: \"ArrowRight\"\n};\nvar rtlKeyMap = {\n  ArrowLeft: \"ArrowRight\",\n  ArrowRight: \"ArrowLeft\"\n};\nfunction getEventKey(event, options = {}) {\n  const { dir = \"ltr\", orientation = \"horizontal\" } = options;\n  let { key } = event;\n  key = keyMap[key] ?? key;\n  const isRtl = dir === \"rtl\" && orientation === \"horizontal\";\n  if (isRtl && key in rtlKeyMap) {\n    key = rtlKeyMap[key];\n  }\n  return key;\n}\n\n// src/get-event-point.ts\nfunction pointFromTouch(e, type = \"client\") {\n  const point = e.touches[0] || e.changedTouches[0];\n  return { x: point[`${type}X`], y: point[`${type}Y`] };\n}\nfunction pointFromMouse(point, type = \"client\") {\n  return { x: point[`${type}X`], y: point[`${type}Y`] };\n}\nvar isTouchEvent = (event) => \"touches\" in event && event.touches.length > 0;\nfunction getEventPoint(event, type = \"client\") {\n  return isTouchEvent(event) ? pointFromTouch(event, type) : pointFromMouse(event, type);\n}\n\n// src/get-event-step.ts\nvar PAGE_KEYS = /* @__PURE__ */ new Set([\"PageUp\", \"PageDown\"]);\nvar ARROW_KEYS = /* @__PURE__ */ new Set([\"ArrowUp\", \"ArrowDown\", \"ArrowLeft\", \"ArrowRight\"]);\nfunction getEventStep(event) {\n  if (event.ctrlKey || event.metaKey) {\n    return 0.1;\n  } else {\n    const isPageKey = PAGE_KEYS.has(event.key);\n    const isSkipKey = isPageKey || event.shiftKey && ARROW_KEYS.has(event.key);\n    return isSkipKey ? 10 : 1;\n  }\n}\n\n// src/get-native-event.ts\nfunction getNativeEvent(event) {\n  return event.nativeEvent ?? event;\n}\n\n// src/get-point-value.ts\nfunction clamp(value) {\n  return Math.max(0, Math.min(1, value));\n}\nfunction getRelativePoint(point, element) {\n  const { left, top, width, height } = element.getBoundingClientRect();\n  const offset = { x: point.x - left, y: point.y - top };\n  const percent = { x: clamp(offset.x / width), y: clamp(offset.y / height) };\n  function getPercentValue(options = {}) {\n    const { dir = \"ltr\", orientation = \"horizontal\", inverted } = options;\n    const invertX = typeof inverted === \"object\" ? inverted.x : inverted;\n    const invertY = typeof inverted === \"object\" ? inverted.y : inverted;\n    if (orientation === \"horizontal\") {\n      return dir === \"rtl\" || invertX ? 1 - percent.x : percent.x;\n    }\n    return invertY ? 1 - percent.y : percent.y;\n  }\n  return { offset, percent, getPercentValue };\n}\n\n// src/request-pointer-lock.ts\nfunction requestPointerLock(doc, fn) {\n  const body = doc.body;\n  const supported = \"pointerLockElement\" in doc || \"mozPointerLockElement\" in doc;\n  const isLocked = () => !!doc.pointerLockElement;\n  function onPointerChange() {\n    fn?.(isLocked());\n  }\n  function onPointerError(event) {\n    if (isLocked())\n      fn?.(false);\n    console.error(\"PointerLock error occured:\", event);\n    doc.exitPointerLock();\n  }\n  if (!supported)\n    return;\n  try {\n    body.requestPointerLock();\n  } catch {\n  }\n  const cleanup = [\n    addDomEvent(doc, \"pointerlockchange\", onPointerChange, false),\n    addDomEvent(doc, \"pointerlockerror\", onPointerError, false)\n  ];\n  return () => {\n    cleanup.forEach((cleanup2) => cleanup2());\n    doc.exitPointerLock();\n  };\n}\n\n// src/track-pointer-move.ts\n\nfunction trackPointerMove(doc, handlers) {\n  const { onPointerMove, onPointerUp } = handlers;\n  const handleMove = (event) => {\n    const point = getEventPoint(event);\n    const distance = Math.sqrt(point.x ** 2 + point.y ** 2);\n    const moveBuffer = event.pointerType === \"touch\" ? 10 : 5;\n    if (distance < moveBuffer)\n      return;\n    if (event.pointerType === \"mouse\" && event.button === 0) {\n      onPointerUp();\n      return;\n    }\n    onPointerMove({ point, event });\n  };\n  const cleanups = [\n    addDomEvent(doc, \"pointermove\", handleMove, false),\n    addDomEvent(doc, \"pointerup\", onPointerUp, false),\n    addDomEvent(doc, \"pointercancel\", onPointerUp, false),\n    addDomEvent(doc, \"contextmenu\", onPointerUp, false),\n    (0,_zag_js_text_selection__WEBPACK_IMPORTED_MODULE_0__.disableTextSelection)({ doc })\n  ];\n  return () => {\n    cleanups.forEach((cleanup) => cleanup());\n  };\n}\n\n// src/track-visual-viewport.ts\nfunction trackVisualViewport(doc, fn) {\n  const win = doc?.defaultView || window;\n  const onResize = () => {\n    fn?.(getViewportSize(win));\n  };\n  onResize();\n  return addDomEvent(win.visualViewport ?? win, \"resize\", onResize);\n}\nfunction getViewportSize(win) {\n  return {\n    width: win.visualViewport?.width || win.innerWidth,\n    height: win.visualViewport?.height || win.innerHeight\n  };\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9kb20tZXZlbnQvZGlzdC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QztBQUN4QyxVQUFVLDBDQUEwQztBQUNwRCxRQUFRLE1BQU07QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFlBQVksS0FBSyxpQkFBaUIsS0FBSztBQUNsRDtBQUNBO0FBQ0EsV0FBVyxZQUFZLEtBQUssaUJBQWlCLEtBQUs7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSwyQkFBMkI7QUFDckMsbUJBQW1CO0FBQ25CLG9CQUFvQjtBQUNwQix1Q0FBdUM7QUFDdkMsWUFBWSxvREFBb0Q7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQzhEO0FBQzlEO0FBQ0EsVUFBVSw2QkFBNkI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsY0FBYztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLDRFQUFvQixHQUFHLEtBQUs7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFvQkU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL0BwYXJrLXVpL2V4YW1wbGVzLXJlYWN0LW5leHQtanMvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9kb20tZXZlbnQvZGlzdC9pbmRleC5tanM/MzFiZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvYWRkLWRvbS1ldmVudC50c1xudmFyIGFkZERvbUV2ZW50ID0gKHRhcmdldCwgZXZlbnROYW1lLCBoYW5kbGVyLCBvcHRpb25zKSA9PiB7XG4gIGNvbnN0IG5vZGUgPSB0eXBlb2YgdGFyZ2V0ID09PSBcImZ1bmN0aW9uXCIgPyB0YXJnZXQoKSA6IHRhcmdldDtcbiAgbm9kZT8uYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIsIG9wdGlvbnMpO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIG5vZGU/LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBoYW5kbGVyLCBvcHRpb25zKTtcbiAgfTtcbn07XG5cbi8vIHNyYy9hc3NlcnRpb24udHNcbmZ1bmN0aW9uIGlzS2V5Ym9hcmRDbGljayhlKSB7XG4gIHJldHVybiBlLmRldGFpbCA9PT0gMCB8fCBlLmNsaWVudFggPT09IDAgJiYgZS5jbGllbnRZID09PSAwO1xufVxuZnVuY3Rpb24gaXNQcmludGFibGVLZXkoZSkge1xuICByZXR1cm4gZS5rZXkubGVuZ3RoID09PSAxICYmICFlLmN0cmxLZXkgJiYgIWUubWV0YUtleTtcbn1cbmZ1bmN0aW9uIGlzVmlydHVhbFBvaW50ZXJFdmVudChlKSB7XG4gIHJldHVybiBlLndpZHRoID09PSAwICYmIGUuaGVpZ2h0ID09PSAwIHx8IGUud2lkdGggPT09IDEgJiYgZS5oZWlnaHQgPT09IDEgJiYgZS5wcmVzc3VyZSA9PT0gMCAmJiBlLmRldGFpbCA9PT0gMCAmJiBlLnBvaW50ZXJUeXBlID09PSBcIm1vdXNlXCI7XG59XG5mdW5jdGlvbiBpc1ZpcnR1YWxDbGljayhlKSB7XG4gIGlmIChlLm1veklucHV0U291cmNlID09PSAwICYmIGUuaXNUcnVzdGVkKVxuICAgIHJldHVybiB0cnVlO1xuICByZXR1cm4gZS5kZXRhaWwgPT09IDAgJiYgIWUucG9pbnRlclR5cGU7XG59XG52YXIgaXNMZWZ0Q2xpY2sgPSAoZSkgPT4gZS5idXR0b24gPT09IDA7XG52YXIgaXNDb250ZXh0TWVudUV2ZW50ID0gKGUpID0+IHtcbiAgcmV0dXJuIGUuYnV0dG9uID09PSAyIHx8IGlzTWFjKCkgJiYgZS5jdHJsS2V5ICYmIGUuYnV0dG9uID09PSAwO1xufTtcbnZhciBpc01vZGlmaWVkRXZlbnQgPSAoZSkgPT4gZS5jdHJsS2V5IHx8IGUuYWx0S2V5IHx8IGUubWV0YUtleTtcbnZhciBpc01hYyA9ICgpID0+IC9NYWN8aVBvZHxpUGhvbmV8aVBhZC8udGVzdCh3aW5kb3cubmF2aWdhdG9yLnBsYXRmb3JtKTtcblxuLy8gc3JjL2ZpcmUtZXZlbnQudHNcbmZ1bmN0aW9uIGZpcmVDdXN0b21FdmVudChlbCwgdHlwZSwgaW5pdCkge1xuICBpZiAoIWVsKVxuICAgIHJldHVybjtcbiAgY29uc3Qgd2luID0gZWwub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyB8fCB3aW5kb3c7XG4gIGNvbnN0IGV2ZW50ID0gbmV3IHdpbi5DdXN0b21FdmVudCh0eXBlLCBpbml0KTtcbiAgcmV0dXJuIGVsLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xufVxuZnVuY3Rpb24gZmlyZUJsdXJFdmVudChlbCwgaW5pdCkge1xuICBjb25zdCB3aW4gPSBlbC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3IHx8IHdpbmRvdztcbiAgY29uc3QgZXZlbnQgPSBuZXcgd2luLkZvY3VzRXZlbnQoXCJibHVyXCIsIGluaXQpO1xuICBjb25zdCBhbGxvd2VkID0gZWwuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gIGNvbnN0IGJ1YmJsZUluaXQgPSB7IC4uLmluaXQsIGJ1YmJsZXM6IHRydWUgfTtcbiAgZWwuZGlzcGF0Y2hFdmVudChuZXcgd2luLkZvY3VzRXZlbnQoXCJmb2N1c291dFwiLCBidWJibGVJbml0KSk7XG4gIHJldHVybiBhbGxvd2VkO1xufVxuXG4vLyBzcmMvZ2V0LWV2ZW50LWtleS50c1xudmFyIGtleU1hcCA9IHtcbiAgVXA6IFwiQXJyb3dVcFwiLFxuICBEb3duOiBcIkFycm93RG93blwiLFxuICBFc2M6IFwiRXNjYXBlXCIsXG4gIFwiIFwiOiBcIlNwYWNlXCIsXG4gIFwiLFwiOiBcIkNvbW1hXCIsXG4gIExlZnQ6IFwiQXJyb3dMZWZ0XCIsXG4gIFJpZ2h0OiBcIkFycm93UmlnaHRcIlxufTtcbnZhciBydGxLZXlNYXAgPSB7XG4gIEFycm93TGVmdDogXCJBcnJvd1JpZ2h0XCIsXG4gIEFycm93UmlnaHQ6IFwiQXJyb3dMZWZ0XCJcbn07XG5mdW5jdGlvbiBnZXRFdmVudEtleShldmVudCwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHsgZGlyID0gXCJsdHJcIiwgb3JpZW50YXRpb24gPSBcImhvcml6b250YWxcIiB9ID0gb3B0aW9ucztcbiAgbGV0IHsga2V5IH0gPSBldmVudDtcbiAga2V5ID0ga2V5TWFwW2tleV0gPz8ga2V5O1xuICBjb25zdCBpc1J0bCA9IGRpciA9PT0gXCJydGxcIiAmJiBvcmllbnRhdGlvbiA9PT0gXCJob3Jpem9udGFsXCI7XG4gIGlmIChpc1J0bCAmJiBrZXkgaW4gcnRsS2V5TWFwKSB7XG4gICAga2V5ID0gcnRsS2V5TWFwW2tleV07XG4gIH1cbiAgcmV0dXJuIGtleTtcbn1cblxuLy8gc3JjL2dldC1ldmVudC1wb2ludC50c1xuZnVuY3Rpb24gcG9pbnRGcm9tVG91Y2goZSwgdHlwZSA9IFwiY2xpZW50XCIpIHtcbiAgY29uc3QgcG9pbnQgPSBlLnRvdWNoZXNbMF0gfHwgZS5jaGFuZ2VkVG91Y2hlc1swXTtcbiAgcmV0dXJuIHsgeDogcG9pbnRbYCR7dHlwZX1YYF0sIHk6IHBvaW50W2Ake3R5cGV9WWBdIH07XG59XG5mdW5jdGlvbiBwb2ludEZyb21Nb3VzZShwb2ludCwgdHlwZSA9IFwiY2xpZW50XCIpIHtcbiAgcmV0dXJuIHsgeDogcG9pbnRbYCR7dHlwZX1YYF0sIHk6IHBvaW50W2Ake3R5cGV9WWBdIH07XG59XG52YXIgaXNUb3VjaEV2ZW50ID0gKGV2ZW50KSA9PiBcInRvdWNoZXNcIiBpbiBldmVudCAmJiBldmVudC50b3VjaGVzLmxlbmd0aCA+IDA7XG5mdW5jdGlvbiBnZXRFdmVudFBvaW50KGV2ZW50LCB0eXBlID0gXCJjbGllbnRcIikge1xuICByZXR1cm4gaXNUb3VjaEV2ZW50KGV2ZW50KSA/IHBvaW50RnJvbVRvdWNoKGV2ZW50LCB0eXBlKSA6IHBvaW50RnJvbU1vdXNlKGV2ZW50LCB0eXBlKTtcbn1cblxuLy8gc3JjL2dldC1ldmVudC1zdGVwLnRzXG52YXIgUEFHRV9LRVlTID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoW1wiUGFnZVVwXCIsIFwiUGFnZURvd25cIl0pO1xudmFyIEFSUk9XX0tFWVMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldChbXCJBcnJvd1VwXCIsIFwiQXJyb3dEb3duXCIsIFwiQXJyb3dMZWZ0XCIsIFwiQXJyb3dSaWdodFwiXSk7XG5mdW5jdGlvbiBnZXRFdmVudFN0ZXAoZXZlbnQpIHtcbiAgaWYgKGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleSkge1xuICAgIHJldHVybiAwLjE7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgaXNQYWdlS2V5ID0gUEFHRV9LRVlTLmhhcyhldmVudC5rZXkpO1xuICAgIGNvbnN0IGlzU2tpcEtleSA9IGlzUGFnZUtleSB8fCBldmVudC5zaGlmdEtleSAmJiBBUlJPV19LRVlTLmhhcyhldmVudC5rZXkpO1xuICAgIHJldHVybiBpc1NraXBLZXkgPyAxMCA6IDE7XG4gIH1cbn1cblxuLy8gc3JjL2dldC1uYXRpdmUtZXZlbnQudHNcbmZ1bmN0aW9uIGdldE5hdGl2ZUV2ZW50KGV2ZW50KSB7XG4gIHJldHVybiBldmVudC5uYXRpdmVFdmVudCA/PyBldmVudDtcbn1cblxuLy8gc3JjL2dldC1wb2ludC12YWx1ZS50c1xuZnVuY3Rpb24gY2xhbXAodmFsdWUpIHtcbiAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHZhbHVlKSk7XG59XG5mdW5jdGlvbiBnZXRSZWxhdGl2ZVBvaW50KHBvaW50LCBlbGVtZW50KSB7XG4gIGNvbnN0IHsgbGVmdCwgdG9wLCB3aWR0aCwgaGVpZ2h0IH0gPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBjb25zdCBvZmZzZXQgPSB7IHg6IHBvaW50LnggLSBsZWZ0LCB5OiBwb2ludC55IC0gdG9wIH07XG4gIGNvbnN0IHBlcmNlbnQgPSB7IHg6IGNsYW1wKG9mZnNldC54IC8gd2lkdGgpLCB5OiBjbGFtcChvZmZzZXQueSAvIGhlaWdodCkgfTtcbiAgZnVuY3Rpb24gZ2V0UGVyY2VudFZhbHVlKG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IHsgZGlyID0gXCJsdHJcIiwgb3JpZW50YXRpb24gPSBcImhvcml6b250YWxcIiwgaW52ZXJ0ZWQgfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgaW52ZXJ0WCA9IHR5cGVvZiBpbnZlcnRlZCA9PT0gXCJvYmplY3RcIiA/IGludmVydGVkLnggOiBpbnZlcnRlZDtcbiAgICBjb25zdCBpbnZlcnRZID0gdHlwZW9mIGludmVydGVkID09PSBcIm9iamVjdFwiID8gaW52ZXJ0ZWQueSA6IGludmVydGVkO1xuICAgIGlmIChvcmllbnRhdGlvbiA9PT0gXCJob3Jpem9udGFsXCIpIHtcbiAgICAgIHJldHVybiBkaXIgPT09IFwicnRsXCIgfHwgaW52ZXJ0WCA/IDEgLSBwZXJjZW50LnggOiBwZXJjZW50Lng7XG4gICAgfVxuICAgIHJldHVybiBpbnZlcnRZID8gMSAtIHBlcmNlbnQueSA6IHBlcmNlbnQueTtcbiAgfVxuICByZXR1cm4geyBvZmZzZXQsIHBlcmNlbnQsIGdldFBlcmNlbnRWYWx1ZSB9O1xufVxuXG4vLyBzcmMvcmVxdWVzdC1wb2ludGVyLWxvY2sudHNcbmZ1bmN0aW9uIHJlcXVlc3RQb2ludGVyTG9jayhkb2MsIGZuKSB7XG4gIGNvbnN0IGJvZHkgPSBkb2MuYm9keTtcbiAgY29uc3Qgc3VwcG9ydGVkID0gXCJwb2ludGVyTG9ja0VsZW1lbnRcIiBpbiBkb2MgfHwgXCJtb3pQb2ludGVyTG9ja0VsZW1lbnRcIiBpbiBkb2M7XG4gIGNvbnN0IGlzTG9ja2VkID0gKCkgPT4gISFkb2MucG9pbnRlckxvY2tFbGVtZW50O1xuICBmdW5jdGlvbiBvblBvaW50ZXJDaGFuZ2UoKSB7XG4gICAgZm4/Lihpc0xvY2tlZCgpKTtcbiAgfVxuICBmdW5jdGlvbiBvblBvaW50ZXJFcnJvcihldmVudCkge1xuICAgIGlmIChpc0xvY2tlZCgpKVxuICAgICAgZm4/LihmYWxzZSk7XG4gICAgY29uc29sZS5lcnJvcihcIlBvaW50ZXJMb2NrIGVycm9yIG9jY3VyZWQ6XCIsIGV2ZW50KTtcbiAgICBkb2MuZXhpdFBvaW50ZXJMb2NrKCk7XG4gIH1cbiAgaWYgKCFzdXBwb3J0ZWQpXG4gICAgcmV0dXJuO1xuICB0cnkge1xuICAgIGJvZHkucmVxdWVzdFBvaW50ZXJMb2NrKCk7XG4gIH0gY2F0Y2gge1xuICB9XG4gIGNvbnN0IGNsZWFudXAgPSBbXG4gICAgYWRkRG9tRXZlbnQoZG9jLCBcInBvaW50ZXJsb2NrY2hhbmdlXCIsIG9uUG9pbnRlckNoYW5nZSwgZmFsc2UpLFxuICAgIGFkZERvbUV2ZW50KGRvYywgXCJwb2ludGVybG9ja2Vycm9yXCIsIG9uUG9pbnRlckVycm9yLCBmYWxzZSlcbiAgXTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBjbGVhbnVwLmZvckVhY2goKGNsZWFudXAyKSA9PiBjbGVhbnVwMigpKTtcbiAgICBkb2MuZXhpdFBvaW50ZXJMb2NrKCk7XG4gIH07XG59XG5cbi8vIHNyYy90cmFjay1wb2ludGVyLW1vdmUudHNcbmltcG9ydCB7IGRpc2FibGVUZXh0U2VsZWN0aW9uIH0gZnJvbSBcIkB6YWctanMvdGV4dC1zZWxlY3Rpb25cIjtcbmZ1bmN0aW9uIHRyYWNrUG9pbnRlck1vdmUoZG9jLCBoYW5kbGVycykge1xuICBjb25zdCB7IG9uUG9pbnRlck1vdmUsIG9uUG9pbnRlclVwIH0gPSBoYW5kbGVycztcbiAgY29uc3QgaGFuZGxlTW92ZSA9IChldmVudCkgPT4ge1xuICAgIGNvbnN0IHBvaW50ID0gZ2V0RXZlbnRQb2ludChldmVudCk7XG4gICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLnNxcnQocG9pbnQueCAqKiAyICsgcG9pbnQueSAqKiAyKTtcbiAgICBjb25zdCBtb3ZlQnVmZmVyID0gZXZlbnQucG9pbnRlclR5cGUgPT09IFwidG91Y2hcIiA/IDEwIDogNTtcbiAgICBpZiAoZGlzdGFuY2UgPCBtb3ZlQnVmZmVyKVxuICAgICAgcmV0dXJuO1xuICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gXCJtb3VzZVwiICYmIGV2ZW50LmJ1dHRvbiA9PT0gMCkge1xuICAgICAgb25Qb2ludGVyVXAoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgb25Qb2ludGVyTW92ZSh7IHBvaW50LCBldmVudCB9KTtcbiAgfTtcbiAgY29uc3QgY2xlYW51cHMgPSBbXG4gICAgYWRkRG9tRXZlbnQoZG9jLCBcInBvaW50ZXJtb3ZlXCIsIGhhbmRsZU1vdmUsIGZhbHNlKSxcbiAgICBhZGREb21FdmVudChkb2MsIFwicG9pbnRlcnVwXCIsIG9uUG9pbnRlclVwLCBmYWxzZSksXG4gICAgYWRkRG9tRXZlbnQoZG9jLCBcInBvaW50ZXJjYW5jZWxcIiwgb25Qb2ludGVyVXAsIGZhbHNlKSxcbiAgICBhZGREb21FdmVudChkb2MsIFwiY29udGV4dG1lbnVcIiwgb25Qb2ludGVyVXAsIGZhbHNlKSxcbiAgICBkaXNhYmxlVGV4dFNlbGVjdGlvbih7IGRvYyB9KVxuICBdO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGNsZWFudXBzLmZvckVhY2goKGNsZWFudXApID0+IGNsZWFudXAoKSk7XG4gIH07XG59XG5cbi8vIHNyYy90cmFjay12aXN1YWwtdmlld3BvcnQudHNcbmZ1bmN0aW9uIHRyYWNrVmlzdWFsVmlld3BvcnQoZG9jLCBmbikge1xuICBjb25zdCB3aW4gPSBkb2M/LmRlZmF1bHRWaWV3IHx8IHdpbmRvdztcbiAgY29uc3Qgb25SZXNpemUgPSAoKSA9PiB7XG4gICAgZm4/LihnZXRWaWV3cG9ydFNpemUod2luKSk7XG4gIH07XG4gIG9uUmVzaXplKCk7XG4gIHJldHVybiBhZGREb21FdmVudCh3aW4udmlzdWFsVmlld3BvcnQgPz8gd2luLCBcInJlc2l6ZVwiLCBvblJlc2l6ZSk7XG59XG5mdW5jdGlvbiBnZXRWaWV3cG9ydFNpemUod2luKSB7XG4gIHJldHVybiB7XG4gICAgd2lkdGg6IHdpbi52aXN1YWxWaWV3cG9ydD8ud2lkdGggfHwgd2luLmlubmVyV2lkdGgsXG4gICAgaGVpZ2h0OiB3aW4udmlzdWFsVmlld3BvcnQ/LmhlaWdodCB8fCB3aW4uaW5uZXJIZWlnaHRcbiAgfTtcbn1cbmV4cG9ydCB7XG4gIGFkZERvbUV2ZW50LFxuICBmaXJlQmx1ckV2ZW50LFxuICBmaXJlQ3VzdG9tRXZlbnQsXG4gIGdldEV2ZW50S2V5LFxuICBnZXRFdmVudFBvaW50LFxuICBnZXRFdmVudFN0ZXAsXG4gIGdldE5hdGl2ZUV2ZW50LFxuICBnZXRSZWxhdGl2ZVBvaW50LFxuICBpc0NvbnRleHRNZW51RXZlbnQsXG4gIGlzS2V5Ym9hcmRDbGljayxcbiAgaXNMZWZ0Q2xpY2ssXG4gIGlzTW9kaWZpZWRFdmVudCxcbiAgaXNQcmludGFibGVLZXksXG4gIGlzVmlydHVhbENsaWNrLFxuICBpc1ZpcnR1YWxQb2ludGVyRXZlbnQsXG4gIHJlcXVlc3RQb2ludGVyTG9jayxcbiAgdHJhY2tQb2ludGVyTW92ZSxcbiAgdHJhY2tWaXN1YWxWaWV3cG9ydFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/dom-event/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/dom-query/dist/index.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/@zag-js/dom-query/dist/index.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MAX_Z_INDEX: () => (/* binding */ MAX_Z_INDEX),\n/* harmony export */   ariaAttr: () => (/* binding */ ariaAttr),\n/* harmony export */   contains: () => (/* binding */ contains),\n/* harmony export */   createScope: () => (/* binding */ createScope),\n/* harmony export */   dataAttr: () => (/* binding */ dataAttr),\n/* harmony export */   getActiveElement: () => (/* binding */ getActiveElement),\n/* harmony export */   getBeforeInputValue: () => (/* binding */ getBeforeInputValue),\n/* harmony export */   getByText: () => (/* binding */ getByText),\n/* harmony export */   getByTypeahead: () => (/* binding */ getByTypeahead),\n/* harmony export */   getComputedStyle: () => (/* binding */ getComputedStyle),\n/* harmony export */   getDocument: () => (/* binding */ getDocument2),\n/* harmony export */   getEventTarget: () => (/* binding */ getEventTarget),\n/* harmony export */   getParent: () => (/* binding */ getParent),\n/* harmony export */   getPlatform: () => (/* binding */ getPlatform),\n/* harmony export */   getScrollParent: () => (/* binding */ getScrollParent),\n/* harmony export */   getScrollParents: () => (/* binding */ getScrollParents),\n/* harmony export */   getWindow: () => (/* binding */ getWindow),\n/* harmony export */   indexOfId: () => (/* binding */ indexOfId),\n/* harmony export */   isApple: () => (/* binding */ isApple),\n/* harmony export */   isDom: () => (/* binding */ isDom),\n/* harmony export */   isEditableElement: () => (/* binding */ isEditableElement),\n/* harmony export */   isFirefox: () => (/* binding */ isFirefox),\n/* harmony export */   isHTMLElement: () => (/* binding */ isHTMLElement),\n/* harmony export */   isIPhone: () => (/* binding */ isIPhone),\n/* harmony export */   isIos: () => (/* binding */ isIos),\n/* harmony export */   isMac: () => (/* binding */ isMac),\n/* harmony export */   isSafari: () => (/* binding */ isSafari),\n/* harmony export */   isSelfEvent: () => (/* binding */ isSelfEvent),\n/* harmony export */   isTouchDevice: () => (/* binding */ isTouchDevice),\n/* harmony export */   itemById: () => (/* binding */ itemById),\n/* harmony export */   nextById: () => (/* binding */ nextById),\n/* harmony export */   nextTick: () => (/* binding */ nextTick),\n/* harmony export */   prevById: () => (/* binding */ prevById),\n/* harmony export */   query: () => (/* binding */ query),\n/* harmony export */   queryAll: () => (/* binding */ queryAll),\n/* harmony export */   raf: () => (/* binding */ raf)\n/* harmony export */ });\n// src/attrs.ts\nvar dataAttr = (guard) => {\n  return guard ? \"\" : void 0;\n};\nvar ariaAttr = (guard) => {\n  return guard ? \"true\" : void 0;\n};\n\n// src/is-html-element.ts\nvar isHTMLElement = (v) => typeof v === \"object\" && v?.nodeType === Node.ELEMENT_NODE && typeof v?.nodeName === \"string\";\n\n// src/contains.ts\nfunction contains(parent, child) {\n  if (!parent || !child)\n    return false;\n  if (!isHTMLElement(parent) || !isHTMLElement(child))\n    return false;\n  return parent === child || parent.contains(child);\n}\nvar isSelfEvent = (event) => contains(event.currentTarget, event.target);\n\n// src/create-scope.ts\nvar getDocument = (node) => {\n  if (node.nodeType === Node.DOCUMENT_NODE)\n    return node;\n  return node.ownerDocument ?? document;\n};\nfunction createScope(methods) {\n  const screen = {\n    getRootNode: (ctx) => ctx.getRootNode?.() ?? document,\n    getDoc: (ctx) => getDocument(screen.getRootNode(ctx)),\n    getWin: (ctx) => screen.getDoc(ctx).defaultView ?? window,\n    getActiveElement: (ctx) => screen.getDoc(ctx).activeElement,\n    isActiveElement: (ctx, elem) => elem === screen.getActiveElement(ctx),\n    focus(ctx, elem) {\n      if (elem == null)\n        return;\n      if (!screen.isActiveElement(ctx, elem))\n        elem.focus({ preventScroll: true });\n    },\n    getById: (ctx, id) => screen.getRootNode(ctx).getElementById(id),\n    setValue: (elem, value) => {\n      if (elem == null || value == null)\n        return;\n      const valueAsString = value.toString();\n      if (elem.value === valueAsString)\n        return;\n      elem.value = value.toString();\n    }\n  };\n  return { ...screen, ...methods };\n}\n\n// src/is-document.ts\nvar isDocument = (el) => el.nodeType === Node.DOCUMENT_NODE;\n\n// src/is-shadow-root.ts\nvar isNode = (el) => el.nodeType !== void 0;\nvar isShadowRoot = (el) => el && isNode(el) && el.nodeType === Node.DOCUMENT_FRAGMENT_NODE && \"host\" in el;\n\n// src/env.ts\nfunction getDocument2(el) {\n  if (isDocument(el))\n    return el;\n  return el?.ownerDocument ?? document;\n}\nfunction getWindow(el) {\n  if (isShadowRoot(el))\n    return getWindow(el.host);\n  if (isDocument(el))\n    return el.defaultView ?? window;\n  if (isHTMLElement(el))\n    return el.ownerDocument?.defaultView ?? window;\n  return window;\n}\n\n// src/get-active-element.ts\nfunction getActiveElement(el) {\n  let activeElement = el.ownerDocument.activeElement;\n  while (activeElement?.shadowRoot) {\n    const el2 = activeElement.shadowRoot.activeElement;\n    if (el2 === activeElement)\n      break;\n    else\n      activeElement = el2;\n  }\n  return activeElement;\n}\n\n// src/get-before-input-value.ts\nfunction getBeforeInputValue(event) {\n  const { selectionStart, selectionEnd, value } = event.currentTarget;\n  return value.slice(0, selectionStart) + event.data + value.slice(selectionEnd);\n}\n\n// src/get-by-id.ts\nfunction itemById(v, id) {\n  return v.find((node) => node.id === id);\n}\nfunction indexOfId(v, id) {\n  const item = itemById(v, id);\n  return item ? v.indexOf(item) : -1;\n}\nfunction nextById(v, id, loop = true) {\n  let idx = indexOfId(v, id);\n  idx = loop ? (idx + 1) % v.length : Math.min(idx + 1, v.length - 1);\n  return v[idx];\n}\nfunction prevById(v, id, loop = true) {\n  let idx = indexOfId(v, id);\n  if (idx === -1)\n    return loop ? v[v.length - 1] : null;\n  idx = loop ? (idx - 1 + v.length) % v.length : Math.max(0, idx - 1);\n  return v[idx];\n}\n\n// src/get-by-text.ts\nvar getValueText = (item) => item.dataset.valuetext ?? item.textContent ?? \"\";\nvar match = (valueText, query2) => valueText.trim().toLowerCase().startsWith(query2.toLowerCase());\nvar wrap = (v, idx) => {\n  return v.map((_, index) => v[(Math.max(idx, 0) + index) % v.length]);\n};\nfunction getByText(v, text, currentId) {\n  const index = currentId ? indexOfId(v, currentId) : -1;\n  let items = currentId ? wrap(v, index) : v;\n  const isSingleKey = text.length === 1;\n  if (isSingleKey) {\n    items = items.filter((item) => item.id !== currentId);\n  }\n  return items.find((item) => match(getValueText(item), text));\n}\n\n// src/get-by-typeahead.ts\nfunction getByTypeaheadImpl(_items, options) {\n  const { state, activeId, key, timeout = 350 } = options;\n  const search = state.keysSoFar + key;\n  const isRepeated = search.length > 1 && Array.from(search).every((char) => char === search[0]);\n  const query2 = isRepeated ? search[0] : search;\n  let items = _items.slice();\n  const next = getByText(items, query2, activeId);\n  function cleanup() {\n    clearTimeout(state.timer);\n    state.timer = -1;\n  }\n  function update(value) {\n    state.keysSoFar = value;\n    cleanup();\n    if (value !== \"\") {\n      state.timer = +setTimeout(() => {\n        update(\"\");\n        cleanup();\n      }, timeout);\n    }\n  }\n  update(search);\n  return next;\n}\nvar getByTypeahead = /* @__PURE__ */ Object.assign(getByTypeaheadImpl, {\n  defaultOptions: { keysSoFar: \"\", timer: -1 },\n  isValidEvent: isValidTypeaheadEvent\n});\nfunction isValidTypeaheadEvent(event) {\n  return event.key.length === 1 && !event.ctrlKey && !event.metaKey;\n}\n\n// src/get-computed-style.ts\nvar styleCache = /* @__PURE__ */ new WeakMap();\nfunction getComputedStyle(el) {\n  if (!styleCache.has(el)) {\n    const win = el.ownerDocument.defaultView || window;\n    styleCache.set(el, win.getComputedStyle(el));\n  }\n  return styleCache.get(el);\n}\n\n// src/get-event-target.ts\nfunction getEventTarget(event) {\n  return event.composedPath?.()[0] ?? event.target;\n}\n\n// src/get-scroll-parent.ts\nfunction isScrollParent(el) {\n  const win = el.ownerDocument.defaultView || window;\n  const { overflow, overflowX, overflowY } = win.getComputedStyle(el);\n  return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);\n}\nfunction getParent(el) {\n  if (el.localName === \"html\")\n    return el;\n  return el.assignedSlot || el.parentElement || el.ownerDocument.documentElement;\n}\nfunction getScrollParent(el) {\n  if ([\"html\", \"body\", \"#document\"].includes(el.localName)) {\n    return el.ownerDocument.body;\n  }\n  if (isHTMLElement(el) && isScrollParent(el)) {\n    return el;\n  }\n  return getScrollParent(getParent(el));\n}\nfunction getScrollParents(el, list = []) {\n  const parent = getScrollParent(el);\n  const isBody = parent === el.ownerDocument.body;\n  const win = parent.ownerDocument.defaultView || window;\n  const target = isBody ? [win].concat(win.visualViewport || [], isScrollParent(parent) ? parent : []) : parent;\n  const parents = list.concat(target);\n  return isBody ? parents : parents.concat(getScrollParents(getParent(target)));\n}\n\n// src/is-editable-element.ts\nfunction isEditableElement(el) {\n  if (el == null || !isHTMLElement(el)) {\n    return false;\n  }\n  try {\n    const win = el.ownerDocument.defaultView || window;\n    return el instanceof win.HTMLInputElement && el.selectionStart != null || /(textarea|select)/.test(el.localName) || el.isContentEditable;\n  } catch {\n    return false;\n  }\n}\n\n// src/platform.ts\nvar isDom = () => typeof document !== \"undefined\";\nfunction getPlatform() {\n  const agent = navigator.userAgentData;\n  return agent?.platform ?? navigator.platform;\n}\nvar pt = (v) => isDom() && v.test(getPlatform());\nvar ua = (v) => isDom() && v.test(navigator.userAgent);\nvar vn = (v) => isDom() && v.test(navigator.vendor);\nvar isTouchDevice = () => isDom() && !!navigator.maxTouchPoints;\nvar isMac = () => pt(/^Mac/) && !isTouchDevice();\nvar isIPhone = () => pt(/^iPhone/);\nvar isSafari = () => isApple() && vn(/apple/i);\nvar isFirefox = () => ua(/firefox\\//i);\nvar isApple = () => pt(/mac|iphone|ipad|ipod/i);\nvar isIos = () => isApple() && !isMac();\n\n// src/query.ts\nfunction queryAll(root, selector) {\n  return Array.from(root?.querySelectorAll(selector) ?? []);\n}\nfunction query(root, selector) {\n  return root?.querySelector(selector);\n}\n\n// src/raf.ts\nfunction nextTick(fn) {\n  const set = /* @__PURE__ */ new Set();\n  function raf2(fn2) {\n    const id = globalThis.requestAnimationFrame(fn2);\n    set.add(() => globalThis.cancelAnimationFrame(id));\n  }\n  raf2(() => raf2(fn));\n  return function cleanup() {\n    set.forEach((fn2) => fn2());\n  };\n}\nfunction raf(fn) {\n  const id = globalThis.requestAnimationFrame(fn);\n  return () => {\n    globalThis.cancelAnimationFrame(id);\n  };\n}\n\n// src/index.ts\nvar MAX_Z_INDEX = 2147483647;\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9kb20tcXVlcnkvZGlzdC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixxQkFBcUI7QUFDMUMsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVUsc0NBQXNDO0FBQ2hEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVUsc0NBQXNDO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwwQkFBMEI7QUFDOUM7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGlDQUFpQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFzQ0U7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL0BwYXJrLXVpL2V4YW1wbGVzLXJlYWN0LW5leHQtanMvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9kb20tcXVlcnkvZGlzdC9pbmRleC5tanM/MDNkMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvYXR0cnMudHNcbnZhciBkYXRhQXR0ciA9IChndWFyZCkgPT4ge1xuICByZXR1cm4gZ3VhcmQgPyBcIlwiIDogdm9pZCAwO1xufTtcbnZhciBhcmlhQXR0ciA9IChndWFyZCkgPT4ge1xuICByZXR1cm4gZ3VhcmQgPyBcInRydWVcIiA6IHZvaWQgMDtcbn07XG5cbi8vIHNyYy9pcy1odG1sLWVsZW1lbnQudHNcbnZhciBpc0hUTUxFbGVtZW50ID0gKHYpID0+IHR5cGVvZiB2ID09PSBcIm9iamVjdFwiICYmIHY/Lm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSAmJiB0eXBlb2Ygdj8ubm9kZU5hbWUgPT09IFwic3RyaW5nXCI7XG5cbi8vIHNyYy9jb250YWlucy50c1xuZnVuY3Rpb24gY29udGFpbnMocGFyZW50LCBjaGlsZCkge1xuICBpZiAoIXBhcmVudCB8fCAhY2hpbGQpXG4gICAgcmV0dXJuIGZhbHNlO1xuICBpZiAoIWlzSFRNTEVsZW1lbnQocGFyZW50KSB8fCAhaXNIVE1MRWxlbWVudChjaGlsZCkpXG4gICAgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gcGFyZW50ID09PSBjaGlsZCB8fCBwYXJlbnQuY29udGFpbnMoY2hpbGQpO1xufVxudmFyIGlzU2VsZkV2ZW50ID0gKGV2ZW50KSA9PiBjb250YWlucyhldmVudC5jdXJyZW50VGFyZ2V0LCBldmVudC50YXJnZXQpO1xuXG4vLyBzcmMvY3JlYXRlLXNjb3BlLnRzXG52YXIgZ2V0RG9jdW1lbnQgPSAobm9kZSkgPT4ge1xuICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5ET0NVTUVOVF9OT0RFKVxuICAgIHJldHVybiBub2RlO1xuICByZXR1cm4gbm9kZS5vd25lckRvY3VtZW50ID8/IGRvY3VtZW50O1xufTtcbmZ1bmN0aW9uIGNyZWF0ZVNjb3BlKG1ldGhvZHMpIHtcbiAgY29uc3Qgc2NyZWVuID0ge1xuICAgIGdldFJvb3ROb2RlOiAoY3R4KSA9PiBjdHguZ2V0Um9vdE5vZGU/LigpID8/IGRvY3VtZW50LFxuICAgIGdldERvYzogKGN0eCkgPT4gZ2V0RG9jdW1lbnQoc2NyZWVuLmdldFJvb3ROb2RlKGN0eCkpLFxuICAgIGdldFdpbjogKGN0eCkgPT4gc2NyZWVuLmdldERvYyhjdHgpLmRlZmF1bHRWaWV3ID8/IHdpbmRvdyxcbiAgICBnZXRBY3RpdmVFbGVtZW50OiAoY3R4KSA9PiBzY3JlZW4uZ2V0RG9jKGN0eCkuYWN0aXZlRWxlbWVudCxcbiAgICBpc0FjdGl2ZUVsZW1lbnQ6IChjdHgsIGVsZW0pID0+IGVsZW0gPT09IHNjcmVlbi5nZXRBY3RpdmVFbGVtZW50KGN0eCksXG4gICAgZm9jdXMoY3R4LCBlbGVtKSB7XG4gICAgICBpZiAoZWxlbSA9PSBudWxsKVxuICAgICAgICByZXR1cm47XG4gICAgICBpZiAoIXNjcmVlbi5pc0FjdGl2ZUVsZW1lbnQoY3R4LCBlbGVtKSlcbiAgICAgICAgZWxlbS5mb2N1cyh7IHByZXZlbnRTY3JvbGw6IHRydWUgfSk7XG4gICAgfSxcbiAgICBnZXRCeUlkOiAoY3R4LCBpZCkgPT4gc2NyZWVuLmdldFJvb3ROb2RlKGN0eCkuZ2V0RWxlbWVudEJ5SWQoaWQpLFxuICAgIHNldFZhbHVlOiAoZWxlbSwgdmFsdWUpID0+IHtcbiAgICAgIGlmIChlbGVtID09IG51bGwgfHwgdmFsdWUgPT0gbnVsbClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29uc3QgdmFsdWVBc1N0cmluZyA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICBpZiAoZWxlbS52YWx1ZSA9PT0gdmFsdWVBc1N0cmluZylcbiAgICAgICAgcmV0dXJuO1xuICAgICAgZWxlbS52YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgfVxuICB9O1xuICByZXR1cm4geyAuLi5zY3JlZW4sIC4uLm1ldGhvZHMgfTtcbn1cblxuLy8gc3JjL2lzLWRvY3VtZW50LnRzXG52YXIgaXNEb2N1bWVudCA9IChlbCkgPT4gZWwubm9kZVR5cGUgPT09IE5vZGUuRE9DVU1FTlRfTk9ERTtcblxuLy8gc3JjL2lzLXNoYWRvdy1yb290LnRzXG52YXIgaXNOb2RlID0gKGVsKSA9PiBlbC5ub2RlVHlwZSAhPT0gdm9pZCAwO1xudmFyIGlzU2hhZG93Um9vdCA9IChlbCkgPT4gZWwgJiYgaXNOb2RlKGVsKSAmJiBlbC5ub2RlVHlwZSA9PT0gTm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFICYmIFwiaG9zdFwiIGluIGVsO1xuXG4vLyBzcmMvZW52LnRzXG5mdW5jdGlvbiBnZXREb2N1bWVudDIoZWwpIHtcbiAgaWYgKGlzRG9jdW1lbnQoZWwpKVxuICAgIHJldHVybiBlbDtcbiAgcmV0dXJuIGVsPy5vd25lckRvY3VtZW50ID8/IGRvY3VtZW50O1xufVxuZnVuY3Rpb24gZ2V0V2luZG93KGVsKSB7XG4gIGlmIChpc1NoYWRvd1Jvb3QoZWwpKVxuICAgIHJldHVybiBnZXRXaW5kb3coZWwuaG9zdCk7XG4gIGlmIChpc0RvY3VtZW50KGVsKSlcbiAgICByZXR1cm4gZWwuZGVmYXVsdFZpZXcgPz8gd2luZG93O1xuICBpZiAoaXNIVE1MRWxlbWVudChlbCkpXG4gICAgcmV0dXJuIGVsLm93bmVyRG9jdW1lbnQ/LmRlZmF1bHRWaWV3ID8/IHdpbmRvdztcbiAgcmV0dXJuIHdpbmRvdztcbn1cblxuLy8gc3JjL2dldC1hY3RpdmUtZWxlbWVudC50c1xuZnVuY3Rpb24gZ2V0QWN0aXZlRWxlbWVudChlbCkge1xuICBsZXQgYWN0aXZlRWxlbWVudCA9IGVsLm93bmVyRG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgd2hpbGUgKGFjdGl2ZUVsZW1lbnQ/LnNoYWRvd1Jvb3QpIHtcbiAgICBjb25zdCBlbDIgPSBhY3RpdmVFbGVtZW50LnNoYWRvd1Jvb3QuYWN0aXZlRWxlbWVudDtcbiAgICBpZiAoZWwyID09PSBhY3RpdmVFbGVtZW50KVxuICAgICAgYnJlYWs7XG4gICAgZWxzZVxuICAgICAgYWN0aXZlRWxlbWVudCA9IGVsMjtcbiAgfVxuICByZXR1cm4gYWN0aXZlRWxlbWVudDtcbn1cblxuLy8gc3JjL2dldC1iZWZvcmUtaW5wdXQtdmFsdWUudHNcbmZ1bmN0aW9uIGdldEJlZm9yZUlucHV0VmFsdWUoZXZlbnQpIHtcbiAgY29uc3QgeyBzZWxlY3Rpb25TdGFydCwgc2VsZWN0aW9uRW5kLCB2YWx1ZSB9ID0gZXZlbnQuY3VycmVudFRhcmdldDtcbiAgcmV0dXJuIHZhbHVlLnNsaWNlKDAsIHNlbGVjdGlvblN0YXJ0KSArIGV2ZW50LmRhdGEgKyB2YWx1ZS5zbGljZShzZWxlY3Rpb25FbmQpO1xufVxuXG4vLyBzcmMvZ2V0LWJ5LWlkLnRzXG5mdW5jdGlvbiBpdGVtQnlJZCh2LCBpZCkge1xuICByZXR1cm4gdi5maW5kKChub2RlKSA9PiBub2RlLmlkID09PSBpZCk7XG59XG5mdW5jdGlvbiBpbmRleE9mSWQodiwgaWQpIHtcbiAgY29uc3QgaXRlbSA9IGl0ZW1CeUlkKHYsIGlkKTtcbiAgcmV0dXJuIGl0ZW0gPyB2LmluZGV4T2YoaXRlbSkgOiAtMTtcbn1cbmZ1bmN0aW9uIG5leHRCeUlkKHYsIGlkLCBsb29wID0gdHJ1ZSkge1xuICBsZXQgaWR4ID0gaW5kZXhPZklkKHYsIGlkKTtcbiAgaWR4ID0gbG9vcCA/IChpZHggKyAxKSAlIHYubGVuZ3RoIDogTWF0aC5taW4oaWR4ICsgMSwgdi5sZW5ndGggLSAxKTtcbiAgcmV0dXJuIHZbaWR4XTtcbn1cbmZ1bmN0aW9uIHByZXZCeUlkKHYsIGlkLCBsb29wID0gdHJ1ZSkge1xuICBsZXQgaWR4ID0gaW5kZXhPZklkKHYsIGlkKTtcbiAgaWYgKGlkeCA9PT0gLTEpXG4gICAgcmV0dXJuIGxvb3AgPyB2W3YubGVuZ3RoIC0gMV0gOiBudWxsO1xuICBpZHggPSBsb29wID8gKGlkeCAtIDEgKyB2Lmxlbmd0aCkgJSB2Lmxlbmd0aCA6IE1hdGgubWF4KDAsIGlkeCAtIDEpO1xuICByZXR1cm4gdltpZHhdO1xufVxuXG4vLyBzcmMvZ2V0LWJ5LXRleHQudHNcbnZhciBnZXRWYWx1ZVRleHQgPSAoaXRlbSkgPT4gaXRlbS5kYXRhc2V0LnZhbHVldGV4dCA/PyBpdGVtLnRleHRDb250ZW50ID8/IFwiXCI7XG52YXIgbWF0Y2ggPSAodmFsdWVUZXh0LCBxdWVyeTIpID0+IHZhbHVlVGV4dC50cmltKCkudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKHF1ZXJ5Mi50b0xvd2VyQ2FzZSgpKTtcbnZhciB3cmFwID0gKHYsIGlkeCkgPT4ge1xuICByZXR1cm4gdi5tYXAoKF8sIGluZGV4KSA9PiB2WyhNYXRoLm1heChpZHgsIDApICsgaW5kZXgpICUgdi5sZW5ndGhdKTtcbn07XG5mdW5jdGlvbiBnZXRCeVRleHQodiwgdGV4dCwgY3VycmVudElkKSB7XG4gIGNvbnN0IGluZGV4ID0gY3VycmVudElkID8gaW5kZXhPZklkKHYsIGN1cnJlbnRJZCkgOiAtMTtcbiAgbGV0IGl0ZW1zID0gY3VycmVudElkID8gd3JhcCh2LCBpbmRleCkgOiB2O1xuICBjb25zdCBpc1NpbmdsZUtleSA9IHRleHQubGVuZ3RoID09PSAxO1xuICBpZiAoaXNTaW5nbGVLZXkpIHtcbiAgICBpdGVtcyA9IGl0ZW1zLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5pZCAhPT0gY3VycmVudElkKTtcbiAgfVxuICByZXR1cm4gaXRlbXMuZmluZCgoaXRlbSkgPT4gbWF0Y2goZ2V0VmFsdWVUZXh0KGl0ZW0pLCB0ZXh0KSk7XG59XG5cbi8vIHNyYy9nZXQtYnktdHlwZWFoZWFkLnRzXG5mdW5jdGlvbiBnZXRCeVR5cGVhaGVhZEltcGwoX2l0ZW1zLCBvcHRpb25zKSB7XG4gIGNvbnN0IHsgc3RhdGUsIGFjdGl2ZUlkLCBrZXksIHRpbWVvdXQgPSAzNTAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHNlYXJjaCA9IHN0YXRlLmtleXNTb0ZhciArIGtleTtcbiAgY29uc3QgaXNSZXBlYXRlZCA9IHNlYXJjaC5sZW5ndGggPiAxICYmIEFycmF5LmZyb20oc2VhcmNoKS5ldmVyeSgoY2hhcikgPT4gY2hhciA9PT0gc2VhcmNoWzBdKTtcbiAgY29uc3QgcXVlcnkyID0gaXNSZXBlYXRlZCA/IHNlYXJjaFswXSA6IHNlYXJjaDtcbiAgbGV0IGl0ZW1zID0gX2l0ZW1zLnNsaWNlKCk7XG4gIGNvbnN0IG5leHQgPSBnZXRCeVRleHQoaXRlbXMsIHF1ZXJ5MiwgYWN0aXZlSWQpO1xuICBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgIGNsZWFyVGltZW91dChzdGF0ZS50aW1lcik7XG4gICAgc3RhdGUudGltZXIgPSAtMTtcbiAgfVxuICBmdW5jdGlvbiB1cGRhdGUodmFsdWUpIHtcbiAgICBzdGF0ZS5rZXlzU29GYXIgPSB2YWx1ZTtcbiAgICBjbGVhbnVwKCk7XG4gICAgaWYgKHZhbHVlICE9PSBcIlwiKSB7XG4gICAgICBzdGF0ZS50aW1lciA9ICtzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdXBkYXRlKFwiXCIpO1xuICAgICAgICBjbGVhbnVwKCk7XG4gICAgICB9LCB0aW1lb3V0KTtcbiAgICB9XG4gIH1cbiAgdXBkYXRlKHNlYXJjaCk7XG4gIHJldHVybiBuZXh0O1xufVxudmFyIGdldEJ5VHlwZWFoZWFkID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5hc3NpZ24oZ2V0QnlUeXBlYWhlYWRJbXBsLCB7XG4gIGRlZmF1bHRPcHRpb25zOiB7IGtleXNTb0ZhcjogXCJcIiwgdGltZXI6IC0xIH0sXG4gIGlzVmFsaWRFdmVudDogaXNWYWxpZFR5cGVhaGVhZEV2ZW50XG59KTtcbmZ1bmN0aW9uIGlzVmFsaWRUeXBlYWhlYWRFdmVudChldmVudCkge1xuICByZXR1cm4gZXZlbnQua2V5Lmxlbmd0aCA9PT0gMSAmJiAhZXZlbnQuY3RybEtleSAmJiAhZXZlbnQubWV0YUtleTtcbn1cblxuLy8gc3JjL2dldC1jb21wdXRlZC1zdHlsZS50c1xudmFyIHN0eWxlQ2FjaGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIGdldENvbXB1dGVkU3R5bGUoZWwpIHtcbiAgaWYgKCFzdHlsZUNhY2hlLmhhcyhlbCkpIHtcbiAgICBjb25zdCB3aW4gPSBlbC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3IHx8IHdpbmRvdztcbiAgICBzdHlsZUNhY2hlLnNldChlbCwgd2luLmdldENvbXB1dGVkU3R5bGUoZWwpKTtcbiAgfVxuICByZXR1cm4gc3R5bGVDYWNoZS5nZXQoZWwpO1xufVxuXG4vLyBzcmMvZ2V0LWV2ZW50LXRhcmdldC50c1xuZnVuY3Rpb24gZ2V0RXZlbnRUYXJnZXQoZXZlbnQpIHtcbiAgcmV0dXJuIGV2ZW50LmNvbXBvc2VkUGF0aD8uKClbMF0gPz8gZXZlbnQudGFyZ2V0O1xufVxuXG4vLyBzcmMvZ2V0LXNjcm9sbC1wYXJlbnQudHNcbmZ1bmN0aW9uIGlzU2Nyb2xsUGFyZW50KGVsKSB7XG4gIGNvbnN0IHdpbiA9IGVsLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgfHwgd2luZG93O1xuICBjb25zdCB7IG92ZXJmbG93LCBvdmVyZmxvd1gsIG92ZXJmbG93WSB9ID0gd2luLmdldENvbXB1dGVkU3R5bGUoZWwpO1xuICByZXR1cm4gL2F1dG98c2Nyb2xsfG92ZXJsYXl8aGlkZGVuLy50ZXN0KG92ZXJmbG93ICsgb3ZlcmZsb3dZICsgb3ZlcmZsb3dYKTtcbn1cbmZ1bmN0aW9uIGdldFBhcmVudChlbCkge1xuICBpZiAoZWwubG9jYWxOYW1lID09PSBcImh0bWxcIilcbiAgICByZXR1cm4gZWw7XG4gIHJldHVybiBlbC5hc3NpZ25lZFNsb3QgfHwgZWwucGFyZW50RWxlbWVudCB8fCBlbC5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbn1cbmZ1bmN0aW9uIGdldFNjcm9sbFBhcmVudChlbCkge1xuICBpZiAoW1wiaHRtbFwiLCBcImJvZHlcIiwgXCIjZG9jdW1lbnRcIl0uaW5jbHVkZXMoZWwubG9jYWxOYW1lKSkge1xuICAgIHJldHVybiBlbC5vd25lckRvY3VtZW50LmJvZHk7XG4gIH1cbiAgaWYgKGlzSFRNTEVsZW1lbnQoZWwpICYmIGlzU2Nyb2xsUGFyZW50KGVsKSkge1xuICAgIHJldHVybiBlbDtcbiAgfVxuICByZXR1cm4gZ2V0U2Nyb2xsUGFyZW50KGdldFBhcmVudChlbCkpO1xufVxuZnVuY3Rpb24gZ2V0U2Nyb2xsUGFyZW50cyhlbCwgbGlzdCA9IFtdKSB7XG4gIGNvbnN0IHBhcmVudCA9IGdldFNjcm9sbFBhcmVudChlbCk7XG4gIGNvbnN0IGlzQm9keSA9IHBhcmVudCA9PT0gZWwub3duZXJEb2N1bWVudC5ib2R5O1xuICBjb25zdCB3aW4gPSBwYXJlbnQub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyB8fCB3aW5kb3c7XG4gIGNvbnN0IHRhcmdldCA9IGlzQm9keSA/IFt3aW5dLmNvbmNhdCh3aW4udmlzdWFsVmlld3BvcnQgfHwgW10sIGlzU2Nyb2xsUGFyZW50KHBhcmVudCkgPyBwYXJlbnQgOiBbXSkgOiBwYXJlbnQ7XG4gIGNvbnN0IHBhcmVudHMgPSBsaXN0LmNvbmNhdCh0YXJnZXQpO1xuICByZXR1cm4gaXNCb2R5ID8gcGFyZW50cyA6IHBhcmVudHMuY29uY2F0KGdldFNjcm9sbFBhcmVudHMoZ2V0UGFyZW50KHRhcmdldCkpKTtcbn1cblxuLy8gc3JjL2lzLWVkaXRhYmxlLWVsZW1lbnQudHNcbmZ1bmN0aW9uIGlzRWRpdGFibGVFbGVtZW50KGVsKSB7XG4gIGlmIChlbCA9PSBudWxsIHx8ICFpc0hUTUxFbGVtZW50KGVsKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB0cnkge1xuICAgIGNvbnN0IHdpbiA9IGVsLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgfHwgd2luZG93O1xuICAgIHJldHVybiBlbCBpbnN0YW5jZW9mIHdpbi5IVE1MSW5wdXRFbGVtZW50ICYmIGVsLnNlbGVjdGlvblN0YXJ0ICE9IG51bGwgfHwgLyh0ZXh0YXJlYXxzZWxlY3QpLy50ZXN0KGVsLmxvY2FsTmFtZSkgfHwgZWwuaXNDb250ZW50RWRpdGFibGU7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vLyBzcmMvcGxhdGZvcm0udHNcbnZhciBpc0RvbSA9ICgpID0+IHR5cGVvZiBkb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIjtcbmZ1bmN0aW9uIGdldFBsYXRmb3JtKCkge1xuICBjb25zdCBhZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnREYXRhO1xuICByZXR1cm4gYWdlbnQ/LnBsYXRmb3JtID8/IG5hdmlnYXRvci5wbGF0Zm9ybTtcbn1cbnZhciBwdCA9ICh2KSA9PiBpc0RvbSgpICYmIHYudGVzdChnZXRQbGF0Zm9ybSgpKTtcbnZhciB1YSA9ICh2KSA9PiBpc0RvbSgpICYmIHYudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbnZhciB2biA9ICh2KSA9PiBpc0RvbSgpICYmIHYudGVzdChuYXZpZ2F0b3IudmVuZG9yKTtcbnZhciBpc1RvdWNoRGV2aWNlID0gKCkgPT4gaXNEb20oKSAmJiAhIW5hdmlnYXRvci5tYXhUb3VjaFBvaW50cztcbnZhciBpc01hYyA9ICgpID0+IHB0KC9eTWFjLykgJiYgIWlzVG91Y2hEZXZpY2UoKTtcbnZhciBpc0lQaG9uZSA9ICgpID0+IHB0KC9eaVBob25lLyk7XG52YXIgaXNTYWZhcmkgPSAoKSA9PiBpc0FwcGxlKCkgJiYgdm4oL2FwcGxlL2kpO1xudmFyIGlzRmlyZWZveCA9ICgpID0+IHVhKC9maXJlZm94XFwvL2kpO1xudmFyIGlzQXBwbGUgPSAoKSA9PiBwdCgvbWFjfGlwaG9uZXxpcGFkfGlwb2QvaSk7XG52YXIgaXNJb3MgPSAoKSA9PiBpc0FwcGxlKCkgJiYgIWlzTWFjKCk7XG5cbi8vIHNyYy9xdWVyeS50c1xuZnVuY3Rpb24gcXVlcnlBbGwocm9vdCwgc2VsZWN0b3IpIHtcbiAgcmV0dXJuIEFycmF5LmZyb20ocm9vdD8ucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikgPz8gW10pO1xufVxuZnVuY3Rpb24gcXVlcnkocm9vdCwgc2VsZWN0b3IpIHtcbiAgcmV0dXJuIHJvb3Q/LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xufVxuXG4vLyBzcmMvcmFmLnRzXG5mdW5jdGlvbiBuZXh0VGljayhmbikge1xuICBjb25zdCBzZXQgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBmdW5jdGlvbiByYWYyKGZuMikge1xuICAgIGNvbnN0IGlkID0gZ2xvYmFsVGhpcy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZm4yKTtcbiAgICBzZXQuYWRkKCgpID0+IGdsb2JhbFRoaXMuY2FuY2VsQW5pbWF0aW9uRnJhbWUoaWQpKTtcbiAgfVxuICByYWYyKCgpID0+IHJhZjIoZm4pKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgc2V0LmZvckVhY2goKGZuMikgPT4gZm4yKCkpO1xuICB9O1xufVxuZnVuY3Rpb24gcmFmKGZuKSB7XG4gIGNvbnN0IGlkID0gZ2xvYmFsVGhpcy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZm4pO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGdsb2JhbFRoaXMuY2FuY2VsQW5pbWF0aW9uRnJhbWUoaWQpO1xuICB9O1xufVxuXG4vLyBzcmMvaW5kZXgudHNcbnZhciBNQVhfWl9JTkRFWCA9IDIxNDc0ODM2NDc7XG5leHBvcnQge1xuICBNQVhfWl9JTkRFWCxcbiAgYXJpYUF0dHIsXG4gIGNvbnRhaW5zLFxuICBjcmVhdGVTY29wZSxcbiAgZGF0YUF0dHIsXG4gIGdldEFjdGl2ZUVsZW1lbnQsXG4gIGdldEJlZm9yZUlucHV0VmFsdWUsXG4gIGdldEJ5VGV4dCxcbiAgZ2V0QnlUeXBlYWhlYWQsXG4gIGdldENvbXB1dGVkU3R5bGUsXG4gIGdldERvY3VtZW50MiBhcyBnZXREb2N1bWVudCxcbiAgZ2V0RXZlbnRUYXJnZXQsXG4gIGdldFBhcmVudCxcbiAgZ2V0UGxhdGZvcm0sXG4gIGdldFNjcm9sbFBhcmVudCxcbiAgZ2V0U2Nyb2xsUGFyZW50cyxcbiAgZ2V0V2luZG93LFxuICBpbmRleE9mSWQsXG4gIGlzQXBwbGUsXG4gIGlzRG9tLFxuICBpc0VkaXRhYmxlRWxlbWVudCxcbiAgaXNGaXJlZm94LFxuICBpc0hUTUxFbGVtZW50LFxuICBpc0lQaG9uZSxcbiAgaXNJb3MsXG4gIGlzTWFjLFxuICBpc1NhZmFyaSxcbiAgaXNTZWxmRXZlbnQsXG4gIGlzVG91Y2hEZXZpY2UsXG4gIGl0ZW1CeUlkLFxuICBuZXh0QnlJZCxcbiAgbmV4dFRpY2ssXG4gIHByZXZCeUlkLFxuICBxdWVyeSxcbiAgcXVlcnlBbGwsXG4gIHJhZlxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/dom-query/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/editable/dist/index.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@zag-js/editable/dist/index.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   anatomy: () => (/* binding */ anatomy),\n/* harmony export */   connect: () => (/* binding */ connect),\n/* harmony export */   machine: () => (/* binding */ machine)\n/* harmony export */ });\n/* harmony import */ var _zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/anatomy */ \"(ssr)/./node_modules/@zag-js/anatomy/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @zag-js/dom-query */ \"(ssr)/./node_modules/@zag-js/dom-query/dist/index.mjs\");\n/* harmony import */ var _zag_js_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @zag-js/core */ \"(ssr)/./node_modules/@zag-js/core/dist/index.mjs\");\n/* harmony import */ var _zag_js_interact_outside__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @zag-js/interact-outside */ \"(ssr)/./node_modules/@zag-js/interact-outside/dist/index.mjs\");\n/* harmony import */ var _zag_js_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @zag-js/utils */ \"(ssr)/./node_modules/@zag-js/utils/dist/index.mjs\");\n// src/editable.anatomy.ts\n\nvar anatomy = (0,_zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__.createAnatomy)(\"editable\").parts(\n  \"root\",\n  \"area\",\n  \"label\",\n  \"preview\",\n  \"input\",\n  \"editTrigger\",\n  \"submitTrigger\",\n  \"cancelTrigger\",\n  \"control\"\n);\nvar parts = anatomy.build();\n\n// src/editable.connect.ts\n\n\n// src/editable.dom.ts\n\nvar dom = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.createScope)({\n  getRootId: (ctx) => ctx.ids?.root ?? `editable:${ctx.id}`,\n  getAreaId: (ctx) => ctx.ids?.area ?? `editable:${ctx.id}:area`,\n  getLabelId: (ctx) => ctx.ids?.label ?? `editable:${ctx.id}:label`,\n  getPreviewId: (ctx) => ctx.ids?.preview ?? `editable:${ctx.id}:preview`,\n  getInputId: (ctx) => ctx.ids?.input ?? `editable:${ctx.id}:input`,\n  getControlId: (ctx) => ctx.ids?.controls ?? `editable:${ctx.id}:controls`,\n  getSubmitTriggerId: (ctx) => ctx.ids?.submitTrigger ?? `editable:${ctx.id}:submit`,\n  getCancelTriggerId: (ctx) => ctx.ids?.cancelTrigger ?? `editable:${ctx.id}:cancel`,\n  getEditTriggerId: (ctx) => ctx.ids?.editTrigger ?? `editable:${ctx.id}:edit`,\n  getInputEl: (ctx) => dom.getById(ctx, dom.getInputId(ctx)),\n  getPreviewEl: (ctx) => dom.getById(ctx, dom.getPreviewId(ctx)),\n  getSubmitTriggerEl: (ctx) => dom.getById(ctx, dom.getSubmitTriggerId(ctx)),\n  getCancelTriggerEl: (ctx) => dom.getById(ctx, dom.getCancelTriggerId(ctx)),\n  getEditTriggerEl: (ctx) => dom.getById(ctx, dom.getEditTriggerId(ctx))\n});\n\n// src/editable.connect.ts\nfunction connect(state, send, normalize) {\n  const isDisabled = state.context.disabled;\n  const isInteractive = state.context.isInteractive;\n  const isReadOnly = state.context.readOnly;\n  const isValueEmpty = state.context.isValueEmpty;\n  const isInvalid = state.context.invalid;\n  const autoResize = state.context.autoResize;\n  const translations = state.context.translations;\n  const isEditing = state.matches(\"edit\");\n  const placeholderProp = state.context.placeholder;\n  const placeholder = typeof placeholderProp === \"string\" ? { edit: placeholderProp, preview: placeholderProp } : placeholderProp;\n  return {\n    isEditing,\n    isValueEmpty,\n    value: state.context.value,\n    setValue(value) {\n      send({ type: \"SET_VALUE\", value });\n    },\n    clearValue() {\n      send({ type: \"SET_VALUE\", value: \"\" });\n    },\n    edit() {\n      if (!isInteractive)\n        return;\n      send(\"EDIT\");\n    },\n    cancel() {\n      if (!isInteractive)\n        return;\n      send(\"CANCEL\");\n    },\n    submit() {\n      if (!isInteractive)\n        return;\n      send(\"SUBMIT\");\n    },\n    rootProps: normalize.element({\n      ...parts.root.attrs,\n      id: dom.getRootId(state.context),\n      dir: state.context.dir\n    }),\n    areaProps: normalize.element({\n      ...parts.area.attrs,\n      id: dom.getAreaId(state.context),\n      dir: state.context.dir,\n      style: autoResize ? { display: \"inline-grid\" } : void 0,\n      \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isEditing),\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isDisabled),\n      \"data-placeholder-shown\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isValueEmpty)\n    }),\n    labelProps: normalize.label({\n      ...parts.label.attrs,\n      id: dom.getLabelId(state.context),\n      dir: state.context.dir,\n      htmlFor: dom.getInputId(state.context),\n      \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isEditing),\n      \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isInvalid),\n      onPointerDown(event) {\n        if (!isEditing) {\n          event.preventDefault();\n          dom.getPreviewEl(state.context)?.focus();\n        }\n      }\n    }),\n    inputProps: normalize.input({\n      ...parts.input.attrs,\n      dir: state.context.dir,\n      \"aria-label\": translations.input,\n      name: state.context.name,\n      form: state.context.form,\n      id: dom.getInputId(state.context),\n      hidden: autoResize ? void 0 : !isEditing,\n      placeholder: placeholder?.edit,\n      disabled: isDisabled,\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isDisabled),\n      readOnly: isReadOnly,\n      \"data-readonly\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isReadOnly),\n      \"aria-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.ariaAttr)(isInvalid),\n      \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isInvalid),\n      defaultValue: state.context.value,\n      size: autoResize ? 1 : void 0,\n      onChange(event) {\n        send({ type: \"TYPE\", value: event.currentTarget.value });\n      },\n      onKeyDown(event) {\n        const keyMap = {\n          Escape() {\n            send(\"CANCEL\");\n          },\n          Enter(event2) {\n            if (!event2.shiftKey && !event2.metaKey) {\n              send(\"ENTER\");\n            }\n          }\n        };\n        const exec = keyMap[event.key];\n        if (exec) {\n          event.preventDefault();\n          exec(event);\n        }\n      },\n      style: autoResize ? {\n        all: \"unset\",\n        gridArea: \"1 / 1 / auto / auto\",\n        visibility: !isEditing ? \"hidden\" : void 0\n      } : void 0\n    }),\n    previewProps: normalize.element({\n      id: dom.getPreviewId(state.context),\n      ...parts.preview.attrs,\n      dir: state.context.dir,\n      \"data-placeholder-shown\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isValueEmpty),\n      \"aria-readonly\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.ariaAttr)(isReadOnly),\n      \"data-readonly\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isDisabled),\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isDisabled),\n      \"aria-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.ariaAttr)(isDisabled),\n      \"aria-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.ariaAttr)(isInvalid),\n      \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isInvalid),\n      children: isValueEmpty ? placeholder?.preview : state.context.value,\n      hidden: autoResize ? void 0 : isEditing,\n      tabIndex: isInteractive && state.context.isPreviewFocusable ? 0 : void 0,\n      onFocus() {\n        if (!isInteractive)\n          return;\n        send(\"FOCUS\");\n      },\n      onDoubleClick() {\n        if (!isInteractive)\n          return;\n        send(\"DBLCLICK\");\n      },\n      style: autoResize ? {\n        whiteSpace: \"pre\",\n        userSelect: \"none\",\n        gridArea: \"1 / 1 / auto / auto\",\n        visibility: isEditing ? \"hidden\" : void 0,\n        // in event the preview overflow's the parent element\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\"\n      } : void 0\n    }),\n    editTriggerProps: normalize.button({\n      ...parts.editTrigger.attrs,\n      id: dom.getEditTriggerId(state.context),\n      dir: state.context.dir,\n      \"aria-label\": translations.edit,\n      hidden: isEditing,\n      type: \"button\",\n      disabled: isDisabled,\n      onClick() {\n        if (!isInteractive)\n          return;\n        send(\"EDIT\");\n      }\n    }),\n    controlProps: normalize.element({\n      id: dom.getControlId(state.context),\n      ...parts.control.attrs,\n      dir: state.context.dir\n    }),\n    submitTriggerProps: normalize.button({\n      ...parts.submitTrigger.attrs,\n      dir: state.context.dir,\n      id: dom.getSubmitTriggerId(state.context),\n      \"aria-label\": translations.submit,\n      hidden: !isEditing,\n      disabled: isDisabled,\n      type: \"button\",\n      onClick() {\n        if (!isInteractive)\n          return;\n        send(\"SUBMIT\");\n      }\n    }),\n    cancelTriggerProps: normalize.button({\n      ...parts.cancelTrigger.attrs,\n      dir: state.context.dir,\n      \"aria-label\": translations.cancel,\n      id: dom.getCancelTriggerId(state.context),\n      hidden: !isEditing,\n      type: \"button\",\n      disabled: isDisabled,\n      onClick() {\n        if (!isInteractive)\n          return;\n        send(\"CANCEL\");\n      }\n    })\n  };\n}\n\n// src/editable.machine.ts\n\n\n\n\nvar { not } = _zag_js_core__WEBPACK_IMPORTED_MODULE_2__.guards;\nfunction machine(userContext) {\n  const ctx = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_3__.compact)(userContext);\n  return (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_2__.createMachine)(\n    {\n      id: \"editable\",\n      initial: ctx.startWithEditView ? \"edit\" : \"preview\",\n      entry: ctx.startWithEditView ? [\"focusInput\"] : void 0,\n      context: {\n        activationMode: \"focus\",\n        submitMode: \"both\",\n        value: \"\",\n        previousValue: \"\",\n        selectOnFocus: true,\n        ...ctx,\n        translations: {\n          input: \"editable input\",\n          edit: \"edit\",\n          submit: \"submit\",\n          cancel: \"cancel\",\n          ...ctx.translations\n        }\n      },\n      watch: {\n        value: [\"syncInputValue\"]\n      },\n      computed: {\n        submitOnEnter: (ctx2) => [\"both\", \"enter\"].includes(ctx2.submitMode),\n        submitOnBlur: (ctx2) => [\"both\", \"blur\"].includes(ctx2.submitMode),\n        isInteractive: (ctx2) => !(ctx2.disabled || ctx2.readOnly),\n        isValueEmpty: (ctx2) => ctx2.value === \"\",\n        isPreviewFocusable: (ctx2) => ctx2.activationMode === \"focus\"\n      },\n      on: {\n        SET_VALUE: {\n          actions: \"setValue\"\n        }\n      },\n      states: {\n        preview: {\n          // // https://bugzilla.mozilla.org/show_bug.cgi?id=559561\n          entry: [\"blurInputIfNeeded\"],\n          on: {\n            EDIT: {\n              target: \"edit\",\n              actions: [\"focusInput\", \"invokeOnEdit\"]\n            },\n            DBLCLICK: {\n              guard: \"activateOnDblClick\",\n              target: \"edit\",\n              actions: [\"focusInput\", \"invokeOnEdit\"]\n            },\n            FOCUS: {\n              guard: \"activateOnFocus\",\n              target: \"edit\",\n              actions: [\"setPreviousValue\", \"focusInput\", \"invokeOnEdit\"]\n            }\n          }\n        },\n        edit: {\n          activities: [\"trackInteractOutside\"],\n          on: {\n            TYPE: {\n              guard: not(\"isAtMaxLength\"),\n              actions: \"setValue\"\n            },\n            BLUR: [\n              {\n                guard: \"submitOnBlur\",\n                target: \"preview\",\n                actions: [\"restoreFocus\", \"invokeOnSubmit\"]\n              },\n              {\n                target: \"preview\",\n                actions: [\"revertValue\", \"restoreFocus\", \"invokeOnCancel\"]\n              }\n            ],\n            CANCEL: {\n              target: \"preview\",\n              actions: [\"revertValue\", \"restoreFocus\", \"invokeOnCancel\"]\n            },\n            ENTER: {\n              guard: \"submitOnEnter\",\n              target: \"preview\",\n              actions: [\"setPreviousValue\", \"invokeOnSubmit\", \"restoreFocus\"]\n            },\n            SUBMIT: {\n              target: \"preview\",\n              actions: [\"setPreviousValue\", \"invokeOnSubmit\", \"restoreFocus\"]\n            }\n          }\n        }\n      }\n    },\n    {\n      guards: {\n        submitOnBlur: (ctx2) => ctx2.submitOnBlur,\n        submitOnEnter: (ctx2) => ctx2.submitOnEnter,\n        isAtMaxLength: (ctx2) => ctx2.maxLength != null && ctx2.value.length === ctx2.maxLength,\n        activateOnDblClick: (ctx2) => ctx2.activationMode === \"dblclick\",\n        activateOnFocus: (ctx2) => ctx2.activationMode === \"focus\"\n      },\n      activities: {\n        trackInteractOutside(ctx2, _evt, { send }) {\n          return (0,_zag_js_interact_outside__WEBPACK_IMPORTED_MODULE_4__.trackInteractOutside)(dom.getInputEl(ctx2), {\n            exclude(target) {\n              const ignore = [dom.getCancelTriggerEl(ctx2), dom.getSubmitTriggerEl(ctx2)];\n              return ignore.some((el) => (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.contains)(el, target));\n            },\n            onFocusOutside: ctx2.onFocusOutside,\n            onPointerDownOutside: ctx2.onPointerDownOutside,\n            onInteractOutside(event) {\n              ctx2.onInteractOutside?.(event);\n              if (event.defaultPrevented)\n                return;\n              const { focusable } = event.detail;\n              send({ type: \"BLUR\", src: \"interact-outside\", focusable });\n            }\n          });\n        }\n      },\n      actions: {\n        restoreFocus(ctx2, evt) {\n          if (evt.focusable)\n            return;\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => {\n            const finalEl = ctx2.finalFocusEl?.() ?? dom.getEditTriggerEl(ctx2);\n            finalEl?.focus({ preventScroll: true });\n          });\n        },\n        focusInput(ctx2) {\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => {\n            const inputEl = dom.getInputEl(ctx2);\n            if (!inputEl)\n              return;\n            if (ctx2.selectOnFocus) {\n              inputEl.select();\n            } else {\n              inputEl.focus({ preventScroll: true });\n            }\n          });\n        },\n        invokeOnCancel(ctx2) {\n          ctx2.onValueRevert?.({ value: ctx2.previousValue });\n        },\n        invokeOnSubmit(ctx2) {\n          ctx2.onValueCommit?.({ value: ctx2.value });\n        },\n        invokeOnEdit(ctx2) {\n          ctx2.onEdit?.();\n        },\n        syncInputValue(ctx2) {\n          sync.value(ctx2);\n        },\n        setValue(ctx2, evt) {\n          set.value(ctx2, evt.value);\n        },\n        setPreviousValue(ctx2) {\n          ctx2.previousValue = ctx2.value;\n        },\n        revertValue(ctx2) {\n          set.value(ctx2, ctx2.previousValue);\n        },\n        blurInputIfNeeded(ctx2) {\n          dom.getInputEl(ctx2)?.blur();\n        }\n      }\n    }\n  );\n}\nvar sync = {\n  value: (ctx) => {\n    const inputEl = dom.getInputEl(ctx);\n    dom.setValue(inputEl, ctx.value);\n  }\n};\nvar invoke = {\n  change(ctx) {\n    ctx.onValueChange?.({ value: ctx.value });\n    sync.value(ctx);\n  }\n};\nvar set = {\n  value(ctx, value) {\n    if ((0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_3__.isEqual)(ctx.value, value))\n      return;\n    ctx.value = value;\n    invoke.change(ctx);\n  }\n};\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9lZGl0YWJsZS9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ2dEO0FBQ2hELGNBQWMsOERBQWE7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUN1RDs7QUFFdkQ7QUFDZ0Q7QUFDaEQsVUFBVSw4REFBVztBQUNyQixtREFBbUQsT0FBTztBQUMxRCxtREFBbUQsT0FBTztBQUMxRCxxREFBcUQsT0FBTztBQUM1RCx5REFBeUQsT0FBTztBQUNoRSxxREFBcUQsT0FBTztBQUM1RCwwREFBMEQsT0FBTztBQUNqRSxxRUFBcUUsT0FBTztBQUM1RSxxRUFBcUUsT0FBTztBQUM1RSxpRUFBaUUsT0FBTztBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThELGtEQUFrRDtBQUNoSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSwwQkFBMEI7QUFDdkMsS0FBSztBQUNMO0FBQ0EsYUFBYSw4QkFBOEI7QUFDM0MsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHlCQUF5QjtBQUNyRCxvQkFBb0IsMkRBQVE7QUFDNUIsdUJBQXVCLDJEQUFRO0FBQy9CLGdDQUFnQywyREFBUTtBQUN4QyxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwyREFBUTtBQUM1QixzQkFBc0IsMkRBQVE7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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LHNEQUFHO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZCw4QkFBOEIscUJBQXFCO0FBQ25EO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVDtBQUNBLGlDQUFpQywyQkFBMkI7QUFDNUQsU0FBUztBQUNUO0FBQ0EsaUNBQWlDLG1CQUFtQjtBQUNwRCxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixrQkFBa0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsc0RBQU87QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0U7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL0BwYXJrLXVpL2V4YW1wbGVzLXJlYWN0LW5leHQtanMvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9lZGl0YWJsZS9kaXN0L2luZGV4Lm1qcz84NTA1Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9lZGl0YWJsZS5hbmF0b215LnRzXG5pbXBvcnQgeyBjcmVhdGVBbmF0b215IH0gZnJvbSBcIkB6YWctanMvYW5hdG9teVwiO1xudmFyIGFuYXRvbXkgPSBjcmVhdGVBbmF0b215KFwiZWRpdGFibGVcIikucGFydHMoXG4gIFwicm9vdFwiLFxuICBcImFyZWFcIixcbiAgXCJsYWJlbFwiLFxuICBcInByZXZpZXdcIixcbiAgXCJpbnB1dFwiLFxuICBcImVkaXRUcmlnZ2VyXCIsXG4gIFwic3VibWl0VHJpZ2dlclwiLFxuICBcImNhbmNlbFRyaWdnZXJcIixcbiAgXCJjb250cm9sXCJcbik7XG52YXIgcGFydHMgPSBhbmF0b215LmJ1aWxkKCk7XG5cbi8vIHNyYy9lZGl0YWJsZS5jb25uZWN0LnRzXG5pbXBvcnQgeyBhcmlhQXR0ciwgZGF0YUF0dHIgfSBmcm9tIFwiQHphZy1qcy9kb20tcXVlcnlcIjtcblxuLy8gc3JjL2VkaXRhYmxlLmRvbS50c1xuaW1wb3J0IHsgY3JlYXRlU2NvcGUgfSBmcm9tIFwiQHphZy1qcy9kb20tcXVlcnlcIjtcbnZhciBkb20gPSBjcmVhdGVTY29wZSh7XG4gIGdldFJvb3RJZDogKGN0eCkgPT4gY3R4Lmlkcz8ucm9vdCA/PyBgZWRpdGFibGU6JHtjdHguaWR9YCxcbiAgZ2V0QXJlYUlkOiAoY3R4KSA9PiBjdHguaWRzPy5hcmVhID8/IGBlZGl0YWJsZToke2N0eC5pZH06YXJlYWAsXG4gIGdldExhYmVsSWQ6IChjdHgpID0+IGN0eC5pZHM/LmxhYmVsID8/IGBlZGl0YWJsZToke2N0eC5pZH06bGFiZWxgLFxuICBnZXRQcmV2aWV3SWQ6IChjdHgpID0+IGN0eC5pZHM/LnByZXZpZXcgPz8gYGVkaXRhYmxlOiR7Y3R4LmlkfTpwcmV2aWV3YCxcbiAgZ2V0SW5wdXRJZDogKGN0eCkgPT4gY3R4Lmlkcz8uaW5wdXQgPz8gYGVkaXRhYmxlOiR7Y3R4LmlkfTppbnB1dGAsXG4gIGdldENvbnRyb2xJZDogKGN0eCkgPT4gY3R4Lmlkcz8uY29udHJvbHMgPz8gYGVkaXRhYmxlOiR7Y3R4LmlkfTpjb250cm9sc2AsXG4gIGdldFN1Ym1pdFRyaWdnZXJJZDogKGN0eCkgPT4gY3R4Lmlkcz8uc3VibWl0VHJpZ2dlciA/PyBgZWRpdGFibGU6JHtjdHguaWR9OnN1Ym1pdGAsXG4gIGdldENhbmNlbFRyaWdnZXJJZDogKGN0eCkgPT4gY3R4Lmlkcz8uY2FuY2VsVHJpZ2dlciA/PyBgZWRpdGFibGU6JHtjdHguaWR9OmNhbmNlbGAsXG4gIGdldEVkaXRUcmlnZ2VySWQ6IChjdHgpID0+IGN0eC5pZHM/LmVkaXRUcmlnZ2VyID8/IGBlZGl0YWJsZToke2N0eC5pZH06ZWRpdGAsXG4gIGdldElucHV0RWw6IChjdHgpID0+IGRvbS5nZXRCeUlkKGN0eCwgZG9tLmdldElucHV0SWQoY3R4KSksXG4gIGdldFByZXZpZXdFbDogKGN0eCkgPT4gZG9tLmdldEJ5SWQoY3R4LCBkb20uZ2V0UHJldmlld0lkKGN0eCkpLFxuICBnZXRTdWJtaXRUcmlnZ2VyRWw6IChjdHgpID0+IGRvbS5nZXRCeUlkKGN0eCwgZG9tLmdldFN1Ym1pdFRyaWdnZXJJZChjdHgpKSxcbiAgZ2V0Q2FuY2VsVHJpZ2dlckVsOiAoY3R4KSA9PiBkb20uZ2V0QnlJZChjdHgsIGRvbS5nZXRDYW5jZWxUcmlnZ2VySWQoY3R4KSksXG4gIGdldEVkaXRUcmlnZ2VyRWw6IChjdHgpID0+IGRvbS5nZXRCeUlkKGN0eCwgZG9tLmdldEVkaXRUcmlnZ2VySWQoY3R4KSlcbn0pO1xuXG4vLyBzcmMvZWRpdGFibGUuY29ubmVjdC50c1xuZnVuY3Rpb24gY29ubmVjdChzdGF0ZSwgc2VuZCwgbm9ybWFsaXplKSB7XG4gIGNvbnN0IGlzRGlzYWJsZWQgPSBzdGF0ZS5jb250ZXh0LmRpc2FibGVkO1xuICBjb25zdCBpc0ludGVyYWN0aXZlID0gc3RhdGUuY29udGV4dC5pc0ludGVyYWN0aXZlO1xuICBjb25zdCBpc1JlYWRPbmx5ID0gc3RhdGUuY29udGV4dC5yZWFkT25seTtcbiAgY29uc3QgaXNWYWx1ZUVtcHR5ID0gc3RhdGUuY29udGV4dC5pc1ZhbHVlRW1wdHk7XG4gIGNvbnN0IGlzSW52YWxpZCA9IHN0YXRlLmNvbnRleHQuaW52YWxpZDtcbiAgY29uc3QgYXV0b1Jlc2l6ZSA9IHN0YXRlLmNvbnRleHQuYXV0b1Jlc2l6ZTtcbiAgY29uc3QgdHJhbnNsYXRpb25zID0gc3RhdGUuY29udGV4dC50cmFuc2xhdGlvbnM7XG4gIGNvbnN0IGlzRWRpdGluZyA9IHN0YXRlLm1hdGNoZXMoXCJlZGl0XCIpO1xuICBjb25zdCBwbGFjZWhvbGRlclByb3AgPSBzdGF0ZS5jb250ZXh0LnBsYWNlaG9sZGVyO1xuICBjb25zdCBwbGFjZWhvbGRlciA9IHR5cGVvZiBwbGFjZWhvbGRlclByb3AgPT09IFwic3RyaW5nXCIgPyB7IGVkaXQ6IHBsYWNlaG9sZGVyUHJvcCwgcHJldmlldzogcGxhY2Vob2xkZXJQcm9wIH0gOiBwbGFjZWhvbGRlclByb3A7XG4gIHJldHVybiB7XG4gICAgaXNFZGl0aW5nLFxuICAgIGlzVmFsdWVFbXB0eSxcbiAgICB2YWx1ZTogc3RhdGUuY29udGV4dC52YWx1ZSxcbiAgICBzZXRWYWx1ZSh2YWx1ZSkge1xuICAgICAgc2VuZCh7IHR5cGU6IFwiU0VUX1ZBTFVFXCIsIHZhbHVlIH0pO1xuICAgIH0sXG4gICAgY2xlYXJWYWx1ZSgpIHtcbiAgICAgIHNlbmQoeyB0eXBlOiBcIlNFVF9WQUxVRVwiLCB2YWx1ZTogXCJcIiB9KTtcbiAgICB9LFxuICAgIGVkaXQoKSB7XG4gICAgICBpZiAoIWlzSW50ZXJhY3RpdmUpXG4gICAgICAgIHJldHVybjtcbiAgICAgIHNlbmQoXCJFRElUXCIpO1xuICAgIH0sXG4gICAgY2FuY2VsKCkge1xuICAgICAgaWYgKCFpc0ludGVyYWN0aXZlKVxuICAgICAgICByZXR1cm47XG4gICAgICBzZW5kKFwiQ0FOQ0VMXCIpO1xuICAgIH0sXG4gICAgc3VibWl0KCkge1xuICAgICAgaWYgKCFpc0ludGVyYWN0aXZlKVxuICAgICAgICByZXR1cm47XG4gICAgICBzZW5kKFwiU1VCTUlUXCIpO1xuICAgIH0sXG4gICAgcm9vdFByb3BzOiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICAuLi5wYXJ0cy5yb290LmF0dHJzLFxuICAgICAgaWQ6IGRvbS5nZXRSb290SWQoc3RhdGUuY29udGV4dCksXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyXG4gICAgfSksXG4gICAgYXJlYVByb3BzOiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICAuLi5wYXJ0cy5hcmVhLmF0dHJzLFxuICAgICAgaWQ6IGRvbS5nZXRBcmVhSWQoc3RhdGUuY29udGV4dCksXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgc3R5bGU6IGF1dG9SZXNpemUgPyB7IGRpc3BsYXk6IFwiaW5saW5lLWdyaWRcIiB9IDogdm9pZCAwLFxuICAgICAgXCJkYXRhLWZvY3VzXCI6IGRhdGFBdHRyKGlzRWRpdGluZyksXG4gICAgICBcImRhdGEtZGlzYWJsZWRcIjogZGF0YUF0dHIoaXNEaXNhYmxlZCksXG4gICAgICBcImRhdGEtcGxhY2Vob2xkZXItc2hvd25cIjogZGF0YUF0dHIoaXNWYWx1ZUVtcHR5KVxuICAgIH0pLFxuICAgIGxhYmVsUHJvcHM6IG5vcm1hbGl6ZS5sYWJlbCh7XG4gICAgICAuLi5wYXJ0cy5sYWJlbC5hdHRycyxcbiAgICAgIGlkOiBkb20uZ2V0TGFiZWxJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICBodG1sRm9yOiBkb20uZ2V0SW5wdXRJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIFwiZGF0YS1mb2N1c1wiOiBkYXRhQXR0cihpc0VkaXRpbmcpLFxuICAgICAgXCJkYXRhLWludmFsaWRcIjogZGF0YUF0dHIoaXNJbnZhbGlkKSxcbiAgICAgIG9uUG9pbnRlckRvd24oZXZlbnQpIHtcbiAgICAgICAgaWYgKCFpc0VkaXRpbmcpIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGRvbS5nZXRQcmV2aWV3RWwoc3RhdGUuY29udGV4dCk/LmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSxcbiAgICBpbnB1dFByb3BzOiBub3JtYWxpemUuaW5wdXQoe1xuICAgICAgLi4ucGFydHMuaW5wdXQuYXR0cnMsXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgXCJhcmlhLWxhYmVsXCI6IHRyYW5zbGF0aW9ucy5pbnB1dCxcbiAgICAgIG5hbWU6IHN0YXRlLmNvbnRleHQubmFtZSxcbiAgICAgIGZvcm06IHN0YXRlLmNvbnRleHQuZm9ybSxcbiAgICAgIGlkOiBkb20uZ2V0SW5wdXRJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIGhpZGRlbjogYXV0b1Jlc2l6ZSA/IHZvaWQgMCA6ICFpc0VkaXRpbmcsXG4gICAgICBwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXI/LmVkaXQsXG4gICAgICBkaXNhYmxlZDogaXNEaXNhYmxlZCxcbiAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihpc0Rpc2FibGVkKSxcbiAgICAgIHJlYWRPbmx5OiBpc1JlYWRPbmx5LFxuICAgICAgXCJkYXRhLXJlYWRvbmx5XCI6IGRhdGFBdHRyKGlzUmVhZE9ubHkpLFxuICAgICAgXCJhcmlhLWludmFsaWRcIjogYXJpYUF0dHIoaXNJbnZhbGlkKSxcbiAgICAgIFwiZGF0YS1pbnZhbGlkXCI6IGRhdGFBdHRyKGlzSW52YWxpZCksXG4gICAgICBkZWZhdWx0VmFsdWU6IHN0YXRlLmNvbnRleHQudmFsdWUsXG4gICAgICBzaXplOiBhdXRvUmVzaXplID8gMSA6IHZvaWQgMCxcbiAgICAgIG9uQ2hhbmdlKGV2ZW50KSB7XG4gICAgICAgIHNlbmQoeyB0eXBlOiBcIlRZUEVcIiwgdmFsdWU6IGV2ZW50LmN1cnJlbnRUYXJnZXQudmFsdWUgfSk7XG4gICAgICB9LFxuICAgICAgb25LZXlEb3duKGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IGtleU1hcCA9IHtcbiAgICAgICAgICBFc2NhcGUoKSB7XG4gICAgICAgICAgICBzZW5kKFwiQ0FOQ0VMXCIpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgRW50ZXIoZXZlbnQyKSB7XG4gICAgICAgICAgICBpZiAoIWV2ZW50Mi5zaGlmdEtleSAmJiAhZXZlbnQyLm1ldGFLZXkpIHtcbiAgICAgICAgICAgICAgc2VuZChcIkVOVEVSXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgZXhlYyA9IGtleU1hcFtldmVudC5rZXldO1xuICAgICAgICBpZiAoZXhlYykge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZXhlYyhldmVudCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBzdHlsZTogYXV0b1Jlc2l6ZSA/IHtcbiAgICAgICAgYWxsOiBcInVuc2V0XCIsXG4gICAgICAgIGdyaWRBcmVhOiBcIjEgLyAxIC8gYXV0byAvIGF1dG9cIixcbiAgICAgICAgdmlzaWJpbGl0eTogIWlzRWRpdGluZyA/IFwiaGlkZGVuXCIgOiB2b2lkIDBcbiAgICAgIH0gOiB2b2lkIDBcbiAgICB9KSxcbiAgICBwcmV2aWV3UHJvcHM6IG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgIGlkOiBkb20uZ2V0UHJldmlld0lkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgLi4ucGFydHMucHJldmlldy5hdHRycyxcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICBcImRhdGEtcGxhY2Vob2xkZXItc2hvd25cIjogZGF0YUF0dHIoaXNWYWx1ZUVtcHR5KSxcbiAgICAgIFwiYXJpYS1yZWFkb25seVwiOiBhcmlhQXR0cihpc1JlYWRPbmx5KSxcbiAgICAgIFwiZGF0YS1yZWFkb25seVwiOiBkYXRhQXR0cihpc0Rpc2FibGVkKSxcbiAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihpc0Rpc2FibGVkKSxcbiAgICAgIFwiYXJpYS1kaXNhYmxlZFwiOiBhcmlhQXR0cihpc0Rpc2FibGVkKSxcbiAgICAgIFwiYXJpYS1pbnZhbGlkXCI6IGFyaWFBdHRyKGlzSW52YWxpZCksXG4gICAgICBcImRhdGEtaW52YWxpZFwiOiBkYXRhQXR0cihpc0ludmFsaWQpLFxuICAgICAgY2hpbGRyZW46IGlzVmFsdWVFbXB0eSA/IHBsYWNlaG9sZGVyPy5wcmV2aWV3IDogc3RhdGUuY29udGV4dC52YWx1ZSxcbiAgICAgIGhpZGRlbjogYXV0b1Jlc2l6ZSA/IHZvaWQgMCA6IGlzRWRpdGluZyxcbiAgICAgIHRhYkluZGV4OiBpc0ludGVyYWN0aXZlICYmIHN0YXRlLmNvbnRleHQuaXNQcmV2aWV3Rm9jdXNhYmxlID8gMCA6IHZvaWQgMCxcbiAgICAgIG9uRm9jdXMoKSB7XG4gICAgICAgIGlmICghaXNJbnRlcmFjdGl2ZSlcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIHNlbmQoXCJGT0NVU1wiKTtcbiAgICAgIH0sXG4gICAgICBvbkRvdWJsZUNsaWNrKCkge1xuICAgICAgICBpZiAoIWlzSW50ZXJhY3RpdmUpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBzZW5kKFwiREJMQ0xJQ0tcIik7XG4gICAgICB9LFxuICAgICAgc3R5bGU6IGF1dG9SZXNpemUgPyB7XG4gICAgICAgIHdoaXRlU3BhY2U6IFwicHJlXCIsXG4gICAgICAgIHVzZXJTZWxlY3Q6IFwibm9uZVwiLFxuICAgICAgICBncmlkQXJlYTogXCIxIC8gMSAvIGF1dG8gLyBhdXRvXCIsXG4gICAgICAgIHZpc2liaWxpdHk6IGlzRWRpdGluZyA/IFwiaGlkZGVuXCIgOiB2b2lkIDAsXG4gICAgICAgIC8vIGluIGV2ZW50IHRoZSBwcmV2aWV3IG92ZXJmbG93J3MgdGhlIHBhcmVudCBlbGVtZW50XG4gICAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiLFxuICAgICAgICB0ZXh0T3ZlcmZsb3c6IFwiZWxsaXBzaXNcIlxuICAgICAgfSA6IHZvaWQgMFxuICAgIH0pLFxuICAgIGVkaXRUcmlnZ2VyUHJvcHM6IG5vcm1hbGl6ZS5idXR0b24oe1xuICAgICAgLi4ucGFydHMuZWRpdFRyaWdnZXIuYXR0cnMsXG4gICAgICBpZDogZG9tLmdldEVkaXRUcmlnZ2VySWQoc3RhdGUuY29udGV4dCksXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgXCJhcmlhLWxhYmVsXCI6IHRyYW5zbGF0aW9ucy5lZGl0LFxuICAgICAgaGlkZGVuOiBpc0VkaXRpbmcsXG4gICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgZGlzYWJsZWQ6IGlzRGlzYWJsZWQsXG4gICAgICBvbkNsaWNrKCkge1xuICAgICAgICBpZiAoIWlzSW50ZXJhY3RpdmUpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBzZW5kKFwiRURJVFwiKTtcbiAgICAgIH1cbiAgICB9KSxcbiAgICBjb250cm9sUHJvcHM6IG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgIGlkOiBkb20uZ2V0Q29udHJvbElkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgLi4ucGFydHMuY29udHJvbC5hdHRycyxcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXJcbiAgICB9KSxcbiAgICBzdWJtaXRUcmlnZ2VyUHJvcHM6IG5vcm1hbGl6ZS5idXR0b24oe1xuICAgICAgLi4ucGFydHMuc3VibWl0VHJpZ2dlci5hdHRycyxcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICBpZDogZG9tLmdldFN1Ym1pdFRyaWdnZXJJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIFwiYXJpYS1sYWJlbFwiOiB0cmFuc2xhdGlvbnMuc3VibWl0LFxuICAgICAgaGlkZGVuOiAhaXNFZGl0aW5nLFxuICAgICAgZGlzYWJsZWQ6IGlzRGlzYWJsZWQsXG4gICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgb25DbGljaygpIHtcbiAgICAgICAgaWYgKCFpc0ludGVyYWN0aXZlKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgc2VuZChcIlNVQk1JVFwiKTtcbiAgICAgIH1cbiAgICB9KSxcbiAgICBjYW5jZWxUcmlnZ2VyUHJvcHM6IG5vcm1hbGl6ZS5idXR0b24oe1xuICAgICAgLi4ucGFydHMuY2FuY2VsVHJpZ2dlci5hdHRycyxcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICBcImFyaWEtbGFiZWxcIjogdHJhbnNsYXRpb25zLmNhbmNlbCxcbiAgICAgIGlkOiBkb20uZ2V0Q2FuY2VsVHJpZ2dlcklkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgaGlkZGVuOiAhaXNFZGl0aW5nLFxuICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgIGRpc2FibGVkOiBpc0Rpc2FibGVkLFxuICAgICAgb25DbGljaygpIHtcbiAgICAgICAgaWYgKCFpc0ludGVyYWN0aXZlKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgc2VuZChcIkNBTkNFTFwiKTtcbiAgICAgIH1cbiAgICB9KVxuICB9O1xufVxuXG4vLyBzcmMvZWRpdGFibGUubWFjaGluZS50c1xuaW1wb3J0IHsgY3JlYXRlTWFjaGluZSwgZ3VhcmRzIH0gZnJvbSBcIkB6YWctanMvY29yZVwiO1xuaW1wb3J0IHsgY29udGFpbnMsIHJhZiB9IGZyb20gXCJAemFnLWpzL2RvbS1xdWVyeVwiO1xuaW1wb3J0IHsgdHJhY2tJbnRlcmFjdE91dHNpZGUgfSBmcm9tIFwiQHphZy1qcy9pbnRlcmFjdC1vdXRzaWRlXCI7XG5pbXBvcnQgeyBjb21wYWN0LCBpc0VxdWFsIH0gZnJvbSBcIkB6YWctanMvdXRpbHNcIjtcbnZhciB7IG5vdCB9ID0gZ3VhcmRzO1xuZnVuY3Rpb24gbWFjaGluZSh1c2VyQ29udGV4dCkge1xuICBjb25zdCBjdHggPSBjb21wYWN0KHVzZXJDb250ZXh0KTtcbiAgcmV0dXJuIGNyZWF0ZU1hY2hpbmUoXG4gICAge1xuICAgICAgaWQ6IFwiZWRpdGFibGVcIixcbiAgICAgIGluaXRpYWw6IGN0eC5zdGFydFdpdGhFZGl0VmlldyA/IFwiZWRpdFwiIDogXCJwcmV2aWV3XCIsXG4gICAgICBlbnRyeTogY3R4LnN0YXJ0V2l0aEVkaXRWaWV3ID8gW1wiZm9jdXNJbnB1dFwiXSA6IHZvaWQgMCxcbiAgICAgIGNvbnRleHQ6IHtcbiAgICAgICAgYWN0aXZhdGlvbk1vZGU6IFwiZm9jdXNcIixcbiAgICAgICAgc3VibWl0TW9kZTogXCJib3RoXCIsXG4gICAgICAgIHZhbHVlOiBcIlwiLFxuICAgICAgICBwcmV2aW91c1ZhbHVlOiBcIlwiLFxuICAgICAgICBzZWxlY3RPbkZvY3VzOiB0cnVlLFxuICAgICAgICAuLi5jdHgsXG4gICAgICAgIHRyYW5zbGF0aW9uczoge1xuICAgICAgICAgIGlucHV0OiBcImVkaXRhYmxlIGlucHV0XCIsXG4gICAgICAgICAgZWRpdDogXCJlZGl0XCIsXG4gICAgICAgICAgc3VibWl0OiBcInN1Ym1pdFwiLFxuICAgICAgICAgIGNhbmNlbDogXCJjYW5jZWxcIixcbiAgICAgICAgICAuLi5jdHgudHJhbnNsYXRpb25zXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB3YXRjaDoge1xuICAgICAgICB2YWx1ZTogW1wic3luY0lucHV0VmFsdWVcIl1cbiAgICAgIH0sXG4gICAgICBjb21wdXRlZDoge1xuICAgICAgICBzdWJtaXRPbkVudGVyOiAoY3R4MikgPT4gW1wiYm90aFwiLCBcImVudGVyXCJdLmluY2x1ZGVzKGN0eDIuc3VibWl0TW9kZSksXG4gICAgICAgIHN1Ym1pdE9uQmx1cjogKGN0eDIpID0+IFtcImJvdGhcIiwgXCJibHVyXCJdLmluY2x1ZGVzKGN0eDIuc3VibWl0TW9kZSksXG4gICAgICAgIGlzSW50ZXJhY3RpdmU6IChjdHgyKSA9PiAhKGN0eDIuZGlzYWJsZWQgfHwgY3R4Mi5yZWFkT25seSksXG4gICAgICAgIGlzVmFsdWVFbXB0eTogKGN0eDIpID0+IGN0eDIudmFsdWUgPT09IFwiXCIsXG4gICAgICAgIGlzUHJldmlld0ZvY3VzYWJsZTogKGN0eDIpID0+IGN0eDIuYWN0aXZhdGlvbk1vZGUgPT09IFwiZm9jdXNcIlxuICAgICAgfSxcbiAgICAgIG9uOiB7XG4gICAgICAgIFNFVF9WQUxVRToge1xuICAgICAgICAgIGFjdGlvbnM6IFwic2V0VmFsdWVcIlxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgc3RhdGVzOiB7XG4gICAgICAgIHByZXZpZXc6IHtcbiAgICAgICAgICAvLyAvLyBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD01NTk1NjFcbiAgICAgICAgICBlbnRyeTogW1wiYmx1cklucHV0SWZOZWVkZWRcIl0sXG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIEVESVQ6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcImVkaXRcIixcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wiZm9jdXNJbnB1dFwiLCBcImludm9rZU9uRWRpdFwiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIERCTENMSUNLOiB7XG4gICAgICAgICAgICAgIGd1YXJkOiBcImFjdGl2YXRlT25EYmxDbGlja1wiLFxuICAgICAgICAgICAgICB0YXJnZXQ6IFwiZWRpdFwiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJmb2N1c0lucHV0XCIsIFwiaW52b2tlT25FZGl0XCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgRk9DVVM6IHtcbiAgICAgICAgICAgICAgZ3VhcmQ6IFwiYWN0aXZhdGVPbkZvY3VzXCIsXG4gICAgICAgICAgICAgIHRhcmdldDogXCJlZGl0XCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldFByZXZpb3VzVmFsdWVcIiwgXCJmb2N1c0lucHV0XCIsIFwiaW52b2tlT25FZGl0XCJdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlZGl0OiB7XG4gICAgICAgICAgYWN0aXZpdGllczogW1widHJhY2tJbnRlcmFjdE91dHNpZGVcIl0sXG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIFRZUEU6IHtcbiAgICAgICAgICAgICAgZ3VhcmQ6IG5vdChcImlzQXRNYXhMZW5ndGhcIiksXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFwic2V0VmFsdWVcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIEJMVVI6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGd1YXJkOiBcInN1Ym1pdE9uQmx1clwiLFxuICAgICAgICAgICAgICAgIHRhcmdldDogXCJwcmV2aWV3XCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogW1wicmVzdG9yZUZvY3VzXCIsIFwiaW52b2tlT25TdWJtaXRcIl1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRhcmdldDogXCJwcmV2aWV3XCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogW1wicmV2ZXJ0VmFsdWVcIiwgXCJyZXN0b3JlRm9jdXNcIiwgXCJpbnZva2VPbkNhbmNlbFwiXVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgQ0FOQ0VMOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJwcmV2aWV3XCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcInJldmVydFZhbHVlXCIsIFwicmVzdG9yZUZvY3VzXCIsIFwiaW52b2tlT25DYW5jZWxcIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBFTlRFUjoge1xuICAgICAgICAgICAgICBndWFyZDogXCJzdWJtaXRPbkVudGVyXCIsXG4gICAgICAgICAgICAgIHRhcmdldDogXCJwcmV2aWV3XCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldFByZXZpb3VzVmFsdWVcIiwgXCJpbnZva2VPblN1Ym1pdFwiLCBcInJlc3RvcmVGb2N1c1wiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFNVQk1JVDoge1xuICAgICAgICAgICAgICB0YXJnZXQ6IFwicHJldmlld1wiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRQcmV2aW91c1ZhbHVlXCIsIFwiaW52b2tlT25TdWJtaXRcIiwgXCJyZXN0b3JlRm9jdXNcIl1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIGd1YXJkczoge1xuICAgICAgICBzdWJtaXRPbkJsdXI6IChjdHgyKSA9PiBjdHgyLnN1Ym1pdE9uQmx1cixcbiAgICAgICAgc3VibWl0T25FbnRlcjogKGN0eDIpID0+IGN0eDIuc3VibWl0T25FbnRlcixcbiAgICAgICAgaXNBdE1heExlbmd0aDogKGN0eDIpID0+IGN0eDIubWF4TGVuZ3RoICE9IG51bGwgJiYgY3R4Mi52YWx1ZS5sZW5ndGggPT09IGN0eDIubWF4TGVuZ3RoLFxuICAgICAgICBhY3RpdmF0ZU9uRGJsQ2xpY2s6IChjdHgyKSA9PiBjdHgyLmFjdGl2YXRpb25Nb2RlID09PSBcImRibGNsaWNrXCIsXG4gICAgICAgIGFjdGl2YXRlT25Gb2N1czogKGN0eDIpID0+IGN0eDIuYWN0aXZhdGlvbk1vZGUgPT09IFwiZm9jdXNcIlxuICAgICAgfSxcbiAgICAgIGFjdGl2aXRpZXM6IHtcbiAgICAgICAgdHJhY2tJbnRlcmFjdE91dHNpZGUoY3R4MiwgX2V2dCwgeyBzZW5kIH0pIHtcbiAgICAgICAgICByZXR1cm4gdHJhY2tJbnRlcmFjdE91dHNpZGUoZG9tLmdldElucHV0RWwoY3R4MiksIHtcbiAgICAgICAgICAgIGV4Y2x1ZGUodGFyZ2V0KSB7XG4gICAgICAgICAgICAgIGNvbnN0IGlnbm9yZSA9IFtkb20uZ2V0Q2FuY2VsVHJpZ2dlckVsKGN0eDIpLCBkb20uZ2V0U3VibWl0VHJpZ2dlckVsKGN0eDIpXTtcbiAgICAgICAgICAgICAgcmV0dXJuIGlnbm9yZS5zb21lKChlbCkgPT4gY29udGFpbnMoZWwsIHRhcmdldCkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uRm9jdXNPdXRzaWRlOiBjdHgyLm9uRm9jdXNPdXRzaWRlLFxuICAgICAgICAgICAgb25Qb2ludGVyRG93bk91dHNpZGU6IGN0eDIub25Qb2ludGVyRG93bk91dHNpZGUsXG4gICAgICAgICAgICBvbkludGVyYWN0T3V0c2lkZShldmVudCkge1xuICAgICAgICAgICAgICBjdHgyLm9uSW50ZXJhY3RPdXRzaWRlPy4oZXZlbnQpO1xuICAgICAgICAgICAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIGNvbnN0IHsgZm9jdXNhYmxlIH0gPSBldmVudC5kZXRhaWw7XG4gICAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIkJMVVJcIiwgc3JjOiBcImludGVyYWN0LW91dHNpZGVcIiwgZm9jdXNhYmxlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYWN0aW9uczoge1xuICAgICAgICByZXN0b3JlRm9jdXMoY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgaWYgKGV2dC5mb2N1c2FibGUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgcmFmKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGZpbmFsRWwgPSBjdHgyLmZpbmFsRm9jdXNFbD8uKCkgPz8gZG9tLmdldEVkaXRUcmlnZ2VyRWwoY3R4Mik7XG4gICAgICAgICAgICBmaW5hbEVsPy5mb2N1cyh7IHByZXZlbnRTY3JvbGw6IHRydWUgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGZvY3VzSW5wdXQoY3R4Mikge1xuICAgICAgICAgIHJhZigoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpbnB1dEVsID0gZG9tLmdldElucHV0RWwoY3R4Mik7XG4gICAgICAgICAgICBpZiAoIWlucHV0RWwpXG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGlmIChjdHgyLnNlbGVjdE9uRm9jdXMpIHtcbiAgICAgICAgICAgICAgaW5wdXRFbC5zZWxlY3QoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlucHV0RWwuZm9jdXMoeyBwcmV2ZW50U2Nyb2xsOiB0cnVlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBpbnZva2VPbkNhbmNlbChjdHgyKSB7XG4gICAgICAgICAgY3R4Mi5vblZhbHVlUmV2ZXJ0Py4oeyB2YWx1ZTogY3R4Mi5wcmV2aW91c1ZhbHVlIH0pO1xuICAgICAgICB9LFxuICAgICAgICBpbnZva2VPblN1Ym1pdChjdHgyKSB7XG4gICAgICAgICAgY3R4Mi5vblZhbHVlQ29tbWl0Py4oeyB2YWx1ZTogY3R4Mi52YWx1ZSB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgaW52b2tlT25FZGl0KGN0eDIpIHtcbiAgICAgICAgICBjdHgyLm9uRWRpdD8uKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHN5bmNJbnB1dFZhbHVlKGN0eDIpIHtcbiAgICAgICAgICBzeW5jLnZhbHVlKGN0eDIpO1xuICAgICAgICB9LFxuICAgICAgICBzZXRWYWx1ZShjdHgyLCBldnQpIHtcbiAgICAgICAgICBzZXQudmFsdWUoY3R4MiwgZXZ0LnZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0UHJldmlvdXNWYWx1ZShjdHgyKSB7XG4gICAgICAgICAgY3R4Mi5wcmV2aW91c1ZhbHVlID0gY3R4Mi52YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgcmV2ZXJ0VmFsdWUoY3R4Mikge1xuICAgICAgICAgIHNldC52YWx1ZShjdHgyLCBjdHgyLnByZXZpb3VzVmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBibHVySW5wdXRJZk5lZWRlZChjdHgyKSB7XG4gICAgICAgICAgZG9tLmdldElucHV0RWwoY3R4Mik/LmJsdXIoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgKTtcbn1cbnZhciBzeW5jID0ge1xuICB2YWx1ZTogKGN0eCkgPT4ge1xuICAgIGNvbnN0IGlucHV0RWwgPSBkb20uZ2V0SW5wdXRFbChjdHgpO1xuICAgIGRvbS5zZXRWYWx1ZShpbnB1dEVsLCBjdHgudmFsdWUpO1xuICB9XG59O1xudmFyIGludm9rZSA9IHtcbiAgY2hhbmdlKGN0eCkge1xuICAgIGN0eC5vblZhbHVlQ2hhbmdlPy4oeyB2YWx1ZTogY3R4LnZhbHVlIH0pO1xuICAgIHN5bmMudmFsdWUoY3R4KTtcbiAgfVxufTtcbnZhciBzZXQgPSB7XG4gIHZhbHVlKGN0eCwgdmFsdWUpIHtcbiAgICBpZiAoaXNFcXVhbChjdHgudmFsdWUsIHZhbHVlKSlcbiAgICAgIHJldHVybjtcbiAgICBjdHgudmFsdWUgPSB2YWx1ZTtcbiAgICBpbnZva2UuY2hhbmdlKGN0eCk7XG4gIH1cbn07XG5leHBvcnQge1xuICBhbmF0b215LFxuICBjb25uZWN0LFxuICBtYWNoaW5lXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/editable/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/element-rect/dist/index.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/@zag-js/element-rect/dist/index.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   trackElementRect: () => (/* binding */ trackElementRect)\n/* harmony export */ });\n// src/index.ts\nvar rafId;\nvar observedElements = /* @__PURE__ */ new Map();\nvar getRectFn = (el) => el.getBoundingClientRect();\nfunction trackElementRect(el, options) {\n  const { scope = \"rect\", getRect = getRectFn, onChange } = options;\n  const loop = getLoopFn({ scope, getRect });\n  const data = observedElements.get(el);\n  if (!data) {\n    observedElements.set(el, {\n      rect: {},\n      callbacks: [onChange]\n    });\n    if (observedElements.size === 1) {\n      rafId = requestAnimationFrame(loop);\n    }\n  } else {\n    data.callbacks.push(onChange);\n    onChange(getRect(el));\n  }\n  return function unobserve() {\n    const data2 = observedElements.get(el);\n    if (!data2)\n      return;\n    const index = data2.callbacks.indexOf(onChange);\n    if (index > -1) {\n      data2.callbacks.splice(index, 1);\n    }\n    if (data2.callbacks.length === 0) {\n      observedElements.delete(el);\n      if (observedElements.size === 0) {\n        cancelAnimationFrame(rafId);\n      }\n    }\n  };\n}\nfunction getLoopFn(options) {\n  const { scope, getRect } = options;\n  const isEqual = getEqualityFn(scope);\n  return function loop() {\n    const changedRectsData = [];\n    observedElements.forEach((data, element) => {\n      const newRect = getRect(element);\n      if (!isEqual(data.rect, newRect)) {\n        data.rect = newRect;\n        changedRectsData.push(data);\n      }\n    });\n    changedRectsData.forEach((data) => {\n      data.callbacks.forEach((callback) => callback(data.rect));\n    });\n    rafId = requestAnimationFrame(loop);\n  };\n}\nvar isEqualSize = (a, b) => a.width === b.width && a.height === b.height;\nvar isEqualPosition = (a, b) => a.top === b.top && a.left === b.left;\nvar isEqualRect = (a, b) => isEqualSize(a, b) && isEqualPosition(a, b);\nfunction getEqualityFn(scope) {\n  if (scope === \"size\")\n    return isEqualSize;\n  if (scope === \"position\")\n    return isEqualPosition;\n  return isEqualRect;\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9lbGVtZW50LXJlY3QvZGlzdC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGdEQUFnRDtBQUMxRCwyQkFBMkIsZ0JBQWdCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsaUJBQWlCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0U7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL0BwYXJrLXVpL2V4YW1wbGVzLXJlYWN0LW5leHQtanMvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9lbGVtZW50LXJlY3QvZGlzdC9pbmRleC5tanM/MTNlZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvaW5kZXgudHNcbnZhciByYWZJZDtcbnZhciBvYnNlcnZlZEVsZW1lbnRzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbnZhciBnZXRSZWN0Rm4gPSAoZWwpID0+IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuZnVuY3Rpb24gdHJhY2tFbGVtZW50UmVjdChlbCwgb3B0aW9ucykge1xuICBjb25zdCB7IHNjb3BlID0gXCJyZWN0XCIsIGdldFJlY3QgPSBnZXRSZWN0Rm4sIG9uQ2hhbmdlIH0gPSBvcHRpb25zO1xuICBjb25zdCBsb29wID0gZ2V0TG9vcEZuKHsgc2NvcGUsIGdldFJlY3QgfSk7XG4gIGNvbnN0IGRhdGEgPSBvYnNlcnZlZEVsZW1lbnRzLmdldChlbCk7XG4gIGlmICghZGF0YSkge1xuICAgIG9ic2VydmVkRWxlbWVudHMuc2V0KGVsLCB7XG4gICAgICByZWN0OiB7fSxcbiAgICAgIGNhbGxiYWNrczogW29uQ2hhbmdlXVxuICAgIH0pO1xuICAgIGlmIChvYnNlcnZlZEVsZW1lbnRzLnNpemUgPT09IDEpIHtcbiAgICAgIHJhZklkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBkYXRhLmNhbGxiYWNrcy5wdXNoKG9uQ2hhbmdlKTtcbiAgICBvbkNoYW5nZShnZXRSZWN0KGVsKSk7XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uIHVub2JzZXJ2ZSgpIHtcbiAgICBjb25zdCBkYXRhMiA9IG9ic2VydmVkRWxlbWVudHMuZ2V0KGVsKTtcbiAgICBpZiAoIWRhdGEyKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGluZGV4ID0gZGF0YTIuY2FsbGJhY2tzLmluZGV4T2Yob25DaGFuZ2UpO1xuICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICBkYXRhMi5jYWxsYmFja3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gICAgaWYgKGRhdGEyLmNhbGxiYWNrcy5sZW5ndGggPT09IDApIHtcbiAgICAgIG9ic2VydmVkRWxlbWVudHMuZGVsZXRlKGVsKTtcbiAgICAgIGlmIChvYnNlcnZlZEVsZW1lbnRzLnNpemUgPT09IDApIHtcbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUocmFmSWQpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIGdldExvb3BGbihvcHRpb25zKSB7XG4gIGNvbnN0IHsgc2NvcGUsIGdldFJlY3QgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGlzRXF1YWwgPSBnZXRFcXVhbGl0eUZuKHNjb3BlKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIGxvb3AoKSB7XG4gICAgY29uc3QgY2hhbmdlZFJlY3RzRGF0YSA9IFtdO1xuICAgIG9ic2VydmVkRWxlbWVudHMuZm9yRWFjaCgoZGF0YSwgZWxlbWVudCkgPT4ge1xuICAgICAgY29uc3QgbmV3UmVjdCA9IGdldFJlY3QoZWxlbWVudCk7XG4gICAgICBpZiAoIWlzRXF1YWwoZGF0YS5yZWN0LCBuZXdSZWN0KSkge1xuICAgICAgICBkYXRhLnJlY3QgPSBuZXdSZWN0O1xuICAgICAgICBjaGFuZ2VkUmVjdHNEYXRhLnB1c2goZGF0YSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY2hhbmdlZFJlY3RzRGF0YS5mb3JFYWNoKChkYXRhKSA9PiB7XG4gICAgICBkYXRhLmNhbGxiYWNrcy5mb3JFYWNoKChjYWxsYmFjaykgPT4gY2FsbGJhY2soZGF0YS5yZWN0KSk7XG4gICAgfSk7XG4gICAgcmFmSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7XG4gIH07XG59XG52YXIgaXNFcXVhbFNpemUgPSAoYSwgYikgPT4gYS53aWR0aCA9PT0gYi53aWR0aCAmJiBhLmhlaWdodCA9PT0gYi5oZWlnaHQ7XG52YXIgaXNFcXVhbFBvc2l0aW9uID0gKGEsIGIpID0+IGEudG9wID09PSBiLnRvcCAmJiBhLmxlZnQgPT09IGIubGVmdDtcbnZhciBpc0VxdWFsUmVjdCA9IChhLCBiKSA9PiBpc0VxdWFsU2l6ZShhLCBiKSAmJiBpc0VxdWFsUG9zaXRpb24oYSwgYik7XG5mdW5jdGlvbiBnZXRFcXVhbGl0eUZuKHNjb3BlKSB7XG4gIGlmIChzY29wZSA9PT0gXCJzaXplXCIpXG4gICAgcmV0dXJuIGlzRXF1YWxTaXplO1xuICBpZiAoc2NvcGUgPT09IFwicG9zaXRpb25cIilcbiAgICByZXR1cm4gaXNFcXVhbFBvc2l0aW9uO1xuICByZXR1cm4gaXNFcXVhbFJlY3Q7XG59XG5leHBvcnQge1xuICB0cmFja0VsZW1lbnRSZWN0XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/element-rect/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/element-size/dist/index.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/@zag-js/element-size/dist/index.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   trackElementSize: () => (/* binding */ trackElementSize),\n/* harmony export */   trackElementsSize: () => (/* binding */ trackElementsSize)\n/* harmony export */ });\n// src/track-size.ts\nfunction trackElementSize(element, callback) {\n  if (!element) {\n    callback(void 0);\n    return;\n  }\n  callback({ width: element.offsetWidth, height: element.offsetHeight });\n  const win = element.ownerDocument.defaultView ?? window;\n  const observer = new win.ResizeObserver((entries) => {\n    if (!Array.isArray(entries) || !entries.length)\n      return;\n    const [entry] = entries;\n    let width;\n    let height;\n    if (\"borderBoxSize\" in entry) {\n      const borderSizeEntry = entry[\"borderBoxSize\"];\n      const borderSize = Array.isArray(borderSizeEntry) ? borderSizeEntry[0] : borderSizeEntry;\n      width = borderSize[\"inlineSize\"];\n      height = borderSize[\"blockSize\"];\n    } else {\n      width = element.offsetWidth;\n      height = element.offsetHeight;\n    }\n    callback({ width, height });\n  });\n  observer.observe(element, { box: \"border-box\" });\n  return () => observer.unobserve(element);\n}\n\n// src/track-sizes.ts\nfunction trackElementsSize(options) {\n  const { getNodes, observeMutation = true, callback } = options;\n  const cleanups = [];\n  let firstNode = null;\n  function trigger() {\n    const elements = getNodes();\n    firstNode = elements[0];\n    const fns = elements.map(\n      (element, index) => trackElementSize(element, (size) => {\n        callback(size, index);\n      })\n    );\n    cleanups.push(...fns);\n  }\n  trigger();\n  if (observeMutation) {\n    const fn = trackMutation(firstNode, trigger);\n    cleanups.push(fn);\n  }\n  return () => {\n    cleanups.forEach((cleanup) => {\n      cleanup?.();\n    });\n  };\n}\nfunction trackMutation(el, cb) {\n  if (!el || !el.parentElement)\n    return;\n  const win = el.ownerDocument?.defaultView ?? window;\n  const observer = new win.MutationObserver(() => {\n    cb();\n  });\n  observer.observe(el.parentElement, { childList: true });\n  return () => {\n    observer.disconnect();\n  };\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9lbGVtZW50LXNpemUvZGlzdC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDBEQUEwRDtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsZUFBZSxlQUFlO0FBQzlCLEdBQUc7QUFDSCw4QkFBOEIsbUJBQW1CO0FBQ2pEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVUsNkNBQTZDO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILHVDQUF1QyxpQkFBaUI7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFJRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBhcmstdWkvZXhhbXBsZXMtcmVhY3QtbmV4dC1qcy8uL25vZGVfbW9kdWxlcy9AemFnLWpzL2VsZW1lbnQtc2l6ZS9kaXN0L2luZGV4Lm1qcz81ZDkzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy90cmFjay1zaXplLnRzXG5mdW5jdGlvbiB0cmFja0VsZW1lbnRTaXplKGVsZW1lbnQsIGNhbGxiYWNrKSB7XG4gIGlmICghZWxlbWVudCkge1xuICAgIGNhbGxiYWNrKHZvaWQgMCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNhbGxiYWNrKHsgd2lkdGg6IGVsZW1lbnQub2Zmc2V0V2lkdGgsIGhlaWdodDogZWxlbWVudC5vZmZzZXRIZWlnaHQgfSk7XG4gIGNvbnN0IHdpbiA9IGVsZW1lbnQub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyA/PyB3aW5kb3c7XG4gIGNvbnN0IG9ic2VydmVyID0gbmV3IHdpbi5SZXNpemVPYnNlcnZlcigoZW50cmllcykgPT4ge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShlbnRyaWVzKSB8fCAhZW50cmllcy5sZW5ndGgpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgW2VudHJ5XSA9IGVudHJpZXM7XG4gICAgbGV0IHdpZHRoO1xuICAgIGxldCBoZWlnaHQ7XG4gICAgaWYgKFwiYm9yZGVyQm94U2l6ZVwiIGluIGVudHJ5KSB7XG4gICAgICBjb25zdCBib3JkZXJTaXplRW50cnkgPSBlbnRyeVtcImJvcmRlckJveFNpemVcIl07XG4gICAgICBjb25zdCBib3JkZXJTaXplID0gQXJyYXkuaXNBcnJheShib3JkZXJTaXplRW50cnkpID8gYm9yZGVyU2l6ZUVudHJ5WzBdIDogYm9yZGVyU2l6ZUVudHJ5O1xuICAgICAgd2lkdGggPSBib3JkZXJTaXplW1wiaW5saW5lU2l6ZVwiXTtcbiAgICAgIGhlaWdodCA9IGJvcmRlclNpemVbXCJibG9ja1NpemVcIl07XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpZHRoID0gZWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICAgIGhlaWdodCA9IGVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICAgIH1cbiAgICBjYWxsYmFjayh7IHdpZHRoLCBoZWlnaHQgfSk7XG4gIH0pO1xuICBvYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQsIHsgYm94OiBcImJvcmRlci1ib3hcIiB9KTtcbiAgcmV0dXJuICgpID0+IG9ic2VydmVyLnVub2JzZXJ2ZShlbGVtZW50KTtcbn1cblxuLy8gc3JjL3RyYWNrLXNpemVzLnRzXG5mdW5jdGlvbiB0cmFja0VsZW1lbnRzU2l6ZShvcHRpb25zKSB7XG4gIGNvbnN0IHsgZ2V0Tm9kZXMsIG9ic2VydmVNdXRhdGlvbiA9IHRydWUsIGNhbGxiYWNrIH0gPSBvcHRpb25zO1xuICBjb25zdCBjbGVhbnVwcyA9IFtdO1xuICBsZXQgZmlyc3ROb2RlID0gbnVsbDtcbiAgZnVuY3Rpb24gdHJpZ2dlcigpIHtcbiAgICBjb25zdCBlbGVtZW50cyA9IGdldE5vZGVzKCk7XG4gICAgZmlyc3ROb2RlID0gZWxlbWVudHNbMF07XG4gICAgY29uc3QgZm5zID0gZWxlbWVudHMubWFwKFxuICAgICAgKGVsZW1lbnQsIGluZGV4KSA9PiB0cmFja0VsZW1lbnRTaXplKGVsZW1lbnQsIChzaXplKSA9PiB7XG4gICAgICAgIGNhbGxiYWNrKHNpemUsIGluZGV4KTtcbiAgICAgIH0pXG4gICAgKTtcbiAgICBjbGVhbnVwcy5wdXNoKC4uLmZucyk7XG4gIH1cbiAgdHJpZ2dlcigpO1xuICBpZiAob2JzZXJ2ZU11dGF0aW9uKSB7XG4gICAgY29uc3QgZm4gPSB0cmFja011dGF0aW9uKGZpcnN0Tm9kZSwgdHJpZ2dlcik7XG4gICAgY2xlYW51cHMucHVzaChmbik7XG4gIH1cbiAgcmV0dXJuICgpID0+IHtcbiAgICBjbGVhbnVwcy5mb3JFYWNoKChjbGVhbnVwKSA9PiB7XG4gICAgICBjbGVhbnVwPy4oKTtcbiAgICB9KTtcbiAgfTtcbn1cbmZ1bmN0aW9uIHRyYWNrTXV0YXRpb24oZWwsIGNiKSB7XG4gIGlmICghZWwgfHwgIWVsLnBhcmVudEVsZW1lbnQpXG4gICAgcmV0dXJuO1xuICBjb25zdCB3aW4gPSBlbC5vd25lckRvY3VtZW50Py5kZWZhdWx0VmlldyA/PyB3aW5kb3c7XG4gIGNvbnN0IG9ic2VydmVyID0gbmV3IHdpbi5NdXRhdGlvbk9ic2VydmVyKCgpID0+IHtcbiAgICBjYigpO1xuICB9KTtcbiAgb2JzZXJ2ZXIub2JzZXJ2ZShlbC5wYXJlbnRFbGVtZW50LCB7IGNoaWxkTGlzdDogdHJ1ZSB9KTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gIH07XG59XG5leHBvcnQge1xuICB0cmFja0VsZW1lbnRTaXplLFxuICB0cmFja0VsZW1lbnRzU2l6ZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/element-size/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/file-upload/dist/index.mjs":
/*!*********************************************************!*\
  !*** ./node_modules/@zag-js/file-upload/dist/index.mjs ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   anatomy: () => (/* binding */ anatomy),\n/* harmony export */   connect: () => (/* binding */ connect),\n/* harmony export */   machine: () => (/* binding */ machine)\n/* harmony export */ });\n/* harmony import */ var _zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/anatomy */ \"(ssr)/./node_modules/@zag-js/anatomy/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @zag-js/dom-query */ \"(ssr)/./node_modules/@zag-js/dom-query/dist/index.mjs\");\n/* harmony import */ var _zag_js_file_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @zag-js/file-utils */ \"(ssr)/./node_modules/@zag-js/file-utils/dist/index.mjs\");\n/* harmony import */ var _zag_js_visually_hidden__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @zag-js/visually-hidden */ \"(ssr)/./node_modules/@zag-js/visually-hidden/dist/index.mjs\");\n/* harmony import */ var _zag_js_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @zag-js/core */ \"(ssr)/./node_modules/@zag-js/core/dist/index.mjs\");\n/* harmony import */ var _zag_js_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @zag-js/core */ \"(ssr)/./node_modules/@zag-js/store/dist/index.mjs\");\n/* harmony import */ var _zag_js_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @zag-js/utils */ \"(ssr)/./node_modules/@zag-js/utils/dist/index.mjs\");\n// src/file-upload.anatomy.ts\n\nvar anatomy = (0,_zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__.createAnatomy)(\"file-upload\").parts(\n  \"root\",\n  \"dropzone\",\n  \"item\",\n  \"itemDeleteTrigger\",\n  \"itemGroup\",\n  \"itemName\",\n  \"itemPreview\",\n  \"itemPreviewImage\",\n  \"itemSizeText\",\n  \"label\",\n  \"trigger\"\n);\nvar parts = anatomy.build();\n\n// src/file-upload.connect.ts\n\n\n\n\n\n// src/file-upload.dom.ts\n\nvar dom = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.createScope)({\n  getRootId: (ctx) => ctx.ids?.root ?? `file:${ctx.id}`,\n  getDropzoneId: (ctx) => ctx.ids?.dropzone ?? `file:${ctx.id}:dropzone`,\n  getHiddenInputId: (ctx) => ctx.ids?.hiddenInput ?? `file:${ctx.id}:input`,\n  getTriggerId: (ctx) => ctx.ids?.trigger ?? `file:${ctx.id}:trigger`,\n  getLabelId: (ctx) => ctx.ids?.label ?? `file:${ctx.id}:label`,\n  getItemId: (ctx, id) => ctx.ids?.item?.(id) ?? `file:${ctx.id}:item:${id}`,\n  getItemNameId: (ctx, id) => ctx.ids?.itemName?.(id) ?? `file:${ctx.id}:item-name:${id}`,\n  getItemSizeTextId: (ctx, id) => ctx.ids?.itemSizeText?.(id) ?? `file:${ctx.id}:item-size:${id}`,\n  getItemPreviewId: (ctx, id) => ctx.ids?.itemPreview?.(id) ?? `file:${ctx.id}:item-preview:${id}`,\n  getHiddenInputEl: (ctx) => dom.getById(ctx, dom.getHiddenInputId(ctx)),\n  getDropzoneEl: (ctx) => dom.getById(ctx, dom.getDropzoneId(ctx))\n});\n\n// src/file-upload.utils.ts\n\nfunction isEventWithFiles(event) {\n  if (!event.dataTransfer)\n    return !!event.target && \"files\" in event.target;\n  return event.dataTransfer.types.some((type) => {\n    return type === \"Files\" || type === \"application/x-moz-file\";\n  });\n}\nfunction isFilesWithinRange(ctx, incomingCount) {\n  if (!ctx.multiple && incomingCount > 1)\n    return false;\n  if (!ctx.multiple && incomingCount + ctx.files.length === 2)\n    return true;\n  if (incomingCount + ctx.files.length > ctx.maxFiles)\n    return false;\n  return true;\n}\nfunction getFilesFromEvent(ctx, files) {\n  const acceptedFiles = [];\n  const rejectedFiles = [];\n  files.forEach((file) => {\n    const [accepted, acceptError] = (0,_zag_js_file_utils__WEBPACK_IMPORTED_MODULE_2__.isValidFileType)(file, ctx.acceptAttr);\n    const [sizeMatch, sizeError] = (0,_zag_js_file_utils__WEBPACK_IMPORTED_MODULE_2__.isValidFileSize)(file, ctx.minFileSize, ctx.maxFileSize);\n    const validateErrors = ctx.validate?.(file);\n    const valid = validateErrors ? validateErrors.length === 0 : true;\n    if (accepted && sizeMatch && valid) {\n      acceptedFiles.push(file);\n    } else {\n      const errors = [acceptError, sizeError];\n      if (!valid)\n        errors.push(...validateErrors ?? []);\n      rejectedFiles.push({ file, errors: errors.filter(Boolean) });\n    }\n  });\n  if (!isFilesWithinRange(ctx, acceptedFiles.length)) {\n    acceptedFiles.forEach((file) => {\n      rejectedFiles.push({ file, errors: [\"TOO_MANY_FILES\"] });\n    });\n    acceptedFiles.splice(0);\n  }\n  return {\n    acceptedFiles,\n    rejectedFiles\n  };\n}\n\n// src/file-upload.connect.ts\nfunction connect(state, send, normalize) {\n  const disabled = state.context.disabled;\n  const allowDrop = state.context.allowDrop;\n  const translations = state.context.translations;\n  const isDragging = state.matches(\"dragging\");\n  const isFocused = state.matches(\"focused\") && !disabled;\n  return {\n    isDragging,\n    isFocused,\n    open() {\n      send(\"OPEN\");\n    },\n    deleteFile(file) {\n      send({ type: \"FILE.DELETE\", file });\n    },\n    files: state.context.files,\n    setFiles(files) {\n      const count = files.length;\n      send({ type: \"FILES.SET\", files, count });\n    },\n    clearFiles() {\n      send({ type: \"FILES.CLEAR\" });\n    },\n    getFileSize(file) {\n      return (0,_zag_js_file_utils__WEBPACK_IMPORTED_MODULE_2__.formatFileSize)(file.size, { locale: state.context.locale });\n    },\n    createFileUrl(file, cb) {\n      const win = dom.getWin(state.context);\n      const url = win.URL.createObjectURL(file);\n      cb(url);\n      return () => win.URL.revokeObjectURL(url);\n    },\n    rootProps: normalize.element({\n      ...parts.root.attrs,\n      dir: state.context.dir,\n      id: dom.getRootId(state.context),\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(disabled),\n      \"data-dragging\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isDragging)\n    }),\n    dropzoneProps: normalize.element({\n      ...parts.dropzone.attrs,\n      dir: state.context.dir,\n      id: dom.getDropzoneId(state.context),\n      tabIndex: disabled ? void 0 : 0,\n      \"aria-disabled\": disabled,\n      \"aria-invalid\": state.context.invalid,\n      \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(state.context.invalid),\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(disabled),\n      \"data-dragging\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isDragging),\n      onKeyDown(event) {\n        if (!(0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.isSelfEvent)(event))\n          return;\n        if (event.key !== \"Enter\" && event.key !== \" \")\n          return;\n        send({ type: \"DROPZONE.CLICK\", src: \"keydown\" });\n      },\n      onClick(event) {\n        const isLabel = event.currentTarget.localName === \"label\";\n        if (isLabel)\n          event.preventDefault();\n        send(\"DROPZONE.CLICK\");\n      },\n      onDragOver(event) {\n        if (!allowDrop)\n          return;\n        event.preventDefault();\n        event.stopPropagation();\n        try {\n          event.dataTransfer.dropEffect = \"copy\";\n        } catch {\n        }\n        const hasFiles = isEventWithFiles(event);\n        if (!hasFiles)\n          return;\n        const count = event.dataTransfer.items.length;\n        send({ type: \"DROPZONE.DRAG_OVER\", count });\n      },\n      onDragLeave(event) {\n        if (!allowDrop || disabled)\n          return;\n        if ((0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.contains)(event.currentTarget, event.relatedTarget))\n          return;\n        send({ type: \"DROPZONE.DRAG_LEAVE\" });\n      },\n      onDrop(event) {\n        if (allowDrop) {\n          event.preventDefault();\n          event.stopPropagation();\n        }\n        const hasFiles = isEventWithFiles(event);\n        if (disabled || !hasFiles)\n          return;\n        send({ type: \"DROPZONE.DROP\", files: Array.from(event.dataTransfer.files) });\n      },\n      onFocus() {\n        send(\"DROPZONE.FOCUS\");\n      },\n      onBlur() {\n        send(\"DROPZONE.BLUR\");\n      }\n    }),\n    triggerProps: normalize.button({\n      ...parts.trigger.attrs,\n      dir: state.context.dir,\n      id: dom.getTriggerId(state.context),\n      disabled,\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(disabled),\n      type: \"button\",\n      onClick(event) {\n        if (disabled)\n          return;\n        if ((0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.contains)(dom.getDropzoneEl(state.context), event.currentTarget)) {\n          event.stopPropagation();\n        }\n        send(\"OPEN\");\n      }\n    }),\n    hiddenInputProps: normalize.input({\n      id: dom.getHiddenInputId(state.context),\n      tabIndex: -1,\n      disabled,\n      type: \"file\",\n      name: state.context.name,\n      accept: state.context.acceptAttr,\n      multiple: state.context.multiple || state.context.maxFiles > 1,\n      onClick(event) {\n        event.stopPropagation();\n        event.currentTarget.value = \"\";\n      },\n      onChange(event) {\n        if (disabled)\n          return;\n        const { files } = event.currentTarget;\n        send({ type: \"FILES.SET\", files: files ? Array.from(files) : [] });\n      },\n      style: _zag_js_visually_hidden__WEBPACK_IMPORTED_MODULE_3__.visuallyHiddenStyle\n    }),\n    itemGroupProps: normalize.element({\n      ...parts.itemGroup.attrs,\n      dir: state.context.dir,\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(disabled)\n    }),\n    getItemProps(props) {\n      const { file } = props;\n      return normalize.element({\n        ...parts.item.attrs,\n        dir: state.context.dir,\n        id: dom.getItemId(state.context, file.name),\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(disabled)\n      });\n    },\n    getItemNameProps(props) {\n      const { file } = props;\n      return normalize.element({\n        ...parts.itemName.attrs,\n        dir: state.context.dir,\n        id: dom.getItemNameId(state.context, file.name),\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(disabled)\n      });\n    },\n    getItemSizeTextProps(props) {\n      const { file } = props;\n      return normalize.element({\n        ...parts.itemSizeText.attrs,\n        dir: state.context.dir,\n        id: dom.getItemSizeTextId(state.context, file.name),\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(disabled)\n      });\n    },\n    getItemPreviewProps(props) {\n      const { file } = props;\n      return normalize.element({\n        ...parts.itemPreview.attrs,\n        dir: state.context.dir,\n        id: dom.getItemPreviewId(state.context, file.name),\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(disabled)\n      });\n    },\n    getItemPreviewImageProps(props) {\n      const { file, url } = props;\n      const isImage = file.type.startsWith(\"image/\");\n      if (!isImage) {\n        throw new Error(\"Preview Image is only supported for image files\");\n      }\n      return normalize.img({\n        ...parts.itemPreviewImage.attrs,\n        alt: translations.itemPreview(file),\n        src: url,\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(disabled)\n      });\n    },\n    getItemDeleteTriggerProps(props) {\n      const { file } = props;\n      return normalize.button({\n        ...parts.itemDeleteTrigger.attrs,\n        dir: state.context.dir,\n        type: \"button\",\n        disabled,\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(disabled),\n        \"aria-label\": translations.deleteFile(file),\n        onClick() {\n          if (disabled)\n            return;\n          send({ type: \"FILE.DELETE\", file });\n        }\n      });\n    },\n    labelProps: normalize.label({\n      ...parts.label.attrs,\n      dir: state.context.dir,\n      id: dom.getLabelId(state.context),\n      htmlFor: dom.getHiddenInputId(state.context),\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(disabled)\n    })\n  };\n}\n\n// src/file-upload.machine.ts\n\n\n\n\nvar { not } = _zag_js_core__WEBPACK_IMPORTED_MODULE_4__.guards;\nfunction machine(userContext) {\n  const ctx = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_5__.compact)(userContext);\n  return (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_4__.createMachine)(\n    {\n      id: \"fileupload\",\n      initial: \"idle\",\n      context: {\n        minFileSize: 0,\n        maxFileSize: Infinity,\n        maxFiles: 1,\n        allowDrop: true,\n        ...ctx,\n        files: (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_6__.ref)(ctx.files ?? []),\n        rejectedFiles: (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_6__.ref)([]),\n        invalid: false,\n        translations: {\n          itemPreview: (file) => `preview of ${file.name}`,\n          deleteFile: (file) => `delete file ${file.name}`,\n          ...ctx.translations\n        }\n      },\n      computed: {\n        acceptAttr: (ctx2) => (0,_zag_js_file_utils__WEBPACK_IMPORTED_MODULE_2__.getAcceptAttrString)(ctx2.accept),\n        multiple: (ctx2) => ctx2.maxFiles > 1\n      },\n      on: {\n        \"FILES.SET\": {\n          actions: [\"setFilesFromEvent\"]\n        },\n        \"FILE.DELETE\": {\n          actions: [\"removeFile\"]\n        },\n        \"FILES.CLEAR\": {\n          actions: [\"clearFiles\"]\n        }\n      },\n      states: {\n        idle: {\n          on: {\n            OPEN: {\n              actions: [\"openFilePicker\"]\n            },\n            \"DROPZONE.CLICK\": {\n              actions: [\"openFilePicker\"]\n            },\n            \"DROPZONE.FOCUS\": \"focused\",\n            \"DROPZONE.DRAG_OVER\": [\n              {\n                guard: not(\"isWithinRange\"),\n                target: \"dragging\",\n                actions: [\"setInvalid\"]\n              },\n              { target: \"dragging\" }\n            ]\n          }\n        },\n        focused: {\n          on: {\n            \"DROPZONE.BLUR\": \"idle\",\n            OPEN: {\n              actions: [\"openFilePicker\"]\n            },\n            \"DROPZONE.CLICK\": {\n              actions: [\"openFilePicker\"]\n            },\n            \"DROPZONE.DRAG_OVER\": [\n              {\n                guard: not(\"isWithinRange\"),\n                target: \"dragging\",\n                actions: [\"setInvalid\"]\n              },\n              { target: \"dragging\" }\n            ]\n          }\n        },\n        dragging: {\n          on: {\n            \"DROPZONE.DROP\": {\n              target: \"idle\",\n              actions: [\"clearInvalid\", \"setFilesFromEvent\"]\n            },\n            \"DROPZONE.DRAG_LEAVE\": {\n              target: \"idle\",\n              actions: [\"clearInvalid\"]\n            }\n          }\n        }\n      }\n    },\n    {\n      guards: {\n        isWithinRange: (ctx2, evt) => isFilesWithinRange(ctx2, evt.count)\n      },\n      actions: {\n        openFilePicker(ctx2) {\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => {\n            dom.getHiddenInputEl(ctx2)?.click();\n          });\n        },\n        setInvalid(ctx2) {\n          ctx2.invalid = true;\n        },\n        clearInvalid(ctx2) {\n          ctx2.invalid = false;\n        },\n        setFilesFromEvent(ctx2, evt) {\n          const result = getFilesFromEvent(ctx2, evt.files);\n          const { acceptedFiles, rejectedFiles } = result;\n          if (ctx2.multiple) {\n            const files = (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_6__.ref)([...ctx2.files, ...acceptedFiles]);\n            set.files(ctx2, files, rejectedFiles);\n            return;\n          }\n          if (acceptedFiles.length) {\n            const files = (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_6__.ref)([acceptedFiles[0]]);\n            set.files(ctx2, files, rejectedFiles);\n          }\n        },\n        removeFile(ctx2, evt) {\n          const nextFiles = ctx2.files.filter((file) => file !== evt.file);\n          set.files(ctx2, nextFiles);\n        },\n        clearFiles(ctx2) {\n          set.files(ctx2, []);\n        }\n      },\n      compareFns: {\n        files: (a, b) => a.length === b.length && a.every((file, i) => (0,_zag_js_file_utils__WEBPACK_IMPORTED_MODULE_2__.isFileEqual)(file, b[i]))\n      }\n    }\n  );\n}\nvar invoke = {\n  change: (ctx) => {\n    ctx.onFilesChange?.({\n      acceptedFiles: ctx.files,\n      rejectedFiles: ctx.rejectedFiles\n    });\n  },\n  accept: (ctx) => {\n    ctx.onFileAccept?.({ files: ctx.files });\n  },\n  reject: (ctx) => {\n    ctx.onFileReject?.({ files: ctx.rejectedFiles });\n  }\n};\nvar set = {\n  files: (ctx, acceptedFiles, rejectedFiles) => {\n    ctx.files = (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_6__.ref)(acceptedFiles);\n    invoke.accept(ctx);\n    if (rejectedFiles) {\n      ctx.rejectedFiles = (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_6__.ref)(rejectedFiles);\n      invoke.reject(ctx);\n    }\n    invoke.change(ctx);\n  }\n};\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9maWxlLXVwbG9hZC9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7QUFDZ0Q7QUFDaEQsY0FBYyw4REFBYTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNvRTtBQUNoQjtBQUM3QjtBQUN1Qzs7QUFFOUQ7QUFDZ0Q7QUFDaEQsVUFBVSw4REFBVztBQUNyQiwrQ0FBK0MsT0FBTztBQUN0RCx1REFBdUQsT0FBTztBQUM5RCw2REFBNkQsT0FBTztBQUNwRSxxREFBcUQsT0FBTztBQUM1RCxpREFBaUQsT0FBTztBQUN4RCx5REFBeUQsT0FBTyxRQUFRLEdBQUc7QUFDM0UsaUVBQWlFLE9BQU8sYUFBYSxHQUFHO0FBQ3hGLHlFQUF5RSxPQUFPLGFBQWEsR0FBRztBQUNoRyx1RUFBdUUsT0FBTyxnQkFBZ0IsR0FBRztBQUNqRztBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNzRTtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsbUVBQWU7QUFDbkQsbUNBQW1DLG1FQUFlO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixzQ0FBc0M7QUFDakU7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLDJCQUEyQixrQ0FBa0M7QUFDN0QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLGFBQWEsMkJBQTJCO0FBQ3hDLEtBQUs7QUFD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QUNIO0FBQ0EseUJBQXlCLDBCQUEwQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixpREFBRztBQUNuQjtBQUNBO0FBQ0EsMEJBQTBCLGlEQUFHO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBhcmstdWkvZXhhbXBsZXMtcmVhY3QtbmV4dC1qcy8uL25vZGVfbW9kdWxlcy9AemFnLWpzL2ZpbGUtdXBsb2FkL2Rpc3QvaW5kZXgubWpzPzVkYzAiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2ZpbGUtdXBsb2FkLmFuYXRvbXkudHNcbmltcG9ydCB7IGNyZWF0ZUFuYXRvbXkgfSBmcm9tIFwiQHphZy1qcy9hbmF0b215XCI7XG52YXIgYW5hdG9teSA9IGNyZWF0ZUFuYXRvbXkoXCJmaWxlLXVwbG9hZFwiKS5wYXJ0cyhcbiAgXCJyb290XCIsXG4gIFwiZHJvcHpvbmVcIixcbiAgXCJpdGVtXCIsXG4gIFwiaXRlbURlbGV0ZVRyaWdnZXJcIixcbiAgXCJpdGVtR3JvdXBcIixcbiAgXCJpdGVtTmFtZVwiLFxuICBcIml0ZW1QcmV2aWV3XCIsXG4gIFwiaXRlbVByZXZpZXdJbWFnZVwiLFxuICBcIml0ZW1TaXplVGV4dFwiLFxuICBcImxhYmVsXCIsXG4gIFwidHJpZ2dlclwiXG4pO1xudmFyIHBhcnRzID0gYW5hdG9teS5idWlsZCgpO1xuXG4vLyBzcmMvZmlsZS11cGxvYWQuY29ubmVjdC50c1xuaW1wb3J0IHsgY29udGFpbnMsIGRhdGFBdHRyLCBpc1NlbGZFdmVudCB9IGZyb20gXCJAemFnLWpzL2RvbS1xdWVyeVwiO1xuaW1wb3J0IHsgZm9ybWF0RmlsZVNpemUgfSBmcm9tIFwiQHphZy1qcy9maWxlLXV0aWxzXCI7XG5pbXBvcnQgXCJAemFnLWpzL3R5cGVzXCI7XG5pbXBvcnQgeyB2aXN1YWxseUhpZGRlblN0eWxlIH0gZnJvbSBcIkB6YWctanMvdmlzdWFsbHktaGlkZGVuXCI7XG5cbi8vIHNyYy9maWxlLXVwbG9hZC5kb20udHNcbmltcG9ydCB7IGNyZWF0ZVNjb3BlIH0gZnJvbSBcIkB6YWctanMvZG9tLXF1ZXJ5XCI7XG52YXIgZG9tID0gY3JlYXRlU2NvcGUoe1xuICBnZXRSb290SWQ6IChjdHgpID0+IGN0eC5pZHM/LnJvb3QgPz8gYGZpbGU6JHtjdHguaWR9YCxcbiAgZ2V0RHJvcHpvbmVJZDogKGN0eCkgPT4gY3R4Lmlkcz8uZHJvcHpvbmUgPz8gYGZpbGU6JHtjdHguaWR9OmRyb3B6b25lYCxcbiAgZ2V0SGlkZGVuSW5wdXRJZDogKGN0eCkgPT4gY3R4Lmlkcz8uaGlkZGVuSW5wdXQgPz8gYGZpbGU6JHtjdHguaWR9OmlucHV0YCxcbiAgZ2V0VHJpZ2dlcklkOiAoY3R4KSA9PiBjdHguaWRzPy50cmlnZ2VyID8/IGBmaWxlOiR7Y3R4LmlkfTp0cmlnZ2VyYCxcbiAgZ2V0TGFiZWxJZDogKGN0eCkgPT4gY3R4Lmlkcz8ubGFiZWwgPz8gYGZpbGU6JHtjdHguaWR9OmxhYmVsYCxcbiAgZ2V0SXRlbUlkOiAoY3R4LCBpZCkgPT4gY3R4Lmlkcz8uaXRlbT8uKGlkKSA/PyBgZmlsZToke2N0eC5pZH06aXRlbToke2lkfWAsXG4gIGdldEl0ZW1OYW1lSWQ6IChjdHgsIGlkKSA9PiBjdHguaWRzPy5pdGVtTmFtZT8uKGlkKSA/PyBgZmlsZToke2N0eC5pZH06aXRlbS1uYW1lOiR7aWR9YCxcbiAgZ2V0SXRlbVNpemVUZXh0SWQ6IChjdHgsIGlkKSA9PiBjdHguaWRzPy5pdGVtU2l6ZVRleHQ/LihpZCkgPz8gYGZpbGU6JHtjdHguaWR9Oml0ZW0tc2l6ZToke2lkfWAsXG4gIGdldEl0ZW1QcmV2aWV3SWQ6IChjdHgsIGlkKSA9PiBjdHguaWRzPy5pdGVtUHJldmlldz8uKGlkKSA/PyBgZmlsZToke2N0eC5pZH06aXRlbS1wcmV2aWV3OiR7aWR9YCxcbiAgZ2V0SGlkZGVuSW5wdXRFbDogKGN0eCkgPT4gZG9tLmdldEJ5SWQoY3R4LCBkb20uZ2V0SGlkZGVuSW5wdXRJZChjdHgpKSxcbiAgZ2V0RHJvcHpvbmVFbDogKGN0eCkgPT4gZG9tLmdldEJ5SWQoY3R4LCBkb20uZ2V0RHJvcHpvbmVJZChjdHgpKVxufSk7XG5cbi8vIHNyYy9maWxlLXVwbG9hZC51dGlscy50c1xuaW1wb3J0IHsgaXNWYWxpZEZpbGVTaXplLCBpc1ZhbGlkRmlsZVR5cGUgfSBmcm9tIFwiQHphZy1qcy9maWxlLXV0aWxzXCI7XG5mdW5jdGlvbiBpc0V2ZW50V2l0aEZpbGVzKGV2ZW50KSB7XG4gIGlmICghZXZlbnQuZGF0YVRyYW5zZmVyKVxuICAgIHJldHVybiAhIWV2ZW50LnRhcmdldCAmJiBcImZpbGVzXCIgaW4gZXZlbnQudGFyZ2V0O1xuICByZXR1cm4gZXZlbnQuZGF0YVRyYW5zZmVyLnR5cGVzLnNvbWUoKHR5cGUpID0+IHtcbiAgICByZXR1cm4gdHlwZSA9PT0gXCJGaWxlc1wiIHx8IHR5cGUgPT09IFwiYXBwbGljYXRpb24veC1tb3otZmlsZVwiO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGlzRmlsZXNXaXRoaW5SYW5nZShjdHgsIGluY29taW5nQ291bnQpIHtcbiAgaWYgKCFjdHgubXVsdGlwbGUgJiYgaW5jb21pbmdDb3VudCA+IDEpXG4gICAgcmV0dXJuIGZhbHNlO1xuICBpZiAoIWN0eC5tdWx0aXBsZSAmJiBpbmNvbWluZ0NvdW50ICsgY3R4LmZpbGVzLmxlbmd0aCA9PT0gMilcbiAgICByZXR1cm4gdHJ1ZTtcbiAgaWYgKGluY29taW5nQ291bnQgKyBjdHguZmlsZXMubGVuZ3RoID4gY3R4Lm1heEZpbGVzKVxuICAgIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBnZXRGaWxlc0Zyb21FdmVudChjdHgsIGZpbGVzKSB7XG4gIGNvbnN0IGFjY2VwdGVkRmlsZXMgPSBbXTtcbiAgY29uc3QgcmVqZWN0ZWRGaWxlcyA9IFtdO1xuICBmaWxlcy5mb3JFYWNoKChmaWxlKSA9PiB7XG4gICAgY29uc3QgW2FjY2VwdGVkLCBhY2NlcHRFcnJvcl0gPSBpc1ZhbGlkRmlsZVR5cGUoZmlsZSwgY3R4LmFjY2VwdEF0dHIpO1xuICAgIGNvbnN0IFtzaXplTWF0Y2gsIHNpemVFcnJvcl0gPSBpc1ZhbGlkRmlsZVNpemUoZmlsZSwgY3R4Lm1pbkZpbGVTaXplLCBjdHgubWF4RmlsZVNpemUpO1xuICAgIGNvbnN0IHZhbGlkYXRlRXJyb3JzID0gY3R4LnZhbGlkYXRlPy4oZmlsZSk7XG4gICAgY29uc3QgdmFsaWQgPSB2YWxpZGF0ZUVycm9ycyA/IHZhbGlkYXRlRXJyb3JzLmxlbmd0aCA9PT0gMCA6IHRydWU7XG4gICAgaWYgKGFjY2VwdGVkICYmIHNpemVNYXRjaCAmJiB2YWxpZCkge1xuICAgICAgYWNjZXB0ZWRGaWxlcy5wdXNoKGZpbGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBlcnJvcnMgPSBbYWNjZXB0RXJyb3IsIHNpemVFcnJvcl07XG4gICAgICBpZiAoIXZhbGlkKVxuICAgICAgICBlcnJvcnMucHVzaCguLi52YWxpZGF0ZUVycm9ycyA/PyBbXSk7XG4gICAgICByZWplY3RlZEZpbGVzLnB1c2goeyBmaWxlLCBlcnJvcnM6IGVycm9ycy5maWx0ZXIoQm9vbGVhbikgfSk7XG4gICAgfVxuICB9KTtcbiAgaWYgKCFpc0ZpbGVzV2l0aGluUmFuZ2UoY3R4LCBhY2NlcHRlZEZpbGVzLmxlbmd0aCkpIHtcbiAgICBhY2NlcHRlZEZpbGVzLmZvckVhY2goKGZpbGUpID0+IHtcbiAgICAgIHJlamVjdGVkRmlsZXMucHVzaCh7IGZpbGUsIGVycm9yczogW1wiVE9PX01BTllfRklMRVNcIl0gfSk7XG4gICAgfSk7XG4gICAgYWNjZXB0ZWRGaWxlcy5zcGxpY2UoMCk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBhY2NlcHRlZEZpbGVzLFxuICAgIHJlamVjdGVkRmlsZXNcbiAgfTtcbn1cblxuLy8gc3JjL2ZpbGUtdXBsb2FkLmNvbm5lY3QudHNcbmZ1bmN0aW9uIGNvbm5lY3Qoc3RhdGUsIHNlbmQsIG5vcm1hbGl6ZSkge1xuICBjb25zdCBkaXNhYmxlZCA9IHN0YXRlLmNvbnRleHQuZGlzYWJsZWQ7XG4gIGNvbnN0IGFsbG93RHJvcCA9IHN0YXRlLmNvbnRleHQuYWxsb3dEcm9wO1xuICBjb25zdCB0cmFuc2xhdGlvbnMgPSBzdGF0ZS5jb250ZXh0LnRyYW5zbGF0aW9ucztcbiAgY29uc3QgaXNEcmFnZ2luZyA9IHN0YXRlLm1hdGNoZXMoXCJkcmFnZ2luZ1wiKTtcbiAgY29uc3QgaXNGb2N1c2VkID0gc3RhdGUubWF0Y2hlcyhcImZvY3VzZWRcIikgJiYgIWRpc2FibGVkO1xuICByZXR1cm4ge1xuICAgIGlzRHJhZ2dpbmcsXG4gICAgaXNGb2N1c2VkLFxuICAgIG9wZW4oKSB7XG4gICAgICBzZW5kKFwiT1BFTlwiKTtcbiAgICB9LFxuICAgIGRlbGV0ZUZpbGUoZmlsZSkge1xuICAgICAgc2VuZCh7IHR5cGU6IFwiRklMRS5ERUxFVEVcIiwgZmlsZSB9KTtcbiAgICB9LFxuICAgIGZpbGVzOiBzdGF0ZS5jb250ZXh0LmZpbGVzLFxuICAgIHNldEZpbGVzKGZpbGVzKSB7XG4gICAgICBjb25zdCBjb3VudCA9IGZpbGVzLmxlbmd0aDtcbiAgICAgIHNlbmQoeyB0eXBlOiBcIkZJTEVTLlNFVFwiLCBmaWxlcywgY291bnQgfSk7XG4gICAgfSxcbiAgICBjbGVhckZpbGVzKCkge1xuICAgICAgc2VuZCh7IHR5cGU6IFwiRklMRVMuQ0xFQVJcIiB9KTtcbiAgICB9LFxuICAgIGdldEZpbGVTaXplKGZpbGUpIHtcbiAgICAgIHJldHVybiBmb3JtYXRGaWxlU2l6ZShmaWxlLnNpemUsIHsgbG9jYWxlOiBzdGF0ZS5jb250ZXh0LmxvY2FsZSB9KTtcbiAgICB9LFxuICAgIGNyZWF0ZUZpbGVVcmwoZmlsZSwgY2IpIHtcbiAgICAgIGNvbnN0IHdpbiA9IGRvbS5nZXRXaW4oc3RhdGUuY29udGV4dCk7XG4gICAgICBjb25zdCB1cmwgPSB3aW4uVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcbiAgICAgIGNiKHVybCk7XG4gICAgICByZXR1cm4gKCkgPT4gd2luLlVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgICB9LFxuICAgIHJvb3RQcm9wczogbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgLi4ucGFydHMucm9vdC5hdHRycyxcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICBpZDogZG9tLmdldFJvb3RJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihkaXNhYmxlZCksXG4gICAgICBcImRhdGEtZHJhZ2dpbmdcIjogZGF0YUF0dHIoaXNEcmFnZ2luZylcbiAgICB9KSxcbiAgICBkcm9wem9uZVByb3BzOiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICAuLi5wYXJ0cy5kcm9wem9uZS5hdHRycyxcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICBpZDogZG9tLmdldERyb3B6b25lSWQoc3RhdGUuY29udGV4dCksXG4gICAgICB0YWJJbmRleDogZGlzYWJsZWQgPyB2b2lkIDAgOiAwLFxuICAgICAgXCJhcmlhLWRpc2FibGVkXCI6IGRpc2FibGVkLFxuICAgICAgXCJhcmlhLWludmFsaWRcIjogc3RhdGUuY29udGV4dC5pbnZhbGlkLFxuICAgICAgXCJkYXRhLWludmFsaWRcIjogZGF0YUF0dHIoc3RhdGUuY29udGV4dC5pbnZhbGlkKSxcbiAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihkaXNhYmxlZCksXG4gICAgICBcImRhdGEtZHJhZ2dpbmdcIjogZGF0YUF0dHIoaXNEcmFnZ2luZyksXG4gICAgICBvbktleURvd24oZXZlbnQpIHtcbiAgICAgICAgaWYgKCFpc1NlbGZFdmVudChldmVudCkpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoZXZlbnQua2V5ICE9PSBcIkVudGVyXCIgJiYgZXZlbnQua2V5ICE9PSBcIiBcIilcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIHNlbmQoeyB0eXBlOiBcIkRST1BaT05FLkNMSUNLXCIsIHNyYzogXCJrZXlkb3duXCIgfSk7XG4gICAgICB9LFxuICAgICAgb25DbGljayhldmVudCkge1xuICAgICAgICBjb25zdCBpc0xhYmVsID0gZXZlbnQuY3VycmVudFRhcmdldC5sb2NhbE5hbWUgPT09IFwibGFiZWxcIjtcbiAgICAgICAgaWYgKGlzTGFiZWwpXG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgc2VuZChcIkRST1BaT05FLkNMSUNLXCIpO1xuICAgICAgfSxcbiAgICAgIG9uRHJhZ092ZXIoZXZlbnQpIHtcbiAgICAgICAgaWYgKCFhbGxvd0Ryb3ApXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBldmVudC5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9IFwiY29weVwiO1xuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoYXNGaWxlcyA9IGlzRXZlbnRXaXRoRmlsZXMoZXZlbnQpO1xuICAgICAgICBpZiAoIWhhc0ZpbGVzKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgY291bnQgPSBldmVudC5kYXRhVHJhbnNmZXIuaXRlbXMubGVuZ3RoO1xuICAgICAgICBzZW5kKHsgdHlwZTogXCJEUk9QWk9ORS5EUkFHX09WRVJcIiwgY291bnQgfSk7XG4gICAgICB9LFxuICAgICAgb25EcmFnTGVhdmUoZXZlbnQpIHtcbiAgICAgICAgaWYgKCFhbGxvd0Ryb3AgfHwgZGlzYWJsZWQpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoY29udGFpbnMoZXZlbnQuY3VycmVudFRhcmdldCwgZXZlbnQucmVsYXRlZFRhcmdldCkpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBzZW5kKHsgdHlwZTogXCJEUk9QWk9ORS5EUkFHX0xFQVZFXCIgfSk7XG4gICAgICB9LFxuICAgICAgb25Ecm9wKGV2ZW50KSB7XG4gICAgICAgIGlmIChhbGxvd0Ryb3ApIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhhc0ZpbGVzID0gaXNFdmVudFdpdGhGaWxlcyhldmVudCk7XG4gICAgICAgIGlmIChkaXNhYmxlZCB8fCAhaGFzRmlsZXMpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBzZW5kKHsgdHlwZTogXCJEUk9QWk9ORS5EUk9QXCIsIGZpbGVzOiBBcnJheS5mcm9tKGV2ZW50LmRhdGFUcmFuc2Zlci5maWxlcykgfSk7XG4gICAgICB9LFxuICAgICAgb25Gb2N1cygpIHtcbiAgICAgICAgc2VuZChcIkRST1BaT05FLkZPQ1VTXCIpO1xuICAgICAgfSxcbiAgICAgIG9uQmx1cigpIHtcbiAgICAgICAgc2VuZChcIkRST1BaT05FLkJMVVJcIik7XG4gICAgICB9XG4gICAgfSksXG4gICAgdHJpZ2dlclByb3BzOiBub3JtYWxpemUuYnV0dG9uKHtcbiAgICAgIC4uLnBhcnRzLnRyaWdnZXIuYXR0cnMsXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgaWQ6IGRvbS5nZXRUcmlnZ2VySWQoc3RhdGUuY29udGV4dCksXG4gICAgICBkaXNhYmxlZCxcbiAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihkaXNhYmxlZCksXG4gICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgb25DbGljayhldmVudCkge1xuICAgICAgICBpZiAoZGlzYWJsZWQpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoY29udGFpbnMoZG9tLmdldERyb3B6b25lRWwoc3RhdGUuY29udGV4dCksIGV2ZW50LmN1cnJlbnRUYXJnZXQpKSB7XG4gICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgc2VuZChcIk9QRU5cIik7XG4gICAgICB9XG4gICAgfSksXG4gICAgaGlkZGVuSW5wdXRQcm9wczogbm9ybWFsaXplLmlucHV0KHtcbiAgICAgIGlkOiBkb20uZ2V0SGlkZGVuSW5wdXRJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIHRhYkluZGV4OiAtMSxcbiAgICAgIGRpc2FibGVkLFxuICAgICAgdHlwZTogXCJmaWxlXCIsXG4gICAgICBuYW1lOiBzdGF0ZS5jb250ZXh0Lm5hbWUsXG4gICAgICBhY2NlcHQ6IHN0YXRlLmNvbnRleHQuYWNjZXB0QXR0cixcbiAgICAgIG11bHRpcGxlOiBzdGF0ZS5jb250ZXh0Lm11bHRpcGxlIHx8IHN0YXRlLmNvbnRleHQubWF4RmlsZXMgPiAxLFxuICAgICAgb25DbGljayhldmVudCkge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZSA9IFwiXCI7XG4gICAgICB9LFxuICAgICAgb25DaGFuZ2UoZXZlbnQpIHtcbiAgICAgICAgaWYgKGRpc2FibGVkKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgeyBmaWxlcyB9ID0gZXZlbnQuY3VycmVudFRhcmdldDtcbiAgICAgICAgc2VuZCh7IHR5cGU6IFwiRklMRVMuU0VUXCIsIGZpbGVzOiBmaWxlcyA/IEFycmF5LmZyb20oZmlsZXMpIDogW10gfSk7XG4gICAgICB9LFxuICAgICAgc3R5bGU6IHZpc3VhbGx5SGlkZGVuU3R5bGVcbiAgICB9KSxcbiAgICBpdGVtR3JvdXBQcm9wczogbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgLi4ucGFydHMuaXRlbUdyb3VwLmF0dHJzLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihkaXNhYmxlZClcbiAgICB9KSxcbiAgICBnZXRJdGVtUHJvcHMocHJvcHMpIHtcbiAgICAgIGNvbnN0IHsgZmlsZSB9ID0gcHJvcHM7XG4gICAgICByZXR1cm4gbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgICAuLi5wYXJ0cy5pdGVtLmF0dHJzLFxuICAgICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgICBpZDogZG9tLmdldEl0ZW1JZChzdGF0ZS5jb250ZXh0LCBmaWxlLm5hbWUpLFxuICAgICAgICBcImRhdGEtZGlzYWJsZWRcIjogZGF0YUF0dHIoZGlzYWJsZWQpXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdldEl0ZW1OYW1lUHJvcHMocHJvcHMpIHtcbiAgICAgIGNvbnN0IHsgZmlsZSB9ID0gcHJvcHM7XG4gICAgICByZXR1cm4gbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgICAuLi5wYXJ0cy5pdGVtTmFtZS5hdHRycyxcbiAgICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgICAgaWQ6IGRvbS5nZXRJdGVtTmFtZUlkKHN0YXRlLmNvbnRleHQsIGZpbGUubmFtZSksXG4gICAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihkaXNhYmxlZClcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0SXRlbVNpemVUZXh0UHJvcHMocHJvcHMpIHtcbiAgICAgIGNvbnN0IHsgZmlsZSB9ID0gcHJvcHM7XG4gICAgICByZXR1cm4gbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgICAuLi5wYXJ0cy5pdGVtU2l6ZVRleHQuYXR0cnMsXG4gICAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICAgIGlkOiBkb20uZ2V0SXRlbVNpemVUZXh0SWQoc3RhdGUuY29udGV4dCwgZmlsZS5uYW1lKSxcbiAgICAgICAgXCJkYXRhLWRpc2FibGVkXCI6IGRhdGFBdHRyKGRpc2FibGVkKVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZXRJdGVtUHJldmlld1Byb3BzKHByb3BzKSB7XG4gICAgICBjb25zdCB7IGZpbGUgfSA9IHByb3BzO1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgICAgLi4ucGFydHMuaXRlbVByZXZpZXcuYXR0cnMsXG4gICAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICAgIGlkOiBkb20uZ2V0SXRlbVByZXZpZXdJZChzdGF0ZS5jb250ZXh0LCBmaWxlLm5hbWUpLFxuICAgICAgICBcImRhdGEtZGlzYWJsZWRcIjogZGF0YUF0dHIoZGlzYWJsZWQpXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdldEl0ZW1QcmV2aWV3SW1hZ2VQcm9wcyhwcm9wcykge1xuICAgICAgY29uc3QgeyBmaWxlLCB1cmwgfSA9IHByb3BzO1xuICAgICAgY29uc3QgaXNJbWFnZSA9IGZpbGUudHlwZS5zdGFydHNXaXRoKFwiaW1hZ2UvXCIpO1xuICAgICAgaWYgKCFpc0ltYWdlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlByZXZpZXcgSW1hZ2UgaXMgb25seSBzdXBwb3J0ZWQgZm9yIGltYWdlIGZpbGVzXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5vcm1hbGl6ZS5pbWcoe1xuICAgICAgICAuLi5wYXJ0cy5pdGVtUHJldmlld0ltYWdlLmF0dHJzLFxuICAgICAgICBhbHQ6IHRyYW5zbGF0aW9ucy5pdGVtUHJldmlldyhmaWxlKSxcbiAgICAgICAgc3JjOiB1cmwsXG4gICAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihkaXNhYmxlZClcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0SXRlbURlbGV0ZVRyaWdnZXJQcm9wcyhwcm9wcykge1xuICAgICAgY29uc3QgeyBmaWxlIH0gPSBwcm9wcztcbiAgICAgIHJldHVybiBub3JtYWxpemUuYnV0dG9uKHtcbiAgICAgICAgLi4ucGFydHMuaXRlbURlbGV0ZVRyaWdnZXIuYXR0cnMsXG4gICAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgIGRpc2FibGVkLFxuICAgICAgICBcImRhdGEtZGlzYWJsZWRcIjogZGF0YUF0dHIoZGlzYWJsZWQpLFxuICAgICAgICBcImFyaWEtbGFiZWxcIjogdHJhbnNsYXRpb25zLmRlbGV0ZUZpbGUoZmlsZSksXG4gICAgICAgIG9uQ2xpY2soKSB7XG4gICAgICAgICAgaWYgKGRpc2FibGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIkZJTEUuREVMRVRFXCIsIGZpbGUgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgbGFiZWxQcm9wczogbm9ybWFsaXplLmxhYmVsKHtcbiAgICAgIC4uLnBhcnRzLmxhYmVsLmF0dHJzLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIGlkOiBkb20uZ2V0TGFiZWxJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIGh0bWxGb3I6IGRvbS5nZXRIaWRkZW5JbnB1dElkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgXCJkYXRhLWRpc2FibGVkXCI6IGRhdGFBdHRyKGRpc2FibGVkKVxuICAgIH0pXG4gIH07XG59XG5cbi8vIHNyYy9maWxlLXVwbG9hZC5tYWNoaW5lLnRzXG5pbXBvcnQgeyBjcmVhdGVNYWNoaW5lLCBndWFyZHMsIHJlZiB9IGZyb20gXCJAemFnLWpzL2NvcmVcIjtcbmltcG9ydCB7IHJhZiB9IGZyb20gXCJAemFnLWpzL2RvbS1xdWVyeVwiO1xuaW1wb3J0IHsgZ2V0QWNjZXB0QXR0clN0cmluZywgaXNGaWxlRXF1YWwgfSBmcm9tIFwiQHphZy1qcy9maWxlLXV0aWxzXCI7XG5pbXBvcnQgeyBjb21wYWN0IH0gZnJvbSBcIkB6YWctanMvdXRpbHNcIjtcbnZhciB7IG5vdCB9ID0gZ3VhcmRzO1xuZnVuY3Rpb24gbWFjaGluZSh1c2VyQ29udGV4dCkge1xuICBjb25zdCBjdHggPSBjb21wYWN0KHVzZXJDb250ZXh0KTtcbiAgcmV0dXJuIGNyZWF0ZU1hY2hpbmUoXG4gICAge1xuICAgICAgaWQ6IFwiZmlsZXVwbG9hZFwiLFxuICAgICAgaW5pdGlhbDogXCJpZGxlXCIsXG4gICAgICBjb250ZXh0OiB7XG4gICAgICAgIG1pbkZpbGVTaXplOiAwLFxuICAgICAgICBtYXhGaWxlU2l6ZTogSW5maW5pdHksXG4gICAgICAgIG1heEZpbGVzOiAxLFxuICAgICAgICBhbGxvd0Ryb3A6IHRydWUsXG4gICAgICAgIC4uLmN0eCxcbiAgICAgICAgZmlsZXM6IHJlZihjdHguZmlsZXMgPz8gW10pLFxuICAgICAgICByZWplY3RlZEZpbGVzOiByZWYoW10pLFxuICAgICAgICBpbnZhbGlkOiBmYWxzZSxcbiAgICAgICAgdHJhbnNsYXRpb25zOiB7XG4gICAgICAgICAgaXRlbVByZXZpZXc6IChmaWxlKSA9PiBgcHJldmlldyBvZiAke2ZpbGUubmFtZX1gLFxuICAgICAgICAgIGRlbGV0ZUZpbGU6IChmaWxlKSA9PiBgZGVsZXRlIGZpbGUgJHtmaWxlLm5hbWV9YCxcbiAgICAgICAgICAuLi5jdHgudHJhbnNsYXRpb25zXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjb21wdXRlZDoge1xuICAgICAgICBhY2NlcHRBdHRyOiAoY3R4MikgPT4gZ2V0QWNjZXB0QXR0clN0cmluZyhjdHgyLmFjY2VwdCksXG4gICAgICAgIG11bHRpcGxlOiAoY3R4MikgPT4gY3R4Mi5tYXhGaWxlcyA+IDFcbiAgICAgIH0sXG4gICAgICBvbjoge1xuICAgICAgICBcIkZJTEVTLlNFVFwiOiB7XG4gICAgICAgICAgYWN0aW9uczogW1wic2V0RmlsZXNGcm9tRXZlbnRcIl1cbiAgICAgICAgfSxcbiAgICAgICAgXCJGSUxFLkRFTEVURVwiOiB7XG4gICAgICAgICAgYWN0aW9uczogW1wicmVtb3ZlRmlsZVwiXVxuICAgICAgICB9LFxuICAgICAgICBcIkZJTEVTLkNMRUFSXCI6IHtcbiAgICAgICAgICBhY3Rpb25zOiBbXCJjbGVhckZpbGVzXCJdXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBzdGF0ZXM6IHtcbiAgICAgICAgaWRsZToge1xuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBPUEVOOiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcIm9wZW5GaWxlUGlja2VyXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJEUk9QWk9ORS5DTElDS1wiOiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcIm9wZW5GaWxlUGlja2VyXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJEUk9QWk9ORS5GT0NVU1wiOiBcImZvY3VzZWRcIixcbiAgICAgICAgICAgIFwiRFJPUFpPTkUuRFJBR19PVkVSXCI6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGd1YXJkOiBub3QoXCJpc1dpdGhpblJhbmdlXCIpLFxuICAgICAgICAgICAgICAgIHRhcmdldDogXCJkcmFnZ2luZ1wiLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldEludmFsaWRcIl1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgeyB0YXJnZXQ6IFwiZHJhZ2dpbmdcIiB9XG4gICAgICAgICAgICBdXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBmb2N1c2VkOiB7XG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIFwiRFJPUFpPTkUuQkxVUlwiOiBcImlkbGVcIixcbiAgICAgICAgICAgIE9QRU46IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wib3BlbkZpbGVQaWNrZXJcIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIkRST1BaT05FLkNMSUNLXCI6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wib3BlbkZpbGVQaWNrZXJcIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIkRST1BaT05FLkRSQUdfT1ZFUlwiOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBndWFyZDogbm90KFwiaXNXaXRoaW5SYW5nZVwiKSxcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiZHJhZ2dpbmdcIixcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRJbnZhbGlkXCJdXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHsgdGFyZ2V0OiBcImRyYWdnaW5nXCIgfVxuICAgICAgICAgICAgXVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZHJhZ2dpbmc6IHtcbiAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgXCJEUk9QWk9ORS5EUk9QXCI6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcImlkbGVcIixcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wiY2xlYXJJbnZhbGlkXCIsIFwic2V0RmlsZXNGcm9tRXZlbnRcIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIkRST1BaT05FLkRSQUdfTEVBVkVcIjoge1xuICAgICAgICAgICAgICB0YXJnZXQ6IFwiaWRsZVwiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJjbGVhckludmFsaWRcIl1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIGd1YXJkczoge1xuICAgICAgICBpc1dpdGhpblJhbmdlOiAoY3R4MiwgZXZ0KSA9PiBpc0ZpbGVzV2l0aGluUmFuZ2UoY3R4MiwgZXZ0LmNvdW50KVxuICAgICAgfSxcbiAgICAgIGFjdGlvbnM6IHtcbiAgICAgICAgb3BlbkZpbGVQaWNrZXIoY3R4Mikge1xuICAgICAgICAgIHJhZigoKSA9PiB7XG4gICAgICAgICAgICBkb20uZ2V0SGlkZGVuSW5wdXRFbChjdHgyKT8uY2xpY2soKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0SW52YWxpZChjdHgyKSB7XG4gICAgICAgICAgY3R4Mi5pbnZhbGlkID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xlYXJJbnZhbGlkKGN0eDIpIHtcbiAgICAgICAgICBjdHgyLmludmFsaWQgPSBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0RmlsZXNGcm9tRXZlbnQoY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gZ2V0RmlsZXNGcm9tRXZlbnQoY3R4MiwgZXZ0LmZpbGVzKTtcbiAgICAgICAgICBjb25zdCB7IGFjY2VwdGVkRmlsZXMsIHJlamVjdGVkRmlsZXMgfSA9IHJlc3VsdDtcbiAgICAgICAgICBpZiAoY3R4Mi5tdWx0aXBsZSkge1xuICAgICAgICAgICAgY29uc3QgZmlsZXMgPSByZWYoWy4uLmN0eDIuZmlsZXMsIC4uLmFjY2VwdGVkRmlsZXNdKTtcbiAgICAgICAgICAgIHNldC5maWxlcyhjdHgyLCBmaWxlcywgcmVqZWN0ZWRGaWxlcyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChhY2NlcHRlZEZpbGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgZmlsZXMgPSByZWYoW2FjY2VwdGVkRmlsZXNbMF1dKTtcbiAgICAgICAgICAgIHNldC5maWxlcyhjdHgyLCBmaWxlcywgcmVqZWN0ZWRGaWxlcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICByZW1vdmVGaWxlKGN0eDIsIGV2dCkge1xuICAgICAgICAgIGNvbnN0IG5leHRGaWxlcyA9IGN0eDIuZmlsZXMuZmlsdGVyKChmaWxlKSA9PiBmaWxlICE9PSBldnQuZmlsZSk7XG4gICAgICAgICAgc2V0LmZpbGVzKGN0eDIsIG5leHRGaWxlcyk7XG4gICAgICAgIH0sXG4gICAgICAgIGNsZWFyRmlsZXMoY3R4Mikge1xuICAgICAgICAgIHNldC5maWxlcyhjdHgyLCBbXSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjb21wYXJlRm5zOiB7XG4gICAgICAgIGZpbGVzOiAoYSwgYikgPT4gYS5sZW5ndGggPT09IGIubGVuZ3RoICYmIGEuZXZlcnkoKGZpbGUsIGkpID0+IGlzRmlsZUVxdWFsKGZpbGUsIGJbaV0pKVxuICAgICAgfVxuICAgIH1cbiAgKTtcbn1cbnZhciBpbnZva2UgPSB7XG4gIGNoYW5nZTogKGN0eCkgPT4ge1xuICAgIGN0eC5vbkZpbGVzQ2hhbmdlPy4oe1xuICAgICAgYWNjZXB0ZWRGaWxlczogY3R4LmZpbGVzLFxuICAgICAgcmVqZWN0ZWRGaWxlczogY3R4LnJlamVjdGVkRmlsZXNcbiAgICB9KTtcbiAgfSxcbiAgYWNjZXB0OiAoY3R4KSA9PiB7XG4gICAgY3R4Lm9uRmlsZUFjY2VwdD8uKHsgZmlsZXM6IGN0eC5maWxlcyB9KTtcbiAgfSxcbiAgcmVqZWN0OiAoY3R4KSA9PiB7XG4gICAgY3R4Lm9uRmlsZVJlamVjdD8uKHsgZmlsZXM6IGN0eC5yZWplY3RlZEZpbGVzIH0pO1xuICB9XG59O1xudmFyIHNldCA9IHtcbiAgZmlsZXM6IChjdHgsIGFjY2VwdGVkRmlsZXMsIHJlamVjdGVkRmlsZXMpID0+IHtcbiAgICBjdHguZmlsZXMgPSByZWYoYWNjZXB0ZWRGaWxlcyk7XG4gICAgaW52b2tlLmFjY2VwdChjdHgpO1xuICAgIGlmIChyZWplY3RlZEZpbGVzKSB7XG4gICAgICBjdHgucmVqZWN0ZWRGaWxlcyA9IHJlZihyZWplY3RlZEZpbGVzKTtcbiAgICAgIGludm9rZS5yZWplY3QoY3R4KTtcbiAgICB9XG4gICAgaW52b2tlLmNoYW5nZShjdHgpO1xuICB9XG59O1xuZXhwb3J0IHtcbiAgYW5hdG9teSxcbiAgY29ubmVjdCxcbiAgbWFjaGluZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/file-upload/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/file-utils/dist/index.mjs":
/*!********************************************************!*\
  !*** ./node_modules/@zag-js/file-utils/dist/index.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   dataURItoBlob: () => (/* binding */ dataURItoBlob),\n/* harmony export */   downloadFile: () => (/* binding */ downloadFile),\n/* harmony export */   formatFileSize: () => (/* binding */ formatFileSize),\n/* harmony export */   getAcceptAttrString: () => (/* binding */ getAcceptAttrString),\n/* harmony export */   getFileDataUrl: () => (/* binding */ getFileDataUrl),\n/* harmony export */   getTotalFileSize: () => (/* binding */ getTotalFileSize),\n/* harmony export */   isFileEqual: () => (/* binding */ isFileEqual),\n/* harmony export */   isMSEdge: () => (/* binding */ isMSEdge),\n/* harmony export */   isValidFileSize: () => (/* binding */ isValidFileSize),\n/* harmony export */   isValidFileType: () => (/* binding */ isValidFileType)\n/* harmony export */ });\n// src/data-url-to-blob.ts\nfunction dataURItoBlob(uri) {\n  const binary = atob(uri.split(\",\")[1]);\n  const mimeString = uri.split(\",\")[0].split(\":\")[1].split(\";\")[0];\n  const buffer = new ArrayBuffer(binary.length);\n  const intArray = new Uint8Array(buffer);\n  for (let i = 0; i < binary.length; i++) {\n    intArray[i] = binary.charCodeAt(i);\n  }\n  return new Blob([buffer], { type: mimeString });\n}\n\n// src/download-file.ts\nfunction isMSEdge(win) {\n  return Boolean(win.navigator && win.navigator.msSaveOrOpenBlob);\n}\nfunction downloadFile(options) {\n  const { file, win, type, name } = options;\n  const doc = win.document;\n  const obj = typeof file === \"string\" ? new Blob([file], { type }) : file;\n  const fileName = typeof file === \"string\" ? name : file instanceof File ? file.name : void 0;\n  if (isMSEdge(win)) {\n    win.navigator.msSaveOrOpenBlob(obj, fileName || \"file-download\");\n    return;\n  }\n  const url = win.URL.createObjectURL(obj);\n  const anchor = doc.createElement(\"a\");\n  anchor.style.display = \"none\";\n  anchor.href = url;\n  anchor.rel = \"noopener\";\n  anchor.download = fileName || \"file-download\";\n  doc.documentElement.appendChild(anchor);\n  anchor.click();\n  setTimeout(() => {\n    win.URL.revokeObjectURL(url);\n    anchor.remove();\n  }, 0);\n}\n\n// src/format-file-size.ts\nvar SIZES = [\"B\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\nvar KILO = 1024;\nvar formatFileSize = (bytes, options = {}) => {\n  const { locale = \"en-US\" } = options;\n  if (bytes === 0)\n    return \"0 B\";\n  const i = Math.floor(Math.log(bytes) / Math.log(KILO));\n  const fileSize = bytes / Math.pow(KILO, i);\n  const formattedSize = new Intl.NumberFormat(locale).format(fileSize);\n  return `${formattedSize} ${SIZES[i]}`;\n};\n\n// src/get-accept-attr.ts\nfunction isMIMEType(v) {\n  return v === \"audio/*\" || v === \"video/*\" || v === \"image/*\" || v === \"text/*\" || /\\w+\\/[-+.\\w]+/g.test(v);\n}\nfunction isExt(v) {\n  return /^.*\\.[\\w]+$/.test(v);\n}\nfunction getAcceptAttrString(accept) {\n  if (!accept)\n    return;\n  if (typeof accept === \"string\")\n    return accept;\n  return Object.entries(accept).reduce((a, [mimeType, ext]) => [...a, mimeType, ...ext], []).filter((v) => isMIMEType(v) || isExt(v)).join(\",\");\n}\n\n// src/get-file-data-url.ts\nvar getFileDataUrl = async (file) => {\n  const reader = new FileReader();\n  return new Promise((resolve, reject) => {\n    reader.onerror = () => {\n      reader.abort();\n      reject(new Error(\"There was an error reading a file\"));\n    };\n    reader.onloadend = () => {\n      const { result } = reader;\n      if (result instanceof ArrayBuffer) {\n        reject(new Error(\"Expected DataURL as string from Blob/File, got ArrayBuffer\"));\n      } else {\n        resolve(result || void 0);\n      }\n    };\n    reader.readAsDataURL(file);\n  });\n};\n\n// src/get-total-file-size.ts\nvar getTotalFileSize = (files) => {\n  return files.reduce((acc, file) => acc + file.size, 0);\n};\n\n// src/is-file-equal.ts\nvar isFileEqual = (file1, file2) => {\n  return file1.name === file2.name && file1.size === file2.size && file1.type === file2.type;\n};\n\n// src/is-valid-file-size.ts\nvar isDefined = (v) => v !== void 0 && v !== null;\nfunction isValidFileSize(file, minSize, maxSize) {\n  if (isDefined(file.size)) {\n    if (isDefined(minSize) && isDefined(maxSize)) {\n      if (file.size > maxSize)\n        return [false, \"FILE_TOO_LARGE\"];\n      if (file.size < minSize)\n        return [false, \"FILE_TOO_SMALL\"];\n    } else if (isDefined(minSize) && file.size < minSize) {\n      return [false, \"FILE_TOO_SMALL\"];\n    } else if (isDefined(maxSize) && file.size > maxSize) {\n      return [false, \"FILE_TOO_LARGE\"];\n    }\n  }\n  return [true, null];\n}\n\n// src/is-valid-file-type.ts\nfunction isFileAccepted(file, accept) {\n  if (file && accept) {\n    const types = Array.isArray(accept) ? accept : accept.split(\",\");\n    const fileName = file.name || \"\";\n    const mimeType = (file.type || \"\").toLowerCase();\n    const baseMimeType = mimeType.replace(/\\/.*$/, \"\");\n    return types.some((type) => {\n      const validType = type.trim().toLowerCase();\n      if (validType.charAt(0) === \".\") {\n        return fileName.toLowerCase().endsWith(validType);\n      }\n      if (validType.endsWith(\"/*\")) {\n        return baseMimeType === validType.replace(/\\/.*$/, \"\");\n      }\n      return mimeType === validType;\n    });\n  }\n  return true;\n}\nfunction isValidFileType(file, accept) {\n  const isAcceptable = file.type === \"application/x-moz-file\" || isFileAccepted(file, accept);\n  return [isAcceptable, isAcceptable ? null : \"FILE_INVALID_TYPE\"];\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9maWxlLXV0aWxzL2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQ7QUFDN0Q7QUFDQTtBQUNBLGtCQUFrQixtQkFBbUI7QUFDckM7QUFDQTtBQUNBLDhCQUE4QixrQkFBa0I7QUFDaEQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsd0JBQXdCO0FBQ2xDO0FBQ0EsNERBQTRELE1BQU07QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDLFVBQVUsbUJBQW1CO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGVBQWUsRUFBRSxTQUFTO0FBQ3RDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxTQUFTO0FBQ3ZCO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFZRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBhcmstdWkvZXhhbXBsZXMtcmVhY3QtbmV4dC1qcy8uL25vZGVfbW9kdWxlcy9AemFnLWpzL2ZpbGUtdXRpbHMvZGlzdC9pbmRleC5tanM/MmU4MiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvZGF0YS11cmwtdG8tYmxvYi50c1xuZnVuY3Rpb24gZGF0YVVSSXRvQmxvYih1cmkpIHtcbiAgY29uc3QgYmluYXJ5ID0gYXRvYih1cmkuc3BsaXQoXCIsXCIpWzFdKTtcbiAgY29uc3QgbWltZVN0cmluZyA9IHVyaS5zcGxpdChcIixcIilbMF0uc3BsaXQoXCI6XCIpWzFdLnNwbGl0KFwiO1wiKVswXTtcbiAgY29uc3QgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKGJpbmFyeS5sZW5ndGgpO1xuICBjb25zdCBpbnRBcnJheSA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcik7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYmluYXJ5Lmxlbmd0aDsgaSsrKSB7XG4gICAgaW50QXJyYXlbaV0gPSBiaW5hcnkuY2hhckNvZGVBdChpKTtcbiAgfVxuICByZXR1cm4gbmV3IEJsb2IoW2J1ZmZlcl0sIHsgdHlwZTogbWltZVN0cmluZyB9KTtcbn1cblxuLy8gc3JjL2Rvd25sb2FkLWZpbGUudHNcbmZ1bmN0aW9uIGlzTVNFZGdlKHdpbikge1xuICByZXR1cm4gQm9vbGVhbih3aW4ubmF2aWdhdG9yICYmIHdpbi5uYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYik7XG59XG5mdW5jdGlvbiBkb3dubG9hZEZpbGUob3B0aW9ucykge1xuICBjb25zdCB7IGZpbGUsIHdpbiwgdHlwZSwgbmFtZSB9ID0gb3B0aW9ucztcbiAgY29uc3QgZG9jID0gd2luLmRvY3VtZW50O1xuICBjb25zdCBvYmogPSB0eXBlb2YgZmlsZSA9PT0gXCJzdHJpbmdcIiA/IG5ldyBCbG9iKFtmaWxlXSwgeyB0eXBlIH0pIDogZmlsZTtcbiAgY29uc3QgZmlsZU5hbWUgPSB0eXBlb2YgZmlsZSA9PT0gXCJzdHJpbmdcIiA/IG5hbWUgOiBmaWxlIGluc3RhbmNlb2YgRmlsZSA/IGZpbGUubmFtZSA6IHZvaWQgMDtcbiAgaWYgKGlzTVNFZGdlKHdpbikpIHtcbiAgICB3aW4ubmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2Iob2JqLCBmaWxlTmFtZSB8fCBcImZpbGUtZG93bmxvYWRcIik7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHVybCA9IHdpbi5VUkwuY3JlYXRlT2JqZWN0VVJMKG9iaik7XG4gIGNvbnN0IGFuY2hvciA9IGRvYy5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgYW5jaG9yLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgYW5jaG9yLmhyZWYgPSB1cmw7XG4gIGFuY2hvci5yZWwgPSBcIm5vb3BlbmVyXCI7XG4gIGFuY2hvci5kb3dubG9hZCA9IGZpbGVOYW1lIHx8IFwiZmlsZS1kb3dubG9hZFwiO1xuICBkb2MuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGFuY2hvcik7XG4gIGFuY2hvci5jbGljaygpO1xuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICB3aW4uVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xuICAgIGFuY2hvci5yZW1vdmUoKTtcbiAgfSwgMCk7XG59XG5cbi8vIHNyYy9mb3JtYXQtZmlsZS1zaXplLnRzXG52YXIgU0laRVMgPSBbXCJCXCIsIFwiS0JcIiwgXCJNQlwiLCBcIkdCXCIsIFwiVEJcIiwgXCJQQlwiLCBcIkVCXCIsIFwiWkJcIiwgXCJZQlwiXTtcbnZhciBLSUxPID0gMTAyNDtcbnZhciBmb3JtYXRGaWxlU2l6ZSA9IChieXRlcywgb3B0aW9ucyA9IHt9KSA9PiB7XG4gIGNvbnN0IHsgbG9jYWxlID0gXCJlbi1VU1wiIH0gPSBvcHRpb25zO1xuICBpZiAoYnl0ZXMgPT09IDApXG4gICAgcmV0dXJuIFwiMCBCXCI7XG4gIGNvbnN0IGkgPSBNYXRoLmZsb29yKE1hdGgubG9nKGJ5dGVzKSAvIE1hdGgubG9nKEtJTE8pKTtcbiAgY29uc3QgZmlsZVNpemUgPSBieXRlcyAvIE1hdGgucG93KEtJTE8sIGkpO1xuICBjb25zdCBmb3JtYXR0ZWRTaXplID0gbmV3IEludGwuTnVtYmVyRm9ybWF0KGxvY2FsZSkuZm9ybWF0KGZpbGVTaXplKTtcbiAgcmV0dXJuIGAke2Zvcm1hdHRlZFNpemV9ICR7U0laRVNbaV19YDtcbn07XG5cbi8vIHNyYy9nZXQtYWNjZXB0LWF0dHIudHNcbmZ1bmN0aW9uIGlzTUlNRVR5cGUodikge1xuICByZXR1cm4gdiA9PT0gXCJhdWRpby8qXCIgfHwgdiA9PT0gXCJ2aWRlby8qXCIgfHwgdiA9PT0gXCJpbWFnZS8qXCIgfHwgdiA9PT0gXCJ0ZXh0LypcIiB8fCAvXFx3K1xcL1stKy5cXHddKy9nLnRlc3Qodik7XG59XG5mdW5jdGlvbiBpc0V4dCh2KSB7XG4gIHJldHVybiAvXi4qXFwuW1xcd10rJC8udGVzdCh2KTtcbn1cbmZ1bmN0aW9uIGdldEFjY2VwdEF0dHJTdHJpbmcoYWNjZXB0KSB7XG4gIGlmICghYWNjZXB0KVxuICAgIHJldHVybjtcbiAgaWYgKHR5cGVvZiBhY2NlcHQgPT09IFwic3RyaW5nXCIpXG4gICAgcmV0dXJuIGFjY2VwdDtcbiAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKGFjY2VwdCkucmVkdWNlKChhLCBbbWltZVR5cGUsIGV4dF0pID0+IFsuLi5hLCBtaW1lVHlwZSwgLi4uZXh0XSwgW10pLmZpbHRlcigodikgPT4gaXNNSU1FVHlwZSh2KSB8fCBpc0V4dCh2KSkuam9pbihcIixcIik7XG59XG5cbi8vIHNyYy9nZXQtZmlsZS1kYXRhLXVybC50c1xudmFyIGdldEZpbGVEYXRhVXJsID0gYXN5bmMgKGZpbGUpID0+IHtcbiAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICByZWFkZXIub25lcnJvciA9ICgpID0+IHtcbiAgICAgIHJlYWRlci5hYm9ydCgpO1xuICAgICAgcmVqZWN0KG5ldyBFcnJvcihcIlRoZXJlIHdhcyBhbiBlcnJvciByZWFkaW5nIGEgZmlsZVwiKSk7XG4gICAgfTtcbiAgICByZWFkZXIub25sb2FkZW5kID0gKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlYWRlcjtcbiAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgICByZWplY3QobmV3IEVycm9yKFwiRXhwZWN0ZWQgRGF0YVVSTCBhcyBzdHJpbmcgZnJvbSBCbG9iL0ZpbGUsIGdvdCBBcnJheUJ1ZmZlclwiKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXNvbHZlKHJlc3VsdCB8fCB2b2lkIDApO1xuICAgICAgfVxuICAgIH07XG4gICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG4gIH0pO1xufTtcblxuLy8gc3JjL2dldC10b3RhbC1maWxlLXNpemUudHNcbnZhciBnZXRUb3RhbEZpbGVTaXplID0gKGZpbGVzKSA9PiB7XG4gIHJldHVybiBmaWxlcy5yZWR1Y2UoKGFjYywgZmlsZSkgPT4gYWNjICsgZmlsZS5zaXplLCAwKTtcbn07XG5cbi8vIHNyYy9pcy1maWxlLWVxdWFsLnRzXG52YXIgaXNGaWxlRXF1YWwgPSAoZmlsZTEsIGZpbGUyKSA9PiB7XG4gIHJldHVybiBmaWxlMS5uYW1lID09PSBmaWxlMi5uYW1lICYmIGZpbGUxLnNpemUgPT09IGZpbGUyLnNpemUgJiYgZmlsZTEudHlwZSA9PT0gZmlsZTIudHlwZTtcbn07XG5cbi8vIHNyYy9pcy12YWxpZC1maWxlLXNpemUudHNcbnZhciBpc0RlZmluZWQgPSAodikgPT4gdiAhPT0gdm9pZCAwICYmIHYgIT09IG51bGw7XG5mdW5jdGlvbiBpc1ZhbGlkRmlsZVNpemUoZmlsZSwgbWluU2l6ZSwgbWF4U2l6ZSkge1xuICBpZiAoaXNEZWZpbmVkKGZpbGUuc2l6ZSkpIHtcbiAgICBpZiAoaXNEZWZpbmVkKG1pblNpemUpICYmIGlzRGVmaW5lZChtYXhTaXplKSkge1xuICAgICAgaWYgKGZpbGUuc2l6ZSA+IG1heFNpemUpXG4gICAgICAgIHJldHVybiBbZmFsc2UsIFwiRklMRV9UT09fTEFSR0VcIl07XG4gICAgICBpZiAoZmlsZS5zaXplIDwgbWluU2l6ZSlcbiAgICAgICAgcmV0dXJuIFtmYWxzZSwgXCJGSUxFX1RPT19TTUFMTFwiXTtcbiAgICB9IGVsc2UgaWYgKGlzRGVmaW5lZChtaW5TaXplKSAmJiBmaWxlLnNpemUgPCBtaW5TaXplKSB7XG4gICAgICByZXR1cm4gW2ZhbHNlLCBcIkZJTEVfVE9PX1NNQUxMXCJdO1xuICAgIH0gZWxzZSBpZiAoaXNEZWZpbmVkKG1heFNpemUpICYmIGZpbGUuc2l6ZSA+IG1heFNpemUpIHtcbiAgICAgIHJldHVybiBbZmFsc2UsIFwiRklMRV9UT09fTEFSR0VcIl07XG4gICAgfVxuICB9XG4gIHJldHVybiBbdHJ1ZSwgbnVsbF07XG59XG5cbi8vIHNyYy9pcy12YWxpZC1maWxlLXR5cGUudHNcbmZ1bmN0aW9uIGlzRmlsZUFjY2VwdGVkKGZpbGUsIGFjY2VwdCkge1xuICBpZiAoZmlsZSAmJiBhY2NlcHQpIHtcbiAgICBjb25zdCB0eXBlcyA9IEFycmF5LmlzQXJyYXkoYWNjZXB0KSA/IGFjY2VwdCA6IGFjY2VwdC5zcGxpdChcIixcIik7XG4gICAgY29uc3QgZmlsZU5hbWUgPSBmaWxlLm5hbWUgfHwgXCJcIjtcbiAgICBjb25zdCBtaW1lVHlwZSA9IChmaWxlLnR5cGUgfHwgXCJcIikudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBiYXNlTWltZVR5cGUgPSBtaW1lVHlwZS5yZXBsYWNlKC9cXC8uKiQvLCBcIlwiKTtcbiAgICByZXR1cm4gdHlwZXMuc29tZSgodHlwZSkgPT4ge1xuICAgICAgY29uc3QgdmFsaWRUeXBlID0gdHlwZS50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmICh2YWxpZFR5cGUuY2hhckF0KDApID09PSBcIi5cIikge1xuICAgICAgICByZXR1cm4gZmlsZU5hbWUudG9Mb3dlckNhc2UoKS5lbmRzV2l0aCh2YWxpZFR5cGUpO1xuICAgICAgfVxuICAgICAgaWYgKHZhbGlkVHlwZS5lbmRzV2l0aChcIi8qXCIpKSB7XG4gICAgICAgIHJldHVybiBiYXNlTWltZVR5cGUgPT09IHZhbGlkVHlwZS5yZXBsYWNlKC9cXC8uKiQvLCBcIlwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtaW1lVHlwZSA9PT0gdmFsaWRUeXBlO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gaXNWYWxpZEZpbGVUeXBlKGZpbGUsIGFjY2VwdCkge1xuICBjb25zdCBpc0FjY2VwdGFibGUgPSBmaWxlLnR5cGUgPT09IFwiYXBwbGljYXRpb24veC1tb3otZmlsZVwiIHx8IGlzRmlsZUFjY2VwdGVkKGZpbGUsIGFjY2VwdCk7XG4gIHJldHVybiBbaXNBY2NlcHRhYmxlLCBpc0FjY2VwdGFibGUgPyBudWxsIDogXCJGSUxFX0lOVkFMSURfVFlQRVwiXTtcbn1cbmV4cG9ydCB7XG4gIGRhdGFVUkl0b0Jsb2IsXG4gIGRvd25sb2FkRmlsZSxcbiAgZm9ybWF0RmlsZVNpemUsXG4gIGdldEFjY2VwdEF0dHJTdHJpbmcsXG4gIGdldEZpbGVEYXRhVXJsLFxuICBnZXRUb3RhbEZpbGVTaXplLFxuICBpc0ZpbGVFcXVhbCxcbiAgaXNNU0VkZ2UsXG4gIGlzVmFsaWRGaWxlU2l6ZSxcbiAgaXNWYWxpZEZpbGVUeXBlXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/file-utils/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/form-utils/dist/index.mjs":
/*!********************************************************!*\
  !*** ./node_modules/@zag-js/form-utils/dist/index.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   dispatchInputCheckedEvent: () => (/* binding */ dispatchInputCheckedEvent),\n/* harmony export */   dispatchInputValueEvent: () => (/* binding */ dispatchInputValueEvent),\n/* harmony export */   getClosestForm: () => (/* binding */ getClosestForm),\n/* harmony export */   isNativeDisabled: () => (/* binding */ isNativeDisabled),\n/* harmony export */   setElementChecked: () => (/* binding */ setElementChecked),\n/* harmony export */   setElementValue: () => (/* binding */ setElementValue),\n/* harmony export */   trackFormControl: () => (/* binding */ trackFormControl)\n/* harmony export */ });\n/* harmony import */ var _zag_js_mutation_observer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/mutation-observer */ \"(ssr)/./node_modules/@zag-js/mutation-observer/dist/index.mjs\");\n// src/input-event.ts\nvar getWindow = (el) => el.ownerDocument.defaultView || window;\nfunction getDescriptor(el, options) {\n  const { type = \"HTMLInputElement\", property = \"value\" } = options;\n  const proto = getWindow(el)[type].prototype;\n  return Object.getOwnPropertyDescriptor(proto, property) ?? {};\n}\nfunction setElementValue(el, value, option = {}) {\n  const descriptor = getDescriptor(el, option);\n  descriptor.set?.call(el, value);\n}\nfunction setElementChecked(el, checked) {\n  const descriptor = getDescriptor(el, { type: \"HTMLInputElement\", property: \"checked\" });\n  descriptor.set?.call(el, checked);\n}\nfunction dispatchInputValueEvent(el, options) {\n  const { value, bubbles = true } = options;\n  if (!el)\n    return;\n  const win = getWindow(el);\n  if (!(el instanceof win.HTMLInputElement))\n    return;\n  setElementValue(el, `${value}`);\n  el.dispatchEvent(new win.Event(\"input\", { bubbles }));\n}\nfunction dispatchInputCheckedEvent(el, options) {\n  const { checked, bubbles = true } = options;\n  if (!el)\n    return;\n  const win = getWindow(el);\n  if (!(el instanceof win.HTMLInputElement))\n    return;\n  setElementChecked(el, checked);\n  el.dispatchEvent(new win.Event(\"click\", { bubbles }));\n  el.dispatchEvent(new win.Event(\"change\", { bubbles }));\n}\n\n// src/form.ts\n\nfunction getClosestForm(el) {\n  if (isFormElement(el))\n    return el.form;\n  else\n    return el.closest(\"form\");\n}\nfunction isFormElement(el) {\n  return el.matches(\"textarea, input, select, button\");\n}\nfunction trackFormReset(el, callback) {\n  if (!el)\n    return;\n  const form = getClosestForm(el);\n  form?.addEventListener(\"reset\", callback, { passive: true });\n  return () => {\n    form?.removeEventListener(\"reset\", callback);\n  };\n}\nfunction trackFieldsetDisabled(el, callback) {\n  const fieldset = el?.closest(\"fieldset\");\n  if (!fieldset)\n    return;\n  callback(fieldset.disabled);\n  return (0,_zag_js_mutation_observer__WEBPACK_IMPORTED_MODULE_0__.observeAttributes)(fieldset, [\"disabled\"], () => callback(fieldset.disabled));\n}\nfunction isNativeDisabled(el) {\n  return el.matches(\":disabled\");\n}\nfunction trackFormControl(el, options) {\n  if (!el)\n    return;\n  const { onFieldsetDisabledChange, onFormReset } = options;\n  const cleanups = [trackFormReset(el, onFormReset), trackFieldsetDisabled(el, onFieldsetDisabledChange)];\n  return () => {\n    cleanups.forEach((cleanup) => cleanup?.());\n  };\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9mb3JtLXV0aWxzL2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0EsVUFBVSxnREFBZ0Q7QUFDMUQ7QUFDQTtBQUNBO0FBQ0EsK0NBQStDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLCtDQUErQztBQUN4RjtBQUNBO0FBQ0E7QUFDQSxVQUFVLHdCQUF3QjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLE1BQU07QUFDL0IsNENBQTRDLFNBQVM7QUFDckQ7QUFDQTtBQUNBLFVBQVUsMEJBQTBCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxTQUFTO0FBQ3JELDZDQUE2QyxTQUFTO0FBQ3REOztBQUVBO0FBQzhEO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLGVBQWU7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyw0RUFBaUI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLHdDQUF3QztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBU0U7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL0BwYXJrLXVpL2V4YW1wbGVzLXJlYWN0LW5leHQtanMvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9mb3JtLXV0aWxzL2Rpc3QvaW5kZXgubWpzPzU1ZmEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2lucHV0LWV2ZW50LnRzXG52YXIgZ2V0V2luZG93ID0gKGVsKSA9PiBlbC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3IHx8IHdpbmRvdztcbmZ1bmN0aW9uIGdldERlc2NyaXB0b3IoZWwsIG9wdGlvbnMpIHtcbiAgY29uc3QgeyB0eXBlID0gXCJIVE1MSW5wdXRFbGVtZW50XCIsIHByb3BlcnR5ID0gXCJ2YWx1ZVwiIH0gPSBvcHRpb25zO1xuICBjb25zdCBwcm90byA9IGdldFdpbmRvdyhlbClbdHlwZV0ucHJvdG90eXBlO1xuICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwcm90bywgcHJvcGVydHkpID8/IHt9O1xufVxuZnVuY3Rpb24gc2V0RWxlbWVudFZhbHVlKGVsLCB2YWx1ZSwgb3B0aW9uID0ge30pIHtcbiAgY29uc3QgZGVzY3JpcHRvciA9IGdldERlc2NyaXB0b3IoZWwsIG9wdGlvbik7XG4gIGRlc2NyaXB0b3Iuc2V0Py5jYWxsKGVsLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiBzZXRFbGVtZW50Q2hlY2tlZChlbCwgY2hlY2tlZCkge1xuICBjb25zdCBkZXNjcmlwdG9yID0gZ2V0RGVzY3JpcHRvcihlbCwgeyB0eXBlOiBcIkhUTUxJbnB1dEVsZW1lbnRcIiwgcHJvcGVydHk6IFwiY2hlY2tlZFwiIH0pO1xuICBkZXNjcmlwdG9yLnNldD8uY2FsbChlbCwgY2hlY2tlZCk7XG59XG5mdW5jdGlvbiBkaXNwYXRjaElucHV0VmFsdWVFdmVudChlbCwgb3B0aW9ucykge1xuICBjb25zdCB7IHZhbHVlLCBidWJibGVzID0gdHJ1ZSB9ID0gb3B0aW9ucztcbiAgaWYgKCFlbClcbiAgICByZXR1cm47XG4gIGNvbnN0IHdpbiA9IGdldFdpbmRvdyhlbCk7XG4gIGlmICghKGVsIGluc3RhbmNlb2Ygd2luLkhUTUxJbnB1dEVsZW1lbnQpKVxuICAgIHJldHVybjtcbiAgc2V0RWxlbWVudFZhbHVlKGVsLCBgJHt2YWx1ZX1gKTtcbiAgZWwuZGlzcGF0Y2hFdmVudChuZXcgd2luLkV2ZW50KFwiaW5wdXRcIiwgeyBidWJibGVzIH0pKTtcbn1cbmZ1bmN0aW9uIGRpc3BhdGNoSW5wdXRDaGVja2VkRXZlbnQoZWwsIG9wdGlvbnMpIHtcbiAgY29uc3QgeyBjaGVja2VkLCBidWJibGVzID0gdHJ1ZSB9ID0gb3B0aW9ucztcbiAgaWYgKCFlbClcbiAgICByZXR1cm47XG4gIGNvbnN0IHdpbiA9IGdldFdpbmRvdyhlbCk7XG4gIGlmICghKGVsIGluc3RhbmNlb2Ygd2luLkhUTUxJbnB1dEVsZW1lbnQpKVxuICAgIHJldHVybjtcbiAgc2V0RWxlbWVudENoZWNrZWQoZWwsIGNoZWNrZWQpO1xuICBlbC5kaXNwYXRjaEV2ZW50KG5ldyB3aW4uRXZlbnQoXCJjbGlja1wiLCB7IGJ1YmJsZXMgfSkpO1xuICBlbC5kaXNwYXRjaEV2ZW50KG5ldyB3aW4uRXZlbnQoXCJjaGFuZ2VcIiwgeyBidWJibGVzIH0pKTtcbn1cblxuLy8gc3JjL2Zvcm0udHNcbmltcG9ydCB7IG9ic2VydmVBdHRyaWJ1dGVzIH0gZnJvbSBcIkB6YWctanMvbXV0YXRpb24tb2JzZXJ2ZXJcIjtcbmZ1bmN0aW9uIGdldENsb3Nlc3RGb3JtKGVsKSB7XG4gIGlmIChpc0Zvcm1FbGVtZW50KGVsKSlcbiAgICByZXR1cm4gZWwuZm9ybTtcbiAgZWxzZVxuICAgIHJldHVybiBlbC5jbG9zZXN0KFwiZm9ybVwiKTtcbn1cbmZ1bmN0aW9uIGlzRm9ybUVsZW1lbnQoZWwpIHtcbiAgcmV0dXJuIGVsLm1hdGNoZXMoXCJ0ZXh0YXJlYSwgaW5wdXQsIHNlbGVjdCwgYnV0dG9uXCIpO1xufVxuZnVuY3Rpb24gdHJhY2tGb3JtUmVzZXQoZWwsIGNhbGxiYWNrKSB7XG4gIGlmICghZWwpXG4gICAgcmV0dXJuO1xuICBjb25zdCBmb3JtID0gZ2V0Q2xvc2VzdEZvcm0oZWwpO1xuICBmb3JtPy5hZGRFdmVudExpc3RlbmVyKFwicmVzZXRcIiwgY2FsbGJhY2ssIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBmb3JtPy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzZXRcIiwgY2FsbGJhY2spO1xuICB9O1xufVxuZnVuY3Rpb24gdHJhY2tGaWVsZHNldERpc2FibGVkKGVsLCBjYWxsYmFjaykge1xuICBjb25zdCBmaWVsZHNldCA9IGVsPy5jbG9zZXN0KFwiZmllbGRzZXRcIik7XG4gIGlmICghZmllbGRzZXQpXG4gICAgcmV0dXJuO1xuICBjYWxsYmFjayhmaWVsZHNldC5kaXNhYmxlZCk7XG4gIHJldHVybiBvYnNlcnZlQXR0cmlidXRlcyhmaWVsZHNldCwgW1wiZGlzYWJsZWRcIl0sICgpID0+IGNhbGxiYWNrKGZpZWxkc2V0LmRpc2FibGVkKSk7XG59XG5mdW5jdGlvbiBpc05hdGl2ZURpc2FibGVkKGVsKSB7XG4gIHJldHVybiBlbC5tYXRjaGVzKFwiOmRpc2FibGVkXCIpO1xufVxuZnVuY3Rpb24gdHJhY2tGb3JtQ29udHJvbChlbCwgb3B0aW9ucykge1xuICBpZiAoIWVsKVxuICAgIHJldHVybjtcbiAgY29uc3QgeyBvbkZpZWxkc2V0RGlzYWJsZWRDaGFuZ2UsIG9uRm9ybVJlc2V0IH0gPSBvcHRpb25zO1xuICBjb25zdCBjbGVhbnVwcyA9IFt0cmFja0Zvcm1SZXNldChlbCwgb25Gb3JtUmVzZXQpLCB0cmFja0ZpZWxkc2V0RGlzYWJsZWQoZWwsIG9uRmllbGRzZXREaXNhYmxlZENoYW5nZSldO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGNsZWFudXBzLmZvckVhY2goKGNsZWFudXApID0+IGNsZWFudXA/LigpKTtcbiAgfTtcbn1cbmV4cG9ydCB7XG4gIGRpc3BhdGNoSW5wdXRDaGVja2VkRXZlbnQsXG4gIGRpc3BhdGNoSW5wdXRWYWx1ZUV2ZW50LFxuICBnZXRDbG9zZXN0Rm9ybSxcbiAgaXNOYXRpdmVEaXNhYmxlZCxcbiAgc2V0RWxlbWVudENoZWNrZWQsXG4gIHNldEVsZW1lbnRWYWx1ZSxcbiAgdHJhY2tGb3JtQ29udHJvbFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/form-utils/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/hover-card/dist/index.mjs":
/*!********************************************************!*\
  !*** ./node_modules/@zag-js/hover-card/dist/index.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   anatomy: () => (/* binding */ anatomy),\n/* harmony export */   connect: () => (/* binding */ connect),\n/* harmony export */   machine: () => (/* binding */ machine)\n/* harmony export */ });\n/* harmony import */ var _zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/anatomy */ \"(ssr)/./node_modules/@zag-js/anatomy/dist/index.mjs\");\n/* harmony import */ var _zag_js_popper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @zag-js/popper */ \"(ssr)/./node_modules/@zag-js/popper/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @zag-js/dom-query */ \"(ssr)/./node_modules/@zag-js/dom-query/dist/index.mjs\");\n/* harmony import */ var _zag_js_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @zag-js/core */ \"(ssr)/./node_modules/@zag-js/core/dist/index.mjs\");\n/* harmony import */ var _zag_js_dismissable__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @zag-js/dismissable */ \"(ssr)/./node_modules/@zag-js/dismissable/dist/index.mjs\");\n/* harmony import */ var _zag_js_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @zag-js/utils */ \"(ssr)/./node_modules/@zag-js/utils/dist/index.mjs\");\n// src/hover-card.anatomy.ts\n\nvar anatomy = (0,_zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__.createAnatomy)(\"hoverCard\").parts(\"arrow\", \"arrowTip\", \"trigger\", \"positioner\", \"content\");\nvar parts = anatomy.build();\n\n// src/hover-card.connect.ts\n\n\n// src/hover-card.dom.ts\n\nvar dom = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.createScope)({\n  getTriggerId: (ctx) => ctx.ids?.trigger ?? `hover-card:${ctx.id}:trigger`,\n  getContentId: (ctx) => ctx.ids?.content ?? `hover-card:${ctx.id}:content`,\n  getPositionerId: (ctx) => ctx.ids?.positioner ?? `hover-card:${ctx.id}:popper`,\n  getArrowId: (ctx) => ctx.ids?.arrow ?? `hover-card:${ctx.id}:arrow`,\n  getTriggerEl: (ctx) => dom.getById(ctx, dom.getTriggerId(ctx)),\n  getContentEl: (ctx) => dom.getById(ctx, dom.getContentId(ctx)),\n  getPositionerEl: (ctx) => dom.getById(ctx, dom.getPositionerId(ctx))\n});\n\n// src/hover-card.connect.ts\nfunction connect(state, send, normalize) {\n  const isOpen = state.hasTag(\"open\");\n  const popperStyles = (0,_zag_js_popper__WEBPACK_IMPORTED_MODULE_2__.getPlacementStyles)({\n    ...state.context.positioning,\n    placement: state.context.currentPlacement\n  });\n  return {\n    isOpen,\n    open() {\n      send(\"OPEN\");\n    },\n    close() {\n      send(\"CLOSE\");\n    },\n    reposition(options = {}) {\n      send({ type: \"SET_POSITIONING\", options });\n    },\n    arrowProps: normalize.element({\n      id: dom.getArrowId(state.context),\n      ...parts.arrow.attrs,\n      dir: state.context.dir,\n      style: popperStyles.arrow\n    }),\n    arrowTipProps: normalize.element({\n      ...parts.arrowTip.attrs,\n      dir: state.context.dir,\n      style: popperStyles.arrowTip\n    }),\n    triggerProps: normalize.element({\n      ...parts.trigger.attrs,\n      dir: state.context.dir,\n      \"data-placement\": state.context.currentPlacement,\n      id: dom.getTriggerId(state.context),\n      \"data-state\": isOpen ? \"open\" : \"closed\",\n      onPointerEnter(event) {\n        if (event.pointerType === \"touch\")\n          return;\n        send({ type: \"POINTER_ENTER\", src: \"trigger\" });\n      },\n      onPointerLeave(event) {\n        if (event.pointerType === \"touch\")\n          return;\n        send({ type: \"POINTER_LEAVE\", src: \"trigger\" });\n      },\n      onFocus() {\n        send(\"TRIGGER_FOCUS\");\n      },\n      onBlur() {\n        send(\"TRIGGER_BLUR\");\n      },\n      onTouchStart(event) {\n        event.preventDefault();\n      }\n    }),\n    positionerProps: normalize.element({\n      id: dom.getPositionerId(state.context),\n      ...parts.positioner.attrs,\n      dir: state.context.dir,\n      style: popperStyles.floating\n    }),\n    contentProps: normalize.element({\n      ...parts.content.attrs,\n      dir: state.context.dir,\n      id: dom.getContentId(state.context),\n      hidden: !isOpen,\n      \"data-state\": isOpen ? \"open\" : \"closed\",\n      \"data-placement\": state.context.currentPlacement,\n      onPointerEnter(event) {\n        if (event.pointerType === \"touch\")\n          return;\n        send({ type: \"POINTER_ENTER\", src: \"content\" });\n      },\n      onPointerLeave(event) {\n        if (event.pointerType === \"touch\")\n          return;\n        send({ type: \"POINTER_LEAVE\", src: \"content\" });\n      }\n    })\n  };\n}\n\n// src/hover-card.machine.ts\n\n\n\n\nvar { not } = _zag_js_core__WEBPACK_IMPORTED_MODULE_3__.guards;\nfunction machine(userContext) {\n  const ctx = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_4__.compact)(userContext);\n  return (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_3__.createMachine)(\n    {\n      id: \"hover-card\",\n      initial: ctx.open ? \"open\" : \"closed\",\n      context: {\n        openDelay: 700,\n        closeDelay: 300,\n        currentPlacement: void 0,\n        ...ctx,\n        positioning: {\n          placement: \"bottom\",\n          ...ctx.positioning\n        }\n      },\n      watch: {\n        open: [\"toggleVisibility\"]\n      },\n      states: {\n        closed: {\n          tags: [\"closed\"],\n          entry: [\"clearIsPointer\"],\n          on: {\n            POINTER_ENTER: {\n              target: \"opening\",\n              actions: [\"setIsPointer\"]\n            },\n            TRIGGER_FOCUS: \"opening\",\n            OPEN: \"opening\"\n          }\n        },\n        opening: {\n          tags: [\"closed\"],\n          after: {\n            OPEN_DELAY: {\n              target: \"open\",\n              actions: [\"invokeOnOpen\"]\n            }\n          },\n          on: {\n            POINTER_LEAVE: {\n              target: \"closed\",\n              actions: [\"invokeOnClose\"]\n            },\n            TRIGGER_BLUR: {\n              guard: not(\"isPointer\"),\n              target: \"closed\",\n              actions: [\"invokeOnClose\"]\n            },\n            CLOSE: {\n              target: \"closed\",\n              actions: [\"invokeOnClose\"]\n            }\n          }\n        },\n        open: {\n          tags: [\"open\"],\n          activities: [\"trackDismissableElement\", \"trackPositioning\"],\n          on: {\n            POINTER_ENTER: {\n              actions: [\"setIsPointer\"]\n            },\n            POINTER_LEAVE: \"closing\",\n            DISMISS: {\n              target: \"closed\",\n              actions: [\"invokeOnClose\"]\n            },\n            CLOSE: {\n              target: \"closed\",\n              actions: [\"invokeOnClose\"]\n            },\n            TRIGGER_BLUR: {\n              guard: not(\"isPointer\"),\n              target: \"closed\",\n              actions: [\"invokeOnClose\"]\n            },\n            SET_POSITIONING: {\n              actions: \"reposition\"\n            }\n          }\n        },\n        closing: {\n          tags: [\"open\"],\n          activities: [\"trackPositioning\"],\n          after: {\n            CLOSE_DELAY: {\n              target: \"closed\",\n              actions: [\"invokeOnClose\"]\n            }\n          },\n          on: {\n            POINTER_ENTER: {\n              target: \"open\",\n              // no need to invokeOnOpen here because it's still open (but about to close)\n              actions: [\"setIsPointer\"]\n            }\n          }\n        }\n      }\n    },\n    {\n      guards: {\n        isPointer: (ctx2) => !!ctx2.isPointer\n      },\n      activities: {\n        trackPositioning(ctx2) {\n          ctx2.currentPlacement = ctx2.positioning.placement;\n          const getPositionerEl = () => dom.getPositionerEl(ctx2);\n          return (0,_zag_js_popper__WEBPACK_IMPORTED_MODULE_2__.getPlacement)(dom.getTriggerEl(ctx2), getPositionerEl, {\n            ...ctx2.positioning,\n            defer: true,\n            onComplete(data) {\n              ctx2.currentPlacement = data.placement;\n            },\n            onCleanup() {\n              ctx2.currentPlacement = void 0;\n            }\n          });\n        },\n        trackDismissableElement(ctx2, _evt, { send }) {\n          const getContentEl = () => dom.getContentEl(ctx2);\n          return (0,_zag_js_dismissable__WEBPACK_IMPORTED_MODULE_5__.trackDismissableElement)(getContentEl, {\n            defer: true,\n            exclude: [dom.getTriggerEl(ctx2)],\n            onDismiss() {\n              send({ type: \"DISMISS\" });\n            },\n            onFocusOutside(event) {\n              event.preventDefault();\n            }\n          });\n        }\n      },\n      actions: {\n        invokeOnClose(ctx2) {\n          ctx2.onOpenChange?.({ open: false });\n        },\n        invokeOnOpen(ctx2) {\n          ctx2.onOpenChange?.({ open: true });\n        },\n        setIsPointer(ctx2) {\n          ctx2.isPointer = true;\n        },\n        clearIsPointer(ctx2) {\n          ctx2.isPointer = false;\n        },\n        reposition(ctx2, evt) {\n          const getPositionerEl = () => dom.getPositionerEl(ctx2);\n          (0,_zag_js_popper__WEBPACK_IMPORTED_MODULE_2__.getPlacement)(dom.getTriggerEl(ctx2), getPositionerEl, {\n            ...ctx2.positioning,\n            ...evt.options,\n            defer: true,\n            listeners: false,\n            onComplete(data) {\n              ctx2.currentPlacement = data.placement;\n            }\n          });\n        },\n        toggleVisibility(ctx2, _evt, { send }) {\n          send({ type: ctx2.open ? \"OPEN\" : \"CLOSE\", src: \"controlled\" });\n        }\n      },\n      delays: {\n        OPEN_DELAY: (ctx2) => ctx2.openDelay,\n        CLOSE_DELAY: (ctx2) => ctx2.closeDelay\n      }\n    }\n  );\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9ob3Zlci1jYXJkL2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBQ2dEO0FBQ2hELGNBQWMsOERBQWE7QUFDM0I7O0FBRUE7QUFDb0Q7O0FBRXBEO0FBQ2dEO0FBQ2hELFVBQVUsOERBQVc7QUFDckIsMkRBQTJELE9BQU87QUFDbEUsMkRBQTJELE9BQU87QUFDbEUsaUVBQWlFLE9BQU87QUFDeEUsdURBQXVELE9BQU87QUFDOUQ7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsa0VBQWtCO0FBQ3pDO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTCwyQkFBMkI7QUFDM0IsYUFBYSxrQ0FBa0M7QUFDL0MsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSx1Q0FBdUM7QUFDdEQsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLGVBQWUsdUNBQXVDO0FBQ3RELE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHVDQUF1QztBQUN0RCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsZUFBZSx1Q0FBdUM7QUFDdEQ7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNxRDtBQUNTO0FBQ2hCO0FBQ047QUFDeEMsTUFBTSxNQUFNLEVBQUUsZ0RBQU07QUFDcEI7QUFDQSxjQUFjLHNEQUFPO0FBQ3JCLFNBQVMsMkRBQWE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiw0REFBWTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNULDhDQUE4QyxNQUFNO0FBQ3BEO0FBQ0EsaUJBQWlCLDRFQUF1QjtBQUN4QztBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsaUJBQWlCO0FBQ3RDLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLGdDQUFnQyxhQUFhO0FBQzdDLFNBQVM7QUFDVDtBQUNBLGdDQUFnQyxZQUFZO0FBQzVDLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFVBQVUsNERBQVk7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNULHVDQUF1QyxNQUFNO0FBQzdDLGlCQUFpQix1REFBdUQ7QUFDeEU7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBhcmstdWkvZXhhbXBsZXMtcmVhY3QtbmV4dC1qcy8uL25vZGVfbW9kdWxlcy9AemFnLWpzL2hvdmVyLWNhcmQvZGlzdC9pbmRleC5tanM/Nzk2YSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvaG92ZXItY2FyZC5hbmF0b215LnRzXG5pbXBvcnQgeyBjcmVhdGVBbmF0b215IH0gZnJvbSBcIkB6YWctanMvYW5hdG9teVwiO1xudmFyIGFuYXRvbXkgPSBjcmVhdGVBbmF0b215KFwiaG92ZXJDYXJkXCIpLnBhcnRzKFwiYXJyb3dcIiwgXCJhcnJvd1RpcFwiLCBcInRyaWdnZXJcIiwgXCJwb3NpdGlvbmVyXCIsIFwiY29udGVudFwiKTtcbnZhciBwYXJ0cyA9IGFuYXRvbXkuYnVpbGQoKTtcblxuLy8gc3JjL2hvdmVyLWNhcmQuY29ubmVjdC50c1xuaW1wb3J0IHsgZ2V0UGxhY2VtZW50U3R5bGVzIH0gZnJvbSBcIkB6YWctanMvcG9wcGVyXCI7XG5cbi8vIHNyYy9ob3Zlci1jYXJkLmRvbS50c1xuaW1wb3J0IHsgY3JlYXRlU2NvcGUgfSBmcm9tIFwiQHphZy1qcy9kb20tcXVlcnlcIjtcbnZhciBkb20gPSBjcmVhdGVTY29wZSh7XG4gIGdldFRyaWdnZXJJZDogKGN0eCkgPT4gY3R4Lmlkcz8udHJpZ2dlciA/PyBgaG92ZXItY2FyZDoke2N0eC5pZH06dHJpZ2dlcmAsXG4gIGdldENvbnRlbnRJZDogKGN0eCkgPT4gY3R4Lmlkcz8uY29udGVudCA/PyBgaG92ZXItY2FyZDoke2N0eC5pZH06Y29udGVudGAsXG4gIGdldFBvc2l0aW9uZXJJZDogKGN0eCkgPT4gY3R4Lmlkcz8ucG9zaXRpb25lciA/PyBgaG92ZXItY2FyZDoke2N0eC5pZH06cG9wcGVyYCxcbiAgZ2V0QXJyb3dJZDogKGN0eCkgPT4gY3R4Lmlkcz8uYXJyb3cgPz8gYGhvdmVyLWNhcmQ6JHtjdHguaWR9OmFycm93YCxcbiAgZ2V0VHJpZ2dlckVsOiAoY3R4KSA9PiBkb20uZ2V0QnlJZChjdHgsIGRvbS5nZXRUcmlnZ2VySWQoY3R4KSksXG4gIGdldENvbnRlbnRFbDogKGN0eCkgPT4gZG9tLmdldEJ5SWQoY3R4LCBkb20uZ2V0Q29udGVudElkKGN0eCkpLFxuICBnZXRQb3NpdGlvbmVyRWw6IChjdHgpID0+IGRvbS5nZXRCeUlkKGN0eCwgZG9tLmdldFBvc2l0aW9uZXJJZChjdHgpKVxufSk7XG5cbi8vIHNyYy9ob3Zlci1jYXJkLmNvbm5lY3QudHNcbmZ1bmN0aW9uIGNvbm5lY3Qoc3RhdGUsIHNlbmQsIG5vcm1hbGl6ZSkge1xuICBjb25zdCBpc09wZW4gPSBzdGF0ZS5oYXNUYWcoXCJvcGVuXCIpO1xuICBjb25zdCBwb3BwZXJTdHlsZXMgPSBnZXRQbGFjZW1lbnRTdHlsZXMoe1xuICAgIC4uLnN0YXRlLmNvbnRleHQucG9zaXRpb25pbmcsXG4gICAgcGxhY2VtZW50OiBzdGF0ZS5jb250ZXh0LmN1cnJlbnRQbGFjZW1lbnRcbiAgfSk7XG4gIHJldHVybiB7XG4gICAgaXNPcGVuLFxuICAgIG9wZW4oKSB7XG4gICAgICBzZW5kKFwiT1BFTlwiKTtcbiAgICB9LFxuICAgIGNsb3NlKCkge1xuICAgICAgc2VuZChcIkNMT1NFXCIpO1xuICAgIH0sXG4gICAgcmVwb3NpdGlvbihvcHRpb25zID0ge30pIHtcbiAgICAgIHNlbmQoeyB0eXBlOiBcIlNFVF9QT1NJVElPTklOR1wiLCBvcHRpb25zIH0pO1xuICAgIH0sXG4gICAgYXJyb3dQcm9wczogbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgaWQ6IGRvbS5nZXRBcnJvd0lkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgLi4ucGFydHMuYXJyb3cuYXR0cnMsXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgc3R5bGU6IHBvcHBlclN0eWxlcy5hcnJvd1xuICAgIH0pLFxuICAgIGFycm93VGlwUHJvcHM6IG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgIC4uLnBhcnRzLmFycm93VGlwLmF0dHJzLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIHN0eWxlOiBwb3BwZXJTdHlsZXMuYXJyb3dUaXBcbiAgICB9KSxcbiAgICB0cmlnZ2VyUHJvcHM6IG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgIC4uLnBhcnRzLnRyaWdnZXIuYXR0cnMsXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgXCJkYXRhLXBsYWNlbWVudFwiOiBzdGF0ZS5jb250ZXh0LmN1cnJlbnRQbGFjZW1lbnQsXG4gICAgICBpZDogZG9tLmdldFRyaWdnZXJJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIFwiZGF0YS1zdGF0ZVwiOiBpc09wZW4gPyBcIm9wZW5cIiA6IFwiY2xvc2VkXCIsXG4gICAgICBvblBvaW50ZXJFbnRlcihldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09IFwidG91Y2hcIilcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIHNlbmQoeyB0eXBlOiBcIlBPSU5URVJfRU5URVJcIiwgc3JjOiBcInRyaWdnZXJcIiB9KTtcbiAgICAgIH0sXG4gICAgICBvblBvaW50ZXJMZWF2ZShldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09IFwidG91Y2hcIilcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIHNlbmQoeyB0eXBlOiBcIlBPSU5URVJfTEVBVkVcIiwgc3JjOiBcInRyaWdnZXJcIiB9KTtcbiAgICAgIH0sXG4gICAgICBvbkZvY3VzKCkge1xuICAgICAgICBzZW5kKFwiVFJJR0dFUl9GT0NVU1wiKTtcbiAgICAgIH0sXG4gICAgICBvbkJsdXIoKSB7XG4gICAgICAgIHNlbmQoXCJUUklHR0VSX0JMVVJcIik7XG4gICAgICB9LFxuICAgICAgb25Ub3VjaFN0YXJ0KGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgfSksXG4gICAgcG9zaXRpb25lclByb3BzOiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICBpZDogZG9tLmdldFBvc2l0aW9uZXJJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIC4uLnBhcnRzLnBvc2l0aW9uZXIuYXR0cnMsXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgc3R5bGU6IHBvcHBlclN0eWxlcy5mbG9hdGluZ1xuICAgIH0pLFxuICAgIGNvbnRlbnRQcm9wczogbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgLi4ucGFydHMuY29udGVudC5hdHRycyxcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICBpZDogZG9tLmdldENvbnRlbnRJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIGhpZGRlbjogIWlzT3BlbixcbiAgICAgIFwiZGF0YS1zdGF0ZVwiOiBpc09wZW4gPyBcIm9wZW5cIiA6IFwiY2xvc2VkXCIsXG4gICAgICBcImRhdGEtcGxhY2VtZW50XCI6IHN0YXRlLmNvbnRleHQuY3VycmVudFBsYWNlbWVudCxcbiAgICAgIG9uUG9pbnRlckVudGVyKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gXCJ0b3VjaFwiKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgc2VuZCh7IHR5cGU6IFwiUE9JTlRFUl9FTlRFUlwiLCBzcmM6IFwiY29udGVudFwiIH0pO1xuICAgICAgfSxcbiAgICAgIG9uUG9pbnRlckxlYXZlKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gXCJ0b3VjaFwiKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgc2VuZCh7IHR5cGU6IFwiUE9JTlRFUl9MRUFWRVwiLCBzcmM6IFwiY29udGVudFwiIH0pO1xuICAgICAgfVxuICAgIH0pXG4gIH07XG59XG5cbi8vIHNyYy9ob3Zlci1jYXJkLm1hY2hpbmUudHNcbmltcG9ydCB7IGNyZWF0ZU1hY2hpbmUsIGd1YXJkcyB9IGZyb20gXCJAemFnLWpzL2NvcmVcIjtcbmltcG9ydCB7IHRyYWNrRGlzbWlzc2FibGVFbGVtZW50IH0gZnJvbSBcIkB6YWctanMvZGlzbWlzc2FibGVcIjtcbmltcG9ydCB7IGdldFBsYWNlbWVudCB9IGZyb20gXCJAemFnLWpzL3BvcHBlclwiO1xuaW1wb3J0IHsgY29tcGFjdCB9IGZyb20gXCJAemFnLWpzL3V0aWxzXCI7XG52YXIgeyBub3QgfSA9IGd1YXJkcztcbmZ1bmN0aW9uIG1hY2hpbmUodXNlckNvbnRleHQpIHtcbiAgY29uc3QgY3R4ID0gY29tcGFjdCh1c2VyQ29udGV4dCk7XG4gIHJldHVybiBjcmVhdGVNYWNoaW5lKFxuICAgIHtcbiAgICAgIGlkOiBcImhvdmVyLWNhcmRcIixcbiAgICAgIGluaXRpYWw6IGN0eC5vcGVuID8gXCJvcGVuXCIgOiBcImNsb3NlZFwiLFxuICAgICAgY29udGV4dDoge1xuICAgICAgICBvcGVuRGVsYXk6IDcwMCxcbiAgICAgICAgY2xvc2VEZWxheTogMzAwLFxuICAgICAgICBjdXJyZW50UGxhY2VtZW50OiB2b2lkIDAsXG4gICAgICAgIC4uLmN0eCxcbiAgICAgICAgcG9zaXRpb25pbmc6IHtcbiAgICAgICAgICBwbGFjZW1lbnQ6IFwiYm90dG9tXCIsXG4gICAgICAgICAgLi4uY3R4LnBvc2l0aW9uaW5nXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB3YXRjaDoge1xuICAgICAgICBvcGVuOiBbXCJ0b2dnbGVWaXNpYmlsaXR5XCJdXG4gICAgICB9LFxuICAgICAgc3RhdGVzOiB7XG4gICAgICAgIGNsb3NlZDoge1xuICAgICAgICAgIHRhZ3M6IFtcImNsb3NlZFwiXSxcbiAgICAgICAgICBlbnRyeTogW1wiY2xlYXJJc1BvaW50ZXJcIl0sXG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIFBPSU5URVJfRU5URVI6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcIm9wZW5pbmdcIixcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wic2V0SXNQb2ludGVyXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgVFJJR0dFUl9GT0NVUzogXCJvcGVuaW5nXCIsXG4gICAgICAgICAgICBPUEVOOiBcIm9wZW5pbmdcIlxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb3BlbmluZzoge1xuICAgICAgICAgIHRhZ3M6IFtcImNsb3NlZFwiXSxcbiAgICAgICAgICBhZnRlcjoge1xuICAgICAgICAgICAgT1BFTl9ERUxBWToge1xuICAgICAgICAgICAgICB0YXJnZXQ6IFwib3BlblwiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJpbnZva2VPbk9wZW5cIl1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBQT0lOVEVSX0xFQVZFOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJjbG9zZWRcIixcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wiaW52b2tlT25DbG9zZVwiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFRSSUdHRVJfQkxVUjoge1xuICAgICAgICAgICAgICBndWFyZDogbm90KFwiaXNQb2ludGVyXCIpLFxuICAgICAgICAgICAgICB0YXJnZXQ6IFwiY2xvc2VkXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcImludm9rZU9uQ2xvc2VcIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBDTE9TRToge1xuICAgICAgICAgICAgICB0YXJnZXQ6IFwiY2xvc2VkXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcImludm9rZU9uQ2xvc2VcIl1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9wZW46IHtcbiAgICAgICAgICB0YWdzOiBbXCJvcGVuXCJdLFxuICAgICAgICAgIGFjdGl2aXRpZXM6IFtcInRyYWNrRGlzbWlzc2FibGVFbGVtZW50XCIsIFwidHJhY2tQb3NpdGlvbmluZ1wiXSxcbiAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgUE9JTlRFUl9FTlRFUjoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRJc1BvaW50ZXJcIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBQT0lOVEVSX0xFQVZFOiBcImNsb3NpbmdcIixcbiAgICAgICAgICAgIERJU01JU1M6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcImNsb3NlZFwiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJpbnZva2VPbkNsb3NlXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgQ0xPU0U6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcImNsb3NlZFwiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJpbnZva2VPbkNsb3NlXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgVFJJR0dFUl9CTFVSOiB7XG4gICAgICAgICAgICAgIGd1YXJkOiBub3QoXCJpc1BvaW50ZXJcIiksXG4gICAgICAgICAgICAgIHRhcmdldDogXCJjbG9zZWRcIixcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wiaW52b2tlT25DbG9zZVwiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFNFVF9QT1NJVElPTklORzoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBcInJlcG9zaXRpb25cIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY2xvc2luZzoge1xuICAgICAgICAgIHRhZ3M6IFtcIm9wZW5cIl0sXG4gICAgICAgICAgYWN0aXZpdGllczogW1widHJhY2tQb3NpdGlvbmluZ1wiXSxcbiAgICAgICAgICBhZnRlcjoge1xuICAgICAgICAgICAgQ0xPU0VfREVMQVk6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcImNsb3NlZFwiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJpbnZva2VPbkNsb3NlXCJdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgUE9JTlRFUl9FTlRFUjoge1xuICAgICAgICAgICAgICB0YXJnZXQ6IFwib3BlblwiLFxuICAgICAgICAgICAgICAvLyBubyBuZWVkIHRvIGludm9rZU9uT3BlbiBoZXJlIGJlY2F1c2UgaXQncyBzdGlsbCBvcGVuIChidXQgYWJvdXQgdG8gY2xvc2UpXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldElzUG9pbnRlclwiXVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgZ3VhcmRzOiB7XG4gICAgICAgIGlzUG9pbnRlcjogKGN0eDIpID0+ICEhY3R4Mi5pc1BvaW50ZXJcbiAgICAgIH0sXG4gICAgICBhY3Rpdml0aWVzOiB7XG4gICAgICAgIHRyYWNrUG9zaXRpb25pbmcoY3R4Mikge1xuICAgICAgICAgIGN0eDIuY3VycmVudFBsYWNlbWVudCA9IGN0eDIucG9zaXRpb25pbmcucGxhY2VtZW50O1xuICAgICAgICAgIGNvbnN0IGdldFBvc2l0aW9uZXJFbCA9ICgpID0+IGRvbS5nZXRQb3NpdGlvbmVyRWwoY3R4Mik7XG4gICAgICAgICAgcmV0dXJuIGdldFBsYWNlbWVudChkb20uZ2V0VHJpZ2dlckVsKGN0eDIpLCBnZXRQb3NpdGlvbmVyRWwsIHtcbiAgICAgICAgICAgIC4uLmN0eDIucG9zaXRpb25pbmcsXG4gICAgICAgICAgICBkZWZlcjogdHJ1ZSxcbiAgICAgICAgICAgIG9uQ29tcGxldGUoZGF0YSkge1xuICAgICAgICAgICAgICBjdHgyLmN1cnJlbnRQbGFjZW1lbnQgPSBkYXRhLnBsYWNlbWVudDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkNsZWFudXAoKSB7XG4gICAgICAgICAgICAgIGN0eDIuY3VycmVudFBsYWNlbWVudCA9IHZvaWQgMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgdHJhY2tEaXNtaXNzYWJsZUVsZW1lbnQoY3R4MiwgX2V2dCwgeyBzZW5kIH0pIHtcbiAgICAgICAgICBjb25zdCBnZXRDb250ZW50RWwgPSAoKSA9PiBkb20uZ2V0Q29udGVudEVsKGN0eDIpO1xuICAgICAgICAgIHJldHVybiB0cmFja0Rpc21pc3NhYmxlRWxlbWVudChnZXRDb250ZW50RWwsIHtcbiAgICAgICAgICAgIGRlZmVyOiB0cnVlLFxuICAgICAgICAgICAgZXhjbHVkZTogW2RvbS5nZXRUcmlnZ2VyRWwoY3R4MildLFxuICAgICAgICAgICAgb25EaXNtaXNzKCkge1xuICAgICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJESVNNSVNTXCIgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25Gb2N1c091dHNpZGUoZXZlbnQpIHtcbiAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGFjdGlvbnM6IHtcbiAgICAgICAgaW52b2tlT25DbG9zZShjdHgyKSB7XG4gICAgICAgICAgY3R4Mi5vbk9wZW5DaGFuZ2U/Lih7IG9wZW46IGZhbHNlIH0pO1xuICAgICAgICB9LFxuICAgICAgICBpbnZva2VPbk9wZW4oY3R4Mikge1xuICAgICAgICAgIGN0eDIub25PcGVuQ2hhbmdlPy4oeyBvcGVuOiB0cnVlIH0pO1xuICAgICAgICB9LFxuICAgICAgICBzZXRJc1BvaW50ZXIoY3R4Mikge1xuICAgICAgICAgIGN0eDIuaXNQb2ludGVyID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xlYXJJc1BvaW50ZXIoY3R4Mikge1xuICAgICAgICAgIGN0eDIuaXNQb2ludGVyID0gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIHJlcG9zaXRpb24oY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgY29uc3QgZ2V0UG9zaXRpb25lckVsID0gKCkgPT4gZG9tLmdldFBvc2l0aW9uZXJFbChjdHgyKTtcbiAgICAgICAgICBnZXRQbGFjZW1lbnQoZG9tLmdldFRyaWdnZXJFbChjdHgyKSwgZ2V0UG9zaXRpb25lckVsLCB7XG4gICAgICAgICAgICAuLi5jdHgyLnBvc2l0aW9uaW5nLFxuICAgICAgICAgICAgLi4uZXZ0Lm9wdGlvbnMsXG4gICAgICAgICAgICBkZWZlcjogdHJ1ZSxcbiAgICAgICAgICAgIGxpc3RlbmVyczogZmFsc2UsXG4gICAgICAgICAgICBvbkNvbXBsZXRlKGRhdGEpIHtcbiAgICAgICAgICAgICAgY3R4Mi5jdXJyZW50UGxhY2VtZW50ID0gZGF0YS5wbGFjZW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHRvZ2dsZVZpc2liaWxpdHkoY3R4MiwgX2V2dCwgeyBzZW5kIH0pIHtcbiAgICAgICAgICBzZW5kKHsgdHlwZTogY3R4Mi5vcGVuID8gXCJPUEVOXCIgOiBcIkNMT1NFXCIsIHNyYzogXCJjb250cm9sbGVkXCIgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBkZWxheXM6IHtcbiAgICAgICAgT1BFTl9ERUxBWTogKGN0eDIpID0+IGN0eDIub3BlbkRlbGF5LFxuICAgICAgICBDTE9TRV9ERUxBWTogKGN0eDIpID0+IGN0eDIuY2xvc2VEZWxheVxuICAgICAgfVxuICAgIH1cbiAgKTtcbn1cbmV4cG9ydCB7XG4gIGFuYXRvbXksXG4gIGNvbm5lY3QsXG4gIG1hY2hpbmVcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/hover-card/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/interact-outside/dist/index.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@zag-js/interact-outside/dist/index.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   trackInteractOutside: () => (/* binding */ trackInteractOutside)\n/* harmony export */ });\n/* harmony import */ var _zag_js_dom_event__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @zag-js/dom-event */ \"(ssr)/./node_modules/@zag-js/dom-event/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/dom-query */ \"(ssr)/./node_modules/@zag-js/dom-query/dist/index.mjs\");\n/* harmony import */ var _zag_js_tabbable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @zag-js/tabbable */ \"(ssr)/./node_modules/@zag-js/tabbable/dist/index.mjs\");\n/* harmony import */ var _zag_js_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @zag-js/utils */ \"(ssr)/./node_modules/@zag-js/utils/dist/index.mjs\");\n// src/index.ts\n\n\n\n\n\n// src/get-window-frames.ts\nfunction getWindowFrames(win) {\n  const frames = {\n    each(cb) {\n      for (let i = 0; i < win.frames?.length; i += 1) {\n        const frame = win.frames[i];\n        if (frame)\n          cb(frame);\n      }\n    },\n    addEventListener(event, listener, options) {\n      frames.each((frame) => {\n        try {\n          frame.document.addEventListener(event, listener, options);\n        } catch {\n        }\n      });\n      return () => {\n        try {\n          frames.removeEventListener(event, listener, options);\n        } catch {\n        }\n      };\n    },\n    removeEventListener(event, listener, options) {\n      frames.each((frame) => {\n        try {\n          frame.document.removeEventListener(event, listener, options);\n        } catch {\n        }\n      });\n    }\n  };\n  return frames;\n}\n\n// src/index.ts\nvar POINTER_OUTSIDE_EVENT = \"pointerdown.outside\";\nvar FOCUS_OUTSIDE_EVENT = \"focus.outside\";\nfunction isComposedPathFocusable(event) {\n  const composedPath = event.composedPath() ?? [event.target];\n  for (const node of composedPath) {\n    if ((0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_0__.isHTMLElement)(node) && (0,_zag_js_tabbable__WEBPACK_IMPORTED_MODULE_1__.isFocusable)(node))\n      return true;\n  }\n  return false;\n}\nvar isPointerEvent = (event) => \"clientY\" in event;\nfunction isEventPointWithin(node, event) {\n  if (!isPointerEvent(event) || !node)\n    return false;\n  const rect = node.getBoundingClientRect();\n  if (rect.width === 0 || rect.height === 0)\n    return false;\n  return rect.top <= event.clientY && event.clientY <= rect.top + rect.height && rect.left <= event.clientX && event.clientX <= rect.left + rect.width;\n}\nfunction trackInteractOutsideImpl(node, options) {\n  const { exclude, onFocusOutside, onPointerDownOutside, onInteractOutside } = options;\n  if (!node)\n    return;\n  const doc = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_0__.getDocument)(node);\n  const win = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_0__.getWindow)(node);\n  const frames = getWindowFrames(win);\n  function isEventOutside(event) {\n    const target = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_0__.getEventTarget)(event);\n    if (!(0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_0__.isHTMLElement)(target))\n      return false;\n    if ((0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_0__.contains)(node, target))\n      return false;\n    if (isEventPointWithin(node, event))\n      return false;\n    return !exclude?.(target);\n  }\n  let clickHandler;\n  function onPointerDown(event) {\n    function handler() {\n      if (!node || !isEventOutside(event))\n        return;\n      if (onPointerDownOutside || onInteractOutside) {\n        const handler2 = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.callAll)(onPointerDownOutside, onInteractOutside);\n        node.addEventListener(POINTER_OUTSIDE_EVENT, handler2, { once: true });\n      }\n      (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_3__.fireCustomEvent)(node, POINTER_OUTSIDE_EVENT, {\n        bubbles: false,\n        cancelable: true,\n        detail: {\n          originalEvent: event,\n          contextmenu: (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_3__.isContextMenuEvent)(event),\n          focusable: isComposedPathFocusable(event)\n        }\n      });\n    }\n    if (event.pointerType === \"touch\") {\n      frames.removeEventListener(\"click\", handler);\n      doc.removeEventListener(\"click\", handler);\n      clickHandler = handler;\n      doc.addEventListener(\"click\", handler, { once: true });\n      frames.addEventListener(\"click\", handler, { once: true });\n    } else {\n      handler();\n    }\n  }\n  const cleanups = /* @__PURE__ */ new Set();\n  const timer = setTimeout(() => {\n    cleanups.add(frames.addEventListener(\"pointerdown\", onPointerDown, true));\n    cleanups.add((0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_3__.addDomEvent)(doc, \"pointerdown\", onPointerDown, true));\n  }, 0);\n  function onFocusin(event) {\n    if (!node || !isEventOutside(event))\n      return;\n    if (onFocusOutside || onInteractOutside) {\n      const handler = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.callAll)(onFocusOutside, onInteractOutside);\n      node.addEventListener(FOCUS_OUTSIDE_EVENT, handler, { once: true });\n    }\n    (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_3__.fireCustomEvent)(node, FOCUS_OUTSIDE_EVENT, {\n      bubbles: false,\n      cancelable: true,\n      detail: {\n        originalEvent: event,\n        contextmenu: false,\n        focusable: (0,_zag_js_tabbable__WEBPACK_IMPORTED_MODULE_1__.isFocusable)((0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_0__.getEventTarget)(event))\n      }\n    });\n  }\n  cleanups.add((0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_3__.addDomEvent)(doc, \"focusin\", onFocusin, true));\n  cleanups.add(frames.addEventListener(\"focusin\", onFocusin, true));\n  return () => {\n    clearTimeout(timer);\n    if (clickHandler) {\n      frames.removeEventListener(\"click\", clickHandler);\n      doc.removeEventListener(\"click\", clickHandler);\n    }\n    cleanups.forEach((fn) => fn());\n  };\n}\nfunction trackInteractOutside(nodeOrFn, options) {\n  const { defer } = options;\n  const func = defer ? _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_0__.raf : (v) => v();\n  const cleanups = [];\n  cleanups.push(\n    func(() => {\n      const node = typeof nodeOrFn === \"function\" ? nodeOrFn() : nodeOrFn;\n      cleanups.push(trackInteractOutsideImpl(node, options));\n    })\n  );\n  return () => {\n    cleanups.forEach((fn) => fn?.());\n  };\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9pbnRlcmFjdC1vdXRzaWRlL2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDcUY7QUFDb0I7QUFDMUQ7QUFDUDs7QUFFeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isd0JBQXdCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsZ0VBQWEsVUFBVSw2REFBVztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxtRUFBbUU7QUFDN0U7QUFDQTtBQUNBLGNBQWMsOERBQVc7QUFDekIsY0FBYyw0REFBUztBQUN2QjtBQUNBO0FBQ0EsbUJBQW1CLGlFQUFjO0FBQ2pDLFNBQVMsZ0VBQWE7QUFDdEI7QUFDQSxRQUFRLDJEQUFRO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsc0RBQU87QUFDaEMsaUVBQWlFLFlBQVk7QUFDN0U7QUFDQSxNQUFNLGtFQUFlO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHFFQUFrQjtBQUN6QztBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsWUFBWTtBQUMzRCxrREFBa0QsWUFBWTtBQUM5RCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDhEQUFXO0FBQzVCLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixzREFBTztBQUM3Qiw0REFBNEQsWUFBWTtBQUN4RTtBQUNBLElBQUksa0VBQWU7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiw2REFBVyxDQUFDLGlFQUFjO0FBQzdDO0FBQ0EsS0FBSztBQUNMO0FBQ0EsZUFBZSw4REFBVztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxRQUFRO0FBQ2xCLHVCQUF1QixrREFBRztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBhcmstdWkvZXhhbXBsZXMtcmVhY3QtbmV4dC1qcy8uL25vZGVfbW9kdWxlcy9AemFnLWpzL2ludGVyYWN0LW91dHNpZGUvZGlzdC9pbmRleC5tanM/YWQ5MSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvaW5kZXgudHNcbmltcG9ydCB7IGFkZERvbUV2ZW50LCBmaXJlQ3VzdG9tRXZlbnQsIGlzQ29udGV4dE1lbnVFdmVudCB9IGZyb20gXCJAemFnLWpzL2RvbS1ldmVudFwiO1xuaW1wb3J0IHsgY29udGFpbnMsIGdldERvY3VtZW50LCBnZXRFdmVudFRhcmdldCwgZ2V0V2luZG93LCBpc0hUTUxFbGVtZW50LCByYWYgfSBmcm9tIFwiQHphZy1qcy9kb20tcXVlcnlcIjtcbmltcG9ydCB7IGlzRm9jdXNhYmxlIH0gZnJvbSBcIkB6YWctanMvdGFiYmFibGVcIjtcbmltcG9ydCB7IGNhbGxBbGwgfSBmcm9tIFwiQHphZy1qcy91dGlsc1wiO1xuXG4vLyBzcmMvZ2V0LXdpbmRvdy1mcmFtZXMudHNcbmZ1bmN0aW9uIGdldFdpbmRvd0ZyYW1lcyh3aW4pIHtcbiAgY29uc3QgZnJhbWVzID0ge1xuICAgIGVhY2goY2IpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd2luLmZyYW1lcz8ubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgY29uc3QgZnJhbWUgPSB3aW4uZnJhbWVzW2ldO1xuICAgICAgICBpZiAoZnJhbWUpXG4gICAgICAgICAgY2IoZnJhbWUpO1xuICAgICAgfVxuICAgIH0sXG4gICAgYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcbiAgICAgIGZyYW1lcy5lYWNoKChmcmFtZSkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGZyYW1lLmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyLCBvcHRpb25zKTtcbiAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmcmFtZXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIsIG9wdGlvbnMpO1xuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9LFxuICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG4gICAgICBmcmFtZXMuZWFjaCgoZnJhbWUpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmcmFtZS5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lciwgb3B0aW9ucyk7XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBmcmFtZXM7XG59XG5cbi8vIHNyYy9pbmRleC50c1xudmFyIFBPSU5URVJfT1VUU0lERV9FVkVOVCA9IFwicG9pbnRlcmRvd24ub3V0c2lkZVwiO1xudmFyIEZPQ1VTX09VVFNJREVfRVZFTlQgPSBcImZvY3VzLm91dHNpZGVcIjtcbmZ1bmN0aW9uIGlzQ29tcG9zZWRQYXRoRm9jdXNhYmxlKGV2ZW50KSB7XG4gIGNvbnN0IGNvbXBvc2VkUGF0aCA9IGV2ZW50LmNvbXBvc2VkUGF0aCgpID8/IFtldmVudC50YXJnZXRdO1xuICBmb3IgKGNvbnN0IG5vZGUgb2YgY29tcG9zZWRQYXRoKSB7XG4gICAgaWYgKGlzSFRNTEVsZW1lbnQobm9kZSkgJiYgaXNGb2N1c2FibGUobm9kZSkpXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG52YXIgaXNQb2ludGVyRXZlbnQgPSAoZXZlbnQpID0+IFwiY2xpZW50WVwiIGluIGV2ZW50O1xuZnVuY3Rpb24gaXNFdmVudFBvaW50V2l0aGluKG5vZGUsIGV2ZW50KSB7XG4gIGlmICghaXNQb2ludGVyRXZlbnQoZXZlbnQpIHx8ICFub2RlKVxuICAgIHJldHVybiBmYWxzZTtcbiAgY29uc3QgcmVjdCA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIGlmIChyZWN0LndpZHRoID09PSAwIHx8IHJlY3QuaGVpZ2h0ID09PSAwKVxuICAgIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIHJlY3QudG9wIDw9IGV2ZW50LmNsaWVudFkgJiYgZXZlbnQuY2xpZW50WSA8PSByZWN0LnRvcCArIHJlY3QuaGVpZ2h0ICYmIHJlY3QubGVmdCA8PSBldmVudC5jbGllbnRYICYmIGV2ZW50LmNsaWVudFggPD0gcmVjdC5sZWZ0ICsgcmVjdC53aWR0aDtcbn1cbmZ1bmN0aW9uIHRyYWNrSW50ZXJhY3RPdXRzaWRlSW1wbChub2RlLCBvcHRpb25zKSB7XG4gIGNvbnN0IHsgZXhjbHVkZSwgb25Gb2N1c091dHNpZGUsIG9uUG9pbnRlckRvd25PdXRzaWRlLCBvbkludGVyYWN0T3V0c2lkZSB9ID0gb3B0aW9ucztcbiAgaWYgKCFub2RlKVxuICAgIHJldHVybjtcbiAgY29uc3QgZG9jID0gZ2V0RG9jdW1lbnQobm9kZSk7XG4gIGNvbnN0IHdpbiA9IGdldFdpbmRvdyhub2RlKTtcbiAgY29uc3QgZnJhbWVzID0gZ2V0V2luZG93RnJhbWVzKHdpbik7XG4gIGZ1bmN0aW9uIGlzRXZlbnRPdXRzaWRlKGV2ZW50KSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZ2V0RXZlbnRUYXJnZXQoZXZlbnQpO1xuICAgIGlmICghaXNIVE1MRWxlbWVudCh0YXJnZXQpKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChjb250YWlucyhub2RlLCB0YXJnZXQpKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChpc0V2ZW50UG9pbnRXaXRoaW4obm9kZSwgZXZlbnQpKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiAhZXhjbHVkZT8uKHRhcmdldCk7XG4gIH1cbiAgbGV0IGNsaWNrSGFuZGxlcjtcbiAgZnVuY3Rpb24gb25Qb2ludGVyRG93bihldmVudCkge1xuICAgIGZ1bmN0aW9uIGhhbmRsZXIoKSB7XG4gICAgICBpZiAoIW5vZGUgfHwgIWlzRXZlbnRPdXRzaWRlKGV2ZW50KSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgaWYgKG9uUG9pbnRlckRvd25PdXRzaWRlIHx8IG9uSW50ZXJhY3RPdXRzaWRlKSB7XG4gICAgICAgIGNvbnN0IGhhbmRsZXIyID0gY2FsbEFsbChvblBvaW50ZXJEb3duT3V0c2lkZSwgb25JbnRlcmFjdE91dHNpZGUpO1xuICAgICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoUE9JTlRFUl9PVVRTSURFX0VWRU5ULCBoYW5kbGVyMiwgeyBvbmNlOiB0cnVlIH0pO1xuICAgICAgfVxuICAgICAgZmlyZUN1c3RvbUV2ZW50KG5vZGUsIFBPSU5URVJfT1VUU0lERV9FVkVOVCwge1xuICAgICAgICBidWJibGVzOiBmYWxzZSxcbiAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZSxcbiAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgICAgY29udGV4dG1lbnU6IGlzQ29udGV4dE1lbnVFdmVudChldmVudCksXG4gICAgICAgICAgZm9jdXNhYmxlOiBpc0NvbXBvc2VkUGF0aEZvY3VzYWJsZShldmVudClcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gXCJ0b3VjaFwiKSB7XG4gICAgICBmcmFtZXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZXIpO1xuICAgICAgZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVyKTtcbiAgICAgIGNsaWNrSGFuZGxlciA9IGhhbmRsZXI7XG4gICAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZXIsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICAgIGZyYW1lcy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlciwgeyBvbmNlOiB0cnVlIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBoYW5kbGVyKCk7XG4gICAgfVxuICB9XG4gIGNvbnN0IGNsZWFudXBzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBjbGVhbnVwcy5hZGQoZnJhbWVzLmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLCBvblBvaW50ZXJEb3duLCB0cnVlKSk7XG4gICAgY2xlYW51cHMuYWRkKGFkZERvbUV2ZW50KGRvYywgXCJwb2ludGVyZG93blwiLCBvblBvaW50ZXJEb3duLCB0cnVlKSk7XG4gIH0sIDApO1xuICBmdW5jdGlvbiBvbkZvY3VzaW4oZXZlbnQpIHtcbiAgICBpZiAoIW5vZGUgfHwgIWlzRXZlbnRPdXRzaWRlKGV2ZW50KSlcbiAgICAgIHJldHVybjtcbiAgICBpZiAob25Gb2N1c091dHNpZGUgfHwgb25JbnRlcmFjdE91dHNpZGUpIHtcbiAgICAgIGNvbnN0IGhhbmRsZXIgPSBjYWxsQWxsKG9uRm9jdXNPdXRzaWRlLCBvbkludGVyYWN0T3V0c2lkZSk7XG4gICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoRk9DVVNfT1VUU0lERV9FVkVOVCwgaGFuZGxlciwgeyBvbmNlOiB0cnVlIH0pO1xuICAgIH1cbiAgICBmaXJlQ3VzdG9tRXZlbnQobm9kZSwgRk9DVVNfT1VUU0lERV9FVkVOVCwge1xuICAgICAgYnViYmxlczogZmFsc2UsXG4gICAgICBjYW5jZWxhYmxlOiB0cnVlLFxuICAgICAgZGV0YWlsOiB7XG4gICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LFxuICAgICAgICBjb250ZXh0bWVudTogZmFsc2UsXG4gICAgICAgIGZvY3VzYWJsZTogaXNGb2N1c2FibGUoZ2V0RXZlbnRUYXJnZXQoZXZlbnQpKVxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGNsZWFudXBzLmFkZChhZGREb21FdmVudChkb2MsIFwiZm9jdXNpblwiLCBvbkZvY3VzaW4sIHRydWUpKTtcbiAgY2xlYW51cHMuYWRkKGZyYW1lcy5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNpblwiLCBvbkZvY3VzaW4sIHRydWUpKTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgIGlmIChjbGlja0hhbmRsZXIpIHtcbiAgICAgIGZyYW1lcy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xpY2tIYW5kbGVyKTtcbiAgICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xpY2tIYW5kbGVyKTtcbiAgICB9XG4gICAgY2xlYW51cHMuZm9yRWFjaCgoZm4pID0+IGZuKCkpO1xuICB9O1xufVxuZnVuY3Rpb24gdHJhY2tJbnRlcmFjdE91dHNpZGUobm9kZU9yRm4sIG9wdGlvbnMpIHtcbiAgY29uc3QgeyBkZWZlciB9ID0gb3B0aW9ucztcbiAgY29uc3QgZnVuYyA9IGRlZmVyID8gcmFmIDogKHYpID0+IHYoKTtcbiAgY29uc3QgY2xlYW51cHMgPSBbXTtcbiAgY2xlYW51cHMucHVzaChcbiAgICBmdW5jKCgpID0+IHtcbiAgICAgIGNvbnN0IG5vZGUgPSB0eXBlb2Ygbm9kZU9yRm4gPT09IFwiZnVuY3Rpb25cIiA/IG5vZGVPckZuKCkgOiBub2RlT3JGbjtcbiAgICAgIGNsZWFudXBzLnB1c2godHJhY2tJbnRlcmFjdE91dHNpZGVJbXBsKG5vZGUsIG9wdGlvbnMpKTtcbiAgICB9KVxuICApO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGNsZWFudXBzLmZvckVhY2goKGZuKSA9PiBmbj8uKCkpO1xuICB9O1xufVxuZXhwb3J0IHtcbiAgdHJhY2tJbnRlcmFjdE91dHNpZGVcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/interact-outside/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/live-region/dist/index.mjs":
/*!*********************************************************!*\
  !*** ./node_modules/@zag-js/live-region/dist/index.mjs ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createLiveRegion: () => (/* binding */ createLiveRegion)\n/* harmony export */ });\n/* harmony import */ var _zag_js_visually_hidden__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/visually-hidden */ \"(ssr)/./node_modules/@zag-js/visually-hidden/dist/index.mjs\");\n// src/index.ts\n\nvar ID = \"__live-region__\";\nfunction createLiveRegion(opts = {}) {\n  const { level = \"polite\", document: doc = document, root, delay: _delay = 0 } = opts;\n  const win = doc.defaultView ?? window;\n  const parent = root ?? doc.body;\n  function announce(message, delay) {\n    const oldRegion = doc.getElementById(ID);\n    oldRegion?.remove();\n    delay = delay ?? _delay;\n    const region = doc.createElement(\"span\");\n    region.id = ID;\n    region.dataset.liveAnnouncer = \"true\";\n    const role = level !== \"assertive\" ? \"status\" : \"alert\";\n    region.setAttribute(\"aria-live\", level);\n    region.setAttribute(\"role\", role);\n    (0,_zag_js_visually_hidden__WEBPACK_IMPORTED_MODULE_0__.setVisuallyHidden)(region);\n    parent.appendChild(region);\n    win.setTimeout(() => {\n      region.textContent = message;\n    }, delay);\n  }\n  function destroy() {\n    const oldRegion = doc.getElementById(ID);\n    oldRegion?.remove();\n  }\n  return {\n    announce,\n    destroy,\n    toJSON() {\n      return ID;\n    }\n  };\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9saXZlLXJlZ2lvbi9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQzREO0FBQzVEO0FBQ0EsbUNBQW1DO0FBQ25DLFVBQVUsc0VBQXNFO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksMEVBQWlCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AcGFyay11aS9leGFtcGxlcy1yZWFjdC1uZXh0LWpzLy4vbm9kZV9tb2R1bGVzL0B6YWctanMvbGl2ZS1yZWdpb24vZGlzdC9pbmRleC5tanM/YWI5OCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvaW5kZXgudHNcbmltcG9ydCB7IHNldFZpc3VhbGx5SGlkZGVuIH0gZnJvbSBcIkB6YWctanMvdmlzdWFsbHktaGlkZGVuXCI7XG52YXIgSUQgPSBcIl9fbGl2ZS1yZWdpb25fX1wiO1xuZnVuY3Rpb24gY3JlYXRlTGl2ZVJlZ2lvbihvcHRzID0ge30pIHtcbiAgY29uc3QgeyBsZXZlbCA9IFwicG9saXRlXCIsIGRvY3VtZW50OiBkb2MgPSBkb2N1bWVudCwgcm9vdCwgZGVsYXk6IF9kZWxheSA9IDAgfSA9IG9wdHM7XG4gIGNvbnN0IHdpbiA9IGRvYy5kZWZhdWx0VmlldyA/PyB3aW5kb3c7XG4gIGNvbnN0IHBhcmVudCA9IHJvb3QgPz8gZG9jLmJvZHk7XG4gIGZ1bmN0aW9uIGFubm91bmNlKG1lc3NhZ2UsIGRlbGF5KSB7XG4gICAgY29uc3Qgb2xkUmVnaW9uID0gZG9jLmdldEVsZW1lbnRCeUlkKElEKTtcbiAgICBvbGRSZWdpb24/LnJlbW92ZSgpO1xuICAgIGRlbGF5ID0gZGVsYXkgPz8gX2RlbGF5O1xuICAgIGNvbnN0IHJlZ2lvbiA9IGRvYy5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICByZWdpb24uaWQgPSBJRDtcbiAgICByZWdpb24uZGF0YXNldC5saXZlQW5ub3VuY2VyID0gXCJ0cnVlXCI7XG4gICAgY29uc3Qgcm9sZSA9IGxldmVsICE9PSBcImFzc2VydGl2ZVwiID8gXCJzdGF0dXNcIiA6IFwiYWxlcnRcIjtcbiAgICByZWdpb24uc2V0QXR0cmlidXRlKFwiYXJpYS1saXZlXCIsIGxldmVsKTtcbiAgICByZWdpb24uc2V0QXR0cmlidXRlKFwicm9sZVwiLCByb2xlKTtcbiAgICBzZXRWaXN1YWxseUhpZGRlbihyZWdpb24pO1xuICAgIHBhcmVudC5hcHBlbmRDaGlsZChyZWdpb24pO1xuICAgIHdpbi5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHJlZ2lvbi50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XG4gICAgfSwgZGVsYXkpO1xuICB9XG4gIGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgY29uc3Qgb2xkUmVnaW9uID0gZG9jLmdldEVsZW1lbnRCeUlkKElEKTtcbiAgICBvbGRSZWdpb24/LnJlbW92ZSgpO1xuICB9XG4gIHJldHVybiB7XG4gICAgYW5ub3VuY2UsXG4gICAgZGVzdHJveSxcbiAgICB0b0pTT04oKSB7XG4gICAgICByZXR1cm4gSUQ7XG4gICAgfVxuICB9O1xufVxuZXhwb3J0IHtcbiAgY3JlYXRlTGl2ZVJlZ2lvblxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/live-region/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/menu/dist/index.mjs":
/*!**************************************************!*\
  !*** ./node_modules/@zag-js/menu/dist/index.mjs ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   anatomy: () => (/* binding */ anatomy),\n/* harmony export */   connect: () => (/* binding */ connect),\n/* harmony export */   machine: () => (/* binding */ machine)\n/* harmony export */ });\n/* harmony import */ var _zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/anatomy */ \"(ssr)/./node_modules/@zag-js/anatomy/dist/index.mjs\");\n/* harmony import */ var _zag_js_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @zag-js/core */ \"(ssr)/./node_modules/@zag-js/core/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_event__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @zag-js/dom-event */ \"(ssr)/./node_modules/@zag-js/dom-event/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @zag-js/dom-query */ \"(ssr)/./node_modules/@zag-js/dom-query/dist/index.mjs\");\n/* harmony import */ var _zag_js_popper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @zag-js/popper */ \"(ssr)/./node_modules/@zag-js/popper/dist/index.mjs\");\n/* harmony import */ var _zag_js_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @zag-js/utils */ \"(ssr)/./node_modules/@zag-js/utils/dist/index.mjs\");\n/* harmony import */ var _zag_js_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @zag-js/core */ \"(ssr)/./node_modules/@zag-js/store/dist/index.mjs\");\n/* harmony import */ var _zag_js_dismissable__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @zag-js/dismissable */ \"(ssr)/./node_modules/@zag-js/dismissable/dist/index.mjs\");\n/* harmony import */ var _zag_js_mutation_observer__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @zag-js/mutation-observer */ \"(ssr)/./node_modules/@zag-js/mutation-observer/dist/index.mjs\");\n/* harmony import */ var _zag_js_rect_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @zag-js/rect-utils */ \"(ssr)/./node_modules/@zag-js/rect-utils/dist/index.mjs\");\n// src/menu.anatomy.ts\n\nvar anatomy = (0,_zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__.createAnatomy)(\"menu\").parts(\n  \"contextTrigger\",\n  \"trigger\",\n  \"triggerItem\",\n  \"indicator\",\n  \"positioner\",\n  \"arrow\",\n  \"arrowTip\",\n  \"content\",\n  \"separator\",\n  \"item\",\n  \"optionItem\",\n  \"optionItemIndicator\",\n  \"optionItemText\",\n  \"itemGroupLabel\",\n  \"itemGroup\"\n);\nvar parts = anatomy.build();\n\n// src/menu.connect.ts\n\n\n\n\n\n\n// src/menu.dom.ts\n\n\nvar dom = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.createScope)({\n  getTriggerId: (ctx) => ctx.ids?.trigger ?? `menu:${ctx.id}:trigger`,\n  getContextTriggerId: (ctx) => ctx.ids?.contextTrigger ?? `menu:${ctx.id}:ctx-trigger`,\n  getContentId: (ctx) => ctx.ids?.content ?? `menu:${ctx.id}:content`,\n  getArrowId: (ctx) => ctx.ids?.arrow ?? `menu:${ctx.id}:arrow`,\n  getPositionerId: (ctx) => ctx.ids?.positioner ?? `menu:${ctx.id}:popper`,\n  getGroupId: (ctx, id) => ctx.ids?.group?.(id) ?? `menu:${ctx.id}:group:${id}`,\n  getGroupLabelId: (ctx, id) => ctx.ids?.label?.(id) ?? `menu:${ctx.id}:label:${id}`,\n  getContentEl: (ctx) => dom.getById(ctx, dom.getContentId(ctx)),\n  getPositionerEl: (ctx) => dom.getById(ctx, dom.getPositionerId(ctx)),\n  getTriggerEl: (ctx) => dom.getById(ctx, dom.getTriggerId(ctx)),\n  getFocusedItem: (ctx) => ctx.highlightedId ? dom.getById(ctx, ctx.highlightedId) : null,\n  getArrowEl: (ctx) => dom.getById(ctx, dom.getArrowId(ctx)),\n  getElements: (ctx) => {\n    const ownerId = CSS.escape(dom.getContentId(ctx));\n    const selector = `[role^=\"menuitem\"][data-ownedby=${ownerId}]:not([data-disabled])`;\n    return (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.queryAll)(dom.getContentEl(ctx), selector);\n  },\n  getFirstEl: (ctx) => (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.first)(dom.getElements(ctx)),\n  getLastEl: (ctx) => (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.last)(dom.getElements(ctx)),\n  getNextEl: (ctx, loop) => (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.nextById)(dom.getElements(ctx), ctx.highlightedId, loop ?? ctx.loop),\n  getPrevEl: (ctx, loop) => (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.prevById)(dom.getElements(ctx), ctx.highlightedId, loop ?? ctx.loop),\n  getElemByKey: (ctx, key) => (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.getByTypeahead)(dom.getElements(ctx), { state: ctx.typeahead, key, activeId: ctx.highlightedId }),\n  isTargetDisabled: (v) => {\n    return (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.isHTMLElement)(v) && (v.dataset.disabled === \"\" || v.hasAttribute(\"disabled\"));\n  },\n  isTriggerItem: (el) => {\n    return !!el?.getAttribute(\"role\")?.startsWith(\"menuitem\") && !!el?.hasAttribute(\"aria-controls\");\n  },\n  getHighlightedOptionEl(ctx) {\n    if (!ctx.highlightedId)\n      return null;\n    return dom.getById(ctx, ctx.highlightedId);\n  }\n});\n\n// src/menu.connect.ts\nfunction connect(state, send, normalize) {\n  const isSubmenu = state.context.isSubmenu;\n  const values = state.context.value;\n  const isTypingAhead = state.context.isTypingAhead;\n  const isOpen = state.hasTag(\"visible\");\n  const popperStyles = (0,_zag_js_popper__WEBPACK_IMPORTED_MODULE_3__.getPlacementStyles)({\n    ...state.context.positioning,\n    placement: state.context.currentPlacement\n  });\n  function getItemState(props) {\n    return {\n      isDisabled: !!props.disabled,\n      isHighlighted: state.context.highlightedId === props.id\n    };\n  }\n  function getOptionItemProps(props) {\n    const id = props.id ?? props.value;\n    const valueText = props.valueText ?? props.value;\n    return { ...props, id, valueText };\n  }\n  function getOptionItemState(props) {\n    const itemState = getItemState(getOptionItemProps(props));\n    return {\n      ...itemState,\n      isChecked: !!(0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.match)(props.type, {\n        radio: () => values?.[props.name] === props.value,\n        checkbox: () => values?.[props.name].includes(props.value)\n      })\n    };\n  }\n  function getItemProps(props) {\n    const { id, closeOnSelect, valueText } = props;\n    const itemState = getItemState(props);\n    return normalize.element({\n      ...parts.item.attrs,\n      id,\n      role: \"menuitem\",\n      \"aria-disabled\": itemState.isDisabled,\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(itemState.isDisabled),\n      \"data-ownedby\": dom.getContentId(state.context),\n      \"data-highlighted\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(itemState.isHighlighted),\n      \"data-valuetext\": valueText,\n      onDragStart(event) {\n        const isLink = event.currentTarget.matches(\"a[href]\");\n        if (isLink)\n          event.preventDefault();\n      },\n      onPointerLeave(event) {\n        if (itemState.isDisabled || event.pointerType !== \"mouse\")\n          return;\n        const target = event.currentTarget;\n        send({ type: \"ITEM_POINTERLEAVE\", id, target, closeOnSelect });\n      },\n      onPointerMove(event) {\n        if (itemState.isDisabled || event.pointerType !== \"mouse\")\n          return;\n        const target = event.currentTarget;\n        send({ type: \"ITEM_POINTERMOVE\", id, target, closeOnSelect });\n      },\n      onPointerDown(event) {\n        if (itemState.isDisabled)\n          return;\n        const target = event.currentTarget;\n        send({ type: \"ITEM_POINTERDOWN\", target, id, closeOnSelect });\n      },\n      onPointerUp(event) {\n        const evt = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_4__.getNativeEvent)(event);\n        if (!(0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_4__.isLeftClick)(evt) || itemState.isDisabled)\n          return;\n        const target = event.currentTarget;\n        send({ type: \"ITEM_CLICK\", src: \"pointerup\", target, id, closeOnSelect });\n        if (target.matches(\"a[href]\") && event.pointerType === \"touch\") {\n          target.click();\n        }\n      }\n    });\n  }\n  return {\n    highlightedId: state.context.highlightedId,\n    isOpen,\n    open() {\n      send(\"OPEN\");\n    },\n    close() {\n      send(\"CLOSE\");\n    },\n    setHighlightedId(id) {\n      send({ type: \"SET_HIGHLIGHTED_ID\", id });\n    },\n    setParent(parent) {\n      send({ type: \"SET_PARENT\", value: parent, id: parent.state.context.id });\n    },\n    setChild(child) {\n      send({ type: \"SET_CHILD\", value: child, id: child.state.context.id });\n    },\n    value: values,\n    setValue(name, value) {\n      send({ type: \"SET_VALUE\", name, value });\n    },\n    reposition(options = {}) {\n      send({ type: \"SET_POSITIONING\", options });\n    },\n    contextTriggerProps: normalize.element({\n      ...parts.contextTrigger.attrs,\n      dir: state.context.dir,\n      id: dom.getContextTriggerId(state.context),\n      onPointerDown(event) {\n        if (event.pointerType === \"mouse\")\n          return;\n        const evt = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_4__.getNativeEvent)(event);\n        const point = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_4__.getEventPoint)(evt);\n        send({ type: \"CONTEXT_MENU_START\", point });\n      },\n      onPointerCancel(event) {\n        if (event.pointerType === \"mouse\")\n          return;\n        send(\"CONTEXT_MENU_CANCEL\");\n      },\n      onPointerMove(event) {\n        if (event.pointerType === \"mouse\")\n          return;\n        send(\"CONTEXT_MENU_CANCEL\");\n      },\n      onPointerUp(event) {\n        if (event.pointerType === \"mouse\")\n          return;\n        send(\"CONTEXT_MENU_CANCEL\");\n      },\n      onContextMenu(event) {\n        const evt = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_4__.getNativeEvent)(event);\n        const point = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_4__.getEventPoint)(evt);\n        send({ type: \"CONTEXT_MENU\", point });\n        event.preventDefault();\n      },\n      style: {\n        WebkitTouchCallout: \"none\",\n        userSelect: \"none\"\n      }\n    }),\n    getTriggerItemProps(childApi) {\n      return (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_5__.mergeProps)(getItemProps({ id: childApi.triggerProps.id }), childApi.triggerProps);\n    },\n    triggerProps: normalize.button({\n      ...isSubmenu ? parts.triggerItem.attrs : parts.trigger.attrs,\n      \"data-placement\": state.context.currentPlacement,\n      type: \"button\",\n      dir: state.context.dir,\n      id: dom.getTriggerId(state.context),\n      \"data-uid\": state.context.id,\n      \"aria-haspopup\": \"menu\",\n      \"aria-controls\": dom.getContentId(state.context),\n      \"aria-expanded\": isOpen || void 0,\n      \"data-state\": isOpen ? \"open\" : \"closed\",\n      onPointerMove(event) {\n        if (event.pointerType !== \"mouse\")\n          return;\n        const disabled = dom.isTargetDisabled(event.currentTarget);\n        if (disabled || !isSubmenu)\n          return;\n        send({ type: \"TRIGGER_POINTERMOVE\", target: event.currentTarget });\n      },\n      onPointerLeave(event) {\n        if (event.pointerType !== \"mouse\")\n          return;\n        const evt = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_4__.getNativeEvent)(event);\n        const disabled = dom.isTargetDisabled(event.currentTarget);\n        if (disabled || !isSubmenu)\n          return;\n        const point = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_4__.getEventPoint)(evt);\n        send({ type: \"TRIGGER_POINTERLEAVE\", target: event.currentTarget, point });\n      },\n      onClick(event) {\n        if (dom.isTriggerItem(event.currentTarget)) {\n          send({ type: \"TRIGGER_CLICK\", target: event.currentTarget });\n        }\n      },\n      onPointerDown(event) {\n        const disabled = dom.isTargetDisabled(event.currentTarget);\n        const evt = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_4__.getNativeEvent)(event);\n        if (!(0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_4__.isLeftClick)(evt) || disabled || (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_4__.isContextMenuEvent)(event))\n          return;\n        event.preventDefault();\n        if (!dom.isTriggerItem(event.currentTarget)) {\n          send({ type: \"TRIGGER_CLICK\", target: event.currentTarget });\n        }\n      },\n      onBlur() {\n        send(\"TRIGGER_BLUR\");\n      },\n      onFocus() {\n        send(\"TRIGGER_FOCUS\");\n      },\n      onKeyDown(event) {\n        const keyMap = {\n          ArrowDown() {\n            send(\"ARROW_DOWN\");\n          },\n          ArrowUp() {\n            send(\"ARROW_UP\");\n          },\n          Enter() {\n            send({ type: \"ARROW_DOWN\" });\n          },\n          Space() {\n            send({ type: \"ARROW_DOWN\" });\n          }\n        };\n        const key = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_4__.getEventKey)(event, state.context);\n        const exec = keyMap[key];\n        if (exec) {\n          event.preventDefault();\n          exec(event);\n        }\n      }\n    }),\n    indicatorProps: normalize.element({\n      ...parts.indicator.attrs,\n      dir: state.context.dir,\n      \"data-state\": isOpen ? \"open\" : \"closed\"\n    }),\n    positionerProps: normalize.element({\n      ...parts.positioner.attrs,\n      dir: state.context.dir,\n      id: dom.getPositionerId(state.context),\n      style: popperStyles.floating\n    }),\n    arrowProps: normalize.element({\n      id: dom.getArrowId(state.context),\n      ...parts.arrow.attrs,\n      dir: state.context.dir,\n      style: popperStyles.arrow\n    }),\n    arrowTipProps: normalize.element({\n      ...parts.arrowTip.attrs,\n      dir: state.context.dir,\n      style: popperStyles.arrowTip\n    }),\n    contentProps: normalize.element({\n      ...parts.content.attrs,\n      id: dom.getContentId(state.context),\n      \"aria-label\": state.context[\"aria-label\"],\n      hidden: !isOpen,\n      \"data-state\": isOpen ? \"open\" : \"closed\",\n      role: \"menu\",\n      tabIndex: 0,\n      dir: state.context.dir,\n      \"aria-activedescendant\": state.context.highlightedId ?? void 0,\n      \"aria-labelledby\": dom.getTriggerId(state.context),\n      \"data-placement\": state.context.currentPlacement,\n      onPointerEnter(event) {\n        if (event.pointerType !== \"mouse\")\n          return;\n        send(\"MENU_POINTERENTER\");\n      },\n      onKeyDown(event) {\n        const target = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.getEventTarget)((0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_4__.getNativeEvent)(event));\n        const isKeyDownInside = target?.closest(\"[role=menu]\") === event.currentTarget;\n        if (!(0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.isSelfEvent)(event) || !isKeyDownInside)\n          return;\n        const item = dom.getFocusedItem(state.context);\n        const isLink = !!item?.matches(\"a[href]\");\n        const keyMap = {\n          ArrowDown() {\n            send(\"ARROW_DOWN\");\n          },\n          ArrowUp() {\n            send(\"ARROW_UP\");\n          },\n          ArrowLeft() {\n            send(\"ARROW_LEFT\");\n          },\n          ArrowRight() {\n            send(\"ARROW_RIGHT\");\n          },\n          Enter() {\n            if (isLink)\n              item?.click();\n            send(\"ENTER\");\n          },\n          Space(event2) {\n            if (isTypingAhead) {\n              send({ type: \"TYPEAHEAD\", key: event2.key });\n            } else {\n              keyMap.Enter?.(event2);\n            }\n          },\n          Home() {\n            send(\"HOME\");\n          },\n          End() {\n            send(\"END\");\n          },\n          Tab(event2) {\n            send({ type: \"TAB\", shiftKey: event2.shiftKey, loop: false });\n          }\n        };\n        const key = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_4__.getEventKey)(event, { dir: state.context.dir });\n        const exec = keyMap[key];\n        if (exec) {\n          const allow = isLink && key === \"Enter\";\n          exec(event);\n          if (!allow) {\n            event.preventDefault();\n          }\n        } else {\n          const isSingleKey = event.key.length === 1;\n          const isValidTypeahead = isSingleKey && !(0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_4__.isModifiedEvent)(event) && !(0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.isEditableElement)(item);\n          if (!isValidTypeahead)\n            return;\n          send({ type: \"TYPEAHEAD\", key: event.key });\n          event.preventDefault();\n        }\n      }\n    }),\n    separatorProps: normalize.element({\n      ...parts.separator.attrs,\n      role: \"separator\",\n      dir: state.context.dir,\n      \"aria-orientation\": \"horizontal\"\n    }),\n    getItemState,\n    getItemProps,\n    getOptionItemState,\n    getOptionItemProps(props) {\n      const { name, type, disabled, onCheckedChange, closeOnSelect } = props;\n      const option = getOptionItemProps(props);\n      const itemState = getOptionItemState(props);\n      return Object.assign(\n        getItemProps(option),\n        normalize.element({\n          \"data-type\": type,\n          \"data-name\": name,\n          ...parts.optionItem.attrs,\n          dir: state.context.dir,\n          \"data-value\": option.value,\n          role: `menuitem${type}`,\n          \"aria-checked\": !!itemState.isChecked,\n          \"data-state\": itemState.isChecked ? \"checked\" : \"unchecked\",\n          onPointerUp(event) {\n            const evt = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_4__.getNativeEvent)(event);\n            if (!(0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_4__.isLeftClick)(evt) || disabled)\n              return;\n            const target = event.currentTarget;\n            send({ type: \"ITEM_CLICK\", src: \"pointerup\", target, option, closeOnSelect });\n            onCheckedChange?.(!itemState.isChecked);\n          }\n        })\n      );\n    },\n    getOptionItemIndicatorProps(props) {\n      const itemState = getOptionItemState(props);\n      return normalize.element({\n        ...parts.optionItemIndicator.attrs,\n        dir: state.context.dir,\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(itemState.isDisabled),\n        \"data-highlighted\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(itemState.isHighlighted),\n        \"data-state\": itemState.isChecked ? \"checked\" : \"unchecked\",\n        hidden: !itemState.isChecked\n      });\n    },\n    getOptionItemTextProps(props) {\n      const itemState = getOptionItemState(props);\n      return normalize.element({\n        ...parts.optionItemText.attrs,\n        dir: state.context.dir,\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(itemState.isDisabled),\n        \"data-highlighted\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(itemState.isHighlighted),\n        \"data-state\": itemState.isChecked ? \"checked\" : \"unchecked\"\n      });\n    },\n    getItemGroupLabelProps(props) {\n      return normalize.element({\n        id: dom.getGroupLabelId(state.context, props.htmlFor),\n        dir: state.context.dir,\n        ...parts.itemGroupLabel.attrs\n      });\n    },\n    getItemGroupProps(props) {\n      return normalize.element({\n        id: dom.getGroupId(state.context, props.id),\n        ...parts.itemGroup.attrs,\n        dir: state.context.dir,\n        \"aria-labelledby\": dom.getGroupLabelId(state.context, props.id),\n        role: \"group\"\n      });\n    }\n  };\n}\n\n// src/menu.machine.ts\n\n\n\n\n\n\n\n\nvar { not, and } = _zag_js_core__WEBPACK_IMPORTED_MODULE_5__.guards;\nfunction machine(userContext) {\n  const ctx = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.compact)(userContext);\n  return (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_5__.createMachine)(\n    {\n      id: \"menu\",\n      initial: ctx.open ? \"open\" : \"idle\",\n      context: {\n        highlightedId: null,\n        hoverId: null,\n        parent: null,\n        children: (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.cast)((0,_zag_js_core__WEBPACK_IMPORTED_MODULE_6__.ref)({})),\n        intentPolygon: null,\n        loop: false,\n        suspendPointer: false,\n        anchorPoint: null,\n        closeOnSelect: true,\n        focusTriggerOnClose: true,\n        ...ctx,\n        typeahead: _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.getByTypeahead.defaultOptions,\n        positioning: {\n          placement: \"bottom-start\",\n          gutter: 8,\n          ...ctx.positioning\n        }\n      },\n      computed: {\n        isSubmenu: (ctx2) => ctx2.parent !== null,\n        isRtl: (ctx2) => ctx2.dir === \"rtl\",\n        isTypingAhead: (ctx2) => ctx2.typeahead.keysSoFar !== \"\"\n      },\n      watch: {\n        isSubmenu: \"setSubmenuPlacement\",\n        anchorPoint: \"reposition\",\n        open: \"toggleVisibility\"\n      },\n      on: {\n        SET_PARENT: {\n          actions: \"setParentMenu\"\n        },\n        SET_CHILD: {\n          actions: \"setChildMenu\"\n        },\n        OPEN: {\n          target: \"open\",\n          actions: \"invokeOnOpen\"\n        },\n        OPEN_AUTOFOCUS: {\n          internal: true,\n          target: \"open\",\n          actions: [\"focusFirstItem\", \"invokeOnOpen\"]\n        },\n        CLOSE: {\n          target: \"closed\",\n          actions: \"invokeOnClose\"\n        },\n        RESTORE_FOCUS: {\n          actions: \"restoreFocus\"\n        },\n        SET_VALUE: {\n          actions: [\"setOptionValue\", \"invokeOnValueChange\"]\n        },\n        SET_HIGHLIGHTED_ID: {\n          actions: \"setFocusedItem\"\n        }\n      },\n      states: {\n        idle: {\n          on: {\n            CONTEXT_MENU_START: {\n              target: \"opening:contextmenu\",\n              actions: \"setAnchorPoint\"\n            },\n            CONTEXT_MENU: {\n              target: \"open\",\n              actions: [\"setAnchorPoint\", \"invokeOnOpen\"]\n            },\n            TRIGGER_CLICK: {\n              target: \"open\",\n              actions: \"invokeOnOpen\"\n            },\n            TRIGGER_FOCUS: {\n              guard: not(\"isSubmenu\"),\n              target: \"closed\"\n            },\n            TRIGGER_POINTERMOVE: {\n              guard: \"isSubmenu\",\n              target: \"opening\"\n            }\n          }\n        },\n        \"opening:contextmenu\": {\n          after: {\n            LONG_PRESS_DELAY: {\n              target: \"open\",\n              actions: \"invokeOnOpen\"\n            }\n          },\n          on: {\n            CONTEXT_MENU_CANCEL: {\n              target: \"closed\",\n              actions: \"invokeOnClose\"\n            }\n          }\n        },\n        opening: {\n          after: {\n            SUBMENU_OPEN_DELAY: {\n              target: \"open\",\n              actions: \"invokeOnOpen\"\n            }\n          },\n          on: {\n            BLUR: {\n              target: \"closed\",\n              actions: \"invokeOnClose\"\n            },\n            TRIGGER_POINTERLEAVE: {\n              target: \"closed\",\n              actions: \"invokeOnClose\"\n            }\n          }\n        },\n        closing: {\n          tags: [\"visible\"],\n          activities: [\"trackPointerMove\", \"trackInteractOutside\"],\n          after: {\n            SUBMENU_CLOSE_DELAY: {\n              target: \"closed\",\n              actions: [\"focusParentMenu\", \"restoreParentFocus\", \"invokeOnClose\"]\n            }\n          },\n          on: {\n            MENU_POINTERENTER: {\n              target: \"open\",\n              actions: \"clearIntentPolygon\"\n            },\n            POINTER_MOVED_AWAY_FROM_SUBMENU: {\n              target: \"closed\",\n              actions: [\"focusParentMenu\", \"restoreParentFocus\"]\n            }\n          }\n        },\n        closed: {\n          entry: [\"clearFocusedItem\", \"focusTrigger\", \"clearAnchorPoint\", \"resumePointer\"],\n          on: {\n            CONTEXT_MENU_START: {\n              target: \"opening:contextmenu\",\n              actions: \"setAnchorPoint\"\n            },\n            CONTEXT_MENU: {\n              target: \"open\",\n              actions: [\"setAnchorPoint\", \"invokeOnOpen\"]\n            },\n            TRIGGER_CLICK: {\n              target: \"open\",\n              actions: \"invokeOnOpen\"\n            },\n            TRIGGER_POINTERMOVE: {\n              guard: \"isTriggerItem\",\n              target: \"opening\"\n            },\n            TRIGGER_BLUR: \"idle\",\n            ARROW_DOWN: {\n              target: \"open\",\n              actions: [\"focusFirstItem\", \"invokeOnOpen\"]\n            },\n            ARROW_UP: {\n              target: \"open\",\n              actions: [\"focusLastItem\", \"invokeOnOpen\"]\n            }\n          }\n        },\n        open: {\n          tags: [\"visible\"],\n          activities: [\"trackInteractOutside\", \"trackPositioning\", \"scrollToHighlightedItem\"],\n          entry: [\"focusMenu\", \"resumePointer\"],\n          on: {\n            TRIGGER_CLICK: {\n              guard: not(\"isTriggerItem\"),\n              target: \"closed\",\n              actions: \"invokeOnClose\"\n            },\n            TAB: [\n              {\n                guard: \"isForwardTabNavigation\",\n                actions: [\"focusNextItem\"]\n              },\n              { actions: [\"focusPrevItem\"] }\n            ],\n            ARROW_UP: {\n              actions: [\"focusPrevItem\", \"focusMenu\"]\n            },\n            ARROW_DOWN: {\n              actions: [\"focusNextItem\", \"focusMenu\"]\n            },\n            ARROW_LEFT: {\n              guard: \"isSubmenu\",\n              target: \"closed\",\n              actions: [\"focusParentMenu\", \"invokeOnClose\"]\n            },\n            HOME: {\n              actions: [\"focusFirstItem\", \"focusMenu\"]\n            },\n            END: {\n              actions: [\"focusLastItem\", \"focusMenu\"]\n            },\n            REQUEST_CLOSE: {\n              target: \"closed\",\n              actions: \"invokeOnClose\"\n            },\n            ARROW_RIGHT: {\n              guard: \"isTriggerItemFocused\",\n              actions: \"openSubmenu\"\n            },\n            ENTER: [\n              {\n                guard: \"isTriggerItemFocused\",\n                actions: \"openSubmenu\"\n              },\n              {\n                guard: \"closeOnSelect\",\n                target: \"closed\",\n                actions: \"clickFocusedItem\"\n              },\n              {\n                actions: \"clickFocusedItem\"\n              }\n            ],\n            ITEM_POINTERMOVE: [\n              {\n                guard: and(not(\"suspendPointer\"), not(\"isTargetFocused\")),\n                actions: [\"focusItem\", \"focusMenu\"]\n              },\n              {\n                guard: not(\"isTargetFocused\"),\n                actions: \"setHoveredItem\"\n              }\n            ],\n            ITEM_POINTERLEAVE: {\n              guard: and(not(\"suspendPointer\"), not(\"isTriggerItem\")),\n              actions: \"clearFocusedItem\"\n            },\n            ITEM_CLICK: [\n              {\n                guard: and(not(\"isTriggerItemFocused\"), not(\"isFocusedItemEditable\"), \"closeOnSelect\"),\n                target: \"closed\",\n                actions: [\n                  \"invokeOnSelect\",\n                  \"changeOptionValue\",\n                  \"invokeOnValueChange\",\n                  \"closeRootMenu\",\n                  \"invokeOnClose\"\n                ]\n              },\n              {\n                guard: and(not(\"isTriggerItemFocused\"), not(\"isFocusedItemEditable\")),\n                actions: [\"invokeOnSelect\", \"changeOptionValue\", \"invokeOnValueChange\"]\n              },\n              { actions: \"focusItem\" }\n            ],\n            TRIGGER_POINTERLEAVE: {\n              target: \"closing\",\n              actions: \"setIntentPolygon\"\n            },\n            ITEM_POINTERDOWN: {\n              actions: \"focusItem\"\n            },\n            TYPEAHEAD: {\n              actions: \"focusMatchedItem\"\n            },\n            FOCUS_MENU: {\n              actions: \"focusMenu\"\n            },\n            SET_POSITIONING: {\n              actions: \"reposition\"\n            }\n          }\n        }\n      }\n    },\n    {\n      delays: {\n        LONG_PRESS_DELAY: 700,\n        SUBMENU_OPEN_DELAY: 100,\n        SUBMENU_CLOSE_DELAY: 100\n      },\n      guards: {\n        closeOnSelect: (ctx2, evt) => !!(evt?.closeOnSelect ?? ctx2.closeOnSelect),\n        isMenuFocused: (ctx2) => (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.contains)(dom.getContentEl(ctx2), dom.getActiveElement(ctx2)),\n        isTargetFocused: (ctx2, evt) => ctx2.highlightedId === evt.target.id,\n        // whether the trigger is also a menu item\n        isTriggerItem: (_ctx, evt) => dom.isTriggerItem(evt.target),\n        // whether the trigger item is the active item\n        isTriggerItemFocused: (ctx2, evt) => {\n          const target = evt.target ?? dom.getFocusedItem(ctx2);\n          return !!target?.hasAttribute(\"aria-controls\");\n        },\n        isForwardTabNavigation: (_ctx, evt) => !evt.shiftKey,\n        isSubmenu: (ctx2) => ctx2.isSubmenu,\n        suspendPointer: (ctx2) => ctx2.suspendPointer,\n        isFocusedItemEditable: (ctx2) => (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.isEditableElement)(dom.getFocusedItem(ctx2)),\n        isWithinPolygon: (ctx2, evt) => {\n          if (!ctx2.intentPolygon)\n            return false;\n          return (0,_zag_js_rect_utils__WEBPACK_IMPORTED_MODULE_7__.isPointInPolygon)(ctx2.intentPolygon, evt.point);\n        }\n      },\n      activities: {\n        trackPositioning(ctx2) {\n          if (ctx2.anchorPoint)\n            return;\n          ctx2.currentPlacement = ctx2.positioning.placement;\n          const getPositionerEl = () => dom.getPositionerEl(ctx2);\n          return (0,_zag_js_popper__WEBPACK_IMPORTED_MODULE_3__.getPlacement)(dom.getTriggerEl(ctx2), getPositionerEl, {\n            ...ctx2.positioning,\n            defer: true,\n            onComplete(data) {\n              ctx2.currentPlacement = data.placement;\n            }\n          });\n        },\n        trackInteractOutside(ctx2, _evt, { send }) {\n          const getContentEl = () => dom.getContentEl(ctx2);\n          return (0,_zag_js_dismissable__WEBPACK_IMPORTED_MODULE_8__.trackDismissableElement)(getContentEl, {\n            defer: true,\n            exclude: [dom.getTriggerEl(ctx2)],\n            onInteractOutside: ctx2.onInteractOutside,\n            onFocusOutside: ctx2.onFocusOutside,\n            onEscapeKeyDown(event) {\n              if (ctx2.isSubmenu)\n                event.preventDefault();\n              closeRootMenu(ctx2);\n            },\n            onPointerDownOutside(event) {\n              ctx2.focusTriggerOnClose = !event.detail.focusable;\n              ctx2.onPointerDownOutside?.(event);\n            },\n            onDismiss() {\n              send({ type: \"REQUEST_CLOSE\", src: \"interact-outside\" });\n            }\n          });\n        },\n        trackPointerMove(ctx2, _evt, { guards: guards2, send }) {\n          const { isWithinPolygon } = guards2;\n          ctx2.parent.state.context.suspendPointer = true;\n          const doc = dom.getDoc(ctx2);\n          return (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_4__.addDomEvent)(doc, \"pointermove\", (e) => {\n            const point = { x: e.clientX, y: e.clientY };\n            const isMovingToSubmenu = isWithinPolygon(ctx2, { point });\n            if (!isMovingToSubmenu) {\n              send(\"POINTER_MOVED_AWAY_FROM_SUBMENU\");\n              ctx2.parent.state.context.suspendPointer = false;\n            }\n          });\n        },\n        scrollToHighlightedItem(ctx2, _evt, { getState }) {\n          const exec = () => {\n            const state = getState();\n            if (state.event.type.startsWith(\"ITEM_POINTER\"))\n              return;\n            const optionEl = dom.getHighlightedOptionEl(ctx2);\n            optionEl?.scrollIntoView({ block: \"nearest\" });\n          };\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => exec());\n          return (0,_zag_js_mutation_observer__WEBPACK_IMPORTED_MODULE_9__.observeAttributes)(dom.getContentEl(ctx2), [\"aria-activedescendant\"], exec);\n        }\n      },\n      actions: {\n        setAnchorPoint(ctx2, evt) {\n          ctx2.anchorPoint = evt.point;\n        },\n        clearAnchorPoint(ctx2) {\n          ctx2.anchorPoint = null;\n        },\n        setSubmenuPlacement(ctx2) {\n          if (!ctx2.isSubmenu)\n            return;\n          ctx2.positioning.placement = ctx2.isRtl ? \"left-start\" : \"right-start\";\n          ctx2.positioning.gutter = 0;\n        },\n        reposition(ctx2, evt) {\n          const getPositionerEl = () => dom.getPositionerEl(ctx2);\n          const getAnchorRect = ctx2.anchorPoint ? () => ({ width: 0, height: 0, ...ctx2.anchorPoint }) : void 0;\n          (0,_zag_js_popper__WEBPACK_IMPORTED_MODULE_3__.getPlacement)(dom.getTriggerEl(ctx2), getPositionerEl, {\n            ...ctx2.positioning,\n            getAnchorRect,\n            ...evt.options ?? {},\n            listeners: false,\n            onComplete(data) {\n              ctx2.currentPlacement = data.placement;\n            }\n          });\n        },\n        invokeOnValueChange(ctx2, evt) {\n          if (!ctx2.value)\n            return;\n          const name = evt.name ?? evt.option?.name;\n          if (!name)\n            return;\n          const values = ctx2.value[name];\n          const valueAsArray = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.isArray)(values) ? Array.from(values) : values;\n          ctx2.onValueChange?.({ name, value: valueAsArray });\n        },\n        setOptionValue(ctx2, evt) {\n          if (!ctx2.value)\n            return;\n          ctx2.value[evt.name] = evt.value;\n        },\n        changeOptionValue(ctx2, evt) {\n          if (!evt.option || !ctx2.value)\n            return;\n          const { value, type, name } = evt.option;\n          const values = ctx2.value[name];\n          if (type === \"checkbox\" && (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.isArray)(values)) {\n            ctx2.value[name] = values.includes(value) ? (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.remove)(values, value) : (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.add)(values, value);\n          } else {\n            ctx2.value[name] = value;\n          }\n        },\n        clickFocusedItem(ctx2, _evt, { send }) {\n          const itemEl = dom.getFocusedItem(ctx2);\n          if (!itemEl || itemEl.dataset.disabled)\n            return;\n          const { id } = itemEl;\n          send({ type: \"ITEM_CLICK\", src: \"pointerup\", target: itemEl, id });\n        },\n        setIntentPolygon(ctx2, evt) {\n          const menu = dom.getContentEl(ctx2);\n          const placement = ctx2.currentPlacement;\n          if (!menu || !placement)\n            return;\n          const rect = menu.getBoundingClientRect();\n          const polygon = (0,_zag_js_rect_utils__WEBPACK_IMPORTED_MODULE_7__.getElementPolygon)(rect, placement);\n          if (!polygon)\n            return;\n          const rightSide = (0,_zag_js_popper__WEBPACK_IMPORTED_MODULE_3__.getPlacementSide)(placement) === \"right\";\n          const bleed = rightSide ? -5 : 5;\n          ctx2.intentPolygon = [{ ...evt.point, x: evt.point.x + bleed }, ...polygon];\n        },\n        clearIntentPolygon(ctx2) {\n          ctx2.intentPolygon = null;\n        },\n        resumePointer(ctx2) {\n          if (!ctx2.parent)\n            return;\n          ctx2.parent.state.context.suspendPointer = false;\n        },\n        setFocusedItem(ctx2, evt) {\n          ctx2.highlightedId = evt.id;\n        },\n        clearFocusedItem(ctx2) {\n          ctx2.highlightedId = null;\n        },\n        focusMenu(ctx2) {\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => {\n            const activeEl = dom.getActiveElement(ctx2);\n            const contentEl = dom.getContentEl(ctx2);\n            if ((0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.contains)(contentEl, activeEl))\n              return;\n            contentEl?.focus({ preventScroll: true });\n          });\n        },\n        focusFirstItem(ctx2) {\n          const first2 = dom.getFirstEl(ctx2);\n          if (!first2)\n            return;\n          ctx2.highlightedId = first2.id;\n        },\n        focusLastItem(ctx2) {\n          const last2 = dom.getLastEl(ctx2);\n          if (!last2)\n            return;\n          ctx2.highlightedId = last2.id;\n        },\n        focusNextItem(ctx2, evt) {\n          const next = dom.getNextEl(ctx2, evt.loop);\n          ctx2.highlightedId = next?.id ?? null;\n        },\n        focusPrevItem(ctx2, evt) {\n          const prev = dom.getPrevEl(ctx2, evt.loop);\n          ctx2.highlightedId = prev?.id ?? null;\n        },\n        invokeOnSelect(ctx2) {\n          if (!ctx2.highlightedId)\n            return;\n          ctx2.onSelect?.({ value: ctx2.highlightedId });\n        },\n        focusItem(ctx2, evt) {\n          ctx2.highlightedId = evt.id;\n        },\n        focusTrigger(ctx2) {\n          if (ctx2.isSubmenu || ctx2.anchorPoint || !ctx2.focusTriggerOnClose)\n            return;\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => dom.getTriggerEl(ctx2)?.focus({ preventScroll: true }));\n        },\n        focusMatchedItem(ctx2, evt) {\n          const node = dom.getElemByKey(ctx2, evt.key);\n          if (node)\n            ctx2.highlightedId = node.id;\n        },\n        setParentMenu(ctx2, evt) {\n          ctx2.parent = (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_6__.ref)(evt.value);\n        },\n        setChildMenu(ctx2, evt) {\n          ctx2.children[evt.id] = (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_6__.ref)(evt.value);\n        },\n        closeRootMenu(ctx2) {\n          closeRootMenu(ctx2);\n        },\n        openSubmenu(ctx2) {\n          const item = dom.getFocusedItem(ctx2);\n          const id = item?.getAttribute(\"data-uid\");\n          const child = id ? ctx2.children[id] : null;\n          child?.send(\"OPEN_AUTOFOCUS\");\n        },\n        focusParentMenu(ctx2) {\n          ctx2.parent?.send(\"FOCUS_MENU\");\n        },\n        setHoveredItem(ctx2, evt) {\n          ctx2.hoverId = evt.id;\n        },\n        restoreFocus(ctx2) {\n          if (!ctx2.hoverId)\n            return;\n          ctx2.highlightedId = ctx2.hoverId;\n          ctx2.hoverId = null;\n        },\n        restoreParentFocus(ctx2) {\n          ctx2.parent?.send(\"RESTORE_FOCUS\");\n        },\n        invokeOnOpen(ctx2) {\n          ctx2.onOpenChange?.({ open: true });\n        },\n        invokeOnClose(ctx2) {\n          ctx2.onOpenChange?.({ open: false });\n        },\n        toggleVisibility(ctx2, _evt, { send }) {\n          send({ type: ctx2.open ? \"OPEN\" : \"CLOSE\" });\n        }\n      }\n    }\n  );\n}\nfunction closeRootMenu(ctx) {\n  let parent = ctx.parent;\n  while (parent && parent.state.context.isSubmenu) {\n    parent = parent.state.context.parent;\n  }\n  parent?.send(\"CLOSE\");\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9tZW51L2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNnRDtBQUNoRCxjQUFjLDhEQUFhO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDMEM7QUFRZjtBQUNrRTtBQUN6QztBQUNkOztBQUV0QztBQUM2RztBQUNqRTtBQUM1QyxVQUFVLDhEQUFXO0FBQ3JCLHFEQUFxRCxPQUFPO0FBQzVELG1FQUFtRSxPQUFPO0FBQzFFLHFEQUFxRCxPQUFPO0FBQzVELGlEQUFpRCxPQUFPO0FBQ3hELDJEQUEyRCxPQUFPO0FBQ2xFLDJEQUEyRCxPQUFPLFNBQVMsR0FBRztBQUM5RSxnRUFBZ0UsT0FBTyxTQUFTLEdBQUc7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsUUFBUTtBQUNoRSxXQUFXLDJEQUFRO0FBQ25CLEdBQUc7QUFDSCx1QkFBdUIsb0RBQUs7QUFDNUIsc0JBQXNCLG1EQUFJO0FBQzFCLDRCQUE0QiwyREFBUTtBQUNwQyw0QkFBNEIsMkRBQVE7QUFDcEMsOEJBQThCLGlFQUFjLHlCQUF5Qix3REFBd0Q7QUFDN0g7QUFDQSxXQUFXLGdFQUFhO0FBQ3hCLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixrRUFBa0I7QUFDekM7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixvREFBSztBQUN4QjtBQUNBO0FBQ0EsT0FBTztBQUNQ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Q0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZixnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtB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QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxVQUFVLHNEQUFHLHVDQUF1QyxxQkFBcUI7QUFDekUsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0Esd0JBQXdCLGlEQUFHO0FBQzNCLFNBQVM7QUFDVDtBQUNBLGtDQUFrQyxpREFBRztBQUNyQyxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxnQ0FBZ0MsWUFBWTtBQUM1QyxTQUFTO0FBQ1Q7QUFDQSxnQ0FBZ0MsYUFBYTtBQUM3QyxTQUFTO0FBQ1QsdUNBQXVDLE1BQU07QUFDN0MsaUJBQWlCLG9DQUFvQztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBhcmstdWkvZXhhbXBsZXMtcmVhY3QtbmV4dC1qcy8uL25vZGVfbW9kdWxlcy9AemFnLWpzL21lbnUvZGlzdC9pbmRleC5tanM/N2E2MCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvbWVudS5hbmF0b215LnRzXG5pbXBvcnQgeyBjcmVhdGVBbmF0b215IH0gZnJvbSBcIkB6YWctanMvYW5hdG9teVwiO1xudmFyIGFuYXRvbXkgPSBjcmVhdGVBbmF0b215KFwibWVudVwiKS5wYXJ0cyhcbiAgXCJjb250ZXh0VHJpZ2dlclwiLFxuICBcInRyaWdnZXJcIixcbiAgXCJ0cmlnZ2VySXRlbVwiLFxuICBcImluZGljYXRvclwiLFxuICBcInBvc2l0aW9uZXJcIixcbiAgXCJhcnJvd1wiLFxuICBcImFycm93VGlwXCIsXG4gIFwiY29udGVudFwiLFxuICBcInNlcGFyYXRvclwiLFxuICBcIml0ZW1cIixcbiAgXCJvcHRpb25JdGVtXCIsXG4gIFwib3B0aW9uSXRlbUluZGljYXRvclwiLFxuICBcIm9wdGlvbkl0ZW1UZXh0XCIsXG4gIFwiaXRlbUdyb3VwTGFiZWxcIixcbiAgXCJpdGVtR3JvdXBcIlxuKTtcbnZhciBwYXJ0cyA9IGFuYXRvbXkuYnVpbGQoKTtcblxuLy8gc3JjL21lbnUuY29ubmVjdC50c1xuaW1wb3J0IHsgbWVyZ2VQcm9wcyB9IGZyb20gXCJAemFnLWpzL2NvcmVcIjtcbmltcG9ydCB7XG4gIGdldEV2ZW50S2V5LFxuICBnZXRFdmVudFBvaW50LFxuICBnZXROYXRpdmVFdmVudCxcbiAgaXNDb250ZXh0TWVudUV2ZW50LFxuICBpc0xlZnRDbGljayxcbiAgaXNNb2RpZmllZEV2ZW50XG59IGZyb20gXCJAemFnLWpzL2RvbS1ldmVudFwiO1xuaW1wb3J0IHsgZGF0YUF0dHIsIGdldEV2ZW50VGFyZ2V0LCBpc0VkaXRhYmxlRWxlbWVudCwgaXNTZWxmRXZlbnQgfSBmcm9tIFwiQHphZy1qcy9kb20tcXVlcnlcIjtcbmltcG9ydCB7IGdldFBsYWNlbWVudFN0eWxlcyB9IGZyb20gXCJAemFnLWpzL3BvcHBlclwiO1xuaW1wb3J0IHsgbWF0Y2ggfSBmcm9tIFwiQHphZy1qcy91dGlsc1wiO1xuXG4vLyBzcmMvbWVudS5kb20udHNcbmltcG9ydCB7IGlzSFRNTEVsZW1lbnQsIG5leHRCeUlkLCBwcmV2QnlJZCwgcXVlcnlBbGwsIGdldEJ5VHlwZWFoZWFkLCBjcmVhdGVTY29wZSB9IGZyb20gXCJAemFnLWpzL2RvbS1xdWVyeVwiO1xuaW1wb3J0IHsgZmlyc3QsIGxhc3QgfSBmcm9tIFwiQHphZy1qcy91dGlsc1wiO1xudmFyIGRvbSA9IGNyZWF0ZVNjb3BlKHtcbiAgZ2V0VHJpZ2dlcklkOiAoY3R4KSA9PiBjdHguaWRzPy50cmlnZ2VyID8/IGBtZW51OiR7Y3R4LmlkfTp0cmlnZ2VyYCxcbiAgZ2V0Q29udGV4dFRyaWdnZXJJZDogKGN0eCkgPT4gY3R4Lmlkcz8uY29udGV4dFRyaWdnZXIgPz8gYG1lbnU6JHtjdHguaWR9OmN0eC10cmlnZ2VyYCxcbiAgZ2V0Q29udGVudElkOiAoY3R4KSA9PiBjdHguaWRzPy5jb250ZW50ID8/IGBtZW51OiR7Y3R4LmlkfTpjb250ZW50YCxcbiAgZ2V0QXJyb3dJZDogKGN0eCkgPT4gY3R4Lmlkcz8uYXJyb3cgPz8gYG1lbnU6JHtjdHguaWR9OmFycm93YCxcbiAgZ2V0UG9zaXRpb25lcklkOiAoY3R4KSA9PiBjdHguaWRzPy5wb3NpdGlvbmVyID8/IGBtZW51OiR7Y3R4LmlkfTpwb3BwZXJgLFxuICBnZXRHcm91cElkOiAoY3R4LCBpZCkgPT4gY3R4Lmlkcz8uZ3JvdXA/LihpZCkgPz8gYG1lbnU6JHtjdHguaWR9Omdyb3VwOiR7aWR9YCxcbiAgZ2V0R3JvdXBMYWJlbElkOiAoY3R4LCBpZCkgPT4gY3R4Lmlkcz8ubGFiZWw/LihpZCkgPz8gYG1lbnU6JHtjdHguaWR9OmxhYmVsOiR7aWR9YCxcbiAgZ2V0Q29udGVudEVsOiAoY3R4KSA9PiBkb20uZ2V0QnlJZChjdHgsIGRvbS5nZXRDb250ZW50SWQoY3R4KSksXG4gIGdldFBvc2l0aW9uZXJFbDogKGN0eCkgPT4gZG9tLmdldEJ5SWQoY3R4LCBkb20uZ2V0UG9zaXRpb25lcklkKGN0eCkpLFxuICBnZXRUcmlnZ2VyRWw6IChjdHgpID0+IGRvbS5nZXRCeUlkKGN0eCwgZG9tLmdldFRyaWdnZXJJZChjdHgpKSxcbiAgZ2V0Rm9jdXNlZEl0ZW06IChjdHgpID0+IGN0eC5oaWdobGlnaHRlZElkID8gZG9tLmdldEJ5SWQoY3R4LCBjdHguaGlnaGxpZ2h0ZWRJZCkgOiBudWxsLFxuICBnZXRBcnJvd0VsOiAoY3R4KSA9PiBkb20uZ2V0QnlJZChjdHgsIGRvbS5nZXRBcnJvd0lkKGN0eCkpLFxuICBnZXRFbGVtZW50czogKGN0eCkgPT4ge1xuICAgIGNvbnN0IG93bmVySWQgPSBDU1MuZXNjYXBlKGRvbS5nZXRDb250ZW50SWQoY3R4KSk7XG4gICAgY29uc3Qgc2VsZWN0b3IgPSBgW3JvbGVePVwibWVudWl0ZW1cIl1bZGF0YS1vd25lZGJ5PSR7b3duZXJJZH1dOm5vdChbZGF0YS1kaXNhYmxlZF0pYDtcbiAgICByZXR1cm4gcXVlcnlBbGwoZG9tLmdldENvbnRlbnRFbChjdHgpLCBzZWxlY3Rvcik7XG4gIH0sXG4gIGdldEZpcnN0RWw6IChjdHgpID0+IGZpcnN0KGRvbS5nZXRFbGVtZW50cyhjdHgpKSxcbiAgZ2V0TGFzdEVsOiAoY3R4KSA9PiBsYXN0KGRvbS5nZXRFbGVtZW50cyhjdHgpKSxcbiAgZ2V0TmV4dEVsOiAoY3R4LCBsb29wKSA9PiBuZXh0QnlJZChkb20uZ2V0RWxlbWVudHMoY3R4KSwgY3R4LmhpZ2hsaWdodGVkSWQsIGxvb3AgPz8gY3R4Lmxvb3ApLFxuICBnZXRQcmV2RWw6IChjdHgsIGxvb3ApID0+IHByZXZCeUlkKGRvbS5nZXRFbGVtZW50cyhjdHgpLCBjdHguaGlnaGxpZ2h0ZWRJZCwgbG9vcCA/PyBjdHgubG9vcCksXG4gIGdldEVsZW1CeUtleTogKGN0eCwga2V5KSA9PiBnZXRCeVR5cGVhaGVhZChkb20uZ2V0RWxlbWVudHMoY3R4KSwgeyBzdGF0ZTogY3R4LnR5cGVhaGVhZCwga2V5LCBhY3RpdmVJZDogY3R4LmhpZ2hsaWdodGVkSWQgfSksXG4gIGlzVGFyZ2V0RGlzYWJsZWQ6ICh2KSA9PiB7XG4gICAgcmV0dXJuIGlzSFRNTEVsZW1lbnQodikgJiYgKHYuZGF0YXNldC5kaXNhYmxlZCA9PT0gXCJcIiB8fCB2Lmhhc0F0dHJpYnV0ZShcImRpc2FibGVkXCIpKTtcbiAgfSxcbiAgaXNUcmlnZ2VySXRlbTogKGVsKSA9PiB7XG4gICAgcmV0dXJuICEhZWw/LmdldEF0dHJpYnV0ZShcInJvbGVcIik/LnN0YXJ0c1dpdGgoXCJtZW51aXRlbVwiKSAmJiAhIWVsPy5oYXNBdHRyaWJ1dGUoXCJhcmlhLWNvbnRyb2xzXCIpO1xuICB9LFxuICBnZXRIaWdobGlnaHRlZE9wdGlvbkVsKGN0eCkge1xuICAgIGlmICghY3R4LmhpZ2hsaWdodGVkSWQpXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gZG9tLmdldEJ5SWQoY3R4LCBjdHguaGlnaGxpZ2h0ZWRJZCk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvbWVudS5jb25uZWN0LnRzXG5mdW5jdGlvbiBjb25uZWN0KHN0YXRlLCBzZW5kLCBub3JtYWxpemUpIHtcbiAgY29uc3QgaXNTdWJtZW51ID0gc3RhdGUuY29udGV4dC5pc1N1Ym1lbnU7XG4gIGNvbnN0IHZhbHVlcyA9IHN0YXRlLmNvbnRleHQudmFsdWU7XG4gIGNvbnN0IGlzVHlwaW5nQWhlYWQgPSBzdGF0ZS5jb250ZXh0LmlzVHlwaW5nQWhlYWQ7XG4gIGNvbnN0IGlzT3BlbiA9IHN0YXRlLmhhc1RhZyhcInZpc2libGVcIik7XG4gIGNvbnN0IHBvcHBlclN0eWxlcyA9IGdldFBsYWNlbWVudFN0eWxlcyh7XG4gICAgLi4uc3RhdGUuY29udGV4dC5wb3NpdGlvbmluZyxcbiAgICBwbGFjZW1lbnQ6IHN0YXRlLmNvbnRleHQuY3VycmVudFBsYWNlbWVudFxuICB9KTtcbiAgZnVuY3Rpb24gZ2V0SXRlbVN0YXRlKHByb3BzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzRGlzYWJsZWQ6ICEhcHJvcHMuZGlzYWJsZWQsXG4gICAgICBpc0hpZ2hsaWdodGVkOiBzdGF0ZS5jb250ZXh0LmhpZ2hsaWdodGVkSWQgPT09IHByb3BzLmlkXG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBnZXRPcHRpb25JdGVtUHJvcHMocHJvcHMpIHtcbiAgICBjb25zdCBpZCA9IHByb3BzLmlkID8/IHByb3BzLnZhbHVlO1xuICAgIGNvbnN0IHZhbHVlVGV4dCA9IHByb3BzLnZhbHVlVGV4dCA/PyBwcm9wcy52YWx1ZTtcbiAgICByZXR1cm4geyAuLi5wcm9wcywgaWQsIHZhbHVlVGV4dCB9O1xuICB9XG4gIGZ1bmN0aW9uIGdldE9wdGlvbkl0ZW1TdGF0ZShwcm9wcykge1xuICAgIGNvbnN0IGl0ZW1TdGF0ZSA9IGdldEl0ZW1TdGF0ZShnZXRPcHRpb25JdGVtUHJvcHMocHJvcHMpKTtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uaXRlbVN0YXRlLFxuICAgICAgaXNDaGVja2VkOiAhIW1hdGNoKHByb3BzLnR5cGUsIHtcbiAgICAgICAgcmFkaW86ICgpID0+IHZhbHVlcz8uW3Byb3BzLm5hbWVdID09PSBwcm9wcy52YWx1ZSxcbiAgICAgICAgY2hlY2tib3g6ICgpID0+IHZhbHVlcz8uW3Byb3BzLm5hbWVdLmluY2x1ZGVzKHByb3BzLnZhbHVlKVxuICAgICAgfSlcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIGdldEl0ZW1Qcm9wcyhwcm9wcykge1xuICAgIGNvbnN0IHsgaWQsIGNsb3NlT25TZWxlY3QsIHZhbHVlVGV4dCB9ID0gcHJvcHM7XG4gICAgY29uc3QgaXRlbVN0YXRlID0gZ2V0SXRlbVN0YXRlKHByb3BzKTtcbiAgICByZXR1cm4gbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgLi4ucGFydHMuaXRlbS5hdHRycyxcbiAgICAgIGlkLFxuICAgICAgcm9sZTogXCJtZW51aXRlbVwiLFxuICAgICAgXCJhcmlhLWRpc2FibGVkXCI6IGl0ZW1TdGF0ZS5pc0Rpc2FibGVkLFxuICAgICAgXCJkYXRhLWRpc2FibGVkXCI6IGRhdGFBdHRyKGl0ZW1TdGF0ZS5pc0Rpc2FibGVkKSxcbiAgICAgIFwiZGF0YS1vd25lZGJ5XCI6IGRvbS5nZXRDb250ZW50SWQoc3RhdGUuY29udGV4dCksXG4gICAgICBcImRhdGEtaGlnaGxpZ2h0ZWRcIjogZGF0YUF0dHIoaXRlbVN0YXRlLmlzSGlnaGxpZ2h0ZWQpLFxuICAgICAgXCJkYXRhLXZhbHVldGV4dFwiOiB2YWx1ZVRleHQsXG4gICAgICBvbkRyYWdTdGFydChldmVudCkge1xuICAgICAgICBjb25zdCBpc0xpbmsgPSBldmVudC5jdXJyZW50VGFyZ2V0Lm1hdGNoZXMoXCJhW2hyZWZdXCIpO1xuICAgICAgICBpZiAoaXNMaW5rKVxuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9LFxuICAgICAgb25Qb2ludGVyTGVhdmUoZXZlbnQpIHtcbiAgICAgICAgaWYgKGl0ZW1TdGF0ZS5pc0Rpc2FibGVkIHx8IGV2ZW50LnBvaW50ZXJUeXBlICE9PSBcIm1vdXNlXCIpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuICAgICAgICBzZW5kKHsgdHlwZTogXCJJVEVNX1BPSU5URVJMRUFWRVwiLCBpZCwgdGFyZ2V0LCBjbG9zZU9uU2VsZWN0IH0pO1xuICAgICAgfSxcbiAgICAgIG9uUG9pbnRlck1vdmUoZXZlbnQpIHtcbiAgICAgICAgaWYgKGl0ZW1TdGF0ZS5pc0Rpc2FibGVkIHx8IGV2ZW50LnBvaW50ZXJUeXBlICE9PSBcIm1vdXNlXCIpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuICAgICAgICBzZW5kKHsgdHlwZTogXCJJVEVNX1BPSU5URVJNT1ZFXCIsIGlkLCB0YXJnZXQsIGNsb3NlT25TZWxlY3QgfSk7XG4gICAgICB9LFxuICAgICAgb25Qb2ludGVyRG93bihldmVudCkge1xuICAgICAgICBpZiAoaXRlbVN0YXRlLmlzRGlzYWJsZWQpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuICAgICAgICBzZW5kKHsgdHlwZTogXCJJVEVNX1BPSU5URVJET1dOXCIsIHRhcmdldCwgaWQsIGNsb3NlT25TZWxlY3QgfSk7XG4gICAgICB9LFxuICAgICAgb25Qb2ludGVyVXAoZXZlbnQpIHtcbiAgICAgICAgY29uc3QgZXZ0ID0gZ2V0TmF0aXZlRXZlbnQoZXZlbnQpO1xuICAgICAgICBpZiAoIWlzTGVmdENsaWNrKGV2dCkgfHwgaXRlbVN0YXRlLmlzRGlzYWJsZWQpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuICAgICAgICBzZW5kKHsgdHlwZTogXCJJVEVNX0NMSUNLXCIsIHNyYzogXCJwb2ludGVydXBcIiwgdGFyZ2V0LCBpZCwgY2xvc2VPblNlbGVjdCB9KTtcbiAgICAgICAgaWYgKHRhcmdldC5tYXRjaGVzKFwiYVtocmVmXVwiKSAmJiBldmVudC5wb2ludGVyVHlwZSA9PT0gXCJ0b3VjaFwiKSB7XG4gICAgICAgICAgdGFyZ2V0LmNsaWNrKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGhpZ2hsaWdodGVkSWQ6IHN0YXRlLmNvbnRleHQuaGlnaGxpZ2h0ZWRJZCxcbiAgICBpc09wZW4sXG4gICAgb3BlbigpIHtcbiAgICAgIHNlbmQoXCJPUEVOXCIpO1xuICAgIH0sXG4gICAgY2xvc2UoKSB7XG4gICAgICBzZW5kKFwiQ0xPU0VcIik7XG4gICAgfSxcbiAgICBzZXRIaWdobGlnaHRlZElkKGlkKSB7XG4gICAgICBzZW5kKHsgdHlwZTogXCJTRVRfSElHSExJR0hURURfSURcIiwgaWQgfSk7XG4gICAgfSxcbiAgICBzZXRQYXJlbnQocGFyZW50KSB7XG4gICAgICBzZW5kKHsgdHlwZTogXCJTRVRfUEFSRU5UXCIsIHZhbHVlOiBwYXJlbnQsIGlkOiBwYXJlbnQuc3RhdGUuY29udGV4dC5pZCB9KTtcbiAgICB9LFxuICAgIHNldENoaWxkKGNoaWxkKSB7XG4gICAgICBzZW5kKHsgdHlwZTogXCJTRVRfQ0hJTERcIiwgdmFsdWU6IGNoaWxkLCBpZDogY2hpbGQuc3RhdGUuY29udGV4dC5pZCB9KTtcbiAgICB9LFxuICAgIHZhbHVlOiB2YWx1ZXMsXG4gICAgc2V0VmFsdWUobmFtZSwgdmFsdWUpIHtcbiAgICAgIHNlbmQoeyB0eXBlOiBcIlNFVF9WQUxVRVwiLCBuYW1lLCB2YWx1ZSB9KTtcbiAgICB9LFxuICAgIHJlcG9zaXRpb24ob3B0aW9ucyA9IHt9KSB7XG4gICAgICBzZW5kKHsgdHlwZTogXCJTRVRfUE9TSVRJT05JTkdcIiwgb3B0aW9ucyB9KTtcbiAgICB9LFxuICAgIGNvbnRleHRUcmlnZ2VyUHJvcHM6IG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgIC4uLnBhcnRzLmNvbnRleHRUcmlnZ2VyLmF0dHJzLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIGlkOiBkb20uZ2V0Q29udGV4dFRyaWdnZXJJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIG9uUG9pbnRlckRvd24oZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSBcIm1vdXNlXCIpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBldnQgPSBnZXROYXRpdmVFdmVudChldmVudCk7XG4gICAgICAgIGNvbnN0IHBvaW50ID0gZ2V0RXZlbnRQb2ludChldnQpO1xuICAgICAgICBzZW5kKHsgdHlwZTogXCJDT05URVhUX01FTlVfU1RBUlRcIiwgcG9pbnQgfSk7XG4gICAgICB9LFxuICAgICAgb25Qb2ludGVyQ2FuY2VsKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gXCJtb3VzZVwiKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgc2VuZChcIkNPTlRFWFRfTUVOVV9DQU5DRUxcIik7XG4gICAgICB9LFxuICAgICAgb25Qb2ludGVyTW92ZShldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09IFwibW91c2VcIilcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIHNlbmQoXCJDT05URVhUX01FTlVfQ0FOQ0VMXCIpO1xuICAgICAgfSxcbiAgICAgIG9uUG9pbnRlclVwKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gXCJtb3VzZVwiKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgc2VuZChcIkNPTlRFWFRfTUVOVV9DQU5DRUxcIik7XG4gICAgICB9LFxuICAgICAgb25Db250ZXh0TWVudShldmVudCkge1xuICAgICAgICBjb25zdCBldnQgPSBnZXROYXRpdmVFdmVudChldmVudCk7XG4gICAgICAgIGNvbnN0IHBvaW50ID0gZ2V0RXZlbnRQb2ludChldnQpO1xuICAgICAgICBzZW5kKHsgdHlwZTogXCJDT05URVhUX01FTlVcIiwgcG9pbnQgfSk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9LFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgV2Via2l0VG91Y2hDYWxsb3V0OiBcIm5vbmVcIixcbiAgICAgICAgdXNlclNlbGVjdDogXCJub25lXCJcbiAgICAgIH1cbiAgICB9KSxcbiAgICBnZXRUcmlnZ2VySXRlbVByb3BzKGNoaWxkQXBpKSB7XG4gICAgICByZXR1cm4gbWVyZ2VQcm9wcyhnZXRJdGVtUHJvcHMoeyBpZDogY2hpbGRBcGkudHJpZ2dlclByb3BzLmlkIH0pLCBjaGlsZEFwaS50cmlnZ2VyUHJvcHMpO1xuICAgIH0sXG4gICAgdHJpZ2dlclByb3BzOiBub3JtYWxpemUuYnV0dG9uKHtcbiAgICAgIC4uLmlzU3VibWVudSA/IHBhcnRzLnRyaWdnZXJJdGVtLmF0dHJzIDogcGFydHMudHJpZ2dlci5hdHRycyxcbiAgICAgIFwiZGF0YS1wbGFjZW1lbnRcIjogc3RhdGUuY29udGV4dC5jdXJyZW50UGxhY2VtZW50LFxuICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICBpZDogZG9tLmdldFRyaWdnZXJJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIFwiZGF0YS11aWRcIjogc3RhdGUuY29udGV4dC5pZCxcbiAgICAgIFwiYXJpYS1oYXNwb3B1cFwiOiBcIm1lbnVcIixcbiAgICAgIFwiYXJpYS1jb250cm9sc1wiOiBkb20uZ2V0Q29udGVudElkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgXCJhcmlhLWV4cGFuZGVkXCI6IGlzT3BlbiB8fCB2b2lkIDAsXG4gICAgICBcImRhdGEtc3RhdGVcIjogaXNPcGVuID8gXCJvcGVuXCIgOiBcImNsb3NlZFwiLFxuICAgICAgb25Qb2ludGVyTW92ZShldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgIT09IFwibW91c2VcIilcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGRpc2FibGVkID0gZG9tLmlzVGFyZ2V0RGlzYWJsZWQoZXZlbnQuY3VycmVudFRhcmdldCk7XG4gICAgICAgIGlmIChkaXNhYmxlZCB8fCAhaXNTdWJtZW51KVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgc2VuZCh7IHR5cGU6IFwiVFJJR0dFUl9QT0lOVEVSTU9WRVwiLCB0YXJnZXQ6IGV2ZW50LmN1cnJlbnRUYXJnZXQgfSk7XG4gICAgICB9LFxuICAgICAgb25Qb2ludGVyTGVhdmUoZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlICE9PSBcIm1vdXNlXCIpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBldnQgPSBnZXROYXRpdmVFdmVudChldmVudCk7XG4gICAgICAgIGNvbnN0IGRpc2FibGVkID0gZG9tLmlzVGFyZ2V0RGlzYWJsZWQoZXZlbnQuY3VycmVudFRhcmdldCk7XG4gICAgICAgIGlmIChkaXNhYmxlZCB8fCAhaXNTdWJtZW51KVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgcG9pbnQgPSBnZXRFdmVudFBvaW50KGV2dCk7XG4gICAgICAgIHNlbmQoeyB0eXBlOiBcIlRSSUdHRVJfUE9JTlRFUkxFQVZFXCIsIHRhcmdldDogZXZlbnQuY3VycmVudFRhcmdldCwgcG9pbnQgfSk7XG4gICAgICB9LFxuICAgICAgb25DbGljayhldmVudCkge1xuICAgICAgICBpZiAoZG9tLmlzVHJpZ2dlckl0ZW0oZXZlbnQuY3VycmVudFRhcmdldCkpIHtcbiAgICAgICAgICBzZW5kKHsgdHlwZTogXCJUUklHR0VSX0NMSUNLXCIsIHRhcmdldDogZXZlbnQuY3VycmVudFRhcmdldCB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uUG9pbnRlckRvd24oZXZlbnQpIHtcbiAgICAgICAgY29uc3QgZGlzYWJsZWQgPSBkb20uaXNUYXJnZXREaXNhYmxlZChldmVudC5jdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgY29uc3QgZXZ0ID0gZ2V0TmF0aXZlRXZlbnQoZXZlbnQpO1xuICAgICAgICBpZiAoIWlzTGVmdENsaWNrKGV2dCkgfHwgZGlzYWJsZWQgfHwgaXNDb250ZXh0TWVudUV2ZW50KGV2ZW50KSlcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICghZG9tLmlzVHJpZ2dlckl0ZW0oZXZlbnQuY3VycmVudFRhcmdldCkpIHtcbiAgICAgICAgICBzZW5kKHsgdHlwZTogXCJUUklHR0VSX0NMSUNLXCIsIHRhcmdldDogZXZlbnQuY3VycmVudFRhcmdldCB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uQmx1cigpIHtcbiAgICAgICAgc2VuZChcIlRSSUdHRVJfQkxVUlwiKTtcbiAgICAgIH0sXG4gICAgICBvbkZvY3VzKCkge1xuICAgICAgICBzZW5kKFwiVFJJR0dFUl9GT0NVU1wiKTtcbiAgICAgIH0sXG4gICAgICBvbktleURvd24oZXZlbnQpIHtcbiAgICAgICAgY29uc3Qga2V5TWFwID0ge1xuICAgICAgICAgIEFycm93RG93bigpIHtcbiAgICAgICAgICAgIHNlbmQoXCJBUlJPV19ET1dOXCIpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgQXJyb3dVcCgpIHtcbiAgICAgICAgICAgIHNlbmQoXCJBUlJPV19VUFwiKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIEVudGVyKCkge1xuICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwiQVJST1dfRE9XTlwiIH0pO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgU3BhY2UoKSB7XG4gICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJBUlJPV19ET1dOXCIgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBrZXkgPSBnZXRFdmVudEtleShldmVudCwgc3RhdGUuY29udGV4dCk7XG4gICAgICAgIGNvbnN0IGV4ZWMgPSBrZXlNYXBba2V5XTtcbiAgICAgICAgaWYgKGV4ZWMpIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGV4ZWMoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSksXG4gICAgaW5kaWNhdG9yUHJvcHM6IG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgIC4uLnBhcnRzLmluZGljYXRvci5hdHRycyxcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICBcImRhdGEtc3RhdGVcIjogaXNPcGVuID8gXCJvcGVuXCIgOiBcImNsb3NlZFwiXG4gICAgfSksXG4gICAgcG9zaXRpb25lclByb3BzOiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICAuLi5wYXJ0cy5wb3NpdGlvbmVyLmF0dHJzLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIGlkOiBkb20uZ2V0UG9zaXRpb25lcklkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgc3R5bGU6IHBvcHBlclN0eWxlcy5mbG9hdGluZ1xuICAgIH0pLFxuICAgIGFycm93UHJvcHM6IG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgIGlkOiBkb20uZ2V0QXJyb3dJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIC4uLnBhcnRzLmFycm93LmF0dHJzLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIHN0eWxlOiBwb3BwZXJTdHlsZXMuYXJyb3dcbiAgICB9KSxcbiAgICBhcnJvd1RpcFByb3BzOiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICAuLi5wYXJ0cy5hcnJvd1RpcC5hdHRycyxcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICBzdHlsZTogcG9wcGVyU3R5bGVzLmFycm93VGlwXG4gICAgfSksXG4gICAgY29udGVudFByb3BzOiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICAuLi5wYXJ0cy5jb250ZW50LmF0dHJzLFxuICAgICAgaWQ6IGRvbS5nZXRDb250ZW50SWQoc3RhdGUuY29udGV4dCksXG4gICAgICBcImFyaWEtbGFiZWxcIjogc3RhdGUuY29udGV4dFtcImFyaWEtbGFiZWxcIl0sXG4gICAgICBoaWRkZW46ICFpc09wZW4sXG4gICAgICBcImRhdGEtc3RhdGVcIjogaXNPcGVuID8gXCJvcGVuXCIgOiBcImNsb3NlZFwiLFxuICAgICAgcm9sZTogXCJtZW51XCIsXG4gICAgICB0YWJJbmRleDogMCxcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICBcImFyaWEtYWN0aXZlZGVzY2VuZGFudFwiOiBzdGF0ZS5jb250ZXh0LmhpZ2hsaWdodGVkSWQgPz8gdm9pZCAwLFxuICAgICAgXCJhcmlhLWxhYmVsbGVkYnlcIjogZG9tLmdldFRyaWdnZXJJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIFwiZGF0YS1wbGFjZW1lbnRcIjogc3RhdGUuY29udGV4dC5jdXJyZW50UGxhY2VtZW50LFxuICAgICAgb25Qb2ludGVyRW50ZXIoZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlICE9PSBcIm1vdXNlXCIpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBzZW5kKFwiTUVOVV9QT0lOVEVSRU5URVJcIik7XG4gICAgICB9LFxuICAgICAgb25LZXlEb3duKGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGdldEV2ZW50VGFyZ2V0KGdldE5hdGl2ZUV2ZW50KGV2ZW50KSk7XG4gICAgICAgIGNvbnN0IGlzS2V5RG93bkluc2lkZSA9IHRhcmdldD8uY2xvc2VzdChcIltyb2xlPW1lbnVdXCIpID09PSBldmVudC5jdXJyZW50VGFyZ2V0O1xuICAgICAgICBpZiAoIWlzU2VsZkV2ZW50KGV2ZW50KSB8fCAhaXNLZXlEb3duSW5zaWRlKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgaXRlbSA9IGRvbS5nZXRGb2N1c2VkSXRlbShzdGF0ZS5jb250ZXh0KTtcbiAgICAgICAgY29uc3QgaXNMaW5rID0gISFpdGVtPy5tYXRjaGVzKFwiYVtocmVmXVwiKTtcbiAgICAgICAgY29uc3Qga2V5TWFwID0ge1xuICAgICAgICAgIEFycm93RG93bigpIHtcbiAgICAgICAgICAgIHNlbmQoXCJBUlJPV19ET1dOXCIpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgQXJyb3dVcCgpIHtcbiAgICAgICAgICAgIHNlbmQoXCJBUlJPV19VUFwiKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIEFycm93TGVmdCgpIHtcbiAgICAgICAgICAgIHNlbmQoXCJBUlJPV19MRUZUXCIpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgQXJyb3dSaWdodCgpIHtcbiAgICAgICAgICAgIHNlbmQoXCJBUlJPV19SSUdIVFwiKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIEVudGVyKCkge1xuICAgICAgICAgICAgaWYgKGlzTGluaylcbiAgICAgICAgICAgICAgaXRlbT8uY2xpY2soKTtcbiAgICAgICAgICAgIHNlbmQoXCJFTlRFUlwiKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIFNwYWNlKGV2ZW50Mikge1xuICAgICAgICAgICAgaWYgKGlzVHlwaW5nQWhlYWQpIHtcbiAgICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwiVFlQRUFIRUFEXCIsIGtleTogZXZlbnQyLmtleSB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGtleU1hcC5FbnRlcj8uKGV2ZW50Mik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBIb21lKCkge1xuICAgICAgICAgICAgc2VuZChcIkhPTUVcIik7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBFbmQoKSB7XG4gICAgICAgICAgICBzZW5kKFwiRU5EXCIpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgVGFiKGV2ZW50Mikge1xuICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwiVEFCXCIsIHNoaWZ0S2V5OiBldmVudDIuc2hpZnRLZXksIGxvb3A6IGZhbHNlIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qga2V5ID0gZ2V0RXZlbnRLZXkoZXZlbnQsIHsgZGlyOiBzdGF0ZS5jb250ZXh0LmRpciB9KTtcbiAgICAgICAgY29uc3QgZXhlYyA9IGtleU1hcFtrZXldO1xuICAgICAgICBpZiAoZXhlYykge1xuICAgICAgICAgIGNvbnN0IGFsbG93ID0gaXNMaW5rICYmIGtleSA9PT0gXCJFbnRlclwiO1xuICAgICAgICAgIGV4ZWMoZXZlbnQpO1xuICAgICAgICAgIGlmICghYWxsb3cpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGlzU2luZ2xlS2V5ID0gZXZlbnQua2V5Lmxlbmd0aCA9PT0gMTtcbiAgICAgICAgICBjb25zdCBpc1ZhbGlkVHlwZWFoZWFkID0gaXNTaW5nbGVLZXkgJiYgIWlzTW9kaWZpZWRFdmVudChldmVudCkgJiYgIWlzRWRpdGFibGVFbGVtZW50KGl0ZW0pO1xuICAgICAgICAgIGlmICghaXNWYWxpZFR5cGVhaGVhZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBzZW5kKHsgdHlwZTogXCJUWVBFQUhFQURcIiwga2V5OiBldmVudC5rZXkgfSk7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pLFxuICAgIHNlcGFyYXRvclByb3BzOiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICAuLi5wYXJ0cy5zZXBhcmF0b3IuYXR0cnMsXG4gICAgICByb2xlOiBcInNlcGFyYXRvclwiLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIFwiYXJpYS1vcmllbnRhdGlvblwiOiBcImhvcml6b250YWxcIlxuICAgIH0pLFxuICAgIGdldEl0ZW1TdGF0ZSxcbiAgICBnZXRJdGVtUHJvcHMsXG4gICAgZ2V0T3B0aW9uSXRlbVN0YXRlLFxuICAgIGdldE9wdGlvbkl0ZW1Qcm9wcyhwcm9wcykge1xuICAgICAgY29uc3QgeyBuYW1lLCB0eXBlLCBkaXNhYmxlZCwgb25DaGVja2VkQ2hhbmdlLCBjbG9zZU9uU2VsZWN0IH0gPSBwcm9wcztcbiAgICAgIGNvbnN0IG9wdGlvbiA9IGdldE9wdGlvbkl0ZW1Qcm9wcyhwcm9wcyk7XG4gICAgICBjb25zdCBpdGVtU3RhdGUgPSBnZXRPcHRpb25JdGVtU3RhdGUocHJvcHMpO1xuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oXG4gICAgICAgIGdldEl0ZW1Qcm9wcyhvcHRpb24pLFxuICAgICAgICBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICAgICAgXCJkYXRhLXR5cGVcIjogdHlwZSxcbiAgICAgICAgICBcImRhdGEtbmFtZVwiOiBuYW1lLFxuICAgICAgICAgIC4uLnBhcnRzLm9wdGlvbkl0ZW0uYXR0cnMsXG4gICAgICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgICAgICBcImRhdGEtdmFsdWVcIjogb3B0aW9uLnZhbHVlLFxuICAgICAgICAgIHJvbGU6IGBtZW51aXRlbSR7dHlwZX1gLFxuICAgICAgICAgIFwiYXJpYS1jaGVja2VkXCI6ICEhaXRlbVN0YXRlLmlzQ2hlY2tlZCxcbiAgICAgICAgICBcImRhdGEtc3RhdGVcIjogaXRlbVN0YXRlLmlzQ2hlY2tlZCA/IFwiY2hlY2tlZFwiIDogXCJ1bmNoZWNrZWRcIixcbiAgICAgICAgICBvblBvaW50ZXJVcChldmVudCkge1xuICAgICAgICAgICAgY29uc3QgZXZ0ID0gZ2V0TmF0aXZlRXZlbnQoZXZlbnQpO1xuICAgICAgICAgICAgaWYgKCFpc0xlZnRDbGljayhldnQpIHx8IGRpc2FibGVkKVxuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwiSVRFTV9DTElDS1wiLCBzcmM6IFwicG9pbnRlcnVwXCIsIHRhcmdldCwgb3B0aW9uLCBjbG9zZU9uU2VsZWN0IH0pO1xuICAgICAgICAgICAgb25DaGVja2VkQ2hhbmdlPy4oIWl0ZW1TdGF0ZS5pc0NoZWNrZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSxcbiAgICBnZXRPcHRpb25JdGVtSW5kaWNhdG9yUHJvcHMocHJvcHMpIHtcbiAgICAgIGNvbnN0IGl0ZW1TdGF0ZSA9IGdldE9wdGlvbkl0ZW1TdGF0ZShwcm9wcyk7XG4gICAgICByZXR1cm4gbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgICAuLi5wYXJ0cy5vcHRpb25JdGVtSW5kaWNhdG9yLmF0dHJzLFxuICAgICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgICBcImRhdGEtZGlzYWJsZWRcIjogZGF0YUF0dHIoaXRlbVN0YXRlLmlzRGlzYWJsZWQpLFxuICAgICAgICBcImRhdGEtaGlnaGxpZ2h0ZWRcIjogZGF0YUF0dHIoaXRlbVN0YXRlLmlzSGlnaGxpZ2h0ZWQpLFxuICAgICAgICBcImRhdGEtc3RhdGVcIjogaXRlbVN0YXRlLmlzQ2hlY2tlZCA/IFwiY2hlY2tlZFwiIDogXCJ1bmNoZWNrZWRcIixcbiAgICAgICAgaGlkZGVuOiAhaXRlbVN0YXRlLmlzQ2hlY2tlZFxuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZXRPcHRpb25JdGVtVGV4dFByb3BzKHByb3BzKSB7XG4gICAgICBjb25zdCBpdGVtU3RhdGUgPSBnZXRPcHRpb25JdGVtU3RhdGUocHJvcHMpO1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgICAgLi4ucGFydHMub3B0aW9uSXRlbVRleHQuYXR0cnMsXG4gICAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihpdGVtU3RhdGUuaXNEaXNhYmxlZCksXG4gICAgICAgIFwiZGF0YS1oaWdobGlnaHRlZFwiOiBkYXRhQXR0cihpdGVtU3RhdGUuaXNIaWdobGlnaHRlZCksXG4gICAgICAgIFwiZGF0YS1zdGF0ZVwiOiBpdGVtU3RhdGUuaXNDaGVja2VkID8gXCJjaGVja2VkXCIgOiBcInVuY2hlY2tlZFwiXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdldEl0ZW1Hcm91cExhYmVsUHJvcHMocHJvcHMpIHtcbiAgICAgIHJldHVybiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICAgIGlkOiBkb20uZ2V0R3JvdXBMYWJlbElkKHN0YXRlLmNvbnRleHQsIHByb3BzLmh0bWxGb3IpLFxuICAgICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgICAuLi5wYXJ0cy5pdGVtR3JvdXBMYWJlbC5hdHRyc1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZXRJdGVtR3JvdXBQcm9wcyhwcm9wcykge1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgICAgaWQ6IGRvbS5nZXRHcm91cElkKHN0YXRlLmNvbnRleHQsIHByb3BzLmlkKSxcbiAgICAgICAgLi4ucGFydHMuaXRlbUdyb3VwLmF0dHJzLFxuICAgICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgICBcImFyaWEtbGFiZWxsZWRieVwiOiBkb20uZ2V0R3JvdXBMYWJlbElkKHN0YXRlLmNvbnRleHQsIHByb3BzLmlkKSxcbiAgICAgICAgcm9sZTogXCJncm91cFwiXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XG5cbi8vIHNyYy9tZW51Lm1hY2hpbmUudHNcbmltcG9ydCB7IGNyZWF0ZU1hY2hpbmUsIGd1YXJkcywgcmVmIH0gZnJvbSBcIkB6YWctanMvY29yZVwiO1xuaW1wb3J0IHsgdHJhY2tEaXNtaXNzYWJsZUVsZW1lbnQgfSBmcm9tIFwiQHphZy1qcy9kaXNtaXNzYWJsZVwiO1xuaW1wb3J0IHsgYWRkRG9tRXZlbnQgfSBmcm9tIFwiQHphZy1qcy9kb20tZXZlbnRcIjtcbmltcG9ydCB7IGNvbnRhaW5zLCBnZXRCeVR5cGVhaGVhZCBhcyBnZXRCeVR5cGVhaGVhZDIsIGlzRWRpdGFibGVFbGVtZW50IGFzIGlzRWRpdGFibGVFbGVtZW50MiwgcmFmIH0gZnJvbSBcIkB6YWctanMvZG9tLXF1ZXJ5XCI7XG5pbXBvcnQgeyBvYnNlcnZlQXR0cmlidXRlcyB9IGZyb20gXCJAemFnLWpzL211dGF0aW9uLW9ic2VydmVyXCI7XG5pbXBvcnQgeyBnZXRQbGFjZW1lbnRTaWRlLCBnZXRQbGFjZW1lbnQgfSBmcm9tIFwiQHphZy1qcy9wb3BwZXJcIjtcbmltcG9ydCB7IGdldEVsZW1lbnRQb2x5Z29uLCBpc1BvaW50SW5Qb2x5Z29uIH0gZnJvbSBcIkB6YWctanMvcmVjdC11dGlsc1wiO1xuaW1wb3J0IHsgYWRkLCBjYXN0LCBjb21wYWN0LCBpc0FycmF5LCByZW1vdmUgfSBmcm9tIFwiQHphZy1qcy91dGlsc1wiO1xudmFyIHsgbm90LCBhbmQgfSA9IGd1YXJkcztcbmZ1bmN0aW9uIG1hY2hpbmUodXNlckNvbnRleHQpIHtcbiAgY29uc3QgY3R4ID0gY29tcGFjdCh1c2VyQ29udGV4dCk7XG4gIHJldHVybiBjcmVhdGVNYWNoaW5lKFxuICAgIHtcbiAgICAgIGlkOiBcIm1lbnVcIixcbiAgICAgIGluaXRpYWw6IGN0eC5vcGVuID8gXCJvcGVuXCIgOiBcImlkbGVcIixcbiAgICAgIGNvbnRleHQ6IHtcbiAgICAgICAgaGlnaGxpZ2h0ZWRJZDogbnVsbCxcbiAgICAgICAgaG92ZXJJZDogbnVsbCxcbiAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICBjaGlsZHJlbjogY2FzdChyZWYoe30pKSxcbiAgICAgICAgaW50ZW50UG9seWdvbjogbnVsbCxcbiAgICAgICAgbG9vcDogZmFsc2UsXG4gICAgICAgIHN1c3BlbmRQb2ludGVyOiBmYWxzZSxcbiAgICAgICAgYW5jaG9yUG9pbnQ6IG51bGwsXG4gICAgICAgIGNsb3NlT25TZWxlY3Q6IHRydWUsXG4gICAgICAgIGZvY3VzVHJpZ2dlck9uQ2xvc2U6IHRydWUsXG4gICAgICAgIC4uLmN0eCxcbiAgICAgICAgdHlwZWFoZWFkOiBnZXRCeVR5cGVhaGVhZDIuZGVmYXVsdE9wdGlvbnMsXG4gICAgICAgIHBvc2l0aW9uaW5nOiB7XG4gICAgICAgICAgcGxhY2VtZW50OiBcImJvdHRvbS1zdGFydFwiLFxuICAgICAgICAgIGd1dHRlcjogOCxcbiAgICAgICAgICAuLi5jdHgucG9zaXRpb25pbmdcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNvbXB1dGVkOiB7XG4gICAgICAgIGlzU3VibWVudTogKGN0eDIpID0+IGN0eDIucGFyZW50ICE9PSBudWxsLFxuICAgICAgICBpc1J0bDogKGN0eDIpID0+IGN0eDIuZGlyID09PSBcInJ0bFwiLFxuICAgICAgICBpc1R5cGluZ0FoZWFkOiAoY3R4MikgPT4gY3R4Mi50eXBlYWhlYWQua2V5c1NvRmFyICE9PSBcIlwiXG4gICAgICB9LFxuICAgICAgd2F0Y2g6IHtcbiAgICAgICAgaXNTdWJtZW51OiBcInNldFN1Ym1lbnVQbGFjZW1lbnRcIixcbiAgICAgICAgYW5jaG9yUG9pbnQ6IFwicmVwb3NpdGlvblwiLFxuICAgICAgICBvcGVuOiBcInRvZ2dsZVZpc2liaWxpdHlcIlxuICAgICAgfSxcbiAgICAgIG9uOiB7XG4gICAgICAgIFNFVF9QQVJFTlQ6IHtcbiAgICAgICAgICBhY3Rpb25zOiBcInNldFBhcmVudE1lbnVcIlxuICAgICAgICB9LFxuICAgICAgICBTRVRfQ0hJTEQ6IHtcbiAgICAgICAgICBhY3Rpb25zOiBcInNldENoaWxkTWVudVwiXG4gICAgICAgIH0sXG4gICAgICAgIE9QRU46IHtcbiAgICAgICAgICB0YXJnZXQ6IFwib3BlblwiLFxuICAgICAgICAgIGFjdGlvbnM6IFwiaW52b2tlT25PcGVuXCJcbiAgICAgICAgfSxcbiAgICAgICAgT1BFTl9BVVRPRk9DVVM6IHtcbiAgICAgICAgICBpbnRlcm5hbDogdHJ1ZSxcbiAgICAgICAgICB0YXJnZXQ6IFwib3BlblwiLFxuICAgICAgICAgIGFjdGlvbnM6IFtcImZvY3VzRmlyc3RJdGVtXCIsIFwiaW52b2tlT25PcGVuXCJdXG4gICAgICAgIH0sXG4gICAgICAgIENMT1NFOiB7XG4gICAgICAgICAgdGFyZ2V0OiBcImNsb3NlZFwiLFxuICAgICAgICAgIGFjdGlvbnM6IFwiaW52b2tlT25DbG9zZVwiXG4gICAgICAgIH0sXG4gICAgICAgIFJFU1RPUkVfRk9DVVM6IHtcbiAgICAgICAgICBhY3Rpb25zOiBcInJlc3RvcmVGb2N1c1wiXG4gICAgICAgIH0sXG4gICAgICAgIFNFVF9WQUxVRToge1xuICAgICAgICAgIGFjdGlvbnM6IFtcInNldE9wdGlvblZhbHVlXCIsIFwiaW52b2tlT25WYWx1ZUNoYW5nZVwiXVxuICAgICAgICB9LFxuICAgICAgICBTRVRfSElHSExJR0hURURfSUQ6IHtcbiAgICAgICAgICBhY3Rpb25zOiBcInNldEZvY3VzZWRJdGVtXCJcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHN0YXRlczoge1xuICAgICAgICBpZGxlOiB7XG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIENPTlRFWFRfTUVOVV9TVEFSVDoge1xuICAgICAgICAgICAgICB0YXJnZXQ6IFwib3BlbmluZzpjb250ZXh0bWVudVwiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBcInNldEFuY2hvclBvaW50XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBDT05URVhUX01FTlU6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcIm9wZW5cIixcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wic2V0QW5jaG9yUG9pbnRcIiwgXCJpbnZva2VPbk9wZW5cIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBUUklHR0VSX0NMSUNLOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJvcGVuXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFwiaW52b2tlT25PcGVuXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBUUklHR0VSX0ZPQ1VTOiB7XG4gICAgICAgICAgICAgIGd1YXJkOiBub3QoXCJpc1N1Ym1lbnVcIiksXG4gICAgICAgICAgICAgIHRhcmdldDogXCJjbG9zZWRcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFRSSUdHRVJfUE9JTlRFUk1PVkU6IHtcbiAgICAgICAgICAgICAgZ3VhcmQ6IFwiaXNTdWJtZW51XCIsXG4gICAgICAgICAgICAgIHRhcmdldDogXCJvcGVuaW5nXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwib3BlbmluZzpjb250ZXh0bWVudVwiOiB7XG4gICAgICAgICAgYWZ0ZXI6IHtcbiAgICAgICAgICAgIExPTkdfUFJFU1NfREVMQVk6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcIm9wZW5cIixcbiAgICAgICAgICAgICAgYWN0aW9uczogXCJpbnZva2VPbk9wZW5cIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIENPTlRFWFRfTUVOVV9DQU5DRUw6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcImNsb3NlZFwiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBcImludm9rZU9uQ2xvc2VcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb3BlbmluZzoge1xuICAgICAgICAgIGFmdGVyOiB7XG4gICAgICAgICAgICBTVUJNRU5VX09QRU5fREVMQVk6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcIm9wZW5cIixcbiAgICAgICAgICAgICAgYWN0aW9uczogXCJpbnZva2VPbk9wZW5cIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIEJMVVI6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcImNsb3NlZFwiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBcImludm9rZU9uQ2xvc2VcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFRSSUdHRVJfUE9JTlRFUkxFQVZFOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJjbG9zZWRcIixcbiAgICAgICAgICAgICAgYWN0aW9uczogXCJpbnZva2VPbkNsb3NlXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGNsb3Npbmc6IHtcbiAgICAgICAgICB0YWdzOiBbXCJ2aXNpYmxlXCJdLFxuICAgICAgICAgIGFjdGl2aXRpZXM6IFtcInRyYWNrUG9pbnRlck1vdmVcIiwgXCJ0cmFja0ludGVyYWN0T3V0c2lkZVwiXSxcbiAgICAgICAgICBhZnRlcjoge1xuICAgICAgICAgICAgU1VCTUVOVV9DTE9TRV9ERUxBWToge1xuICAgICAgICAgICAgICB0YXJnZXQ6IFwiY2xvc2VkXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcImZvY3VzUGFyZW50TWVudVwiLCBcInJlc3RvcmVQYXJlbnRGb2N1c1wiLCBcImludm9rZU9uQ2xvc2VcIl1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBNRU5VX1BPSU5URVJFTlRFUjoge1xuICAgICAgICAgICAgICB0YXJnZXQ6IFwib3BlblwiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBcImNsZWFySW50ZW50UG9seWdvblwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgUE9JTlRFUl9NT1ZFRF9BV0FZX0ZST01fU1VCTUVOVToge1xuICAgICAgICAgICAgICB0YXJnZXQ6IFwiY2xvc2VkXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcImZvY3VzUGFyZW50TWVudVwiLCBcInJlc3RvcmVQYXJlbnRGb2N1c1wiXVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY2xvc2VkOiB7XG4gICAgICAgICAgZW50cnk6IFtcImNsZWFyRm9jdXNlZEl0ZW1cIiwgXCJmb2N1c1RyaWdnZXJcIiwgXCJjbGVhckFuY2hvclBvaW50XCIsIFwicmVzdW1lUG9pbnRlclwiXSxcbiAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgQ09OVEVYVF9NRU5VX1NUQVJUOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJvcGVuaW5nOmNvbnRleHRtZW51XCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFwic2V0QW5jaG9yUG9pbnRcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIENPTlRFWFRfTUVOVToge1xuICAgICAgICAgICAgICB0YXJnZXQ6IFwib3BlblwiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRBbmNob3JQb2ludFwiLCBcImludm9rZU9uT3BlblwiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFRSSUdHRVJfQ0xJQ0s6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcIm9wZW5cIixcbiAgICAgICAgICAgICAgYWN0aW9uczogXCJpbnZva2VPbk9wZW5cIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFRSSUdHRVJfUE9JTlRFUk1PVkU6IHtcbiAgICAgICAgICAgICAgZ3VhcmQ6IFwiaXNUcmlnZ2VySXRlbVwiLFxuICAgICAgICAgICAgICB0YXJnZXQ6IFwib3BlbmluZ1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgVFJJR0dFUl9CTFVSOiBcImlkbGVcIixcbiAgICAgICAgICAgIEFSUk9XX0RPV046IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcIm9wZW5cIixcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wiZm9jdXNGaXJzdEl0ZW1cIiwgXCJpbnZva2VPbk9wZW5cIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBBUlJPV19VUDoge1xuICAgICAgICAgICAgICB0YXJnZXQ6IFwib3BlblwiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJmb2N1c0xhc3RJdGVtXCIsIFwiaW52b2tlT25PcGVuXCJdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvcGVuOiB7XG4gICAgICAgICAgdGFnczogW1widmlzaWJsZVwiXSxcbiAgICAgICAgICBhY3Rpdml0aWVzOiBbXCJ0cmFja0ludGVyYWN0T3V0c2lkZVwiLCBcInRyYWNrUG9zaXRpb25pbmdcIiwgXCJzY3JvbGxUb0hpZ2hsaWdodGVkSXRlbVwiXSxcbiAgICAgICAgICBlbnRyeTogW1wiZm9jdXNNZW51XCIsIFwicmVzdW1lUG9pbnRlclwiXSxcbiAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgVFJJR0dFUl9DTElDSzoge1xuICAgICAgICAgICAgICBndWFyZDogbm90KFwiaXNUcmlnZ2VySXRlbVwiKSxcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcImNsb3NlZFwiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBcImludm9rZU9uQ2xvc2VcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFRBQjogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ3VhcmQ6IFwiaXNGb3J3YXJkVGFiTmF2aWdhdGlvblwiLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFtcImZvY3VzTmV4dEl0ZW1cIl1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgeyBhY3Rpb25zOiBbXCJmb2N1c1ByZXZJdGVtXCJdIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBBUlJPV19VUDoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJmb2N1c1ByZXZJdGVtXCIsIFwiZm9jdXNNZW51XCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgQVJST1dfRE9XTjoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJmb2N1c05leHRJdGVtXCIsIFwiZm9jdXNNZW51XCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgQVJST1dfTEVGVDoge1xuICAgICAgICAgICAgICBndWFyZDogXCJpc1N1Ym1lbnVcIixcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcImNsb3NlZFwiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJmb2N1c1BhcmVudE1lbnVcIiwgXCJpbnZva2VPbkNsb3NlXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgSE9NRToge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJmb2N1c0ZpcnN0SXRlbVwiLCBcImZvY3VzTWVudVwiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIEVORDoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJmb2N1c0xhc3RJdGVtXCIsIFwiZm9jdXNNZW51XCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgUkVRVUVTVF9DTE9TRToge1xuICAgICAgICAgICAgICB0YXJnZXQ6IFwiY2xvc2VkXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFwiaW52b2tlT25DbG9zZVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgQVJST1dfUklHSFQ6IHtcbiAgICAgICAgICAgICAgZ3VhcmQ6IFwiaXNUcmlnZ2VySXRlbUZvY3VzZWRcIixcbiAgICAgICAgICAgICAgYWN0aW9uczogXCJvcGVuU3VibWVudVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgRU5URVI6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGd1YXJkOiBcImlzVHJpZ2dlckl0ZW1Gb2N1c2VkXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogXCJvcGVuU3VibWVudVwiXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBndWFyZDogXCJjbG9zZU9uU2VsZWN0XCIsXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBcImNsb3NlZFwiLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFwiY2xpY2tGb2N1c2VkSXRlbVwiXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBcImNsaWNrRm9jdXNlZEl0ZW1cIlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgSVRFTV9QT0lOVEVSTU9WRTogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ3VhcmQ6IGFuZChub3QoXCJzdXNwZW5kUG9pbnRlclwiKSwgbm90KFwiaXNUYXJnZXRGb2N1c2VkXCIpKSxcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJmb2N1c0l0ZW1cIiwgXCJmb2N1c01lbnVcIl1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGd1YXJkOiBub3QoXCJpc1RhcmdldEZvY3VzZWRcIiksXG4gICAgICAgICAgICAgICAgYWN0aW9uczogXCJzZXRIb3ZlcmVkSXRlbVwiXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBJVEVNX1BPSU5URVJMRUFWRToge1xuICAgICAgICAgICAgICBndWFyZDogYW5kKG5vdChcInN1c3BlbmRQb2ludGVyXCIpLCBub3QoXCJpc1RyaWdnZXJJdGVtXCIpKSxcbiAgICAgICAgICAgICAgYWN0aW9uczogXCJjbGVhckZvY3VzZWRJdGVtXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBJVEVNX0NMSUNLOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBndWFyZDogYW5kKG5vdChcImlzVHJpZ2dlckl0ZW1Gb2N1c2VkXCIpLCBub3QoXCJpc0ZvY3VzZWRJdGVtRWRpdGFibGVcIiksIFwiY2xvc2VPblNlbGVjdFwiKSxcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiY2xvc2VkXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogW1xuICAgICAgICAgICAgICAgICAgXCJpbnZva2VPblNlbGVjdFwiLFxuICAgICAgICAgICAgICAgICAgXCJjaGFuZ2VPcHRpb25WYWx1ZVwiLFxuICAgICAgICAgICAgICAgICAgXCJpbnZva2VPblZhbHVlQ2hhbmdlXCIsXG4gICAgICAgICAgICAgICAgICBcImNsb3NlUm9vdE1lbnVcIixcbiAgICAgICAgICAgICAgICAgIFwiaW52b2tlT25DbG9zZVwiXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ3VhcmQ6IGFuZChub3QoXCJpc1RyaWdnZXJJdGVtRm9jdXNlZFwiKSwgbm90KFwiaXNGb2N1c2VkSXRlbUVkaXRhYmxlXCIpKSxcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJpbnZva2VPblNlbGVjdFwiLCBcImNoYW5nZU9wdGlvblZhbHVlXCIsIFwiaW52b2tlT25WYWx1ZUNoYW5nZVwiXVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7IGFjdGlvbnM6IFwiZm9jdXNJdGVtXCIgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFRSSUdHRVJfUE9JTlRFUkxFQVZFOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJjbG9zaW5nXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFwic2V0SW50ZW50UG9seWdvblwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgSVRFTV9QT0lOVEVSRE9XTjoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBcImZvY3VzSXRlbVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgVFlQRUFIRUFEOiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6IFwiZm9jdXNNYXRjaGVkSXRlbVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgRk9DVVNfTUVOVToge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBcImZvY3VzTWVudVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgU0VUX1BPU0lUSU9OSU5HOiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6IFwicmVwb3NpdGlvblwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICBkZWxheXM6IHtcbiAgICAgICAgTE9OR19QUkVTU19ERUxBWTogNzAwLFxuICAgICAgICBTVUJNRU5VX09QRU5fREVMQVk6IDEwMCxcbiAgICAgICAgU1VCTUVOVV9DTE9TRV9ERUxBWTogMTAwXG4gICAgICB9LFxuICAgICAgZ3VhcmRzOiB7XG4gICAgICAgIGNsb3NlT25TZWxlY3Q6IChjdHgyLCBldnQpID0+ICEhKGV2dD8uY2xvc2VPblNlbGVjdCA/PyBjdHgyLmNsb3NlT25TZWxlY3QpLFxuICAgICAgICBpc01lbnVGb2N1c2VkOiAoY3R4MikgPT4gY29udGFpbnMoZG9tLmdldENvbnRlbnRFbChjdHgyKSwgZG9tLmdldEFjdGl2ZUVsZW1lbnQoY3R4MikpLFxuICAgICAgICBpc1RhcmdldEZvY3VzZWQ6IChjdHgyLCBldnQpID0+IGN0eDIuaGlnaGxpZ2h0ZWRJZCA9PT0gZXZ0LnRhcmdldC5pZCxcbiAgICAgICAgLy8gd2hldGhlciB0aGUgdHJpZ2dlciBpcyBhbHNvIGEgbWVudSBpdGVtXG4gICAgICAgIGlzVHJpZ2dlckl0ZW06IChfY3R4LCBldnQpID0+IGRvbS5pc1RyaWdnZXJJdGVtKGV2dC50YXJnZXQpLFxuICAgICAgICAvLyB3aGV0aGVyIHRoZSB0cmlnZ2VyIGl0ZW0gaXMgdGhlIGFjdGl2ZSBpdGVtXG4gICAgICAgIGlzVHJpZ2dlckl0ZW1Gb2N1c2VkOiAoY3R4MiwgZXZ0KSA9PiB7XG4gICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZ0LnRhcmdldCA/PyBkb20uZ2V0Rm9jdXNlZEl0ZW0oY3R4Mik7XG4gICAgICAgICAgcmV0dXJuICEhdGFyZ2V0Py5oYXNBdHRyaWJ1dGUoXCJhcmlhLWNvbnRyb2xzXCIpO1xuICAgICAgICB9LFxuICAgICAgICBpc0ZvcndhcmRUYWJOYXZpZ2F0aW9uOiAoX2N0eCwgZXZ0KSA9PiAhZXZ0LnNoaWZ0S2V5LFxuICAgICAgICBpc1N1Ym1lbnU6IChjdHgyKSA9PiBjdHgyLmlzU3VibWVudSxcbiAgICAgICAgc3VzcGVuZFBvaW50ZXI6IChjdHgyKSA9PiBjdHgyLnN1c3BlbmRQb2ludGVyLFxuICAgICAgICBpc0ZvY3VzZWRJdGVtRWRpdGFibGU6IChjdHgyKSA9PiBpc0VkaXRhYmxlRWxlbWVudDIoZG9tLmdldEZvY3VzZWRJdGVtKGN0eDIpKSxcbiAgICAgICAgaXNXaXRoaW5Qb2x5Z29uOiAoY3R4MiwgZXZ0KSA9PiB7XG4gICAgICAgICAgaWYgKCFjdHgyLmludGVudFBvbHlnb24pXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIGlzUG9pbnRJblBvbHlnb24oY3R4Mi5pbnRlbnRQb2x5Z29uLCBldnQucG9pbnQpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYWN0aXZpdGllczoge1xuICAgICAgICB0cmFja1Bvc2l0aW9uaW5nKGN0eDIpIHtcbiAgICAgICAgICBpZiAoY3R4Mi5hbmNob3JQb2ludClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjdHgyLmN1cnJlbnRQbGFjZW1lbnQgPSBjdHgyLnBvc2l0aW9uaW5nLnBsYWNlbWVudDtcbiAgICAgICAgICBjb25zdCBnZXRQb3NpdGlvbmVyRWwgPSAoKSA9PiBkb20uZ2V0UG9zaXRpb25lckVsKGN0eDIpO1xuICAgICAgICAgIHJldHVybiBnZXRQbGFjZW1lbnQoZG9tLmdldFRyaWdnZXJFbChjdHgyKSwgZ2V0UG9zaXRpb25lckVsLCB7XG4gICAgICAgICAgICAuLi5jdHgyLnBvc2l0aW9uaW5nLFxuICAgICAgICAgICAgZGVmZXI6IHRydWUsXG4gICAgICAgICAgICBvbkNvbXBsZXRlKGRhdGEpIHtcbiAgICAgICAgICAgICAgY3R4Mi5jdXJyZW50UGxhY2VtZW50ID0gZGF0YS5wbGFjZW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHRyYWNrSW50ZXJhY3RPdXRzaWRlKGN0eDIsIF9ldnQsIHsgc2VuZCB9KSB7XG4gICAgICAgICAgY29uc3QgZ2V0Q29udGVudEVsID0gKCkgPT4gZG9tLmdldENvbnRlbnRFbChjdHgyKTtcbiAgICAgICAgICByZXR1cm4gdHJhY2tEaXNtaXNzYWJsZUVsZW1lbnQoZ2V0Q29udGVudEVsLCB7XG4gICAgICAgICAgICBkZWZlcjogdHJ1ZSxcbiAgICAgICAgICAgIGV4Y2x1ZGU6IFtkb20uZ2V0VHJpZ2dlckVsKGN0eDIpXSxcbiAgICAgICAgICAgIG9uSW50ZXJhY3RPdXRzaWRlOiBjdHgyLm9uSW50ZXJhY3RPdXRzaWRlLFxuICAgICAgICAgICAgb25Gb2N1c091dHNpZGU6IGN0eDIub25Gb2N1c091dHNpZGUsXG4gICAgICAgICAgICBvbkVzY2FwZUtleURvd24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgaWYgKGN0eDIuaXNTdWJtZW51KVxuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgIGNsb3NlUm9vdE1lbnUoY3R4Mik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25Qb2ludGVyRG93bk91dHNpZGUoZXZlbnQpIHtcbiAgICAgICAgICAgICAgY3R4Mi5mb2N1c1RyaWdnZXJPbkNsb3NlID0gIWV2ZW50LmRldGFpbC5mb2N1c2FibGU7XG4gICAgICAgICAgICAgIGN0eDIub25Qb2ludGVyRG93bk91dHNpZGU/LihldmVudCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25EaXNtaXNzKCkge1xuICAgICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJSRVFVRVNUX0NMT1NFXCIsIHNyYzogXCJpbnRlcmFjdC1vdXRzaWRlXCIgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHRyYWNrUG9pbnRlck1vdmUoY3R4MiwgX2V2dCwgeyBndWFyZHM6IGd1YXJkczIsIHNlbmQgfSkge1xuICAgICAgICAgIGNvbnN0IHsgaXNXaXRoaW5Qb2x5Z29uIH0gPSBndWFyZHMyO1xuICAgICAgICAgIGN0eDIucGFyZW50LnN0YXRlLmNvbnRleHQuc3VzcGVuZFBvaW50ZXIgPSB0cnVlO1xuICAgICAgICAgIGNvbnN0IGRvYyA9IGRvbS5nZXREb2MoY3R4Mik7XG4gICAgICAgICAgcmV0dXJuIGFkZERvbUV2ZW50KGRvYywgXCJwb2ludGVybW92ZVwiLCAoZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcG9pbnQgPSB7IHg6IGUuY2xpZW50WCwgeTogZS5jbGllbnRZIH07XG4gICAgICAgICAgICBjb25zdCBpc01vdmluZ1RvU3VibWVudSA9IGlzV2l0aGluUG9seWdvbihjdHgyLCB7IHBvaW50IH0pO1xuICAgICAgICAgICAgaWYgKCFpc01vdmluZ1RvU3VibWVudSkge1xuICAgICAgICAgICAgICBzZW5kKFwiUE9JTlRFUl9NT1ZFRF9BV0FZX0ZST01fU1VCTUVOVVwiKTtcbiAgICAgICAgICAgICAgY3R4Mi5wYXJlbnQuc3RhdGUuY29udGV4dC5zdXNwZW5kUG9pbnRlciA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBzY3JvbGxUb0hpZ2hsaWdodGVkSXRlbShjdHgyLCBfZXZ0LCB7IGdldFN0YXRlIH0pIHtcbiAgICAgICAgICBjb25zdCBleGVjID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuICAgICAgICAgICAgaWYgKHN0YXRlLmV2ZW50LnR5cGUuc3RhcnRzV2l0aChcIklURU1fUE9JTlRFUlwiKSlcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9uRWwgPSBkb20uZ2V0SGlnaGxpZ2h0ZWRPcHRpb25FbChjdHgyKTtcbiAgICAgICAgICAgIG9wdGlvbkVsPy5zY3JvbGxJbnRvVmlldyh7IGJsb2NrOiBcIm5lYXJlc3RcIiB9KTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJhZigoKSA9PiBleGVjKCkpO1xuICAgICAgICAgIHJldHVybiBvYnNlcnZlQXR0cmlidXRlcyhkb20uZ2V0Q29udGVudEVsKGN0eDIpLCBbXCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnRcIl0sIGV4ZWMpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYWN0aW9uczoge1xuICAgICAgICBzZXRBbmNob3JQb2ludChjdHgyLCBldnQpIHtcbiAgICAgICAgICBjdHgyLmFuY2hvclBvaW50ID0gZXZ0LnBvaW50O1xuICAgICAgICB9LFxuICAgICAgICBjbGVhckFuY2hvclBvaW50KGN0eDIpIHtcbiAgICAgICAgICBjdHgyLmFuY2hvclBvaW50ID0gbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0U3VibWVudVBsYWNlbWVudChjdHgyKSB7XG4gICAgICAgICAgaWYgKCFjdHgyLmlzU3VibWVudSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjdHgyLnBvc2l0aW9uaW5nLnBsYWNlbWVudCA9IGN0eDIuaXNSdGwgPyBcImxlZnQtc3RhcnRcIiA6IFwicmlnaHQtc3RhcnRcIjtcbiAgICAgICAgICBjdHgyLnBvc2l0aW9uaW5nLmd1dHRlciA9IDA7XG4gICAgICAgIH0sXG4gICAgICAgIHJlcG9zaXRpb24oY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgY29uc3QgZ2V0UG9zaXRpb25lckVsID0gKCkgPT4gZG9tLmdldFBvc2l0aW9uZXJFbChjdHgyKTtcbiAgICAgICAgICBjb25zdCBnZXRBbmNob3JSZWN0ID0gY3R4Mi5hbmNob3JQb2ludCA/ICgpID0+ICh7IHdpZHRoOiAwLCBoZWlnaHQ6IDAsIC4uLmN0eDIuYW5jaG9yUG9pbnQgfSkgOiB2b2lkIDA7XG4gICAgICAgICAgZ2V0UGxhY2VtZW50KGRvbS5nZXRUcmlnZ2VyRWwoY3R4MiksIGdldFBvc2l0aW9uZXJFbCwge1xuICAgICAgICAgICAgLi4uY3R4Mi5wb3NpdGlvbmluZyxcbiAgICAgICAgICAgIGdldEFuY2hvclJlY3QsXG4gICAgICAgICAgICAuLi5ldnQub3B0aW9ucyA/PyB7fSxcbiAgICAgICAgICAgIGxpc3RlbmVyczogZmFsc2UsXG4gICAgICAgICAgICBvbkNvbXBsZXRlKGRhdGEpIHtcbiAgICAgICAgICAgICAgY3R4Mi5jdXJyZW50UGxhY2VtZW50ID0gZGF0YS5wbGFjZW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGludm9rZU9uVmFsdWVDaGFuZ2UoY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgaWYgKCFjdHgyLnZhbHVlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IG5hbWUgPSBldnQubmFtZSA/PyBldnQub3B0aW9uPy5uYW1lO1xuICAgICAgICAgIGlmICghbmFtZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBjdHgyLnZhbHVlW25hbWVdO1xuICAgICAgICAgIGNvbnN0IHZhbHVlQXNBcnJheSA9IGlzQXJyYXkodmFsdWVzKSA/IEFycmF5LmZyb20odmFsdWVzKSA6IHZhbHVlcztcbiAgICAgICAgICBjdHgyLm9uVmFsdWVDaGFuZ2U/Lih7IG5hbWUsIHZhbHVlOiB2YWx1ZUFzQXJyYXkgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldE9wdGlvblZhbHVlKGN0eDIsIGV2dCkge1xuICAgICAgICAgIGlmICghY3R4Mi52YWx1ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjdHgyLnZhbHVlW2V2dC5uYW1lXSA9IGV2dC52YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgY2hhbmdlT3B0aW9uVmFsdWUoY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgaWYgKCFldnQub3B0aW9uIHx8ICFjdHgyLnZhbHVlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHsgdmFsdWUsIHR5cGUsIG5hbWUgfSA9IGV2dC5vcHRpb247XG4gICAgICAgICAgY29uc3QgdmFsdWVzID0gY3R4Mi52YWx1ZVtuYW1lXTtcbiAgICAgICAgICBpZiAodHlwZSA9PT0gXCJjaGVja2JveFwiICYmIGlzQXJyYXkodmFsdWVzKSkge1xuICAgICAgICAgICAgY3R4Mi52YWx1ZVtuYW1lXSA9IHZhbHVlcy5pbmNsdWRlcyh2YWx1ZSkgPyByZW1vdmUodmFsdWVzLCB2YWx1ZSkgOiBhZGQodmFsdWVzLCB2YWx1ZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGN0eDIudmFsdWVbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGNsaWNrRm9jdXNlZEl0ZW0oY3R4MiwgX2V2dCwgeyBzZW5kIH0pIHtcbiAgICAgICAgICBjb25zdCBpdGVtRWwgPSBkb20uZ2V0Rm9jdXNlZEl0ZW0oY3R4Mik7XG4gICAgICAgICAgaWYgKCFpdGVtRWwgfHwgaXRlbUVsLmRhdGFzZXQuZGlzYWJsZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgY29uc3QgeyBpZCB9ID0gaXRlbUVsO1xuICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIklURU1fQ0xJQ0tcIiwgc3JjOiBcInBvaW50ZXJ1cFwiLCB0YXJnZXQ6IGl0ZW1FbCwgaWQgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldEludGVudFBvbHlnb24oY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgY29uc3QgbWVudSA9IGRvbS5nZXRDb250ZW50RWwoY3R4Mik7XG4gICAgICAgICAgY29uc3QgcGxhY2VtZW50ID0gY3R4Mi5jdXJyZW50UGxhY2VtZW50O1xuICAgICAgICAgIGlmICghbWVudSB8fCAhcGxhY2VtZW50KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHJlY3QgPSBtZW51LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgIGNvbnN0IHBvbHlnb24gPSBnZXRFbGVtZW50UG9seWdvbihyZWN0LCBwbGFjZW1lbnQpO1xuICAgICAgICAgIGlmICghcG9seWdvbilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjb25zdCByaWdodFNpZGUgPSBnZXRQbGFjZW1lbnRTaWRlKHBsYWNlbWVudCkgPT09IFwicmlnaHRcIjtcbiAgICAgICAgICBjb25zdCBibGVlZCA9IHJpZ2h0U2lkZSA/IC01IDogNTtcbiAgICAgICAgICBjdHgyLmludGVudFBvbHlnb24gPSBbeyAuLi5ldnQucG9pbnQsIHg6IGV2dC5wb2ludC54ICsgYmxlZWQgfSwgLi4ucG9seWdvbl07XG4gICAgICAgIH0sXG4gICAgICAgIGNsZWFySW50ZW50UG9seWdvbihjdHgyKSB7XG4gICAgICAgICAgY3R4Mi5pbnRlbnRQb2x5Z29uID0gbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgcmVzdW1lUG9pbnRlcihjdHgyKSB7XG4gICAgICAgICAgaWYgKCFjdHgyLnBhcmVudClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjdHgyLnBhcmVudC5zdGF0ZS5jb250ZXh0LnN1c3BlbmRQb2ludGVyID0gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIHNldEZvY3VzZWRJdGVtKGN0eDIsIGV2dCkge1xuICAgICAgICAgIGN0eDIuaGlnaGxpZ2h0ZWRJZCA9IGV2dC5pZDtcbiAgICAgICAgfSxcbiAgICAgICAgY2xlYXJGb2N1c2VkSXRlbShjdHgyKSB7XG4gICAgICAgICAgY3R4Mi5oaWdobGlnaHRlZElkID0gbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgZm9jdXNNZW51KGN0eDIpIHtcbiAgICAgICAgICByYWYoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYWN0aXZlRWwgPSBkb20uZ2V0QWN0aXZlRWxlbWVudChjdHgyKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRFbCA9IGRvbS5nZXRDb250ZW50RWwoY3R4Mik7XG4gICAgICAgICAgICBpZiAoY29udGFpbnMoY29udGVudEVsLCBhY3RpdmVFbCkpXG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnRlbnRFbD8uZm9jdXMoeyBwcmV2ZW50U2Nyb2xsOiB0cnVlIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBmb2N1c0ZpcnN0SXRlbShjdHgyKSB7XG4gICAgICAgICAgY29uc3QgZmlyc3QyID0gZG9tLmdldEZpcnN0RWwoY3R4Mik7XG4gICAgICAgICAgaWYgKCFmaXJzdDIpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgY3R4Mi5oaWdobGlnaHRlZElkID0gZmlyc3QyLmlkO1xuICAgICAgICB9LFxuICAgICAgICBmb2N1c0xhc3RJdGVtKGN0eDIpIHtcbiAgICAgICAgICBjb25zdCBsYXN0MiA9IGRvbS5nZXRMYXN0RWwoY3R4Mik7XG4gICAgICAgICAgaWYgKCFsYXN0MilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjdHgyLmhpZ2hsaWdodGVkSWQgPSBsYXN0Mi5pZDtcbiAgICAgICAgfSxcbiAgICAgICAgZm9jdXNOZXh0SXRlbShjdHgyLCBldnQpIHtcbiAgICAgICAgICBjb25zdCBuZXh0ID0gZG9tLmdldE5leHRFbChjdHgyLCBldnQubG9vcCk7XG4gICAgICAgICAgY3R4Mi5oaWdobGlnaHRlZElkID0gbmV4dD8uaWQgPz8gbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgZm9jdXNQcmV2SXRlbShjdHgyLCBldnQpIHtcbiAgICAgICAgICBjb25zdCBwcmV2ID0gZG9tLmdldFByZXZFbChjdHgyLCBldnQubG9vcCk7XG4gICAgICAgICAgY3R4Mi5oaWdobGlnaHRlZElkID0gcHJldj8uaWQgPz8gbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgaW52b2tlT25TZWxlY3QoY3R4Mikge1xuICAgICAgICAgIGlmICghY3R4Mi5oaWdobGlnaHRlZElkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGN0eDIub25TZWxlY3Q/Lih7IHZhbHVlOiBjdHgyLmhpZ2hsaWdodGVkSWQgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGZvY3VzSXRlbShjdHgyLCBldnQpIHtcbiAgICAgICAgICBjdHgyLmhpZ2hsaWdodGVkSWQgPSBldnQuaWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGZvY3VzVHJpZ2dlcihjdHgyKSB7XG4gICAgICAgICAgaWYgKGN0eDIuaXNTdWJtZW51IHx8IGN0eDIuYW5jaG9yUG9pbnQgfHwgIWN0eDIuZm9jdXNUcmlnZ2VyT25DbG9zZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICByYWYoKCkgPT4gZG9tLmdldFRyaWdnZXJFbChjdHgyKT8uZm9jdXMoeyBwcmV2ZW50U2Nyb2xsOiB0cnVlIH0pKTtcbiAgICAgICAgfSxcbiAgICAgICAgZm9jdXNNYXRjaGVkSXRlbShjdHgyLCBldnQpIHtcbiAgICAgICAgICBjb25zdCBub2RlID0gZG9tLmdldEVsZW1CeUtleShjdHgyLCBldnQua2V5KTtcbiAgICAgICAgICBpZiAobm9kZSlcbiAgICAgICAgICAgIGN0eDIuaGlnaGxpZ2h0ZWRJZCA9IG5vZGUuaWQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFBhcmVudE1lbnUoY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgY3R4Mi5wYXJlbnQgPSByZWYoZXZ0LnZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0Q2hpbGRNZW51KGN0eDIsIGV2dCkge1xuICAgICAgICAgIGN0eDIuY2hpbGRyZW5bZXZ0LmlkXSA9IHJlZihldnQudmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBjbG9zZVJvb3RNZW51KGN0eDIpIHtcbiAgICAgICAgICBjbG9zZVJvb3RNZW51KGN0eDIpO1xuICAgICAgICB9LFxuICAgICAgICBvcGVuU3VibWVudShjdHgyKSB7XG4gICAgICAgICAgY29uc3QgaXRlbSA9IGRvbS5nZXRGb2N1c2VkSXRlbShjdHgyKTtcbiAgICAgICAgICBjb25zdCBpZCA9IGl0ZW0/LmdldEF0dHJpYnV0ZShcImRhdGEtdWlkXCIpO1xuICAgICAgICAgIGNvbnN0IGNoaWxkID0gaWQgPyBjdHgyLmNoaWxkcmVuW2lkXSA6IG51bGw7XG4gICAgICAgICAgY2hpbGQ/LnNlbmQoXCJPUEVOX0FVVE9GT0NVU1wiKTtcbiAgICAgICAgfSxcbiAgICAgICAgZm9jdXNQYXJlbnRNZW51KGN0eDIpIHtcbiAgICAgICAgICBjdHgyLnBhcmVudD8uc2VuZChcIkZPQ1VTX01FTlVcIik7XG4gICAgICAgIH0sXG4gICAgICAgIHNldEhvdmVyZWRJdGVtKGN0eDIsIGV2dCkge1xuICAgICAgICAgIGN0eDIuaG92ZXJJZCA9IGV2dC5pZDtcbiAgICAgICAgfSxcbiAgICAgICAgcmVzdG9yZUZvY3VzKGN0eDIpIHtcbiAgICAgICAgICBpZiAoIWN0eDIuaG92ZXJJZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjdHgyLmhpZ2hsaWdodGVkSWQgPSBjdHgyLmhvdmVySWQ7XG4gICAgICAgICAgY3R4Mi5ob3ZlcklkID0gbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgcmVzdG9yZVBhcmVudEZvY3VzKGN0eDIpIHtcbiAgICAgICAgICBjdHgyLnBhcmVudD8uc2VuZChcIlJFU1RPUkVfRk9DVVNcIik7XG4gICAgICAgIH0sXG4gICAgICAgIGludm9rZU9uT3BlbihjdHgyKSB7XG4gICAgICAgICAgY3R4Mi5vbk9wZW5DaGFuZ2U/Lih7IG9wZW46IHRydWUgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGludm9rZU9uQ2xvc2UoY3R4Mikge1xuICAgICAgICAgIGN0eDIub25PcGVuQ2hhbmdlPy4oeyBvcGVuOiBmYWxzZSB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgdG9nZ2xlVmlzaWJpbGl0eShjdHgyLCBfZXZ0LCB7IHNlbmQgfSkge1xuICAgICAgICAgIHNlbmQoeyB0eXBlOiBjdHgyLm9wZW4gPyBcIk9QRU5cIiA6IFwiQ0xPU0VcIiB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgKTtcbn1cbmZ1bmN0aW9uIGNsb3NlUm9vdE1lbnUoY3R4KSB7XG4gIGxldCBwYXJlbnQgPSBjdHgucGFyZW50O1xuICB3aGlsZSAocGFyZW50ICYmIHBhcmVudC5zdGF0ZS5jb250ZXh0LmlzU3VibWVudSkge1xuICAgIHBhcmVudCA9IHBhcmVudC5zdGF0ZS5jb250ZXh0LnBhcmVudDtcbiAgfVxuICBwYXJlbnQ/LnNlbmQoXCJDTE9TRVwiKTtcbn1cbmV4cG9ydCB7XG4gIGFuYXRvbXksXG4gIGNvbm5lY3QsXG4gIG1hY2hpbmVcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/menu/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/mutation-observer/dist/index.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@zag-js/mutation-observer/dist/index.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   observeAttributes: () => (/* binding */ observeAttributes),\n/* harmony export */   observeChildren: () => (/* binding */ observeChildren)\n/* harmony export */ });\n// src/observe-attributes.ts\nfunction observeAttributes(node, attributes, fn) {\n  if (!node)\n    return;\n  const win = node.ownerDocument.defaultView || window;\n  const obs = new win.MutationObserver((changes) => {\n    for (const change of changes) {\n      if (change.type === \"attributes\" && change.attributeName && attributes.includes(change.attributeName)) {\n        fn(change);\n      }\n    }\n  });\n  obs.observe(node, { attributes: true, attributeFilter: attributes });\n  return () => obs.disconnect();\n}\n\n// src/observe-children.ts\nfunction observeChildren(node, fn) {\n  if (!node)\n    return;\n  const win = node.ownerDocument.defaultView || window;\n  const obs = new win.MutationObserver(fn);\n  obs.observe(node, { childList: true, subtree: true });\n  return () => obs.disconnect();\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9tdXRhdGlvbi1vYnNlcnZlci9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsc0JBQXNCLCtDQUErQztBQUNyRTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixnQ0FBZ0M7QUFDdEQ7QUFDQTtBQUlFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AcGFyay11aS9leGFtcGxlcy1yZWFjdC1uZXh0LWpzLy4vbm9kZV9tb2R1bGVzL0B6YWctanMvbXV0YXRpb24tb2JzZXJ2ZXIvZGlzdC9pbmRleC5tanM/NjVlOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvb2JzZXJ2ZS1hdHRyaWJ1dGVzLnRzXG5mdW5jdGlvbiBvYnNlcnZlQXR0cmlidXRlcyhub2RlLCBhdHRyaWJ1dGVzLCBmbikge1xuICBpZiAoIW5vZGUpXG4gICAgcmV0dXJuO1xuICBjb25zdCB3aW4gPSBub2RlLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgfHwgd2luZG93O1xuICBjb25zdCBvYnMgPSBuZXcgd2luLk11dGF0aW9uT2JzZXJ2ZXIoKGNoYW5nZXMpID0+IHtcbiAgICBmb3IgKGNvbnN0IGNoYW5nZSBvZiBjaGFuZ2VzKSB7XG4gICAgICBpZiAoY2hhbmdlLnR5cGUgPT09IFwiYXR0cmlidXRlc1wiICYmIGNoYW5nZS5hdHRyaWJ1dGVOYW1lICYmIGF0dHJpYnV0ZXMuaW5jbHVkZXMoY2hhbmdlLmF0dHJpYnV0ZU5hbWUpKSB7XG4gICAgICAgIGZuKGNoYW5nZSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgb2JzLm9ic2VydmUobm9kZSwgeyBhdHRyaWJ1dGVzOiB0cnVlLCBhdHRyaWJ1dGVGaWx0ZXI6IGF0dHJpYnV0ZXMgfSk7XG4gIHJldHVybiAoKSA9PiBvYnMuZGlzY29ubmVjdCgpO1xufVxuXG4vLyBzcmMvb2JzZXJ2ZS1jaGlsZHJlbi50c1xuZnVuY3Rpb24gb2JzZXJ2ZUNoaWxkcmVuKG5vZGUsIGZuKSB7XG4gIGlmICghbm9kZSlcbiAgICByZXR1cm47XG4gIGNvbnN0IHdpbiA9IG5vZGUub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyB8fCB3aW5kb3c7XG4gIGNvbnN0IG9icyA9IG5ldyB3aW4uTXV0YXRpb25PYnNlcnZlcihmbik7XG4gIG9icy5vYnNlcnZlKG5vZGUsIHsgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH0pO1xuICByZXR1cm4gKCkgPT4gb2JzLmRpc2Nvbm5lY3QoKTtcbn1cbmV4cG9ydCB7XG4gIG9ic2VydmVBdHRyaWJ1dGVzLFxuICBvYnNlcnZlQ2hpbGRyZW5cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/mutation-observer/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/number-input/dist/index.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/@zag-js/number-input/dist/index.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   anatomy: () => (/* binding */ anatomy),\n/* harmony export */   connect: () => (/* binding */ connect),\n/* harmony export */   machine: () => (/* binding */ machine)\n/* harmony export */ });\n/* harmony import */ var _zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/anatomy */ \"(ssr)/./node_modules/@zag-js/anatomy/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_event__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @zag-js/dom-event */ \"(ssr)/./node_modules/@zag-js/dom-event/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @zag-js/dom-query */ \"(ssr)/./node_modules/@zag-js/dom-query/dist/index.mjs\");\n/* harmony import */ var _zag_js_number_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @zag-js/number-utils */ \"(ssr)/./node_modules/@zag-js/number-utils/dist/index.mjs\");\n/* harmony import */ var _zag_js_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @zag-js/core */ \"(ssr)/./node_modules/@zag-js/core/dist/index.mjs\");\n/* harmony import */ var _zag_js_form_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @zag-js/form-utils */ \"(ssr)/./node_modules/@zag-js/form-utils/dist/index.mjs\");\n/* harmony import */ var _zag_js_mutation_observer__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @zag-js/mutation-observer */ \"(ssr)/./node_modules/@zag-js/mutation-observer/dist/index.mjs\");\n/* harmony import */ var _zag_js_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @zag-js/utils */ \"(ssr)/./node_modules/@zag-js/utils/dist/index.mjs\");\n/* harmony import */ var _internationalized_number__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @internationalized/number */ \"(ssr)/./node_modules/@internationalized/number/dist/import.mjs\");\n/* harmony import */ var _zag_js_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @zag-js/core */ \"(ssr)/./node_modules/@zag-js/store/dist/index.mjs\");\n// src/number-input.anatomy.ts\n\nvar anatomy = (0,_zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__.createAnatomy)(\"numberInput\").parts(\n  \"root\",\n  \"label\",\n  \"input\",\n  \"control\",\n  \"incrementTrigger\",\n  \"decrementTrigger\",\n  \"scrubber\"\n);\nvar parts = anatomy.build();\n\n// src/number-input.connect.ts\n\n\n\n\n// src/number-input.dom.ts\n\n\nvar dom = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.createScope)({\n  getRootId: (ctx) => ctx.ids?.root ?? `number-input:${ctx.id}`,\n  getInputId: (ctx) => ctx.ids?.input ?? `number-input:${ctx.id}:input`,\n  getIncrementTriggerId: (ctx) => ctx.ids?.incrementTrigger ?? `number-input:${ctx.id}:inc`,\n  getDecrementTriggerId: (ctx) => ctx.ids?.decrementTrigger ?? `number-input:${ctx.id}:dec`,\n  getScrubberId: (ctx) => ctx.ids?.scrubber ?? `number-input:${ctx.id}:scrubber`,\n  getCursorId: (ctx) => `number-input:${ctx.id}:cursor`,\n  getLabelId: (ctx) => ctx.ids?.label ?? `number-input:${ctx.id}:label`,\n  getInputEl: (ctx) => dom.getById(ctx, dom.getInputId(ctx)),\n  getIncrementTriggerEl: (ctx) => dom.getById(ctx, dom.getIncrementTriggerId(ctx)),\n  getDecrementTriggerEl: (ctx) => dom.getById(ctx, dom.getDecrementTriggerId(ctx)),\n  getScrubberEl: (ctx) => dom.getById(ctx, dom.getScrubberId(ctx)),\n  getCursorEl: (ctx) => dom.getDoc(ctx).getElementById(dom.getCursorId(ctx)),\n  getPressedTriggerEl: (ctx, hint = ctx.hint) => {\n    let btnEl = null;\n    if (hint === \"increment\") {\n      btnEl = dom.getIncrementTriggerEl(ctx);\n    }\n    if (hint === \"decrement\") {\n      btnEl = dom.getDecrementTriggerEl(ctx);\n    }\n    return btnEl;\n  },\n  setupVirtualCursor(ctx) {\n    if ((0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.isSafari)())\n      return;\n    dom.createVirtualCursor(ctx);\n    return () => {\n      dom.getCursorEl(ctx)?.remove();\n    };\n  },\n  preventTextSelection(ctx) {\n    const doc = dom.getDoc(ctx);\n    const html = doc.documentElement;\n    const body = doc.body;\n    body.style.pointerEvents = \"none\";\n    html.style.userSelect = \"none\";\n    html.style.cursor = \"ew-resize\";\n    return () => {\n      body.style.pointerEvents = \"\";\n      html.style.userSelect = \"\";\n      html.style.cursor = \"\";\n      if (!html.style.length) {\n        html.removeAttribute(\"style\");\n      }\n      if (!body.style.length) {\n        body.removeAttribute(\"style\");\n      }\n    };\n  },\n  getMousementValue(ctx, event) {\n    const x = (0,_zag_js_number_utils__WEBPACK_IMPORTED_MODULE_2__.roundToDevicePixel)(event.movementX);\n    const y = (0,_zag_js_number_utils__WEBPACK_IMPORTED_MODULE_2__.roundToDevicePixel)(event.movementY);\n    let hint = x > 0 ? \"increment\" : x < 0 ? \"decrement\" : null;\n    if (ctx.isRtl && hint === \"increment\")\n      hint = \"decrement\";\n    if (ctx.isRtl && hint === \"decrement\")\n      hint = \"increment\";\n    const point = {\n      x: ctx.scrubberCursorPoint.x + x,\n      y: ctx.scrubberCursorPoint.y + y\n    };\n    const win = dom.getWin(ctx);\n    const width = win.innerWidth;\n    const half = (0,_zag_js_number_utils__WEBPACK_IMPORTED_MODULE_2__.roundToDevicePixel)(7.5);\n    point.x = (0,_zag_js_number_utils__WEBPACK_IMPORTED_MODULE_2__.wrap)(point.x + half, width) - half;\n    return { hint, point };\n  },\n  createVirtualCursor(ctx) {\n    const doc = dom.getDoc(ctx);\n    const el = doc.createElement(\"div\");\n    el.className = \"scrubber--cursor\";\n    el.id = dom.getCursorId(ctx);\n    Object.assign(el.style, {\n      width: \"15px\",\n      height: \"15px\",\n      position: \"fixed\",\n      pointerEvents: \"none\",\n      left: \"0px\",\n      top: \"0px\",\n      zIndex: _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.MAX_Z_INDEX,\n      transform: ctx.scrubberCursorPoint ? `translate3d(${ctx.scrubberCursorPoint.x}px, ${ctx.scrubberCursorPoint.y}px, 0px)` : void 0,\n      willChange: \"transform\"\n    });\n    el.innerHTML = `\n        <svg width=\"46\" height=\"15\" style=\"left: -15.5px; position: absolute; top: 0; filter: drop-shadow(rgba(0, 0, 0, 0.4) 0px 1px 1.1px);\">\n          <g transform=\"translate(2 3)\">\n            <path fill-rule=\"evenodd\" d=\"M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z\" style=\"stroke-width: 2px; stroke: white;\"></path>\n            <path fill-rule=\"evenodd\" d=\"M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z\"></path>\n          </g>\n        </svg>`;\n    doc.body.appendChild(el);\n  }\n});\n\n// src/number-input.connect.ts\nfunction connect(state, send, normalize) {\n  const isFocused = state.hasTag(\"focus\");\n  const isInvalid = state.context.isOutOfRange || !!state.context.invalid;\n  const isValueEmpty = state.context.isValueEmpty;\n  const isDisabled = state.context.isDisabled;\n  const isReadOnly = state.context.readOnly;\n  const isIncrementDisabled = isDisabled || !state.context.canIncrement || isReadOnly;\n  const isDecrementDisabled = isDisabled || !state.context.canDecrement || isReadOnly;\n  const translations = state.context.translations;\n  return {\n    isFocused,\n    isInvalid,\n    isValueEmpty,\n    value: state.context.formattedValue,\n    valueAsNumber: state.context.valueAsNumber,\n    setValue(value) {\n      send({ type: \"VALUE.SET\", value });\n    },\n    clearValue() {\n      send(\"VALUE.CLEAR\");\n    },\n    increment() {\n      send(\"VALUE.INCREMENT\");\n    },\n    decrement() {\n      send(\"VALUE.DECREMENT\");\n    },\n    setToMax() {\n      send({ type: \"VALUE.SET\", value: state.context.max });\n    },\n    setToMin() {\n      send({ type: \"VALUE.SET\", value: state.context.min });\n    },\n    focus() {\n      dom.getInputEl(state.context)?.focus();\n    },\n    rootProps: normalize.element({\n      id: dom.getRootId(state.context),\n      ...parts.root.attrs,\n      dir: state.context.dir,\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isDisabled),\n      \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isFocused),\n      \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isInvalid)\n    }),\n    labelProps: normalize.label({\n      ...parts.label.attrs,\n      dir: state.context.dir,\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isDisabled),\n      \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isFocused),\n      \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isInvalid),\n      id: dom.getLabelId(state.context),\n      htmlFor: dom.getInputId(state.context)\n    }),\n    controlProps: normalize.element({\n      ...parts.control.attrs,\n      dir: state.context.dir,\n      role: \"group\",\n      \"aria-disabled\": isDisabled,\n      \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isFocused),\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isDisabled),\n      \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isInvalid),\n      \"aria-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.ariaAttr)(state.context.invalid)\n    }),\n    inputProps: normalize.input({\n      ...parts.input.attrs,\n      dir: state.context.dir,\n      name: state.context.name,\n      form: state.context.form,\n      id: dom.getInputId(state.context),\n      role: \"spinbutton\",\n      defaultValue: state.context.formattedValue,\n      pattern: state.context.pattern,\n      inputMode: state.context.inputMode,\n      \"aria-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.ariaAttr)(isInvalid),\n      \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isInvalid),\n      disabled: isDisabled,\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isDisabled),\n      readOnly: !!state.context.readOnly,\n      autoComplete: \"off\",\n      autoCorrect: \"off\",\n      spellCheck: \"false\",\n      type: \"text\",\n      \"aria-roledescription\": \"numberfield\",\n      \"aria-valuemin\": state.context.min,\n      \"aria-valuemax\": state.context.max,\n      \"aria-valuenow\": Number.isNaN(state.context.valueAsNumber) ? void 0 : state.context.valueAsNumber,\n      \"aria-valuetext\": state.context.valueText,\n      onCompositionStart() {\n        send(\"INPUT.COMPOSITION_START\");\n      },\n      onCompositionEnd() {\n        send(\"INPUT.COMPOSITION_END\");\n      },\n      onFocus() {\n        send(\"INPUT.FOCUS\");\n      },\n      onBlur() {\n        send({ type: \"INPUT.COMMIT\", src: \"blur\" });\n      },\n      onChange(event) {\n        send({ type: \"INPUT.CHANGE\", target: event.currentTarget, hint: \"set\" });\n      },\n      onBeforeInput(event) {\n        try {\n          const { selectionStart, selectionEnd, value } = event.currentTarget;\n          const nextValue = value.slice(0, selectionStart) + (event.data ?? \"\") + value.slice(selectionEnd);\n          const isValid = state.context.parser.isValidPartialNumber(nextValue);\n          if (!isValid) {\n            event.preventDefault();\n          }\n        } catch {\n        }\n      },\n      onKeyDown(event) {\n        if (state.context.readOnly)\n          return;\n        const step = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_3__.getEventStep)(event) * state.context.step;\n        const keyMap = {\n          ArrowUp() {\n            send({ type: \"INPUT.ARROW_UP\", step });\n            event.preventDefault();\n          },\n          ArrowDown() {\n            send({ type: \"INPUT.ARROW_DOWN\", step });\n            event.preventDefault();\n          },\n          Home() {\n            send(\"INPUT.HOME\");\n            event.preventDefault();\n          },\n          End() {\n            send(\"INPUT.END\");\n            event.preventDefault();\n          },\n          Enter() {\n            if (state.context.composing)\n              return;\n            send({ type: \"INPUT.COMMIT\", src: \"enter\" });\n          }\n        };\n        const exec = keyMap[event.key];\n        exec?.(event);\n      }\n    }),\n    decrementTriggerProps: normalize.button({\n      ...parts.decrementTrigger.attrs,\n      dir: state.context.dir,\n      id: dom.getDecrementTriggerId(state.context),\n      disabled: isDecrementDisabled,\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isDecrementDisabled),\n      \"aria-label\": translations.decrementLabel,\n      type: \"button\",\n      tabIndex: -1,\n      \"aria-controls\": dom.getInputId(state.context),\n      onPointerDown(event) {\n        if (isDecrementDisabled || !(0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_3__.isLeftClick)(event))\n          return;\n        send({ type: \"TRIGGER.PRESS_DOWN\", hint: \"decrement\", pointerType: event.pointerType });\n        if (event.pointerType === \"mouse\") {\n          event.preventDefault();\n        }\n        if (event.pointerType === \"touch\") {\n          event.currentTarget?.focus({ preventScroll: true });\n        }\n      },\n      onPointerUp(event) {\n        send({ type: \"TRIGGER.PRESS_UP\", hint: \"decrement\", pointerType: event.pointerType });\n      },\n      onPointerLeave() {\n        if (isDecrementDisabled)\n          return;\n        send({ type: \"TRIGGER.PRESS_UP\", hint: \"decrement\" });\n      }\n    }),\n    incrementTriggerProps: normalize.button({\n      ...parts.incrementTrigger.attrs,\n      dir: state.context.dir,\n      id: dom.getIncrementTriggerId(state.context),\n      disabled: isIncrementDisabled,\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isIncrementDisabled),\n      \"aria-label\": translations.incrementLabel,\n      type: \"button\",\n      tabIndex: -1,\n      \"aria-controls\": dom.getInputId(state.context),\n      onPointerDown(event) {\n        if (isIncrementDisabled || !(0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_3__.isLeftClick)(event))\n          return;\n        send({ type: \"TRIGGER.PRESS_DOWN\", hint: \"increment\", pointerType: event.pointerType });\n        if (event.pointerType === \"mouse\") {\n          event.preventDefault();\n        }\n        if (event.pointerType === \"touch\") {\n          event.currentTarget?.focus({ preventScroll: true });\n        }\n      },\n      onPointerUp(event) {\n        send({ type: \"TRIGGER.PRESS_UP\", hint: \"increment\", pointerType: event.pointerType });\n      },\n      onPointerLeave(event) {\n        send({ type: \"TRIGGER.PRESS_UP\", hint: \"increment\", pointerType: event.pointerType });\n      }\n    }),\n    scrubberProps: normalize.element({\n      ...parts.scrubber.attrs,\n      dir: state.context.dir,\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isDisabled),\n      id: dom.getScrubberId(state.context),\n      role: \"presentation\",\n      onMouseDown(event) {\n        if (isDisabled)\n          return;\n        const evt = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_3__.getNativeEvent)(event);\n        const point = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_3__.getEventPoint)(evt);\n        point.x = point.x - (0,_zag_js_number_utils__WEBPACK_IMPORTED_MODULE_2__.roundToDevicePixel)(7.5);\n        point.y = point.y - (0,_zag_js_number_utils__WEBPACK_IMPORTED_MODULE_2__.roundToDevicePixel)(7.5);\n        send({ type: \"SCRUBBER.PRESS_DOWN\", point });\n        event.preventDefault();\n      },\n      style: {\n        cursor: isDisabled ? void 0 : \"ew-resize\"\n      }\n    })\n  };\n}\n\n// src/number-input.machine.ts\n\n\n\n\n\n\n\n\n// src/cursor.ts\nfunction recordCursor(inputEl) {\n  if (inputEl.ownerDocument.activeElement !== inputEl)\n    return;\n  try {\n    const { selectionStart: start, selectionEnd: end, value } = inputEl;\n    const beforeTxt = value.substring(0, start);\n    const afterTxt = value.substring(end);\n    return {\n      start,\n      end,\n      value,\n      beforeTxt,\n      afterTxt\n    };\n  } catch {\n  }\n}\nfunction restoreCursor(inputEl, selection) {\n  if (inputEl.ownerDocument.activeElement !== inputEl)\n    return;\n  if (!selection) {\n    inputEl.setSelectionRange(inputEl.value.length, inputEl.value.length);\n    return;\n  }\n  try {\n    const { value } = inputEl;\n    const { beforeTxt = \"\", afterTxt = \"\", start } = selection;\n    let startPos = value.length;\n    if (value.endsWith(afterTxt)) {\n      startPos = value.length - afterTxt.length;\n    } else if (value.startsWith(beforeTxt)) {\n      startPos = beforeTxt.length;\n    } else if (start != null) {\n      const beforeLastChar = beforeTxt[start - 1];\n      const newIndex = value.indexOf(beforeLastChar, start - 1);\n      if (newIndex !== -1) {\n        startPos = newIndex + 1;\n      }\n    }\n    inputEl.setSelectionRange(startPos, startPos);\n  } catch {\n  }\n}\n\n// src/number-input.utils.ts\n\n\nvar defaultFormatOptions = {\n  style: \"decimal\",\n  minimumFractionDigits: 0,\n  maximumFractionDigits: 20\n};\nvar createFormatter = (locale, options = {}) => {\n  const formatOptions = Object.assign({}, defaultFormatOptions, options);\n  return (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_4__.ref)(new Intl.NumberFormat(locale, formatOptions));\n};\nvar createParser = (locale, options = {}) => {\n  const formatOptions = Object.assign({}, defaultFormatOptions, options);\n  return (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_4__.ref)(new _internationalized_number__WEBPACK_IMPORTED_MODULE_5__.NumberParser(locale, formatOptions));\n};\nvar parseValue = (ctx, value) => {\n  return ctx.parser.parse(String(value));\n};\nvar formatValue = (ctx, value) => {\n  if (Number.isNaN(value))\n    return \"\";\n  return ctx.formatter.format(value);\n};\n\n// src/number-input.machine.ts\nvar { not, and } = _zag_js_core__WEBPACK_IMPORTED_MODULE_6__.guards;\nfunction machine(userContext) {\n  const ctx = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_7__.compact)(userContext);\n  return (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_6__.createMachine)(\n    {\n      id: \"number-input\",\n      initial: \"idle\",\n      context: {\n        dir: \"ltr\",\n        locale: \"en-US\",\n        focusInputOnChange: true,\n        clampValueOnBlur: true,\n        allowOverflow: false,\n        inputMode: \"decimal\",\n        pattern: \"[0-9]*(.[0-9]+)?\",\n        value: \"\",\n        step: 1,\n        min: Number.MIN_SAFE_INTEGER,\n        max: Number.MAX_SAFE_INTEGER,\n        invalid: false,\n        spinOnPress: true,\n        ...ctx,\n        hint: null,\n        scrubberCursorPoint: null,\n        composing: false,\n        fieldsetDisabled: false,\n        formatter: createFormatter(ctx.locale || \"en-US\", ctx.formatOptions),\n        parser: createParser(ctx.locale || \"en-US\", ctx.formatOptions),\n        translations: {\n          incrementLabel: \"increment value\",\n          decrementLabel: \"decrease value\",\n          ...ctx.translations\n        }\n      },\n      computed: {\n        isRtl: (ctx2) => ctx2.dir === \"rtl\",\n        valueAsNumber: (ctx2) => parseValue(ctx2, ctx2.value),\n        formattedValue: (ctx2) => formatValue(ctx2, ctx2.valueAsNumber),\n        isAtMin: (ctx2) => (0,_zag_js_number_utils__WEBPACK_IMPORTED_MODULE_2__.isAtMin)(ctx2.valueAsNumber, ctx2),\n        isAtMax: (ctx2) => (0,_zag_js_number_utils__WEBPACK_IMPORTED_MODULE_2__.isAtMax)(ctx2.valueAsNumber, ctx2),\n        isOutOfRange: (ctx2) => !(0,_zag_js_number_utils__WEBPACK_IMPORTED_MODULE_2__.isWithinRange)(ctx2.valueAsNumber, ctx2),\n        isValueEmpty: (ctx2) => ctx2.value === \"\",\n        isDisabled: (ctx2) => !!ctx2.disabled || ctx2.fieldsetDisabled,\n        canIncrement: (ctx2) => ctx2.allowOverflow || !ctx2.isAtMax,\n        canDecrement: (ctx2) => ctx2.allowOverflow || !ctx2.isAtMin,\n        valueText: (ctx2) => ctx2.translations.valueText?.(ctx2.value)\n      },\n      watch: {\n        formatOptions: [\"setFormatterAndParser\", \"syncInputElement\"],\n        locale: [\"setFormatterAndParser\", \"syncInputElement\"],\n        value: [\"syncInputElement\"],\n        isOutOfRange: [\"invokeOnInvalid\"],\n        scrubberCursorPoint: [\"setVirtualCursorPosition\"]\n      },\n      activities: [\"trackFormControl\"],\n      on: {\n        \"VALUE.SET\": {\n          actions: [\"setRawValue\", \"setHintToSet\"]\n        },\n        \"VALUE.CLEAR\": {\n          actions: [\"clearValue\"]\n        },\n        \"VALUE.INCREMENT\": {\n          actions: [\"increment\"]\n        },\n        \"VALUE.DECREMENT\": {\n          actions: [\"decrement\"]\n        }\n      },\n      states: {\n        idle: {\n          on: {\n            \"TRIGGER.PRESS_DOWN\": [\n              { guard: \"isTouchPointer\", target: \"before:spin\", actions: [\"setHint\"] },\n              {\n                target: \"before:spin\",\n                actions: [\"focusInput\", \"invokeOnFocus\", \"setHint\"]\n              }\n            ],\n            \"SCRUBBER.PRESS_DOWN\": {\n              target: \"scrubbing\",\n              actions: [\"focusInput\", \"invokeOnFocus\", \"setHint\", \"setCursorPoint\"]\n            },\n            \"INPUT.FOCUS\": {\n              target: \"focused\",\n              actions: [\"focusInput\", \"invokeOnFocus\"]\n            }\n          }\n        },\n        focused: {\n          tags: \"focus\",\n          activities: \"attachWheelListener\",\n          on: {\n            \"TRIGGER.PRESS_DOWN\": [\n              { guard: \"isTouchPointer\", target: \"before:spin\", actions: [\"setHint\"] },\n              { target: \"before:spin\", actions: [\"focusInput\", \"setHint\"] }\n            ],\n            \"SCRUBBER.PRESS_DOWN\": {\n              target: \"scrubbing\",\n              actions: [\"focusInput\", \"setHint\", \"setCursorPoint\"]\n            },\n            \"INPUT.ARROW_UP\": {\n              actions: \"increment\"\n            },\n            \"INPUT.ARROW_DOWN\": {\n              actions: \"decrement\"\n            },\n            \"INPUT.HOME\": {\n              actions: \"decrementToMin\"\n            },\n            \"INPUT.END\": {\n              actions: \"incrementToMax\"\n            },\n            \"INPUT.CHANGE\": {\n              actions: [\"setValue\", \"setHint\"]\n            },\n            \"INPUT.COMMIT\": [\n              {\n                guard: and(\"clampValueOnBlur\", not(\"isInRange\")),\n                target: \"idle\",\n                actions: [\"setClampedValue\", \"clearHint\", \"invokeOnBlur\"]\n              },\n              {\n                target: \"idle\",\n                actions: [\"setFormattedValue\", \"clearHint\", \"invokeOnBlur\"]\n              }\n            ],\n            \"INPUT.COMPOSITION_START\": {\n              actions: \"setComposing\"\n            },\n            \"INPUT.COMPOSITION_END\": {\n              actions: \"clearComposing\"\n            }\n          }\n        },\n        \"before:spin\": {\n          tags: \"focus\",\n          activities: \"trackButtonDisabled\",\n          entry: (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_6__.choose)([\n            { guard: \"isIncrementHint\", actions: \"increment\" },\n            { guard: \"isDecrementHint\", actions: \"decrement\" }\n          ]),\n          after: {\n            CHANGE_DELAY: {\n              target: \"spinning\",\n              guard: and(\"isInRange\", \"spinOnPress\")\n            }\n          },\n          on: {\n            \"TRIGGER.PRESS_UP\": [\n              { guard: \"isTouchPointer\", target: \"focused\", actions: \"clearHint\" },\n              { target: \"focused\", actions: [\"focusInput\", \"clearHint\"] }\n            ]\n          }\n        },\n        spinning: {\n          tags: \"focus\",\n          activities: \"trackButtonDisabled\",\n          every: [\n            {\n              delay: \"CHANGE_INTERVAL\",\n              guard: and(not(\"isAtMin\"), \"isIncrementHint\"),\n              actions: \"increment\"\n            },\n            {\n              delay: \"CHANGE_INTERVAL\",\n              guard: and(not(\"isAtMax\"), \"isDecrementHint\"),\n              actions: \"decrement\"\n            }\n          ],\n          on: {\n            \"TRIGGER.PRESS_UP\": {\n              target: \"focused\",\n              actions: [\"focusInput\", \"clearHint\"]\n            }\n          }\n        },\n        scrubbing: {\n          tags: \"focus\",\n          activities: [\"activatePointerLock\", \"trackMousemove\", \"setupVirtualCursor\", \"preventTextSelection\"],\n          on: {\n            \"SCRUBBER.POINTER_UP\": {\n              target: \"focused\",\n              actions: [\"focusInput\", \"clearCursorPoint\"]\n            },\n            \"SCRUBBER.POINTER_MOVE\": [\n              {\n                guard: \"isIncrementHint\",\n                actions: [\"increment\", \"setCursorPoint\"]\n              },\n              {\n                guard: \"isDecrementHint\",\n                actions: [\"decrement\", \"setCursorPoint\"]\n              }\n            ]\n          }\n        }\n      }\n    },\n    {\n      delays: {\n        CHANGE_INTERVAL: 50,\n        CHANGE_DELAY: 300\n      },\n      guards: {\n        clampValueOnBlur: (ctx2) => ctx2.clampValueOnBlur,\n        isAtMin: (ctx2) => ctx2.isAtMin,\n        spinOnPress: (ctx2) => !!ctx2.spinOnPress,\n        isAtMax: (ctx2) => ctx2.isAtMax,\n        isInRange: (ctx2) => !ctx2.isOutOfRange,\n        isDecrementHint: (ctx2, evt) => (evt.hint ?? ctx2.hint) === \"decrement\",\n        isIncrementHint: (ctx2, evt) => (evt.hint ?? ctx2.hint) === \"increment\",\n        isTouchPointer: (_ctx, evt) => evt.pointerType === \"touch\"\n      },\n      activities: {\n        trackFormControl(ctx2, _evt, { initialContext }) {\n          const inputEl = dom.getInputEl(ctx2);\n          return (0,_zag_js_form_utils__WEBPACK_IMPORTED_MODULE_8__.trackFormControl)(inputEl, {\n            onFieldsetDisabledChange(disabled) {\n              ctx2.fieldsetDisabled = disabled;\n            },\n            onFormReset() {\n              set.value(ctx2, initialContext.value);\n            }\n          });\n        },\n        setupVirtualCursor(ctx2) {\n          return dom.setupVirtualCursor(ctx2);\n        },\n        preventTextSelection(ctx2) {\n          return dom.preventTextSelection(ctx2);\n        },\n        trackButtonDisabled(ctx2, _evt, { send }) {\n          const btn = dom.getPressedTriggerEl(ctx2, ctx2.hint);\n          return (0,_zag_js_mutation_observer__WEBPACK_IMPORTED_MODULE_9__.observeAttributes)(btn, [\"disabled\"], () => {\n            send({ type: \"TRIGGER.PRESS_UP\", src: \"attr\" });\n          });\n        },\n        attachWheelListener(ctx2, _evt, { send }) {\n          const inputEl = dom.getInputEl(ctx2);\n          if (!inputEl || !dom.isActiveElement(ctx2, inputEl) || !ctx2.allowMouseWheel)\n            return;\n          function onWheel(event) {\n            event.preventDefault();\n            const dir = Math.sign(event.deltaY) * -1;\n            if (dir === 1) {\n              send(\"VALUE.INCREMENT\");\n            } else if (dir === -1) {\n              send(\"VALUE.DECREMENT\");\n            }\n          }\n          return (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_3__.addDomEvent)(inputEl, \"wheel\", onWheel, { passive: false });\n        },\n        activatePointerLock(ctx2) {\n          if ((0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.isSafari)())\n            return;\n          return (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_3__.requestPointerLock)(dom.getDoc(ctx2));\n        },\n        trackMousemove(ctx2, _evt, { send }) {\n          const doc = dom.getDoc(ctx2);\n          function onMousemove(event) {\n            if (!ctx2.scrubberCursorPoint)\n              return;\n            const value = dom.getMousementValue(ctx2, event);\n            if (!value.hint)\n              return;\n            send({\n              type: \"SCRUBBER.POINTER_MOVE\",\n              hint: value.hint,\n              point: value.point\n            });\n          }\n          function onMouseup() {\n            send(\"SCRUBBER.POINTER_UP\");\n          }\n          return (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_7__.callAll)(\n            (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_3__.addDomEvent)(doc, \"mousemove\", onMousemove, false),\n            (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_3__.addDomEvent)(doc, \"mouseup\", onMouseup, false)\n          );\n        }\n      },\n      actions: {\n        focusInput(ctx2) {\n          if (!ctx2.focusInputOnChange)\n            return;\n          const inputEl = dom.getInputEl(ctx2);\n          if (dom.isActiveElement(ctx2, inputEl))\n            return;\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => inputEl?.focus({ preventScroll: true }));\n        },\n        increment(ctx2, evt) {\n          const nextValue = (0,_zag_js_number_utils__WEBPACK_IMPORTED_MODULE_2__.increment)(ctx2.valueAsNumber, evt.step ?? ctx2.step);\n          const value = ctx2.formatter.format((0,_zag_js_number_utils__WEBPACK_IMPORTED_MODULE_2__.clamp)(nextValue, ctx2));\n          set.value(ctx2, value);\n        },\n        decrement(ctx2, evt) {\n          const nextValue = (0,_zag_js_number_utils__WEBPACK_IMPORTED_MODULE_2__.decrement)(ctx2.valueAsNumber, evt.step ?? ctx2.step);\n          const value = ctx2.formatter.format((0,_zag_js_number_utils__WEBPACK_IMPORTED_MODULE_2__.clamp)(nextValue, ctx2));\n          set.value(ctx2, value);\n        },\n        setClampedValue(ctx2) {\n          const nextValue = (0,_zag_js_number_utils__WEBPACK_IMPORTED_MODULE_2__.clamp)(ctx2.valueAsNumber, ctx2);\n          set.value(ctx2, ctx2.formatter.format(nextValue));\n        },\n        setRawValue(ctx2, evt) {\n          const value = ctx2.formatter.format((0,_zag_js_number_utils__WEBPACK_IMPORTED_MODULE_2__.clamp)(evt.value, ctx2));\n          set.value(ctx2, value);\n        },\n        setValue(ctx2, evt) {\n          const value = evt.target?.value ?? evt.value;\n          set.value(ctx2, value);\n        },\n        clearValue(ctx2) {\n          set.value(ctx2, \"\");\n        },\n        incrementToMax(ctx2) {\n          const value = ctx2.formatter.format(ctx2.max);\n          set.value(ctx2, value);\n        },\n        decrementToMin(ctx2) {\n          const value = ctx2.formatter.format(ctx2.min);\n          set.value(ctx2, value);\n        },\n        setHint(ctx2, evt) {\n          ctx2.hint = evt.hint;\n        },\n        clearHint(ctx2) {\n          ctx2.hint = null;\n        },\n        setHintToSet(ctx2) {\n          ctx2.hint = \"set\";\n        },\n        invokeOnFocus(ctx2) {\n          ctx2.onFocusChange?.({\n            focused: true,\n            value: ctx2.formattedValue,\n            valueAsNumber: ctx2.valueAsNumber\n          });\n        },\n        invokeOnBlur(ctx2) {\n          ctx2.onFocusChange?.({\n            focused: false,\n            value: ctx2.formattedValue,\n            valueAsNumber: ctx2.valueAsNumber\n          });\n        },\n        invokeOnInvalid(ctx2) {\n          if (!ctx2.isOutOfRange)\n            return;\n          const reason = ctx2.valueAsNumber > ctx2.max ? \"rangeOverflow\" : \"rangeUnderflow\";\n          ctx2.onValueInvalid?.({\n            reason,\n            value: ctx2.formattedValue,\n            valueAsNumber: ctx2.valueAsNumber\n          });\n        },\n        syncInputElement(ctx2, evt) {\n          const value = evt.type.endsWith(\"CHANGE\") ? ctx2.value : ctx2.formattedValue;\n          sync.input(ctx2, value);\n        },\n        setFormattedValue(ctx2) {\n          const value = ctx2.formatter.format(ctx2.valueAsNumber);\n          set.value(ctx2, value);\n        },\n        setCursorPoint(ctx2, evt) {\n          ctx2.scrubberCursorPoint = evt.point;\n        },\n        clearCursorPoint(ctx2) {\n          ctx2.scrubberCursorPoint = null;\n        },\n        setVirtualCursorPosition(ctx2) {\n          const cursorEl = dom.getCursorEl(ctx2);\n          if (!cursorEl || !ctx2.scrubberCursorPoint)\n            return;\n          const { x, y } = ctx2.scrubberCursorPoint;\n          cursorEl.style.transform = `translate3d(${x}px, ${y}px, 0px)`;\n        },\n        setComposing(ctx2) {\n          ctx2.composing = true;\n        },\n        clearComposing(ctx2) {\n          ctx2.composing = false;\n        },\n        setFormatterAndParser(ctx2) {\n          if (!ctx2.locale)\n            return;\n          ctx2.formatter = createFormatter(ctx2.locale, ctx2.formatOptions);\n          ctx2.parser = createParser(ctx2.locale, ctx2.formatOptions);\n        }\n      },\n      compareFns: {\n        formatOptions: (a, b) => (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_7__.isEqual)(a, b),\n        scrubberCursorPoint: (a, b) => (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_7__.isEqual)(a, b)\n      }\n    }\n  );\n}\nvar sync = {\n  input(ctx, value) {\n    const inputEl = dom.getInputEl(ctx);\n    if (!inputEl)\n      return;\n    const sel = recordCursor(inputEl);\n    (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => {\n      dom.setValue(inputEl, value);\n      restoreCursor(inputEl, sel);\n    });\n  }\n};\nvar invoke = {\n  onChange: (ctx) => {\n    ctx.onValueChange?.({\n      value: ctx.value,\n      valueAsNumber: ctx.valueAsNumber\n    });\n  }\n};\nvar set = {\n  value: (ctx, value) => {\n    if ((0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_7__.isEqual)(ctx.value, value))\n      return;\n    ctx.value = value;\n    invoke.onChange(ctx);\n  }\n};\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9udW1iZXItaW5wdXQvZGlzdC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ2dEO0FBQ2hELGNBQWMsOERBQWE7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQzZGO0FBQ3RDO0FBQzBCOztBQUVqRjtBQUN1RTtBQUNQO0FBQ2hFLFVBQVUsOERBQVc7QUFDckIsdURBQXVELE9BQU87QUFDOUQseURBQXlELE9BQU87QUFDaEUsK0VBQStFLE9BQU87QUFDdEYsK0VBQStFLE9BQU87QUFDdEYsK0RBQStELE9BQU87QUFDdEUsd0NBQXdDLE9BQU87QUFDL0MseURBQXlELE9BQU87QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLFFBQVEsMkRBQVE7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxjQUFjLHdFQUFrQjtBQUNoQyxjQUFjLHdFQUFrQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHdFQUFrQjtBQUNuQyxjQUFjLDBEQUFJO0FBQ2xCLGFBQWE7QUFDYixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYywwREFBVztBQUN6QiwwREFBMEQsMEJBQTBCLE1BQU0sMEJBQTBCO0FBQ3BIO0FBQ0EsS0FBSztBQUNMO0FBQ0EsMERBQTBELG9C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QUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsc0RBQU87QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0U7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL0BwYXJrLXVpL2V4YW1wbGVzLXJlYWN0LW5leHQtanMvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9udW1iZXItaW5wdXQvZGlzdC9pbmRleC5tanM/NDljMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvbnVtYmVyLWlucHV0LmFuYXRvbXkudHNcbmltcG9ydCB7IGNyZWF0ZUFuYXRvbXkgfSBmcm9tIFwiQHphZy1qcy9hbmF0b215XCI7XG52YXIgYW5hdG9teSA9IGNyZWF0ZUFuYXRvbXkoXCJudW1iZXJJbnB1dFwiKS5wYXJ0cyhcbiAgXCJyb290XCIsXG4gIFwibGFiZWxcIixcbiAgXCJpbnB1dFwiLFxuICBcImNvbnRyb2xcIixcbiAgXCJpbmNyZW1lbnRUcmlnZ2VyXCIsXG4gIFwiZGVjcmVtZW50VHJpZ2dlclwiLFxuICBcInNjcnViYmVyXCJcbik7XG52YXIgcGFydHMgPSBhbmF0b215LmJ1aWxkKCk7XG5cbi8vIHNyYy9udW1iZXItaW5wdXQuY29ubmVjdC50c1xuaW1wb3J0IHsgZ2V0RXZlbnRQb2ludCwgZ2V0RXZlbnRTdGVwLCBnZXROYXRpdmVFdmVudCwgaXNMZWZ0Q2xpY2sgfSBmcm9tIFwiQHphZy1qcy9kb20tZXZlbnRcIjtcbmltcG9ydCB7IGFyaWFBdHRyLCBkYXRhQXR0ciB9IGZyb20gXCJAemFnLWpzL2RvbS1xdWVyeVwiO1xuaW1wb3J0IHsgcm91bmRUb0RldmljZVBpeGVsIGFzIHJvdW5kVG9EZXZpY2VQaXhlbDIgfSBmcm9tIFwiQHphZy1qcy9udW1iZXItdXRpbHNcIjtcblxuLy8gc3JjL251bWJlci1pbnB1dC5kb20udHNcbmltcG9ydCB7IGNyZWF0ZVNjb3BlLCBpc1NhZmFyaSwgTUFYX1pfSU5ERVggfSBmcm9tIFwiQHphZy1qcy9kb20tcXVlcnlcIjtcbmltcG9ydCB7IHJvdW5kVG9EZXZpY2VQaXhlbCwgd3JhcCB9IGZyb20gXCJAemFnLWpzL251bWJlci11dGlsc1wiO1xudmFyIGRvbSA9IGNyZWF0ZVNjb3BlKHtcbiAgZ2V0Um9vdElkOiAoY3R4KSA9PiBjdHguaWRzPy5yb290ID8/IGBudW1iZXItaW5wdXQ6JHtjdHguaWR9YCxcbiAgZ2V0SW5wdXRJZDogKGN0eCkgPT4gY3R4Lmlkcz8uaW5wdXQgPz8gYG51bWJlci1pbnB1dDoke2N0eC5pZH06aW5wdXRgLFxuICBnZXRJbmNyZW1lbnRUcmlnZ2VySWQ6IChjdHgpID0+IGN0eC5pZHM/LmluY3JlbWVudFRyaWdnZXIgPz8gYG51bWJlci1pbnB1dDoke2N0eC5pZH06aW5jYCxcbiAgZ2V0RGVjcmVtZW50VHJpZ2dlcklkOiAoY3R4KSA9PiBjdHguaWRzPy5kZWNyZW1lbnRUcmlnZ2VyID8/IGBudW1iZXItaW5wdXQ6JHtjdHguaWR9OmRlY2AsXG4gIGdldFNjcnViYmVySWQ6IChjdHgpID0+IGN0eC5pZHM/LnNjcnViYmVyID8/IGBudW1iZXItaW5wdXQ6JHtjdHguaWR9OnNjcnViYmVyYCxcbiAgZ2V0Q3Vyc29ySWQ6IChjdHgpID0+IGBudW1iZXItaW5wdXQ6JHtjdHguaWR9OmN1cnNvcmAsXG4gIGdldExhYmVsSWQ6IChjdHgpID0+IGN0eC5pZHM/LmxhYmVsID8/IGBudW1iZXItaW5wdXQ6JHtjdHguaWR9OmxhYmVsYCxcbiAgZ2V0SW5wdXRFbDogKGN0eCkgPT4gZG9tLmdldEJ5SWQoY3R4LCBkb20uZ2V0SW5wdXRJZChjdHgpKSxcbiAgZ2V0SW5jcmVtZW50VHJpZ2dlckVsOiAoY3R4KSA9PiBkb20uZ2V0QnlJZChjdHgsIGRvbS5nZXRJbmNyZW1lbnRUcmlnZ2VySWQoY3R4KSksXG4gIGdldERlY3JlbWVudFRyaWdnZXJFbDogKGN0eCkgPT4gZG9tLmdldEJ5SWQoY3R4LCBkb20uZ2V0RGVjcmVtZW50VHJpZ2dlcklkKGN0eCkpLFxuICBnZXRTY3J1YmJlckVsOiAoY3R4KSA9PiBkb20uZ2V0QnlJZChjdHgsIGRvbS5nZXRTY3J1YmJlcklkKGN0eCkpLFxuICBnZXRDdXJzb3JFbDogKGN0eCkgPT4gZG9tLmdldERvYyhjdHgpLmdldEVsZW1lbnRCeUlkKGRvbS5nZXRDdXJzb3JJZChjdHgpKSxcbiAgZ2V0UHJlc3NlZFRyaWdnZXJFbDogKGN0eCwgaGludCA9IGN0eC5oaW50KSA9PiB7XG4gICAgbGV0IGJ0bkVsID0gbnVsbDtcbiAgICBpZiAoaGludCA9PT0gXCJpbmNyZW1lbnRcIikge1xuICAgICAgYnRuRWwgPSBkb20uZ2V0SW5jcmVtZW50VHJpZ2dlckVsKGN0eCk7XG4gICAgfVxuICAgIGlmIChoaW50ID09PSBcImRlY3JlbWVudFwiKSB7XG4gICAgICBidG5FbCA9IGRvbS5nZXREZWNyZW1lbnRUcmlnZ2VyRWwoY3R4KTtcbiAgICB9XG4gICAgcmV0dXJuIGJ0bkVsO1xuICB9LFxuICBzZXR1cFZpcnR1YWxDdXJzb3IoY3R4KSB7XG4gICAgaWYgKGlzU2FmYXJpKCkpXG4gICAgICByZXR1cm47XG4gICAgZG9tLmNyZWF0ZVZpcnR1YWxDdXJzb3IoY3R4KTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZG9tLmdldEN1cnNvckVsKGN0eCk/LnJlbW92ZSgpO1xuICAgIH07XG4gIH0sXG4gIHByZXZlbnRUZXh0U2VsZWN0aW9uKGN0eCkge1xuICAgIGNvbnN0IGRvYyA9IGRvbS5nZXREb2MoY3R4KTtcbiAgICBjb25zdCBodG1sID0gZG9jLmRvY3VtZW50RWxlbWVudDtcbiAgICBjb25zdCBib2R5ID0gZG9jLmJvZHk7XG4gICAgYm9keS5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJub25lXCI7XG4gICAgaHRtbC5zdHlsZS51c2VyU2VsZWN0ID0gXCJub25lXCI7XG4gICAgaHRtbC5zdHlsZS5jdXJzb3IgPSBcImV3LXJlc2l6ZVwiO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBib2R5LnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcIlwiO1xuICAgICAgaHRtbC5zdHlsZS51c2VyU2VsZWN0ID0gXCJcIjtcbiAgICAgIGh0bWwuc3R5bGUuY3Vyc29yID0gXCJcIjtcbiAgICAgIGlmICghaHRtbC5zdHlsZS5sZW5ndGgpIHtcbiAgICAgICAgaHRtbC5yZW1vdmVBdHRyaWJ1dGUoXCJzdHlsZVwiKTtcbiAgICAgIH1cbiAgICAgIGlmICghYm9keS5zdHlsZS5sZW5ndGgpIHtcbiAgICAgICAgYm9keS5yZW1vdmVBdHRyaWJ1dGUoXCJzdHlsZVwiKTtcbiAgICAgIH1cbiAgICB9O1xuICB9LFxuICBnZXRNb3VzZW1lbnRWYWx1ZShjdHgsIGV2ZW50KSB7XG4gICAgY29uc3QgeCA9IHJvdW5kVG9EZXZpY2VQaXhlbChldmVudC5tb3ZlbWVudFgpO1xuICAgIGNvbnN0IHkgPSByb3VuZFRvRGV2aWNlUGl4ZWwoZXZlbnQubW92ZW1lbnRZKTtcbiAgICBsZXQgaGludCA9IHggPiAwID8gXCJpbmNyZW1lbnRcIiA6IHggPCAwID8gXCJkZWNyZW1lbnRcIiA6IG51bGw7XG4gICAgaWYgKGN0eC5pc1J0bCAmJiBoaW50ID09PSBcImluY3JlbWVudFwiKVxuICAgICAgaGludCA9IFwiZGVjcmVtZW50XCI7XG4gICAgaWYgKGN0eC5pc1J0bCAmJiBoaW50ID09PSBcImRlY3JlbWVudFwiKVxuICAgICAgaGludCA9IFwiaW5jcmVtZW50XCI7XG4gICAgY29uc3QgcG9pbnQgPSB7XG4gICAgICB4OiBjdHguc2NydWJiZXJDdXJzb3JQb2ludC54ICsgeCxcbiAgICAgIHk6IGN0eC5zY3J1YmJlckN1cnNvclBvaW50LnkgKyB5XG4gICAgfTtcbiAgICBjb25zdCB3aW4gPSBkb20uZ2V0V2luKGN0eCk7XG4gICAgY29uc3Qgd2lkdGggPSB3aW4uaW5uZXJXaWR0aDtcbiAgICBjb25zdCBoYWxmID0gcm91bmRUb0RldmljZVBpeGVsKDcuNSk7XG4gICAgcG9pbnQueCA9IHdyYXAocG9pbnQueCArIGhhbGYsIHdpZHRoKSAtIGhhbGY7XG4gICAgcmV0dXJuIHsgaGludCwgcG9pbnQgfTtcbiAgfSxcbiAgY3JlYXRlVmlydHVhbEN1cnNvcihjdHgpIHtcbiAgICBjb25zdCBkb2MgPSBkb20uZ2V0RG9jKGN0eCk7XG4gICAgY29uc3QgZWwgPSBkb2MuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBlbC5jbGFzc05hbWUgPSBcInNjcnViYmVyLS1jdXJzb3JcIjtcbiAgICBlbC5pZCA9IGRvbS5nZXRDdXJzb3JJZChjdHgpO1xuICAgIE9iamVjdC5hc3NpZ24oZWwuc3R5bGUsIHtcbiAgICAgIHdpZHRoOiBcIjE1cHhcIixcbiAgICAgIGhlaWdodDogXCIxNXB4XCIsXG4gICAgICBwb3NpdGlvbjogXCJmaXhlZFwiLFxuICAgICAgcG9pbnRlckV2ZW50czogXCJub25lXCIsXG4gICAgICBsZWZ0OiBcIjBweFwiLFxuICAgICAgdG9wOiBcIjBweFwiLFxuICAgICAgekluZGV4OiBNQVhfWl9JTkRFWCxcbiAgICAgIHRyYW5zZm9ybTogY3R4LnNjcnViYmVyQ3Vyc29yUG9pbnQgPyBgdHJhbnNsYXRlM2QoJHtjdHguc2NydWJiZXJDdXJzb3JQb2ludC54fXB4LCAke2N0eC5zY3J1YmJlckN1cnNvclBvaW50Lnl9cHgsIDBweClgIDogdm9pZCAwLFxuICAgICAgd2lsbENoYW5nZTogXCJ0cmFuc2Zvcm1cIlxuICAgIH0pO1xuICAgIGVsLmlubmVySFRNTCA9IGBcbiAgICAgICAgPHN2ZyB3aWR0aD1cIjQ2XCIgaGVpZ2h0PVwiMTVcIiBzdHlsZT1cImxlZnQ6IC0xNS41cHg7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAwOyBmaWx0ZXI6IGRyb3Atc2hhZG93KHJnYmEoMCwgMCwgMCwgMC40KSAwcHggMXB4IDEuMXB4KTtcIj5cbiAgICAgICAgICA8ZyB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoMiAzKVwiPlxuICAgICAgICAgICAgPHBhdGggZmlsbC1ydWxlPVwiZXZlbm9kZFwiIGQ9XCJNIDE1IDQuNUwgMTUgMkwgMTEuNSA1LjVMIDE1IDlMIDE1IDYuNUwgMzEgNi41TCAzMSA5TCAzNC41IDUuNUwgMzEgMkwgMzEgNC41WlwiIHN0eWxlPVwic3Ryb2tlLXdpZHRoOiAycHg7IHN0cm9rZTogd2hpdGU7XCI+PC9wYXRoPlxuICAgICAgICAgICAgPHBhdGggZmlsbC1ydWxlPVwiZXZlbm9kZFwiIGQ9XCJNIDE1IDQuNUwgMTUgMkwgMTEuNSA1LjVMIDE1IDlMIDE1IDYuNUwgMzEgNi41TCAzMSA5TCAzNC41IDUuNUwgMzEgMkwgMzEgNC41WlwiPjwvcGF0aD5cbiAgICAgICAgICA8L2c+XG4gICAgICAgIDwvc3ZnPmA7XG4gICAgZG9jLmJvZHkuYXBwZW5kQ2hpbGQoZWwpO1xuICB9XG59KTtcblxuLy8gc3JjL251bWJlci1pbnB1dC5jb25uZWN0LnRzXG5mdW5jdGlvbiBjb25uZWN0KHN0YXRlLCBzZW5kLCBub3JtYWxpemUpIHtcbiAgY29uc3QgaXNGb2N1c2VkID0gc3RhdGUuaGFzVGFnKFwiZm9jdXNcIik7XG4gIGNvbnN0IGlzSW52YWxpZCA9IHN0YXRlLmNvbnRleHQuaXNPdXRPZlJhbmdlIHx8ICEhc3RhdGUuY29udGV4dC5pbnZhbGlkO1xuICBjb25zdCBpc1ZhbHVlRW1wdHkgPSBzdGF0ZS5jb250ZXh0LmlzVmFsdWVFbXB0eTtcbiAgY29uc3QgaXNEaXNhYmxlZCA9IHN0YXRlLmNvbnRleHQuaXNEaXNhYmxlZDtcbiAgY29uc3QgaXNSZWFkT25seSA9IHN0YXRlLmNvbnRleHQucmVhZE9ubHk7XG4gIGNvbnN0IGlzSW5jcmVtZW50RGlzYWJsZWQgPSBpc0Rpc2FibGVkIHx8ICFzdGF0ZS5jb250ZXh0LmNhbkluY3JlbWVudCB8fCBpc1JlYWRPbmx5O1xuICBjb25zdCBpc0RlY3JlbWVudERpc2FibGVkID0gaXNEaXNhYmxlZCB8fCAhc3RhdGUuY29udGV4dC5jYW5EZWNyZW1lbnQgfHwgaXNSZWFkT25seTtcbiAgY29uc3QgdHJhbnNsYXRpb25zID0gc3RhdGUuY29udGV4dC50cmFuc2xhdGlvbnM7XG4gIHJldHVybiB7XG4gICAgaXNGb2N1c2VkLFxuICAgIGlzSW52YWxpZCxcbiAgICBpc1ZhbHVlRW1wdHksXG4gICAgdmFsdWU6IHN0YXRlLmNvbnRleHQuZm9ybWF0dGVkVmFsdWUsXG4gICAgdmFsdWVBc051bWJlcjogc3RhdGUuY29udGV4dC52YWx1ZUFzTnVtYmVyLFxuICAgIHNldFZhbHVlKHZhbHVlKSB7XG4gICAgICBzZW5kKHsgdHlwZTogXCJWQUxVRS5TRVRcIiwgdmFsdWUgfSk7XG4gICAgfSxcbiAgICBjbGVhclZhbHVlKCkge1xuICAgICAgc2VuZChcIlZBTFVFLkNMRUFSXCIpO1xuICAgIH0sXG4gICAgaW5jcmVtZW50KCkge1xuICAgICAgc2VuZChcIlZBTFVFLklOQ1JFTUVOVFwiKTtcbiAgICB9LFxuICAgIGRlY3JlbWVudCgpIHtcbiAgICAgIHNlbmQoXCJWQUxVRS5ERUNSRU1FTlRcIik7XG4gICAgfSxcbiAgICBzZXRUb01heCgpIHtcbiAgICAgIHNlbmQoeyB0eXBlOiBcIlZBTFVFLlNFVFwiLCB2YWx1ZTogc3RhdGUuY29udGV4dC5tYXggfSk7XG4gICAgfSxcbiAgICBzZXRUb01pbigpIHtcbiAgICAgIHNlbmQoeyB0eXBlOiBcIlZBTFVFLlNFVFwiLCB2YWx1ZTogc3RhdGUuY29udGV4dC5taW4gfSk7XG4gICAgfSxcbiAgICBmb2N1cygpIHtcbiAgICAgIGRvbS5nZXRJbnB1dEVsKHN0YXRlLmNvbnRleHQpPy5mb2N1cygpO1xuICAgIH0sXG4gICAgcm9vdFByb3BzOiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICBpZDogZG9tLmdldFJvb3RJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIC4uLnBhcnRzLnJvb3QuYXR0cnMsXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgXCJkYXRhLWRpc2FibGVkXCI6IGRhdGFBdHRyKGlzRGlzYWJsZWQpLFxuICAgICAgXCJkYXRhLWZvY3VzXCI6IGRhdGFBdHRyKGlzRm9jdXNlZCksXG4gICAgICBcImRhdGEtaW52YWxpZFwiOiBkYXRhQXR0cihpc0ludmFsaWQpXG4gICAgfSksXG4gICAgbGFiZWxQcm9wczogbm9ybWFsaXplLmxhYmVsKHtcbiAgICAgIC4uLnBhcnRzLmxhYmVsLmF0dHJzLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihpc0Rpc2FibGVkKSxcbiAgICAgIFwiZGF0YS1mb2N1c1wiOiBkYXRhQXR0cihpc0ZvY3VzZWQpLFxuICAgICAgXCJkYXRhLWludmFsaWRcIjogZGF0YUF0dHIoaXNJbnZhbGlkKSxcbiAgICAgIGlkOiBkb20uZ2V0TGFiZWxJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIGh0bWxGb3I6IGRvbS5nZXRJbnB1dElkKHN0YXRlLmNvbnRleHQpXG4gICAgfSksXG4gICAgY29udHJvbFByb3BzOiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICAuLi5wYXJ0cy5jb250cm9sLmF0dHJzLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIHJvbGU6IFwiZ3JvdXBcIixcbiAgICAgIFwiYXJpYS1kaXNhYmxlZFwiOiBpc0Rpc2FibGVkLFxuICAgICAgXCJkYXRhLWZvY3VzXCI6IGRhdGFBdHRyKGlzRm9jdXNlZCksXG4gICAgICBcImRhdGEtZGlzYWJsZWRcIjogZGF0YUF0dHIoaXNEaXNhYmxlZCksXG4gICAgICBcImRhdGEtaW52YWxpZFwiOiBkYXRhQXR0cihpc0ludmFsaWQpLFxuICAgICAgXCJhcmlhLWludmFsaWRcIjogYXJpYUF0dHIoc3RhdGUuY29udGV4dC5pbnZhbGlkKVxuICAgIH0pLFxuICAgIGlucHV0UHJvcHM6IG5vcm1hbGl6ZS5pbnB1dCh7XG4gICAgICAuLi5wYXJ0cy5pbnB1dC5hdHRycyxcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICBuYW1lOiBzdGF0ZS5jb250ZXh0Lm5hbWUsXG4gICAgICBmb3JtOiBzdGF0ZS5jb250ZXh0LmZvcm0sXG4gICAgICBpZDogZG9tLmdldElucHV0SWQoc3RhdGUuY29udGV4dCksXG4gICAgICByb2xlOiBcInNwaW5idXR0b25cIixcbiAgICAgIGRlZmF1bHRWYWx1ZTogc3RhdGUuY29udGV4dC5mb3JtYXR0ZWRWYWx1ZSxcbiAgICAgIHBhdHRlcm46IHN0YXRlLmNvbnRleHQucGF0dGVybixcbiAgICAgIGlucHV0TW9kZTogc3RhdGUuY29udGV4dC5pbnB1dE1vZGUsXG4gICAgICBcImFyaWEtaW52YWxpZFwiOiBhcmlhQXR0cihpc0ludmFsaWQpLFxuICAgICAgXCJkYXRhLWludmFsaWRcIjogZGF0YUF0dHIoaXNJbnZhbGlkKSxcbiAgICAgIGRpc2FibGVkOiBpc0Rpc2FibGVkLFxuICAgICAgXCJkYXRhLWRpc2FibGVkXCI6IGRhdGFBdHRyKGlzRGlzYWJsZWQpLFxuICAgICAgcmVhZE9ubHk6ICEhc3RhdGUuY29udGV4dC5yZWFkT25seSxcbiAgICAgIGF1dG9Db21wbGV0ZTogXCJvZmZcIixcbiAgICAgIGF1dG9Db3JyZWN0OiBcIm9mZlwiLFxuICAgICAgc3BlbGxDaGVjazogXCJmYWxzZVwiLFxuICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICBcImFyaWEtcm9sZWRlc2NyaXB0aW9uXCI6IFwibnVtYmVyZmllbGRcIixcbiAgICAgIFwiYXJpYS12YWx1ZW1pblwiOiBzdGF0ZS5jb250ZXh0Lm1pbixcbiAgICAgIFwiYXJpYS12YWx1ZW1heFwiOiBzdGF0ZS5jb250ZXh0Lm1heCxcbiAgICAgIFwiYXJpYS12YWx1ZW5vd1wiOiBOdW1iZXIuaXNOYU4oc3RhdGUuY29udGV4dC52YWx1ZUFzTnVtYmVyKSA/IHZvaWQgMCA6IHN0YXRlLmNvbnRleHQudmFsdWVBc051bWJlcixcbiAgICAgIFwiYXJpYS12YWx1ZXRleHRcIjogc3RhdGUuY29udGV4dC52YWx1ZVRleHQsXG4gICAgICBvbkNvbXBvc2l0aW9uU3RhcnQoKSB7XG4gICAgICAgIHNlbmQoXCJJTlBVVC5DT01QT1NJVElPTl9TVEFSVFwiKTtcbiAgICAgIH0sXG4gICAgICBvbkNvbXBvc2l0aW9uRW5kKCkge1xuICAgICAgICBzZW5kKFwiSU5QVVQuQ09NUE9TSVRJT05fRU5EXCIpO1xuICAgICAgfSxcbiAgICAgIG9uRm9jdXMoKSB7XG4gICAgICAgIHNlbmQoXCJJTlBVVC5GT0NVU1wiKTtcbiAgICAgIH0sXG4gICAgICBvbkJsdXIoKSB7XG4gICAgICAgIHNlbmQoeyB0eXBlOiBcIklOUFVULkNPTU1JVFwiLCBzcmM6IFwiYmx1clwiIH0pO1xuICAgICAgfSxcbiAgICAgIG9uQ2hhbmdlKGV2ZW50KSB7XG4gICAgICAgIHNlbmQoeyB0eXBlOiBcIklOUFVULkNIQU5HRVwiLCB0YXJnZXQ6IGV2ZW50LmN1cnJlbnRUYXJnZXQsIGhpbnQ6IFwic2V0XCIgfSk7XG4gICAgICB9LFxuICAgICAgb25CZWZvcmVJbnB1dChldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHsgc2VsZWN0aW9uU3RhcnQsIHNlbGVjdGlvbkVuZCwgdmFsdWUgfSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7XG4gICAgICAgICAgY29uc3QgbmV4dFZhbHVlID0gdmFsdWUuc2xpY2UoMCwgc2VsZWN0aW9uU3RhcnQpICsgKGV2ZW50LmRhdGEgPz8gXCJcIikgKyB2YWx1ZS5zbGljZShzZWxlY3Rpb25FbmQpO1xuICAgICAgICAgIGNvbnN0IGlzVmFsaWQgPSBzdGF0ZS5jb250ZXh0LnBhcnNlci5pc1ZhbGlkUGFydGlhbE51bWJlcihuZXh0VmFsdWUpO1xuICAgICAgICAgIGlmICghaXNWYWxpZCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgb25LZXlEb3duKGV2ZW50KSB7XG4gICAgICAgIGlmIChzdGF0ZS5jb250ZXh0LnJlYWRPbmx5KVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3Qgc3RlcCA9IGdldEV2ZW50U3RlcChldmVudCkgKiBzdGF0ZS5jb250ZXh0LnN0ZXA7XG4gICAgICAgIGNvbnN0IGtleU1hcCA9IHtcbiAgICAgICAgICBBcnJvd1VwKCkge1xuICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwiSU5QVVQuQVJST1dfVVBcIiwgc3RlcCB9KTtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBBcnJvd0Rvd24oKSB7XG4gICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJJTlBVVC5BUlJPV19ET1dOXCIsIHN0ZXAgfSk7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgSG9tZSgpIHtcbiAgICAgICAgICAgIHNlbmQoXCJJTlBVVC5IT01FXCIpO1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIEVuZCgpIHtcbiAgICAgICAgICAgIHNlbmQoXCJJTlBVVC5FTkRcIik7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgRW50ZXIoKSB7XG4gICAgICAgICAgICBpZiAoc3RhdGUuY29udGV4dC5jb21wb3NpbmcpXG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIklOUFVULkNPTU1JVFwiLCBzcmM6IFwiZW50ZXJcIiB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGV4ZWMgPSBrZXlNYXBbZXZlbnQua2V5XTtcbiAgICAgICAgZXhlYz8uKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9KSxcbiAgICBkZWNyZW1lbnRUcmlnZ2VyUHJvcHM6IG5vcm1hbGl6ZS5idXR0b24oe1xuICAgICAgLi4ucGFydHMuZGVjcmVtZW50VHJpZ2dlci5hdHRycyxcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICBpZDogZG9tLmdldERlY3JlbWVudFRyaWdnZXJJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIGRpc2FibGVkOiBpc0RlY3JlbWVudERpc2FibGVkLFxuICAgICAgXCJkYXRhLWRpc2FibGVkXCI6IGRhdGFBdHRyKGlzRGVjcmVtZW50RGlzYWJsZWQpLFxuICAgICAgXCJhcmlhLWxhYmVsXCI6IHRyYW5zbGF0aW9ucy5kZWNyZW1lbnRMYWJlbCxcbiAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICB0YWJJbmRleDogLTEsXG4gICAgICBcImFyaWEtY29udHJvbHNcIjogZG9tLmdldElucHV0SWQoc3RhdGUuY29udGV4dCksXG4gICAgICBvblBvaW50ZXJEb3duKGV2ZW50KSB7XG4gICAgICAgIGlmIChpc0RlY3JlbWVudERpc2FibGVkIHx8ICFpc0xlZnRDbGljayhldmVudCkpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBzZW5kKHsgdHlwZTogXCJUUklHR0VSLlBSRVNTX0RPV05cIiwgaGludDogXCJkZWNyZW1lbnRcIiwgcG9pbnRlclR5cGU6IGV2ZW50LnBvaW50ZXJUeXBlIH0pO1xuICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09IFwibW91c2VcIikge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSBcInRvdWNoXCIpIHtcbiAgICAgICAgICBldmVudC5jdXJyZW50VGFyZ2V0Py5mb2N1cyh7IHByZXZlbnRTY3JvbGw6IHRydWUgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvblBvaW50ZXJVcChldmVudCkge1xuICAgICAgICBzZW5kKHsgdHlwZTogXCJUUklHR0VSLlBSRVNTX1VQXCIsIGhpbnQ6IFwiZGVjcmVtZW50XCIsIHBvaW50ZXJUeXBlOiBldmVudC5wb2ludGVyVHlwZSB9KTtcbiAgICAgIH0sXG4gICAgICBvblBvaW50ZXJMZWF2ZSgpIHtcbiAgICAgICAgaWYgKGlzRGVjcmVtZW50RGlzYWJsZWQpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBzZW5kKHsgdHlwZTogXCJUUklHR0VSLlBSRVNTX1VQXCIsIGhpbnQ6IFwiZGVjcmVtZW50XCIgfSk7XG4gICAgICB9XG4gICAgfSksXG4gICAgaW5jcmVtZW50VHJpZ2dlclByb3BzOiBub3JtYWxpemUuYnV0dG9uKHtcbiAgICAgIC4uLnBhcnRzLmluY3JlbWVudFRyaWdnZXIuYXR0cnMsXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgaWQ6IGRvbS5nZXRJbmNyZW1lbnRUcmlnZ2VySWQoc3RhdGUuY29udGV4dCksXG4gICAgICBkaXNhYmxlZDogaXNJbmNyZW1lbnREaXNhYmxlZCxcbiAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihpc0luY3JlbWVudERpc2FibGVkKSxcbiAgICAgIFwiYXJpYS1sYWJlbFwiOiB0cmFuc2xhdGlvbnMuaW5jcmVtZW50TGFiZWwsXG4gICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgdGFiSW5kZXg6IC0xLFxuICAgICAgXCJhcmlhLWNvbnRyb2xzXCI6IGRvbS5nZXRJbnB1dElkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgb25Qb2ludGVyRG93bihldmVudCkge1xuICAgICAgICBpZiAoaXNJbmNyZW1lbnREaXNhYmxlZCB8fCAhaXNMZWZ0Q2xpY2soZXZlbnQpKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgc2VuZCh7IHR5cGU6IFwiVFJJR0dFUi5QUkVTU19ET1dOXCIsIGhpbnQ6IFwiaW5jcmVtZW50XCIsIHBvaW50ZXJUeXBlOiBldmVudC5wb2ludGVyVHlwZSB9KTtcbiAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSBcIm1vdXNlXCIpIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gXCJ0b3VjaFwiKSB7XG4gICAgICAgICAgZXZlbnQuY3VycmVudFRhcmdldD8uZm9jdXMoeyBwcmV2ZW50U2Nyb2xsOiB0cnVlIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgb25Qb2ludGVyVXAoZXZlbnQpIHtcbiAgICAgICAgc2VuZCh7IHR5cGU6IFwiVFJJR0dFUi5QUkVTU19VUFwiLCBoaW50OiBcImluY3JlbWVudFwiLCBwb2ludGVyVHlwZTogZXZlbnQucG9pbnRlclR5cGUgfSk7XG4gICAgICB9LFxuICAgICAgb25Qb2ludGVyTGVhdmUoZXZlbnQpIHtcbiAgICAgICAgc2VuZCh7IHR5cGU6IFwiVFJJR0dFUi5QUkVTU19VUFwiLCBoaW50OiBcImluY3JlbWVudFwiLCBwb2ludGVyVHlwZTogZXZlbnQucG9pbnRlclR5cGUgfSk7XG4gICAgICB9XG4gICAgfSksXG4gICAgc2NydWJiZXJQcm9wczogbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgLi4ucGFydHMuc2NydWJiZXIuYXR0cnMsXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgXCJkYXRhLWRpc2FibGVkXCI6IGRhdGFBdHRyKGlzRGlzYWJsZWQpLFxuICAgICAgaWQ6IGRvbS5nZXRTY3J1YmJlcklkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgcm9sZTogXCJwcmVzZW50YXRpb25cIixcbiAgICAgIG9uTW91c2VEb3duKGV2ZW50KSB7XG4gICAgICAgIGlmIChpc0Rpc2FibGVkKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgZXZ0ID0gZ2V0TmF0aXZlRXZlbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCBwb2ludCA9IGdldEV2ZW50UG9pbnQoZXZ0KTtcbiAgICAgICAgcG9pbnQueCA9IHBvaW50LnggLSByb3VuZFRvRGV2aWNlUGl4ZWwyKDcuNSk7XG4gICAgICAgIHBvaW50LnkgPSBwb2ludC55IC0gcm91bmRUb0RldmljZVBpeGVsMig3LjUpO1xuICAgICAgICBzZW5kKHsgdHlwZTogXCJTQ1JVQkJFUi5QUkVTU19ET1dOXCIsIHBvaW50IH0pO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfSxcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIGN1cnNvcjogaXNEaXNhYmxlZCA/IHZvaWQgMCA6IFwiZXctcmVzaXplXCJcbiAgICAgIH1cbiAgICB9KVxuICB9O1xufVxuXG4vLyBzcmMvbnVtYmVyLWlucHV0Lm1hY2hpbmUudHNcbmltcG9ydCB7IGNob29zZSwgY3JlYXRlTWFjaGluZSwgZ3VhcmRzIH0gZnJvbSBcIkB6YWctanMvY29yZVwiO1xuaW1wb3J0IHsgYWRkRG9tRXZlbnQsIHJlcXVlc3RQb2ludGVyTG9jayB9IGZyb20gXCJAemFnLWpzL2RvbS1ldmVudFwiO1xuaW1wb3J0IHsgaXNTYWZhcmkgYXMgaXNTYWZhcmkyLCByYWYgfSBmcm9tIFwiQHphZy1qcy9kb20tcXVlcnlcIjtcbmltcG9ydCB7IHRyYWNrRm9ybUNvbnRyb2wgfSBmcm9tIFwiQHphZy1qcy9mb3JtLXV0aWxzXCI7XG5pbXBvcnQgeyBvYnNlcnZlQXR0cmlidXRlcyB9IGZyb20gXCJAemFnLWpzL211dGF0aW9uLW9ic2VydmVyXCI7XG5pbXBvcnQgeyBjbGFtcCwgZGVjcmVtZW50LCBpbmNyZW1lbnQsIGlzQXRNYXgsIGlzQXRNaW4sIGlzV2l0aGluUmFuZ2UgfSBmcm9tIFwiQHphZy1qcy9udW1iZXItdXRpbHNcIjtcbmltcG9ydCB7IGNhbGxBbGwsIGNvbXBhY3QsIGlzRXF1YWwgfSBmcm9tIFwiQHphZy1qcy91dGlsc1wiO1xuXG4vLyBzcmMvY3Vyc29yLnRzXG5mdW5jdGlvbiByZWNvcmRDdXJzb3IoaW5wdXRFbCkge1xuICBpZiAoaW5wdXRFbC5vd25lckRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IGlucHV0RWwpXG4gICAgcmV0dXJuO1xuICB0cnkge1xuICAgIGNvbnN0IHsgc2VsZWN0aW9uU3RhcnQ6IHN0YXJ0LCBzZWxlY3Rpb25FbmQ6IGVuZCwgdmFsdWUgfSA9IGlucHV0RWw7XG4gICAgY29uc3QgYmVmb3JlVHh0ID0gdmFsdWUuc3Vic3RyaW5nKDAsIHN0YXJ0KTtcbiAgICBjb25zdCBhZnRlclR4dCA9IHZhbHVlLnN1YnN0cmluZyhlbmQpO1xuICAgIHJldHVybiB7XG4gICAgICBzdGFydCxcbiAgICAgIGVuZCxcbiAgICAgIHZhbHVlLFxuICAgICAgYmVmb3JlVHh0LFxuICAgICAgYWZ0ZXJUeHRcbiAgICB9O1xuICB9IGNhdGNoIHtcbiAgfVxufVxuZnVuY3Rpb24gcmVzdG9yZUN1cnNvcihpbnB1dEVsLCBzZWxlY3Rpb24pIHtcbiAgaWYgKGlucHV0RWwub3duZXJEb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSBpbnB1dEVsKVxuICAgIHJldHVybjtcbiAgaWYgKCFzZWxlY3Rpb24pIHtcbiAgICBpbnB1dEVsLnNldFNlbGVjdGlvblJhbmdlKGlucHV0RWwudmFsdWUubGVuZ3RoLCBpbnB1dEVsLnZhbHVlLmxlbmd0aCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHRyeSB7XG4gICAgY29uc3QgeyB2YWx1ZSB9ID0gaW5wdXRFbDtcbiAgICBjb25zdCB7IGJlZm9yZVR4dCA9IFwiXCIsIGFmdGVyVHh0ID0gXCJcIiwgc3RhcnQgfSA9IHNlbGVjdGlvbjtcbiAgICBsZXQgc3RhcnRQb3MgPSB2YWx1ZS5sZW5ndGg7XG4gICAgaWYgKHZhbHVlLmVuZHNXaXRoKGFmdGVyVHh0KSkge1xuICAgICAgc3RhcnRQb3MgPSB2YWx1ZS5sZW5ndGggLSBhZnRlclR4dC5sZW5ndGg7XG4gICAgfSBlbHNlIGlmICh2YWx1ZS5zdGFydHNXaXRoKGJlZm9yZVR4dCkpIHtcbiAgICAgIHN0YXJ0UG9zID0gYmVmb3JlVHh0Lmxlbmd0aDtcbiAgICB9IGVsc2UgaWYgKHN0YXJ0ICE9IG51bGwpIHtcbiAgICAgIGNvbnN0IGJlZm9yZUxhc3RDaGFyID0gYmVmb3JlVHh0W3N0YXJ0IC0gMV07XG4gICAgICBjb25zdCBuZXdJbmRleCA9IHZhbHVlLmluZGV4T2YoYmVmb3JlTGFzdENoYXIsIHN0YXJ0IC0gMSk7XG4gICAgICBpZiAobmV3SW5kZXggIT09IC0xKSB7XG4gICAgICAgIHN0YXJ0UG9zID0gbmV3SW5kZXggKyAxO1xuICAgICAgfVxuICAgIH1cbiAgICBpbnB1dEVsLnNldFNlbGVjdGlvblJhbmdlKHN0YXJ0UG9zLCBzdGFydFBvcyk7XG4gIH0gY2F0Y2gge1xuICB9XG59XG5cbi8vIHNyYy9udW1iZXItaW5wdXQudXRpbHMudHNcbmltcG9ydCB7IE51bWJlclBhcnNlciB9IGZyb20gXCJAaW50ZXJuYXRpb25hbGl6ZWQvbnVtYmVyXCI7XG5pbXBvcnQgeyByZWYgfSBmcm9tIFwiQHphZy1qcy9jb3JlXCI7XG52YXIgZGVmYXVsdEZvcm1hdE9wdGlvbnMgPSB7XG4gIHN0eWxlOiBcImRlY2ltYWxcIixcbiAgbWluaW11bUZyYWN0aW9uRGlnaXRzOiAwLFxuICBtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IDIwXG59O1xudmFyIGNyZWF0ZUZvcm1hdHRlciA9IChsb2NhbGUsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICBjb25zdCBmb3JtYXRPcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdEZvcm1hdE9wdGlvbnMsIG9wdGlvbnMpO1xuICByZXR1cm4gcmVmKG5ldyBJbnRsLk51bWJlckZvcm1hdChsb2NhbGUsIGZvcm1hdE9wdGlvbnMpKTtcbn07XG52YXIgY3JlYXRlUGFyc2VyID0gKGxvY2FsZSwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gIGNvbnN0IGZvcm1hdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0Rm9ybWF0T3B0aW9ucywgb3B0aW9ucyk7XG4gIHJldHVybiByZWYobmV3IE51bWJlclBhcnNlcihsb2NhbGUsIGZvcm1hdE9wdGlvbnMpKTtcbn07XG52YXIgcGFyc2VWYWx1ZSA9IChjdHgsIHZhbHVlKSA9PiB7XG4gIHJldHVybiBjdHgucGFyc2VyLnBhcnNlKFN0cmluZyh2YWx1ZSkpO1xufTtcbnZhciBmb3JtYXRWYWx1ZSA9IChjdHgsIHZhbHVlKSA9PiB7XG4gIGlmIChOdW1iZXIuaXNOYU4odmFsdWUpKVxuICAgIHJldHVybiBcIlwiO1xuICByZXR1cm4gY3R4LmZvcm1hdHRlci5mb3JtYXQodmFsdWUpO1xufTtcblxuLy8gc3JjL251bWJlci1pbnB1dC5tYWNoaW5lLnRzXG52YXIgeyBub3QsIGFuZCB9ID0gZ3VhcmRzO1xuZnVuY3Rpb24gbWFjaGluZSh1c2VyQ29udGV4dCkge1xuICBjb25zdCBjdHggPSBjb21wYWN0KHVzZXJDb250ZXh0KTtcbiAgcmV0dXJuIGNyZWF0ZU1hY2hpbmUoXG4gICAge1xuICAgICAgaWQ6IFwibnVtYmVyLWlucHV0XCIsXG4gICAgICBpbml0aWFsOiBcImlkbGVcIixcbiAgICAgIGNvbnRleHQ6IHtcbiAgICAgICAgZGlyOiBcImx0clwiLFxuICAgICAgICBsb2NhbGU6IFwiZW4tVVNcIixcbiAgICAgICAgZm9jdXNJbnB1dE9uQ2hhbmdlOiB0cnVlLFxuICAgICAgICBjbGFtcFZhbHVlT25CbHVyOiB0cnVlLFxuICAgICAgICBhbGxvd092ZXJmbG93OiBmYWxzZSxcbiAgICAgICAgaW5wdXRNb2RlOiBcImRlY2ltYWxcIixcbiAgICAgICAgcGF0dGVybjogXCJbMC05XSooLlswLTldKyk/XCIsXG4gICAgICAgIHZhbHVlOiBcIlwiLFxuICAgICAgICBzdGVwOiAxLFxuICAgICAgICBtaW46IE51bWJlci5NSU5fU0FGRV9JTlRFR0VSLFxuICAgICAgICBtYXg6IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSLFxuICAgICAgICBpbnZhbGlkOiBmYWxzZSxcbiAgICAgICAgc3Bpbk9uUHJlc3M6IHRydWUsXG4gICAgICAgIC4uLmN0eCxcbiAgICAgICAgaGludDogbnVsbCxcbiAgICAgICAgc2NydWJiZXJDdXJzb3JQb2ludDogbnVsbCxcbiAgICAgICAgY29tcG9zaW5nOiBmYWxzZSxcbiAgICAgICAgZmllbGRzZXREaXNhYmxlZDogZmFsc2UsXG4gICAgICAgIGZvcm1hdHRlcjogY3JlYXRlRm9ybWF0dGVyKGN0eC5sb2NhbGUgfHwgXCJlbi1VU1wiLCBjdHguZm9ybWF0T3B0aW9ucyksXG4gICAgICAgIHBhcnNlcjogY3JlYXRlUGFyc2VyKGN0eC5sb2NhbGUgfHwgXCJlbi1VU1wiLCBjdHguZm9ybWF0T3B0aW9ucyksXG4gICAgICAgIHRyYW5zbGF0aW9uczoge1xuICAgICAgICAgIGluY3JlbWVudExhYmVsOiBcImluY3JlbWVudCB2YWx1ZVwiLFxuICAgICAgICAgIGRlY3JlbWVudExhYmVsOiBcImRlY3JlYXNlIHZhbHVlXCIsXG4gICAgICAgICAgLi4uY3R4LnRyYW5zbGF0aW9uc1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY29tcHV0ZWQ6IHtcbiAgICAgICAgaXNSdGw6IChjdHgyKSA9PiBjdHgyLmRpciA9PT0gXCJydGxcIixcbiAgICAgICAgdmFsdWVBc051bWJlcjogKGN0eDIpID0+IHBhcnNlVmFsdWUoY3R4MiwgY3R4Mi52YWx1ZSksXG4gICAgICAgIGZvcm1hdHRlZFZhbHVlOiAoY3R4MikgPT4gZm9ybWF0VmFsdWUoY3R4MiwgY3R4Mi52YWx1ZUFzTnVtYmVyKSxcbiAgICAgICAgaXNBdE1pbjogKGN0eDIpID0+IGlzQXRNaW4oY3R4Mi52YWx1ZUFzTnVtYmVyLCBjdHgyKSxcbiAgICAgICAgaXNBdE1heDogKGN0eDIpID0+IGlzQXRNYXgoY3R4Mi52YWx1ZUFzTnVtYmVyLCBjdHgyKSxcbiAgICAgICAgaXNPdXRPZlJhbmdlOiAoY3R4MikgPT4gIWlzV2l0aGluUmFuZ2UoY3R4Mi52YWx1ZUFzTnVtYmVyLCBjdHgyKSxcbiAgICAgICAgaXNWYWx1ZUVtcHR5OiAoY3R4MikgPT4gY3R4Mi52YWx1ZSA9PT0gXCJcIixcbiAgICAgICAgaXNEaXNhYmxlZDogKGN0eDIpID0+ICEhY3R4Mi5kaXNhYmxlZCB8fCBjdHgyLmZpZWxkc2V0RGlzYWJsZWQsXG4gICAgICAgIGNhbkluY3JlbWVudDogKGN0eDIpID0+IGN0eDIuYWxsb3dPdmVyZmxvdyB8fCAhY3R4Mi5pc0F0TWF4LFxuICAgICAgICBjYW5EZWNyZW1lbnQ6IChjdHgyKSA9PiBjdHgyLmFsbG93T3ZlcmZsb3cgfHwgIWN0eDIuaXNBdE1pbixcbiAgICAgICAgdmFsdWVUZXh0OiAoY3R4MikgPT4gY3R4Mi50cmFuc2xhdGlvbnMudmFsdWVUZXh0Py4oY3R4Mi52YWx1ZSlcbiAgICAgIH0sXG4gICAgICB3YXRjaDoge1xuICAgICAgICBmb3JtYXRPcHRpb25zOiBbXCJzZXRGb3JtYXR0ZXJBbmRQYXJzZXJcIiwgXCJzeW5jSW5wdXRFbGVtZW50XCJdLFxuICAgICAgICBsb2NhbGU6IFtcInNldEZvcm1hdHRlckFuZFBhcnNlclwiLCBcInN5bmNJbnB1dEVsZW1lbnRcIl0sXG4gICAgICAgIHZhbHVlOiBbXCJzeW5jSW5wdXRFbGVtZW50XCJdLFxuICAgICAgICBpc091dE9mUmFuZ2U6IFtcImludm9rZU9uSW52YWxpZFwiXSxcbiAgICAgICAgc2NydWJiZXJDdXJzb3JQb2ludDogW1wic2V0VmlydHVhbEN1cnNvclBvc2l0aW9uXCJdXG4gICAgICB9LFxuICAgICAgYWN0aXZpdGllczogW1widHJhY2tGb3JtQ29udHJvbFwiXSxcbiAgICAgIG9uOiB7XG4gICAgICAgIFwiVkFMVUUuU0VUXCI6IHtcbiAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRSYXdWYWx1ZVwiLCBcInNldEhpbnRUb1NldFwiXVxuICAgICAgICB9LFxuICAgICAgICBcIlZBTFVFLkNMRUFSXCI6IHtcbiAgICAgICAgICBhY3Rpb25zOiBbXCJjbGVhclZhbHVlXCJdXG4gICAgICAgIH0sXG4gICAgICAgIFwiVkFMVUUuSU5DUkVNRU5UXCI6IHtcbiAgICAgICAgICBhY3Rpb25zOiBbXCJpbmNyZW1lbnRcIl1cbiAgICAgICAgfSxcbiAgICAgICAgXCJWQUxVRS5ERUNSRU1FTlRcIjoge1xuICAgICAgICAgIGFjdGlvbnM6IFtcImRlY3JlbWVudFwiXVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgc3RhdGVzOiB7XG4gICAgICAgIGlkbGU6IHtcbiAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgXCJUUklHR0VSLlBSRVNTX0RPV05cIjogW1xuICAgICAgICAgICAgICB7IGd1YXJkOiBcImlzVG91Y2hQb2ludGVyXCIsIHRhcmdldDogXCJiZWZvcmU6c3BpblwiLCBhY3Rpb25zOiBbXCJzZXRIaW50XCJdIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiYmVmb3JlOnNwaW5cIixcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJmb2N1c0lucHV0XCIsIFwiaW52b2tlT25Gb2N1c1wiLCBcInNldEhpbnRcIl1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwiU0NSVUJCRVIuUFJFU1NfRE9XTlwiOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJzY3J1YmJpbmdcIixcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wiZm9jdXNJbnB1dFwiLCBcImludm9rZU9uRm9jdXNcIiwgXCJzZXRIaW50XCIsIFwic2V0Q3Vyc29yUG9pbnRcIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIklOUFVULkZPQ1VTXCI6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcImZvY3VzZWRcIixcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wiZm9jdXNJbnB1dFwiLCBcImludm9rZU9uRm9jdXNcIl1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGZvY3VzZWQ6IHtcbiAgICAgICAgICB0YWdzOiBcImZvY3VzXCIsXG4gICAgICAgICAgYWN0aXZpdGllczogXCJhdHRhY2hXaGVlbExpc3RlbmVyXCIsXG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIFwiVFJJR0dFUi5QUkVTU19ET1dOXCI6IFtcbiAgICAgICAgICAgICAgeyBndWFyZDogXCJpc1RvdWNoUG9pbnRlclwiLCB0YXJnZXQ6IFwiYmVmb3JlOnNwaW5cIiwgYWN0aW9uczogW1wic2V0SGludFwiXSB9LFxuICAgICAgICAgICAgICB7IHRhcmdldDogXCJiZWZvcmU6c3BpblwiLCBhY3Rpb25zOiBbXCJmb2N1c0lucHV0XCIsIFwic2V0SGludFwiXSB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJTQ1JVQkJFUi5QUkVTU19ET1dOXCI6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcInNjcnViYmluZ1wiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJmb2N1c0lucHV0XCIsIFwic2V0SGludFwiLCBcInNldEN1cnNvclBvaW50XCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJJTlBVVC5BUlJPV19VUFwiOiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6IFwiaW5jcmVtZW50XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIklOUFVULkFSUk9XX0RPV05cIjoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBcImRlY3JlbWVudFwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJJTlBVVC5IT01FXCI6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogXCJkZWNyZW1lbnRUb01pblwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJJTlBVVC5FTkRcIjoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBcImluY3JlbWVudFRvTWF4XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIklOUFVULkNIQU5HRVwiOiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldFZhbHVlXCIsIFwic2V0SGludFwiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiSU5QVVQuQ09NTUlUXCI6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGd1YXJkOiBhbmQoXCJjbGFtcFZhbHVlT25CbHVyXCIsIG5vdChcImlzSW5SYW5nZVwiKSksXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBcImlkbGVcIixcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRDbGFtcGVkVmFsdWVcIiwgXCJjbGVhckhpbnRcIiwgXCJpbnZva2VPbkJsdXJcIl1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRhcmdldDogXCJpZGxlXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogW1wic2V0Rm9ybWF0dGVkVmFsdWVcIiwgXCJjbGVhckhpbnRcIiwgXCJpbnZva2VPbkJsdXJcIl1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwiSU5QVVQuQ09NUE9TSVRJT05fU1RBUlRcIjoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBcInNldENvbXBvc2luZ1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJJTlBVVC5DT01QT1NJVElPTl9FTkRcIjoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBcImNsZWFyQ29tcG9zaW5nXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiYmVmb3JlOnNwaW5cIjoge1xuICAgICAgICAgIHRhZ3M6IFwiZm9jdXNcIixcbiAgICAgICAgICBhY3Rpdml0aWVzOiBcInRyYWNrQnV0dG9uRGlzYWJsZWRcIixcbiAgICAgICAgICBlbnRyeTogY2hvb3NlKFtcbiAgICAgICAgICAgIHsgZ3VhcmQ6IFwiaXNJbmNyZW1lbnRIaW50XCIsIGFjdGlvbnM6IFwiaW5jcmVtZW50XCIgfSxcbiAgICAgICAgICAgIHsgZ3VhcmQ6IFwiaXNEZWNyZW1lbnRIaW50XCIsIGFjdGlvbnM6IFwiZGVjcmVtZW50XCIgfVxuICAgICAgICAgIF0pLFxuICAgICAgICAgIGFmdGVyOiB7XG4gICAgICAgICAgICBDSEFOR0VfREVMQVk6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcInNwaW5uaW5nXCIsXG4gICAgICAgICAgICAgIGd1YXJkOiBhbmQoXCJpc0luUmFuZ2VcIiwgXCJzcGluT25QcmVzc1wiKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIFwiVFJJR0dFUi5QUkVTU19VUFwiOiBbXG4gICAgICAgICAgICAgIHsgZ3VhcmQ6IFwiaXNUb3VjaFBvaW50ZXJcIiwgdGFyZ2V0OiBcImZvY3VzZWRcIiwgYWN0aW9uczogXCJjbGVhckhpbnRcIiB9LFxuICAgICAgICAgICAgICB7IHRhcmdldDogXCJmb2N1c2VkXCIsIGFjdGlvbnM6IFtcImZvY3VzSW5wdXRcIiwgXCJjbGVhckhpbnRcIl0gfVxuICAgICAgICAgICAgXVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgc3Bpbm5pbmc6IHtcbiAgICAgICAgICB0YWdzOiBcImZvY3VzXCIsXG4gICAgICAgICAgYWN0aXZpdGllczogXCJ0cmFja0J1dHRvbkRpc2FibGVkXCIsXG4gICAgICAgICAgZXZlcnk6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgZGVsYXk6IFwiQ0hBTkdFX0lOVEVSVkFMXCIsXG4gICAgICAgICAgICAgIGd1YXJkOiBhbmQobm90KFwiaXNBdE1pblwiKSwgXCJpc0luY3JlbWVudEhpbnRcIiksXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFwiaW5jcmVtZW50XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGRlbGF5OiBcIkNIQU5HRV9JTlRFUlZBTFwiLFxuICAgICAgICAgICAgICBndWFyZDogYW5kKG5vdChcImlzQXRNYXhcIiksIFwiaXNEZWNyZW1lbnRIaW50XCIpLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBcImRlY3JlbWVudFwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXSxcbiAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgXCJUUklHR0VSLlBSRVNTX1VQXCI6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcImZvY3VzZWRcIixcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wiZm9jdXNJbnB1dFwiLCBcImNsZWFySGludFwiXVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgc2NydWJiaW5nOiB7XG4gICAgICAgICAgdGFnczogXCJmb2N1c1wiLFxuICAgICAgICAgIGFjdGl2aXRpZXM6IFtcImFjdGl2YXRlUG9pbnRlckxvY2tcIiwgXCJ0cmFja01vdXNlbW92ZVwiLCBcInNldHVwVmlydHVhbEN1cnNvclwiLCBcInByZXZlbnRUZXh0U2VsZWN0aW9uXCJdLFxuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBcIlNDUlVCQkVSLlBPSU5URVJfVVBcIjoge1xuICAgICAgICAgICAgICB0YXJnZXQ6IFwiZm9jdXNlZFwiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJmb2N1c0lucHV0XCIsIFwiY2xlYXJDdXJzb3JQb2ludFwiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiU0NSVUJCRVIuUE9JTlRFUl9NT1ZFXCI6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGd1YXJkOiBcImlzSW5jcmVtZW50SGludFwiLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFtcImluY3JlbWVudFwiLCBcInNldEN1cnNvclBvaW50XCJdXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBndWFyZDogXCJpc0RlY3JlbWVudEhpbnRcIixcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJkZWNyZW1lbnRcIiwgXCJzZXRDdXJzb3JQb2ludFwiXVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICBkZWxheXM6IHtcbiAgICAgICAgQ0hBTkdFX0lOVEVSVkFMOiA1MCxcbiAgICAgICAgQ0hBTkdFX0RFTEFZOiAzMDBcbiAgICAgIH0sXG4gICAgICBndWFyZHM6IHtcbiAgICAgICAgY2xhbXBWYWx1ZU9uQmx1cjogKGN0eDIpID0+IGN0eDIuY2xhbXBWYWx1ZU9uQmx1cixcbiAgICAgICAgaXNBdE1pbjogKGN0eDIpID0+IGN0eDIuaXNBdE1pbixcbiAgICAgICAgc3Bpbk9uUHJlc3M6IChjdHgyKSA9PiAhIWN0eDIuc3Bpbk9uUHJlc3MsXG4gICAgICAgIGlzQXRNYXg6IChjdHgyKSA9PiBjdHgyLmlzQXRNYXgsXG4gICAgICAgIGlzSW5SYW5nZTogKGN0eDIpID0+ICFjdHgyLmlzT3V0T2ZSYW5nZSxcbiAgICAgICAgaXNEZWNyZW1lbnRIaW50OiAoY3R4MiwgZXZ0KSA9PiAoZXZ0LmhpbnQgPz8gY3R4Mi5oaW50KSA9PT0gXCJkZWNyZW1lbnRcIixcbiAgICAgICAgaXNJbmNyZW1lbnRIaW50OiAoY3R4MiwgZXZ0KSA9PiAoZXZ0LmhpbnQgPz8gY3R4Mi5oaW50KSA9PT0gXCJpbmNyZW1lbnRcIixcbiAgICAgICAgaXNUb3VjaFBvaW50ZXI6IChfY3R4LCBldnQpID0+IGV2dC5wb2ludGVyVHlwZSA9PT0gXCJ0b3VjaFwiXG4gICAgICB9LFxuICAgICAgYWN0aXZpdGllczoge1xuICAgICAgICB0cmFja0Zvcm1Db250cm9sKGN0eDIsIF9ldnQsIHsgaW5pdGlhbENvbnRleHQgfSkge1xuICAgICAgICAgIGNvbnN0IGlucHV0RWwgPSBkb20uZ2V0SW5wdXRFbChjdHgyKTtcbiAgICAgICAgICByZXR1cm4gdHJhY2tGb3JtQ29udHJvbChpbnB1dEVsLCB7XG4gICAgICAgICAgICBvbkZpZWxkc2V0RGlzYWJsZWRDaGFuZ2UoZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgY3R4Mi5maWVsZHNldERpc2FibGVkID0gZGlzYWJsZWQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25Gb3JtUmVzZXQoKSB7XG4gICAgICAgICAgICAgIHNldC52YWx1ZShjdHgyLCBpbml0aWFsQ29udGV4dC52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldHVwVmlydHVhbEN1cnNvcihjdHgyKSB7XG4gICAgICAgICAgcmV0dXJuIGRvbS5zZXR1cFZpcnR1YWxDdXJzb3IoY3R4Mik7XG4gICAgICAgIH0sXG4gICAgICAgIHByZXZlbnRUZXh0U2VsZWN0aW9uKGN0eDIpIHtcbiAgICAgICAgICByZXR1cm4gZG9tLnByZXZlbnRUZXh0U2VsZWN0aW9uKGN0eDIpO1xuICAgICAgICB9LFxuICAgICAgICB0cmFja0J1dHRvbkRpc2FibGVkKGN0eDIsIF9ldnQsIHsgc2VuZCB9KSB7XG4gICAgICAgICAgY29uc3QgYnRuID0gZG9tLmdldFByZXNzZWRUcmlnZ2VyRWwoY3R4MiwgY3R4Mi5oaW50KTtcbiAgICAgICAgICByZXR1cm4gb2JzZXJ2ZUF0dHJpYnV0ZXMoYnRuLCBbXCJkaXNhYmxlZFwiXSwgKCkgPT4ge1xuICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwiVFJJR0dFUi5QUkVTU19VUFwiLCBzcmM6IFwiYXR0clwiIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBhdHRhY2hXaGVlbExpc3RlbmVyKGN0eDIsIF9ldnQsIHsgc2VuZCB9KSB7XG4gICAgICAgICAgY29uc3QgaW5wdXRFbCA9IGRvbS5nZXRJbnB1dEVsKGN0eDIpO1xuICAgICAgICAgIGlmICghaW5wdXRFbCB8fCAhZG9tLmlzQWN0aXZlRWxlbWVudChjdHgyLCBpbnB1dEVsKSB8fCAhY3R4Mi5hbGxvd01vdXNlV2hlZWwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgZnVuY3Rpb24gb25XaGVlbChldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGNvbnN0IGRpciA9IE1hdGguc2lnbihldmVudC5kZWx0YVkpICogLTE7XG4gICAgICAgICAgICBpZiAoZGlyID09PSAxKSB7XG4gICAgICAgICAgICAgIHNlbmQoXCJWQUxVRS5JTkNSRU1FTlRcIik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRpciA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgc2VuZChcIlZBTFVFLkRFQ1JFTUVOVFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGFkZERvbUV2ZW50KGlucHV0RWwsIFwid2hlZWxcIiwgb25XaGVlbCwgeyBwYXNzaXZlOiBmYWxzZSB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgYWN0aXZhdGVQb2ludGVyTG9jayhjdHgyKSB7XG4gICAgICAgICAgaWYgKGlzU2FmYXJpMigpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIHJldHVybiByZXF1ZXN0UG9pbnRlckxvY2soZG9tLmdldERvYyhjdHgyKSk7XG4gICAgICAgIH0sXG4gICAgICAgIHRyYWNrTW91c2Vtb3ZlKGN0eDIsIF9ldnQsIHsgc2VuZCB9KSB7XG4gICAgICAgICAgY29uc3QgZG9jID0gZG9tLmdldERvYyhjdHgyKTtcbiAgICAgICAgICBmdW5jdGlvbiBvbk1vdXNlbW92ZShldmVudCkge1xuICAgICAgICAgICAgaWYgKCFjdHgyLnNjcnViYmVyQ3Vyc29yUG9pbnQpXG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZG9tLmdldE1vdXNlbWVudFZhbHVlKGN0eDIsIGV2ZW50KTtcbiAgICAgICAgICAgIGlmICghdmFsdWUuaGludClcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgc2VuZCh7XG4gICAgICAgICAgICAgIHR5cGU6IFwiU0NSVUJCRVIuUE9JTlRFUl9NT1ZFXCIsXG4gICAgICAgICAgICAgIGhpbnQ6IHZhbHVlLmhpbnQsXG4gICAgICAgICAgICAgIHBvaW50OiB2YWx1ZS5wb2ludFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZ1bmN0aW9uIG9uTW91c2V1cCgpIHtcbiAgICAgICAgICAgIHNlbmQoXCJTQ1JVQkJFUi5QT0lOVEVSX1VQXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gY2FsbEFsbChcbiAgICAgICAgICAgIGFkZERvbUV2ZW50KGRvYywgXCJtb3VzZW1vdmVcIiwgb25Nb3VzZW1vdmUsIGZhbHNlKSxcbiAgICAgICAgICAgIGFkZERvbUV2ZW50KGRvYywgXCJtb3VzZXVwXCIsIG9uTW91c2V1cCwgZmFsc2UpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGFjdGlvbnM6IHtcbiAgICAgICAgZm9jdXNJbnB1dChjdHgyKSB7XG4gICAgICAgICAgaWYgKCFjdHgyLmZvY3VzSW5wdXRPbkNoYW5nZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjb25zdCBpbnB1dEVsID0gZG9tLmdldElucHV0RWwoY3R4Mik7XG4gICAgICAgICAgaWYgKGRvbS5pc0FjdGl2ZUVsZW1lbnQoY3R4MiwgaW5wdXRFbCkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgcmFmKCgpID0+IGlucHV0RWw/LmZvY3VzKHsgcHJldmVudFNjcm9sbDogdHJ1ZSB9KSk7XG4gICAgICAgIH0sXG4gICAgICAgIGluY3JlbWVudChjdHgyLCBldnQpIHtcbiAgICAgICAgICBjb25zdCBuZXh0VmFsdWUgPSBpbmNyZW1lbnQoY3R4Mi52YWx1ZUFzTnVtYmVyLCBldnQuc3RlcCA/PyBjdHgyLnN0ZXApO1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gY3R4Mi5mb3JtYXR0ZXIuZm9ybWF0KGNsYW1wKG5leHRWYWx1ZSwgY3R4MikpO1xuICAgICAgICAgIHNldC52YWx1ZShjdHgyLCB2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGRlY3JlbWVudChjdHgyLCBldnQpIHtcbiAgICAgICAgICBjb25zdCBuZXh0VmFsdWUgPSBkZWNyZW1lbnQoY3R4Mi52YWx1ZUFzTnVtYmVyLCBldnQuc3RlcCA/PyBjdHgyLnN0ZXApO1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gY3R4Mi5mb3JtYXR0ZXIuZm9ybWF0KGNsYW1wKG5leHRWYWx1ZSwgY3R4MikpO1xuICAgICAgICAgIHNldC52YWx1ZShjdHgyLCB2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldENsYW1wZWRWYWx1ZShjdHgyKSB7XG4gICAgICAgICAgY29uc3QgbmV4dFZhbHVlID0gY2xhbXAoY3R4Mi52YWx1ZUFzTnVtYmVyLCBjdHgyKTtcbiAgICAgICAgICBzZXQudmFsdWUoY3R4MiwgY3R4Mi5mb3JtYXR0ZXIuZm9ybWF0KG5leHRWYWx1ZSkpO1xuICAgICAgICB9LFxuICAgICAgICBzZXRSYXdWYWx1ZShjdHgyLCBldnQpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IGN0eDIuZm9ybWF0dGVyLmZvcm1hdChjbGFtcChldnQudmFsdWUsIGN0eDIpKTtcbiAgICAgICAgICBzZXQudmFsdWUoY3R4MiwgdmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBzZXRWYWx1ZShjdHgyLCBldnQpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IGV2dC50YXJnZXQ/LnZhbHVlID8/IGV2dC52YWx1ZTtcbiAgICAgICAgICBzZXQudmFsdWUoY3R4MiwgdmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBjbGVhclZhbHVlKGN0eDIpIHtcbiAgICAgICAgICBzZXQudmFsdWUoY3R4MiwgXCJcIik7XG4gICAgICAgIH0sXG4gICAgICAgIGluY3JlbWVudFRvTWF4KGN0eDIpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IGN0eDIuZm9ybWF0dGVyLmZvcm1hdChjdHgyLm1heCk7XG4gICAgICAgICAgc2V0LnZhbHVlKGN0eDIsIHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZGVjcmVtZW50VG9NaW4oY3R4Mikge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gY3R4Mi5mb3JtYXR0ZXIuZm9ybWF0KGN0eDIubWluKTtcbiAgICAgICAgICBzZXQudmFsdWUoY3R4MiwgdmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBzZXRIaW50KGN0eDIsIGV2dCkge1xuICAgICAgICAgIGN0eDIuaGludCA9IGV2dC5oaW50O1xuICAgICAgICB9LFxuICAgICAgICBjbGVhckhpbnQoY3R4Mikge1xuICAgICAgICAgIGN0eDIuaGludCA9IG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIHNldEhpbnRUb1NldChjdHgyKSB7XG4gICAgICAgICAgY3R4Mi5oaW50ID0gXCJzZXRcIjtcbiAgICAgICAgfSxcbiAgICAgICAgaW52b2tlT25Gb2N1cyhjdHgyKSB7XG4gICAgICAgICAgY3R4Mi5vbkZvY3VzQ2hhbmdlPy4oe1xuICAgICAgICAgICAgZm9jdXNlZDogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBjdHgyLmZvcm1hdHRlZFZhbHVlLFxuICAgICAgICAgICAgdmFsdWVBc051bWJlcjogY3R4Mi52YWx1ZUFzTnVtYmVyXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGludm9rZU9uQmx1cihjdHgyKSB7XG4gICAgICAgICAgY3R4Mi5vbkZvY3VzQ2hhbmdlPy4oe1xuICAgICAgICAgICAgZm9jdXNlZDogZmFsc2UsXG4gICAgICAgICAgICB2YWx1ZTogY3R4Mi5mb3JtYXR0ZWRWYWx1ZSxcbiAgICAgICAgICAgIHZhbHVlQXNOdW1iZXI6IGN0eDIudmFsdWVBc051bWJlclxuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBpbnZva2VPbkludmFsaWQoY3R4Mikge1xuICAgICAgICAgIGlmICghY3R4Mi5pc091dE9mUmFuZ2UpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgY29uc3QgcmVhc29uID0gY3R4Mi52YWx1ZUFzTnVtYmVyID4gY3R4Mi5tYXggPyBcInJhbmdlT3ZlcmZsb3dcIiA6IFwicmFuZ2VVbmRlcmZsb3dcIjtcbiAgICAgICAgICBjdHgyLm9uVmFsdWVJbnZhbGlkPy4oe1xuICAgICAgICAgICAgcmVhc29uLFxuICAgICAgICAgICAgdmFsdWU6IGN0eDIuZm9ybWF0dGVkVmFsdWUsXG4gICAgICAgICAgICB2YWx1ZUFzTnVtYmVyOiBjdHgyLnZhbHVlQXNOdW1iZXJcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgc3luY0lucHV0RWxlbWVudChjdHgyLCBldnQpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IGV2dC50eXBlLmVuZHNXaXRoKFwiQ0hBTkdFXCIpID8gY3R4Mi52YWx1ZSA6IGN0eDIuZm9ybWF0dGVkVmFsdWU7XG4gICAgICAgICAgc3luYy5pbnB1dChjdHgyLCB2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldEZvcm1hdHRlZFZhbHVlKGN0eDIpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IGN0eDIuZm9ybWF0dGVyLmZvcm1hdChjdHgyLnZhbHVlQXNOdW1iZXIpO1xuICAgICAgICAgIHNldC52YWx1ZShjdHgyLCB2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldEN1cnNvclBvaW50KGN0eDIsIGV2dCkge1xuICAgICAgICAgIGN0eDIuc2NydWJiZXJDdXJzb3JQb2ludCA9IGV2dC5wb2ludDtcbiAgICAgICAgfSxcbiAgICAgICAgY2xlYXJDdXJzb3JQb2ludChjdHgyKSB7XG4gICAgICAgICAgY3R4Mi5zY3J1YmJlckN1cnNvclBvaW50ID0gbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0VmlydHVhbEN1cnNvclBvc2l0aW9uKGN0eDIpIHtcbiAgICAgICAgICBjb25zdCBjdXJzb3JFbCA9IGRvbS5nZXRDdXJzb3JFbChjdHgyKTtcbiAgICAgICAgICBpZiAoIWN1cnNvckVsIHx8ICFjdHgyLnNjcnViYmVyQ3Vyc29yUG9pbnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgY29uc3QgeyB4LCB5IH0gPSBjdHgyLnNjcnViYmVyQ3Vyc29yUG9pbnQ7XG4gICAgICAgICAgY3Vyc29yRWwuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKCR7eH1weCwgJHt5fXB4LCAwcHgpYDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0Q29tcG9zaW5nKGN0eDIpIHtcbiAgICAgICAgICBjdHgyLmNvbXBvc2luZyA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIGNsZWFyQ29tcG9zaW5nKGN0eDIpIHtcbiAgICAgICAgICBjdHgyLmNvbXBvc2luZyA9IGZhbHNlO1xuICAgICAgICB9LFxuICAgICAgICBzZXRGb3JtYXR0ZXJBbmRQYXJzZXIoY3R4Mikge1xuICAgICAgICAgIGlmICghY3R4Mi5sb2NhbGUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgY3R4Mi5mb3JtYXR0ZXIgPSBjcmVhdGVGb3JtYXR0ZXIoY3R4Mi5sb2NhbGUsIGN0eDIuZm9ybWF0T3B0aW9ucyk7XG4gICAgICAgICAgY3R4Mi5wYXJzZXIgPSBjcmVhdGVQYXJzZXIoY3R4Mi5sb2NhbGUsIGN0eDIuZm9ybWF0T3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjb21wYXJlRm5zOiB7XG4gICAgICAgIGZvcm1hdE9wdGlvbnM6IChhLCBiKSA9PiBpc0VxdWFsKGEsIGIpLFxuICAgICAgICBzY3J1YmJlckN1cnNvclBvaW50OiAoYSwgYikgPT4gaXNFcXVhbChhLCBiKVxuICAgICAgfVxuICAgIH1cbiAgKTtcbn1cbnZhciBzeW5jID0ge1xuICBpbnB1dChjdHgsIHZhbHVlKSB7XG4gICAgY29uc3QgaW5wdXRFbCA9IGRvbS5nZXRJbnB1dEVsKGN0eCk7XG4gICAgaWYgKCFpbnB1dEVsKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHNlbCA9IHJlY29yZEN1cnNvcihpbnB1dEVsKTtcbiAgICByYWYoKCkgPT4ge1xuICAgICAgZG9tLnNldFZhbHVlKGlucHV0RWwsIHZhbHVlKTtcbiAgICAgIHJlc3RvcmVDdXJzb3IoaW5wdXRFbCwgc2VsKTtcbiAgICB9KTtcbiAgfVxufTtcbnZhciBpbnZva2UgPSB7XG4gIG9uQ2hhbmdlOiAoY3R4KSA9PiB7XG4gICAgY3R4Lm9uVmFsdWVDaGFuZ2U/Lih7XG4gICAgICB2YWx1ZTogY3R4LnZhbHVlLFxuICAgICAgdmFsdWVBc051bWJlcjogY3R4LnZhbHVlQXNOdW1iZXJcbiAgICB9KTtcbiAgfVxufTtcbnZhciBzZXQgPSB7XG4gIHZhbHVlOiAoY3R4LCB2YWx1ZSkgPT4ge1xuICAgIGlmIChpc0VxdWFsKGN0eC52YWx1ZSwgdmFsdWUpKVxuICAgICAgcmV0dXJuO1xuICAgIGN0eC52YWx1ZSA9IHZhbHVlO1xuICAgIGludm9rZS5vbkNoYW5nZShjdHgpO1xuICB9XG59O1xuZXhwb3J0IHtcbiAgYW5hdG9teSxcbiAgY29ubmVjdCxcbiAgbWFjaGluZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/number-input/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/number-utils/dist/index.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/@zag-js/number-utils/dist/index.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clamp: () => (/* binding */ clamp),\n/* harmony export */   countDecimals: () => (/* binding */ countDecimals),\n/* harmony export */   decrement: () => (/* binding */ decrement),\n/* harmony export */   formatDecimal: () => (/* binding */ formatDecimal),\n/* harmony export */   increment: () => (/* binding */ increment),\n/* harmony export */   isAtMax: () => (/* binding */ isAtMax),\n/* harmony export */   isAtMin: () => (/* binding */ isAtMin),\n/* harmony export */   isWithinRange: () => (/* binding */ isWithinRange),\n/* harmony export */   percentToValue: () => (/* binding */ percentToValue),\n/* harmony export */   rangy: () => (/* binding */ rangy),\n/* harmony export */   round: () => (/* binding */ round),\n/* harmony export */   roundToDevicePixel: () => (/* binding */ roundToDevicePixel),\n/* harmony export */   snapToStep: () => (/* binding */ snapToStep),\n/* harmony export */   toRangeArray: () => (/* binding */ toRangeArray),\n/* harmony export */   toRanges: () => (/* binding */ toRanges),\n/* harmony export */   transform: () => (/* binding */ transform),\n/* harmony export */   valueOf: () => (/* binding */ valueOf),\n/* harmony export */   valueToPercent: () => (/* binding */ valueToPercent),\n/* harmony export */   wrap: () => (/* binding */ wrap)\n/* harmony export */ });\n// src/number.ts\nfunction wrap(num, max) {\n  return (num % max + max) % max;\n}\nfunction round(v, t) {\n  let num = valueOf(v);\n  const p = 10 ** (t ?? 10);\n  num = Math.round(num * p) / p;\n  return t ? num.toFixed(t) : v.toString();\n}\nfunction roundToDevicePixel(num) {\n  if (typeof window.devicePixelRatio !== \"number\")\n    return Math.round(num);\n  const dp = window.devicePixelRatio;\n  return Math.floor(num * dp + 0.5) / dp;\n}\nvar valueToPercent = (v, r) => (valueOf(v) - r.min) * 100 / (r.max - r.min);\nvar percentToValue = (v, r) => r.min + (r.max - r.min) * valueOf(v);\nfunction clamp(v, o) {\n  return Math.min(Math.max(valueOf(v), o.min), o.max);\n}\nfunction countDecimals(value) {\n  if (!Number.isFinite(value))\n    return 0;\n  let e = 1, p = 0;\n  while (Math.round(value * e) / e !== value) {\n    e *= 10;\n    p += 1;\n  }\n  return p;\n}\nvar increment = (v, s) => decimalOperation(valueOf(v), \"+\", s);\nvar decrement = (v, s) => decimalOperation(valueOf(v), \"-\", s);\nfunction snapToStep(value, step) {\n  const num = valueOf(value);\n  const p = countDecimals(step);\n  const v = Math.round(num / step) * step;\n  return round(v, p);\n}\nfunction valueOf(v) {\n  const res = typeof v === \"number\" ? v : parseFloat(v.toString().replace(/[^\\w.-]+/g, \"\"));\n  return Number.isNaN(res) ? 0 : res;\n}\nfunction formatDecimal(v, o) {\n  return new Intl.NumberFormat(\"en-US\", {\n    useGrouping: false,\n    style: \"decimal\",\n    minimumFractionDigits: o.minFractionDigits,\n    maximumFractionDigits: o.maxFractionDigits\n  }).format(valueOf(v));\n}\nfunction isAtMax(v, o) {\n  const val = valueOf(v);\n  return val >= o.max;\n}\nfunction isAtMin(v, o) {\n  const val = valueOf(v);\n  return val <= o.min;\n}\nfunction isWithinRange(v, o) {\n  const val = valueOf(v);\n  return val >= o.min && val <= o.max;\n}\nfunction decimalOperation(a, op, b) {\n  let result = op === \"+\" ? a + b : a - b;\n  if (a % 1 !== 0 || b % 1 !== 0) {\n    const multiplier = 10 ** Math.max(countDecimals(a), countDecimals(b));\n    a = Math.round(a * multiplier);\n    b = Math.round(b * multiplier);\n    result = op === \"+\" ? a + b : a - b;\n    result /= multiplier;\n  }\n  return result;\n}\n\n// src/rangy.ts\nfunction rangy(o) {\n  const wrap2 = (v) => rangy({ ...o, value: v });\n  return {\n    isInRange: isWithinRange(o.value, o),\n    isAtMax: isAtMax(o.value, o),\n    isAtMin: isAtMin(o.value, o),\n    percent: valueToPercent(o.value, o),\n    valueAsNumber: valueOf(o.value),\n    value: formatDecimal(o.value, o),\n    snapToStep: () => wrap2(snapToStep(o.value, o.step)),\n    increment: (s) => wrap2(increment(o.value, s || o.step)),\n    decrement: (s) => wrap2(decrement(o.value, s || o.step)),\n    toMax: () => wrap2(o.max),\n    toMin: () => wrap2(o.min),\n    fromPercent: (p) => wrap2(percentToValue(p, o)),\n    clamp: () => wrap2(clamp(o.value, o))\n  };\n}\n\n// src/number-format.ts\nvar nf = new Intl.NumberFormat(\"en-US\", { style: \"decimal\", maximumFractionDigits: 20 });\nfunction formatter(n) {\n  return parseFloat(nf.format(n));\n}\n\n// src/transform.ts\nvar transform = (a, b) => {\n  const i = { min: a[0], max: a[1] };\n  const o = { min: b[0], max: b[1] };\n  return (v) => {\n    if (i.min === i.max || o.min === o.max)\n      return o.min;\n    const ratio = (o.max - o.min) / (i.max - i.min);\n    return o.min + ratio * (v - i.min);\n  };\n};\nfunction toRanges(o) {\n  const spacing = o.spacing ?? 0;\n  return o.value.map((v, i) => {\n    const min = i === 0 ? o.min : o.value[i - 1] + spacing;\n    const max = i === o.value.length - 1 ? o.max : o.value[i + 1] - spacing;\n    return { min, max, value: v };\n  });\n}\nfunction toRangeArray(o) {\n  let i = o.min;\n  const range = [];\n  while (i <= o.max) {\n    range.push(i);\n    i = formatter(i + o.step);\n  }\n  return range;\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9udW1iZXItdXRpbHMvZGlzdC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsK0JBQStCLGdCQUFnQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDBDQUEwQyw2Q0FBNkM7QUFDdkY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjO0FBQ2QsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFxQkU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL0BwYXJrLXVpL2V4YW1wbGVzLXJlYWN0LW5leHQtanMvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9udW1iZXItdXRpbHMvZGlzdC9pbmRleC5tanM/ZWEwYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvbnVtYmVyLnRzXG5mdW5jdGlvbiB3cmFwKG51bSwgbWF4KSB7XG4gIHJldHVybiAobnVtICUgbWF4ICsgbWF4KSAlIG1heDtcbn1cbmZ1bmN0aW9uIHJvdW5kKHYsIHQpIHtcbiAgbGV0IG51bSA9IHZhbHVlT2Yodik7XG4gIGNvbnN0IHAgPSAxMCAqKiAodCA/PyAxMCk7XG4gIG51bSA9IE1hdGgucm91bmQobnVtICogcCkgLyBwO1xuICByZXR1cm4gdCA/IG51bS50b0ZpeGVkKHQpIDogdi50b1N0cmluZygpO1xufVxuZnVuY3Rpb24gcm91bmRUb0RldmljZVBpeGVsKG51bSkge1xuICBpZiAodHlwZW9mIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvICE9PSBcIm51bWJlclwiKVxuICAgIHJldHVybiBNYXRoLnJvdW5kKG51bSk7XG4gIGNvbnN0IGRwID0gd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gIHJldHVybiBNYXRoLmZsb29yKG51bSAqIGRwICsgMC41KSAvIGRwO1xufVxudmFyIHZhbHVlVG9QZXJjZW50ID0gKHYsIHIpID0+ICh2YWx1ZU9mKHYpIC0gci5taW4pICogMTAwIC8gKHIubWF4IC0gci5taW4pO1xudmFyIHBlcmNlbnRUb1ZhbHVlID0gKHYsIHIpID0+IHIubWluICsgKHIubWF4IC0gci5taW4pICogdmFsdWVPZih2KTtcbmZ1bmN0aW9uIGNsYW1wKHYsIG8pIHtcbiAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KHZhbHVlT2YodiksIG8ubWluKSwgby5tYXgpO1xufVxuZnVuY3Rpb24gY291bnREZWNpbWFscyh2YWx1ZSkge1xuICBpZiAoIU51bWJlci5pc0Zpbml0ZSh2YWx1ZSkpXG4gICAgcmV0dXJuIDA7XG4gIGxldCBlID0gMSwgcCA9IDA7XG4gIHdoaWxlIChNYXRoLnJvdW5kKHZhbHVlICogZSkgLyBlICE9PSB2YWx1ZSkge1xuICAgIGUgKj0gMTA7XG4gICAgcCArPSAxO1xuICB9XG4gIHJldHVybiBwO1xufVxudmFyIGluY3JlbWVudCA9ICh2LCBzKSA9PiBkZWNpbWFsT3BlcmF0aW9uKHZhbHVlT2YodiksIFwiK1wiLCBzKTtcbnZhciBkZWNyZW1lbnQgPSAodiwgcykgPT4gZGVjaW1hbE9wZXJhdGlvbih2YWx1ZU9mKHYpLCBcIi1cIiwgcyk7XG5mdW5jdGlvbiBzbmFwVG9TdGVwKHZhbHVlLCBzdGVwKSB7XG4gIGNvbnN0IG51bSA9IHZhbHVlT2YodmFsdWUpO1xuICBjb25zdCBwID0gY291bnREZWNpbWFscyhzdGVwKTtcbiAgY29uc3QgdiA9IE1hdGgucm91bmQobnVtIC8gc3RlcCkgKiBzdGVwO1xuICByZXR1cm4gcm91bmQodiwgcCk7XG59XG5mdW5jdGlvbiB2YWx1ZU9mKHYpIHtcbiAgY29uc3QgcmVzID0gdHlwZW9mIHYgPT09IFwibnVtYmVyXCIgPyB2IDogcGFyc2VGbG9hdCh2LnRvU3RyaW5nKCkucmVwbGFjZSgvW15cXHcuLV0rL2csIFwiXCIpKTtcbiAgcmV0dXJuIE51bWJlci5pc05hTihyZXMpID8gMCA6IHJlcztcbn1cbmZ1bmN0aW9uIGZvcm1hdERlY2ltYWwodiwgbykge1xuICByZXR1cm4gbmV3IEludGwuTnVtYmVyRm9ybWF0KFwiZW4tVVNcIiwge1xuICAgIHVzZUdyb3VwaW5nOiBmYWxzZSxcbiAgICBzdHlsZTogXCJkZWNpbWFsXCIsXG4gICAgbWluaW11bUZyYWN0aW9uRGlnaXRzOiBvLm1pbkZyYWN0aW9uRGlnaXRzLFxuICAgIG1heGltdW1GcmFjdGlvbkRpZ2l0czogby5tYXhGcmFjdGlvbkRpZ2l0c1xuICB9KS5mb3JtYXQodmFsdWVPZih2KSk7XG59XG5mdW5jdGlvbiBpc0F0TWF4KHYsIG8pIHtcbiAgY29uc3QgdmFsID0gdmFsdWVPZih2KTtcbiAgcmV0dXJuIHZhbCA+PSBvLm1heDtcbn1cbmZ1bmN0aW9uIGlzQXRNaW4odiwgbykge1xuICBjb25zdCB2YWwgPSB2YWx1ZU9mKHYpO1xuICByZXR1cm4gdmFsIDw9IG8ubWluO1xufVxuZnVuY3Rpb24gaXNXaXRoaW5SYW5nZSh2LCBvKSB7XG4gIGNvbnN0IHZhbCA9IHZhbHVlT2Yodik7XG4gIHJldHVybiB2YWwgPj0gby5taW4gJiYgdmFsIDw9IG8ubWF4O1xufVxuZnVuY3Rpb24gZGVjaW1hbE9wZXJhdGlvbihhLCBvcCwgYikge1xuICBsZXQgcmVzdWx0ID0gb3AgPT09IFwiK1wiID8gYSArIGIgOiBhIC0gYjtcbiAgaWYgKGEgJSAxICE9PSAwIHx8IGIgJSAxICE9PSAwKSB7XG4gICAgY29uc3QgbXVsdGlwbGllciA9IDEwICoqIE1hdGgubWF4KGNvdW50RGVjaW1hbHMoYSksIGNvdW50RGVjaW1hbHMoYikpO1xuICAgIGEgPSBNYXRoLnJvdW5kKGEgKiBtdWx0aXBsaWVyKTtcbiAgICBiID0gTWF0aC5yb3VuZChiICogbXVsdGlwbGllcik7XG4gICAgcmVzdWx0ID0gb3AgPT09IFwiK1wiID8gYSArIGIgOiBhIC0gYjtcbiAgICByZXN1bHQgLz0gbXVsdGlwbGllcjtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vLyBzcmMvcmFuZ3kudHNcbmZ1bmN0aW9uIHJhbmd5KG8pIHtcbiAgY29uc3Qgd3JhcDIgPSAodikgPT4gcmFuZ3koeyAuLi5vLCB2YWx1ZTogdiB9KTtcbiAgcmV0dXJuIHtcbiAgICBpc0luUmFuZ2U6IGlzV2l0aGluUmFuZ2Uoby52YWx1ZSwgbyksXG4gICAgaXNBdE1heDogaXNBdE1heChvLnZhbHVlLCBvKSxcbiAgICBpc0F0TWluOiBpc0F0TWluKG8udmFsdWUsIG8pLFxuICAgIHBlcmNlbnQ6IHZhbHVlVG9QZXJjZW50KG8udmFsdWUsIG8pLFxuICAgIHZhbHVlQXNOdW1iZXI6IHZhbHVlT2Yoby52YWx1ZSksXG4gICAgdmFsdWU6IGZvcm1hdERlY2ltYWwoby52YWx1ZSwgbyksXG4gICAgc25hcFRvU3RlcDogKCkgPT4gd3JhcDIoc25hcFRvU3RlcChvLnZhbHVlLCBvLnN0ZXApKSxcbiAgICBpbmNyZW1lbnQ6IChzKSA9PiB3cmFwMihpbmNyZW1lbnQoby52YWx1ZSwgcyB8fCBvLnN0ZXApKSxcbiAgICBkZWNyZW1lbnQ6IChzKSA9PiB3cmFwMihkZWNyZW1lbnQoby52YWx1ZSwgcyB8fCBvLnN0ZXApKSxcbiAgICB0b01heDogKCkgPT4gd3JhcDIoby5tYXgpLFxuICAgIHRvTWluOiAoKSA9PiB3cmFwMihvLm1pbiksXG4gICAgZnJvbVBlcmNlbnQ6IChwKSA9PiB3cmFwMihwZXJjZW50VG9WYWx1ZShwLCBvKSksXG4gICAgY2xhbXA6ICgpID0+IHdyYXAyKGNsYW1wKG8udmFsdWUsIG8pKVxuICB9O1xufVxuXG4vLyBzcmMvbnVtYmVyLWZvcm1hdC50c1xudmFyIG5mID0gbmV3IEludGwuTnVtYmVyRm9ybWF0KFwiZW4tVVNcIiwgeyBzdHlsZTogXCJkZWNpbWFsXCIsIG1heGltdW1GcmFjdGlvbkRpZ2l0czogMjAgfSk7XG5mdW5jdGlvbiBmb3JtYXR0ZXIobikge1xuICByZXR1cm4gcGFyc2VGbG9hdChuZi5mb3JtYXQobikpO1xufVxuXG4vLyBzcmMvdHJhbnNmb3JtLnRzXG52YXIgdHJhbnNmb3JtID0gKGEsIGIpID0+IHtcbiAgY29uc3QgaSA9IHsgbWluOiBhWzBdLCBtYXg6IGFbMV0gfTtcbiAgY29uc3QgbyA9IHsgbWluOiBiWzBdLCBtYXg6IGJbMV0gfTtcbiAgcmV0dXJuICh2KSA9PiB7XG4gICAgaWYgKGkubWluID09PSBpLm1heCB8fCBvLm1pbiA9PT0gby5tYXgpXG4gICAgICByZXR1cm4gby5taW47XG4gICAgY29uc3QgcmF0aW8gPSAoby5tYXggLSBvLm1pbikgLyAoaS5tYXggLSBpLm1pbik7XG4gICAgcmV0dXJuIG8ubWluICsgcmF0aW8gKiAodiAtIGkubWluKTtcbiAgfTtcbn07XG5mdW5jdGlvbiB0b1JhbmdlcyhvKSB7XG4gIGNvbnN0IHNwYWNpbmcgPSBvLnNwYWNpbmcgPz8gMDtcbiAgcmV0dXJuIG8udmFsdWUubWFwKCh2LCBpKSA9PiB7XG4gICAgY29uc3QgbWluID0gaSA9PT0gMCA/IG8ubWluIDogby52YWx1ZVtpIC0gMV0gKyBzcGFjaW5nO1xuICAgIGNvbnN0IG1heCA9IGkgPT09IG8udmFsdWUubGVuZ3RoIC0gMSA/IG8ubWF4IDogby52YWx1ZVtpICsgMV0gLSBzcGFjaW5nO1xuICAgIHJldHVybiB7IG1pbiwgbWF4LCB2YWx1ZTogdiB9O1xuICB9KTtcbn1cbmZ1bmN0aW9uIHRvUmFuZ2VBcnJheShvKSB7XG4gIGxldCBpID0gby5taW47XG4gIGNvbnN0IHJhbmdlID0gW107XG4gIHdoaWxlIChpIDw9IG8ubWF4KSB7XG4gICAgcmFuZ2UucHVzaChpKTtcbiAgICBpID0gZm9ybWF0dGVyKGkgKyBvLnN0ZXApO1xuICB9XG4gIHJldHVybiByYW5nZTtcbn1cbmV4cG9ydCB7XG4gIGNsYW1wLFxuICBjb3VudERlY2ltYWxzLFxuICBkZWNyZW1lbnQsXG4gIGZvcm1hdERlY2ltYWwsXG4gIGluY3JlbWVudCxcbiAgaXNBdE1heCxcbiAgaXNBdE1pbixcbiAgaXNXaXRoaW5SYW5nZSxcbiAgcGVyY2VudFRvVmFsdWUsXG4gIHJhbmd5LFxuICByb3VuZCxcbiAgcm91bmRUb0RldmljZVBpeGVsLFxuICBzbmFwVG9TdGVwLFxuICB0b1JhbmdlQXJyYXksXG4gIHRvUmFuZ2VzLFxuICB0cmFuc2Zvcm0sXG4gIHZhbHVlT2YsXG4gIHZhbHVlVG9QZXJjZW50LFxuICB3cmFwXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/number-utils/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/numeric-range/dist/index.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@zag-js/numeric-range/dist/index.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clampValue: () => (/* binding */ clampValue),\n/* harmony export */   getClosestValueIndex: () => (/* binding */ getClosestValueIndex),\n/* harmony export */   getMaxValueAtIndex: () => (/* binding */ getMaxValueAtIndex),\n/* harmony export */   getMinValueAtIndex: () => (/* binding */ getMinValueAtIndex),\n/* harmony export */   getNextStepValue: () => (/* binding */ getNextStepValue),\n/* harmony export */   getPercentValue: () => (/* binding */ getPercentValue),\n/* harmony export */   getPreviousStepValue: () => (/* binding */ getPreviousStepValue),\n/* harmony export */   getRoundedValue: () => (/* binding */ getRoundedValue),\n/* harmony export */   getValuePercent: () => (/* binding */ getValuePercent),\n/* harmony export */   getValueRanges: () => (/* binding */ getValueRanges),\n/* harmony export */   getValueSetterAtIndex: () => (/* binding */ getValueSetterAtIndex),\n/* harmony export */   getValueTransformer: () => (/* binding */ getValueTransformer),\n/* harmony export */   isValueAtMax: () => (/* binding */ isValueAtMax),\n/* harmony export */   isValueAtMin: () => (/* binding */ isValueAtMin),\n/* harmony export */   isValueWithinRange: () => (/* binding */ isValueWithinRange),\n/* harmony export */   mod: () => (/* binding */ mod),\n/* harmony export */   snapValueToStep: () => (/* binding */ snapValueToStep),\n/* harmony export */   toFixedNumber: () => (/* binding */ toFixedNumber)\n/* harmony export */ });\n// src/index.ts\nfunction getMinValueAtIndex(index, values, minValue) {\n  return index === 0 ? minValue : values[index - 1];\n}\nfunction getMaxValueAtIndex(index, values, maxValue) {\n  return index === values.length - 1 ? maxValue : values[index + 1];\n}\nfunction isValueAtMax(value, maxValue) {\n  return value >= maxValue;\n}\nfunction isValueAtMin(value, minValue) {\n  return value <= minValue;\n}\nfunction isValueWithinRange(value, minValue, maxValue) {\n  return value >= minValue && value <= maxValue;\n}\nfunction getRoundedValue(value, minValue, step) {\n  return Math.round((value - minValue) / step) * step + minValue;\n}\nfunction clampValue(value, minValue, maxValue) {\n  return Math.min(Math.max(value, minValue), maxValue);\n}\nfunction getValuePercent(value, minValue, maxValue) {\n  return (value - minValue) / (maxValue - minValue);\n}\nfunction getPercentValue(percent, minValue, maxValue, step) {\n  const value = percent * (maxValue - minValue) + minValue;\n  const roundedValue = getRoundedValue(value, minValue, step);\n  return clampValue(roundedValue, minValue, maxValue);\n}\nfunction snapValueToStep(value, min, max, step) {\n  let remainder = (value - (isNaN(min) ? 0 : min)) % step;\n  let snappedValue = Math.abs(remainder) * 2 >= step ? value + Math.sign(remainder) * (step - Math.abs(remainder)) : value - remainder;\n  if (!isNaN(min)) {\n    if (snappedValue < min) {\n      snappedValue = min;\n    } else if (!isNaN(max) && snappedValue > max) {\n      snappedValue = min + Math.floor((max - min) / step) * step;\n    }\n  } else if (!isNaN(max) && snappedValue > max) {\n    snappedValue = Math.floor(max / step) * step;\n  }\n  let string = step.toString();\n  let index = string.indexOf(\".\");\n  let precision = index >= 0 ? string.length - index : 0;\n  if (precision > 0) {\n    let pow = Math.pow(10, precision);\n    snappedValue = Math.round(snappedValue * pow) / pow;\n  }\n  return snappedValue;\n}\nfunction setValueAtIndex(values, index, value) {\n  if (values[index] === value)\n    return values;\n  return [...values.slice(0, index), value, ...values.slice(index + 1)];\n}\nfunction getValueSetterAtIndex(index, ctx) {\n  const minValueAtIndex = getMinValueAtIndex(index, ctx.values, ctx.min);\n  const maxValueAtIndex = getMaxValueAtIndex(index, ctx.values, ctx.max);\n  let nextValues = ctx.values.slice();\n  return function setValue(value) {\n    let nextValue = snapValueToStep(value, minValueAtIndex, maxValueAtIndex, ctx.step);\n    nextValues = setValueAtIndex(nextValues, index, value);\n    nextValues[index] = nextValue;\n    return nextValues;\n  };\n}\nfunction getNextStepValue(index, ctx) {\n  const nextValue = ctx.values[index] + ctx.step;\n  return getValueSetterAtIndex(index, ctx)(nextValue);\n}\nfunction getPreviousStepValue(index, ctx) {\n  const nextValue = ctx.values[index] - ctx.step;\n  return getValueSetterAtIndex(index, ctx)(nextValue);\n}\nfunction getClosestValueIndex(values, targetValue) {\n  let targetIndex = values.findIndex((value) => targetValue - value < 0);\n  if (targetIndex === 0) {\n    return targetIndex;\n  }\n  if (targetIndex === -1) {\n    return values.length - 1;\n  }\n  let valueBefore = values[targetIndex - 1];\n  let valueAfter = values[targetIndex];\n  if (Math.abs(valueBefore - targetValue) < Math.abs(valueAfter - targetValue)) {\n    return targetIndex - 1;\n  }\n  return targetIndex;\n}\nfunction getValueRanges(values, minValue, maxValue, gap) {\n  return values.map((value, index) => {\n    const min = index === 0 ? minValue : values[index - 1] + gap;\n    const max = index === values.length - 1 ? maxValue : values[index + 1] - gap;\n    return { min, max, value };\n  });\n}\nfunction getValueTransformer(valueA, valueB) {\n  const input = { min: valueA[0], max: valueA[1] };\n  const output = { min: valueB[0], max: valueB[1] };\n  return function getValue(value) {\n    if (input.min === input.max || output.min === output.max)\n      return output.min;\n    const ratio = (output.max - output.min) / (input.max - input.min);\n    return output.min + ratio * (value - input.min);\n  };\n}\nfunction toFixedNumber(value, digits = 0, base = 10) {\n  const pow = Math.pow(base, digits);\n  return Math.round(value * pow) / pow;\n}\nfunction mod(value, modulo) {\n  return (value % modulo + modulo) % modulo;\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9udW1lcmljLXJhbmdlL2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixHQUFHO0FBQ0g7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQixtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW9CRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBhcmstdWkvZXhhbXBsZXMtcmVhY3QtbmV4dC1qcy8uL25vZGVfbW9kdWxlcy9AemFnLWpzL251bWVyaWMtcmFuZ2UvZGlzdC9pbmRleC5tanM/NzhhNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvaW5kZXgudHNcbmZ1bmN0aW9uIGdldE1pblZhbHVlQXRJbmRleChpbmRleCwgdmFsdWVzLCBtaW5WYWx1ZSkge1xuICByZXR1cm4gaW5kZXggPT09IDAgPyBtaW5WYWx1ZSA6IHZhbHVlc1tpbmRleCAtIDFdO1xufVxuZnVuY3Rpb24gZ2V0TWF4VmFsdWVBdEluZGV4KGluZGV4LCB2YWx1ZXMsIG1heFZhbHVlKSB7XG4gIHJldHVybiBpbmRleCA9PT0gdmFsdWVzLmxlbmd0aCAtIDEgPyBtYXhWYWx1ZSA6IHZhbHVlc1tpbmRleCArIDFdO1xufVxuZnVuY3Rpb24gaXNWYWx1ZUF0TWF4KHZhbHVlLCBtYXhWYWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPj0gbWF4VmFsdWU7XG59XG5mdW5jdGlvbiBpc1ZhbHVlQXRNaW4odmFsdWUsIG1pblZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA8PSBtaW5WYWx1ZTtcbn1cbmZ1bmN0aW9uIGlzVmFsdWVXaXRoaW5SYW5nZSh2YWx1ZSwgbWluVmFsdWUsIG1heFZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA+PSBtaW5WYWx1ZSAmJiB2YWx1ZSA8PSBtYXhWYWx1ZTtcbn1cbmZ1bmN0aW9uIGdldFJvdW5kZWRWYWx1ZSh2YWx1ZSwgbWluVmFsdWUsIHN0ZXApIHtcbiAgcmV0dXJuIE1hdGgucm91bmQoKHZhbHVlIC0gbWluVmFsdWUpIC8gc3RlcCkgKiBzdGVwICsgbWluVmFsdWU7XG59XG5mdW5jdGlvbiBjbGFtcFZhbHVlKHZhbHVlLCBtaW5WYWx1ZSwgbWF4VmFsdWUpIHtcbiAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KHZhbHVlLCBtaW5WYWx1ZSksIG1heFZhbHVlKTtcbn1cbmZ1bmN0aW9uIGdldFZhbHVlUGVyY2VudCh2YWx1ZSwgbWluVmFsdWUsIG1heFZhbHVlKSB7XG4gIHJldHVybiAodmFsdWUgLSBtaW5WYWx1ZSkgLyAobWF4VmFsdWUgLSBtaW5WYWx1ZSk7XG59XG5mdW5jdGlvbiBnZXRQZXJjZW50VmFsdWUocGVyY2VudCwgbWluVmFsdWUsIG1heFZhbHVlLCBzdGVwKSB7XG4gIGNvbnN0IHZhbHVlID0gcGVyY2VudCAqIChtYXhWYWx1ZSAtIG1pblZhbHVlKSArIG1pblZhbHVlO1xuICBjb25zdCByb3VuZGVkVmFsdWUgPSBnZXRSb3VuZGVkVmFsdWUodmFsdWUsIG1pblZhbHVlLCBzdGVwKTtcbiAgcmV0dXJuIGNsYW1wVmFsdWUocm91bmRlZFZhbHVlLCBtaW5WYWx1ZSwgbWF4VmFsdWUpO1xufVxuZnVuY3Rpb24gc25hcFZhbHVlVG9TdGVwKHZhbHVlLCBtaW4sIG1heCwgc3RlcCkge1xuICBsZXQgcmVtYWluZGVyID0gKHZhbHVlIC0gKGlzTmFOKG1pbikgPyAwIDogbWluKSkgJSBzdGVwO1xuICBsZXQgc25hcHBlZFZhbHVlID0gTWF0aC5hYnMocmVtYWluZGVyKSAqIDIgPj0gc3RlcCA/IHZhbHVlICsgTWF0aC5zaWduKHJlbWFpbmRlcikgKiAoc3RlcCAtIE1hdGguYWJzKHJlbWFpbmRlcikpIDogdmFsdWUgLSByZW1haW5kZXI7XG4gIGlmICghaXNOYU4obWluKSkge1xuICAgIGlmIChzbmFwcGVkVmFsdWUgPCBtaW4pIHtcbiAgICAgIHNuYXBwZWRWYWx1ZSA9IG1pbjtcbiAgICB9IGVsc2UgaWYgKCFpc05hTihtYXgpICYmIHNuYXBwZWRWYWx1ZSA+IG1heCkge1xuICAgICAgc25hcHBlZFZhbHVlID0gbWluICsgTWF0aC5mbG9vcigobWF4IC0gbWluKSAvIHN0ZXApICogc3RlcDtcbiAgICB9XG4gIH0gZWxzZSBpZiAoIWlzTmFOKG1heCkgJiYgc25hcHBlZFZhbHVlID4gbWF4KSB7XG4gICAgc25hcHBlZFZhbHVlID0gTWF0aC5mbG9vcihtYXggLyBzdGVwKSAqIHN0ZXA7XG4gIH1cbiAgbGV0IHN0cmluZyA9IHN0ZXAudG9TdHJpbmcoKTtcbiAgbGV0IGluZGV4ID0gc3RyaW5nLmluZGV4T2YoXCIuXCIpO1xuICBsZXQgcHJlY2lzaW9uID0gaW5kZXggPj0gMCA/IHN0cmluZy5sZW5ndGggLSBpbmRleCA6IDA7XG4gIGlmIChwcmVjaXNpb24gPiAwKSB7XG4gICAgbGV0IHBvdyA9IE1hdGgucG93KDEwLCBwcmVjaXNpb24pO1xuICAgIHNuYXBwZWRWYWx1ZSA9IE1hdGgucm91bmQoc25hcHBlZFZhbHVlICogcG93KSAvIHBvdztcbiAgfVxuICByZXR1cm4gc25hcHBlZFZhbHVlO1xufVxuZnVuY3Rpb24gc2V0VmFsdWVBdEluZGV4KHZhbHVlcywgaW5kZXgsIHZhbHVlKSB7XG4gIGlmICh2YWx1ZXNbaW5kZXhdID09PSB2YWx1ZSlcbiAgICByZXR1cm4gdmFsdWVzO1xuICByZXR1cm4gWy4uLnZhbHVlcy5zbGljZSgwLCBpbmRleCksIHZhbHVlLCAuLi52YWx1ZXMuc2xpY2UoaW5kZXggKyAxKV07XG59XG5mdW5jdGlvbiBnZXRWYWx1ZVNldHRlckF0SW5kZXgoaW5kZXgsIGN0eCkge1xuICBjb25zdCBtaW5WYWx1ZUF0SW5kZXggPSBnZXRNaW5WYWx1ZUF0SW5kZXgoaW5kZXgsIGN0eC52YWx1ZXMsIGN0eC5taW4pO1xuICBjb25zdCBtYXhWYWx1ZUF0SW5kZXggPSBnZXRNYXhWYWx1ZUF0SW5kZXgoaW5kZXgsIGN0eC52YWx1ZXMsIGN0eC5tYXgpO1xuICBsZXQgbmV4dFZhbHVlcyA9IGN0eC52YWx1ZXMuc2xpY2UoKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHNldFZhbHVlKHZhbHVlKSB7XG4gICAgbGV0IG5leHRWYWx1ZSA9IHNuYXBWYWx1ZVRvU3RlcCh2YWx1ZSwgbWluVmFsdWVBdEluZGV4LCBtYXhWYWx1ZUF0SW5kZXgsIGN0eC5zdGVwKTtcbiAgICBuZXh0VmFsdWVzID0gc2V0VmFsdWVBdEluZGV4KG5leHRWYWx1ZXMsIGluZGV4LCB2YWx1ZSk7XG4gICAgbmV4dFZhbHVlc1tpbmRleF0gPSBuZXh0VmFsdWU7XG4gICAgcmV0dXJuIG5leHRWYWx1ZXM7XG4gIH07XG59XG5mdW5jdGlvbiBnZXROZXh0U3RlcFZhbHVlKGluZGV4LCBjdHgpIHtcbiAgY29uc3QgbmV4dFZhbHVlID0gY3R4LnZhbHVlc1tpbmRleF0gKyBjdHguc3RlcDtcbiAgcmV0dXJuIGdldFZhbHVlU2V0dGVyQXRJbmRleChpbmRleCwgY3R4KShuZXh0VmFsdWUpO1xufVxuZnVuY3Rpb24gZ2V0UHJldmlvdXNTdGVwVmFsdWUoaW5kZXgsIGN0eCkge1xuICBjb25zdCBuZXh0VmFsdWUgPSBjdHgudmFsdWVzW2luZGV4XSAtIGN0eC5zdGVwO1xuICByZXR1cm4gZ2V0VmFsdWVTZXR0ZXJBdEluZGV4KGluZGV4LCBjdHgpKG5leHRWYWx1ZSk7XG59XG5mdW5jdGlvbiBnZXRDbG9zZXN0VmFsdWVJbmRleCh2YWx1ZXMsIHRhcmdldFZhbHVlKSB7XG4gIGxldCB0YXJnZXRJbmRleCA9IHZhbHVlcy5maW5kSW5kZXgoKHZhbHVlKSA9PiB0YXJnZXRWYWx1ZSAtIHZhbHVlIDwgMCk7XG4gIGlmICh0YXJnZXRJbmRleCA9PT0gMCkge1xuICAgIHJldHVybiB0YXJnZXRJbmRleDtcbiAgfVxuICBpZiAodGFyZ2V0SW5kZXggPT09IC0xKSB7XG4gICAgcmV0dXJuIHZhbHVlcy5sZW5ndGggLSAxO1xuICB9XG4gIGxldCB2YWx1ZUJlZm9yZSA9IHZhbHVlc1t0YXJnZXRJbmRleCAtIDFdO1xuICBsZXQgdmFsdWVBZnRlciA9IHZhbHVlc1t0YXJnZXRJbmRleF07XG4gIGlmIChNYXRoLmFicyh2YWx1ZUJlZm9yZSAtIHRhcmdldFZhbHVlKSA8IE1hdGguYWJzKHZhbHVlQWZ0ZXIgLSB0YXJnZXRWYWx1ZSkpIHtcbiAgICByZXR1cm4gdGFyZ2V0SW5kZXggLSAxO1xuICB9XG4gIHJldHVybiB0YXJnZXRJbmRleDtcbn1cbmZ1bmN0aW9uIGdldFZhbHVlUmFuZ2VzKHZhbHVlcywgbWluVmFsdWUsIG1heFZhbHVlLCBnYXApIHtcbiAgcmV0dXJuIHZhbHVlcy5tYXAoKHZhbHVlLCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IG1pbiA9IGluZGV4ID09PSAwID8gbWluVmFsdWUgOiB2YWx1ZXNbaW5kZXggLSAxXSArIGdhcDtcbiAgICBjb25zdCBtYXggPSBpbmRleCA9PT0gdmFsdWVzLmxlbmd0aCAtIDEgPyBtYXhWYWx1ZSA6IHZhbHVlc1tpbmRleCArIDFdIC0gZ2FwO1xuICAgIHJldHVybiB7IG1pbiwgbWF4LCB2YWx1ZSB9O1xuICB9KTtcbn1cbmZ1bmN0aW9uIGdldFZhbHVlVHJhbnNmb3JtZXIodmFsdWVBLCB2YWx1ZUIpIHtcbiAgY29uc3QgaW5wdXQgPSB7IG1pbjogdmFsdWVBWzBdLCBtYXg6IHZhbHVlQVsxXSB9O1xuICBjb25zdCBvdXRwdXQgPSB7IG1pbjogdmFsdWVCWzBdLCBtYXg6IHZhbHVlQlsxXSB9O1xuICByZXR1cm4gZnVuY3Rpb24gZ2V0VmFsdWUodmFsdWUpIHtcbiAgICBpZiAoaW5wdXQubWluID09PSBpbnB1dC5tYXggfHwgb3V0cHV0Lm1pbiA9PT0gb3V0cHV0Lm1heClcbiAgICAgIHJldHVybiBvdXRwdXQubWluO1xuICAgIGNvbnN0IHJhdGlvID0gKG91dHB1dC5tYXggLSBvdXRwdXQubWluKSAvIChpbnB1dC5tYXggLSBpbnB1dC5taW4pO1xuICAgIHJldHVybiBvdXRwdXQubWluICsgcmF0aW8gKiAodmFsdWUgLSBpbnB1dC5taW4pO1xuICB9O1xufVxuZnVuY3Rpb24gdG9GaXhlZE51bWJlcih2YWx1ZSwgZGlnaXRzID0gMCwgYmFzZSA9IDEwKSB7XG4gIGNvbnN0IHBvdyA9IE1hdGgucG93KGJhc2UsIGRpZ2l0cyk7XG4gIHJldHVybiBNYXRoLnJvdW5kKHZhbHVlICogcG93KSAvIHBvdztcbn1cbmZ1bmN0aW9uIG1vZCh2YWx1ZSwgbW9kdWxvKSB7XG4gIHJldHVybiAodmFsdWUgJSBtb2R1bG8gKyBtb2R1bG8pICUgbW9kdWxvO1xufVxuZXhwb3J0IHtcbiAgY2xhbXBWYWx1ZSxcbiAgZ2V0Q2xvc2VzdFZhbHVlSW5kZXgsXG4gIGdldE1heFZhbHVlQXRJbmRleCxcbiAgZ2V0TWluVmFsdWVBdEluZGV4LFxuICBnZXROZXh0U3RlcFZhbHVlLFxuICBnZXRQZXJjZW50VmFsdWUsXG4gIGdldFByZXZpb3VzU3RlcFZhbHVlLFxuICBnZXRSb3VuZGVkVmFsdWUsXG4gIGdldFZhbHVlUGVyY2VudCxcbiAgZ2V0VmFsdWVSYW5nZXMsXG4gIGdldFZhbHVlU2V0dGVyQXRJbmRleCxcbiAgZ2V0VmFsdWVUcmFuc2Zvcm1lcixcbiAgaXNWYWx1ZUF0TWF4LFxuICBpc1ZhbHVlQXRNaW4sXG4gIGlzVmFsdWVXaXRoaW5SYW5nZSxcbiAgbW9kLFxuICBzbmFwVmFsdWVUb1N0ZXAsXG4gIHRvRml4ZWROdW1iZXJcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/numeric-range/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/pagination/dist/index.mjs":
/*!********************************************************!*\
  !*** ./node_modules/@zag-js/pagination/dist/index.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   anatomy: () => (/* binding */ anatomy),\n/* harmony export */   connect: () => (/* binding */ connect),\n/* harmony export */   machine: () => (/* binding */ machine)\n/* harmony export */ });\n/* harmony import */ var _zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/anatomy */ \"(ssr)/./node_modules/@zag-js/anatomy/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @zag-js/dom-query */ \"(ssr)/./node_modules/@zag-js/dom-query/dist/index.mjs\");\n/* harmony import */ var _zag_js_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @zag-js/core */ \"(ssr)/./node_modules/@zag-js/core/dist/index.mjs\");\n/* harmony import */ var _zag_js_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @zag-js/utils */ \"(ssr)/./node_modules/@zag-js/utils/dist/index.mjs\");\n// src/pagination.anatomy.ts\n\nvar anatomy = (0,_zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__.createAnatomy)(\"pagination\").parts(\"root\", \"item\", \"ellipsis\", \"prevTrigger\", \"nextTrigger\");\nvar parts = anatomy.build();\n\n// src/pagination.connect.ts\n\n\n// src/pagination.dom.ts\n\nvar dom = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.createScope)({\n  getRootId: (ctx) => ctx.ids?.root ?? `pagination:${ctx.id}`,\n  getPrevTriggerId: (ctx) => ctx.ids?.prevTrigger ?? `pagination:${ctx.id}:prev`,\n  getNextTriggerId: (ctx) => ctx.ids?.nextTrigger ?? `pagination:${ctx.id}:next`,\n  getEllipsisId: (ctx, index) => ctx.ids?.ellipsis?.(index) ?? `pagination:${ctx.id}:ellipsis:${index}`,\n  getItemId: (ctx, page) => ctx.ids?.item?.(page) ?? `pagination:${ctx.id}:item:${page}`\n});\n\n// src/pagination.utils.ts\nvar range = (start, end) => {\n  let length = end - start + 1;\n  return Array.from({ length }, (_, idx) => idx + start);\n};\nvar transform = (items) => {\n  return items.map((value) => {\n    if (typeof value === \"number\")\n      return { type: \"page\", value };\n    return { type: \"ellipsis\" };\n  });\n};\nvar ELLIPSIS = \"ellipsis\";\nvar getRange = (ctx) => {\n  const totalPageNumbers = Math.min(2 * ctx.siblingCount + 5, ctx.totalPages);\n  const firstPageIndex = 1;\n  const lastPageIndex = ctx.totalPages;\n  const leftSiblingIndex = Math.max(ctx.page - ctx.siblingCount, firstPageIndex);\n  const rightSiblingIndex = Math.min(ctx.page + ctx.siblingCount, lastPageIndex);\n  const showLeftEllipsis = leftSiblingIndex > firstPageIndex + 1;\n  const showRightEllipsis = rightSiblingIndex < lastPageIndex - 1;\n  const itemCount = totalPageNumbers - 2;\n  if (!showLeftEllipsis && showRightEllipsis) {\n    const leftRange = range(1, itemCount);\n    return [...leftRange, ELLIPSIS, lastPageIndex];\n  }\n  if (showLeftEllipsis && !showRightEllipsis) {\n    const rightRange = range(lastPageIndex - itemCount + 1, lastPageIndex);\n    return [firstPageIndex, ELLIPSIS, ...rightRange];\n  }\n  if (showLeftEllipsis && showRightEllipsis) {\n    const middleRange = range(leftSiblingIndex, rightSiblingIndex);\n    return [firstPageIndex, ELLIPSIS, ...middleRange, ELLIPSIS, lastPageIndex];\n  }\n  const fullRange = range(firstPageIndex, lastPageIndex);\n  return fullRange;\n};\nvar getTransformedRange = (ctx) => transform(getRange(ctx));\n\n// src/pagination.connect.ts\nfunction connect(state, send, normalize) {\n  const totalPages = state.context.totalPages;\n  const page = state.context.page;\n  const translations = state.context.translations;\n  const previousPage = state.context.previousPage;\n  const nextPage = state.context.nextPage;\n  const pageRange = state.context.pageRange;\n  const type = state.context.type;\n  const isButton = type === \"button\";\n  const isFirstPage = page === 1;\n  const isLastPage = page === totalPages;\n  return {\n    page,\n    totalPages,\n    pages: getTransformedRange(state.context),\n    previousPage,\n    nextPage,\n    pageRange,\n    isFirstPage,\n    isLastPage,\n    slice(data) {\n      return data.slice(pageRange.start, pageRange.end);\n    },\n    setCount(count) {\n      send({ type: \"SET_COUNT\", count });\n    },\n    setPageSize(size) {\n      send({ type: \"SET_PAGE_SIZE\", size });\n    },\n    setPage(page2) {\n      send({ type: \"SET_PAGE\", page: page2 });\n    },\n    rootProps: normalize.element({\n      id: dom.getRootId(state.context),\n      ...parts.root.attrs,\n      dir: state.context.dir,\n      \"aria-label\": translations.rootLabel\n    }),\n    getEllipsisProps(props) {\n      return normalize.element({\n        id: dom.getEllipsisId(state.context, props.index),\n        ...parts.ellipsis.attrs,\n        dir: state.context.dir\n      });\n    },\n    getItemProps(props) {\n      const index = props.value;\n      const isCurrentPage = index === state.context.page;\n      return normalize.element({\n        id: dom.getItemId(state.context, index),\n        ...parts.item.attrs,\n        dir: state.context.dir,\n        \"data-index\": index,\n        \"data-selected\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isCurrentPage),\n        \"aria-current\": isCurrentPage ? \"page\" : void 0,\n        \"aria-label\": translations.itemLabel?.({ page: index, totalPages }),\n        onClick() {\n          send({ type: \"SET_PAGE\", page: index });\n        },\n        ...isButton && { type: \"button\" }\n      });\n    },\n    prevTriggerProps: normalize.element({\n      id: dom.getPrevTriggerId(state.context),\n      ...parts.prevTrigger.attrs,\n      dir: state.context.dir,\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isFirstPage),\n      \"aria-label\": translations.prevTriggerLabel,\n      onClick() {\n        send({ type: \"PREVIOUS_PAGE\" });\n      },\n      ...isButton && { disabled: isFirstPage, type: \"button\" }\n    }),\n    nextTriggerProps: normalize.element({\n      id: dom.getNextTriggerId(state.context),\n      ...parts.nextTrigger.attrs,\n      dir: state.context.dir,\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isLastPage),\n      \"aria-label\": translations.nextTriggerLabel,\n      onClick() {\n        send({ type: \"NEXT_PAGE\" });\n      },\n      ...isButton && { disabled: isLastPage, type: \"button\" }\n    })\n  };\n}\n\n// src/pagination.machine.ts\n\n\nfunction machine(userContext) {\n  const ctx = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.compact)(userContext);\n  return (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_3__.createMachine)(\n    {\n      id: \"pagination\",\n      initial: \"idle\",\n      context: {\n        pageSize: 10,\n        siblingCount: 1,\n        page: 1,\n        type: \"button\",\n        translations: {\n          rootLabel: \"pagination\",\n          prevTriggerLabel: \"previous page\",\n          nextTriggerLabel: \"next page\",\n          itemLabel({ page, totalPages }) {\n            const isLastPage = totalPages > 1 && page === totalPages;\n            return `${isLastPage ? \"last page, \" : \"\"}page ${page}`;\n          },\n          ...ctx.translations\n        },\n        ...ctx\n      },\n      watch: {\n        pageSize: [\"setPageIfNeeded\"]\n      },\n      computed: {\n        totalPages: (ctx2) => Math.ceil(ctx2.count / ctx2.pageSize),\n        previousPage: (ctx2) => ctx2.page === 1 ? null : ctx2.page - 1,\n        nextPage: (ctx2) => ctx2.page === ctx2.totalPages ? null : ctx2.page + 1,\n        pageRange: (ctx2) => {\n          const start = (ctx2.page - 1) * ctx2.pageSize;\n          const end = start + ctx2.pageSize;\n          return { start, end };\n        },\n        isValidPage: (ctx2) => ctx2.page >= 1 && ctx2.page <= ctx2.totalPages\n      },\n      on: {\n        SET_COUNT: [\n          {\n            guard: \"isValidCount\",\n            actions: [\"setCount\", \"goToFirstPage\"]\n          },\n          {\n            actions: \"setCount\"\n          }\n        ],\n        SET_PAGE: {\n          guard: \"isValidPage\",\n          actions: \"setPage\"\n        },\n        SET_PAGE_SIZE: {\n          actions: \"setPageSize\"\n        },\n        PREVIOUS_PAGE: {\n          guard: \"canGoToPrevPage\",\n          actions: \"goToPrevPage\"\n        },\n        NEXT_PAGE: {\n          guard: \"canGoToNextPage\",\n          actions: \"goToNextPage\"\n        }\n      },\n      states: {\n        idle: {}\n      }\n    },\n    {\n      guards: {\n        isValidPage: (ctx2, evt) => evt.page >= 1 && evt.page <= ctx2.totalPages,\n        isValidCount: (ctx2, evt) => ctx2.page > evt.count,\n        canGoToNextPage: (ctx2) => ctx2.page < ctx2.totalPages,\n        canGoToPrevPage: (ctx2) => ctx2.page > 1\n      },\n      actions: {\n        setCount(ctx2, evt) {\n          ctx2.count = evt.count;\n        },\n        setPage(ctx2, evt) {\n          set.page(ctx2, evt.page);\n        },\n        setPageSize(ctx2, evt) {\n          ctx2.pageSize = evt.size;\n        },\n        goToFirstPage(ctx2) {\n          set.page(ctx2, 1);\n        },\n        goToPrevPage(ctx2) {\n          set.page(ctx2, ctx2.page - 1);\n        },\n        goToNextPage(ctx2) {\n          set.page(ctx2, ctx2.page + 1);\n        },\n        setPageIfNeeded(ctx2, _evt) {\n          if (ctx2.isValidPage)\n            return;\n          set.page(ctx2, 1);\n        }\n      }\n    }\n  );\n}\nvar set = {\n  page: (ctx, value) => {\n    if ((0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.isEqual)(ctx.page, value))\n      return;\n    ctx.page = value;\n    ctx.onPageChange?.({ page: ctx.page, pageSize: ctx.pageSize });\n  }\n};\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9wYWdpbmF0aW9uL2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNnRDtBQUNoRCxjQUFjLDhEQUFhO0FBQzNCOztBQUVBO0FBQzZDOztBQUU3QztBQUNnRDtBQUNoRCxVQUFVLDhEQUFXO0FBQ3JCLHFEQUFxRCxPQUFPO0FBQzVELG1FQUFtRSxPQUFPO0FBQzFFLG1FQUFtRSxPQUFPO0FBQzFFLDZFQUE2RSxPQUFPLFlBQVksTUFBTTtBQUN0RyxtRUFBbUUsT0FBTyxRQUFRLEtBQUs7QUFDdkYsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsUUFBUTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZixhQUFhO0FBQ2IsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsYUFBYSwwQkFBMEI7QUFDdkMsS0FBSztBQUNMO0FBQ0EsYUFBYSw2QkFBNkI7QUFDMUMsS0FBSztBQUNMO0FBQ0EsYUFBYSwrQkFBK0I7QUFDNUMsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QiwyREFBUTtBQUNqQztBQUNBLGlEQUFpRCx5QkFBeUI7QUFDMUU7QUFDQSxpQkFBaUIsK0JBQStCO0FBQ2hELFNBQVM7QUFDVCx5QkFBeUI7QUFDekIsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiwyREFBUTtBQUMvQjtBQUNBO0FBQ0EsZUFBZSx1QkFBdUI7QUFDdEMsT0FBTztBQUNQLHVCQUF1QjtBQUN2QixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsMkRBQVE7QUFDL0I7QUFDQTtBQUNBLGVBQWUsbUJBQW1CO0FBQ2xDLE9BQU87QUFDUCx1QkFBdUI7QUFDdkIsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDNkM7QUFDSTtBQUNqRDtBQUNBLGNBQWMsc0RBQU87QUFDckIsU0FBUywyREFBYTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isa0JBQWtCO0FBQ3hDO0FBQ0Esc0JBQXNCLGdDQUFnQyxPQUFPLEtBQUs7QUFDbEUsV0FBVztBQUNYO0FBQ0EsU0FBUztBQUNUO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkIsU0FBUztBQUNUO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFPO0FBQ2Y7QUFDQTtBQUNBLHlCQUF5Qix3Q0FBd0M7QUFDakU7QUFDQTtBQUtFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AcGFyay11aS9leGFtcGxlcy1yZWFjdC1uZXh0LWpzLy4vbm9kZV9tb2R1bGVzL0B6YWctanMvcGFnaW5hdGlvbi9kaXN0L2luZGV4Lm1qcz9jMGRjIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9wYWdpbmF0aW9uLmFuYXRvbXkudHNcbmltcG9ydCB7IGNyZWF0ZUFuYXRvbXkgfSBmcm9tIFwiQHphZy1qcy9hbmF0b215XCI7XG52YXIgYW5hdG9teSA9IGNyZWF0ZUFuYXRvbXkoXCJwYWdpbmF0aW9uXCIpLnBhcnRzKFwicm9vdFwiLCBcIml0ZW1cIiwgXCJlbGxpcHNpc1wiLCBcInByZXZUcmlnZ2VyXCIsIFwibmV4dFRyaWdnZXJcIik7XG52YXIgcGFydHMgPSBhbmF0b215LmJ1aWxkKCk7XG5cbi8vIHNyYy9wYWdpbmF0aW9uLmNvbm5lY3QudHNcbmltcG9ydCB7IGRhdGFBdHRyIH0gZnJvbSBcIkB6YWctanMvZG9tLXF1ZXJ5XCI7XG5cbi8vIHNyYy9wYWdpbmF0aW9uLmRvbS50c1xuaW1wb3J0IHsgY3JlYXRlU2NvcGUgfSBmcm9tIFwiQHphZy1qcy9kb20tcXVlcnlcIjtcbnZhciBkb20gPSBjcmVhdGVTY29wZSh7XG4gIGdldFJvb3RJZDogKGN0eCkgPT4gY3R4Lmlkcz8ucm9vdCA/PyBgcGFnaW5hdGlvbjoke2N0eC5pZH1gLFxuICBnZXRQcmV2VHJpZ2dlcklkOiAoY3R4KSA9PiBjdHguaWRzPy5wcmV2VHJpZ2dlciA/PyBgcGFnaW5hdGlvbjoke2N0eC5pZH06cHJldmAsXG4gIGdldE5leHRUcmlnZ2VySWQ6IChjdHgpID0+IGN0eC5pZHM/Lm5leHRUcmlnZ2VyID8/IGBwYWdpbmF0aW9uOiR7Y3R4LmlkfTpuZXh0YCxcbiAgZ2V0RWxsaXBzaXNJZDogKGN0eCwgaW5kZXgpID0+IGN0eC5pZHM/LmVsbGlwc2lzPy4oaW5kZXgpID8/IGBwYWdpbmF0aW9uOiR7Y3R4LmlkfTplbGxpcHNpczoke2luZGV4fWAsXG4gIGdldEl0ZW1JZDogKGN0eCwgcGFnZSkgPT4gY3R4Lmlkcz8uaXRlbT8uKHBhZ2UpID8/IGBwYWdpbmF0aW9uOiR7Y3R4LmlkfTppdGVtOiR7cGFnZX1gXG59KTtcblxuLy8gc3JjL3BhZ2luYXRpb24udXRpbHMudHNcbnZhciByYW5nZSA9IChzdGFydCwgZW5kKSA9PiB7XG4gIGxldCBsZW5ndGggPSBlbmQgLSBzdGFydCArIDE7XG4gIHJldHVybiBBcnJheS5mcm9tKHsgbGVuZ3RoIH0sIChfLCBpZHgpID0+IGlkeCArIHN0YXJ0KTtcbn07XG52YXIgdHJhbnNmb3JtID0gKGl0ZW1zKSA9PiB7XG4gIHJldHVybiBpdGVtcy5tYXAoKHZhbHVlKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIilcbiAgICAgIHJldHVybiB7IHR5cGU6IFwicGFnZVwiLCB2YWx1ZSB9O1xuICAgIHJldHVybiB7IHR5cGU6IFwiZWxsaXBzaXNcIiB9O1xuICB9KTtcbn07XG52YXIgRUxMSVBTSVMgPSBcImVsbGlwc2lzXCI7XG52YXIgZ2V0UmFuZ2UgPSAoY3R4KSA9PiB7XG4gIGNvbnN0IHRvdGFsUGFnZU51bWJlcnMgPSBNYXRoLm1pbigyICogY3R4LnNpYmxpbmdDb3VudCArIDUsIGN0eC50b3RhbFBhZ2VzKTtcbiAgY29uc3QgZmlyc3RQYWdlSW5kZXggPSAxO1xuICBjb25zdCBsYXN0UGFnZUluZGV4ID0gY3R4LnRvdGFsUGFnZXM7XG4gIGNvbnN0IGxlZnRTaWJsaW5nSW5kZXggPSBNYXRoLm1heChjdHgucGFnZSAtIGN0eC5zaWJsaW5nQ291bnQsIGZpcnN0UGFnZUluZGV4KTtcbiAgY29uc3QgcmlnaHRTaWJsaW5nSW5kZXggPSBNYXRoLm1pbihjdHgucGFnZSArIGN0eC5zaWJsaW5nQ291bnQsIGxhc3RQYWdlSW5kZXgpO1xuICBjb25zdCBzaG93TGVmdEVsbGlwc2lzID0gbGVmdFNpYmxpbmdJbmRleCA+IGZpcnN0UGFnZUluZGV4ICsgMTtcbiAgY29uc3Qgc2hvd1JpZ2h0RWxsaXBzaXMgPSByaWdodFNpYmxpbmdJbmRleCA8IGxhc3RQYWdlSW5kZXggLSAxO1xuICBjb25zdCBpdGVtQ291bnQgPSB0b3RhbFBhZ2VOdW1iZXJzIC0gMjtcbiAgaWYgKCFzaG93TGVmdEVsbGlwc2lzICYmIHNob3dSaWdodEVsbGlwc2lzKSB7XG4gICAgY29uc3QgbGVmdFJhbmdlID0gcmFuZ2UoMSwgaXRlbUNvdW50KTtcbiAgICByZXR1cm4gWy4uLmxlZnRSYW5nZSwgRUxMSVBTSVMsIGxhc3RQYWdlSW5kZXhdO1xuICB9XG4gIGlmIChzaG93TGVmdEVsbGlwc2lzICYmICFzaG93UmlnaHRFbGxpcHNpcykge1xuICAgIGNvbnN0IHJpZ2h0UmFuZ2UgPSByYW5nZShsYXN0UGFnZUluZGV4IC0gaXRlbUNvdW50ICsgMSwgbGFzdFBhZ2VJbmRleCk7XG4gICAgcmV0dXJuIFtmaXJzdFBhZ2VJbmRleCwgRUxMSVBTSVMsIC4uLnJpZ2h0UmFuZ2VdO1xuICB9XG4gIGlmIChzaG93TGVmdEVsbGlwc2lzICYmIHNob3dSaWdodEVsbGlwc2lzKSB7XG4gICAgY29uc3QgbWlkZGxlUmFuZ2UgPSByYW5nZShsZWZ0U2libGluZ0luZGV4LCByaWdodFNpYmxpbmdJbmRleCk7XG4gICAgcmV0dXJuIFtmaXJzdFBhZ2VJbmRleCwgRUxMSVBTSVMsIC4uLm1pZGRsZVJhbmdlLCBFTExJUFNJUywgbGFzdFBhZ2VJbmRleF07XG4gIH1cbiAgY29uc3QgZnVsbFJhbmdlID0gcmFuZ2UoZmlyc3RQYWdlSW5kZXgsIGxhc3RQYWdlSW5kZXgpO1xuICByZXR1cm4gZnVsbFJhbmdlO1xufTtcbnZhciBnZXRUcmFuc2Zvcm1lZFJhbmdlID0gKGN0eCkgPT4gdHJhbnNmb3JtKGdldFJhbmdlKGN0eCkpO1xuXG4vLyBzcmMvcGFnaW5hdGlvbi5jb25uZWN0LnRzXG5mdW5jdGlvbiBjb25uZWN0KHN0YXRlLCBzZW5kLCBub3JtYWxpemUpIHtcbiAgY29uc3QgdG90YWxQYWdlcyA9IHN0YXRlLmNvbnRleHQudG90YWxQYWdlcztcbiAgY29uc3QgcGFnZSA9IHN0YXRlLmNvbnRleHQucGFnZTtcbiAgY29uc3QgdHJhbnNsYXRpb25zID0gc3RhdGUuY29udGV4dC50cmFuc2xhdGlvbnM7XG4gIGNvbnN0IHByZXZpb3VzUGFnZSA9IHN0YXRlLmNvbnRleHQucHJldmlvdXNQYWdlO1xuICBjb25zdCBuZXh0UGFnZSA9IHN0YXRlLmNvbnRleHQubmV4dFBhZ2U7XG4gIGNvbnN0IHBhZ2VSYW5nZSA9IHN0YXRlLmNvbnRleHQucGFnZVJhbmdlO1xuICBjb25zdCB0eXBlID0gc3RhdGUuY29udGV4dC50eXBlO1xuICBjb25zdCBpc0J1dHRvbiA9IHR5cGUgPT09IFwiYnV0dG9uXCI7XG4gIGNvbnN0IGlzRmlyc3RQYWdlID0gcGFnZSA9PT0gMTtcbiAgY29uc3QgaXNMYXN0UGFnZSA9IHBhZ2UgPT09IHRvdGFsUGFnZXM7XG4gIHJldHVybiB7XG4gICAgcGFnZSxcbiAgICB0b3RhbFBhZ2VzLFxuICAgIHBhZ2VzOiBnZXRUcmFuc2Zvcm1lZFJhbmdlKHN0YXRlLmNvbnRleHQpLFxuICAgIHByZXZpb3VzUGFnZSxcbiAgICBuZXh0UGFnZSxcbiAgICBwYWdlUmFuZ2UsXG4gICAgaXNGaXJzdFBhZ2UsXG4gICAgaXNMYXN0UGFnZSxcbiAgICBzbGljZShkYXRhKSB7XG4gICAgICByZXR1cm4gZGF0YS5zbGljZShwYWdlUmFuZ2Uuc3RhcnQsIHBhZ2VSYW5nZS5lbmQpO1xuICAgIH0sXG4gICAgc2V0Q291bnQoY291bnQpIHtcbiAgICAgIHNlbmQoeyB0eXBlOiBcIlNFVF9DT1VOVFwiLCBjb3VudCB9KTtcbiAgICB9LFxuICAgIHNldFBhZ2VTaXplKHNpemUpIHtcbiAgICAgIHNlbmQoeyB0eXBlOiBcIlNFVF9QQUdFX1NJWkVcIiwgc2l6ZSB9KTtcbiAgICB9LFxuICAgIHNldFBhZ2UocGFnZTIpIHtcbiAgICAgIHNlbmQoeyB0eXBlOiBcIlNFVF9QQUdFXCIsIHBhZ2U6IHBhZ2UyIH0pO1xuICAgIH0sXG4gICAgcm9vdFByb3BzOiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICBpZDogZG9tLmdldFJvb3RJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIC4uLnBhcnRzLnJvb3QuYXR0cnMsXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgXCJhcmlhLWxhYmVsXCI6IHRyYW5zbGF0aW9ucy5yb290TGFiZWxcbiAgICB9KSxcbiAgICBnZXRFbGxpcHNpc1Byb3BzKHByb3BzKSB7XG4gICAgICByZXR1cm4gbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgICBpZDogZG9tLmdldEVsbGlwc2lzSWQoc3RhdGUuY29udGV4dCwgcHJvcHMuaW5kZXgpLFxuICAgICAgICAuLi5wYXJ0cy5lbGxpcHNpcy5hdHRycyxcbiAgICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpclxuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZXRJdGVtUHJvcHMocHJvcHMpIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gcHJvcHMudmFsdWU7XG4gICAgICBjb25zdCBpc0N1cnJlbnRQYWdlID0gaW5kZXggPT09IHN0YXRlLmNvbnRleHQucGFnZTtcbiAgICAgIHJldHVybiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICAgIGlkOiBkb20uZ2V0SXRlbUlkKHN0YXRlLmNvbnRleHQsIGluZGV4KSxcbiAgICAgICAgLi4ucGFydHMuaXRlbS5hdHRycyxcbiAgICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgICAgXCJkYXRhLWluZGV4XCI6IGluZGV4LFxuICAgICAgICBcImRhdGEtc2VsZWN0ZWRcIjogZGF0YUF0dHIoaXNDdXJyZW50UGFnZSksXG4gICAgICAgIFwiYXJpYS1jdXJyZW50XCI6IGlzQ3VycmVudFBhZ2UgPyBcInBhZ2VcIiA6IHZvaWQgMCxcbiAgICAgICAgXCJhcmlhLWxhYmVsXCI6IHRyYW5zbGF0aW9ucy5pdGVtTGFiZWw/Lih7IHBhZ2U6IGluZGV4LCB0b3RhbFBhZ2VzIH0pLFxuICAgICAgICBvbkNsaWNrKCkge1xuICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIlNFVF9QQUdFXCIsIHBhZ2U6IGluZGV4IH0pO1xuICAgICAgICB9LFxuICAgICAgICAuLi5pc0J1dHRvbiAmJiB7IHR5cGU6IFwiYnV0dG9uXCIgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBwcmV2VHJpZ2dlclByb3BzOiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICBpZDogZG9tLmdldFByZXZUcmlnZ2VySWQoc3RhdGUuY29udGV4dCksXG4gICAgICAuLi5wYXJ0cy5wcmV2VHJpZ2dlci5hdHRycyxcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICBcImRhdGEtZGlzYWJsZWRcIjogZGF0YUF0dHIoaXNGaXJzdFBhZ2UpLFxuICAgICAgXCJhcmlhLWxhYmVsXCI6IHRyYW5zbGF0aW9ucy5wcmV2VHJpZ2dlckxhYmVsLFxuICAgICAgb25DbGljaygpIHtcbiAgICAgICAgc2VuZCh7IHR5cGU6IFwiUFJFVklPVVNfUEFHRVwiIH0pO1xuICAgICAgfSxcbiAgICAgIC4uLmlzQnV0dG9uICYmIHsgZGlzYWJsZWQ6IGlzRmlyc3RQYWdlLCB0eXBlOiBcImJ1dHRvblwiIH1cbiAgICB9KSxcbiAgICBuZXh0VHJpZ2dlclByb3BzOiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICBpZDogZG9tLmdldE5leHRUcmlnZ2VySWQoc3RhdGUuY29udGV4dCksXG4gICAgICAuLi5wYXJ0cy5uZXh0VHJpZ2dlci5hdHRycyxcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICBcImRhdGEtZGlzYWJsZWRcIjogZGF0YUF0dHIoaXNMYXN0UGFnZSksXG4gICAgICBcImFyaWEtbGFiZWxcIjogdHJhbnNsYXRpb25zLm5leHRUcmlnZ2VyTGFiZWwsXG4gICAgICBvbkNsaWNrKCkge1xuICAgICAgICBzZW5kKHsgdHlwZTogXCJORVhUX1BBR0VcIiB9KTtcbiAgICAgIH0sXG4gICAgICAuLi5pc0J1dHRvbiAmJiB7IGRpc2FibGVkOiBpc0xhc3RQYWdlLCB0eXBlOiBcImJ1dHRvblwiIH1cbiAgICB9KVxuICB9O1xufVxuXG4vLyBzcmMvcGFnaW5hdGlvbi5tYWNoaW5lLnRzXG5pbXBvcnQgeyBjcmVhdGVNYWNoaW5lIH0gZnJvbSBcIkB6YWctanMvY29yZVwiO1xuaW1wb3J0IHsgY29tcGFjdCwgaXNFcXVhbCB9IGZyb20gXCJAemFnLWpzL3V0aWxzXCI7XG5mdW5jdGlvbiBtYWNoaW5lKHVzZXJDb250ZXh0KSB7XG4gIGNvbnN0IGN0eCA9IGNvbXBhY3QodXNlckNvbnRleHQpO1xuICByZXR1cm4gY3JlYXRlTWFjaGluZShcbiAgICB7XG4gICAgICBpZDogXCJwYWdpbmF0aW9uXCIsXG4gICAgICBpbml0aWFsOiBcImlkbGVcIixcbiAgICAgIGNvbnRleHQ6IHtcbiAgICAgICAgcGFnZVNpemU6IDEwLFxuICAgICAgICBzaWJsaW5nQ291bnQ6IDEsXG4gICAgICAgIHBhZ2U6IDEsXG4gICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgIHRyYW5zbGF0aW9uczoge1xuICAgICAgICAgIHJvb3RMYWJlbDogXCJwYWdpbmF0aW9uXCIsXG4gICAgICAgICAgcHJldlRyaWdnZXJMYWJlbDogXCJwcmV2aW91cyBwYWdlXCIsXG4gICAgICAgICAgbmV4dFRyaWdnZXJMYWJlbDogXCJuZXh0IHBhZ2VcIixcbiAgICAgICAgICBpdGVtTGFiZWwoeyBwYWdlLCB0b3RhbFBhZ2VzIH0pIHtcbiAgICAgICAgICAgIGNvbnN0IGlzTGFzdFBhZ2UgPSB0b3RhbFBhZ2VzID4gMSAmJiBwYWdlID09PSB0b3RhbFBhZ2VzO1xuICAgICAgICAgICAgcmV0dXJuIGAke2lzTGFzdFBhZ2UgPyBcImxhc3QgcGFnZSwgXCIgOiBcIlwifXBhZ2UgJHtwYWdlfWA7XG4gICAgICAgICAgfSxcbiAgICAgICAgICAuLi5jdHgudHJhbnNsYXRpb25zXG4gICAgICAgIH0sXG4gICAgICAgIC4uLmN0eFxuICAgICAgfSxcbiAgICAgIHdhdGNoOiB7XG4gICAgICAgIHBhZ2VTaXplOiBbXCJzZXRQYWdlSWZOZWVkZWRcIl1cbiAgICAgIH0sXG4gICAgICBjb21wdXRlZDoge1xuICAgICAgICB0b3RhbFBhZ2VzOiAoY3R4MikgPT4gTWF0aC5jZWlsKGN0eDIuY291bnQgLyBjdHgyLnBhZ2VTaXplKSxcbiAgICAgICAgcHJldmlvdXNQYWdlOiAoY3R4MikgPT4gY3R4Mi5wYWdlID09PSAxID8gbnVsbCA6IGN0eDIucGFnZSAtIDEsXG4gICAgICAgIG5leHRQYWdlOiAoY3R4MikgPT4gY3R4Mi5wYWdlID09PSBjdHgyLnRvdGFsUGFnZXMgPyBudWxsIDogY3R4Mi5wYWdlICsgMSxcbiAgICAgICAgcGFnZVJhbmdlOiAoY3R4MikgPT4ge1xuICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gKGN0eDIucGFnZSAtIDEpICogY3R4Mi5wYWdlU2l6ZTtcbiAgICAgICAgICBjb25zdCBlbmQgPSBzdGFydCArIGN0eDIucGFnZVNpemU7XG4gICAgICAgICAgcmV0dXJuIHsgc3RhcnQsIGVuZCB9O1xuICAgICAgICB9LFxuICAgICAgICBpc1ZhbGlkUGFnZTogKGN0eDIpID0+IGN0eDIucGFnZSA+PSAxICYmIGN0eDIucGFnZSA8PSBjdHgyLnRvdGFsUGFnZXNcbiAgICAgIH0sXG4gICAgICBvbjoge1xuICAgICAgICBTRVRfQ09VTlQ6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBndWFyZDogXCJpc1ZhbGlkQ291bnRcIixcbiAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldENvdW50XCIsIFwiZ29Ub0ZpcnN0UGFnZVwiXVxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgYWN0aW9uczogXCJzZXRDb3VudFwiXG4gICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBTRVRfUEFHRToge1xuICAgICAgICAgIGd1YXJkOiBcImlzVmFsaWRQYWdlXCIsXG4gICAgICAgICAgYWN0aW9uczogXCJzZXRQYWdlXCJcbiAgICAgICAgfSxcbiAgICAgICAgU0VUX1BBR0VfU0laRToge1xuICAgICAgICAgIGFjdGlvbnM6IFwic2V0UGFnZVNpemVcIlxuICAgICAgICB9LFxuICAgICAgICBQUkVWSU9VU19QQUdFOiB7XG4gICAgICAgICAgZ3VhcmQ6IFwiY2FuR29Ub1ByZXZQYWdlXCIsXG4gICAgICAgICAgYWN0aW9uczogXCJnb1RvUHJldlBhZ2VcIlxuICAgICAgICB9LFxuICAgICAgICBORVhUX1BBR0U6IHtcbiAgICAgICAgICBndWFyZDogXCJjYW5Hb1RvTmV4dFBhZ2VcIixcbiAgICAgICAgICBhY3Rpb25zOiBcImdvVG9OZXh0UGFnZVwiXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBzdGF0ZXM6IHtcbiAgICAgICAgaWRsZToge31cbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIGd1YXJkczoge1xuICAgICAgICBpc1ZhbGlkUGFnZTogKGN0eDIsIGV2dCkgPT4gZXZ0LnBhZ2UgPj0gMSAmJiBldnQucGFnZSA8PSBjdHgyLnRvdGFsUGFnZXMsXG4gICAgICAgIGlzVmFsaWRDb3VudDogKGN0eDIsIGV2dCkgPT4gY3R4Mi5wYWdlID4gZXZ0LmNvdW50LFxuICAgICAgICBjYW5Hb1RvTmV4dFBhZ2U6IChjdHgyKSA9PiBjdHgyLnBhZ2UgPCBjdHgyLnRvdGFsUGFnZXMsXG4gICAgICAgIGNhbkdvVG9QcmV2UGFnZTogKGN0eDIpID0+IGN0eDIucGFnZSA+IDFcbiAgICAgIH0sXG4gICAgICBhY3Rpb25zOiB7XG4gICAgICAgIHNldENvdW50KGN0eDIsIGV2dCkge1xuICAgICAgICAgIGN0eDIuY291bnQgPSBldnQuY291bnQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFBhZ2UoY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgc2V0LnBhZ2UoY3R4MiwgZXZ0LnBhZ2UpO1xuICAgICAgICB9LFxuICAgICAgICBzZXRQYWdlU2l6ZShjdHgyLCBldnQpIHtcbiAgICAgICAgICBjdHgyLnBhZ2VTaXplID0gZXZ0LnNpemU7XG4gICAgICAgIH0sXG4gICAgICAgIGdvVG9GaXJzdFBhZ2UoY3R4Mikge1xuICAgICAgICAgIHNldC5wYWdlKGN0eDIsIDEpO1xuICAgICAgICB9LFxuICAgICAgICBnb1RvUHJldlBhZ2UoY3R4Mikge1xuICAgICAgICAgIHNldC5wYWdlKGN0eDIsIGN0eDIucGFnZSAtIDEpO1xuICAgICAgICB9LFxuICAgICAgICBnb1RvTmV4dFBhZ2UoY3R4Mikge1xuICAgICAgICAgIHNldC5wYWdlKGN0eDIsIGN0eDIucGFnZSArIDEpO1xuICAgICAgICB9LFxuICAgICAgICBzZXRQYWdlSWZOZWVkZWQoY3R4MiwgX2V2dCkge1xuICAgICAgICAgIGlmIChjdHgyLmlzVmFsaWRQYWdlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIHNldC5wYWdlKGN0eDIsIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICApO1xufVxudmFyIHNldCA9IHtcbiAgcGFnZTogKGN0eCwgdmFsdWUpID0+IHtcbiAgICBpZiAoaXNFcXVhbChjdHgucGFnZSwgdmFsdWUpKVxuICAgICAgcmV0dXJuO1xuICAgIGN0eC5wYWdlID0gdmFsdWU7XG4gICAgY3R4Lm9uUGFnZUNoYW5nZT8uKHsgcGFnZTogY3R4LnBhZ2UsIHBhZ2VTaXplOiBjdHgucGFnZVNpemUgfSk7XG4gIH1cbn07XG5leHBvcnQge1xuICBhbmF0b215LFxuICBjb25uZWN0LFxuICBtYWNoaW5lXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/pagination/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/pin-input/dist/index.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/@zag-js/pin-input/dist/index.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   anatomy: () => (/* binding */ anatomy),\n/* harmony export */   connect: () => (/* binding */ connect),\n/* harmony export */   machine: () => (/* binding */ machine)\n/* harmony export */ });\n/* harmony import */ var _zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/anatomy */ \"(ssr)/./node_modules/@zag-js/anatomy/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_event__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @zag-js/dom-event */ \"(ssr)/./node_modules/@zag-js/dom-event/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @zag-js/dom-query */ \"(ssr)/./node_modules/@zag-js/dom-query/dist/index.mjs\");\n/* harmony import */ var _zag_js_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @zag-js/utils */ \"(ssr)/./node_modules/@zag-js/utils/dist/index.mjs\");\n/* harmony import */ var _zag_js_visually_hidden__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @zag-js/visually-hidden */ \"(ssr)/./node_modules/@zag-js/visually-hidden/dist/index.mjs\");\n/* harmony import */ var _zag_js_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @zag-js/core */ \"(ssr)/./node_modules/@zag-js/core/dist/index.mjs\");\n/* harmony import */ var _zag_js_form_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @zag-js/form-utils */ \"(ssr)/./node_modules/@zag-js/form-utils/dist/index.mjs\");\n// src/pin-input.anatomy.ts\n\nvar anatomy = (0,_zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__.createAnatomy)(\"pinInput\").parts(\"root\", \"label\", \"input\", \"control\");\nvar parts = anatomy.build();\n\n// src/pin-input.connect.ts\n\n\n\n\n\n// src/pin-input.dom.ts\n\nvar dom = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.createScope)({\n  getRootId: (ctx) => ctx.ids?.root ?? `pin-input:${ctx.id}`,\n  getInputId: (ctx, id) => ctx.ids?.input?.(id) ?? `pin-input:${ctx.id}:${id}`,\n  getHiddenInputId: (ctx) => ctx.ids?.hiddenInput ?? `pin-input:${ctx.id}:hidden`,\n  getLabelId: (ctx) => ctx.ids?.label ?? `pin-input:${ctx.id}:label`,\n  getControlId: (ctx) => ctx.ids?.control ?? `pin-input:${ctx.id}:control`,\n  getRootEl: (ctx) => dom.getById(ctx, dom.getRootId(ctx)),\n  getInputEls: (ctx) => {\n    const ownerId = CSS.escape(dom.getRootId(ctx));\n    const selector = `input[data-ownedby=${ownerId}]`;\n    return (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.queryAll)(dom.getRootEl(ctx), selector);\n  },\n  getInputEl: (ctx, id) => dom.getById(ctx, dom.getInputId(ctx, id)),\n  getFocusedInputEl: (ctx) => dom.getInputEls(ctx)[ctx.focusedIndex],\n  getFirstInputEl: (ctx) => dom.getInputEls(ctx)[0],\n  getHiddenInputEl: (ctx) => dom.getById(ctx, dom.getHiddenInputId(ctx))\n});\n\n// src/pin-input.utils.ts\nvar REGEX = {\n  numeric: /^[0-9]+$/,\n  alphabetic: /^[A-Za-z]+$/,\n  alphanumeric: /^[a-zA-Z0-9]+$/i\n};\nfunction isValidType(ctx, value) {\n  if (!ctx.type)\n    return true;\n  return !!REGEX[ctx.type]?.test(value);\n}\nfunction isValidValue(ctx, value) {\n  if (!ctx.pattern)\n    return isValidType(ctx, value);\n  const regex = new RegExp(ctx.pattern, \"g\");\n  return regex.test(value);\n}\n\n// src/pin-input.connect.ts\nfunction connect(state, send, normalize) {\n  const isValueComplete = state.context.isValueComplete;\n  const isInvalid = state.context.invalid;\n  const focusedIndex = state.context.focusedIndex;\n  const translations = state.context.translations;\n  function focus() {\n    dom.getFirstInputEl(state.context)?.focus();\n  }\n  return {\n    focus,\n    value: state.context.value,\n    valueAsString: state.context.valueAsString,\n    isValueComplete,\n    setValue(value) {\n      if (!Array.isArray(value)) {\n        (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.invariant)(\"[pin-input/setValue] value must be an array\");\n      }\n      send({ type: \"VALUE.SET\", value });\n    },\n    clearValue() {\n      send({ type: \"VALUE.CLEAR\" });\n    },\n    setValueAtIndex(index, value) {\n      send({ type: \"VALUE.SET\", value, index });\n    },\n    rootProps: normalize.element({\n      dir: state.context.dir,\n      ...parts.root.attrs,\n      id: dom.getRootId(state.context),\n      \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isInvalid),\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(state.context.disabled),\n      \"data-complete\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isValueComplete)\n    }),\n    labelProps: normalize.label({\n      ...parts.label.attrs,\n      dir: state.context.dir,\n      htmlFor: dom.getHiddenInputId(state.context),\n      id: dom.getLabelId(state.context),\n      \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isInvalid),\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(state.context.disabled),\n      \"data-complete\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isValueComplete),\n      onClick(event) {\n        event.preventDefault();\n        focus();\n      }\n    }),\n    hiddenInputProps: normalize.input({\n      \"aria-hidden\": true,\n      type: \"text\",\n      tabIndex: -1,\n      id: dom.getHiddenInputId(state.context),\n      name: state.context.name,\n      form: state.context.form,\n      style: _zag_js_visually_hidden__WEBPACK_IMPORTED_MODULE_3__.visuallyHiddenStyle,\n      maxLength: state.context.valueLength,\n      defaultValue: state.context.valueAsString\n    }),\n    controlProps: normalize.element({\n      ...parts.control.attrs,\n      dir: state.context.dir,\n      id: dom.getControlId(state.context)\n    }),\n    getInputProps(props) {\n      const { index } = props;\n      const inputType = state.context.type === \"numeric\" ? \"tel\" : \"text\";\n      return normalize.input({\n        ...parts.input.attrs,\n        dir: state.context.dir,\n        disabled: state.context.disabled,\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(state.context.disabled),\n        \"data-complete\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isValueComplete),\n        id: dom.getInputId(state.context, index.toString()),\n        \"data-ownedby\": dom.getRootId(state.context),\n        \"aria-label\": translations.inputLabel(index, state.context.valueLength),\n        inputMode: state.context.otp || state.context.type === \"numeric\" ? \"numeric\" : \"text\",\n        \"aria-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.ariaAttr)(isInvalid),\n        \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isInvalid),\n        type: state.context.mask ? \"password\" : inputType,\n        defaultValue: state.context.value[index] || \"\",\n        autoCapitalize: \"none\",\n        autoComplete: state.context.otp ? \"one-time-code\" : \"off\",\n        placeholder: focusedIndex === index ? \"\" : state.context.placeholder,\n        onBeforeInput(event) {\n          try {\n            const value = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.getBeforeInputValue)(event);\n            const isValid = isValidValue(state.context, value);\n            if (!isValid) {\n              send({ type: \"VALUE.INVALID\", value });\n              event.preventDefault();\n            }\n          } catch {\n          }\n        },\n        onChange(event) {\n          const evt = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_4__.getNativeEvent)(event);\n          const { value } = event.currentTarget;\n          if (evt.inputType === \"insertFromPaste\" || value.length > 2) {\n            send({ type: \"INPUT.PASTE\", value });\n            event.preventDefault();\n            return;\n          }\n          if (evt.inputType === \"deleteContentBackward\") {\n            send(\"INPUT.BACKSPACE\");\n            return;\n          }\n          send({ type: \"INPUT.CHANGE\", value, index });\n        },\n        onKeyDown(event) {\n          const evt = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_4__.getNativeEvent)(event);\n          if ((0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_4__.isModifiedEvent)(evt))\n            return;\n          const keyMap = {\n            Backspace() {\n              send(\"INPUT.BACKSPACE\");\n            },\n            Delete() {\n              send(\"INPUT.DELETE\");\n            },\n            ArrowLeft() {\n              send(\"INPUT.ARROW_LEFT\");\n            },\n            ArrowRight() {\n              send(\"INPUT.ARROW_RIGHT\");\n            },\n            Enter() {\n              send(\"INPUT.ENTER\");\n            }\n          };\n          const exec = keyMap[(0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_4__.getEventKey)(event, state.context)];\n          if (exec) {\n            exec(event);\n            event.preventDefault();\n          }\n        },\n        onFocus() {\n          send({ type: \"INPUT.FOCUS\", index });\n        },\n        onBlur() {\n          send({ type: \"INPUT.BLUR\", index });\n        }\n      });\n    }\n  };\n}\n\n// src/pin-input.machine.ts\n\n\n\n\nfunction machine(userContext) {\n  const ctx = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.compact)(userContext);\n  return (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_5__.createMachine)(\n    {\n      id: \"pin-input\",\n      initial: \"idle\",\n      context: {\n        value: [],\n        focusedIndex: -1,\n        placeholder: \"\\u25CB\",\n        otp: false,\n        type: \"numeric\",\n        ...ctx,\n        translations: {\n          inputLabel: (index, length) => `pin code ${index + 1} of ${length}`,\n          ...ctx.translations\n        }\n      },\n      computed: {\n        valueLength: (ctx2) => ctx2.value.length,\n        filledValueLength: (ctx2) => ctx2.value.filter((v) => v?.trim() !== \"\").length,\n        isValueComplete: (ctx2) => ctx2.valueLength === ctx2.filledValueLength,\n        valueAsString: (ctx2) => ctx2.value.join(\"\"),\n        focusedValue: (ctx2) => ctx2.value[ctx2.focusedIndex] || \"\"\n      },\n      entry: (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_5__.choose)([\n        {\n          guard: \"autoFocus\",\n          actions: [\"setupValue\", \"setFocusIndexToFirst\"]\n        },\n        { actions: [\"setupValue\"] }\n      ]),\n      watch: {\n        focusedIndex: [\"focusInput\", \"selectInputIfNeeded\"],\n        value: [\"syncInputElements\"],\n        isValueComplete: [\"invokeOnComplete\", \"blurFocusedInputIfNeeded\"]\n      },\n      on: {\n        \"VALUE.SET\": [\n          {\n            guard: \"hasIndex\",\n            actions: [\"setValueAtIndex\"]\n          },\n          { actions: [\"setValue\"] }\n        ],\n        \"VALUE.CLEAR\": {\n          actions: [\"clearValue\", \"setFocusIndexToFirst\"]\n        }\n      },\n      states: {\n        idle: {\n          on: {\n            \"INPUT.FOCUS\": {\n              target: \"focused\",\n              actions: \"setFocusedIndex\"\n            }\n          }\n        },\n        focused: {\n          on: {\n            \"INPUT.CHANGE\": [\n              {\n                guard: \"isFinalValue\",\n                actions: [\"setFocusedValue\", \"syncInputValue\"]\n              },\n              {\n                actions: [\"setFocusedValue\", \"setNextFocusedIndex\", \"syncInputValue\"]\n              }\n            ],\n            \"INPUT.PASTE\": {\n              actions: [\"setPastedValue\", \"setLastValueFocusIndex\"]\n            },\n            \"INPUT.BLUR\": {\n              target: \"idle\",\n              actions: \"clearFocusedIndex\"\n            },\n            \"INPUT.DELETE\": {\n              guard: \"hasValue\",\n              actions: \"clearFocusedValue\"\n            },\n            \"INPUT.ARROW_LEFT\": {\n              actions: \"setPrevFocusedIndex\"\n            },\n            \"INPUT.ARROW_RIGHT\": {\n              actions: \"setNextFocusedIndex\"\n            },\n            \"INPUT.BACKSPACE\": [\n              {\n                guard: \"hasValue\",\n                actions: [\"clearFocusedValue\"]\n              },\n              {\n                actions: [\"setPrevFocusedIndex\", \"clearFocusedValue\"]\n              }\n            ],\n            \"INPUT.ENTER\": {\n              guard: \"isValueComplete\",\n              actions: \"requestFormSubmit\"\n            },\n            \"VALUE.INVALID\": {\n              actions: \"invokeOnInvalid\"\n            }\n          }\n        }\n      }\n    },\n    {\n      guards: {\n        autoFocus: (ctx2) => !!ctx2.autoFocus,\n        isValueEmpty: (_ctx, evt) => evt.value === \"\",\n        hasValue: (ctx2) => ctx2.value[ctx2.focusedIndex] !== \"\",\n        isValueComplete: (ctx2) => ctx2.isValueComplete,\n        isFinalValue: (ctx2) => ctx2.filledValueLength + 1 === ctx2.valueLength && ctx2.value.findIndex((v) => v.trim() === \"\") === ctx2.focusedIndex,\n        hasIndex: (_ctx, evt) => evt.index !== void 0,\n        isDisabled: (ctx2) => !!ctx2.disabled\n      },\n      actions: {\n        setupValue(ctx2) {\n          if (ctx2.value.length)\n            return;\n          const inputEls = dom.getInputEls(ctx2);\n          const emptyValues = Array.from({ length: inputEls.length }).fill(\"\");\n          assignValue(ctx2, emptyValues);\n        },\n        focusInput(ctx2) {\n          if (ctx2.focusedIndex === -1)\n            return;\n          dom.getFocusedInputEl(ctx2)?.focus({ preventScroll: true });\n        },\n        selectInputIfNeeded(ctx2) {\n          if (!ctx2.selectOnFocus || ctx2.focusedIndex === -1)\n            return;\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => {\n            dom.getFocusedInputEl(ctx2)?.select();\n          });\n        },\n        invokeOnComplete(ctx2) {\n          if (!ctx2.isValueComplete)\n            return;\n          ctx2.onValueComplete?.({\n            value: Array.from(ctx2.value),\n            valueAsString: ctx2.valueAsString\n          });\n        },\n        invokeOnInvalid(ctx2, evt) {\n          ctx2.onValueInvalid?.({\n            value: evt.value,\n            index: ctx2.focusedIndex\n          });\n        },\n        clearFocusedIndex(ctx2) {\n          ctx2.focusedIndex = -1;\n        },\n        setFocusedIndex(ctx2, evt) {\n          ctx2.focusedIndex = evt.index;\n        },\n        setValue(ctx2, evt) {\n          set.value(ctx2, evt.value);\n        },\n        setFocusedValue(ctx2, evt) {\n          const nextValue = getNextValue(ctx2.focusedValue, evt.value);\n          set.valueAtIndex(ctx2, ctx2.focusedIndex, nextValue);\n        },\n        revertInputValue(ctx2) {\n          const inputEl = dom.getFocusedInputEl(ctx2);\n          dom.setValue(inputEl, ctx2.focusedValue);\n        },\n        syncInputValue(ctx2, evt) {\n          const inputEl = dom.getInputEl(ctx2, evt.index.toString());\n          dom.setValue(inputEl, ctx2.value[evt.index]);\n        },\n        syncInputElements(ctx2) {\n          const inputEls = dom.getInputEls(ctx2);\n          inputEls.forEach((inputEl, index) => {\n            dom.setValue(inputEl, ctx2.value[index]);\n          });\n        },\n        setPastedValue(ctx2, evt) {\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => {\n            const startIndex = ctx2.focusedValue ? 1 : 0;\n            const value = evt.value.substring(startIndex, startIndex + ctx2.valueLength);\n            set.value(ctx2, value);\n          });\n        },\n        setValueAtIndex(ctx2, evt) {\n          const nextValue = getNextValue(ctx2.focusedValue, evt.value);\n          set.valueAtIndex(ctx2, evt.index, nextValue);\n        },\n        clearValue(ctx2) {\n          const nextValue = Array.from({ length: ctx2.valueLength }).fill(\"\");\n          set.value(ctx2, nextValue);\n        },\n        clearFocusedValue(ctx2) {\n          set.valueAtIndex(ctx2, ctx2.focusedIndex, \"\");\n        },\n        setFocusIndexToFirst(ctx2) {\n          ctx2.focusedIndex = 0;\n        },\n        setNextFocusedIndex(ctx2) {\n          ctx2.focusedIndex = Math.min(ctx2.focusedIndex + 1, ctx2.valueLength - 1);\n        },\n        setPrevFocusedIndex(ctx2) {\n          ctx2.focusedIndex = Math.max(ctx2.focusedIndex - 1, 0);\n        },\n        setLastValueFocusIndex(ctx2) {\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => {\n            ctx2.focusedIndex = Math.min(ctx2.filledValueLength, ctx2.valueLength - 1);\n          });\n        },\n        blurFocusedInputIfNeeded(ctx2) {\n          if (!ctx2.blurOnComplete)\n            return;\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => {\n            dom.getFocusedInputEl(ctx2)?.blur();\n          });\n        },\n        requestFormSubmit(ctx2) {\n          if (!ctx2.name || !ctx2.isValueComplete)\n            return;\n          const inputEl = dom.getHiddenInputEl(ctx2);\n          inputEl?.form?.requestSubmit();\n        }\n      }\n    }\n  );\n}\nfunction assignValue(ctx, value) {\n  const arr = Array.isArray(value) ? value : value.split(\"\").filter(Boolean);\n  arr.forEach((value2, index) => {\n    ctx.value[index] = value2;\n  });\n}\nfunction getNextValue(current, next) {\n  let nextValue = next;\n  if (current[0] === next[0])\n    nextValue = next[1];\n  else if (current[0] === next[1])\n    nextValue = next[0];\n  return nextValue.split(\"\")[nextValue.length - 1];\n}\nvar invoke = {\n  change(ctx) {\n    ctx.onValueChange?.({\n      value: Array.from(ctx.value),\n      valueAsString: ctx.valueAsString\n    });\n    const inputEl = dom.getHiddenInputEl(ctx);\n    (0,_zag_js_form_utils__WEBPACK_IMPORTED_MODULE_6__.dispatchInputValueEvent)(inputEl, { value: ctx.valueAsString });\n  }\n};\nvar set = {\n  value(ctx, value) {\n    if ((0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.isEqual)(ctx.value, value))\n      return;\n    assignValue(ctx, value);\n    invoke.change(ctx);\n  },\n  valueAtIndex(ctx, index, value) {\n    if ((0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.isEqual)(ctx.value[index], value))\n      return;\n    ctx.value[index] = value;\n    invoke.change(ctx);\n  }\n};\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9waW4taW5wdXQvZGlzdC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ2dEO0FBQ2hELGNBQWMsOERBQWE7QUFDM0I7O0FBRUE7QUFDaUY7QUFDTDtBQUNsQztBQUNvQjs7QUFFOUQ7QUFDMEQ7QUFDMUQsVUFBVSw4REFBVztBQUNyQixvREFBb0QsT0FBTztBQUMzRCxnRUFBZ0UsT0FBTyxHQUFHLEdBQUc7QUFDN0Usa0VBQWtFLE9BQU87QUFDekUsc0RBQXNELE9BQU87QUFDN0QsMERBQTBELE9BQU87QUFDakU7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLFFBQVE7QUFDbkQsV0FBVywyREFBUTtBQUNuQixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHdEQUFTO0FBQ2pCO0FBQ0EsYUFBYSwwQkFBMEI7QUFDdkMsS0FBSztBQUNMO0FBQ0EsYUFBYSxxQkFBcUI7QUFDbEMsS0FBSztBQUNMO0FBQ0EsYUFBYSxpQ0FBaUM7QUFDOUMsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDJEQUFRO0FBQzlCLHVCQUF1QiwyREFBUTtBQUMvQix1QkFBdUIsMkRBQVE7QUFDL0IsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsMkRBQVE7QUFDOUIsdUJBQXVCLDJEQUFRO0FBQy9CLHVCQUF1QiwyREFBUTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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Q0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0EsVUFBVSxzREFBRztBQUNiO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EseUNBQXlDLDBCQUEwQjtBQUNuRTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsVUFBVSxzREFBRztBQUNiO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxVQUFVLHNEQUFHO0FBQ2I7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLElBQUksMkVBQXVCLFlBQVksMEJBQTBCO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzREFBTztBQUNmO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLFFBQVEsc0RBQU87QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0U7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL0BwYXJrLXVpL2V4YW1wbGVzLXJlYWN0LW5leHQtanMvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9waW4taW5wdXQvZGlzdC9pbmRleC5tanM/ZjU3MCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvcGluLWlucHV0LmFuYXRvbXkudHNcbmltcG9ydCB7IGNyZWF0ZUFuYXRvbXkgfSBmcm9tIFwiQHphZy1qcy9hbmF0b215XCI7XG52YXIgYW5hdG9teSA9IGNyZWF0ZUFuYXRvbXkoXCJwaW5JbnB1dFwiKS5wYXJ0cyhcInJvb3RcIiwgXCJsYWJlbFwiLCBcImlucHV0XCIsIFwiY29udHJvbFwiKTtcbnZhciBwYXJ0cyA9IGFuYXRvbXkuYnVpbGQoKTtcblxuLy8gc3JjL3Bpbi1pbnB1dC5jb25uZWN0LnRzXG5pbXBvcnQgeyBnZXRFdmVudEtleSwgZ2V0TmF0aXZlRXZlbnQsIGlzTW9kaWZpZWRFdmVudCB9IGZyb20gXCJAemFnLWpzL2RvbS1ldmVudFwiO1xuaW1wb3J0IHsgYXJpYUF0dHIsIGRhdGFBdHRyLCBnZXRCZWZvcmVJbnB1dFZhbHVlIH0gZnJvbSBcIkB6YWctanMvZG9tLXF1ZXJ5XCI7XG5pbXBvcnQgeyBpbnZhcmlhbnQgfSBmcm9tIFwiQHphZy1qcy91dGlsc1wiO1xuaW1wb3J0IHsgdmlzdWFsbHlIaWRkZW5TdHlsZSB9IGZyb20gXCJAemFnLWpzL3Zpc3VhbGx5LWhpZGRlblwiO1xuXG4vLyBzcmMvcGluLWlucHV0LmRvbS50c1xuaW1wb3J0IHsgY3JlYXRlU2NvcGUsIHF1ZXJ5QWxsIH0gZnJvbSBcIkB6YWctanMvZG9tLXF1ZXJ5XCI7XG52YXIgZG9tID0gY3JlYXRlU2NvcGUoe1xuICBnZXRSb290SWQ6IChjdHgpID0+IGN0eC5pZHM/LnJvb3QgPz8gYHBpbi1pbnB1dDoke2N0eC5pZH1gLFxuICBnZXRJbnB1dElkOiAoY3R4LCBpZCkgPT4gY3R4Lmlkcz8uaW5wdXQ/LihpZCkgPz8gYHBpbi1pbnB1dDoke2N0eC5pZH06JHtpZH1gLFxuICBnZXRIaWRkZW5JbnB1dElkOiAoY3R4KSA9PiBjdHguaWRzPy5oaWRkZW5JbnB1dCA/PyBgcGluLWlucHV0OiR7Y3R4LmlkfTpoaWRkZW5gLFxuICBnZXRMYWJlbElkOiAoY3R4KSA9PiBjdHguaWRzPy5sYWJlbCA/PyBgcGluLWlucHV0OiR7Y3R4LmlkfTpsYWJlbGAsXG4gIGdldENvbnRyb2xJZDogKGN0eCkgPT4gY3R4Lmlkcz8uY29udHJvbCA/PyBgcGluLWlucHV0OiR7Y3R4LmlkfTpjb250cm9sYCxcbiAgZ2V0Um9vdEVsOiAoY3R4KSA9PiBkb20uZ2V0QnlJZChjdHgsIGRvbS5nZXRSb290SWQoY3R4KSksXG4gIGdldElucHV0RWxzOiAoY3R4KSA9PiB7XG4gICAgY29uc3Qgb3duZXJJZCA9IENTUy5lc2NhcGUoZG9tLmdldFJvb3RJZChjdHgpKTtcbiAgICBjb25zdCBzZWxlY3RvciA9IGBpbnB1dFtkYXRhLW93bmVkYnk9JHtvd25lcklkfV1gO1xuICAgIHJldHVybiBxdWVyeUFsbChkb20uZ2V0Um9vdEVsKGN0eCksIHNlbGVjdG9yKTtcbiAgfSxcbiAgZ2V0SW5wdXRFbDogKGN0eCwgaWQpID0+IGRvbS5nZXRCeUlkKGN0eCwgZG9tLmdldElucHV0SWQoY3R4LCBpZCkpLFxuICBnZXRGb2N1c2VkSW5wdXRFbDogKGN0eCkgPT4gZG9tLmdldElucHV0RWxzKGN0eClbY3R4LmZvY3VzZWRJbmRleF0sXG4gIGdldEZpcnN0SW5wdXRFbDogKGN0eCkgPT4gZG9tLmdldElucHV0RWxzKGN0eClbMF0sXG4gIGdldEhpZGRlbklucHV0RWw6IChjdHgpID0+IGRvbS5nZXRCeUlkKGN0eCwgZG9tLmdldEhpZGRlbklucHV0SWQoY3R4KSlcbn0pO1xuXG4vLyBzcmMvcGluLWlucHV0LnV0aWxzLnRzXG52YXIgUkVHRVggPSB7XG4gIG51bWVyaWM6IC9eWzAtOV0rJC8sXG4gIGFscGhhYmV0aWM6IC9eW0EtWmEtel0rJC8sXG4gIGFscGhhbnVtZXJpYzogL15bYS16QS1aMC05XSskL2lcbn07XG5mdW5jdGlvbiBpc1ZhbGlkVHlwZShjdHgsIHZhbHVlKSB7XG4gIGlmICghY3R4LnR5cGUpXG4gICAgcmV0dXJuIHRydWU7XG4gIHJldHVybiAhIVJFR0VYW2N0eC50eXBlXT8udGVzdCh2YWx1ZSk7XG59XG5mdW5jdGlvbiBpc1ZhbGlkVmFsdWUoY3R4LCB2YWx1ZSkge1xuICBpZiAoIWN0eC5wYXR0ZXJuKVxuICAgIHJldHVybiBpc1ZhbGlkVHlwZShjdHgsIHZhbHVlKTtcbiAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKGN0eC5wYXR0ZXJuLCBcImdcIik7XG4gIHJldHVybiByZWdleC50ZXN0KHZhbHVlKTtcbn1cblxuLy8gc3JjL3Bpbi1pbnB1dC5jb25uZWN0LnRzXG5mdW5jdGlvbiBjb25uZWN0KHN0YXRlLCBzZW5kLCBub3JtYWxpemUpIHtcbiAgY29uc3QgaXNWYWx1ZUNvbXBsZXRlID0gc3RhdGUuY29udGV4dC5pc1ZhbHVlQ29tcGxldGU7XG4gIGNvbnN0IGlzSW52YWxpZCA9IHN0YXRlLmNvbnRleHQuaW52YWxpZDtcbiAgY29uc3QgZm9jdXNlZEluZGV4ID0gc3RhdGUuY29udGV4dC5mb2N1c2VkSW5kZXg7XG4gIGNvbnN0IHRyYW5zbGF0aW9ucyA9IHN0YXRlLmNvbnRleHQudHJhbnNsYXRpb25zO1xuICBmdW5jdGlvbiBmb2N1cygpIHtcbiAgICBkb20uZ2V0Rmlyc3RJbnB1dEVsKHN0YXRlLmNvbnRleHQpPy5mb2N1cygpO1xuICB9XG4gIHJldHVybiB7XG4gICAgZm9jdXMsXG4gICAgdmFsdWU6IHN0YXRlLmNvbnRleHQudmFsdWUsXG4gICAgdmFsdWVBc1N0cmluZzogc3RhdGUuY29udGV4dC52YWx1ZUFzU3RyaW5nLFxuICAgIGlzVmFsdWVDb21wbGV0ZSxcbiAgICBzZXRWYWx1ZSh2YWx1ZSkge1xuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICBpbnZhcmlhbnQoXCJbcGluLWlucHV0L3NldFZhbHVlXSB2YWx1ZSBtdXN0IGJlIGFuIGFycmF5XCIpO1xuICAgICAgfVxuICAgICAgc2VuZCh7IHR5cGU6IFwiVkFMVUUuU0VUXCIsIHZhbHVlIH0pO1xuICAgIH0sXG4gICAgY2xlYXJWYWx1ZSgpIHtcbiAgICAgIHNlbmQoeyB0eXBlOiBcIlZBTFVFLkNMRUFSXCIgfSk7XG4gICAgfSxcbiAgICBzZXRWYWx1ZUF0SW5kZXgoaW5kZXgsIHZhbHVlKSB7XG4gICAgICBzZW5kKHsgdHlwZTogXCJWQUxVRS5TRVRcIiwgdmFsdWUsIGluZGV4IH0pO1xuICAgIH0sXG4gICAgcm9vdFByb3BzOiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgLi4ucGFydHMucm9vdC5hdHRycyxcbiAgICAgIGlkOiBkb20uZ2V0Um9vdElkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgXCJkYXRhLWludmFsaWRcIjogZGF0YUF0dHIoaXNJbnZhbGlkKSxcbiAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihzdGF0ZS5jb250ZXh0LmRpc2FibGVkKSxcbiAgICAgIFwiZGF0YS1jb21wbGV0ZVwiOiBkYXRhQXR0cihpc1ZhbHVlQ29tcGxldGUpXG4gICAgfSksXG4gICAgbGFiZWxQcm9wczogbm9ybWFsaXplLmxhYmVsKHtcbiAgICAgIC4uLnBhcnRzLmxhYmVsLmF0dHJzLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIGh0bWxGb3I6IGRvbS5nZXRIaWRkZW5JbnB1dElkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgaWQ6IGRvbS5nZXRMYWJlbElkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgXCJkYXRhLWludmFsaWRcIjogZGF0YUF0dHIoaXNJbnZhbGlkKSxcbiAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihzdGF0ZS5jb250ZXh0LmRpc2FibGVkKSxcbiAgICAgIFwiZGF0YS1jb21wbGV0ZVwiOiBkYXRhQXR0cihpc1ZhbHVlQ29tcGxldGUpLFxuICAgICAgb25DbGljayhldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBmb2N1cygpO1xuICAgICAgfVxuICAgIH0pLFxuICAgIGhpZGRlbklucHV0UHJvcHM6IG5vcm1hbGl6ZS5pbnB1dCh7XG4gICAgICBcImFyaWEtaGlkZGVuXCI6IHRydWUsXG4gICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgIHRhYkluZGV4OiAtMSxcbiAgICAgIGlkOiBkb20uZ2V0SGlkZGVuSW5wdXRJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIG5hbWU6IHN0YXRlLmNvbnRleHQubmFtZSxcbiAgICAgIGZvcm06IHN0YXRlLmNvbnRleHQuZm9ybSxcbiAgICAgIHN0eWxlOiB2aXN1YWxseUhpZGRlblN0eWxlLFxuICAgICAgbWF4TGVuZ3RoOiBzdGF0ZS5jb250ZXh0LnZhbHVlTGVuZ3RoLFxuICAgICAgZGVmYXVsdFZhbHVlOiBzdGF0ZS5jb250ZXh0LnZhbHVlQXNTdHJpbmdcbiAgICB9KSxcbiAgICBjb250cm9sUHJvcHM6IG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgIC4uLnBhcnRzLmNvbnRyb2wuYXR0cnMsXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgaWQ6IGRvbS5nZXRDb250cm9sSWQoc3RhdGUuY29udGV4dClcbiAgICB9KSxcbiAgICBnZXRJbnB1dFByb3BzKHByb3BzKSB7XG4gICAgICBjb25zdCB7IGluZGV4IH0gPSBwcm9wcztcbiAgICAgIGNvbnN0IGlucHV0VHlwZSA9IHN0YXRlLmNvbnRleHQudHlwZSA9PT0gXCJudW1lcmljXCIgPyBcInRlbFwiIDogXCJ0ZXh0XCI7XG4gICAgICByZXR1cm4gbm9ybWFsaXplLmlucHV0KHtcbiAgICAgICAgLi4ucGFydHMuaW5wdXQuYXR0cnMsXG4gICAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICAgIGRpc2FibGVkOiBzdGF0ZS5jb250ZXh0LmRpc2FibGVkLFxuICAgICAgICBcImRhdGEtZGlzYWJsZWRcIjogZGF0YUF0dHIoc3RhdGUuY29udGV4dC5kaXNhYmxlZCksXG4gICAgICAgIFwiZGF0YS1jb21wbGV0ZVwiOiBkYXRhQXR0cihpc1ZhbHVlQ29tcGxldGUpLFxuICAgICAgICBpZDogZG9tLmdldElucHV0SWQoc3RhdGUuY29udGV4dCwgaW5kZXgudG9TdHJpbmcoKSksXG4gICAgICAgIFwiZGF0YS1vd25lZGJ5XCI6IGRvbS5nZXRSb290SWQoc3RhdGUuY29udGV4dCksXG4gICAgICAgIFwiYXJpYS1sYWJlbFwiOiB0cmFuc2xhdGlvbnMuaW5wdXRMYWJlbChpbmRleCwgc3RhdGUuY29udGV4dC52YWx1ZUxlbmd0aCksXG4gICAgICAgIGlucHV0TW9kZTogc3RhdGUuY29udGV4dC5vdHAgfHwgc3RhdGUuY29udGV4dC50eXBlID09PSBcIm51bWVyaWNcIiA/IFwibnVtZXJpY1wiIDogXCJ0ZXh0XCIsXG4gICAgICAgIFwiYXJpYS1pbnZhbGlkXCI6IGFyaWFBdHRyKGlzSW52YWxpZCksXG4gICAgICAgIFwiZGF0YS1pbnZhbGlkXCI6IGRhdGFBdHRyKGlzSW52YWxpZCksXG4gICAgICAgIHR5cGU6IHN0YXRlLmNvbnRleHQubWFzayA/IFwicGFzc3dvcmRcIiA6IGlucHV0VHlwZSxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBzdGF0ZS5jb250ZXh0LnZhbHVlW2luZGV4XSB8fCBcIlwiLFxuICAgICAgICBhdXRvQ2FwaXRhbGl6ZTogXCJub25lXCIsXG4gICAgICAgIGF1dG9Db21wbGV0ZTogc3RhdGUuY29udGV4dC5vdHAgPyBcIm9uZS10aW1lLWNvZGVcIiA6IFwib2ZmXCIsXG4gICAgICAgIHBsYWNlaG9sZGVyOiBmb2N1c2VkSW5kZXggPT09IGluZGV4ID8gXCJcIiA6IHN0YXRlLmNvbnRleHQucGxhY2Vob2xkZXIsXG4gICAgICAgIG9uQmVmb3JlSW5wdXQoZXZlbnQpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBnZXRCZWZvcmVJbnB1dFZhbHVlKGV2ZW50KTtcbiAgICAgICAgICAgIGNvbnN0IGlzVmFsaWQgPSBpc1ZhbGlkVmFsdWUoc3RhdGUuY29udGV4dCwgdmFsdWUpO1xuICAgICAgICAgICAgaWYgKCFpc1ZhbGlkKSB7XG4gICAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIlZBTFVFLklOVkFMSURcIiwgdmFsdWUgfSk7XG4gICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbkNoYW5nZShldmVudCkge1xuICAgICAgICAgIGNvbnN0IGV2dCA9IGdldE5hdGl2ZUV2ZW50KGV2ZW50KTtcbiAgICAgICAgICBjb25zdCB7IHZhbHVlIH0gPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuICAgICAgICAgIGlmIChldnQuaW5wdXRUeXBlID09PSBcImluc2VydEZyb21QYXN0ZVwiIHx8IHZhbHVlLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIklOUFVULlBBU1RFXCIsIHZhbHVlIH0pO1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGV2dC5pbnB1dFR5cGUgPT09IFwiZGVsZXRlQ29udGVudEJhY2t3YXJkXCIpIHtcbiAgICAgICAgICAgIHNlbmQoXCJJTlBVVC5CQUNLU1BBQ0VcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIklOUFVULkNIQU5HRVwiLCB2YWx1ZSwgaW5kZXggfSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uS2V5RG93bihldmVudCkge1xuICAgICAgICAgIGNvbnN0IGV2dCA9IGdldE5hdGl2ZUV2ZW50KGV2ZW50KTtcbiAgICAgICAgICBpZiAoaXNNb2RpZmllZEV2ZW50KGV2dCkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgY29uc3Qga2V5TWFwID0ge1xuICAgICAgICAgICAgQmFja3NwYWNlKCkge1xuICAgICAgICAgICAgICBzZW5kKFwiSU5QVVQuQkFDS1NQQUNFXCIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIERlbGV0ZSgpIHtcbiAgICAgICAgICAgICAgc2VuZChcIklOUFVULkRFTEVURVwiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBBcnJvd0xlZnQoKSB7XG4gICAgICAgICAgICAgIHNlbmQoXCJJTlBVVC5BUlJPV19MRUZUXCIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIEFycm93UmlnaHQoKSB7XG4gICAgICAgICAgICAgIHNlbmQoXCJJTlBVVC5BUlJPV19SSUdIVFwiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBFbnRlcigpIHtcbiAgICAgICAgICAgICAgc2VuZChcIklOUFVULkVOVEVSXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgZXhlYyA9IGtleU1hcFtnZXRFdmVudEtleShldmVudCwgc3RhdGUuY29udGV4dCldO1xuICAgICAgICAgIGlmIChleGVjKSB7XG4gICAgICAgICAgICBleGVjKGV2ZW50KTtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbkZvY3VzKCkge1xuICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIklOUFVULkZPQ1VTXCIsIGluZGV4IH0pO1xuICAgICAgICB9LFxuICAgICAgICBvbkJsdXIoKSB7XG4gICAgICAgICAgc2VuZCh7IHR5cGU6IFwiSU5QVVQuQkxVUlwiLCBpbmRleCB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufVxuXG4vLyBzcmMvcGluLWlucHV0Lm1hY2hpbmUudHNcbmltcG9ydCB7IGNob29zZSwgY3JlYXRlTWFjaGluZSB9IGZyb20gXCJAemFnLWpzL2NvcmVcIjtcbmltcG9ydCB7IHJhZiB9IGZyb20gXCJAemFnLWpzL2RvbS1xdWVyeVwiO1xuaW1wb3J0IHsgZGlzcGF0Y2hJbnB1dFZhbHVlRXZlbnQgfSBmcm9tIFwiQHphZy1qcy9mb3JtLXV0aWxzXCI7XG5pbXBvcnQgeyBjb21wYWN0LCBpc0VxdWFsIH0gZnJvbSBcIkB6YWctanMvdXRpbHNcIjtcbmZ1bmN0aW9uIG1hY2hpbmUodXNlckNvbnRleHQpIHtcbiAgY29uc3QgY3R4ID0gY29tcGFjdCh1c2VyQ29udGV4dCk7XG4gIHJldHVybiBjcmVhdGVNYWNoaW5lKFxuICAgIHtcbiAgICAgIGlkOiBcInBpbi1pbnB1dFwiLFxuICAgICAgaW5pdGlhbDogXCJpZGxlXCIsXG4gICAgICBjb250ZXh0OiB7XG4gICAgICAgIHZhbHVlOiBbXSxcbiAgICAgICAgZm9jdXNlZEluZGV4OiAtMSxcbiAgICAgICAgcGxhY2Vob2xkZXI6IFwiXFx1MjVDQlwiLFxuICAgICAgICBvdHA6IGZhbHNlLFxuICAgICAgICB0eXBlOiBcIm51bWVyaWNcIixcbiAgICAgICAgLi4uY3R4LFxuICAgICAgICB0cmFuc2xhdGlvbnM6IHtcbiAgICAgICAgICBpbnB1dExhYmVsOiAoaW5kZXgsIGxlbmd0aCkgPT4gYHBpbiBjb2RlICR7aW5kZXggKyAxfSBvZiAke2xlbmd0aH1gLFxuICAgICAgICAgIC4uLmN0eC50cmFuc2xhdGlvbnNcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNvbXB1dGVkOiB7XG4gICAgICAgIHZhbHVlTGVuZ3RoOiAoY3R4MikgPT4gY3R4Mi52YWx1ZS5sZW5ndGgsXG4gICAgICAgIGZpbGxlZFZhbHVlTGVuZ3RoOiAoY3R4MikgPT4gY3R4Mi52YWx1ZS5maWx0ZXIoKHYpID0+IHY/LnRyaW0oKSAhPT0gXCJcIikubGVuZ3RoLFxuICAgICAgICBpc1ZhbHVlQ29tcGxldGU6IChjdHgyKSA9PiBjdHgyLnZhbHVlTGVuZ3RoID09PSBjdHgyLmZpbGxlZFZhbHVlTGVuZ3RoLFxuICAgICAgICB2YWx1ZUFzU3RyaW5nOiAoY3R4MikgPT4gY3R4Mi52YWx1ZS5qb2luKFwiXCIpLFxuICAgICAgICBmb2N1c2VkVmFsdWU6IChjdHgyKSA9PiBjdHgyLnZhbHVlW2N0eDIuZm9jdXNlZEluZGV4XSB8fCBcIlwiXG4gICAgICB9LFxuICAgICAgZW50cnk6IGNob29zZShbXG4gICAgICAgIHtcbiAgICAgICAgICBndWFyZDogXCJhdXRvRm9jdXNcIixcbiAgICAgICAgICBhY3Rpb25zOiBbXCJzZXR1cFZhbHVlXCIsIFwic2V0Rm9jdXNJbmRleFRvRmlyc3RcIl1cbiAgICAgICAgfSxcbiAgICAgICAgeyBhY3Rpb25zOiBbXCJzZXR1cFZhbHVlXCJdIH1cbiAgICAgIF0pLFxuICAgICAgd2F0Y2g6IHtcbiAgICAgICAgZm9jdXNlZEluZGV4OiBbXCJmb2N1c0lucHV0XCIsIFwic2VsZWN0SW5wdXRJZk5lZWRlZFwiXSxcbiAgICAgICAgdmFsdWU6IFtcInN5bmNJbnB1dEVsZW1lbnRzXCJdLFxuICAgICAgICBpc1ZhbHVlQ29tcGxldGU6IFtcImludm9rZU9uQ29tcGxldGVcIiwgXCJibHVyRm9jdXNlZElucHV0SWZOZWVkZWRcIl1cbiAgICAgIH0sXG4gICAgICBvbjoge1xuICAgICAgICBcIlZBTFVFLlNFVFwiOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZ3VhcmQ6IFwiaGFzSW5kZXhcIixcbiAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldFZhbHVlQXRJbmRleFwiXVxuICAgICAgICAgIH0sXG4gICAgICAgICAgeyBhY3Rpb25zOiBbXCJzZXRWYWx1ZVwiXSB9XG4gICAgICAgIF0sXG4gICAgICAgIFwiVkFMVUUuQ0xFQVJcIjoge1xuICAgICAgICAgIGFjdGlvbnM6IFtcImNsZWFyVmFsdWVcIiwgXCJzZXRGb2N1c0luZGV4VG9GaXJzdFwiXVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgc3RhdGVzOiB7XG4gICAgICAgIGlkbGU6IHtcbiAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgXCJJTlBVVC5GT0NVU1wiOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJmb2N1c2VkXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFwic2V0Rm9jdXNlZEluZGV4XCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGZvY3VzZWQ6IHtcbiAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgXCJJTlBVVC5DSEFOR0VcIjogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ3VhcmQ6IFwiaXNGaW5hbFZhbHVlXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogW1wic2V0Rm9jdXNlZFZhbHVlXCIsIFwic3luY0lucHV0VmFsdWVcIl1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldEZvY3VzZWRWYWx1ZVwiLCBcInNldE5leHRGb2N1c2VkSW5kZXhcIiwgXCJzeW5jSW5wdXRWYWx1ZVwiXVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJJTlBVVC5QQVNURVwiOiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldFBhc3RlZFZhbHVlXCIsIFwic2V0TGFzdFZhbHVlRm9jdXNJbmRleFwiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiSU5QVVQuQkxVUlwiOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJpZGxlXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFwiY2xlYXJGb2N1c2VkSW5kZXhcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiSU5QVVQuREVMRVRFXCI6IHtcbiAgICAgICAgICAgICAgZ3VhcmQ6IFwiaGFzVmFsdWVcIixcbiAgICAgICAgICAgICAgYWN0aW9uczogXCJjbGVhckZvY3VzZWRWYWx1ZVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJJTlBVVC5BUlJPV19MRUZUXCI6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogXCJzZXRQcmV2Rm9jdXNlZEluZGV4XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIklOUFVULkFSUk9XX1JJR0hUXCI6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogXCJzZXROZXh0Rm9jdXNlZEluZGV4XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIklOUFVULkJBQ0tTUEFDRVwiOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBndWFyZDogXCJoYXNWYWx1ZVwiLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFtcImNsZWFyRm9jdXNlZFZhbHVlXCJdXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRQcmV2Rm9jdXNlZEluZGV4XCIsIFwiY2xlYXJGb2N1c2VkVmFsdWVcIl1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwiSU5QVVQuRU5URVJcIjoge1xuICAgICAgICAgICAgICBndWFyZDogXCJpc1ZhbHVlQ29tcGxldGVcIixcbiAgICAgICAgICAgICAgYWN0aW9uczogXCJyZXF1ZXN0Rm9ybVN1Ym1pdFwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJWQUxVRS5JTlZBTElEXCI6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogXCJpbnZva2VPbkludmFsaWRcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgZ3VhcmRzOiB7XG4gICAgICAgIGF1dG9Gb2N1czogKGN0eDIpID0+ICEhY3R4Mi5hdXRvRm9jdXMsXG4gICAgICAgIGlzVmFsdWVFbXB0eTogKF9jdHgsIGV2dCkgPT4gZXZ0LnZhbHVlID09PSBcIlwiLFxuICAgICAgICBoYXNWYWx1ZTogKGN0eDIpID0+IGN0eDIudmFsdWVbY3R4Mi5mb2N1c2VkSW5kZXhdICE9PSBcIlwiLFxuICAgICAgICBpc1ZhbHVlQ29tcGxldGU6IChjdHgyKSA9PiBjdHgyLmlzVmFsdWVDb21wbGV0ZSxcbiAgICAgICAgaXNGaW5hbFZhbHVlOiAoY3R4MikgPT4gY3R4Mi5maWxsZWRWYWx1ZUxlbmd0aCArIDEgPT09IGN0eDIudmFsdWVMZW5ndGggJiYgY3R4Mi52YWx1ZS5maW5kSW5kZXgoKHYpID0+IHYudHJpbSgpID09PSBcIlwiKSA9PT0gY3R4Mi5mb2N1c2VkSW5kZXgsXG4gICAgICAgIGhhc0luZGV4OiAoX2N0eCwgZXZ0KSA9PiBldnQuaW5kZXggIT09IHZvaWQgMCxcbiAgICAgICAgaXNEaXNhYmxlZDogKGN0eDIpID0+ICEhY3R4Mi5kaXNhYmxlZFxuICAgICAgfSxcbiAgICAgIGFjdGlvbnM6IHtcbiAgICAgICAgc2V0dXBWYWx1ZShjdHgyKSB7XG4gICAgICAgICAgaWYgKGN0eDIudmFsdWUubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IGlucHV0RWxzID0gZG9tLmdldElucHV0RWxzKGN0eDIpO1xuICAgICAgICAgIGNvbnN0IGVtcHR5VmFsdWVzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogaW5wdXRFbHMubGVuZ3RoIH0pLmZpbGwoXCJcIik7XG4gICAgICAgICAgYXNzaWduVmFsdWUoY3R4MiwgZW1wdHlWYWx1ZXMpO1xuICAgICAgICB9LFxuICAgICAgICBmb2N1c0lucHV0KGN0eDIpIHtcbiAgICAgICAgICBpZiAoY3R4Mi5mb2N1c2VkSW5kZXggPT09IC0xKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGRvbS5nZXRGb2N1c2VkSW5wdXRFbChjdHgyKT8uZm9jdXMoeyBwcmV2ZW50U2Nyb2xsOiB0cnVlIH0pO1xuICAgICAgICB9LFxuICAgICAgICBzZWxlY3RJbnB1dElmTmVlZGVkKGN0eDIpIHtcbiAgICAgICAgICBpZiAoIWN0eDIuc2VsZWN0T25Gb2N1cyB8fCBjdHgyLmZvY3VzZWRJbmRleCA9PT0gLTEpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgcmFmKCgpID0+IHtcbiAgICAgICAgICAgIGRvbS5nZXRGb2N1c2VkSW5wdXRFbChjdHgyKT8uc2VsZWN0KCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGludm9rZU9uQ29tcGxldGUoY3R4Mikge1xuICAgICAgICAgIGlmICghY3R4Mi5pc1ZhbHVlQ29tcGxldGUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgY3R4Mi5vblZhbHVlQ29tcGxldGU/Lih7XG4gICAgICAgICAgICB2YWx1ZTogQXJyYXkuZnJvbShjdHgyLnZhbHVlKSxcbiAgICAgICAgICAgIHZhbHVlQXNTdHJpbmc6IGN0eDIudmFsdWVBc1N0cmluZ1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBpbnZva2VPbkludmFsaWQoY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgY3R4Mi5vblZhbHVlSW52YWxpZD8uKHtcbiAgICAgICAgICAgIHZhbHVlOiBldnQudmFsdWUsXG4gICAgICAgICAgICBpbmRleDogY3R4Mi5mb2N1c2VkSW5kZXhcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xlYXJGb2N1c2VkSW5kZXgoY3R4Mikge1xuICAgICAgICAgIGN0eDIuZm9jdXNlZEluZGV4ID0gLTE7XG4gICAgICAgIH0sXG4gICAgICAgIHNldEZvY3VzZWRJbmRleChjdHgyLCBldnQpIHtcbiAgICAgICAgICBjdHgyLmZvY3VzZWRJbmRleCA9IGV2dC5pbmRleDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0VmFsdWUoY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgc2V0LnZhbHVlKGN0eDIsIGV2dC52YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldEZvY3VzZWRWYWx1ZShjdHgyLCBldnQpIHtcbiAgICAgICAgICBjb25zdCBuZXh0VmFsdWUgPSBnZXROZXh0VmFsdWUoY3R4Mi5mb2N1c2VkVmFsdWUsIGV2dC52YWx1ZSk7XG4gICAgICAgICAgc2V0LnZhbHVlQXRJbmRleChjdHgyLCBjdHgyLmZvY3VzZWRJbmRleCwgbmV4dFZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmV2ZXJ0SW5wdXRWYWx1ZShjdHgyKSB7XG4gICAgICAgICAgY29uc3QgaW5wdXRFbCA9IGRvbS5nZXRGb2N1c2VkSW5wdXRFbChjdHgyKTtcbiAgICAgICAgICBkb20uc2V0VmFsdWUoaW5wdXRFbCwgY3R4Mi5mb2N1c2VkVmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBzeW5jSW5wdXRWYWx1ZShjdHgyLCBldnQpIHtcbiAgICAgICAgICBjb25zdCBpbnB1dEVsID0gZG9tLmdldElucHV0RWwoY3R4MiwgZXZ0LmluZGV4LnRvU3RyaW5nKCkpO1xuICAgICAgICAgIGRvbS5zZXRWYWx1ZShpbnB1dEVsLCBjdHgyLnZhbHVlW2V2dC5pbmRleF0pO1xuICAgICAgICB9LFxuICAgICAgICBzeW5jSW5wdXRFbGVtZW50cyhjdHgyKSB7XG4gICAgICAgICAgY29uc3QgaW5wdXRFbHMgPSBkb20uZ2V0SW5wdXRFbHMoY3R4Mik7XG4gICAgICAgICAgaW5wdXRFbHMuZm9yRWFjaCgoaW5wdXRFbCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGRvbS5zZXRWYWx1ZShpbnB1dEVsLCBjdHgyLnZhbHVlW2luZGV4XSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFBhc3RlZFZhbHVlKGN0eDIsIGV2dCkge1xuICAgICAgICAgIHJhZigoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzdGFydEluZGV4ID0gY3R4Mi5mb2N1c2VkVmFsdWUgPyAxIDogMDtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZXZ0LnZhbHVlLnN1YnN0cmluZyhzdGFydEluZGV4LCBzdGFydEluZGV4ICsgY3R4Mi52YWx1ZUxlbmd0aCk7XG4gICAgICAgICAgICBzZXQudmFsdWUoY3R4MiwgdmFsdWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBzZXRWYWx1ZUF0SW5kZXgoY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgY29uc3QgbmV4dFZhbHVlID0gZ2V0TmV4dFZhbHVlKGN0eDIuZm9jdXNlZFZhbHVlLCBldnQudmFsdWUpO1xuICAgICAgICAgIHNldC52YWx1ZUF0SW5kZXgoY3R4MiwgZXZ0LmluZGV4LCBuZXh0VmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBjbGVhclZhbHVlKGN0eDIpIHtcbiAgICAgICAgICBjb25zdCBuZXh0VmFsdWUgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiBjdHgyLnZhbHVlTGVuZ3RoIH0pLmZpbGwoXCJcIik7XG4gICAgICAgICAgc2V0LnZhbHVlKGN0eDIsIG5leHRWYWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGNsZWFyRm9jdXNlZFZhbHVlKGN0eDIpIHtcbiAgICAgICAgICBzZXQudmFsdWVBdEluZGV4KGN0eDIsIGN0eDIuZm9jdXNlZEluZGV4LCBcIlwiKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0Rm9jdXNJbmRleFRvRmlyc3QoY3R4Mikge1xuICAgICAgICAgIGN0eDIuZm9jdXNlZEluZGV4ID0gMDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0TmV4dEZvY3VzZWRJbmRleChjdHgyKSB7XG4gICAgICAgICAgY3R4Mi5mb2N1c2VkSW5kZXggPSBNYXRoLm1pbihjdHgyLmZvY3VzZWRJbmRleCArIDEsIGN0eDIudmFsdWVMZW5ndGggLSAxKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0UHJldkZvY3VzZWRJbmRleChjdHgyKSB7XG4gICAgICAgICAgY3R4Mi5mb2N1c2VkSW5kZXggPSBNYXRoLm1heChjdHgyLmZvY3VzZWRJbmRleCAtIDEsIDApO1xuICAgICAgICB9LFxuICAgICAgICBzZXRMYXN0VmFsdWVGb2N1c0luZGV4KGN0eDIpIHtcbiAgICAgICAgICByYWYoKCkgPT4ge1xuICAgICAgICAgICAgY3R4Mi5mb2N1c2VkSW5kZXggPSBNYXRoLm1pbihjdHgyLmZpbGxlZFZhbHVlTGVuZ3RoLCBjdHgyLnZhbHVlTGVuZ3RoIC0gMSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGJsdXJGb2N1c2VkSW5wdXRJZk5lZWRlZChjdHgyKSB7XG4gICAgICAgICAgaWYgKCFjdHgyLmJsdXJPbkNvbXBsZXRlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIHJhZigoKSA9PiB7XG4gICAgICAgICAgICBkb20uZ2V0Rm9jdXNlZElucHV0RWwoY3R4Mik/LmJsdXIoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVxdWVzdEZvcm1TdWJtaXQoY3R4Mikge1xuICAgICAgICAgIGlmICghY3R4Mi5uYW1lIHx8ICFjdHgyLmlzVmFsdWVDb21wbGV0ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjb25zdCBpbnB1dEVsID0gZG9tLmdldEhpZGRlbklucHV0RWwoY3R4Mik7XG4gICAgICAgICAgaW5wdXRFbD8uZm9ybT8ucmVxdWVzdFN1Ym1pdCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICApO1xufVxuZnVuY3Rpb24gYXNzaWduVmFsdWUoY3R4LCB2YWx1ZSkge1xuICBjb25zdCBhcnIgPSBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogdmFsdWUuc3BsaXQoXCJcIikuZmlsdGVyKEJvb2xlYW4pO1xuICBhcnIuZm9yRWFjaCgodmFsdWUyLCBpbmRleCkgPT4ge1xuICAgIGN0eC52YWx1ZVtpbmRleF0gPSB2YWx1ZTI7XG4gIH0pO1xufVxuZnVuY3Rpb24gZ2V0TmV4dFZhbHVlKGN1cnJlbnQsIG5leHQpIHtcbiAgbGV0IG5leHRWYWx1ZSA9IG5leHQ7XG4gIGlmIChjdXJyZW50WzBdID09PSBuZXh0WzBdKVxuICAgIG5leHRWYWx1ZSA9IG5leHRbMV07XG4gIGVsc2UgaWYgKGN1cnJlbnRbMF0gPT09IG5leHRbMV0pXG4gICAgbmV4dFZhbHVlID0gbmV4dFswXTtcbiAgcmV0dXJuIG5leHRWYWx1ZS5zcGxpdChcIlwiKVtuZXh0VmFsdWUubGVuZ3RoIC0gMV07XG59XG52YXIgaW52b2tlID0ge1xuICBjaGFuZ2UoY3R4KSB7XG4gICAgY3R4Lm9uVmFsdWVDaGFuZ2U/Lih7XG4gICAgICB2YWx1ZTogQXJyYXkuZnJvbShjdHgudmFsdWUpLFxuICAgICAgdmFsdWVBc1N0cmluZzogY3R4LnZhbHVlQXNTdHJpbmdcbiAgICB9KTtcbiAgICBjb25zdCBpbnB1dEVsID0gZG9tLmdldEhpZGRlbklucHV0RWwoY3R4KTtcbiAgICBkaXNwYXRjaElucHV0VmFsdWVFdmVudChpbnB1dEVsLCB7IHZhbHVlOiBjdHgudmFsdWVBc1N0cmluZyB9KTtcbiAgfVxufTtcbnZhciBzZXQgPSB7XG4gIHZhbHVlKGN0eCwgdmFsdWUpIHtcbiAgICBpZiAoaXNFcXVhbChjdHgudmFsdWUsIHZhbHVlKSlcbiAgICAgIHJldHVybjtcbiAgICBhc3NpZ25WYWx1ZShjdHgsIHZhbHVlKTtcbiAgICBpbnZva2UuY2hhbmdlKGN0eCk7XG4gIH0sXG4gIHZhbHVlQXRJbmRleChjdHgsIGluZGV4LCB2YWx1ZSkge1xuICAgIGlmIChpc0VxdWFsKGN0eC52YWx1ZVtpbmRleF0sIHZhbHVlKSlcbiAgICAgIHJldHVybjtcbiAgICBjdHgudmFsdWVbaW5kZXhdID0gdmFsdWU7XG4gICAgaW52b2tlLmNoYW5nZShjdHgpO1xuICB9XG59O1xuZXhwb3J0IHtcbiAgYW5hdG9teSxcbiAgY29ubmVjdCxcbiAgbWFjaGluZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/pin-input/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/popover/dist/index.mjs":
/*!*****************************************************!*\
  !*** ./node_modules/@zag-js/popover/dist/index.mjs ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   anatomy: () => (/* binding */ anatomy),\n/* harmony export */   connect: () => (/* binding */ connect),\n/* harmony export */   machine: () => (/* binding */ machine)\n/* harmony export */ });\n/* harmony import */ var _zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/anatomy */ \"(ssr)/./node_modules/@zag-js/anatomy/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @zag-js/dom-query */ \"(ssr)/./node_modules/@zag-js/dom-query/dist/index.mjs\");\n/* harmony import */ var _zag_js_popper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @zag-js/popper */ \"(ssr)/./node_modules/@zag-js/popper/dist/index.mjs\");\n/* harmony import */ var _zag_js_tabbable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @zag-js/tabbable */ \"(ssr)/./node_modules/@zag-js/tabbable/dist/index.mjs\");\n/* harmony import */ var _zag_js_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @zag-js/utils */ \"(ssr)/./node_modules/@zag-js/utils/dist/index.mjs\");\n/* harmony import */ var _zag_js_aria_hidden__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @zag-js/aria-hidden */ \"(ssr)/./node_modules/@zag-js/aria-hidden/dist/index.mjs\");\n/* harmony import */ var _zag_js_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @zag-js/core */ \"(ssr)/./node_modules/@zag-js/core/dist/index.mjs\");\n/* harmony import */ var _zag_js_dismissable__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @zag-js/dismissable */ \"(ssr)/./node_modules/@zag-js/dismissable/dist/index.mjs\");\n/* harmony import */ var _zag_js_remove_scroll__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @zag-js/remove-scroll */ \"(ssr)/./node_modules/@zag-js/remove-scroll/dist/index.mjs\");\n/* harmony import */ var focus_trap__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! focus-trap */ \"(ssr)/./node_modules/focus-trap/dist/focus-trap.js\");\n// src/popover.anatomy.ts\n\nvar anatomy = (0,_zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__.createAnatomy)(\"popover\").parts(\n  \"arrow\",\n  \"arrowTip\",\n  \"anchor\",\n  \"trigger\",\n  \"indicator\",\n  \"positioner\",\n  \"content\",\n  \"title\",\n  \"description\",\n  \"closeTrigger\"\n);\nvar parts = anatomy.build();\n\n// src/popover.connect.ts\n\n\n\n// src/popover.dom.ts\n\n\n\nvar dom = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.createScope)({\n  getActiveEl: (ctx) => dom.getDoc(ctx).activeElement,\n  getAnchorId: (ctx) => ctx.ids?.anchor ?? `popover:${ctx.id}:anchor`,\n  getTriggerId: (ctx) => ctx.ids?.trigger ?? `popover:${ctx.id}:trigger`,\n  getContentId: (ctx) => ctx.ids?.content ?? `popover:${ctx.id}:content`,\n  getPositionerId: (ctx) => ctx.ids?.positioner ?? `popover:${ctx.id}:popper`,\n  getArrowId: (ctx) => ctx.ids?.arrow ?? `popover:${ctx.id}:arrow`,\n  getTitleId: (ctx) => ctx.ids?.title ?? `popover:${ctx.id}:title`,\n  getDescriptionId: (ctx) => ctx.ids?.description ?? `popover:${ctx.id}:desc`,\n  getCloseTriggerId: (ctx) => ctx.ids?.closeTrigger ?? `popover:${ctx.id}:close`,\n  getAnchorEl: (ctx) => dom.getById(ctx, dom.getAnchorId(ctx)),\n  getTriggerEl: (ctx) => dom.getById(ctx, dom.getTriggerId(ctx)),\n  getContentEl: (ctx) => dom.getById(ctx, dom.getContentId(ctx)),\n  getPositionerEl: (ctx) => dom.getById(ctx, dom.getPositionerId(ctx)),\n  getTitleEl: (ctx) => dom.getById(ctx, dom.getTitleId(ctx)),\n  getDescriptionEl: (ctx) => dom.getById(ctx, dom.getDescriptionId(ctx)),\n  getFocusableEls: (ctx) => (0,_zag_js_tabbable__WEBPACK_IMPORTED_MODULE_2__.getFocusables)(dom.getContentEl(ctx)),\n  getFirstFocusableEl: (ctx) => dom.getFocusableEls(ctx)[0],\n  getInitialFocusEl: (ctx) => {\n    let el = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_3__.runIfFn)(ctx.initialFocusEl);\n    if (!el && ctx.autoFocus)\n      el = dom.getFirstFocusableEl(ctx);\n    if (!el)\n      el = dom.getContentEl(ctx);\n    return el;\n  }\n});\n\n// src/popover.connect.ts\nfunction connect(state, send, normalize) {\n  const isOpen = state.matches(\"open\");\n  const currentPlacement = state.context.currentPlacement;\n  const portalled = state.context.currentPortalled;\n  const rendered = state.context.renderedElements;\n  const popperStyles = (0,_zag_js_popper__WEBPACK_IMPORTED_MODULE_4__.getPlacementStyles)({\n    ...state.context.positioning,\n    placement: currentPlacement\n  });\n  return {\n    portalled,\n    isOpen,\n    open() {\n      send(\"OPEN\");\n    },\n    close() {\n      send(\"CLOSE\");\n    },\n    reposition(options = {}) {\n      send({ type: \"SET_POSITIONING\", options });\n    },\n    arrowProps: normalize.element({\n      id: dom.getArrowId(state.context),\n      ...parts.arrow.attrs,\n      dir: state.context.dir,\n      style: popperStyles.arrow\n    }),\n    arrowTipProps: normalize.element({\n      ...parts.arrowTip.attrs,\n      dir: state.context.dir,\n      style: popperStyles.arrowTip\n    }),\n    anchorProps: normalize.element({\n      ...parts.anchor.attrs,\n      dir: state.context.dir,\n      id: dom.getAnchorId(state.context)\n    }),\n    triggerProps: normalize.button({\n      ...parts.trigger.attrs,\n      dir: state.context.dir,\n      type: \"button\",\n      \"data-placement\": currentPlacement,\n      id: dom.getTriggerId(state.context),\n      \"aria-haspopup\": \"dialog\",\n      \"aria-expanded\": isOpen,\n      \"data-state\": isOpen ? \"open\" : \"closed\",\n      \"aria-controls\": dom.getContentId(state.context),\n      onClick() {\n        send(\"TOGGLE\");\n      },\n      onBlur(event) {\n        send({ type: \"TRIGGER_BLUR\", target: event.relatedTarget });\n      }\n    }),\n    indicatorProps: normalize.element({\n      ...parts.indicator.attrs,\n      dir: state.context.dir,\n      \"data-state\": isOpen ? \"open\" : \"closed\"\n    }),\n    positionerProps: normalize.element({\n      id: dom.getPositionerId(state.context),\n      ...parts.positioner.attrs,\n      dir: state.context.dir,\n      style: popperStyles.floating\n    }),\n    contentProps: normalize.element({\n      ...parts.content.attrs,\n      dir: state.context.dir,\n      id: dom.getContentId(state.context),\n      tabIndex: -1,\n      role: \"dialog\",\n      hidden: !isOpen,\n      \"data-state\": isOpen ? \"open\" : \"closed\",\n      \"data-expanded\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isOpen),\n      \"aria-labelledby\": rendered.title ? dom.getTitleId(state.context) : void 0,\n      \"aria-describedby\": rendered.description ? dom.getDescriptionId(state.context) : void 0,\n      \"data-placement\": currentPlacement\n    }),\n    titleProps: normalize.element({\n      ...parts.title.attrs,\n      id: dom.getTitleId(state.context),\n      dir: state.context.dir\n    }),\n    descriptionProps: normalize.element({\n      ...parts.description.attrs,\n      id: dom.getDescriptionId(state.context),\n      dir: state.context.dir\n    }),\n    closeTriggerProps: normalize.button({\n      ...parts.closeTrigger.attrs,\n      dir: state.context.dir,\n      id: dom.getCloseTriggerId(state.context),\n      type: \"button\",\n      \"aria-label\": \"close\",\n      onClick() {\n        send(\"REQUEST_CLOSE\");\n      }\n    })\n  };\n}\n\n// src/popover.machine.ts\n\n\n\n\n\n\n\n\n\nfunction machine(userContext) {\n  const ctx = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_3__.compact)(userContext);\n  return (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_5__.createMachine)(\n    {\n      id: \"popover\",\n      initial: ctx.open ? \"open\" : \"closed\",\n      context: {\n        closeOnInteractOutside: true,\n        closeOnEsc: true,\n        autoFocus: true,\n        modal: false,\n        portalled: true,\n        positioning: {\n          placement: \"bottom\",\n          ...ctx.positioning\n        },\n        currentPlacement: void 0,\n        ...ctx,\n        renderedElements: {\n          title: true,\n          description: true\n        }\n      },\n      computed: {\n        currentPortalled: (ctx2) => !!ctx2.modal || !!ctx2.portalled\n      },\n      watch: {\n        open: [\"toggleVisibility\"]\n      },\n      entry: [\"checkRenderedElements\"],\n      states: {\n        closed: {\n          on: {\n            TOGGLE: {\n              target: \"open\",\n              actions: [\"invokeOnOpen\"]\n            },\n            OPEN: {\n              target: \"open\",\n              actions: [\"invokeOnOpen\"]\n            }\n          }\n        },\n        open: {\n          activities: [\n            \"trapFocus\",\n            \"preventScroll\",\n            \"hideContentBelow\",\n            \"trackPositioning\",\n            \"trackDismissableElement\",\n            \"proxyTabFocus\"\n          ],\n          entry: [\"setInitialFocus\"],\n          on: {\n            CLOSE: {\n              target: \"closed\",\n              actions: [\"invokeOnClose\"]\n            },\n            REQUEST_CLOSE: {\n              target: \"closed\",\n              actions: [\"restoreFocusIfNeeded\", \"invokeOnClose\"]\n            },\n            TOGGLE: {\n              target: \"closed\",\n              actions: [\"invokeOnClose\"]\n            },\n            SET_POSITIONING: {\n              actions: \"reposition\"\n            }\n          }\n        }\n      }\n    },\n    {\n      activities: {\n        trackPositioning(ctx2) {\n          ctx2.currentPlacement = ctx2.positioning.placement;\n          const anchorEl = dom.getAnchorEl(ctx2) ?? dom.getTriggerEl(ctx2);\n          const getPositionerEl = () => dom.getPositionerEl(ctx2);\n          return (0,_zag_js_popper__WEBPACK_IMPORTED_MODULE_4__.getPlacement)(anchorEl, getPositionerEl, {\n            ...ctx2.positioning,\n            defer: true,\n            onComplete(data) {\n              ctx2.currentPlacement = data.placement;\n            },\n            onCleanup() {\n              ctx2.currentPlacement = void 0;\n            }\n          });\n        },\n        trackDismissableElement(ctx2, _evt, { send }) {\n          const getContentEl = () => dom.getContentEl(ctx2);\n          let restoreFocus = true;\n          return (0,_zag_js_dismissable__WEBPACK_IMPORTED_MODULE_6__.trackDismissableElement)(getContentEl, {\n            pointerBlocking: ctx2.modal,\n            exclude: dom.getTriggerEl(ctx2),\n            defer: true,\n            onEscapeKeyDown(event) {\n              ctx2.onEscapeKeyDown?.(event);\n              if (ctx2.closeOnEsc)\n                return;\n              event.preventDefault();\n            },\n            onInteractOutside(event) {\n              ctx2.onInteractOutside?.(event);\n              if (event.defaultPrevented)\n                return;\n              restoreFocus = !(event.detail.focusable || event.detail.contextmenu);\n              if (!ctx2.closeOnInteractOutside) {\n                event.preventDefault();\n              }\n            },\n            onPointerDownOutside: ctx2.onPointerDownOutside,\n            onFocusOutside: ctx2.onFocusOutside,\n            onDismiss() {\n              send({ type: \"REQUEST_CLOSE\", src: \"interact-outside\", restoreFocus });\n            }\n          });\n        },\n        proxyTabFocus(ctx2) {\n          if (ctx2.modal || !ctx2.portalled)\n            return;\n          const getContentEl = () => dom.getContentEl(ctx2);\n          return (0,_zag_js_tabbable__WEBPACK_IMPORTED_MODULE_2__.proxyTabFocus)(getContentEl, {\n            triggerElement: dom.getTriggerEl(ctx2),\n            defer: true,\n            onFocus(el) {\n              el.focus({ preventScroll: true });\n            }\n          });\n        },\n        hideContentBelow(ctx2) {\n          if (!ctx2.modal)\n            return;\n          const getElements = () => [dom.getContentEl(ctx2), dom.getTriggerEl(ctx2)];\n          return (0,_zag_js_aria_hidden__WEBPACK_IMPORTED_MODULE_7__.ariaHidden)(getElements, { defer: true });\n        },\n        preventScroll(ctx2) {\n          if (!ctx2.modal)\n            return;\n          return (0,_zag_js_remove_scroll__WEBPACK_IMPORTED_MODULE_8__.preventBodyScroll)(dom.getDoc(ctx2));\n        },\n        trapFocus(ctx2) {\n          if (!ctx2.modal)\n            return;\n          let trap;\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.nextTick)(() => {\n            const el = dom.getContentEl(ctx2);\n            if (!el)\n              return;\n            trap = (0,focus_trap__WEBPACK_IMPORTED_MODULE_9__.createFocusTrap)(el, {\n              escapeDeactivates: false,\n              allowOutsideClick: true,\n              preventScroll: true,\n              returnFocusOnDeactivate: true,\n              document: dom.getDoc(ctx2),\n              fallbackFocus: el,\n              initialFocus: (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_3__.runIfFn)(ctx2.initialFocusEl)\n            });\n            try {\n              trap.activate();\n            } catch {\n            }\n          });\n          return () => trap?.deactivate();\n        }\n      },\n      actions: {\n        reposition(ctx2, evt) {\n          const anchorEl = dom.getAnchorEl(ctx2) ?? dom.getTriggerEl(ctx2);\n          const getPositionerEl = () => dom.getPositionerEl(ctx2);\n          (0,_zag_js_popper__WEBPACK_IMPORTED_MODULE_4__.getPlacement)(anchorEl, getPositionerEl, {\n            ...ctx2.positioning,\n            ...evt.options,\n            defer: true,\n            listeners: false,\n            onComplete(data) {\n              ctx2.currentPlacement = data.placement;\n            }\n          });\n        },\n        checkRenderedElements(ctx2) {\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => {\n            Object.assign(ctx2.renderedElements, {\n              title: !!dom.getTitleEl(ctx2),\n              description: !!dom.getDescriptionEl(ctx2)\n            });\n          });\n        },\n        setInitialFocus(ctx2) {\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => {\n            dom.getInitialFocusEl(ctx2)?.focus({ preventScroll: true });\n          });\n        },\n        restoreFocusIfNeeded(ctx2, evt) {\n          if (!evt.restoreFocus)\n            return;\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => {\n            dom.getTriggerEl(ctx2)?.focus({ preventScroll: true });\n          });\n        },\n        invokeOnOpen(ctx2) {\n          ctx2.onOpenChange?.({ open: true });\n        },\n        invokeOnClose(ctx2) {\n          ctx2.onOpenChange?.({ open: false });\n        },\n        toggleVisibility(ctx2, _evt, { send }) {\n          send({ type: ctx2.open ? \"OPEN\" : \"CLOSE\", src: \"controlled\" });\n        }\n      }\n    }\n  );\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9wb3BvdmVyL2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNnRDtBQUNoRCxjQUFjLDhEQUFhO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUM2QztBQUNPOztBQUVwRDtBQUNnRDtBQUNDO0FBQ1Q7QUFDeEMsVUFBVSw4REFBVztBQUNyQjtBQUNBLHNEQUFzRCxPQUFPO0FBQzdELHdEQUF3RCxPQUFPO0FBQy9ELHdEQUF3RCxPQUFPO0FBQy9ELDhEQUE4RCxPQUFPO0FBQ3JFLG9EQUFvRCxPQUFPO0FBQzNELG9EQUFvRCxPQUFPO0FBQzNELGdFQUFnRSxPQUFPO0FBQ3ZFLGtFQUFrRSxPQUFPO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QiwrREFBYTtBQUN6QztBQUNBO0FBQ0EsYUFBYSxzREFBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixrRUFBa0I7QUFDekM7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsMkJBQTJCO0FBQzNCLGFBQWEsa0NBQWtDO0FBQy9DLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLGVBQWUsbURBQW1EO0FBQ2xFO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiwyREFBUTtBQUMvQjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDaUQ7QUFDSjtBQUNpQjtBQUNaO0FBQ0o7QUFDWTtBQUNUO0FBQ1k7QUFDaEI7QUFDN0M7QUFDQSxjQUFjLHNEQUFPO0FBQ3JCLFNBQVMsMkRBQWE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiw0REFBWTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNULDhDQUE4QyxNQUFNO0FBQ3BEO0FBQ0E7QUFDQSxpQkFBaUIsNEVBQXVCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsOERBQThEO0FBQ25GO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiwrREFBYTtBQUM5QjtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIscUJBQXFCO0FBQzlDO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiwrREFBVSxnQkFBZ0IsYUFBYTtBQUN4RCxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHdFQUFpQjtBQUNsQyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLDJEQUFRO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiwyREFBZTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsc0RBQVE7QUFDcEMsYUFBYTtBQUNiO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsNERBQVk7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0EsVUFBVSxzREFBRztBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0EsVUFBVSxzREFBRztBQUNiLGlEQUFpRCxxQkFBcUI7QUFDdEUsV0FBVztBQUNYLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxVQUFVLHNEQUFHO0FBQ2IsNENBQTRDLHFCQUFxQjtBQUNqRSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0EsZ0NBQWdDLFlBQVk7QUFDNUMsU0FBUztBQUNUO0FBQ0EsZ0NBQWdDLGFBQWE7QUFDN0MsU0FBUztBQUNULHVDQUF1QyxNQUFNO0FBQzdDLGlCQUFpQix1REFBdUQ7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AcGFyay11aS9leGFtcGxlcy1yZWFjdC1uZXh0LWpzLy4vbm9kZV9tb2R1bGVzL0B6YWctanMvcG9wb3Zlci9kaXN0L2luZGV4Lm1qcz85ODI4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9wb3BvdmVyLmFuYXRvbXkudHNcbmltcG9ydCB7IGNyZWF0ZUFuYXRvbXkgfSBmcm9tIFwiQHphZy1qcy9hbmF0b215XCI7XG52YXIgYW5hdG9teSA9IGNyZWF0ZUFuYXRvbXkoXCJwb3BvdmVyXCIpLnBhcnRzKFxuICBcImFycm93XCIsXG4gIFwiYXJyb3dUaXBcIixcbiAgXCJhbmNob3JcIixcbiAgXCJ0cmlnZ2VyXCIsXG4gIFwiaW5kaWNhdG9yXCIsXG4gIFwicG9zaXRpb25lclwiLFxuICBcImNvbnRlbnRcIixcbiAgXCJ0aXRsZVwiLFxuICBcImRlc2NyaXB0aW9uXCIsXG4gIFwiY2xvc2VUcmlnZ2VyXCJcbik7XG52YXIgcGFydHMgPSBhbmF0b215LmJ1aWxkKCk7XG5cbi8vIHNyYy9wb3BvdmVyLmNvbm5lY3QudHNcbmltcG9ydCB7IGRhdGFBdHRyIH0gZnJvbSBcIkB6YWctanMvZG9tLXF1ZXJ5XCI7XG5pbXBvcnQgeyBnZXRQbGFjZW1lbnRTdHlsZXMgfSBmcm9tIFwiQHphZy1qcy9wb3BwZXJcIjtcblxuLy8gc3JjL3BvcG92ZXIuZG9tLnRzXG5pbXBvcnQgeyBjcmVhdGVTY29wZSB9IGZyb20gXCJAemFnLWpzL2RvbS1xdWVyeVwiO1xuaW1wb3J0IHsgZ2V0Rm9jdXNhYmxlcyB9IGZyb20gXCJAemFnLWpzL3RhYmJhYmxlXCI7XG5pbXBvcnQgeyBydW5JZkZuIH0gZnJvbSBcIkB6YWctanMvdXRpbHNcIjtcbnZhciBkb20gPSBjcmVhdGVTY29wZSh7XG4gIGdldEFjdGl2ZUVsOiAoY3R4KSA9PiBkb20uZ2V0RG9jKGN0eCkuYWN0aXZlRWxlbWVudCxcbiAgZ2V0QW5jaG9ySWQ6IChjdHgpID0+IGN0eC5pZHM/LmFuY2hvciA/PyBgcG9wb3Zlcjoke2N0eC5pZH06YW5jaG9yYCxcbiAgZ2V0VHJpZ2dlcklkOiAoY3R4KSA9PiBjdHguaWRzPy50cmlnZ2VyID8/IGBwb3BvdmVyOiR7Y3R4LmlkfTp0cmlnZ2VyYCxcbiAgZ2V0Q29udGVudElkOiAoY3R4KSA9PiBjdHguaWRzPy5jb250ZW50ID8/IGBwb3BvdmVyOiR7Y3R4LmlkfTpjb250ZW50YCxcbiAgZ2V0UG9zaXRpb25lcklkOiAoY3R4KSA9PiBjdHguaWRzPy5wb3NpdGlvbmVyID8/IGBwb3BvdmVyOiR7Y3R4LmlkfTpwb3BwZXJgLFxuICBnZXRBcnJvd0lkOiAoY3R4KSA9PiBjdHguaWRzPy5hcnJvdyA/PyBgcG9wb3Zlcjoke2N0eC5pZH06YXJyb3dgLFxuICBnZXRUaXRsZUlkOiAoY3R4KSA9PiBjdHguaWRzPy50aXRsZSA/PyBgcG9wb3Zlcjoke2N0eC5pZH06dGl0bGVgLFxuICBnZXREZXNjcmlwdGlvbklkOiAoY3R4KSA9PiBjdHguaWRzPy5kZXNjcmlwdGlvbiA/PyBgcG9wb3Zlcjoke2N0eC5pZH06ZGVzY2AsXG4gIGdldENsb3NlVHJpZ2dlcklkOiAoY3R4KSA9PiBjdHguaWRzPy5jbG9zZVRyaWdnZXIgPz8gYHBvcG92ZXI6JHtjdHguaWR9OmNsb3NlYCxcbiAgZ2V0QW5jaG9yRWw6IChjdHgpID0+IGRvbS5nZXRCeUlkKGN0eCwgZG9tLmdldEFuY2hvcklkKGN0eCkpLFxuICBnZXRUcmlnZ2VyRWw6IChjdHgpID0+IGRvbS5nZXRCeUlkKGN0eCwgZG9tLmdldFRyaWdnZXJJZChjdHgpKSxcbiAgZ2V0Q29udGVudEVsOiAoY3R4KSA9PiBkb20uZ2V0QnlJZChjdHgsIGRvbS5nZXRDb250ZW50SWQoY3R4KSksXG4gIGdldFBvc2l0aW9uZXJFbDogKGN0eCkgPT4gZG9tLmdldEJ5SWQoY3R4LCBkb20uZ2V0UG9zaXRpb25lcklkKGN0eCkpLFxuICBnZXRUaXRsZUVsOiAoY3R4KSA9PiBkb20uZ2V0QnlJZChjdHgsIGRvbS5nZXRUaXRsZUlkKGN0eCkpLFxuICBnZXREZXNjcmlwdGlvbkVsOiAoY3R4KSA9PiBkb20uZ2V0QnlJZChjdHgsIGRvbS5nZXREZXNjcmlwdGlvbklkKGN0eCkpLFxuICBnZXRGb2N1c2FibGVFbHM6IChjdHgpID0+IGdldEZvY3VzYWJsZXMoZG9tLmdldENvbnRlbnRFbChjdHgpKSxcbiAgZ2V0Rmlyc3RGb2N1c2FibGVFbDogKGN0eCkgPT4gZG9tLmdldEZvY3VzYWJsZUVscyhjdHgpWzBdLFxuICBnZXRJbml0aWFsRm9jdXNFbDogKGN0eCkgPT4ge1xuICAgIGxldCBlbCA9IHJ1bklmRm4oY3R4LmluaXRpYWxGb2N1c0VsKTtcbiAgICBpZiAoIWVsICYmIGN0eC5hdXRvRm9jdXMpXG4gICAgICBlbCA9IGRvbS5nZXRGaXJzdEZvY3VzYWJsZUVsKGN0eCk7XG4gICAgaWYgKCFlbClcbiAgICAgIGVsID0gZG9tLmdldENvbnRlbnRFbChjdHgpO1xuICAgIHJldHVybiBlbDtcbiAgfVxufSk7XG5cbi8vIHNyYy9wb3BvdmVyLmNvbm5lY3QudHNcbmZ1bmN0aW9uIGNvbm5lY3Qoc3RhdGUsIHNlbmQsIG5vcm1hbGl6ZSkge1xuICBjb25zdCBpc09wZW4gPSBzdGF0ZS5tYXRjaGVzKFwib3BlblwiKTtcbiAgY29uc3QgY3VycmVudFBsYWNlbWVudCA9IHN0YXRlLmNvbnRleHQuY3VycmVudFBsYWNlbWVudDtcbiAgY29uc3QgcG9ydGFsbGVkID0gc3RhdGUuY29udGV4dC5jdXJyZW50UG9ydGFsbGVkO1xuICBjb25zdCByZW5kZXJlZCA9IHN0YXRlLmNvbnRleHQucmVuZGVyZWRFbGVtZW50cztcbiAgY29uc3QgcG9wcGVyU3R5bGVzID0gZ2V0UGxhY2VtZW50U3R5bGVzKHtcbiAgICAuLi5zdGF0ZS5jb250ZXh0LnBvc2l0aW9uaW5nLFxuICAgIHBsYWNlbWVudDogY3VycmVudFBsYWNlbWVudFxuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBwb3J0YWxsZWQsXG4gICAgaXNPcGVuLFxuICAgIG9wZW4oKSB7XG4gICAgICBzZW5kKFwiT1BFTlwiKTtcbiAgICB9LFxuICAgIGNsb3NlKCkge1xuICAgICAgc2VuZChcIkNMT1NFXCIpO1xuICAgIH0sXG4gICAgcmVwb3NpdGlvbihvcHRpb25zID0ge30pIHtcbiAgICAgIHNlbmQoeyB0eXBlOiBcIlNFVF9QT1NJVElPTklOR1wiLCBvcHRpb25zIH0pO1xuICAgIH0sXG4gICAgYXJyb3dQcm9wczogbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgaWQ6IGRvbS5nZXRBcnJvd0lkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgLi4ucGFydHMuYXJyb3cuYXR0cnMsXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgc3R5bGU6IHBvcHBlclN0eWxlcy5hcnJvd1xuICAgIH0pLFxuICAgIGFycm93VGlwUHJvcHM6IG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgIC4uLnBhcnRzLmFycm93VGlwLmF0dHJzLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIHN0eWxlOiBwb3BwZXJTdHlsZXMuYXJyb3dUaXBcbiAgICB9KSxcbiAgICBhbmNob3JQcm9wczogbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgLi4ucGFydHMuYW5jaG9yLmF0dHJzLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIGlkOiBkb20uZ2V0QW5jaG9ySWQoc3RhdGUuY29udGV4dClcbiAgICB9KSxcbiAgICB0cmlnZ2VyUHJvcHM6IG5vcm1hbGl6ZS5idXR0b24oe1xuICAgICAgLi4ucGFydHMudHJpZ2dlci5hdHRycyxcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgXCJkYXRhLXBsYWNlbWVudFwiOiBjdXJyZW50UGxhY2VtZW50LFxuICAgICAgaWQ6IGRvbS5nZXRUcmlnZ2VySWQoc3RhdGUuY29udGV4dCksXG4gICAgICBcImFyaWEtaGFzcG9wdXBcIjogXCJkaWFsb2dcIixcbiAgICAgIFwiYXJpYS1leHBhbmRlZFwiOiBpc09wZW4sXG4gICAgICBcImRhdGEtc3RhdGVcIjogaXNPcGVuID8gXCJvcGVuXCIgOiBcImNsb3NlZFwiLFxuICAgICAgXCJhcmlhLWNvbnRyb2xzXCI6IGRvbS5nZXRDb250ZW50SWQoc3RhdGUuY29udGV4dCksXG4gICAgICBvbkNsaWNrKCkge1xuICAgICAgICBzZW5kKFwiVE9HR0xFXCIpO1xuICAgICAgfSxcbiAgICAgIG9uQmx1cihldmVudCkge1xuICAgICAgICBzZW5kKHsgdHlwZTogXCJUUklHR0VSX0JMVVJcIiwgdGFyZ2V0OiBldmVudC5yZWxhdGVkVGFyZ2V0IH0pO1xuICAgICAgfVxuICAgIH0pLFxuICAgIGluZGljYXRvclByb3BzOiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICAuLi5wYXJ0cy5pbmRpY2F0b3IuYXR0cnMsXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgXCJkYXRhLXN0YXRlXCI6IGlzT3BlbiA/IFwib3BlblwiIDogXCJjbG9zZWRcIlxuICAgIH0pLFxuICAgIHBvc2l0aW9uZXJQcm9wczogbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgaWQ6IGRvbS5nZXRQb3NpdGlvbmVySWQoc3RhdGUuY29udGV4dCksXG4gICAgICAuLi5wYXJ0cy5wb3NpdGlvbmVyLmF0dHJzLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIHN0eWxlOiBwb3BwZXJTdHlsZXMuZmxvYXRpbmdcbiAgICB9KSxcbiAgICBjb250ZW50UHJvcHM6IG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgIC4uLnBhcnRzLmNvbnRlbnQuYXR0cnMsXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgaWQ6IGRvbS5nZXRDb250ZW50SWQoc3RhdGUuY29udGV4dCksXG4gICAgICB0YWJJbmRleDogLTEsXG4gICAgICByb2xlOiBcImRpYWxvZ1wiLFxuICAgICAgaGlkZGVuOiAhaXNPcGVuLFxuICAgICAgXCJkYXRhLXN0YXRlXCI6IGlzT3BlbiA/IFwib3BlblwiIDogXCJjbG9zZWRcIixcbiAgICAgIFwiZGF0YS1leHBhbmRlZFwiOiBkYXRhQXR0cihpc09wZW4pLFxuICAgICAgXCJhcmlhLWxhYmVsbGVkYnlcIjogcmVuZGVyZWQudGl0bGUgPyBkb20uZ2V0VGl0bGVJZChzdGF0ZS5jb250ZXh0KSA6IHZvaWQgMCxcbiAgICAgIFwiYXJpYS1kZXNjcmliZWRieVwiOiByZW5kZXJlZC5kZXNjcmlwdGlvbiA/IGRvbS5nZXREZXNjcmlwdGlvbklkKHN0YXRlLmNvbnRleHQpIDogdm9pZCAwLFxuICAgICAgXCJkYXRhLXBsYWNlbWVudFwiOiBjdXJyZW50UGxhY2VtZW50XG4gICAgfSksXG4gICAgdGl0bGVQcm9wczogbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgLi4ucGFydHMudGl0bGUuYXR0cnMsXG4gICAgICBpZDogZG9tLmdldFRpdGxlSWQoc3RhdGUuY29udGV4dCksXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyXG4gICAgfSksXG4gICAgZGVzY3JpcHRpb25Qcm9wczogbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgLi4ucGFydHMuZGVzY3JpcHRpb24uYXR0cnMsXG4gICAgICBpZDogZG9tLmdldERlc2NyaXB0aW9uSWQoc3RhdGUuY29udGV4dCksXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyXG4gICAgfSksXG4gICAgY2xvc2VUcmlnZ2VyUHJvcHM6IG5vcm1hbGl6ZS5idXR0b24oe1xuICAgICAgLi4ucGFydHMuY2xvc2VUcmlnZ2VyLmF0dHJzLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIGlkOiBkb20uZ2V0Q2xvc2VUcmlnZ2VySWQoc3RhdGUuY29udGV4dCksXG4gICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgXCJhcmlhLWxhYmVsXCI6IFwiY2xvc2VcIixcbiAgICAgIG9uQ2xpY2soKSB7XG4gICAgICAgIHNlbmQoXCJSRVFVRVNUX0NMT1NFXCIpO1xuICAgICAgfVxuICAgIH0pXG4gIH07XG59XG5cbi8vIHNyYy9wb3BvdmVyLm1hY2hpbmUudHNcbmltcG9ydCB7IGFyaWFIaWRkZW4gfSBmcm9tIFwiQHphZy1qcy9hcmlhLWhpZGRlblwiO1xuaW1wb3J0IHsgY3JlYXRlTWFjaGluZSB9IGZyb20gXCJAemFnLWpzL2NvcmVcIjtcbmltcG9ydCB7IHRyYWNrRGlzbWlzc2FibGVFbGVtZW50IH0gZnJvbSBcIkB6YWctanMvZGlzbWlzc2FibGVcIjtcbmltcG9ydCB7IG5leHRUaWNrLCByYWYgfSBmcm9tIFwiQHphZy1qcy9kb20tcXVlcnlcIjtcbmltcG9ydCB7IGdldFBsYWNlbWVudCB9IGZyb20gXCJAemFnLWpzL3BvcHBlclwiO1xuaW1wb3J0IHsgcHJldmVudEJvZHlTY3JvbGwgfSBmcm9tIFwiQHphZy1qcy9yZW1vdmUtc2Nyb2xsXCI7XG5pbXBvcnQgeyBwcm94eVRhYkZvY3VzIH0gZnJvbSBcIkB6YWctanMvdGFiYmFibGVcIjtcbmltcG9ydCB7IGNvbXBhY3QsIHJ1bklmRm4gYXMgcnVuSWZGbjIgfSBmcm9tIFwiQHphZy1qcy91dGlsc1wiO1xuaW1wb3J0IHsgY3JlYXRlRm9jdXNUcmFwIH0gZnJvbSBcImZvY3VzLXRyYXBcIjtcbmZ1bmN0aW9uIG1hY2hpbmUodXNlckNvbnRleHQpIHtcbiAgY29uc3QgY3R4ID0gY29tcGFjdCh1c2VyQ29udGV4dCk7XG4gIHJldHVybiBjcmVhdGVNYWNoaW5lKFxuICAgIHtcbiAgICAgIGlkOiBcInBvcG92ZXJcIixcbiAgICAgIGluaXRpYWw6IGN0eC5vcGVuID8gXCJvcGVuXCIgOiBcImNsb3NlZFwiLFxuICAgICAgY29udGV4dDoge1xuICAgICAgICBjbG9zZU9uSW50ZXJhY3RPdXRzaWRlOiB0cnVlLFxuICAgICAgICBjbG9zZU9uRXNjOiB0cnVlLFxuICAgICAgICBhdXRvRm9jdXM6IHRydWUsXG4gICAgICAgIG1vZGFsOiBmYWxzZSxcbiAgICAgICAgcG9ydGFsbGVkOiB0cnVlLFxuICAgICAgICBwb3NpdGlvbmluZzoge1xuICAgICAgICAgIHBsYWNlbWVudDogXCJib3R0b21cIixcbiAgICAgICAgICAuLi5jdHgucG9zaXRpb25pbmdcbiAgICAgICAgfSxcbiAgICAgICAgY3VycmVudFBsYWNlbWVudDogdm9pZCAwLFxuICAgICAgICAuLi5jdHgsXG4gICAgICAgIHJlbmRlcmVkRWxlbWVudHM6IHtcbiAgICAgICAgICB0aXRsZTogdHJ1ZSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY29tcHV0ZWQ6IHtcbiAgICAgICAgY3VycmVudFBvcnRhbGxlZDogKGN0eDIpID0+ICEhY3R4Mi5tb2RhbCB8fCAhIWN0eDIucG9ydGFsbGVkXG4gICAgICB9LFxuICAgICAgd2F0Y2g6IHtcbiAgICAgICAgb3BlbjogW1widG9nZ2xlVmlzaWJpbGl0eVwiXVxuICAgICAgfSxcbiAgICAgIGVudHJ5OiBbXCJjaGVja1JlbmRlcmVkRWxlbWVudHNcIl0sXG4gICAgICBzdGF0ZXM6IHtcbiAgICAgICAgY2xvc2VkOiB7XG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIFRPR0dMRToge1xuICAgICAgICAgICAgICB0YXJnZXQ6IFwib3BlblwiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJpbnZva2VPbk9wZW5cIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBPUEVOOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJvcGVuXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcImludm9rZU9uT3BlblwiXVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb3Blbjoge1xuICAgICAgICAgIGFjdGl2aXRpZXM6IFtcbiAgICAgICAgICAgIFwidHJhcEZvY3VzXCIsXG4gICAgICAgICAgICBcInByZXZlbnRTY3JvbGxcIixcbiAgICAgICAgICAgIFwiaGlkZUNvbnRlbnRCZWxvd1wiLFxuICAgICAgICAgICAgXCJ0cmFja1Bvc2l0aW9uaW5nXCIsXG4gICAgICAgICAgICBcInRyYWNrRGlzbWlzc2FibGVFbGVtZW50XCIsXG4gICAgICAgICAgICBcInByb3h5VGFiRm9jdXNcIlxuICAgICAgICAgIF0sXG4gICAgICAgICAgZW50cnk6IFtcInNldEluaXRpYWxGb2N1c1wiXSxcbiAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgQ0xPU0U6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcImNsb3NlZFwiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJpbnZva2VPbkNsb3NlXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgUkVRVUVTVF9DTE9TRToge1xuICAgICAgICAgICAgICB0YXJnZXQ6IFwiY2xvc2VkXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcInJlc3RvcmVGb2N1c0lmTmVlZGVkXCIsIFwiaW52b2tlT25DbG9zZVwiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFRPR0dMRToge1xuICAgICAgICAgICAgICB0YXJnZXQ6IFwiY2xvc2VkXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcImludm9rZU9uQ2xvc2VcIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBTRVRfUE9TSVRJT05JTkc6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogXCJyZXBvc2l0aW9uXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIGFjdGl2aXRpZXM6IHtcbiAgICAgICAgdHJhY2tQb3NpdGlvbmluZyhjdHgyKSB7XG4gICAgICAgICAgY3R4Mi5jdXJyZW50UGxhY2VtZW50ID0gY3R4Mi5wb3NpdGlvbmluZy5wbGFjZW1lbnQ7XG4gICAgICAgICAgY29uc3QgYW5jaG9yRWwgPSBkb20uZ2V0QW5jaG9yRWwoY3R4MikgPz8gZG9tLmdldFRyaWdnZXJFbChjdHgyKTtcbiAgICAgICAgICBjb25zdCBnZXRQb3NpdGlvbmVyRWwgPSAoKSA9PiBkb20uZ2V0UG9zaXRpb25lckVsKGN0eDIpO1xuICAgICAgICAgIHJldHVybiBnZXRQbGFjZW1lbnQoYW5jaG9yRWwsIGdldFBvc2l0aW9uZXJFbCwge1xuICAgICAgICAgICAgLi4uY3R4Mi5wb3NpdGlvbmluZyxcbiAgICAgICAgICAgIGRlZmVyOiB0cnVlLFxuICAgICAgICAgICAgb25Db21wbGV0ZShkYXRhKSB7XG4gICAgICAgICAgICAgIGN0eDIuY3VycmVudFBsYWNlbWVudCA9IGRhdGEucGxhY2VtZW50O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQ2xlYW51cCgpIHtcbiAgICAgICAgICAgICAgY3R4Mi5jdXJyZW50UGxhY2VtZW50ID0gdm9pZCAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICB0cmFja0Rpc21pc3NhYmxlRWxlbWVudChjdHgyLCBfZXZ0LCB7IHNlbmQgfSkge1xuICAgICAgICAgIGNvbnN0IGdldENvbnRlbnRFbCA9ICgpID0+IGRvbS5nZXRDb250ZW50RWwoY3R4Mik7XG4gICAgICAgICAgbGV0IHJlc3RvcmVGb2N1cyA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIHRyYWNrRGlzbWlzc2FibGVFbGVtZW50KGdldENvbnRlbnRFbCwge1xuICAgICAgICAgICAgcG9pbnRlckJsb2NraW5nOiBjdHgyLm1vZGFsLFxuICAgICAgICAgICAgZXhjbHVkZTogZG9tLmdldFRyaWdnZXJFbChjdHgyKSxcbiAgICAgICAgICAgIGRlZmVyOiB0cnVlLFxuICAgICAgICAgICAgb25Fc2NhcGVLZXlEb3duKGV2ZW50KSB7XG4gICAgICAgICAgICAgIGN0eDIub25Fc2NhcGVLZXlEb3duPy4oZXZlbnQpO1xuICAgICAgICAgICAgICBpZiAoY3R4Mi5jbG9zZU9uRXNjKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkludGVyYWN0T3V0c2lkZShldmVudCkge1xuICAgICAgICAgICAgICBjdHgyLm9uSW50ZXJhY3RPdXRzaWRlPy4oZXZlbnQpO1xuICAgICAgICAgICAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIHJlc3RvcmVGb2N1cyA9ICEoZXZlbnQuZGV0YWlsLmZvY3VzYWJsZSB8fCBldmVudC5kZXRhaWwuY29udGV4dG1lbnUpO1xuICAgICAgICAgICAgICBpZiAoIWN0eDIuY2xvc2VPbkludGVyYWN0T3V0c2lkZSkge1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvblBvaW50ZXJEb3duT3V0c2lkZTogY3R4Mi5vblBvaW50ZXJEb3duT3V0c2lkZSxcbiAgICAgICAgICAgIG9uRm9jdXNPdXRzaWRlOiBjdHgyLm9uRm9jdXNPdXRzaWRlLFxuICAgICAgICAgICAgb25EaXNtaXNzKCkge1xuICAgICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJSRVFVRVNUX0NMT1NFXCIsIHNyYzogXCJpbnRlcmFjdC1vdXRzaWRlXCIsIHJlc3RvcmVGb2N1cyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgcHJveHlUYWJGb2N1cyhjdHgyKSB7XG4gICAgICAgICAgaWYgKGN0eDIubW9kYWwgfHwgIWN0eDIucG9ydGFsbGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IGdldENvbnRlbnRFbCA9ICgpID0+IGRvbS5nZXRDb250ZW50RWwoY3R4Mik7XG4gICAgICAgICAgcmV0dXJuIHByb3h5VGFiRm9jdXMoZ2V0Q29udGVudEVsLCB7XG4gICAgICAgICAgICB0cmlnZ2VyRWxlbWVudDogZG9tLmdldFRyaWdnZXJFbChjdHgyKSxcbiAgICAgICAgICAgIGRlZmVyOiB0cnVlLFxuICAgICAgICAgICAgb25Gb2N1cyhlbCkge1xuICAgICAgICAgICAgICBlbC5mb2N1cyh7IHByZXZlbnRTY3JvbGw6IHRydWUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGhpZGVDb250ZW50QmVsb3coY3R4Mikge1xuICAgICAgICAgIGlmICghY3R4Mi5tb2RhbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjb25zdCBnZXRFbGVtZW50cyA9ICgpID0+IFtkb20uZ2V0Q29udGVudEVsKGN0eDIpLCBkb20uZ2V0VHJpZ2dlckVsKGN0eDIpXTtcbiAgICAgICAgICByZXR1cm4gYXJpYUhpZGRlbihnZXRFbGVtZW50cywgeyBkZWZlcjogdHJ1ZSB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgcHJldmVudFNjcm9sbChjdHgyKSB7XG4gICAgICAgICAgaWYgKCFjdHgyLm1vZGFsKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIHJldHVybiBwcmV2ZW50Qm9keVNjcm9sbChkb20uZ2V0RG9jKGN0eDIpKTtcbiAgICAgICAgfSxcbiAgICAgICAgdHJhcEZvY3VzKGN0eDIpIHtcbiAgICAgICAgICBpZiAoIWN0eDIubW9kYWwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgbGV0IHRyYXA7XG4gICAgICAgICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWwgPSBkb20uZ2V0Q29udGVudEVsKGN0eDIpO1xuICAgICAgICAgICAgaWYgKCFlbClcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdHJhcCA9IGNyZWF0ZUZvY3VzVHJhcChlbCwge1xuICAgICAgICAgICAgICBlc2NhcGVEZWFjdGl2YXRlczogZmFsc2UsXG4gICAgICAgICAgICAgIGFsbG93T3V0c2lkZUNsaWNrOiB0cnVlLFxuICAgICAgICAgICAgICBwcmV2ZW50U2Nyb2xsOiB0cnVlLFxuICAgICAgICAgICAgICByZXR1cm5Gb2N1c09uRGVhY3RpdmF0ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgZG9jdW1lbnQ6IGRvbS5nZXREb2MoY3R4MiksXG4gICAgICAgICAgICAgIGZhbGxiYWNrRm9jdXM6IGVsLFxuICAgICAgICAgICAgICBpbml0aWFsRm9jdXM6IHJ1bklmRm4yKGN0eDIuaW5pdGlhbEZvY3VzRWwpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHRyYXAuYWN0aXZhdGUoKTtcbiAgICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiAoKSA9PiB0cmFwPy5kZWFjdGl2YXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBhY3Rpb25zOiB7XG4gICAgICAgIHJlcG9zaXRpb24oY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgY29uc3QgYW5jaG9yRWwgPSBkb20uZ2V0QW5jaG9yRWwoY3R4MikgPz8gZG9tLmdldFRyaWdnZXJFbChjdHgyKTtcbiAgICAgICAgICBjb25zdCBnZXRQb3NpdGlvbmVyRWwgPSAoKSA9PiBkb20uZ2V0UG9zaXRpb25lckVsKGN0eDIpO1xuICAgICAgICAgIGdldFBsYWNlbWVudChhbmNob3JFbCwgZ2V0UG9zaXRpb25lckVsLCB7XG4gICAgICAgICAgICAuLi5jdHgyLnBvc2l0aW9uaW5nLFxuICAgICAgICAgICAgLi4uZXZ0Lm9wdGlvbnMsXG4gICAgICAgICAgICBkZWZlcjogdHJ1ZSxcbiAgICAgICAgICAgIGxpc3RlbmVyczogZmFsc2UsXG4gICAgICAgICAgICBvbkNvbXBsZXRlKGRhdGEpIHtcbiAgICAgICAgICAgICAgY3R4Mi5jdXJyZW50UGxhY2VtZW50ID0gZGF0YS5wbGFjZW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGNoZWNrUmVuZGVyZWRFbGVtZW50cyhjdHgyKSB7XG4gICAgICAgICAgcmFmKCgpID0+IHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oY3R4Mi5yZW5kZXJlZEVsZW1lbnRzLCB7XG4gICAgICAgICAgICAgIHRpdGxlOiAhIWRvbS5nZXRUaXRsZUVsKGN0eDIpLFxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogISFkb20uZ2V0RGVzY3JpcHRpb25FbChjdHgyKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldEluaXRpYWxGb2N1cyhjdHgyKSB7XG4gICAgICAgICAgcmFmKCgpID0+IHtcbiAgICAgICAgICAgIGRvbS5nZXRJbml0aWFsRm9jdXNFbChjdHgyKT8uZm9jdXMoeyBwcmV2ZW50U2Nyb2xsOiB0cnVlIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICByZXN0b3JlRm9jdXNJZk5lZWRlZChjdHgyLCBldnQpIHtcbiAgICAgICAgICBpZiAoIWV2dC5yZXN0b3JlRm9jdXMpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgcmFmKCgpID0+IHtcbiAgICAgICAgICAgIGRvbS5nZXRUcmlnZ2VyRWwoY3R4Mik/LmZvY3VzKHsgcHJldmVudFNjcm9sbDogdHJ1ZSB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgaW52b2tlT25PcGVuKGN0eDIpIHtcbiAgICAgICAgICBjdHgyLm9uT3BlbkNoYW5nZT8uKHsgb3BlbjogdHJ1ZSB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgaW52b2tlT25DbG9zZShjdHgyKSB7XG4gICAgICAgICAgY3R4Mi5vbk9wZW5DaGFuZ2U/Lih7IG9wZW46IGZhbHNlIH0pO1xuICAgICAgICB9LFxuICAgICAgICB0b2dnbGVWaXNpYmlsaXR5KGN0eDIsIF9ldnQsIHsgc2VuZCB9KSB7XG4gICAgICAgICAgc2VuZCh7IHR5cGU6IGN0eDIub3BlbiA/IFwiT1BFTlwiIDogXCJDTE9TRVwiLCBzcmM6IFwiY29udHJvbGxlZFwiIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICApO1xufVxuZXhwb3J0IHtcbiAgYW5hdG9teSxcbiAgY29ubmVjdCxcbiAgbWFjaGluZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/popover/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/popper/dist/index.mjs":
/*!****************************************************!*\
  !*** ./node_modules/@zag-js/popper/dist/index.mjs ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getPlacement: () => (/* binding */ getPlacement),\n/* harmony export */   getPlacementSide: () => (/* binding */ getPlacementSide),\n/* harmony export */   getPlacementStyles: () => (/* binding */ getPlacementStyles),\n/* harmony export */   isValidPlacement: () => (/* binding */ isValidPlacement)\n/* harmony export */ });\n/* harmony import */ var _floating_ui_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @floating-ui/dom */ \"(ssr)/./node_modules/@floating-ui/core/dist/floating-ui.core.mjs\");\n/* harmony import */ var _floating_ui_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @floating-ui/dom */ \"(ssr)/./node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs\");\n/* harmony import */ var _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/dom-query */ \"(ssr)/./node_modules/@zag-js/dom-query/dist/index.mjs\");\n/* harmony import */ var _zag_js_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @zag-js/utils */ \"(ssr)/./node_modules/@zag-js/utils/dist/index.mjs\");\n/* harmony import */ var _floating_ui_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @floating-ui/dom */ \"(ssr)/./node_modules/@floating-ui/utils/dom/dist/floating-ui.utils.dom.mjs\");\n/* harmony import */ var _zag_js_element_rect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @zag-js/element-rect */ \"(ssr)/./node_modules/@zag-js/element-rect/dist/index.mjs\");\n// src/get-placement.ts\n\n\n\n\n// src/auto-update.ts\n\n\n\n\nvar addDomEvent = (el, type, fn, options) => {\n  el.addEventListener(type, fn, options);\n  return () => el.removeEventListener(type, fn, options);\n};\nfunction resolveOptions(option) {\n  const bool = typeof option === \"boolean\";\n  return {\n    ancestorResize: bool ? option : option.ancestorResize ?? true,\n    ancestorScroll: bool ? option : option.ancestorScroll ?? true,\n    referenceResize: bool ? option : option.referenceResize ?? true\n  };\n}\nfunction autoUpdate(reference, floating, update, options = false) {\n  const { ancestorScroll, ancestorResize, referenceResize } = resolveOptions(options);\n  const useAncestors = ancestorScroll || ancestorResize;\n  const ancestors = [];\n  if (useAncestors && (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_0__.isHTMLElement)(reference)) {\n    ancestors.push(...(0,_floating_ui_dom__WEBPACK_IMPORTED_MODULE_1__.getOverflowAncestors)(reference));\n  }\n  function addResizeListeners() {\n    let cleanups = [(0,_zag_js_element_rect__WEBPACK_IMPORTED_MODULE_2__.trackElementRect)(floating, { scope: \"size\", onChange: update })];\n    if (referenceResize && (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_0__.isHTMLElement)(reference)) {\n      cleanups.push((0,_zag_js_element_rect__WEBPACK_IMPORTED_MODULE_2__.trackElementRect)(reference, { onChange: update }));\n    }\n    cleanups.push((0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_3__.callAll)(...ancestors.map((el) => addDomEvent(el, \"resize\", update))));\n    return () => cleanups.forEach((fn) => fn());\n  }\n  function addScrollListeners() {\n    return (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_3__.callAll)(...ancestors.map((el) => addDomEvent(el, \"scroll\", update, { passive: true })));\n  }\n  return (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_3__.callAll)(addResizeListeners(), addScrollListeners());\n}\n\n// src/get-anchor.ts\n\nfunction createDOMRect(x = 0, y = 0, width = 0, height = 0) {\n  if (typeof DOMRect === \"function\") {\n    return new DOMRect(x, y, width, height);\n  }\n  const rect = {\n    x,\n    y,\n    width,\n    height,\n    top: y,\n    right: x + width,\n    bottom: y + height,\n    left: x\n  };\n  return { ...rect, toJSON: () => rect };\n}\nfunction getDOMRect(anchorRect) {\n  if (!anchorRect)\n    return createDOMRect();\n  const { x, y, width, height } = anchorRect;\n  return createDOMRect(x, y, width, height);\n}\nfunction getAnchorElement(anchorElement, getAnchorRect) {\n  return {\n    contextElement: (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_0__.isHTMLElement)(anchorElement) ? anchorElement : void 0,\n    getBoundingClientRect: () => {\n      const anchor = anchorElement;\n      const anchorRect = getAnchorRect?.(anchor);\n      if (anchorRect || !anchor) {\n        return getDOMRect(anchorRect);\n      }\n      return anchor.getBoundingClientRect();\n    }\n  };\n}\n\n// src/middleware.ts\nvar toVar = (value) => ({ variable: value, reference: `var(${value})` });\nvar cssVars = {\n  arrowSize: toVar(\"--arrow-size\"),\n  arrowSizeHalf: toVar(\"--arrow-size-half\"),\n  arrowBg: toVar(\"--arrow-background\"),\n  transformOrigin: toVar(\"--transform-origin\"),\n  arrowOffset: toVar(\"--arrow-offset\")\n};\nvar getTransformOrigin = (arrow2) => ({\n  top: \"bottom center\",\n  \"top-start\": arrow2 ? `${arrow2.x}px bottom` : \"left bottom\",\n  \"top-end\": arrow2 ? `${arrow2.x}px bottom` : \"right bottom\",\n  bottom: \"top center\",\n  \"bottom-start\": arrow2 ? `${arrow2.x}px top` : \"top left\",\n  \"bottom-end\": arrow2 ? `${arrow2.x}px top` : \"top right\",\n  left: \"right center\",\n  \"left-start\": arrow2 ? `right ${arrow2.y}px` : \"right top\",\n  \"left-end\": arrow2 ? `right ${arrow2.y}px` : \"right bottom\",\n  right: \"left center\",\n  \"right-start\": arrow2 ? `left ${arrow2.y}px` : \"left top\",\n  \"right-end\": arrow2 ? `left ${arrow2.y}px` : \"left bottom\"\n});\nvar __transformOrigin = {\n  name: \"transformOrigin\",\n  fn({ placement, elements, middlewareData }) {\n    const { arrow: arrow2 } = middlewareData;\n    const transformOrigin = getTransformOrigin(arrow2)[placement];\n    const { floating } = elements;\n    floating.style.setProperty(cssVars.transformOrigin.variable, transformOrigin);\n    return {\n      data: { transformOrigin }\n    };\n  }\n};\nvar __shiftArrow = (arrowEl) => {\n  if (!arrowEl)\n    return;\n  return {\n    name: \"shiftArrow\",\n    fn({ placement, middlewareData }) {\n      if (!middlewareData.arrow)\n        return {};\n      const { x, y } = middlewareData.arrow;\n      const dir = placement.split(\"-\")[0];\n      Object.assign(arrowEl.style, {\n        left: x != null ? `${x}px` : \"\",\n        top: y != null ? `${y}px` : \"\",\n        [dir]: `calc(100% + ${cssVars.arrowOffset.reference})`\n      });\n      return {};\n    }\n  };\n};\n\n// src/placement.ts\nfunction isValidPlacement(v) {\n  return /^(?:top|bottom|left|right)(?:-(?:start|end))?$/.test(v);\n}\nfunction getPlacementDetails(placement) {\n  const [side, align] = placement.split(\"-\");\n  return { side, align, hasAlign: align != null };\n}\nfunction getPlacementSide(placement) {\n  return placement.split(\"-\")[0];\n}\n\n// src/get-placement.ts\nvar defaultOptions = {\n  strategy: \"absolute\",\n  placement: \"bottom\",\n  listeners: true,\n  gutter: 8,\n  flip: true,\n  slide: true,\n  overlap: false,\n  sameWidth: false,\n  fitViewport: false,\n  overflowPadding: 8,\n  arrowPadding: 4\n};\nfunction __dpr(win, value) {\n  const dpr = win.devicePixelRatio || 1;\n  return Math.round(value * dpr) / dpr;\n}\nfunction __boundary(opts) {\n  return (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_3__.runIfFn)(opts.boundary);\n}\nfunction __arrow(arrowElement, opts) {\n  if (!arrowElement)\n    return;\n  return (0,_floating_ui_dom__WEBPACK_IMPORTED_MODULE_4__.arrow)({\n    element: arrowElement,\n    padding: opts.arrowPadding\n  });\n}\nfunction __offset(arrowElement, opts) {\n  if ((0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_3__.isNull)(opts.offset ?? opts.gutter))\n    return;\n  return (0,_floating_ui_dom__WEBPACK_IMPORTED_MODULE_4__.offset)(({ placement }) => {\n    const arrowOffset = (arrowElement?.clientHeight || 0) / 2;\n    const gutter = opts.offset?.mainAxis ?? opts.gutter;\n    const mainAxis = typeof gutter === \"number\" ? gutter + arrowOffset : gutter ?? arrowOffset;\n    const { hasAlign } = getPlacementDetails(placement);\n    return (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_3__.compact)({\n      crossAxis: hasAlign ? opts.shift : void 0,\n      mainAxis,\n      alignmentAxis: opts.shift\n    });\n  });\n}\nfunction __flip(opts) {\n  if (!opts.flip)\n    return;\n  return (0,_floating_ui_dom__WEBPACK_IMPORTED_MODULE_4__.flip)({\n    boundary: __boundary(opts),\n    padding: opts.overflowPadding,\n    fallbackPlacements: opts.flip === true ? void 0 : opts.flip\n  });\n}\nfunction __shift(opts) {\n  if (!opts.slide && !opts.overlap)\n    return;\n  return (0,_floating_ui_dom__WEBPACK_IMPORTED_MODULE_4__.shift)({\n    boundary: __boundary(opts),\n    mainAxis: opts.slide,\n    crossAxis: opts.overlap,\n    padding: opts.overflowPadding\n  });\n}\nfunction __size(opts) {\n  return (0,_floating_ui_dom__WEBPACK_IMPORTED_MODULE_4__.size)({\n    padding: opts.overflowPadding,\n    apply({ elements, rects, availableHeight, availableWidth }) {\n      const floating = elements.floating;\n      const referenceWidth = Math.round(rects.reference.width);\n      availableWidth = Math.floor(availableWidth);\n      availableHeight = Math.floor(availableHeight);\n      floating.style.setProperty(\"--reference-width\", `${referenceWidth}px`);\n      floating.style.setProperty(\"--available-width\", `${availableWidth}px`);\n      floating.style.setProperty(\"--available-height\", `${availableHeight}px`);\n    }\n  });\n}\nfunction getPlacementImpl(referenceOrVirtual, floating, opts = {}) {\n  const reference = getAnchorElement(referenceOrVirtual, opts.getAnchorRect);\n  if (!floating || !reference)\n    return;\n  const options = Object.assign({}, defaultOptions, opts);\n  const arrowEl = floating.querySelector(\"[data-part=arrow]\");\n  const middleware = [\n    __offset(arrowEl, options),\n    __flip(options),\n    __shift(options),\n    __arrow(arrowEl, options),\n    __shiftArrow(arrowEl),\n    __transformOrigin,\n    __size(options)\n  ];\n  const { placement, strategy, onComplete, onPositioned } = options;\n  const updatePosition = async () => {\n    if (!reference || !floating)\n      return;\n    const pos = await (0,_floating_ui_dom__WEBPACK_IMPORTED_MODULE_5__.computePosition)(reference, floating, {\n      placement,\n      middleware,\n      strategy\n    });\n    onComplete?.(pos);\n    onPositioned?.({ placed: true });\n    const win = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_0__.getWindow)(floating);\n    const x = __dpr(win, pos.x);\n    const y = __dpr(win, pos.y);\n    floating.style.setProperty(\"--x\", `${x}px`);\n    floating.style.setProperty(\"--y\", `${y}px`);\n    const contentEl = floating.firstElementChild;\n    if (contentEl) {\n      const zIndex = win.getComputedStyle(contentEl).zIndex;\n      floating.style.setProperty(\"--z-index\", zIndex);\n    }\n  };\n  const update = async () => {\n    if (opts.updatePosition) {\n      await opts.updatePosition({ updatePosition });\n      onPositioned?.({ placed: true });\n    } else {\n      await updatePosition();\n    }\n  };\n  const cancelAutoUpdate = options.listeners ? autoUpdate(reference, floating, update, options.listeners) : void 0;\n  update();\n  return () => {\n    cancelAutoUpdate?.();\n    onPositioned?.({ placed: false });\n    options.onCleanup?.();\n  };\n}\nfunction getPlacement(referenceOrFn, floatingOrFn, opts = {}) {\n  const { defer, ...options } = opts;\n  const func = defer ? _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_0__.raf : (v) => v();\n  const cleanups = [];\n  cleanups.push(\n    func(() => {\n      const reference = typeof referenceOrFn === \"function\" ? referenceOrFn() : referenceOrFn;\n      const floating = typeof floatingOrFn === \"function\" ? floatingOrFn() : floatingOrFn;\n      cleanups.push(getPlacementImpl(reference, floating, options));\n    })\n  );\n  return () => {\n    cleanups.forEach((fn) => fn?.());\n  };\n}\n\n// src/get-styles.ts\nvar ARROW_FLOATING_STYLE = {\n  bottom: \"rotate(45deg)\",\n  left: \"rotate(135deg)\",\n  top: \"rotate(225deg)\",\n  right: \"rotate(315deg)\"\n};\nfunction getPlacementStyles(options = {}) {\n  const { placement, sameWidth, fitViewport, strategy = \"absolute\" } = options;\n  return {\n    arrow: {\n      position: \"absolute\",\n      width: cssVars.arrowSize.reference,\n      height: cssVars.arrowSize.reference,\n      [cssVars.arrowSizeHalf.variable]: `calc(${cssVars.arrowSize.reference} / 2)`,\n      [cssVars.arrowOffset.variable]: `calc(${cssVars.arrowSizeHalf.reference} * -1)`\n    },\n    arrowTip: {\n      transform: placement ? ARROW_FLOATING_STYLE[placement.split(\"-\")[0]] : void 0,\n      background: cssVars.arrowBg.reference,\n      top: \"0\",\n      left: \"0\",\n      width: \"100%\",\n      height: \"100%\",\n      position: \"absolute\",\n      zIndex: \"inherit\"\n    },\n    floating: {\n      position: strategy,\n      isolation: \"isolate\",\n      minWidth: sameWidth ? void 0 : \"max-content\",\n      width: sameWidth ? \"var(--reference-width)\" : void 0,\n      maxWidth: fitViewport ? \"var(--available-width)\" : void 0,\n      maxHeight: fitViewport ? \"var(--available-height)\" : void 0,\n      top: \"0px\",\n      left: \"0px\",\n      // move off-screen if placement is not defined\n      transform: placement ? \"translate3d(var(--x), var(--y), 0)\" : \"translate3d(0, -100vh, 0)\",\n      zIndex: \"var(--z-index)\"\n    }\n  };\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9wb3BwZXIvZGlzdC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ3FGO0FBQ2xDO0FBQ007O0FBRXpEO0FBQ3dEO0FBQ047QUFDTTtBQUNoQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsa0RBQWtEO0FBQzVEO0FBQ0E7QUFDQSxzQkFBc0IsZ0VBQWE7QUFDbkMsc0JBQXNCLHNFQUFvQjtBQUMxQztBQUNBO0FBQ0Esb0JBQW9CLHNFQUFnQixhQUFhLGlDQUFpQztBQUNsRiwyQkFBMkIsZ0VBQWE7QUFDeEMsb0JBQW9CLHNFQUFnQixjQUFjLGtCQUFrQjtBQUNwRTtBQUNBLGtCQUFrQixzREFBTztBQUN6QjtBQUNBO0FBQ0E7QUFDQSxXQUFXLHNEQUFPLDhEQUE4RCxlQUFlO0FBQy9GO0FBQ0EsU0FBUyxzREFBTztBQUNoQjs7QUFFQTtBQUNvRTtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxzQkFBc0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsZ0VBQWM7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwwQkFBMEIsbUNBQW1DLE1BQU0sSUFBSTtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsU0FBUztBQUNwQyx5QkFBeUIsU0FBUztBQUNsQztBQUNBLDhCQUE4QixTQUFTO0FBQ3ZDLDRCQUE0QixTQUFTO0FBQ3JDO0FBQ0Esa0NBQWtDLFNBQVM7QUFDM0MsZ0NBQWdDLFNBQVM7QUFDekM7QUFDQSxr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cmVhY3QtbmV4dC1qcy8uL25vZGVfbW9kdWxlcy9AemFnLWpzL3BvcHBlci9kaXN0L2luZGV4Lm1qcz81YzNkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9nZXQtcGxhY2VtZW50LnRzXG5pbXBvcnQgeyBhcnJvdywgY29tcHV0ZVBvc2l0aW9uLCBmbGlwLCBvZmZzZXQsIHNoaWZ0LCBzaXplIH0gZnJvbSBcIkBmbG9hdGluZy11aS9kb21cIjtcbmltcG9ydCB7IGdldFdpbmRvdywgcmFmIH0gZnJvbSBcIkB6YWctanMvZG9tLXF1ZXJ5XCI7XG5pbXBvcnQgeyBjb21wYWN0LCBpc051bGwsIHJ1bklmRm4gfSBmcm9tIFwiQHphZy1qcy91dGlsc1wiO1xuXG4vLyBzcmMvYXV0by11cGRhdGUudHNcbmltcG9ydCB7IGdldE92ZXJmbG93QW5jZXN0b3JzIH0gZnJvbSBcIkBmbG9hdGluZy11aS9kb21cIjtcbmltcG9ydCB7IGlzSFRNTEVsZW1lbnQgfSBmcm9tIFwiQHphZy1qcy9kb20tcXVlcnlcIjtcbmltcG9ydCB7IHRyYWNrRWxlbWVudFJlY3QgfSBmcm9tIFwiQHphZy1qcy9lbGVtZW50LXJlY3RcIjtcbmltcG9ydCB7IGNhbGxBbGwgfSBmcm9tIFwiQHphZy1qcy91dGlsc1wiO1xudmFyIGFkZERvbUV2ZW50ID0gKGVsLCB0eXBlLCBmbiwgb3B0aW9ucykgPT4ge1xuICBlbC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGZuLCBvcHRpb25zKTtcbiAgcmV0dXJuICgpID0+IGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgZm4sIG9wdGlvbnMpO1xufTtcbmZ1bmN0aW9uIHJlc29sdmVPcHRpb25zKG9wdGlvbikge1xuICBjb25zdCBib29sID0gdHlwZW9mIG9wdGlvbiA9PT0gXCJib29sZWFuXCI7XG4gIHJldHVybiB7XG4gICAgYW5jZXN0b3JSZXNpemU6IGJvb2wgPyBvcHRpb24gOiBvcHRpb24uYW5jZXN0b3JSZXNpemUgPz8gdHJ1ZSxcbiAgICBhbmNlc3RvclNjcm9sbDogYm9vbCA/IG9wdGlvbiA6IG9wdGlvbi5hbmNlc3RvclNjcm9sbCA/PyB0cnVlLFxuICAgIHJlZmVyZW5jZVJlc2l6ZTogYm9vbCA/IG9wdGlvbiA6IG9wdGlvbi5yZWZlcmVuY2VSZXNpemUgPz8gdHJ1ZVxuICB9O1xufVxuZnVuY3Rpb24gYXV0b1VwZGF0ZShyZWZlcmVuY2UsIGZsb2F0aW5nLCB1cGRhdGUsIG9wdGlvbnMgPSBmYWxzZSkge1xuICBjb25zdCB7IGFuY2VzdG9yU2Nyb2xsLCBhbmNlc3RvclJlc2l6ZSwgcmVmZXJlbmNlUmVzaXplIH0gPSByZXNvbHZlT3B0aW9ucyhvcHRpb25zKTtcbiAgY29uc3QgdXNlQW5jZXN0b3JzID0gYW5jZXN0b3JTY3JvbGwgfHwgYW5jZXN0b3JSZXNpemU7XG4gIGNvbnN0IGFuY2VzdG9ycyA9IFtdO1xuICBpZiAodXNlQW5jZXN0b3JzICYmIGlzSFRNTEVsZW1lbnQocmVmZXJlbmNlKSkge1xuICAgIGFuY2VzdG9ycy5wdXNoKC4uLmdldE92ZXJmbG93QW5jZXN0b3JzKHJlZmVyZW5jZSkpO1xuICB9XG4gIGZ1bmN0aW9uIGFkZFJlc2l6ZUxpc3RlbmVycygpIHtcbiAgICBsZXQgY2xlYW51cHMgPSBbdHJhY2tFbGVtZW50UmVjdChmbG9hdGluZywgeyBzY29wZTogXCJzaXplXCIsIG9uQ2hhbmdlOiB1cGRhdGUgfSldO1xuICAgIGlmIChyZWZlcmVuY2VSZXNpemUgJiYgaXNIVE1MRWxlbWVudChyZWZlcmVuY2UpKSB7XG4gICAgICBjbGVhbnVwcy5wdXNoKHRyYWNrRWxlbWVudFJlY3QocmVmZXJlbmNlLCB7IG9uQ2hhbmdlOiB1cGRhdGUgfSkpO1xuICAgIH1cbiAgICBjbGVhbnVwcy5wdXNoKGNhbGxBbGwoLi4uYW5jZXN0b3JzLm1hcCgoZWwpID0+IGFkZERvbUV2ZW50KGVsLCBcInJlc2l6ZVwiLCB1cGRhdGUpKSkpO1xuICAgIHJldHVybiAoKSA9PiBjbGVhbnVwcy5mb3JFYWNoKChmbikgPT4gZm4oKSk7XG4gIH1cbiAgZnVuY3Rpb24gYWRkU2Nyb2xsTGlzdGVuZXJzKCkge1xuICAgIHJldHVybiBjYWxsQWxsKC4uLmFuY2VzdG9ycy5tYXAoKGVsKSA9PiBhZGREb21FdmVudChlbCwgXCJzY3JvbGxcIiwgdXBkYXRlLCB7IHBhc3NpdmU6IHRydWUgfSkpKTtcbiAgfVxuICByZXR1cm4gY2FsbEFsbChhZGRSZXNpemVMaXN0ZW5lcnMoKSwgYWRkU2Nyb2xsTGlzdGVuZXJzKCkpO1xufVxuXG4vLyBzcmMvZ2V0LWFuY2hvci50c1xuaW1wb3J0IHsgaXNIVE1MRWxlbWVudCBhcyBpc0hUTUxFbGVtZW50MiB9IGZyb20gXCJAemFnLWpzL2RvbS1xdWVyeVwiO1xuZnVuY3Rpb24gY3JlYXRlRE9NUmVjdCh4ID0gMCwgeSA9IDAsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCkge1xuICBpZiAodHlwZW9mIERPTVJlY3QgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHJldHVybiBuZXcgRE9NUmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcbiAgfVxuICBjb25zdCByZWN0ID0ge1xuICAgIHgsXG4gICAgeSxcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgdG9wOiB5LFxuICAgIHJpZ2h0OiB4ICsgd2lkdGgsXG4gICAgYm90dG9tOiB5ICsgaGVpZ2h0LFxuICAgIGxlZnQ6IHhcbiAgfTtcbiAgcmV0dXJuIHsgLi4ucmVjdCwgdG9KU09OOiAoKSA9PiByZWN0IH07XG59XG5mdW5jdGlvbiBnZXRET01SZWN0KGFuY2hvclJlY3QpIHtcbiAgaWYgKCFhbmNob3JSZWN0KVxuICAgIHJldHVybiBjcmVhdGVET01SZWN0KCk7XG4gIGNvbnN0IHsgeCwgeSwgd2lkdGgsIGhlaWdodCB9ID0gYW5jaG9yUmVjdDtcbiAgcmV0dXJuIGNyZWF0ZURPTVJlY3QoeCwgeSwgd2lkdGgsIGhlaWdodCk7XG59XG5mdW5jdGlvbiBnZXRBbmNob3JFbGVtZW50KGFuY2hvckVsZW1lbnQsIGdldEFuY2hvclJlY3QpIHtcbiAgcmV0dXJuIHtcbiAgICBjb250ZXh0RWxlbWVudDogaXNIVE1MRWxlbWVudDIoYW5jaG9yRWxlbWVudCkgPyBhbmNob3JFbGVtZW50IDogdm9pZCAwLFxuICAgIGdldEJvdW5kaW5nQ2xpZW50UmVjdDogKCkgPT4ge1xuICAgICAgY29uc3QgYW5jaG9yID0gYW5jaG9yRWxlbWVudDtcbiAgICAgIGNvbnN0IGFuY2hvclJlY3QgPSBnZXRBbmNob3JSZWN0Py4oYW5jaG9yKTtcbiAgICAgIGlmIChhbmNob3JSZWN0IHx8ICFhbmNob3IpIHtcbiAgICAgICAgcmV0dXJuIGdldERPTVJlY3QoYW5jaG9yUmVjdCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYW5jaG9yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIH1cbiAgfTtcbn1cblxuLy8gc3JjL21pZGRsZXdhcmUudHNcbnZhciB0b1ZhciA9ICh2YWx1ZSkgPT4gKHsgdmFyaWFibGU6IHZhbHVlLCByZWZlcmVuY2U6IGB2YXIoJHt2YWx1ZX0pYCB9KTtcbnZhciBjc3NWYXJzID0ge1xuICBhcnJvd1NpemU6IHRvVmFyKFwiLS1hcnJvdy1zaXplXCIpLFxuICBhcnJvd1NpemVIYWxmOiB0b1ZhcihcIi0tYXJyb3ctc2l6ZS1oYWxmXCIpLFxuICBhcnJvd0JnOiB0b1ZhcihcIi0tYXJyb3ctYmFja2dyb3VuZFwiKSxcbiAgdHJhbnNmb3JtT3JpZ2luOiB0b1ZhcihcIi0tdHJhbnNmb3JtLW9yaWdpblwiKSxcbiAgYXJyb3dPZmZzZXQ6IHRvVmFyKFwiLS1hcnJvdy1vZmZzZXRcIilcbn07XG52YXIgZ2V0VHJhbnNmb3JtT3JpZ2luID0gKGFycm93MikgPT4gKHtcbiAgdG9wOiBcImJvdHRvbSBjZW50ZXJcIixcbiAgXCJ0b3Atc3RhcnRcIjogYXJyb3cyID8gYCR7YXJyb3cyLnh9cHggYm90dG9tYCA6IFwibGVmdCBib3R0b21cIixcbiAgXCJ0b3AtZW5kXCI6IGFycm93MiA/IGAke2Fycm93Mi54fXB4IGJvdHRvbWAgOiBcInJpZ2h0IGJvdHRvbVwiLFxuICBib3R0b206IFwidG9wIGNlbnRlclwiLFxuICBcImJvdHRvbS1zdGFydFwiOiBhcnJvdzIgPyBgJHthcnJvdzIueH1weCB0b3BgIDogXCJ0b3AgbGVmdFwiLFxuICBcImJvdHRvbS1lbmRcIjogYXJyb3cyID8gYCR7YXJyb3cyLnh9cHggdG9wYCA6IFwidG9wIHJpZ2h0XCIsXG4gIGxlZnQ6IFwicmlnaHQgY2VudGVyXCIsXG4gIFwibGVmdC1zdGFydFwiOiBhcnJvdzIgPyBgcmlnaHQgJHthcnJvdzIueX1weGAgOiBcInJpZ2h0IHRvcFwiLFxuICBcImxlZnQtZW5kXCI6IGFycm93MiA/IGByaWdodCAke2Fycm93Mi55fXB4YCA6IFwicmlnaHQgYm90dG9tXCIsXG4gIHJpZ2h0OiBcImxlZnQgY2VudGVyXCIsXG4gIFwicmlnaHQtc3RhcnRcIjogYXJyb3cyID8gYGxlZnQgJHthcnJvdzIueX1weGAgOiBcImxlZnQgdG9wXCIsXG4gIFwicmlnaHQtZW5kXCI6IGFycm93MiA/IGBsZWZ0ICR7YXJyb3cyLnl9cHhgIDogXCJsZWZ0IGJvdHRvbVwiXG59KTtcbnZhciBfX3RyYW5zZm9ybU9yaWdpbiA9IHtcbiAgbmFtZTogXCJ0cmFuc2Zvcm1PcmlnaW5cIixcbiAgZm4oeyBwbGFjZW1lbnQsIGVsZW1lbnRzLCBtaWRkbGV3YXJlRGF0YSB9KSB7XG4gICAgY29uc3QgeyBhcnJvdzogYXJyb3cyIH0gPSBtaWRkbGV3YXJlRGF0YTtcbiAgICBjb25zdCB0cmFuc2Zvcm1PcmlnaW4gPSBnZXRUcmFuc2Zvcm1PcmlnaW4oYXJyb3cyKVtwbGFjZW1lbnRdO1xuICAgIGNvbnN0IHsgZmxvYXRpbmcgfSA9IGVsZW1lbnRzO1xuICAgIGZsb2F0aW5nLnN0eWxlLnNldFByb3BlcnR5KGNzc1ZhcnMudHJhbnNmb3JtT3JpZ2luLnZhcmlhYmxlLCB0cmFuc2Zvcm1PcmlnaW4pO1xuICAgIHJldHVybiB7XG4gICAgICBkYXRhOiB7IHRyYW5zZm9ybU9yaWdpbiB9XG4gICAgfTtcbiAgfVxufTtcbnZhciBfX3NoaWZ0QXJyb3cgPSAoYXJyb3dFbCkgPT4ge1xuICBpZiAoIWFycm93RWwpXG4gICAgcmV0dXJuO1xuICByZXR1cm4ge1xuICAgIG5hbWU6IFwic2hpZnRBcnJvd1wiLFxuICAgIGZuKHsgcGxhY2VtZW50LCBtaWRkbGV3YXJlRGF0YSB9KSB7XG4gICAgICBpZiAoIW1pZGRsZXdhcmVEYXRhLmFycm93KVxuICAgICAgICByZXR1cm4ge307XG4gICAgICBjb25zdCB7IHgsIHkgfSA9IG1pZGRsZXdhcmVEYXRhLmFycm93O1xuICAgICAgY29uc3QgZGlyID0gcGxhY2VtZW50LnNwbGl0KFwiLVwiKVswXTtcbiAgICAgIE9iamVjdC5hc3NpZ24oYXJyb3dFbC5zdHlsZSwge1xuICAgICAgICBsZWZ0OiB4ICE9IG51bGwgPyBgJHt4fXB4YCA6IFwiXCIsXG4gICAgICAgIHRvcDogeSAhPSBudWxsID8gYCR7eX1weGAgOiBcIlwiLFxuICAgICAgICBbZGlyXTogYGNhbGMoMTAwJSArICR7Y3NzVmFycy5hcnJvd09mZnNldC5yZWZlcmVuY2V9KWBcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgfTtcbn07XG5cbi8vIHNyYy9wbGFjZW1lbnQudHNcbmZ1bmN0aW9uIGlzVmFsaWRQbGFjZW1lbnQodikge1xuICByZXR1cm4gL14oPzp0b3B8Ym90dG9tfGxlZnR8cmlnaHQpKD86LSg/OnN0YXJ0fGVuZCkpPyQvLnRlc3Qodik7XG59XG5mdW5jdGlvbiBnZXRQbGFjZW1lbnREZXRhaWxzKHBsYWNlbWVudCkge1xuICBjb25zdCBbc2lkZSwgYWxpZ25dID0gcGxhY2VtZW50LnNwbGl0KFwiLVwiKTtcbiAgcmV0dXJuIHsgc2lkZSwgYWxpZ24sIGhhc0FsaWduOiBhbGlnbiAhPSBudWxsIH07XG59XG5mdW5jdGlvbiBnZXRQbGFjZW1lbnRTaWRlKHBsYWNlbWVudCkge1xuICByZXR1cm4gcGxhY2VtZW50LnNwbGl0KFwiLVwiKVswXTtcbn1cblxuLy8gc3JjL2dldC1wbGFjZW1lbnQudHNcbnZhciBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgc3RyYXRlZ3k6IFwiYWJzb2x1dGVcIixcbiAgcGxhY2VtZW50OiBcImJvdHRvbVwiLFxuICBsaXN0ZW5lcnM6IHRydWUsXG4gIGd1dHRlcjogOCxcbiAgZmxpcDogdHJ1ZSxcbiAgc2xpZGU6IHRydWUsXG4gIG92ZXJsYXA6IGZhbHNlLFxuICBzYW1lV2lkdGg6IGZhbHNlLFxuICBmaXRWaWV3cG9ydDogZmFsc2UsXG4gIG92ZXJmbG93UGFkZGluZzogOCxcbiAgYXJyb3dQYWRkaW5nOiA0XG59O1xuZnVuY3Rpb24gX19kcHIod2luLCB2YWx1ZSkge1xuICBjb25zdCBkcHIgPSB3aW4uZGV2aWNlUGl4ZWxSYXRpbyB8fCAxO1xuICByZXR1cm4gTWF0aC5yb3VuZCh2YWx1ZSAqIGRwcikgLyBkcHI7XG59XG5mdW5jdGlvbiBfX2JvdW5kYXJ5KG9wdHMpIHtcbiAgcmV0dXJuIHJ1bklmRm4ob3B0cy5ib3VuZGFyeSk7XG59XG5mdW5jdGlvbiBfX2Fycm93KGFycm93RWxlbWVudCwgb3B0cykge1xuICBpZiAoIWFycm93RWxlbWVudClcbiAgICByZXR1cm47XG4gIHJldHVybiBhcnJvdyh7XG4gICAgZWxlbWVudDogYXJyb3dFbGVtZW50LFxuICAgIHBhZGRpbmc6IG9wdHMuYXJyb3dQYWRkaW5nXG4gIH0pO1xufVxuZnVuY3Rpb24gX19vZmZzZXQoYXJyb3dFbGVtZW50LCBvcHRzKSB7XG4gIGlmIChpc051bGwob3B0cy5vZmZzZXQgPz8gb3B0cy5ndXR0ZXIpKVxuICAgIHJldHVybjtcbiAgcmV0dXJuIG9mZnNldCgoeyBwbGFjZW1lbnQgfSkgPT4ge1xuICAgIGNvbnN0IGFycm93T2Zmc2V0ID0gKGFycm93RWxlbWVudD8uY2xpZW50SGVpZ2h0IHx8IDApIC8gMjtcbiAgICBjb25zdCBndXR0ZXIgPSBvcHRzLm9mZnNldD8ubWFpbkF4aXMgPz8gb3B0cy5ndXR0ZXI7XG4gICAgY29uc3QgbWFpbkF4aXMgPSB0eXBlb2YgZ3V0dGVyID09PSBcIm51bWJlclwiID8gZ3V0dGVyICsgYXJyb3dPZmZzZXQgOiBndXR0ZXIgPz8gYXJyb3dPZmZzZXQ7XG4gICAgY29uc3QgeyBoYXNBbGlnbiB9ID0gZ2V0UGxhY2VtZW50RGV0YWlscyhwbGFjZW1lbnQpO1xuICAgIHJldHVybiBjb21wYWN0KHtcbiAgICAgIGNyb3NzQXhpczogaGFzQWxpZ24gPyBvcHRzLnNoaWZ0IDogdm9pZCAwLFxuICAgICAgbWFpbkF4aXMsXG4gICAgICBhbGlnbm1lbnRBeGlzOiBvcHRzLnNoaWZ0XG4gICAgfSk7XG4gIH0pO1xufVxuZnVuY3Rpb24gX19mbGlwKG9wdHMpIHtcbiAgaWYgKCFvcHRzLmZsaXApXG4gICAgcmV0dXJuO1xuICByZXR1cm4gZmxpcCh7XG4gICAgYm91bmRhcnk6IF9fYm91bmRhcnkob3B0cyksXG4gICAgcGFkZGluZzogb3B0cy5vdmVyZmxvd1BhZGRpbmcsXG4gICAgZmFsbGJhY2tQbGFjZW1lbnRzOiBvcHRzLmZsaXAgPT09IHRydWUgPyB2b2lkIDAgOiBvcHRzLmZsaXBcbiAgfSk7XG59XG5mdW5jdGlvbiBfX3NoaWZ0KG9wdHMpIHtcbiAgaWYgKCFvcHRzLnNsaWRlICYmICFvcHRzLm92ZXJsYXApXG4gICAgcmV0dXJuO1xuICByZXR1cm4gc2hpZnQoe1xuICAgIGJvdW5kYXJ5OiBfX2JvdW5kYXJ5KG9wdHMpLFxuICAgIG1haW5BeGlzOiBvcHRzLnNsaWRlLFxuICAgIGNyb3NzQXhpczogb3B0cy5vdmVybGFwLFxuICAgIHBhZGRpbmc6IG9wdHMub3ZlcmZsb3dQYWRkaW5nXG4gIH0pO1xufVxuZnVuY3Rpb24gX19zaXplKG9wdHMpIHtcbiAgcmV0dXJuIHNpemUoe1xuICAgIHBhZGRpbmc6IG9wdHMub3ZlcmZsb3dQYWRkaW5nLFxuICAgIGFwcGx5KHsgZWxlbWVudHMsIHJlY3RzLCBhdmFpbGFibGVIZWlnaHQsIGF2YWlsYWJsZVdpZHRoIH0pIHtcbiAgICAgIGNvbnN0IGZsb2F0aW5nID0gZWxlbWVudHMuZmxvYXRpbmc7XG4gICAgICBjb25zdCByZWZlcmVuY2VXaWR0aCA9IE1hdGgucm91bmQocmVjdHMucmVmZXJlbmNlLndpZHRoKTtcbiAgICAgIGF2YWlsYWJsZVdpZHRoID0gTWF0aC5mbG9vcihhdmFpbGFibGVXaWR0aCk7XG4gICAgICBhdmFpbGFibGVIZWlnaHQgPSBNYXRoLmZsb29yKGF2YWlsYWJsZUhlaWdodCk7XG4gICAgICBmbG9hdGluZy5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tcmVmZXJlbmNlLXdpZHRoXCIsIGAke3JlZmVyZW5jZVdpZHRofXB4YCk7XG4gICAgICBmbG9hdGluZy5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tYXZhaWxhYmxlLXdpZHRoXCIsIGAke2F2YWlsYWJsZVdpZHRofXB4YCk7XG4gICAgICBmbG9hdGluZy5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tYXZhaWxhYmxlLWhlaWdodFwiLCBgJHthdmFpbGFibGVIZWlnaHR9cHhgKTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gZ2V0UGxhY2VtZW50SW1wbChyZWZlcmVuY2VPclZpcnR1YWwsIGZsb2F0aW5nLCBvcHRzID0ge30pIHtcbiAgY29uc3QgcmVmZXJlbmNlID0gZ2V0QW5jaG9yRWxlbWVudChyZWZlcmVuY2VPclZpcnR1YWwsIG9wdHMuZ2V0QW5jaG9yUmVjdCk7XG4gIGlmICghZmxvYXRpbmcgfHwgIXJlZmVyZW5jZSlcbiAgICByZXR1cm47XG4gIGNvbnN0IG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0T3B0aW9ucywgb3B0cyk7XG4gIGNvbnN0IGFycm93RWwgPSBmbG9hdGluZy5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtcGFydD1hcnJvd11cIik7XG4gIGNvbnN0IG1pZGRsZXdhcmUgPSBbXG4gICAgX19vZmZzZXQoYXJyb3dFbCwgb3B0aW9ucyksXG4gICAgX19mbGlwKG9wdGlvbnMpLFxuICAgIF9fc2hpZnQob3B0aW9ucyksXG4gICAgX19hcnJvdyhhcnJvd0VsLCBvcHRpb25zKSxcbiAgICBfX3NoaWZ0QXJyb3coYXJyb3dFbCksXG4gICAgX190cmFuc2Zvcm1PcmlnaW4sXG4gICAgX19zaXplKG9wdGlvbnMpXG4gIF07XG4gIGNvbnN0IHsgcGxhY2VtZW50LCBzdHJhdGVneSwgb25Db21wbGV0ZSwgb25Qb3NpdGlvbmVkIH0gPSBvcHRpb25zO1xuICBjb25zdCB1cGRhdGVQb3NpdGlvbiA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIXJlZmVyZW5jZSB8fCAhZmxvYXRpbmcpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgcG9zID0gYXdhaXQgY29tcHV0ZVBvc2l0aW9uKHJlZmVyZW5jZSwgZmxvYXRpbmcsIHtcbiAgICAgIHBsYWNlbWVudCxcbiAgICAgIG1pZGRsZXdhcmUsXG4gICAgICBzdHJhdGVneVxuICAgIH0pO1xuICAgIG9uQ29tcGxldGU/Lihwb3MpO1xuICAgIG9uUG9zaXRpb25lZD8uKHsgcGxhY2VkOiB0cnVlIH0pO1xuICAgIGNvbnN0IHdpbiA9IGdldFdpbmRvdyhmbG9hdGluZyk7XG4gICAgY29uc3QgeCA9IF9fZHByKHdpbiwgcG9zLngpO1xuICAgIGNvbnN0IHkgPSBfX2Rwcih3aW4sIHBvcy55KTtcbiAgICBmbG9hdGluZy5zdHlsZS5zZXRQcm9wZXJ0eShcIi0teFwiLCBgJHt4fXB4YCk7XG4gICAgZmxvYXRpbmcuc3R5bGUuc2V0UHJvcGVydHkoXCItLXlcIiwgYCR7eX1weGApO1xuICAgIGNvbnN0IGNvbnRlbnRFbCA9IGZsb2F0aW5nLmZpcnN0RWxlbWVudENoaWxkO1xuICAgIGlmIChjb250ZW50RWwpIHtcbiAgICAgIGNvbnN0IHpJbmRleCA9IHdpbi5nZXRDb21wdXRlZFN0eWxlKGNvbnRlbnRFbCkuekluZGV4O1xuICAgICAgZmxvYXRpbmcuc3R5bGUuc2V0UHJvcGVydHkoXCItLXotaW5kZXhcIiwgekluZGV4KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHVwZGF0ZSA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAob3B0cy51cGRhdGVQb3NpdGlvbikge1xuICAgICAgYXdhaXQgb3B0cy51cGRhdGVQb3NpdGlvbih7IHVwZGF0ZVBvc2l0aW9uIH0pO1xuICAgICAgb25Qb3NpdGlvbmVkPy4oeyBwbGFjZWQ6IHRydWUgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGF3YWl0IHVwZGF0ZVBvc2l0aW9uKCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBjYW5jZWxBdXRvVXBkYXRlID0gb3B0aW9ucy5saXN0ZW5lcnMgPyBhdXRvVXBkYXRlKHJlZmVyZW5jZSwgZmxvYXRpbmcsIHVwZGF0ZSwgb3B0aW9ucy5saXN0ZW5lcnMpIDogdm9pZCAwO1xuICB1cGRhdGUoKTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBjYW5jZWxBdXRvVXBkYXRlPy4oKTtcbiAgICBvblBvc2l0aW9uZWQ/Lih7IHBsYWNlZDogZmFsc2UgfSk7XG4gICAgb3B0aW9ucy5vbkNsZWFudXA/LigpO1xuICB9O1xufVxuZnVuY3Rpb24gZ2V0UGxhY2VtZW50KHJlZmVyZW5jZU9yRm4sIGZsb2F0aW5nT3JGbiwgb3B0cyA9IHt9KSB7XG4gIGNvbnN0IHsgZGVmZXIsIC4uLm9wdGlvbnMgfSA9IG9wdHM7XG4gIGNvbnN0IGZ1bmMgPSBkZWZlciA/IHJhZiA6ICh2KSA9PiB2KCk7XG4gIGNvbnN0IGNsZWFudXBzID0gW107XG4gIGNsZWFudXBzLnB1c2goXG4gICAgZnVuYygoKSA9PiB7XG4gICAgICBjb25zdCByZWZlcmVuY2UgPSB0eXBlb2YgcmVmZXJlbmNlT3JGbiA9PT0gXCJmdW5jdGlvblwiID8gcmVmZXJlbmNlT3JGbigpIDogcmVmZXJlbmNlT3JGbjtcbiAgICAgIGNvbnN0IGZsb2F0aW5nID0gdHlwZW9mIGZsb2F0aW5nT3JGbiA9PT0gXCJmdW5jdGlvblwiID8gZmxvYXRpbmdPckZuKCkgOiBmbG9hdGluZ09yRm47XG4gICAgICBjbGVhbnVwcy5wdXNoKGdldFBsYWNlbWVudEltcGwocmVmZXJlbmNlLCBmbG9hdGluZywgb3B0aW9ucykpO1xuICAgIH0pXG4gICk7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgY2xlYW51cHMuZm9yRWFjaCgoZm4pID0+IGZuPy4oKSk7XG4gIH07XG59XG5cbi8vIHNyYy9nZXQtc3R5bGVzLnRzXG52YXIgQVJST1dfRkxPQVRJTkdfU1RZTEUgPSB7XG4gIGJvdHRvbTogXCJyb3RhdGUoNDVkZWcpXCIsXG4gIGxlZnQ6IFwicm90YXRlKDEzNWRlZylcIixcbiAgdG9wOiBcInJvdGF0ZSgyMjVkZWcpXCIsXG4gIHJpZ2h0OiBcInJvdGF0ZSgzMTVkZWcpXCJcbn07XG5mdW5jdGlvbiBnZXRQbGFjZW1lbnRTdHlsZXMob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHsgcGxhY2VtZW50LCBzYW1lV2lkdGgsIGZpdFZpZXdwb3J0LCBzdHJhdGVneSA9IFwiYWJzb2x1dGVcIiB9ID0gb3B0aW9ucztcbiAgcmV0dXJuIHtcbiAgICBhcnJvdzoge1xuICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgIHdpZHRoOiBjc3NWYXJzLmFycm93U2l6ZS5yZWZlcmVuY2UsXG4gICAgICBoZWlnaHQ6IGNzc1ZhcnMuYXJyb3dTaXplLnJlZmVyZW5jZSxcbiAgICAgIFtjc3NWYXJzLmFycm93U2l6ZUhhbGYudmFyaWFibGVdOiBgY2FsYygke2Nzc1ZhcnMuYXJyb3dTaXplLnJlZmVyZW5jZX0gLyAyKWAsXG4gICAgICBbY3NzVmFycy5hcnJvd09mZnNldC52YXJpYWJsZV06IGBjYWxjKCR7Y3NzVmFycy5hcnJvd1NpemVIYWxmLnJlZmVyZW5jZX0gKiAtMSlgXG4gICAgfSxcbiAgICBhcnJvd1RpcDoge1xuICAgICAgdHJhbnNmb3JtOiBwbGFjZW1lbnQgPyBBUlJPV19GTE9BVElOR19TVFlMRVtwbGFjZW1lbnQuc3BsaXQoXCItXCIpWzBdXSA6IHZvaWQgMCxcbiAgICAgIGJhY2tncm91bmQ6IGNzc1ZhcnMuYXJyb3dCZy5yZWZlcmVuY2UsXG4gICAgICB0b3A6IFwiMFwiLFxuICAgICAgbGVmdDogXCIwXCIsXG4gICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgIHpJbmRleDogXCJpbmhlcml0XCJcbiAgICB9LFxuICAgIGZsb2F0aW5nOiB7XG4gICAgICBwb3NpdGlvbjogc3RyYXRlZ3ksXG4gICAgICBpc29sYXRpb246IFwiaXNvbGF0ZVwiLFxuICAgICAgbWluV2lkdGg6IHNhbWVXaWR0aCA/IHZvaWQgMCA6IFwibWF4LWNvbnRlbnRcIixcbiAgICAgIHdpZHRoOiBzYW1lV2lkdGggPyBcInZhcigtLXJlZmVyZW5jZS13aWR0aClcIiA6IHZvaWQgMCxcbiAgICAgIG1heFdpZHRoOiBmaXRWaWV3cG9ydCA/IFwidmFyKC0tYXZhaWxhYmxlLXdpZHRoKVwiIDogdm9pZCAwLFxuICAgICAgbWF4SGVpZ2h0OiBmaXRWaWV3cG9ydCA/IFwidmFyKC0tYXZhaWxhYmxlLWhlaWdodClcIiA6IHZvaWQgMCxcbiAgICAgIHRvcDogXCIwcHhcIixcbiAgICAgIGxlZnQ6IFwiMHB4XCIsXG4gICAgICAvLyBtb3ZlIG9mZi1zY3JlZW4gaWYgcGxhY2VtZW50IGlzIG5vdCBkZWZpbmVkXG4gICAgICB0cmFuc2Zvcm06IHBsYWNlbWVudCA/IFwidHJhbnNsYXRlM2QodmFyKC0teCksIHZhcigtLXkpLCAwKVwiIDogXCJ0cmFuc2xhdGUzZCgwLCAtMTAwdmgsIDApXCIsXG4gICAgICB6SW5kZXg6IFwidmFyKC0tei1pbmRleClcIlxuICAgIH1cbiAgfTtcbn1cbmV4cG9ydCB7XG4gIGdldFBsYWNlbWVudCxcbiAgZ2V0UGxhY2VtZW50U2lkZSxcbiAgZ2V0UGxhY2VtZW50U3R5bGVzLFxuICBpc1ZhbGlkUGxhY2VtZW50XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/popper/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/presence/dist/index.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@zag-js/presence/dist/index.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   connect: () => (/* binding */ connect),\n/* harmony export */   machine: () => (/* binding */ machine)\n/* harmony export */ });\n/* harmony import */ var _zag_js_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/core */ \"(ssr)/./node_modules/@zag-js/core/dist/index.mjs\");\n/* harmony import */ var _zag_js_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @zag-js/core */ \"(ssr)/./node_modules/@zag-js/store/dist/index.mjs\");\n// src/presence.connect.ts\nfunction connect(state, send, normalize) {\n  return {\n    isPresent: state.matches(\"mounted\", \"unmountSuspended\"),\n    setNode(node) {\n      if (!node)\n        return;\n      send({ type: \"NODE.SET\", node });\n    }\n  };\n}\n\n// src/presence.machine.ts\n\nvar { and, or } = _zag_js_core__WEBPACK_IMPORTED_MODULE_0__.guards;\nfunction getAnimationName(styles) {\n  return styles?.animationName || \"none\";\n}\nfunction machine(ctx) {\n  const initialState = ctx.present ? \"mounted\" : \"unmounted\";\n  return (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_0__.createMachine)(\n    {\n      initial: initialState,\n      watch: {\n        present: [\"raisePresenceChange\", \"setPrevPresent\"]\n      },\n      on: {\n        \"NODE.SET\": {\n          actions: [\"setNode\", \"setStyles\"]\n        },\n        \"PRESENCE.CHANGED\": [\n          {\n            guard: \"isPresent\",\n            target: \"mounted\",\n            actions: [\"setPrevAnimationName\"]\n          },\n          {\n            guard: or(\"isAnimationNone\", \"isDisplayNone\"),\n            target: \"unmounted\"\n          },\n          {\n            guard: and(\"wasPresent\", \"isAnimating\"),\n            target: \"unmountSuspended\"\n          },\n          { target: \"unmounted\" }\n        ]\n      },\n      states: {\n        mounted: {\n          on: {\n            UNMOUNT: \"unmounted\",\n            \"ANIMATION.OUT\": \"unmountSuspended\"\n          }\n        },\n        unmountSuspended: {\n          activities: [\"trackAnimationEvents\"],\n          on: {\n            MOUNT: {\n              target: \"mounted\",\n              actions: [\"setPrevAnimationName\"]\n            },\n            \"ANIMATION.END\": \"unmounted\"\n          }\n        },\n        unmounted: {\n          entry: [\"clearPrevAnimationName\", \"invokeOnExitComplete\"],\n          on: {\n            MOUNT: \"mounted\"\n          }\n        }\n      }\n    },\n    {\n      guards: {\n        isPresent: (ctx2) => !!ctx2.present,\n        isAnimationNone: (ctx2) => getAnimationName(ctx2.styles) === \"none\",\n        isDisplayNone: (ctx2) => ctx2.styles?.display === \"none\",\n        wasPresent: (ctx2) => !!ctx2.prevPresent,\n        isAnimating: (ctx2) => ctx2.prevAnimationName !== getAnimationName(ctx2.styles)\n      },\n      actions: {\n        invokeOnExitComplete(ctx2) {\n          ctx2.onExitComplete?.();\n        },\n        setNode(ctx2, evt) {\n          ctx2.node = (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_1__.ref)(evt.node);\n        },\n        setStyles(ctx2, evt) {\n          const win = evt.node.ownerDocument.defaultView || window;\n          ctx2.styles = (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_1__.ref)(win.getComputedStyle(evt.node));\n        },\n        raisePresenceChange(_ctx, _evt, { send }) {\n          send(\"PRESENCE.CHANGED\");\n        },\n        setPrevPresent(ctx2) {\n          ctx2.prevPresent = ctx2.present;\n        },\n        setPrevAnimationName(ctx2) {\n          requestAnimationFrame(() => {\n            ctx2.prevAnimationName = getAnimationName(ctx2.styles);\n          });\n        },\n        clearPrevAnimationName(ctx2) {\n          ctx2.prevAnimationName = \"\";\n        }\n      },\n      activities: {\n        trackAnimationEvents(ctx2, _evt, { send }) {\n          const node = ctx2.node;\n          if (!node)\n            return;\n          const onStart = (event) => {\n            if (event.target === node) {\n              ctx2.prevAnimationName = getAnimationName(ctx2.styles);\n            }\n          };\n          const onEnd = (event) => {\n            const currentAnimationName = getAnimationName(ctx2.styles);\n            const isCurrentAnimation = currentAnimationName.includes(event.animationName);\n            if (event.target === node && isCurrentAnimation) {\n              send(\"ANIMATION.END\");\n            }\n          };\n          node.addEventListener(\"animationstart\", onStart);\n          node.addEventListener(\"animationcancel\", onEnd);\n          node.addEventListener(\"animationend\", onEnd);\n          return () => {\n            node.removeEventListener(\"animationstart\", onStart);\n            node.removeEventListener(\"animationcancel\", onEnd);\n            node.removeEventListener(\"animationend\", onEnd);\n          };\n        }\n      }\n    }\n  );\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9wcmVzZW5jZS9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHdCQUF3QjtBQUNyQztBQUNBO0FBQ0E7O0FBRUE7QUFDMEQ7QUFDMUQsTUFBTSxVQUFVLEVBQUUsZ0RBQU07QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsMkRBQWE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxZQUFZO0FBQ1o7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLHNCQUFzQixpREFBRztBQUN6QixTQUFTO0FBQ1Q7QUFDQTtBQUNBLHdCQUF3QixpREFBRztBQUMzQixTQUFTO0FBQ1QsMENBQTBDLE1BQU07QUFDaEQ7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLDJDQUEyQyxNQUFNO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL0BwYXJrLXVpL2V4YW1wbGVzLXJlYWN0LW5leHQtanMvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9wcmVzZW5jZS9kaXN0L2luZGV4Lm1qcz9hMWIyIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9wcmVzZW5jZS5jb25uZWN0LnRzXG5mdW5jdGlvbiBjb25uZWN0KHN0YXRlLCBzZW5kLCBub3JtYWxpemUpIHtcbiAgcmV0dXJuIHtcbiAgICBpc1ByZXNlbnQ6IHN0YXRlLm1hdGNoZXMoXCJtb3VudGVkXCIsIFwidW5tb3VudFN1c3BlbmRlZFwiKSxcbiAgICBzZXROb2RlKG5vZGUpIHtcbiAgICAgIGlmICghbm9kZSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgc2VuZCh7IHR5cGU6IFwiTk9ERS5TRVRcIiwgbm9kZSB9KTtcbiAgICB9XG4gIH07XG59XG5cbi8vIHNyYy9wcmVzZW5jZS5tYWNoaW5lLnRzXG5pbXBvcnQgeyBjcmVhdGVNYWNoaW5lLCByZWYsIGd1YXJkcyB9IGZyb20gXCJAemFnLWpzL2NvcmVcIjtcbnZhciB7IGFuZCwgb3IgfSA9IGd1YXJkcztcbmZ1bmN0aW9uIGdldEFuaW1hdGlvbk5hbWUoc3R5bGVzKSB7XG4gIHJldHVybiBzdHlsZXM/LmFuaW1hdGlvbk5hbWUgfHwgXCJub25lXCI7XG59XG5mdW5jdGlvbiBtYWNoaW5lKGN0eCkge1xuICBjb25zdCBpbml0aWFsU3RhdGUgPSBjdHgucHJlc2VudCA/IFwibW91bnRlZFwiIDogXCJ1bm1vdW50ZWRcIjtcbiAgcmV0dXJuIGNyZWF0ZU1hY2hpbmUoXG4gICAge1xuICAgICAgaW5pdGlhbDogaW5pdGlhbFN0YXRlLFxuICAgICAgd2F0Y2g6IHtcbiAgICAgICAgcHJlc2VudDogW1wicmFpc2VQcmVzZW5jZUNoYW5nZVwiLCBcInNldFByZXZQcmVzZW50XCJdXG4gICAgICB9LFxuICAgICAgb246IHtcbiAgICAgICAgXCJOT0RFLlNFVFwiOiB7XG4gICAgICAgICAgYWN0aW9uczogW1wic2V0Tm9kZVwiLCBcInNldFN0eWxlc1wiXVxuICAgICAgICB9LFxuICAgICAgICBcIlBSRVNFTkNFLkNIQU5HRURcIjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGd1YXJkOiBcImlzUHJlc2VudFwiLFxuICAgICAgICAgICAgdGFyZ2V0OiBcIm1vdW50ZWRcIixcbiAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldFByZXZBbmltYXRpb25OYW1lXCJdXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBndWFyZDogb3IoXCJpc0FuaW1hdGlvbk5vbmVcIiwgXCJpc0Rpc3BsYXlOb25lXCIpLFxuICAgICAgICAgICAgdGFyZ2V0OiBcInVubW91bnRlZFwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBndWFyZDogYW5kKFwid2FzUHJlc2VudFwiLCBcImlzQW5pbWF0aW5nXCIpLFxuICAgICAgICAgICAgdGFyZ2V0OiBcInVubW91bnRTdXNwZW5kZWRcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgeyB0YXJnZXQ6IFwidW5tb3VudGVkXCIgfVxuICAgICAgICBdXG4gICAgICB9LFxuICAgICAgc3RhdGVzOiB7XG4gICAgICAgIG1vdW50ZWQ6IHtcbiAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgVU5NT1VOVDogXCJ1bm1vdW50ZWRcIixcbiAgICAgICAgICAgIFwiQU5JTUFUSU9OLk9VVFwiOiBcInVubW91bnRTdXNwZW5kZWRcIlxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdW5tb3VudFN1c3BlbmRlZDoge1xuICAgICAgICAgIGFjdGl2aXRpZXM6IFtcInRyYWNrQW5pbWF0aW9uRXZlbnRzXCJdLFxuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBNT1VOVDoge1xuICAgICAgICAgICAgICB0YXJnZXQ6IFwibW91bnRlZFwiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRQcmV2QW5pbWF0aW9uTmFtZVwiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiQU5JTUFUSU9OLkVORFwiOiBcInVubW91bnRlZFwiXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB1bm1vdW50ZWQ6IHtcbiAgICAgICAgICBlbnRyeTogW1wiY2xlYXJQcmV2QW5pbWF0aW9uTmFtZVwiLCBcImludm9rZU9uRXhpdENvbXBsZXRlXCJdLFxuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBNT1VOVDogXCJtb3VudGVkXCJcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIGd1YXJkczoge1xuICAgICAgICBpc1ByZXNlbnQ6IChjdHgyKSA9PiAhIWN0eDIucHJlc2VudCxcbiAgICAgICAgaXNBbmltYXRpb25Ob25lOiAoY3R4MikgPT4gZ2V0QW5pbWF0aW9uTmFtZShjdHgyLnN0eWxlcykgPT09IFwibm9uZVwiLFxuICAgICAgICBpc0Rpc3BsYXlOb25lOiAoY3R4MikgPT4gY3R4Mi5zdHlsZXM/LmRpc3BsYXkgPT09IFwibm9uZVwiLFxuICAgICAgICB3YXNQcmVzZW50OiAoY3R4MikgPT4gISFjdHgyLnByZXZQcmVzZW50LFxuICAgICAgICBpc0FuaW1hdGluZzogKGN0eDIpID0+IGN0eDIucHJldkFuaW1hdGlvbk5hbWUgIT09IGdldEFuaW1hdGlvbk5hbWUoY3R4Mi5zdHlsZXMpXG4gICAgICB9LFxuICAgICAgYWN0aW9uczoge1xuICAgICAgICBpbnZva2VPbkV4aXRDb21wbGV0ZShjdHgyKSB7XG4gICAgICAgICAgY3R4Mi5vbkV4aXRDb21wbGV0ZT8uKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldE5vZGUoY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgY3R4Mi5ub2RlID0gcmVmKGV2dC5ub2RlKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0U3R5bGVzKGN0eDIsIGV2dCkge1xuICAgICAgICAgIGNvbnN0IHdpbiA9IGV2dC5ub2RlLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgfHwgd2luZG93O1xuICAgICAgICAgIGN0eDIuc3R5bGVzID0gcmVmKHdpbi5nZXRDb21wdXRlZFN0eWxlKGV2dC5ub2RlKSk7XG4gICAgICAgIH0sXG4gICAgICAgIHJhaXNlUHJlc2VuY2VDaGFuZ2UoX2N0eCwgX2V2dCwgeyBzZW5kIH0pIHtcbiAgICAgICAgICBzZW5kKFwiUFJFU0VOQ0UuQ0hBTkdFRFwiKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0UHJldlByZXNlbnQoY3R4Mikge1xuICAgICAgICAgIGN0eDIucHJldlByZXNlbnQgPSBjdHgyLnByZXNlbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFByZXZBbmltYXRpb25OYW1lKGN0eDIpIHtcbiAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgY3R4Mi5wcmV2QW5pbWF0aW9uTmFtZSA9IGdldEFuaW1hdGlvbk5hbWUoY3R4Mi5zdHlsZXMpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBjbGVhclByZXZBbmltYXRpb25OYW1lKGN0eDIpIHtcbiAgICAgICAgICBjdHgyLnByZXZBbmltYXRpb25OYW1lID0gXCJcIjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGFjdGl2aXRpZXM6IHtcbiAgICAgICAgdHJhY2tBbmltYXRpb25FdmVudHMoY3R4MiwgX2V2dCwgeyBzZW5kIH0pIHtcbiAgICAgICAgICBjb25zdCBub2RlID0gY3R4Mi5ub2RlO1xuICAgICAgICAgIGlmICghbm9kZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjb25zdCBvblN0YXJ0ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBub2RlKSB7XG4gICAgICAgICAgICAgIGN0eDIucHJldkFuaW1hdGlvbk5hbWUgPSBnZXRBbmltYXRpb25OYW1lKGN0eDIuc3R5bGVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IG9uRW5kID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50QW5pbWF0aW9uTmFtZSA9IGdldEFuaW1hdGlvbk5hbWUoY3R4Mi5zdHlsZXMpO1xuICAgICAgICAgICAgY29uc3QgaXNDdXJyZW50QW5pbWF0aW9uID0gY3VycmVudEFuaW1hdGlvbk5hbWUuaW5jbHVkZXMoZXZlbnQuYW5pbWF0aW9uTmFtZSk7XG4gICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBub2RlICYmIGlzQ3VycmVudEFuaW1hdGlvbikge1xuICAgICAgICAgICAgICBzZW5kKFwiQU5JTUFUSU9OLkVORFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbnN0YXJ0XCIsIG9uU3RhcnQpO1xuICAgICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbmNhbmNlbFwiLCBvbkVuZCk7XG4gICAgICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKFwiYW5pbWF0aW9uZW5kXCIsIG9uRW5kKTtcbiAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKFwiYW5pbWF0aW9uc3RhcnRcIiwgb25TdGFydCk7XG4gICAgICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhbmltYXRpb25jYW5jZWxcIiwgb25FbmQpO1xuICAgICAgICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKFwiYW5pbWF0aW9uZW5kXCIsIG9uRW5kKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICApO1xufVxuZXhwb3J0IHtcbiAgY29ubmVjdCxcbiAgbWFjaGluZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/presence/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/radio-group/dist/index.mjs":
/*!*********************************************************!*\
  !*** ./node_modules/@zag-js/radio-group/dist/index.mjs ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   anatomy: () => (/* binding */ anatomy),\n/* harmony export */   connect: () => (/* binding */ connect),\n/* harmony export */   machine: () => (/* binding */ machine)\n/* harmony export */ });\n/* harmony import */ var _zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/anatomy */ \"(ssr)/./node_modules/@zag-js/anatomy/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @zag-js/dom-query */ \"(ssr)/./node_modules/@zag-js/dom-query/dist/index.mjs\");\n/* harmony import */ var _zag_js_visually_hidden__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @zag-js/visually-hidden */ \"(ssr)/./node_modules/@zag-js/visually-hidden/dist/index.mjs\");\n/* harmony import */ var _zag_js_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @zag-js/core */ \"(ssr)/./node_modules/@zag-js/core/dist/index.mjs\");\n/* harmony import */ var _zag_js_element_rect__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @zag-js/element-rect */ \"(ssr)/./node_modules/@zag-js/element-rect/dist/index.mjs\");\n/* harmony import */ var _zag_js_form_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @zag-js/form-utils */ \"(ssr)/./node_modules/@zag-js/form-utils/dist/index.mjs\");\n/* harmony import */ var _zag_js_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @zag-js/utils */ \"(ssr)/./node_modules/@zag-js/utils/dist/index.mjs\");\n// src/radio-group.anatomy.ts\n\nvar anatomy = (0,_zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__.createAnatomy)(\"radio-group\").parts(\n  \"root\",\n  \"label\",\n  \"item\",\n  \"itemText\",\n  \"itemControl\",\n  \"indicator\"\n);\nvar parts = anatomy.build();\n\n// src/radio-group.connect.ts\n\n\n\n// src/radio-group.dom.ts\n\nvar dom = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.createScope)({\n  getRootId: (ctx) => ctx.ids?.root ?? `radio-group:${ctx.id}`,\n  getLabelId: (ctx) => ctx.ids?.label ?? `radio-group:${ctx.id}:label`,\n  getItemId: (ctx, value) => ctx.ids?.item?.(value) ?? `radio-group:${ctx.id}:radio:${value}`,\n  getItemHiddenInputId: (ctx, value) => ctx.ids?.itemHiddenInput?.(value) ?? `radio-group:${ctx.id}:radio:input:${value}`,\n  getItemControlId: (ctx, value) => ctx.ids?.itemControl?.(value) ?? `radio-group:${ctx.id}:radio:control:${value}`,\n  getItemLabelId: (ctx, value) => ctx.ids?.itemLabel?.(value) ?? `radio-group:${ctx.id}:radio:label:${value}`,\n  getIndicatorId: (ctx) => ctx.ids?.indicator ?? `radio-group:${ctx.id}:indicator`,\n  getRootEl: (ctx) => dom.getById(ctx, dom.getRootId(ctx)),\n  getItemHiddenInputEl: (ctx, value) => dom.getById(ctx, dom.getItemHiddenInputId(ctx, value)),\n  getIndicatorEl: (ctx) => dom.getById(ctx, dom.getIndicatorId(ctx)),\n  getFirstEnabledInputEl: (ctx) => dom.getRootEl(ctx)?.querySelector(\"input:not(:disabled)\"),\n  getFirstEnabledAndCheckedInputEl: (ctx) => dom.getRootEl(ctx)?.querySelector(\"input:not(:disabled):checked\"),\n  getInputEls: (ctx) => {\n    const ownerId = CSS.escape(dom.getRootId(ctx));\n    const selector = `input[type=radio][data-ownedby='${ownerId}']:not([disabled])`;\n    return (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.queryAll)(dom.getRootEl(ctx), selector);\n  },\n  getActiveRadioEl: (ctx) => {\n    if (!ctx.value)\n      return;\n    return dom.getById(ctx, dom.getItemId(ctx, ctx.value));\n  },\n  getOffsetRect: (el) => ({\n    left: el?.offsetLeft ?? 0,\n    top: el?.offsetTop ?? 0,\n    width: el?.offsetWidth ?? 0,\n    height: el?.offsetHeight ?? 0\n  }),\n  getRectById: (ctx, id) => {\n    const radioEl = dom.getById(ctx, dom.getItemId(ctx, id));\n    if (!radioEl)\n      return;\n    return dom.resolveRect(dom.getOffsetRect(radioEl));\n  },\n  resolveRect: (rect) => ({\n    width: `${rect.width}px`,\n    height: `${rect.height}px`,\n    left: `${rect.left}px`,\n    top: `${rect.top}px`\n  })\n});\n\n// src/radio-group.connect.ts\nfunction connect(state, send, normalize) {\n  const isGroupDisabled = state.context.isDisabled;\n  function getItemState(props) {\n    return {\n      isInvalid: !!props.invalid,\n      isDisabled: !!props.disabled || isGroupDisabled,\n      isChecked: state.context.value === props.value,\n      isFocused: state.context.focusedId === props.value,\n      isHovered: state.context.hoveredId === props.value,\n      isActive: state.context.activeId === props.value\n    };\n  }\n  function getItemDataAttrs(props) {\n    const radioState = getItemState(props);\n    return {\n      \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(radioState.isFocused),\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(radioState.isDisabled),\n      \"data-state\": radioState.isChecked ? \"checked\" : \"unchecked\",\n      \"data-hover\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(radioState.isHovered),\n      \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(radioState.isInvalid),\n      \"data-orientation\": state.context.orientation\n    };\n  }\n  const focus = () => {\n    const firstEnabledAndCheckedInput = dom.getFirstEnabledAndCheckedInputEl(state.context);\n    if (firstEnabledAndCheckedInput) {\n      firstEnabledAndCheckedInput.focus();\n      return;\n    }\n    const firstEnabledInput = dom.getFirstEnabledInputEl(state.context);\n    firstEnabledInput?.focus();\n  };\n  return {\n    focus,\n    value: state.context.value,\n    setValue(value) {\n      send({ type: \"SET_VALUE\", value, isTrusted: false });\n    },\n    clearValue() {\n      send({ type: \"SET_VALUE\", value: null, isTrusted: false });\n    },\n    getItemState,\n    rootProps: normalize.element({\n      ...parts.root.attrs,\n      role: \"radiogroup\",\n      id: dom.getRootId(state.context),\n      \"aria-labelledby\": dom.getLabelId(state.context),\n      \"data-orientation\": state.context.orientation,\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isGroupDisabled),\n      \"aria-orientation\": state.context.orientation,\n      dir: state.context.dir,\n      style: {\n        position: \"relative\"\n      }\n    }),\n    labelProps: normalize.element({\n      ...parts.label.attrs,\n      dir: state.context.dir,\n      \"data-orientation\": state.context.orientation,\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isGroupDisabled),\n      id: dom.getLabelId(state.context),\n      onClick: focus\n    }),\n    getItemProps(props) {\n      const rootState = getItemState(props);\n      return normalize.label({\n        ...parts.item.attrs,\n        dir: state.context.dir,\n        id: dom.getItemId(state.context, props.value),\n        htmlFor: dom.getItemHiddenInputId(state.context, props.value),\n        ...getItemDataAttrs(props),\n        onPointerMove() {\n          if (rootState.isDisabled)\n            return;\n          send({ type: \"SET_HOVERED\", value: props.value, hovered: true });\n        },\n        onPointerLeave() {\n          if (rootState.isDisabled)\n            return;\n          send({ type: \"SET_HOVERED\", value: null });\n        },\n        onPointerDown(event) {\n          if (rootState.isDisabled)\n            return;\n          if (rootState.isFocused && event.pointerType === \"mouse\") {\n            event.preventDefault();\n          }\n          send({ type: \"SET_ACTIVE\", value: props.value, active: true });\n        },\n        onPointerUp() {\n          if (rootState.isDisabled)\n            return;\n          send({ type: \"SET_ACTIVE\", value: null });\n        }\n      });\n    },\n    getItemTextProps(props) {\n      return normalize.element({\n        ...parts.itemText.attrs,\n        dir: state.context.dir,\n        id: dom.getItemLabelId(state.context, props.value),\n        ...getItemDataAttrs(props)\n      });\n    },\n    getItemControlProps(props) {\n      const controlState = getItemState(props);\n      return normalize.element({\n        ...parts.itemControl.attrs,\n        dir: state.context.dir,\n        id: dom.getItemControlId(state.context, props.value),\n        \"data-active\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(controlState.isActive),\n        \"aria-hidden\": true,\n        ...getItemDataAttrs(props)\n      });\n    },\n    getItemHiddenInputProps(props) {\n      const inputState = getItemState(props);\n      return normalize.input({\n        \"data-ownedby\": dom.getRootId(state.context),\n        id: dom.getItemHiddenInputId(state.context, props.value),\n        type: \"radio\",\n        name: state.context.name || state.context.id,\n        form: state.context.form,\n        value: props.value,\n        onChange(event) {\n          if (inputState.isDisabled)\n            return;\n          if (event.target.checked) {\n            send({ type: \"SET_VALUE\", value: props.value, isTrusted: true });\n          }\n        },\n        onBlur() {\n          send({ type: \"SET_FOCUSED\", value: null });\n        },\n        onFocus() {\n          send({ type: \"SET_FOCUSED\", value: props.value, focused: true });\n        },\n        onKeyDown(event) {\n          if (event.key === \" \") {\n            send({ type: \"SET_ACTIVE\", value: props.value, active: true });\n          }\n        },\n        onKeyUp(event) {\n          if (event.key === \" \") {\n            send({ type: \"SET_ACTIVE\", value: null });\n          }\n        },\n        disabled: inputState.isDisabled,\n        defaultChecked: inputState.isChecked,\n        style: _zag_js_visually_hidden__WEBPACK_IMPORTED_MODULE_2__.visuallyHiddenStyle\n      });\n    },\n    indicatorProps: normalize.element({\n      id: dom.getIndicatorId(state.context),\n      ...parts.indicator.attrs,\n      dir: state.context.dir,\n      hidden: state.context.value == null,\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isGroupDisabled),\n      \"data-orientation\": state.context.orientation,\n      style: {\n        \"--transition-duration\": \"150ms\",\n        \"--transition-property\": \"left, top, width, height\",\n        position: \"absolute\",\n        willChange: \"var(--transition-property)\",\n        transitionProperty: \"var(--transition-property)\",\n        transitionDuration: state.context.canIndicatorTransition ? \"var(--transition-duration)\" : \"0ms\",\n        transitionTimingFunction: \"var(--transition-timing-function)\",\n        ...state.context.indicatorRect\n      }\n    })\n  };\n}\n\n// src/radio-group.machine.ts\n\n\n\n\n\nvar { not } = _zag_js_core__WEBPACK_IMPORTED_MODULE_3__.guards;\nfunction machine(userContext) {\n  const ctx = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_4__.compact)(userContext);\n  return (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_3__.createMachine)(\n    {\n      id: \"radio\",\n      initial: \"idle\",\n      context: {\n        value: null,\n        activeId: null,\n        focusedId: null,\n        hoveredId: null,\n        disabled: false,\n        orientation: \"vertical\",\n        ...ctx,\n        indicatorRect: {},\n        canIndicatorTransition: false,\n        fieldsetDisabled: false\n      },\n      computed: {\n        isDisabled: (ctx2) => !!ctx2.disabled || ctx2.fieldsetDisabled\n      },\n      entry: [\"syncIndicatorRect\"],\n      exit: [\"cleanupObserver\"],\n      activities: [\"trackFormControlState\"],\n      watch: {\n        value: [\"setIndicatorTransition\", \"syncIndicatorRect\", \"syncInputElements\"]\n      },\n      on: {\n        SET_VALUE: [\n          {\n            guard: not(\"isTrusted\"),\n            actions: [\"setValue\", \"dispatchChangeEvent\"]\n          },\n          {\n            actions: [\"setValue\"]\n          }\n        ],\n        SET_HOVERED: {\n          actions: \"setHovered\"\n        },\n        SET_ACTIVE: {\n          actions: \"setActive\"\n        },\n        SET_FOCUSED: {\n          actions: \"setFocused\"\n        }\n      },\n      states: {\n        idle: {}\n      }\n    },\n    {\n      guards: {\n        isTrusted: (_ctx, evt) => !!evt.isTrusted\n      },\n      activities: {\n        trackFormControlState(ctx2, _evt, { send, initialContext }) {\n          return (0,_zag_js_form_utils__WEBPACK_IMPORTED_MODULE_5__.trackFormControl)(dom.getRootEl(ctx2), {\n            onFieldsetDisabledChange(disabled) {\n              ctx2.fieldsetDisabled = disabled;\n            },\n            onFormReset() {\n              send({ type: \"SET_VALUE\", value: initialContext.value });\n            }\n          });\n        }\n      },\n      actions: {\n        setValue(ctx2, evt) {\n          set.value(ctx2, evt.value);\n        },\n        setHovered(ctx2, evt) {\n          ctx2.hoveredId = evt.value;\n        },\n        setActive(ctx2, evt) {\n          ctx2.activeId = evt.value;\n        },\n        setFocused(ctx2, evt) {\n          ctx2.focusedId = evt.value;\n        },\n        syncInputElements(ctx2) {\n          const inputs = dom.getInputEls(ctx2);\n          inputs.forEach((input) => {\n            input.checked = input.value === ctx2.value;\n          });\n        },\n        setIndicatorTransition(ctx2) {\n          ctx2.canIndicatorTransition = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_4__.isString)(ctx2.value);\n        },\n        cleanupObserver(ctx2) {\n          ctx2.indicatorCleanup?.();\n        },\n        syncIndicatorRect(ctx2) {\n          ctx2.indicatorCleanup?.();\n          if (!dom.getIndicatorEl(ctx2))\n            return;\n          const value = ctx2.value;\n          const radioEl = dom.getActiveRadioEl(ctx2);\n          if (value == null || !radioEl) {\n            ctx2.indicatorRect = {};\n            return;\n          }\n          ctx2.indicatorCleanup = (0,_zag_js_element_rect__WEBPACK_IMPORTED_MODULE_6__.trackElementRect)(radioEl, {\n            getRect(el) {\n              return dom.getOffsetRect(el);\n            },\n            onChange(rect) {\n              ctx2.indicatorRect = dom.resolveRect(rect);\n              (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.nextTick)(() => {\n                ctx2.canIndicatorTransition = false;\n              });\n            }\n          });\n        },\n        dispatchChangeEvent(ctx2) {\n          const inputEls = dom.getInputEls(ctx2);\n          inputEls.forEach((inputEl) => {\n            const checked = inputEl.value === ctx2.value;\n            if (checked === inputEl.checked)\n              return;\n            (0,_zag_js_form_utils__WEBPACK_IMPORTED_MODULE_5__.dispatchInputCheckedEvent)(inputEl, { checked });\n          });\n        }\n      }\n    }\n  );\n}\nvar invoke = {\n  change: (ctx) => {\n    if (ctx.value == null)\n      return;\n    ctx.onValueChange?.({ value: ctx.value });\n  }\n};\nvar set = {\n  value: (ctx, value) => {\n    if ((0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_4__.isEqual)(ctx.value, value))\n      return;\n    ctx.value = value;\n    invoke.change(ctx);\n  }\n};\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9yYWRpby1ncm91cC9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7QUFDZ0Q7QUFDaEQsY0FBYyw4REFBYTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQzZDO0FBQ2lCOztBQUU5RDtBQUMwRDtBQUMxRCxVQUFVLDhEQUFXO0FBQ3JCLHNEQUFzRCxPQUFPO0FBQzdELHdEQUF3RCxPQUFPO0FBQy9ELHNFQUFzRSxPQUFPLFNBQVMsTUFBTTtBQUM1Riw0RkFBNEYsT0FBTyxlQUFlLE1BQU07QUFDeEgsb0ZBQW9GLE9BQU8saUJBQWlCLE1BQU07QUFDbEgsZ0ZBQWdGLE9BQU8sZUFBZSxNQUFNO0FBQzVHLGdFQUFnRSxPQUFPO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELFFBQVE7QUFDaEUsV0FBVywyREFBUTtBQUNuQixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsY0FBYyxXQUFXO0FBQ3pCLGVBQWUsWUFBWTtBQUMzQixhQUFhLFVBQVU7QUFDdkIsWUFBWSxTQUFTO0FBQ3JCLEdBQUc7QUFDSCxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDJEQUFRO0FBQzVCLHVCQUF1QiwyREFBUTtBQUMvQjtBQUNBLG9CQUFvQiwyREFBUTtBQUM1QixzQkFBc0IsMkRBQVE7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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bEQ7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsY0FBYywyREFBUTtBQUN0QjtBQUNBLGVBQWU7QUFDZjtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw2RUFBeUIsWUFBWSxTQUFTO0FBQzFELFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsa0JBQWtCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzREFBTztBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBhcmstdWkvZXhhbXBsZXMtcmVhY3QtbmV4dC1qcy8uL25vZGVfbW9kdWxlcy9AemFnLWpzL3JhZGlvLWdyb3VwL2Rpc3QvaW5kZXgubWpzPzYwNDAiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL3JhZGlvLWdyb3VwLmFuYXRvbXkudHNcbmltcG9ydCB7IGNyZWF0ZUFuYXRvbXkgfSBmcm9tIFwiQHphZy1qcy9hbmF0b215XCI7XG52YXIgYW5hdG9teSA9IGNyZWF0ZUFuYXRvbXkoXCJyYWRpby1ncm91cFwiKS5wYXJ0cyhcbiAgXCJyb290XCIsXG4gIFwibGFiZWxcIixcbiAgXCJpdGVtXCIsXG4gIFwiaXRlbVRleHRcIixcbiAgXCJpdGVtQ29udHJvbFwiLFxuICBcImluZGljYXRvclwiXG4pO1xudmFyIHBhcnRzID0gYW5hdG9teS5idWlsZCgpO1xuXG4vLyBzcmMvcmFkaW8tZ3JvdXAuY29ubmVjdC50c1xuaW1wb3J0IHsgZGF0YUF0dHIgfSBmcm9tIFwiQHphZy1qcy9kb20tcXVlcnlcIjtcbmltcG9ydCB7IHZpc3VhbGx5SGlkZGVuU3R5bGUgfSBmcm9tIFwiQHphZy1qcy92aXN1YWxseS1oaWRkZW5cIjtcblxuLy8gc3JjL3JhZGlvLWdyb3VwLmRvbS50c1xuaW1wb3J0IHsgY3JlYXRlU2NvcGUsIHF1ZXJ5QWxsIH0gZnJvbSBcIkB6YWctanMvZG9tLXF1ZXJ5XCI7XG52YXIgZG9tID0gY3JlYXRlU2NvcGUoe1xuICBnZXRSb290SWQ6IChjdHgpID0+IGN0eC5pZHM/LnJvb3QgPz8gYHJhZGlvLWdyb3VwOiR7Y3R4LmlkfWAsXG4gIGdldExhYmVsSWQ6IChjdHgpID0+IGN0eC5pZHM/LmxhYmVsID8/IGByYWRpby1ncm91cDoke2N0eC5pZH06bGFiZWxgLFxuICBnZXRJdGVtSWQ6IChjdHgsIHZhbHVlKSA9PiBjdHguaWRzPy5pdGVtPy4odmFsdWUpID8/IGByYWRpby1ncm91cDoke2N0eC5pZH06cmFkaW86JHt2YWx1ZX1gLFxuICBnZXRJdGVtSGlkZGVuSW5wdXRJZDogKGN0eCwgdmFsdWUpID0+IGN0eC5pZHM/Lml0ZW1IaWRkZW5JbnB1dD8uKHZhbHVlKSA/PyBgcmFkaW8tZ3JvdXA6JHtjdHguaWR9OnJhZGlvOmlucHV0OiR7dmFsdWV9YCxcbiAgZ2V0SXRlbUNvbnRyb2xJZDogKGN0eCwgdmFsdWUpID0+IGN0eC5pZHM/Lml0ZW1Db250cm9sPy4odmFsdWUpID8/IGByYWRpby1ncm91cDoke2N0eC5pZH06cmFkaW86Y29udHJvbDoke3ZhbHVlfWAsXG4gIGdldEl0ZW1MYWJlbElkOiAoY3R4LCB2YWx1ZSkgPT4gY3R4Lmlkcz8uaXRlbUxhYmVsPy4odmFsdWUpID8/IGByYWRpby1ncm91cDoke2N0eC5pZH06cmFkaW86bGFiZWw6JHt2YWx1ZX1gLFxuICBnZXRJbmRpY2F0b3JJZDogKGN0eCkgPT4gY3R4Lmlkcz8uaW5kaWNhdG9yID8/IGByYWRpby1ncm91cDoke2N0eC5pZH06aW5kaWNhdG9yYCxcbiAgZ2V0Um9vdEVsOiAoY3R4KSA9PiBkb20uZ2V0QnlJZChjdHgsIGRvbS5nZXRSb290SWQoY3R4KSksXG4gIGdldEl0ZW1IaWRkZW5JbnB1dEVsOiAoY3R4LCB2YWx1ZSkgPT4gZG9tLmdldEJ5SWQoY3R4LCBkb20uZ2V0SXRlbUhpZGRlbklucHV0SWQoY3R4LCB2YWx1ZSkpLFxuICBnZXRJbmRpY2F0b3JFbDogKGN0eCkgPT4gZG9tLmdldEJ5SWQoY3R4LCBkb20uZ2V0SW5kaWNhdG9ySWQoY3R4KSksXG4gIGdldEZpcnN0RW5hYmxlZElucHV0RWw6IChjdHgpID0+IGRvbS5nZXRSb290RWwoY3R4KT8ucXVlcnlTZWxlY3RvcihcImlucHV0Om5vdCg6ZGlzYWJsZWQpXCIpLFxuICBnZXRGaXJzdEVuYWJsZWRBbmRDaGVja2VkSW5wdXRFbDogKGN0eCkgPT4gZG9tLmdldFJvb3RFbChjdHgpPy5xdWVyeVNlbGVjdG9yKFwiaW5wdXQ6bm90KDpkaXNhYmxlZCk6Y2hlY2tlZFwiKSxcbiAgZ2V0SW5wdXRFbHM6IChjdHgpID0+IHtcbiAgICBjb25zdCBvd25lcklkID0gQ1NTLmVzY2FwZShkb20uZ2V0Um9vdElkKGN0eCkpO1xuICAgIGNvbnN0IHNlbGVjdG9yID0gYGlucHV0W3R5cGU9cmFkaW9dW2RhdGEtb3duZWRieT0nJHtvd25lcklkfSddOm5vdChbZGlzYWJsZWRdKWA7XG4gICAgcmV0dXJuIHF1ZXJ5QWxsKGRvbS5nZXRSb290RWwoY3R4KSwgc2VsZWN0b3IpO1xuICB9LFxuICBnZXRBY3RpdmVSYWRpb0VsOiAoY3R4KSA9PiB7XG4gICAgaWYgKCFjdHgudmFsdWUpXG4gICAgICByZXR1cm47XG4gICAgcmV0dXJuIGRvbS5nZXRCeUlkKGN0eCwgZG9tLmdldEl0ZW1JZChjdHgsIGN0eC52YWx1ZSkpO1xuICB9LFxuICBnZXRPZmZzZXRSZWN0OiAoZWwpID0+ICh7XG4gICAgbGVmdDogZWw/Lm9mZnNldExlZnQgPz8gMCxcbiAgICB0b3A6IGVsPy5vZmZzZXRUb3AgPz8gMCxcbiAgICB3aWR0aDogZWw/Lm9mZnNldFdpZHRoID8/IDAsXG4gICAgaGVpZ2h0OiBlbD8ub2Zmc2V0SGVpZ2h0ID8/IDBcbiAgfSksXG4gIGdldFJlY3RCeUlkOiAoY3R4LCBpZCkgPT4ge1xuICAgIGNvbnN0IHJhZGlvRWwgPSBkb20uZ2V0QnlJZChjdHgsIGRvbS5nZXRJdGVtSWQoY3R4LCBpZCkpO1xuICAgIGlmICghcmFkaW9FbClcbiAgICAgIHJldHVybjtcbiAgICByZXR1cm4gZG9tLnJlc29sdmVSZWN0KGRvbS5nZXRPZmZzZXRSZWN0KHJhZGlvRWwpKTtcbiAgfSxcbiAgcmVzb2x2ZVJlY3Q6IChyZWN0KSA9PiAoe1xuICAgIHdpZHRoOiBgJHtyZWN0LndpZHRofXB4YCxcbiAgICBoZWlnaHQ6IGAke3JlY3QuaGVpZ2h0fXB4YCxcbiAgICBsZWZ0OiBgJHtyZWN0LmxlZnR9cHhgLFxuICAgIHRvcDogYCR7cmVjdC50b3B9cHhgXG4gIH0pXG59KTtcblxuLy8gc3JjL3JhZGlvLWdyb3VwLmNvbm5lY3QudHNcbmZ1bmN0aW9uIGNvbm5lY3Qoc3RhdGUsIHNlbmQsIG5vcm1hbGl6ZSkge1xuICBjb25zdCBpc0dyb3VwRGlzYWJsZWQgPSBzdGF0ZS5jb250ZXh0LmlzRGlzYWJsZWQ7XG4gIGZ1bmN0aW9uIGdldEl0ZW1TdGF0ZShwcm9wcykge1xuICAgIHJldHVybiB7XG4gICAgICBpc0ludmFsaWQ6ICEhcHJvcHMuaW52YWxpZCxcbiAgICAgIGlzRGlzYWJsZWQ6ICEhcHJvcHMuZGlzYWJsZWQgfHwgaXNHcm91cERpc2FibGVkLFxuICAgICAgaXNDaGVja2VkOiBzdGF0ZS5jb250ZXh0LnZhbHVlID09PSBwcm9wcy52YWx1ZSxcbiAgICAgIGlzRm9jdXNlZDogc3RhdGUuY29udGV4dC5mb2N1c2VkSWQgPT09IHByb3BzLnZhbHVlLFxuICAgICAgaXNIb3ZlcmVkOiBzdGF0ZS5jb250ZXh0LmhvdmVyZWRJZCA9PT0gcHJvcHMudmFsdWUsXG4gICAgICBpc0FjdGl2ZTogc3RhdGUuY29udGV4dC5hY3RpdmVJZCA9PT0gcHJvcHMudmFsdWVcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIGdldEl0ZW1EYXRhQXR0cnMocHJvcHMpIHtcbiAgICBjb25zdCByYWRpb1N0YXRlID0gZ2V0SXRlbVN0YXRlKHByb3BzKTtcbiAgICByZXR1cm4ge1xuICAgICAgXCJkYXRhLWZvY3VzXCI6IGRhdGFBdHRyKHJhZGlvU3RhdGUuaXNGb2N1c2VkKSxcbiAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihyYWRpb1N0YXRlLmlzRGlzYWJsZWQpLFxuICAgICAgXCJkYXRhLXN0YXRlXCI6IHJhZGlvU3RhdGUuaXNDaGVja2VkID8gXCJjaGVja2VkXCIgOiBcInVuY2hlY2tlZFwiLFxuICAgICAgXCJkYXRhLWhvdmVyXCI6IGRhdGFBdHRyKHJhZGlvU3RhdGUuaXNIb3ZlcmVkKSxcbiAgICAgIFwiZGF0YS1pbnZhbGlkXCI6IGRhdGFBdHRyKHJhZGlvU3RhdGUuaXNJbnZhbGlkKSxcbiAgICAgIFwiZGF0YS1vcmllbnRhdGlvblwiOiBzdGF0ZS5jb250ZXh0Lm9yaWVudGF0aW9uXG4gICAgfTtcbiAgfVxuICBjb25zdCBmb2N1cyA9ICgpID0+IHtcbiAgICBjb25zdCBmaXJzdEVuYWJsZWRBbmRDaGVja2VkSW5wdXQgPSBkb20uZ2V0Rmlyc3RFbmFibGVkQW5kQ2hlY2tlZElucHV0RWwoc3RhdGUuY29udGV4dCk7XG4gICAgaWYgKGZpcnN0RW5hYmxlZEFuZENoZWNrZWRJbnB1dCkge1xuICAgICAgZmlyc3RFbmFibGVkQW5kQ2hlY2tlZElucHV0LmZvY3VzKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGZpcnN0RW5hYmxlZElucHV0ID0gZG9tLmdldEZpcnN0RW5hYmxlZElucHV0RWwoc3RhdGUuY29udGV4dCk7XG4gICAgZmlyc3RFbmFibGVkSW5wdXQ/LmZvY3VzKCk7XG4gIH07XG4gIHJldHVybiB7XG4gICAgZm9jdXMsXG4gICAgdmFsdWU6IHN0YXRlLmNvbnRleHQudmFsdWUsXG4gICAgc2V0VmFsdWUodmFsdWUpIHtcbiAgICAgIHNlbmQoeyB0eXBlOiBcIlNFVF9WQUxVRVwiLCB2YWx1ZSwgaXNUcnVzdGVkOiBmYWxzZSB9KTtcbiAgICB9LFxuICAgIGNsZWFyVmFsdWUoKSB7XG4gICAgICBzZW5kKHsgdHlwZTogXCJTRVRfVkFMVUVcIiwgdmFsdWU6IG51bGwsIGlzVHJ1c3RlZDogZmFsc2UgfSk7XG4gICAgfSxcbiAgICBnZXRJdGVtU3RhdGUsXG4gICAgcm9vdFByb3BzOiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICAuLi5wYXJ0cy5yb290LmF0dHJzLFxuICAgICAgcm9sZTogXCJyYWRpb2dyb3VwXCIsXG4gICAgICBpZDogZG9tLmdldFJvb3RJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIFwiYXJpYS1sYWJlbGxlZGJ5XCI6IGRvbS5nZXRMYWJlbElkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgXCJkYXRhLW9yaWVudGF0aW9uXCI6IHN0YXRlLmNvbnRleHQub3JpZW50YXRpb24sXG4gICAgICBcImRhdGEtZGlzYWJsZWRcIjogZGF0YUF0dHIoaXNHcm91cERpc2FibGVkKSxcbiAgICAgIFwiYXJpYS1vcmllbnRhdGlvblwiOiBzdGF0ZS5jb250ZXh0Lm9yaWVudGF0aW9uLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCJcbiAgICAgIH1cbiAgICB9KSxcbiAgICBsYWJlbFByb3BzOiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICAuLi5wYXJ0cy5sYWJlbC5hdHRycyxcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICBcImRhdGEtb3JpZW50YXRpb25cIjogc3RhdGUuY29udGV4dC5vcmllbnRhdGlvbixcbiAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihpc0dyb3VwRGlzYWJsZWQpLFxuICAgICAgaWQ6IGRvbS5nZXRMYWJlbElkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgb25DbGljazogZm9jdXNcbiAgICB9KSxcbiAgICBnZXRJdGVtUHJvcHMocHJvcHMpIHtcbiAgICAgIGNvbnN0IHJvb3RTdGF0ZSA9IGdldEl0ZW1TdGF0ZShwcm9wcyk7XG4gICAgICByZXR1cm4gbm9ybWFsaXplLmxhYmVsKHtcbiAgICAgICAgLi4ucGFydHMuaXRlbS5hdHRycyxcbiAgICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgICAgaWQ6IGRvbS5nZXRJdGVtSWQoc3RhdGUuY29udGV4dCwgcHJvcHMudmFsdWUpLFxuICAgICAgICBodG1sRm9yOiBkb20uZ2V0SXRlbUhpZGRlbklucHV0SWQoc3RhdGUuY29udGV4dCwgcHJvcHMudmFsdWUpLFxuICAgICAgICAuLi5nZXRJdGVtRGF0YUF0dHJzKHByb3BzKSxcbiAgICAgICAgb25Qb2ludGVyTW92ZSgpIHtcbiAgICAgICAgICBpZiAocm9vdFN0YXRlLmlzRGlzYWJsZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgc2VuZCh7IHR5cGU6IFwiU0VUX0hPVkVSRURcIiwgdmFsdWU6IHByb3BzLnZhbHVlLCBob3ZlcmVkOiB0cnVlIH0pO1xuICAgICAgICB9LFxuICAgICAgICBvblBvaW50ZXJMZWF2ZSgpIHtcbiAgICAgICAgICBpZiAocm9vdFN0YXRlLmlzRGlzYWJsZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgc2VuZCh7IHR5cGU6IFwiU0VUX0hPVkVSRURcIiwgdmFsdWU6IG51bGwgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uUG9pbnRlckRvd24oZXZlbnQpIHtcbiAgICAgICAgICBpZiAocm9vdFN0YXRlLmlzRGlzYWJsZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgaWYgKHJvb3RTdGF0ZS5pc0ZvY3VzZWQgJiYgZXZlbnQucG9pbnRlclR5cGUgPT09IFwibW91c2VcIikge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2VuZCh7IHR5cGU6IFwiU0VUX0FDVElWRVwiLCB2YWx1ZTogcHJvcHMudmFsdWUsIGFjdGl2ZTogdHJ1ZSB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Qb2ludGVyVXAoKSB7XG4gICAgICAgICAgaWYgKHJvb3RTdGF0ZS5pc0Rpc2FibGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIlNFVF9BQ1RJVkVcIiwgdmFsdWU6IG51bGwgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0SXRlbVRleHRQcm9wcyhwcm9wcykge1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgICAgLi4ucGFydHMuaXRlbVRleHQuYXR0cnMsXG4gICAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICAgIGlkOiBkb20uZ2V0SXRlbUxhYmVsSWQoc3RhdGUuY29udGV4dCwgcHJvcHMudmFsdWUpLFxuICAgICAgICAuLi5nZXRJdGVtRGF0YUF0dHJzKHByb3BzKVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZXRJdGVtQ29udHJvbFByb3BzKHByb3BzKSB7XG4gICAgICBjb25zdCBjb250cm9sU3RhdGUgPSBnZXRJdGVtU3RhdGUocHJvcHMpO1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgICAgLi4ucGFydHMuaXRlbUNvbnRyb2wuYXR0cnMsXG4gICAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICAgIGlkOiBkb20uZ2V0SXRlbUNvbnRyb2xJZChzdGF0ZS5jb250ZXh0LCBwcm9wcy52YWx1ZSksXG4gICAgICAgIFwiZGF0YS1hY3RpdmVcIjogZGF0YUF0dHIoY29udHJvbFN0YXRlLmlzQWN0aXZlKSxcbiAgICAgICAgXCJhcmlhLWhpZGRlblwiOiB0cnVlLFxuICAgICAgICAuLi5nZXRJdGVtRGF0YUF0dHJzKHByb3BzKVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZXRJdGVtSGlkZGVuSW5wdXRQcm9wcyhwcm9wcykge1xuICAgICAgY29uc3QgaW5wdXRTdGF0ZSA9IGdldEl0ZW1TdGF0ZShwcm9wcyk7XG4gICAgICByZXR1cm4gbm9ybWFsaXplLmlucHV0KHtcbiAgICAgICAgXCJkYXRhLW93bmVkYnlcIjogZG9tLmdldFJvb3RJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgICAgaWQ6IGRvbS5nZXRJdGVtSGlkZGVuSW5wdXRJZChzdGF0ZS5jb250ZXh0LCBwcm9wcy52YWx1ZSksXG4gICAgICAgIHR5cGU6IFwicmFkaW9cIixcbiAgICAgICAgbmFtZTogc3RhdGUuY29udGV4dC5uYW1lIHx8IHN0YXRlLmNvbnRleHQuaWQsXG4gICAgICAgIGZvcm06IHN0YXRlLmNvbnRleHQuZm9ybSxcbiAgICAgICAgdmFsdWU6IHByb3BzLnZhbHVlLFxuICAgICAgICBvbkNoYW5nZShldmVudCkge1xuICAgICAgICAgIGlmIChpbnB1dFN0YXRlLmlzRGlzYWJsZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5jaGVja2VkKSB7XG4gICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJTRVRfVkFMVUVcIiwgdmFsdWU6IHByb3BzLnZhbHVlLCBpc1RydXN0ZWQ6IHRydWUgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbkJsdXIoKSB7XG4gICAgICAgICAgc2VuZCh7IHR5cGU6IFwiU0VUX0ZPQ1VTRURcIiwgdmFsdWU6IG51bGwgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uRm9jdXMoKSB7XG4gICAgICAgICAgc2VuZCh7IHR5cGU6IFwiU0VUX0ZPQ1VTRURcIiwgdmFsdWU6IHByb3BzLnZhbHVlLCBmb2N1c2VkOiB0cnVlIH0pO1xuICAgICAgICB9LFxuICAgICAgICBvbktleURvd24oZXZlbnQpIHtcbiAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSBcIiBcIikge1xuICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwiU0VUX0FDVElWRVwiLCB2YWx1ZTogcHJvcHMudmFsdWUsIGFjdGl2ZTogdHJ1ZSB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uS2V5VXAoZXZlbnQpIHtcbiAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSBcIiBcIikge1xuICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwiU0VUX0FDVElWRVwiLCB2YWx1ZTogbnVsbCB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGRpc2FibGVkOiBpbnB1dFN0YXRlLmlzRGlzYWJsZWQsXG4gICAgICAgIGRlZmF1bHRDaGVja2VkOiBpbnB1dFN0YXRlLmlzQ2hlY2tlZCxcbiAgICAgICAgc3R5bGU6IHZpc3VhbGx5SGlkZGVuU3R5bGVcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgaW5kaWNhdG9yUHJvcHM6IG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgIGlkOiBkb20uZ2V0SW5kaWNhdG9ySWQoc3RhdGUuY29udGV4dCksXG4gICAgICAuLi5wYXJ0cy5pbmRpY2F0b3IuYXR0cnMsXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgaGlkZGVuOiBzdGF0ZS5jb250ZXh0LnZhbHVlID09IG51bGwsXG4gICAgICBcImRhdGEtZGlzYWJsZWRcIjogZGF0YUF0dHIoaXNHcm91cERpc2FibGVkKSxcbiAgICAgIFwiZGF0YS1vcmllbnRhdGlvblwiOiBzdGF0ZS5jb250ZXh0Lm9yaWVudGF0aW9uLFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgXCItLXRyYW5zaXRpb24tZHVyYXRpb25cIjogXCIxNTBtc1wiLFxuICAgICAgICBcIi0tdHJhbnNpdGlvbi1wcm9wZXJ0eVwiOiBcImxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodFwiLFxuICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICB3aWxsQ2hhbmdlOiBcInZhcigtLXRyYW5zaXRpb24tcHJvcGVydHkpXCIsXG4gICAgICAgIHRyYW5zaXRpb25Qcm9wZXJ0eTogXCJ2YXIoLS10cmFuc2l0aW9uLXByb3BlcnR5KVwiLFxuICAgICAgICB0cmFuc2l0aW9uRHVyYXRpb246IHN0YXRlLmNvbnRleHQuY2FuSW5kaWNhdG9yVHJhbnNpdGlvbiA/IFwidmFyKC0tdHJhbnNpdGlvbi1kdXJhdGlvbilcIiA6IFwiMG1zXCIsXG4gICAgICAgIHRyYW5zaXRpb25UaW1pbmdGdW5jdGlvbjogXCJ2YXIoLS10cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbilcIixcbiAgICAgICAgLi4uc3RhdGUuY29udGV4dC5pbmRpY2F0b3JSZWN0XG4gICAgICB9XG4gICAgfSlcbiAgfTtcbn1cblxuLy8gc3JjL3JhZGlvLWdyb3VwLm1hY2hpbmUudHNcbmltcG9ydCB7IGNyZWF0ZU1hY2hpbmUsIGd1YXJkcyB9IGZyb20gXCJAemFnLWpzL2NvcmVcIjtcbmltcG9ydCB7IG5leHRUaWNrIH0gZnJvbSBcIkB6YWctanMvZG9tLXF1ZXJ5XCI7XG5pbXBvcnQgeyB0cmFja0VsZW1lbnRSZWN0IH0gZnJvbSBcIkB6YWctanMvZWxlbWVudC1yZWN0XCI7XG5pbXBvcnQgeyBkaXNwYXRjaElucHV0Q2hlY2tlZEV2ZW50LCB0cmFja0Zvcm1Db250cm9sIH0gZnJvbSBcIkB6YWctanMvZm9ybS11dGlsc1wiO1xuaW1wb3J0IHsgY29tcGFjdCwgaXNFcXVhbCwgaXNTdHJpbmcgfSBmcm9tIFwiQHphZy1qcy91dGlsc1wiO1xudmFyIHsgbm90IH0gPSBndWFyZHM7XG5mdW5jdGlvbiBtYWNoaW5lKHVzZXJDb250ZXh0KSB7XG4gIGNvbnN0IGN0eCA9IGNvbXBhY3QodXNlckNvbnRleHQpO1xuICByZXR1cm4gY3JlYXRlTWFjaGluZShcbiAgICB7XG4gICAgICBpZDogXCJyYWRpb1wiLFxuICAgICAgaW5pdGlhbDogXCJpZGxlXCIsXG4gICAgICBjb250ZXh0OiB7XG4gICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICBhY3RpdmVJZDogbnVsbCxcbiAgICAgICAgZm9jdXNlZElkOiBudWxsLFxuICAgICAgICBob3ZlcmVkSWQ6IG51bGwsXG4gICAgICAgIGRpc2FibGVkOiBmYWxzZSxcbiAgICAgICAgb3JpZW50YXRpb246IFwidmVydGljYWxcIixcbiAgICAgICAgLi4uY3R4LFxuICAgICAgICBpbmRpY2F0b3JSZWN0OiB7fSxcbiAgICAgICAgY2FuSW5kaWNhdG9yVHJhbnNpdGlvbjogZmFsc2UsXG4gICAgICAgIGZpZWxkc2V0RGlzYWJsZWQ6IGZhbHNlXG4gICAgICB9LFxuICAgICAgY29tcHV0ZWQ6IHtcbiAgICAgICAgaXNEaXNhYmxlZDogKGN0eDIpID0+ICEhY3R4Mi5kaXNhYmxlZCB8fCBjdHgyLmZpZWxkc2V0RGlzYWJsZWRcbiAgICAgIH0sXG4gICAgICBlbnRyeTogW1wic3luY0luZGljYXRvclJlY3RcIl0sXG4gICAgICBleGl0OiBbXCJjbGVhbnVwT2JzZXJ2ZXJcIl0sXG4gICAgICBhY3Rpdml0aWVzOiBbXCJ0cmFja0Zvcm1Db250cm9sU3RhdGVcIl0sXG4gICAgICB3YXRjaDoge1xuICAgICAgICB2YWx1ZTogW1wic2V0SW5kaWNhdG9yVHJhbnNpdGlvblwiLCBcInN5bmNJbmRpY2F0b3JSZWN0XCIsIFwic3luY0lucHV0RWxlbWVudHNcIl1cbiAgICAgIH0sXG4gICAgICBvbjoge1xuICAgICAgICBTRVRfVkFMVUU6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBndWFyZDogbm90KFwiaXNUcnVzdGVkXCIpLFxuICAgICAgICAgICAgYWN0aW9uczogW1wic2V0VmFsdWVcIiwgXCJkaXNwYXRjaENoYW5nZUV2ZW50XCJdXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRWYWx1ZVwiXVxuICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgU0VUX0hPVkVSRUQ6IHtcbiAgICAgICAgICBhY3Rpb25zOiBcInNldEhvdmVyZWRcIlxuICAgICAgICB9LFxuICAgICAgICBTRVRfQUNUSVZFOiB7XG4gICAgICAgICAgYWN0aW9uczogXCJzZXRBY3RpdmVcIlxuICAgICAgICB9LFxuICAgICAgICBTRVRfRk9DVVNFRDoge1xuICAgICAgICAgIGFjdGlvbnM6IFwic2V0Rm9jdXNlZFwiXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBzdGF0ZXM6IHtcbiAgICAgICAgaWRsZToge31cbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIGd1YXJkczoge1xuICAgICAgICBpc1RydXN0ZWQ6IChfY3R4LCBldnQpID0+ICEhZXZ0LmlzVHJ1c3RlZFxuICAgICAgfSxcbiAgICAgIGFjdGl2aXRpZXM6IHtcbiAgICAgICAgdHJhY2tGb3JtQ29udHJvbFN0YXRlKGN0eDIsIF9ldnQsIHsgc2VuZCwgaW5pdGlhbENvbnRleHQgfSkge1xuICAgICAgICAgIHJldHVybiB0cmFja0Zvcm1Db250cm9sKGRvbS5nZXRSb290RWwoY3R4MiksIHtcbiAgICAgICAgICAgIG9uRmllbGRzZXREaXNhYmxlZENoYW5nZShkaXNhYmxlZCkge1xuICAgICAgICAgICAgICBjdHgyLmZpZWxkc2V0RGlzYWJsZWQgPSBkaXNhYmxlZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkZvcm1SZXNldCgpIHtcbiAgICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwiU0VUX1ZBTFVFXCIsIHZhbHVlOiBpbml0aWFsQ29udGV4dC52YWx1ZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGFjdGlvbnM6IHtcbiAgICAgICAgc2V0VmFsdWUoY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgc2V0LnZhbHVlKGN0eDIsIGV2dC52YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldEhvdmVyZWQoY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgY3R4Mi5ob3ZlcmVkSWQgPSBldnQudmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldEFjdGl2ZShjdHgyLCBldnQpIHtcbiAgICAgICAgICBjdHgyLmFjdGl2ZUlkID0gZXZ0LnZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBzZXRGb2N1c2VkKGN0eDIsIGV2dCkge1xuICAgICAgICAgIGN0eDIuZm9jdXNlZElkID0gZXZ0LnZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBzeW5jSW5wdXRFbGVtZW50cyhjdHgyKSB7XG4gICAgICAgICAgY29uc3QgaW5wdXRzID0gZG9tLmdldElucHV0RWxzKGN0eDIpO1xuICAgICAgICAgIGlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgICAgICAgaW5wdXQuY2hlY2tlZCA9IGlucHV0LnZhbHVlID09PSBjdHgyLnZhbHVlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBzZXRJbmRpY2F0b3JUcmFuc2l0aW9uKGN0eDIpIHtcbiAgICAgICAgICBjdHgyLmNhbkluZGljYXRvclRyYW5zaXRpb24gPSBpc1N0cmluZyhjdHgyLnZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xlYW51cE9ic2VydmVyKGN0eDIpIHtcbiAgICAgICAgICBjdHgyLmluZGljYXRvckNsZWFudXA/LigpO1xuICAgICAgICB9LFxuICAgICAgICBzeW5jSW5kaWNhdG9yUmVjdChjdHgyKSB7XG4gICAgICAgICAgY3R4Mi5pbmRpY2F0b3JDbGVhbnVwPy4oKTtcbiAgICAgICAgICBpZiAoIWRvbS5nZXRJbmRpY2F0b3JFbChjdHgyKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IGN0eDIudmFsdWU7XG4gICAgICAgICAgY29uc3QgcmFkaW9FbCA9IGRvbS5nZXRBY3RpdmVSYWRpb0VsKGN0eDIpO1xuICAgICAgICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8ICFyYWRpb0VsKSB7XG4gICAgICAgICAgICBjdHgyLmluZGljYXRvclJlY3QgPSB7fTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY3R4Mi5pbmRpY2F0b3JDbGVhbnVwID0gdHJhY2tFbGVtZW50UmVjdChyYWRpb0VsLCB7XG4gICAgICAgICAgICBnZXRSZWN0KGVsKSB7XG4gICAgICAgICAgICAgIHJldHVybiBkb20uZ2V0T2Zmc2V0UmVjdChlbCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25DaGFuZ2UocmVjdCkge1xuICAgICAgICAgICAgICBjdHgyLmluZGljYXRvclJlY3QgPSBkb20ucmVzb2x2ZVJlY3QocmVjdCk7XG4gICAgICAgICAgICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjdHgyLmNhbkluZGljYXRvclRyYW5zaXRpb24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGRpc3BhdGNoQ2hhbmdlRXZlbnQoY3R4Mikge1xuICAgICAgICAgIGNvbnN0IGlucHV0RWxzID0gZG9tLmdldElucHV0RWxzKGN0eDIpO1xuICAgICAgICAgIGlucHV0RWxzLmZvckVhY2goKGlucHV0RWwpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrZWQgPSBpbnB1dEVsLnZhbHVlID09PSBjdHgyLnZhbHVlO1xuICAgICAgICAgICAgaWYgKGNoZWNrZWQgPT09IGlucHV0RWwuY2hlY2tlZClcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgZGlzcGF0Y2hJbnB1dENoZWNrZWRFdmVudChpbnB1dEVsLCB7IGNoZWNrZWQgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICk7XG59XG52YXIgaW52b2tlID0ge1xuICBjaGFuZ2U6IChjdHgpID0+IHtcbiAgICBpZiAoY3R4LnZhbHVlID09IG51bGwpXG4gICAgICByZXR1cm47XG4gICAgY3R4Lm9uVmFsdWVDaGFuZ2U/Lih7IHZhbHVlOiBjdHgudmFsdWUgfSk7XG4gIH1cbn07XG52YXIgc2V0ID0ge1xuICB2YWx1ZTogKGN0eCwgdmFsdWUpID0+IHtcbiAgICBpZiAoaXNFcXVhbChjdHgudmFsdWUsIHZhbHVlKSlcbiAgICAgIHJldHVybjtcbiAgICBjdHgudmFsdWUgPSB2YWx1ZTtcbiAgICBpbnZva2UuY2hhbmdlKGN0eCk7XG4gIH1cbn07XG5leHBvcnQge1xuICBhbmF0b215LFxuICBjb25uZWN0LFxuICBtYWNoaW5lXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/radio-group/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/rating-group/dist/index.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/@zag-js/rating-group/dist/index.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   anatomy: () => (/* binding */ anatomy),\n/* harmony export */   connect: () => (/* binding */ connect),\n/* harmony export */   machine: () => (/* binding */ machine)\n/* harmony export */ });\n/* harmony import */ var _zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/anatomy */ \"(ssr)/./node_modules/@zag-js/anatomy/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_event__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @zag-js/dom-event */ \"(ssr)/./node_modules/@zag-js/dom-event/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @zag-js/dom-query */ \"(ssr)/./node_modules/@zag-js/dom-query/dist/index.mjs\");\n/* harmony import */ var _zag_js_form_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @zag-js/form-utils */ \"(ssr)/./node_modules/@zag-js/form-utils/dist/index.mjs\");\n/* harmony import */ var _zag_js_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @zag-js/core */ \"(ssr)/./node_modules/@zag-js/core/dist/index.mjs\");\n/* harmony import */ var _zag_js_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @zag-js/utils */ \"(ssr)/./node_modules/@zag-js/utils/dist/index.mjs\");\n// src/rating-group.anatomy.ts\n\nvar anatomy = (0,_zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__.createAnatomy)(\"rating-group\").parts(\"root\", \"label\", \"item\", \"control\");\nvar parts = anatomy.build();\n\n// src/rating-group.connect.ts\n\n\n\n// src/rating-group.dom.ts\n\n\nvar dom = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.createScope)({\n  getRootId: (ctx) => ctx.ids?.root ?? `rating:${ctx.id}`,\n  getLabelId: (ctx) => ctx.ids?.label ?? `rating:${ctx.id}:label`,\n  getHiddenInputId: (ctx) => ctx.ids?.hiddenInput ?? `rating:${ctx.id}:input`,\n  getControlId: (ctx) => ctx.ids?.control ?? `rating:${ctx.id}:control`,\n  getItemId: (ctx, id) => ctx.ids?.rating?.(id) ?? `rating:${ctx.id}:star:${id}`,\n  getRootEl: (ctx) => dom.getById(ctx, dom.getRootId(ctx)),\n  getControlEl: (ctx) => dom.getById(ctx, dom.getControlId(ctx)),\n  getRadioEl: (ctx) => dom.getControlEl(ctx)?.querySelector(`[role=radio][aria-posinset='${Math.ceil(ctx.value)}']`),\n  getActiveEl: (ctx) => dom.getRootNode(ctx).activeElement,\n  getHiddenInputEl: (ctx) => dom.getById(ctx, dom.getHiddenInputId(ctx)),\n  dispatchChangeEvent: (ctx) => {\n    const inputEl = dom.getHiddenInputEl(ctx);\n    if (!inputEl)\n      return;\n    (0,_zag_js_form_utils__WEBPACK_IMPORTED_MODULE_2__.dispatchInputValueEvent)(inputEl, { value: ctx.value });\n  }\n});\n\n// src/rating-group.connect.ts\nfunction connect(state, send, normalize) {\n  const isInteractive = state.context.isInteractive;\n  const isDisabled = state.context.isDisabled;\n  const value = state.context.value;\n  const hoveredValue = state.context.hoveredValue;\n  const translations = state.context.translations;\n  function getItemState(props) {\n    const value2 = state.context.isHovering ? state.context.hoveredValue : state.context.value;\n    const isEqual2 = Math.ceil(value2) === props.index;\n    const isHighlighted = props.index <= value2 || isEqual2;\n    const isHalf = isEqual2 && Math.abs(value2 - props.index) === 0.5;\n    return {\n      isEqual: isEqual2,\n      isValueEmpty: state.context.value === -1,\n      isHighlighted,\n      isHalf,\n      isChecked: isEqual2 || state.context.value === -1 && props.index === 1\n    };\n  }\n  return {\n    isHovering: state.context.isHovering,\n    value,\n    hoveredValue,\n    count: state.context.count,\n    items: Array.from({ length: state.context.count }).map((_, index) => index + 1),\n    getItemState,\n    setValue(value2) {\n      send({ type: \"SET_VALUE\", value: value2 });\n    },\n    clearValue() {\n      send(\"CLEAR_VALUE\");\n    },\n    rootProps: normalize.element({\n      dir: state.context.dir,\n      ...parts.root.attrs,\n      id: dom.getRootId(state.context)\n    }),\n    hiddenInputProps: normalize.input({\n      name: state.context.name,\n      form: state.context.form,\n      type: \"text\",\n      hidden: true,\n      id: dom.getHiddenInputId(state.context),\n      defaultValue: state.context.value\n    }),\n    labelProps: normalize.element({\n      ...parts.label.attrs,\n      dir: state.context.dir,\n      id: dom.getLabelId(state.context),\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isDisabled)\n    }),\n    controlProps: normalize.element({\n      id: dom.getControlId(state.context),\n      ...parts.control.attrs,\n      dir: state.context.dir,\n      role: \"radiogroup\",\n      \"aria-orientation\": \"horizontal\",\n      \"aria-labelledby\": dom.getLabelId(state.context),\n      tabIndex: state.context.readOnly ? 0 : -1,\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isDisabled),\n      onPointerMove(event) {\n        if (!isInteractive || event.pointerType === \"touch\")\n          return;\n        send(\"GROUP_POINTER_OVER\");\n      },\n      onPointerLeave(event) {\n        if (!isInteractive || event.pointerType === \"touch\")\n          return;\n        send(\"GROUP_POINTER_LEAVE\");\n      }\n    }),\n    getItemProps(props) {\n      const { index } = props;\n      const itemState = getItemState(props);\n      const valueText = translations.ratingValueText(index);\n      return normalize.element({\n        ...parts.item.attrs,\n        dir: state.context.dir,\n        id: dom.getItemId(state.context, index.toString()),\n        role: \"radio\",\n        tabIndex: isDisabled ? void 0 : itemState.isChecked ? 0 : -1,\n        \"aria-roledescription\": \"rating\",\n        \"aria-label\": valueText,\n        \"aria-disabled\": isDisabled,\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isDisabled),\n        \"aria-readonly\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.ariaAttr)(state.context.readOnly),\n        \"data-readonly\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(state.context.readOnly),\n        \"aria-setsize\": state.context.count,\n        \"aria-checked\": itemState.isChecked,\n        \"data-checked\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(itemState.isChecked),\n        \"aria-posinset\": index,\n        \"data-highlighted\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(itemState.isHighlighted),\n        \"data-half\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(itemState.isHalf),\n        onPointerDown(event) {\n          if (!isInteractive)\n            return;\n          const evt = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_3__.getNativeEvent)(event);\n          if ((0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_3__.isLeftClick)(evt)) {\n            event.preventDefault();\n          }\n        },\n        onPointerMove(event) {\n          if (!isInteractive)\n            return;\n          const point = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_3__.getEventPoint)((0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_3__.getNativeEvent)(event));\n          const relativePoint = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_3__.getRelativePoint)(point, event.currentTarget);\n          const percentX = relativePoint.getPercentValue({\n            orientation: \"horizontal\",\n            dir: state.context.dir\n          });\n          const isMidway = percentX < 0.5;\n          send({ type: \"POINTER_OVER\", index, isMidway });\n        },\n        onKeyDown(event) {\n          if (!isInteractive)\n            return;\n          const keyMap = {\n            ArrowLeft() {\n              send(\"ARROW_LEFT\");\n            },\n            ArrowRight() {\n              send(\"ARROW_RIGHT\");\n            },\n            ArrowUp() {\n              send(\"ARROW_LEFT\");\n            },\n            ArrowDown() {\n              send(\"ARROW_RIGHT\");\n            },\n            Space() {\n              send({ type: \"SPACE\", value: index });\n            },\n            Home() {\n              send(\"HOME\");\n            },\n            End() {\n              send(\"END\");\n            }\n          };\n          const key = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_3__.getEventKey)(event, state.context);\n          const exec = keyMap[key];\n          if (exec) {\n            event.preventDefault();\n            exec(event);\n          }\n        },\n        onClick() {\n          if (!isInteractive)\n            return;\n          send({ type: \"CLICK\", value: index });\n        },\n        onFocus() {\n          if (!isInteractive)\n            return;\n          send(\"FOCUS\");\n        },\n        onBlur() {\n          if (!isInteractive)\n            return;\n          send(\"BLUR\");\n        }\n      });\n    }\n  };\n}\n\n// src/rating-group.machine.ts\n\n\n\n\nfunction machine(userContext) {\n  const ctx = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_4__.compact)(userContext);\n  return (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_5__.createMachine)(\n    {\n      id: \"rating\",\n      initial: \"idle\",\n      context: {\n        name: \"rating\",\n        count: 5,\n        dir: \"ltr\",\n        value: -1,\n        hoveredValue: -1,\n        readOnly: false,\n        disabled: false,\n        ...ctx,\n        fieldsetDisabled: false,\n        translations: {\n          ratingValueText: (index) => `${index} stars`,\n          ...ctx.translations\n        }\n      },\n      created: [\"roundValueIfNeeded\"],\n      watch: {\n        allowHalf: [\"roundValueIfNeeded\"]\n      },\n      computed: {\n        isDisabled: (ctx2) => !!ctx2.disabled || ctx2.fieldsetDisabled,\n        isInteractive: (ctx2) => !(ctx2.isDisabled || ctx2.readOnly),\n        isHovering: (ctx2) => ctx2.hoveredValue > -1\n      },\n      activities: [\"trackFormControlState\"],\n      on: {\n        SET_VALUE: {\n          actions: [\"setValue\"]\n        },\n        CLEAR_VALUE: {\n          actions: [\"clearValue\"]\n        }\n      },\n      states: {\n        idle: {\n          entry: \"clearHoveredValue\",\n          on: {\n            GROUP_POINTER_OVER: \"hover\",\n            FOCUS: \"focus\",\n            CLICK: {\n              actions: [\"setValue\", \"focusActiveRadio\"]\n            }\n          }\n        },\n        focus: {\n          on: {\n            POINTER_OVER: {\n              actions: \"setHoveredValue\"\n            },\n            GROUP_POINTER_LEAVE: {\n              actions: \"clearHoveredValue\"\n            },\n            BLUR: \"idle\",\n            SPACE: {\n              guard: \"isValueEmpty\",\n              actions: [\"setValue\"]\n            },\n            CLICK: {\n              actions: [\"setValue\", \"focusActiveRadio\"]\n            },\n            ARROW_LEFT: {\n              actions: [\"setPrevValue\", \"focusActiveRadio\"]\n            },\n            ARROW_RIGHT: {\n              actions: [\"setNextValue\", \"focusActiveRadio\"]\n            },\n            HOME: {\n              actions: [\"setValueToMin\", \"focusActiveRadio\"]\n            },\n            END: {\n              actions: [\"setValueToMax\", \"focusActiveRadio\"]\n            }\n          }\n        },\n        hover: {\n          on: {\n            POINTER_OVER: {\n              actions: \"setHoveredValue\"\n            },\n            GROUP_POINTER_LEAVE: [\n              {\n                guard: \"isRadioFocused\",\n                target: \"focus\",\n                actions: \"clearHoveredValue\"\n              },\n              {\n                target: \"idle\",\n                actions: \"clearHoveredValue\"\n              }\n            ],\n            CLICK: {\n              actions: [\"setValue\", \"focusActiveRadio\"]\n            }\n          }\n        }\n      }\n    },\n    {\n      guards: {\n        isInteractive: (ctx2) => !(ctx2.disabled || ctx2.readOnly),\n        isHoveredValueEmpty: (ctx2) => ctx2.hoveredValue === -1,\n        isValueEmpty: (ctx2) => ctx2.value <= 0,\n        isRadioFocused: (ctx2) => !!dom.getControlEl(ctx2)?.contains(dom.getActiveEl(ctx2))\n      },\n      activities: {\n        trackFormControlState(ctx2, _evt, { initialContext }) {\n          return (0,_zag_js_form_utils__WEBPACK_IMPORTED_MODULE_2__.trackFormControl)(dom.getHiddenInputEl(ctx2), {\n            onFieldsetDisabledChange(disabled) {\n              ctx2.fieldsetDisabled = disabled;\n            },\n            onFormReset() {\n              set.value(ctx2, initialContext.value);\n            }\n          });\n        }\n      },\n      actions: {\n        clearHoveredValue(ctx2) {\n          set.hoveredValue(ctx2, -1);\n        },\n        focusActiveRadio(ctx2) {\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => dom.getRadioEl(ctx2)?.focus());\n        },\n        setPrevValue(ctx2) {\n          const factor = ctx2.allowHalf ? 0.5 : 1;\n          set.value(ctx2, Math.max(0, ctx2.value - factor));\n        },\n        setNextValue(ctx2) {\n          const factor = ctx2.allowHalf ? 0.5 : 1;\n          const value = ctx2.value === -1 ? 0 : ctx2.value;\n          set.value(ctx2, Math.min(ctx2.count, value + factor));\n        },\n        setValueToMin(ctx2) {\n          set.value(ctx2, 1);\n        },\n        setValueToMax(ctx2) {\n          set.value(ctx2, ctx2.count);\n        },\n        setValue(ctx2, evt) {\n          const value = ctx2.hoveredValue === -1 ? evt.value : ctx2.hoveredValue;\n          set.value(ctx2, value);\n        },\n        clearValue(ctx2) {\n          set.value(ctx2, -1);\n        },\n        setHoveredValue(ctx2, evt) {\n          const half = ctx2.allowHalf && evt.isMidway;\n          const factor = half ? 0.5 : 0;\n          set.hoveredValue(ctx2, evt.index - factor);\n        },\n        roundValueIfNeeded(ctx2) {\n          if (ctx2.allowHalf)\n            return;\n          ctx2.value = Math.round(ctx2.value);\n        }\n      }\n    }\n  );\n}\nvar invoke = {\n  change: (ctx) => {\n    ctx.onValueChange?.({ value: ctx.value });\n    dom.dispatchChangeEvent(ctx);\n  },\n  hoverChange: (ctx) => {\n    ctx.onHoverChange?.({ hoveredValue: ctx.hoveredValue });\n  }\n};\nvar set = {\n  value: (ctx, value) => {\n    if ((0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_4__.isEqual)(ctx.value, value))\n      return;\n    ctx.value = value;\n    invoke.change(ctx);\n  },\n  hoveredValue: (ctx, value) => {\n    if ((0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_4__.isEqual)(ctx.hoveredValue, value))\n      return;\n    ctx.hoveredValue = value;\n    invoke.hoverChange(ctx);\n  }\n};\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9yYXRpbmctZ3JvdXAvZGlzdC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7QUFDZ0Q7QUFDaEQsY0FBYyw4REFBYTtBQUMzQjs7QUFFQTtBQU8yQjtBQUM0Qjs7QUFFdkQ7QUFDZ0Q7QUFDYTtBQUM3RCxVQUFVLDhEQUFXO0FBQ3JCLGlEQUFpRCxPQUFPO0FBQ3hELG1EQUFtRCxPQUFPO0FBQzFELCtEQUErRCxPQUFPO0FBQ3RFLHVEQUF1RCxPQUFPO0FBQzlELDZEQUE2RCxPQUFPLFFBQVEsR0FBRztBQUMvRTtBQUNBO0FBQ0EsMkZBQTJGLHFCQUFxQjtBQUNoSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLDJFQUF1QixZQUFZLGtCQUFrQjtBQUN6RDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsNkJBQTZCO0FBQ3JEO0FBQ0E7QUFDQSxhQUFhLGtDQUFrQztBQUMvQyxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiwyREFBUTtBQUMvQixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiwyREFBUTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QkFBMEIsa0JBQWtCO0FBQzVDO0FBQ0EsR0FBRztBQUNIO0FBQ0EsMEJBQTBCLGdDQUFnQztBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsc0RBQU87QUFDZjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxRQUFRLHNEQUFPO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AcGFyay11aS9leGFtcGxlcy1yZWFjdC1uZXh0LWpzLy4vbm9kZV9tb2R1bGVzL0B6YWctanMvcmF0aW5nLWdyb3VwL2Rpc3QvaW5kZXgubWpzPzRjZGEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL3JhdGluZy1ncm91cC5hbmF0b215LnRzXG5pbXBvcnQgeyBjcmVhdGVBbmF0b215IH0gZnJvbSBcIkB6YWctanMvYW5hdG9teVwiO1xudmFyIGFuYXRvbXkgPSBjcmVhdGVBbmF0b215KFwicmF0aW5nLWdyb3VwXCIpLnBhcnRzKFwicm9vdFwiLCBcImxhYmVsXCIsIFwiaXRlbVwiLCBcImNvbnRyb2xcIik7XG52YXIgcGFydHMgPSBhbmF0b215LmJ1aWxkKCk7XG5cbi8vIHNyYy9yYXRpbmctZ3JvdXAuY29ubmVjdC50c1xuaW1wb3J0IHtcbiAgZ2V0RXZlbnRLZXksXG4gIGdldEV2ZW50UG9pbnQsXG4gIGdldE5hdGl2ZUV2ZW50LFxuICBnZXRSZWxhdGl2ZVBvaW50LFxuICBpc0xlZnRDbGlja1xufSBmcm9tIFwiQHphZy1qcy9kb20tZXZlbnRcIjtcbmltcG9ydCB7IGFyaWFBdHRyLCBkYXRhQXR0ciB9IGZyb20gXCJAemFnLWpzL2RvbS1xdWVyeVwiO1xuXG4vLyBzcmMvcmF0aW5nLWdyb3VwLmRvbS50c1xuaW1wb3J0IHsgY3JlYXRlU2NvcGUgfSBmcm9tIFwiQHphZy1qcy9kb20tcXVlcnlcIjtcbmltcG9ydCB7IGRpc3BhdGNoSW5wdXRWYWx1ZUV2ZW50IH0gZnJvbSBcIkB6YWctanMvZm9ybS11dGlsc1wiO1xudmFyIGRvbSA9IGNyZWF0ZVNjb3BlKHtcbiAgZ2V0Um9vdElkOiAoY3R4KSA9PiBjdHguaWRzPy5yb290ID8/IGByYXRpbmc6JHtjdHguaWR9YCxcbiAgZ2V0TGFiZWxJZDogKGN0eCkgPT4gY3R4Lmlkcz8ubGFiZWwgPz8gYHJhdGluZzoke2N0eC5pZH06bGFiZWxgLFxuICBnZXRIaWRkZW5JbnB1dElkOiAoY3R4KSA9PiBjdHguaWRzPy5oaWRkZW5JbnB1dCA/PyBgcmF0aW5nOiR7Y3R4LmlkfTppbnB1dGAsXG4gIGdldENvbnRyb2xJZDogKGN0eCkgPT4gY3R4Lmlkcz8uY29udHJvbCA/PyBgcmF0aW5nOiR7Y3R4LmlkfTpjb250cm9sYCxcbiAgZ2V0SXRlbUlkOiAoY3R4LCBpZCkgPT4gY3R4Lmlkcz8ucmF0aW5nPy4oaWQpID8/IGByYXRpbmc6JHtjdHguaWR9OnN0YXI6JHtpZH1gLFxuICBnZXRSb290RWw6IChjdHgpID0+IGRvbS5nZXRCeUlkKGN0eCwgZG9tLmdldFJvb3RJZChjdHgpKSxcbiAgZ2V0Q29udHJvbEVsOiAoY3R4KSA9PiBkb20uZ2V0QnlJZChjdHgsIGRvbS5nZXRDb250cm9sSWQoY3R4KSksXG4gIGdldFJhZGlvRWw6IChjdHgpID0+IGRvbS5nZXRDb250cm9sRWwoY3R4KT8ucXVlcnlTZWxlY3RvcihgW3JvbGU9cmFkaW9dW2FyaWEtcG9zaW5zZXQ9JyR7TWF0aC5jZWlsKGN0eC52YWx1ZSl9J11gKSxcbiAgZ2V0QWN0aXZlRWw6IChjdHgpID0+IGRvbS5nZXRSb290Tm9kZShjdHgpLmFjdGl2ZUVsZW1lbnQsXG4gIGdldEhpZGRlbklucHV0RWw6IChjdHgpID0+IGRvbS5nZXRCeUlkKGN0eCwgZG9tLmdldEhpZGRlbklucHV0SWQoY3R4KSksXG4gIGRpc3BhdGNoQ2hhbmdlRXZlbnQ6IChjdHgpID0+IHtcbiAgICBjb25zdCBpbnB1dEVsID0gZG9tLmdldEhpZGRlbklucHV0RWwoY3R4KTtcbiAgICBpZiAoIWlucHV0RWwpXG4gICAgICByZXR1cm47XG4gICAgZGlzcGF0Y2hJbnB1dFZhbHVlRXZlbnQoaW5wdXRFbCwgeyB2YWx1ZTogY3R4LnZhbHVlIH0pO1xuICB9XG59KTtcblxuLy8gc3JjL3JhdGluZy1ncm91cC5jb25uZWN0LnRzXG5mdW5jdGlvbiBjb25uZWN0KHN0YXRlLCBzZW5kLCBub3JtYWxpemUpIHtcbiAgY29uc3QgaXNJbnRlcmFjdGl2ZSA9IHN0YXRlLmNvbnRleHQuaXNJbnRlcmFjdGl2ZTtcbiAgY29uc3QgaXNEaXNhYmxlZCA9IHN0YXRlLmNvbnRleHQuaXNEaXNhYmxlZDtcbiAgY29uc3QgdmFsdWUgPSBzdGF0ZS5jb250ZXh0LnZhbHVlO1xuICBjb25zdCBob3ZlcmVkVmFsdWUgPSBzdGF0ZS5jb250ZXh0LmhvdmVyZWRWYWx1ZTtcbiAgY29uc3QgdHJhbnNsYXRpb25zID0gc3RhdGUuY29udGV4dC50cmFuc2xhdGlvbnM7XG4gIGZ1bmN0aW9uIGdldEl0ZW1TdGF0ZShwcm9wcykge1xuICAgIGNvbnN0IHZhbHVlMiA9IHN0YXRlLmNvbnRleHQuaXNIb3ZlcmluZyA/IHN0YXRlLmNvbnRleHQuaG92ZXJlZFZhbHVlIDogc3RhdGUuY29udGV4dC52YWx1ZTtcbiAgICBjb25zdCBpc0VxdWFsMiA9IE1hdGguY2VpbCh2YWx1ZTIpID09PSBwcm9wcy5pbmRleDtcbiAgICBjb25zdCBpc0hpZ2hsaWdodGVkID0gcHJvcHMuaW5kZXggPD0gdmFsdWUyIHx8IGlzRXF1YWwyO1xuICAgIGNvbnN0IGlzSGFsZiA9IGlzRXF1YWwyICYmIE1hdGguYWJzKHZhbHVlMiAtIHByb3BzLmluZGV4KSA9PT0gMC41O1xuICAgIHJldHVybiB7XG4gICAgICBpc0VxdWFsOiBpc0VxdWFsMixcbiAgICAgIGlzVmFsdWVFbXB0eTogc3RhdGUuY29udGV4dC52YWx1ZSA9PT0gLTEsXG4gICAgICBpc0hpZ2hsaWdodGVkLFxuICAgICAgaXNIYWxmLFxuICAgICAgaXNDaGVja2VkOiBpc0VxdWFsMiB8fCBzdGF0ZS5jb250ZXh0LnZhbHVlID09PSAtMSAmJiBwcm9wcy5pbmRleCA9PT0gMVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBpc0hvdmVyaW5nOiBzdGF0ZS5jb250ZXh0LmlzSG92ZXJpbmcsXG4gICAgdmFsdWUsXG4gICAgaG92ZXJlZFZhbHVlLFxuICAgIGNvdW50OiBzdGF0ZS5jb250ZXh0LmNvdW50LFxuICAgIGl0ZW1zOiBBcnJheS5mcm9tKHsgbGVuZ3RoOiBzdGF0ZS5jb250ZXh0LmNvdW50IH0pLm1hcCgoXywgaW5kZXgpID0+IGluZGV4ICsgMSksXG4gICAgZ2V0SXRlbVN0YXRlLFxuICAgIHNldFZhbHVlKHZhbHVlMikge1xuICAgICAgc2VuZCh7IHR5cGU6IFwiU0VUX1ZBTFVFXCIsIHZhbHVlOiB2YWx1ZTIgfSk7XG4gICAgfSxcbiAgICBjbGVhclZhbHVlKCkge1xuICAgICAgc2VuZChcIkNMRUFSX1ZBTFVFXCIpO1xuICAgIH0sXG4gICAgcm9vdFByb3BzOiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgLi4ucGFydHMucm9vdC5hdHRycyxcbiAgICAgIGlkOiBkb20uZ2V0Um9vdElkKHN0YXRlLmNvbnRleHQpXG4gICAgfSksXG4gICAgaGlkZGVuSW5wdXRQcm9wczogbm9ybWFsaXplLmlucHV0KHtcbiAgICAgIG5hbWU6IHN0YXRlLmNvbnRleHQubmFtZSxcbiAgICAgIGZvcm06IHN0YXRlLmNvbnRleHQuZm9ybSxcbiAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgaGlkZGVuOiB0cnVlLFxuICAgICAgaWQ6IGRvbS5nZXRIaWRkZW5JbnB1dElkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgZGVmYXVsdFZhbHVlOiBzdGF0ZS5jb250ZXh0LnZhbHVlXG4gICAgfSksXG4gICAgbGFiZWxQcm9wczogbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgLi4ucGFydHMubGFiZWwuYXR0cnMsXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgaWQ6IGRvbS5nZXRMYWJlbElkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgXCJkYXRhLWRpc2FibGVkXCI6IGRhdGFBdHRyKGlzRGlzYWJsZWQpXG4gICAgfSksXG4gICAgY29udHJvbFByb3BzOiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICBpZDogZG9tLmdldENvbnRyb2xJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIC4uLnBhcnRzLmNvbnRyb2wuYXR0cnMsXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgcm9sZTogXCJyYWRpb2dyb3VwXCIsXG4gICAgICBcImFyaWEtb3JpZW50YXRpb25cIjogXCJob3Jpem9udGFsXCIsXG4gICAgICBcImFyaWEtbGFiZWxsZWRieVwiOiBkb20uZ2V0TGFiZWxJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIHRhYkluZGV4OiBzdGF0ZS5jb250ZXh0LnJlYWRPbmx5ID8gMCA6IC0xLFxuICAgICAgXCJkYXRhLWRpc2FibGVkXCI6IGRhdGFBdHRyKGlzRGlzYWJsZWQpLFxuICAgICAgb25Qb2ludGVyTW92ZShldmVudCkge1xuICAgICAgICBpZiAoIWlzSW50ZXJhY3RpdmUgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09IFwidG91Y2hcIilcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIHNlbmQoXCJHUk9VUF9QT0lOVEVSX09WRVJcIik7XG4gICAgICB9LFxuICAgICAgb25Qb2ludGVyTGVhdmUoZXZlbnQpIHtcbiAgICAgICAgaWYgKCFpc0ludGVyYWN0aXZlIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSBcInRvdWNoXCIpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBzZW5kKFwiR1JPVVBfUE9JTlRFUl9MRUFWRVwiKTtcbiAgICAgIH1cbiAgICB9KSxcbiAgICBnZXRJdGVtUHJvcHMocHJvcHMpIHtcbiAgICAgIGNvbnN0IHsgaW5kZXggfSA9IHByb3BzO1xuICAgICAgY29uc3QgaXRlbVN0YXRlID0gZ2V0SXRlbVN0YXRlKHByb3BzKTtcbiAgICAgIGNvbnN0IHZhbHVlVGV4dCA9IHRyYW5zbGF0aW9ucy5yYXRpbmdWYWx1ZVRleHQoaW5kZXgpO1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgICAgLi4ucGFydHMuaXRlbS5hdHRycyxcbiAgICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgICAgaWQ6IGRvbS5nZXRJdGVtSWQoc3RhdGUuY29udGV4dCwgaW5kZXgudG9TdHJpbmcoKSksXG4gICAgICAgIHJvbGU6IFwicmFkaW9cIixcbiAgICAgICAgdGFiSW5kZXg6IGlzRGlzYWJsZWQgPyB2b2lkIDAgOiBpdGVtU3RhdGUuaXNDaGVja2VkID8gMCA6IC0xLFxuICAgICAgICBcImFyaWEtcm9sZWRlc2NyaXB0aW9uXCI6IFwicmF0aW5nXCIsXG4gICAgICAgIFwiYXJpYS1sYWJlbFwiOiB2YWx1ZVRleHQsXG4gICAgICAgIFwiYXJpYS1kaXNhYmxlZFwiOiBpc0Rpc2FibGVkLFxuICAgICAgICBcImRhdGEtZGlzYWJsZWRcIjogZGF0YUF0dHIoaXNEaXNhYmxlZCksXG4gICAgICAgIFwiYXJpYS1yZWFkb25seVwiOiBhcmlhQXR0cihzdGF0ZS5jb250ZXh0LnJlYWRPbmx5KSxcbiAgICAgICAgXCJkYXRhLXJlYWRvbmx5XCI6IGRhdGFBdHRyKHN0YXRlLmNvbnRleHQucmVhZE9ubHkpLFxuICAgICAgICBcImFyaWEtc2V0c2l6ZVwiOiBzdGF0ZS5jb250ZXh0LmNvdW50LFxuICAgICAgICBcImFyaWEtY2hlY2tlZFwiOiBpdGVtU3RhdGUuaXNDaGVja2VkLFxuICAgICAgICBcImRhdGEtY2hlY2tlZFwiOiBkYXRhQXR0cihpdGVtU3RhdGUuaXNDaGVja2VkKSxcbiAgICAgICAgXCJhcmlhLXBvc2luc2V0XCI6IGluZGV4LFxuICAgICAgICBcImRhdGEtaGlnaGxpZ2h0ZWRcIjogZGF0YUF0dHIoaXRlbVN0YXRlLmlzSGlnaGxpZ2h0ZWQpLFxuICAgICAgICBcImRhdGEtaGFsZlwiOiBkYXRhQXR0cihpdGVtU3RhdGUuaXNIYWxmKSxcbiAgICAgICAgb25Qb2ludGVyRG93bihldmVudCkge1xuICAgICAgICAgIGlmICghaXNJbnRlcmFjdGl2ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjb25zdCBldnQgPSBnZXROYXRpdmVFdmVudChldmVudCk7XG4gICAgICAgICAgaWYgKGlzTGVmdENsaWNrKGV2dCkpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvblBvaW50ZXJNb3ZlKGV2ZW50KSB7XG4gICAgICAgICAgaWYgKCFpc0ludGVyYWN0aXZlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHBvaW50ID0gZ2V0RXZlbnRQb2ludChnZXROYXRpdmVFdmVudChldmVudCkpO1xuICAgICAgICAgIGNvbnN0IHJlbGF0aXZlUG9pbnQgPSBnZXRSZWxhdGl2ZVBvaW50KHBvaW50LCBldmVudC5jdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgICBjb25zdCBwZXJjZW50WCA9IHJlbGF0aXZlUG9pbnQuZ2V0UGVyY2VudFZhbHVlKHtcbiAgICAgICAgICAgIG9yaWVudGF0aW9uOiBcImhvcml6b250YWxcIixcbiAgICAgICAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXJcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCBpc01pZHdheSA9IHBlcmNlbnRYIDwgMC41O1xuICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIlBPSU5URVJfT1ZFUlwiLCBpbmRleCwgaXNNaWR3YXkgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uS2V5RG93bihldmVudCkge1xuICAgICAgICAgIGlmICghaXNJbnRlcmFjdGl2ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjb25zdCBrZXlNYXAgPSB7XG4gICAgICAgICAgICBBcnJvd0xlZnQoKSB7XG4gICAgICAgICAgICAgIHNlbmQoXCJBUlJPV19MRUZUXCIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIEFycm93UmlnaHQoKSB7XG4gICAgICAgICAgICAgIHNlbmQoXCJBUlJPV19SSUdIVFwiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBBcnJvd1VwKCkge1xuICAgICAgICAgICAgICBzZW5kKFwiQVJST1dfTEVGVFwiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBBcnJvd0Rvd24oKSB7XG4gICAgICAgICAgICAgIHNlbmQoXCJBUlJPV19SSUdIVFwiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBTcGFjZSgpIHtcbiAgICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwiU1BBQ0VcIiwgdmFsdWU6IGluZGV4IH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIEhvbWUoKSB7XG4gICAgICAgICAgICAgIHNlbmQoXCJIT01FXCIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIEVuZCgpIHtcbiAgICAgICAgICAgICAgc2VuZChcIkVORFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IGtleSA9IGdldEV2ZW50S2V5KGV2ZW50LCBzdGF0ZS5jb250ZXh0KTtcbiAgICAgICAgICBjb25zdCBleGVjID0ga2V5TWFwW2tleV07XG4gICAgICAgICAgaWYgKGV4ZWMpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBleGVjKGV2ZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uQ2xpY2soKSB7XG4gICAgICAgICAgaWYgKCFpc0ludGVyYWN0aXZlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIkNMSUNLXCIsIHZhbHVlOiBpbmRleCB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Gb2N1cygpIHtcbiAgICAgICAgICBpZiAoIWlzSW50ZXJhY3RpdmUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgc2VuZChcIkZPQ1VTXCIpO1xuICAgICAgICB9LFxuICAgICAgICBvbkJsdXIoKSB7XG4gICAgICAgICAgaWYgKCFpc0ludGVyYWN0aXZlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIHNlbmQoXCJCTFVSXCIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XG5cbi8vIHNyYy9yYXRpbmctZ3JvdXAubWFjaGluZS50c1xuaW1wb3J0IHsgY3JlYXRlTWFjaGluZSB9IGZyb20gXCJAemFnLWpzL2NvcmVcIjtcbmltcG9ydCB7IHJhZiB9IGZyb20gXCJAemFnLWpzL2RvbS1xdWVyeVwiO1xuaW1wb3J0IHsgdHJhY2tGb3JtQ29udHJvbCB9IGZyb20gXCJAemFnLWpzL2Zvcm0tdXRpbHNcIjtcbmltcG9ydCB7IGNvbXBhY3QsIGlzRXF1YWwgfSBmcm9tIFwiQHphZy1qcy91dGlsc1wiO1xuZnVuY3Rpb24gbWFjaGluZSh1c2VyQ29udGV4dCkge1xuICBjb25zdCBjdHggPSBjb21wYWN0KHVzZXJDb250ZXh0KTtcbiAgcmV0dXJuIGNyZWF0ZU1hY2hpbmUoXG4gICAge1xuICAgICAgaWQ6IFwicmF0aW5nXCIsXG4gICAgICBpbml0aWFsOiBcImlkbGVcIixcbiAgICAgIGNvbnRleHQ6IHtcbiAgICAgICAgbmFtZTogXCJyYXRpbmdcIixcbiAgICAgICAgY291bnQ6IDUsXG4gICAgICAgIGRpcjogXCJsdHJcIixcbiAgICAgICAgdmFsdWU6IC0xLFxuICAgICAgICBob3ZlcmVkVmFsdWU6IC0xLFxuICAgICAgICByZWFkT25seTogZmFsc2UsXG4gICAgICAgIGRpc2FibGVkOiBmYWxzZSxcbiAgICAgICAgLi4uY3R4LFxuICAgICAgICBmaWVsZHNldERpc2FibGVkOiBmYWxzZSxcbiAgICAgICAgdHJhbnNsYXRpb25zOiB7XG4gICAgICAgICAgcmF0aW5nVmFsdWVUZXh0OiAoaW5kZXgpID0+IGAke2luZGV4fSBzdGFyc2AsXG4gICAgICAgICAgLi4uY3R4LnRyYW5zbGF0aW9uc1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY3JlYXRlZDogW1wicm91bmRWYWx1ZUlmTmVlZGVkXCJdLFxuICAgICAgd2F0Y2g6IHtcbiAgICAgICAgYWxsb3dIYWxmOiBbXCJyb3VuZFZhbHVlSWZOZWVkZWRcIl1cbiAgICAgIH0sXG4gICAgICBjb21wdXRlZDoge1xuICAgICAgICBpc0Rpc2FibGVkOiAoY3R4MikgPT4gISFjdHgyLmRpc2FibGVkIHx8IGN0eDIuZmllbGRzZXREaXNhYmxlZCxcbiAgICAgICAgaXNJbnRlcmFjdGl2ZTogKGN0eDIpID0+ICEoY3R4Mi5pc0Rpc2FibGVkIHx8IGN0eDIucmVhZE9ubHkpLFxuICAgICAgICBpc0hvdmVyaW5nOiAoY3R4MikgPT4gY3R4Mi5ob3ZlcmVkVmFsdWUgPiAtMVxuICAgICAgfSxcbiAgICAgIGFjdGl2aXRpZXM6IFtcInRyYWNrRm9ybUNvbnRyb2xTdGF0ZVwiXSxcbiAgICAgIG9uOiB7XG4gICAgICAgIFNFVF9WQUxVRToge1xuICAgICAgICAgIGFjdGlvbnM6IFtcInNldFZhbHVlXCJdXG4gICAgICAgIH0sXG4gICAgICAgIENMRUFSX1ZBTFVFOiB7XG4gICAgICAgICAgYWN0aW9uczogW1wiY2xlYXJWYWx1ZVwiXVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgc3RhdGVzOiB7XG4gICAgICAgIGlkbGU6IHtcbiAgICAgICAgICBlbnRyeTogXCJjbGVhckhvdmVyZWRWYWx1ZVwiLFxuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBHUk9VUF9QT0lOVEVSX09WRVI6IFwiaG92ZXJcIixcbiAgICAgICAgICAgIEZPQ1VTOiBcImZvY3VzXCIsXG4gICAgICAgICAgICBDTElDSzoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRWYWx1ZVwiLCBcImZvY3VzQWN0aXZlUmFkaW9cIl1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGZvY3VzOiB7XG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIFBPSU5URVJfT1ZFUjoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBcInNldEhvdmVyZWRWYWx1ZVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgR1JPVVBfUE9JTlRFUl9MRUFWRToge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBcImNsZWFySG92ZXJlZFZhbHVlXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBCTFVSOiBcImlkbGVcIixcbiAgICAgICAgICAgIFNQQUNFOiB7XG4gICAgICAgICAgICAgIGd1YXJkOiBcImlzVmFsdWVFbXB0eVwiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRWYWx1ZVwiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIENMSUNLOiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldFZhbHVlXCIsIFwiZm9jdXNBY3RpdmVSYWRpb1wiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIEFSUk9XX0xFRlQ6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wic2V0UHJldlZhbHVlXCIsIFwiZm9jdXNBY3RpdmVSYWRpb1wiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIEFSUk9XX1JJR0hUOiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldE5leHRWYWx1ZVwiLCBcImZvY3VzQWN0aXZlUmFkaW9cIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBIT01FOiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldFZhbHVlVG9NaW5cIiwgXCJmb2N1c0FjdGl2ZVJhZGlvXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgRU5EOiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldFZhbHVlVG9NYXhcIiwgXCJmb2N1c0FjdGl2ZVJhZGlvXCJdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBob3Zlcjoge1xuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBQT0lOVEVSX09WRVI6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogXCJzZXRIb3ZlcmVkVmFsdWVcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIEdST1VQX1BPSU5URVJfTEVBVkU6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGd1YXJkOiBcImlzUmFkaW9Gb2N1c2VkXCIsXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBcImZvY3VzXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogXCJjbGVhckhvdmVyZWRWYWx1ZVwiXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiaWRsZVwiLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFwiY2xlYXJIb3ZlcmVkVmFsdWVcIlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgQ0xJQ0s6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wic2V0VmFsdWVcIiwgXCJmb2N1c0FjdGl2ZVJhZGlvXCJdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICBndWFyZHM6IHtcbiAgICAgICAgaXNJbnRlcmFjdGl2ZTogKGN0eDIpID0+ICEoY3R4Mi5kaXNhYmxlZCB8fCBjdHgyLnJlYWRPbmx5KSxcbiAgICAgICAgaXNIb3ZlcmVkVmFsdWVFbXB0eTogKGN0eDIpID0+IGN0eDIuaG92ZXJlZFZhbHVlID09PSAtMSxcbiAgICAgICAgaXNWYWx1ZUVtcHR5OiAoY3R4MikgPT4gY3R4Mi52YWx1ZSA8PSAwLFxuICAgICAgICBpc1JhZGlvRm9jdXNlZDogKGN0eDIpID0+ICEhZG9tLmdldENvbnRyb2xFbChjdHgyKT8uY29udGFpbnMoZG9tLmdldEFjdGl2ZUVsKGN0eDIpKVxuICAgICAgfSxcbiAgICAgIGFjdGl2aXRpZXM6IHtcbiAgICAgICAgdHJhY2tGb3JtQ29udHJvbFN0YXRlKGN0eDIsIF9ldnQsIHsgaW5pdGlhbENvbnRleHQgfSkge1xuICAgICAgICAgIHJldHVybiB0cmFja0Zvcm1Db250cm9sKGRvbS5nZXRIaWRkZW5JbnB1dEVsKGN0eDIpLCB7XG4gICAgICAgICAgICBvbkZpZWxkc2V0RGlzYWJsZWRDaGFuZ2UoZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgY3R4Mi5maWVsZHNldERpc2FibGVkID0gZGlzYWJsZWQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25Gb3JtUmVzZXQoKSB7XG4gICAgICAgICAgICAgIHNldC52YWx1ZShjdHgyLCBpbml0aWFsQ29udGV4dC52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBhY3Rpb25zOiB7XG4gICAgICAgIGNsZWFySG92ZXJlZFZhbHVlKGN0eDIpIHtcbiAgICAgICAgICBzZXQuaG92ZXJlZFZhbHVlKGN0eDIsIC0xKTtcbiAgICAgICAgfSxcbiAgICAgICAgZm9jdXNBY3RpdmVSYWRpbyhjdHgyKSB7XG4gICAgICAgICAgcmFmKCgpID0+IGRvbS5nZXRSYWRpb0VsKGN0eDIpPy5mb2N1cygpKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0UHJldlZhbHVlKGN0eDIpIHtcbiAgICAgICAgICBjb25zdCBmYWN0b3IgPSBjdHgyLmFsbG93SGFsZiA/IDAuNSA6IDE7XG4gICAgICAgICAgc2V0LnZhbHVlKGN0eDIsIE1hdGgubWF4KDAsIGN0eDIudmFsdWUgLSBmYWN0b3IpKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0TmV4dFZhbHVlKGN0eDIpIHtcbiAgICAgICAgICBjb25zdCBmYWN0b3IgPSBjdHgyLmFsbG93SGFsZiA/IDAuNSA6IDE7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSBjdHgyLnZhbHVlID09PSAtMSA/IDAgOiBjdHgyLnZhbHVlO1xuICAgICAgICAgIHNldC52YWx1ZShjdHgyLCBNYXRoLm1pbihjdHgyLmNvdW50LCB2YWx1ZSArIGZhY3RvcikpO1xuICAgICAgICB9LFxuICAgICAgICBzZXRWYWx1ZVRvTWluKGN0eDIpIHtcbiAgICAgICAgICBzZXQudmFsdWUoY3R4MiwgMSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFZhbHVlVG9NYXgoY3R4Mikge1xuICAgICAgICAgIHNldC52YWx1ZShjdHgyLCBjdHgyLmNvdW50KTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0VmFsdWUoY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSBjdHgyLmhvdmVyZWRWYWx1ZSA9PT0gLTEgPyBldnQudmFsdWUgOiBjdHgyLmhvdmVyZWRWYWx1ZTtcbiAgICAgICAgICBzZXQudmFsdWUoY3R4MiwgdmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBjbGVhclZhbHVlKGN0eDIpIHtcbiAgICAgICAgICBzZXQudmFsdWUoY3R4MiwgLTEpO1xuICAgICAgICB9LFxuICAgICAgICBzZXRIb3ZlcmVkVmFsdWUoY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgY29uc3QgaGFsZiA9IGN0eDIuYWxsb3dIYWxmICYmIGV2dC5pc01pZHdheTtcbiAgICAgICAgICBjb25zdCBmYWN0b3IgPSBoYWxmID8gMC41IDogMDtcbiAgICAgICAgICBzZXQuaG92ZXJlZFZhbHVlKGN0eDIsIGV2dC5pbmRleCAtIGZhY3Rvcik7XG4gICAgICAgIH0sXG4gICAgICAgIHJvdW5kVmFsdWVJZk5lZWRlZChjdHgyKSB7XG4gICAgICAgICAgaWYgKGN0eDIuYWxsb3dIYWxmKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGN0eDIudmFsdWUgPSBNYXRoLnJvdW5kKGN0eDIudmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICApO1xufVxudmFyIGludm9rZSA9IHtcbiAgY2hhbmdlOiAoY3R4KSA9PiB7XG4gICAgY3R4Lm9uVmFsdWVDaGFuZ2U/Lih7IHZhbHVlOiBjdHgudmFsdWUgfSk7XG4gICAgZG9tLmRpc3BhdGNoQ2hhbmdlRXZlbnQoY3R4KTtcbiAgfSxcbiAgaG92ZXJDaGFuZ2U6IChjdHgpID0+IHtcbiAgICBjdHgub25Ib3ZlckNoYW5nZT8uKHsgaG92ZXJlZFZhbHVlOiBjdHguaG92ZXJlZFZhbHVlIH0pO1xuICB9XG59O1xudmFyIHNldCA9IHtcbiAgdmFsdWU6IChjdHgsIHZhbHVlKSA9PiB7XG4gICAgaWYgKGlzRXF1YWwoY3R4LnZhbHVlLCB2YWx1ZSkpXG4gICAgICByZXR1cm47XG4gICAgY3R4LnZhbHVlID0gdmFsdWU7XG4gICAgaW52b2tlLmNoYW5nZShjdHgpO1xuICB9LFxuICBob3ZlcmVkVmFsdWU6IChjdHgsIHZhbHVlKSA9PiB7XG4gICAgaWYgKGlzRXF1YWwoY3R4LmhvdmVyZWRWYWx1ZSwgdmFsdWUpKVxuICAgICAgcmV0dXJuO1xuICAgIGN0eC5ob3ZlcmVkVmFsdWUgPSB2YWx1ZTtcbiAgICBpbnZva2UuaG92ZXJDaGFuZ2UoY3R4KTtcbiAgfVxufTtcbmV4cG9ydCB7XG4gIGFuYXRvbXksXG4gIGNvbm5lY3QsXG4gIG1hY2hpbmVcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/rating-group/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/react/dist/index.mjs":
/*!***************************************************!*\
  !*** ./node_modules/@zag-js/react/dist/index.mjs ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Portal: () => (/* binding */ Portal),\n/* harmony export */   mergeProps: () => (/* reexport safe */ _zag_js_core__WEBPACK_IMPORTED_MODULE_5__.mergeProps),\n/* harmony export */   normalizeProps: () => (/* binding */ normalizeProps),\n/* harmony export */   useActor: () => (/* binding */ useActor),\n/* harmony export */   useMachine: () => (/* binding */ useMachine),\n/* harmony export */   useService: () => (/* binding */ useService)\n/* harmony export */ });\n/* harmony import */ var _zag_js_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @zag-js/core */ \"(ssr)/./node_modules/@zag-js/core/dist/index.mjs\");\n/* harmony import */ var _zag_js_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/types */ \"(ssr)/./node_modules/@zag-js/types/dist/index.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-dom.js\");\n/* harmony import */ var _zag_js_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @zag-js/store */ \"(ssr)/./node_modules/@zag-js/store/dist/index.mjs\");\n/* harmony import */ var proxy_compare__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! proxy-compare */ \"(ssr)/./node_modules/proxy-compare/dist/index.modern.js\");\n\"use client\"\n\n// src/index.ts\n;\n\n// src/normalize-props.ts\n\nvar normalizeProps = (0,_zag_js_types__WEBPACK_IMPORTED_MODULE_0__.createNormalizer)((v) => v);\n\n// src/portal.ts\n\n\n\n// src/use-layout-effect.ts\n\nvar useSafeLayoutEffect = typeof document !== \"undefined\" ? react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect : react__WEBPACK_IMPORTED_MODULE_1__.useEffect;\n\n// src/portal.ts\nfunction Portal(props) {\n  const { children, target } = props;\n  const node = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n  const portalNode = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n  const [, forceUpdate] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useReducer)((s) => s + 1, 0);\n  useSafeLayoutEffect(() => {\n    if (!node.current)\n      return;\n    const doc = node.current.ownerDocument;\n    portalNode.current = doc.createElement(\"zag-portal\");\n    doc.body.appendChild(portalNode.current);\n    forceUpdate();\n    return () => {\n      if (portalNode.current) {\n        doc.body.removeChild(portalNode.current);\n      }\n    };\n  }, []);\n  const targetNode = target?.current ?? portalNode.current;\n  if (targetNode) {\n    return (0,react_dom__WEBPACK_IMPORTED_MODULE_2__.createPortal)(children, targetNode);\n  }\n  return (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)(\"span\", { ref: node });\n}\n\n// src/use-snapshot.ts\n\n\n\nvar { use } = react__WEBPACK_IMPORTED_MODULE_1__;\nvar targetCache = /* @__PURE__ */ new WeakMap();\nfunction useSnapshot(proxyObject, options) {\n  const notifyInSync = options?.sync;\n  const lastSnapshot = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n  const lastAffected = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n  const currSnapshot = (0,react__WEBPACK_IMPORTED_MODULE_1__.useSyncExternalStore)(\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n      (callback) => {\n        const unsub = (0,_zag_js_store__WEBPACK_IMPORTED_MODULE_3__.subscribe)(proxyObject, callback, notifyInSync);\n        callback();\n        return unsub;\n      },\n      [proxyObject, notifyInSync]\n    ),\n    () => {\n      const nextSnapshot = (0,_zag_js_store__WEBPACK_IMPORTED_MODULE_3__.snapshot)(proxyObject, use);\n      try {\n        if (lastSnapshot.current && lastAffected.current && !(0,proxy_compare__WEBPACK_IMPORTED_MODULE_4__.isChanged)(lastSnapshot.current, nextSnapshot, lastAffected.current, /* @__PURE__ */ new WeakMap())) {\n          return lastSnapshot.current;\n        }\n      } catch (e) {\n      }\n      return nextSnapshot;\n    },\n    () => (0,_zag_js_store__WEBPACK_IMPORTED_MODULE_3__.snapshot)(proxyObject, use)\n  );\n  const currAffected = /* @__PURE__ */ new WeakMap();\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    lastSnapshot.current = currSnapshot;\n    lastAffected.current = currAffected;\n  });\n  const proxyCache = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => /* @__PURE__ */ new WeakMap(), []);\n  return (0,proxy_compare__WEBPACK_IMPORTED_MODULE_4__.createProxy)(currSnapshot, currAffected, proxyCache, targetCache);\n}\n\n// src/use-actor.ts\nfunction useActor(service) {\n  const current = useSnapshot(service.state);\n  const typedState = current;\n  return [typedState, service.send];\n}\n\n// src/use-constant.ts\n\nfunction useConstant(fn) {\n  const ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n  if (!ref.current)\n    ref.current = { v: fn() };\n  return ref.current.v;\n}\n\n// src/use-machine.ts\nfunction useService(machine, options) {\n  const { actions, state: hydratedState, context } = options ?? {};\n  const service = useConstant(() => {\n    const instance = typeof machine === \"function\" ? machine() : machine;\n    return context ? instance.withContext(context) : instance;\n  });\n  useSafeLayoutEffect(() => {\n    service.start(hydratedState);\n    if (service.state.can(\"SETUP\")) {\n      service.send(\"SETUP\");\n    }\n    return () => {\n      service.stop();\n    };\n  }, []);\n  service.setOptions({ actions });\n  service.setContext(context);\n  return service;\n}\nfunction useMachine(machine, options) {\n  const service = useService(machine, options);\n  const state = useSnapshot(service.state);\n  const typedState = state;\n  return [typedState, service.send, service];\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9yZWFjdC9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFFQTtBQUNBLENBQTBDOztBQUUxQztBQUNpRDtBQUNqRCxxQkFBcUIsK0RBQWdCOztBQUVyQztBQUMwRDtBQUNqQjs7QUFFekM7QUFDbUQ7QUFDbkQsNERBQTRELGtEQUFlLEdBQUcsNENBQVM7O0FBRXZGO0FBQ0E7QUFDQSxVQUFVLG1CQUFtQjtBQUM3QixlQUFlLDZDQUFNO0FBQ3JCLHFCQUFxQiw2Q0FBTTtBQUMzQiwwQkFBMEIsaURBQVU7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxXQUFXLHVEQUFZO0FBQ3ZCO0FBQ0EsU0FBUyxvREFBYSxXQUFXLFdBQVc7QUFDNUM7O0FBRUE7QUFDb0Q7QUFDMkI7QUFDNkM7QUFDNUgsTUFBTSxNQUFNLEVBQUUsa0NBQVc7QUFDekI7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDZDQUFPO0FBQzlCLHVCQUF1Qiw2Q0FBTztBQUM5Qix1QkFBdUIsMkRBQW9CO0FBQzNDLElBQUksa0RBQVc7QUFDZjtBQUNBLHNCQUFzQix3REFBUztBQUMvQjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix1REFBUTtBQUNuQztBQUNBLDZEQUE2RCx3REFBUztBQUN0RTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsVUFBVSx1REFBUTtBQUNsQjtBQUNBO0FBQ0EsRUFBRSxnREFBVTtBQUNaO0FBQ0E7QUFDQSxHQUFHO0FBQ0gscUJBQXFCLDhDQUFPO0FBQzVCLFNBQVMsMERBQW9CO0FBQzdCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUMwQztBQUMxQztBQUNBLGNBQWMsNkNBQU87QUFDckI7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVSx5Q0FBeUM7QUFDbkQ7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsdUJBQXVCLFNBQVM7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL0BwYXJrLXVpL2V4YW1wbGVzLXJlYWN0LW5leHQtanMvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9yZWFjdC9kaXN0L2luZGV4Lm1qcz85ZGM0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbi8vIHNyYy9pbmRleC50c1xuaW1wb3J0IHsgbWVyZ2VQcm9wcyB9IGZyb20gXCJAemFnLWpzL2NvcmVcIjtcblxuLy8gc3JjL25vcm1hbGl6ZS1wcm9wcy50c1xuaW1wb3J0IHsgY3JlYXRlTm9ybWFsaXplciB9IGZyb20gXCJAemFnLWpzL3R5cGVzXCI7XG52YXIgbm9ybWFsaXplUHJvcHMgPSBjcmVhdGVOb3JtYWxpemVyKCh2KSA9PiB2KTtcblxuLy8gc3JjL3BvcnRhbC50c1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudCwgdXNlUmVkdWNlciwgdXNlUmVmIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBjcmVhdGVQb3J0YWwgfSBmcm9tIFwicmVhY3QtZG9tXCI7XG5cbi8vIHNyYy91c2UtbGF5b3V0LWVmZmVjdC50c1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VMYXlvdXRFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbnZhciB1c2VTYWZlTGF5b3V0RWZmZWN0ID0gdHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiID8gdXNlTGF5b3V0RWZmZWN0IDogdXNlRWZmZWN0O1xuXG4vLyBzcmMvcG9ydGFsLnRzXG5mdW5jdGlvbiBQb3J0YWwocHJvcHMpIHtcbiAgY29uc3QgeyBjaGlsZHJlbiwgdGFyZ2V0IH0gPSBwcm9wcztcbiAgY29uc3Qgbm9kZSA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgcG9ydGFsTm9kZSA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgWywgZm9yY2VVcGRhdGVdID0gdXNlUmVkdWNlcigocykgPT4gcyArIDEsIDApO1xuICB1c2VTYWZlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIW5vZGUuY3VycmVudClcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBkb2MgPSBub2RlLmN1cnJlbnQub3duZXJEb2N1bWVudDtcbiAgICBwb3J0YWxOb2RlLmN1cnJlbnQgPSBkb2MuY3JlYXRlRWxlbWVudChcInphZy1wb3J0YWxcIik7XG4gICAgZG9jLmJvZHkuYXBwZW5kQ2hpbGQocG9ydGFsTm9kZS5jdXJyZW50KTtcbiAgICBmb3JjZVVwZGF0ZSgpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAocG9ydGFsTm9kZS5jdXJyZW50KSB7XG4gICAgICAgIGRvYy5ib2R5LnJlbW92ZUNoaWxkKHBvcnRhbE5vZGUuY3VycmVudCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW10pO1xuICBjb25zdCB0YXJnZXROb2RlID0gdGFyZ2V0Py5jdXJyZW50ID8/IHBvcnRhbE5vZGUuY3VycmVudDtcbiAgaWYgKHRhcmdldE5vZGUpIHtcbiAgICByZXR1cm4gY3JlYXRlUG9ydGFsKGNoaWxkcmVuLCB0YXJnZXROb2RlKTtcbiAgfVxuICByZXR1cm4gY3JlYXRlRWxlbWVudChcInNwYW5cIiwgeyByZWY6IG5vZGUgfSk7XG59XG5cbi8vIHNyYy91c2Utc25hcHNob3QudHNcbmltcG9ydCB7IHNuYXBzaG90LCBzdWJzY3JpYmUgfSBmcm9tIFwiQHphZy1qcy9zdG9yZVwiO1xuaW1wb3J0IHsgY3JlYXRlUHJveHkgYXMgY3JlYXRlUHJveHlUb0NvbXBhcmUsIGlzQ2hhbmdlZCB9IGZyb20gXCJwcm94eS1jb21wYXJlXCI7XG5pbXBvcnQgUmVhY3RFeHBvcnQsIHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCBhcyB1c2VFZmZlY3QyLCB1c2VNZW1vLCB1c2VSZWYgYXMgdXNlUmVmMiwgdXNlU3luY0V4dGVybmFsU3RvcmUgfSBmcm9tIFwicmVhY3RcIjtcbnZhciB7IHVzZSB9ID0gUmVhY3RFeHBvcnQ7XG52YXIgdGFyZ2V0Q2FjaGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIHVzZVNuYXBzaG90KHByb3h5T2JqZWN0LCBvcHRpb25zKSB7XG4gIGNvbnN0IG5vdGlmeUluU3luYyA9IG9wdGlvbnM/LnN5bmM7XG4gIGNvbnN0IGxhc3RTbmFwc2hvdCA9IHVzZVJlZjIoKTtcbiAgY29uc3QgbGFzdEFmZmVjdGVkID0gdXNlUmVmMigpO1xuICBjb25zdCBjdXJyU25hcHNob3QgPSB1c2VTeW5jRXh0ZXJuYWxTdG9yZShcbiAgICB1c2VDYWxsYmFjayhcbiAgICAgIChjYWxsYmFjaykgPT4ge1xuICAgICAgICBjb25zdCB1bnN1YiA9IHN1YnNjcmliZShwcm94eU9iamVjdCwgY2FsbGJhY2ssIG5vdGlmeUluU3luYyk7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIHJldHVybiB1bnN1YjtcbiAgICAgIH0sXG4gICAgICBbcHJveHlPYmplY3QsIG5vdGlmeUluU3luY11cbiAgICApLFxuICAgICgpID0+IHtcbiAgICAgIGNvbnN0IG5leHRTbmFwc2hvdCA9IHNuYXBzaG90KHByb3h5T2JqZWN0LCB1c2UpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGxhc3RTbmFwc2hvdC5jdXJyZW50ICYmIGxhc3RBZmZlY3RlZC5jdXJyZW50ICYmICFpc0NoYW5nZWQobGFzdFNuYXBzaG90LmN1cnJlbnQsIG5leHRTbmFwc2hvdCwgbGFzdEFmZmVjdGVkLmN1cnJlbnQsIC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpKSkge1xuICAgICAgICAgIHJldHVybiBsYXN0U25hcHNob3QuY3VycmVudDtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5leHRTbmFwc2hvdDtcbiAgICB9LFxuICAgICgpID0+IHNuYXBzaG90KHByb3h5T2JqZWN0LCB1c2UpXG4gICk7XG4gIGNvbnN0IGN1cnJBZmZlY3RlZCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuICB1c2VFZmZlY3QyKCgpID0+IHtcbiAgICBsYXN0U25hcHNob3QuY3VycmVudCA9IGN1cnJTbmFwc2hvdDtcbiAgICBsYXN0QWZmZWN0ZWQuY3VycmVudCA9IGN1cnJBZmZlY3RlZDtcbiAgfSk7XG4gIGNvbnN0IHByb3h5Q2FjaGUgPSB1c2VNZW1vKCgpID0+IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpLCBbXSk7XG4gIHJldHVybiBjcmVhdGVQcm94eVRvQ29tcGFyZShjdXJyU25hcHNob3QsIGN1cnJBZmZlY3RlZCwgcHJveHlDYWNoZSwgdGFyZ2V0Q2FjaGUpO1xufVxuXG4vLyBzcmMvdXNlLWFjdG9yLnRzXG5mdW5jdGlvbiB1c2VBY3RvcihzZXJ2aWNlKSB7XG4gIGNvbnN0IGN1cnJlbnQgPSB1c2VTbmFwc2hvdChzZXJ2aWNlLnN0YXRlKTtcbiAgY29uc3QgdHlwZWRTdGF0ZSA9IGN1cnJlbnQ7XG4gIHJldHVybiBbdHlwZWRTdGF0ZSwgc2VydmljZS5zZW5kXTtcbn1cblxuLy8gc3JjL3VzZS1jb25zdGFudC50c1xuaW1wb3J0IHsgdXNlUmVmIGFzIHVzZVJlZjMgfSBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIHVzZUNvbnN0YW50KGZuKSB7XG4gIGNvbnN0IHJlZiA9IHVzZVJlZjMoKTtcbiAgaWYgKCFyZWYuY3VycmVudClcbiAgICByZWYuY3VycmVudCA9IHsgdjogZm4oKSB9O1xuICByZXR1cm4gcmVmLmN1cnJlbnQudjtcbn1cblxuLy8gc3JjL3VzZS1tYWNoaW5lLnRzXG5mdW5jdGlvbiB1c2VTZXJ2aWNlKG1hY2hpbmUsIG9wdGlvbnMpIHtcbiAgY29uc3QgeyBhY3Rpb25zLCBzdGF0ZTogaHlkcmF0ZWRTdGF0ZSwgY29udGV4dCB9ID0gb3B0aW9ucyA/PyB7fTtcbiAgY29uc3Qgc2VydmljZSA9IHVzZUNvbnN0YW50KCgpID0+IHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IHR5cGVvZiBtYWNoaW5lID09PSBcImZ1bmN0aW9uXCIgPyBtYWNoaW5lKCkgOiBtYWNoaW5lO1xuICAgIHJldHVybiBjb250ZXh0ID8gaW5zdGFuY2Uud2l0aENvbnRleHQoY29udGV4dCkgOiBpbnN0YW5jZTtcbiAgfSk7XG4gIHVzZVNhZmVMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIHNlcnZpY2Uuc3RhcnQoaHlkcmF0ZWRTdGF0ZSk7XG4gICAgaWYgKHNlcnZpY2Uuc3RhdGUuY2FuKFwiU0VUVVBcIikpIHtcbiAgICAgIHNlcnZpY2Uuc2VuZChcIlNFVFVQXCIpO1xuICAgIH1cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgc2VydmljZS5zdG9wKCk7XG4gICAgfTtcbiAgfSwgW10pO1xuICBzZXJ2aWNlLnNldE9wdGlvbnMoeyBhY3Rpb25zIH0pO1xuICBzZXJ2aWNlLnNldENvbnRleHQoY29udGV4dCk7XG4gIHJldHVybiBzZXJ2aWNlO1xufVxuZnVuY3Rpb24gdXNlTWFjaGluZShtYWNoaW5lLCBvcHRpb25zKSB7XG4gIGNvbnN0IHNlcnZpY2UgPSB1c2VTZXJ2aWNlKG1hY2hpbmUsIG9wdGlvbnMpO1xuICBjb25zdCBzdGF0ZSA9IHVzZVNuYXBzaG90KHNlcnZpY2Uuc3RhdGUpO1xuICBjb25zdCB0eXBlZFN0YXRlID0gc3RhdGU7XG4gIHJldHVybiBbdHlwZWRTdGF0ZSwgc2VydmljZS5zZW5kLCBzZXJ2aWNlXTtcbn1cbmV4cG9ydCB7XG4gIFBvcnRhbCxcbiAgbWVyZ2VQcm9wcyxcbiAgbm9ybWFsaXplUHJvcHMsXG4gIHVzZUFjdG9yLFxuICB1c2VNYWNoaW5lLFxuICB1c2VTZXJ2aWNlXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/react/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/rect-utils/dist/index.mjs":
/*!********************************************************!*\
  !*** ./node_modules/@zag-js/rect-utils/dist/index.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   alignRect: () => (/* binding */ alignRect),\n/* harmony export */   closest: () => (/* binding */ closest),\n/* harmony export */   closestSideToPoint: () => (/* binding */ closestSideToPoint),\n/* harmony export */   closestSideToRect: () => (/* binding */ closestSideToRect),\n/* harmony export */   collisions: () => (/* binding */ collisions),\n/* harmony export */   contains: () => (/* binding */ contains),\n/* harmony export */   containsPoint: () => (/* binding */ containsPoint),\n/* harmony export */   containsRect: () => (/* binding */ containsRect),\n/* harmony export */   createRect: () => (/* binding */ createRect),\n/* harmony export */   debugPolygon: () => (/* binding */ debugPolygon),\n/* harmony export */   distance: () => (/* binding */ distance),\n/* harmony export */   distanceBtwEdges: () => (/* binding */ distanceBtwEdges),\n/* harmony export */   distanceFromPoint: () => (/* binding */ distanceFromPoint),\n/* harmony export */   distanceFromRect: () => (/* binding */ distanceFromRect),\n/* harmony export */   expand: () => (/* binding */ expand),\n/* harmony export */   fromRange: () => (/* binding */ fromRange),\n/* harmony export */   getElementPolygon: () => (/* binding */ getElementPolygon),\n/* harmony export */   getElementRect: () => (/* binding */ getElementRect),\n/* harmony export */   getRectCenters: () => (/* binding */ getRectCenters),\n/* harmony export */   getRectCorners: () => (/* binding */ getRectCorners),\n/* harmony export */   getRectEdges: () => (/* binding */ getRectEdges),\n/* harmony export */   getRectFromPoints: () => (/* binding */ getRectFromPoints),\n/* harmony export */   getRotationRect: () => (/* binding */ getRotationRect),\n/* harmony export */   getViewportRect: () => (/* binding */ getViewportRect),\n/* harmony export */   getWindowRect: () => (/* binding */ getWindowRect),\n/* harmony export */   inset: () => (/* binding */ inset),\n/* harmony export */   intersection: () => (/* binding */ intersection),\n/* harmony export */   intersects: () => (/* binding */ intersects),\n/* harmony export */   isPointInPolygon: () => (/* binding */ isPointInPolygon),\n/* harmony export */   isRect: () => (/* binding */ isRect),\n/* harmony export */   isSymmetric: () => (/* binding */ isSymmetric),\n/* harmony export */   rotate: () => (/* binding */ rotate),\n/* harmony export */   shift: () => (/* binding */ shift),\n/* harmony export */   shrink: () => (/* binding */ shrink),\n/* harmony export */   toRad: () => (/* binding */ toRad),\n/* harmony export */   union: () => (/* binding */ union)\n/* harmony export */ });\n// src/align.ts\nfunction hAlign(a, ref, h) {\n  let x = ref.minX;\n  if (h === \"left-inside\") {\n    x = ref.minX;\n  }\n  if (h === \"left-outside\") {\n    x = ref.minX - ref.width;\n  }\n  if (h === \"right-inside\") {\n    x = ref.maxX - ref.width;\n  }\n  if (h === \"right-outside\") {\n    x = ref.maxX;\n  }\n  if (h === \"center\") {\n    x = ref.midX - ref.width / 2;\n  }\n  return { ...a, x };\n}\nfunction vAlign(a, ref, v) {\n  let y = ref.minY;\n  if (v === \"top-inside\") {\n    y = ref.minY;\n  }\n  if (v === \"top-outside\") {\n    y = ref.minY - a.height;\n  }\n  if (v === \"bottom-inside\") {\n    y = ref.maxY - a.height;\n  }\n  if (v === \"bottom-outside\") {\n    y = ref.maxY;\n  }\n  if (v === \"center\") {\n    y = ref.midY - a.height / 2;\n  }\n  return { ...a, y };\n}\nfunction alignRect(a, ref, options) {\n  const { h, v } = options;\n  return vAlign(hAlign(a, ref, h), ref, v);\n}\n\n// src/rect.ts\nvar point = (x, y) => ({ x, y });\nfunction createRect(r) {\n  const { x, y, width, height } = r;\n  const midX = x + width / 2;\n  const midY = y + height / 2;\n  return {\n    x,\n    y,\n    width,\n    height,\n    minX: x,\n    minY: y,\n    maxX: x + width,\n    maxY: y + height,\n    midX,\n    midY,\n    center: point(midX, midY)\n  };\n}\nvar hasProp = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction isRect(v) {\n  return hasProp(v, \"x\") && hasProp(v, \"y\") && hasProp(v, \"width\") && hasProp(v, \"height\");\n}\nfunction getRectCenters(v) {\n  const top = point(v.midX, v.minY);\n  const right = point(v.maxX, v.midY);\n  const bottom = point(v.midX, v.maxY);\n  const left = point(v.minX, v.midY);\n  return { top, right, bottom, left };\n}\nfunction getRectCorners(v) {\n  const top = point(v.minX, v.minY);\n  const right = point(v.maxX, v.minY);\n  const bottom = point(v.maxX, v.maxY);\n  const left = point(v.minX, v.maxY);\n  return { top, right, bottom, left };\n}\nfunction getRectEdges(v) {\n  const c = getRectCorners(v);\n  const top = [c.top, c.right];\n  const right = [c.right, c.bottom];\n  const bottom = [c.left, c.bottom];\n  const left = [c.top, c.left];\n  return { top, right, bottom, left };\n}\n\n// src/intersection.ts\nfunction intersects(a, b) {\n  return a.x < b.maxX && a.y < b.maxY && a.maxX > b.x && a.maxY > b.y;\n}\nfunction intersection(a, b) {\n  const x = Math.max(a.x, b.x);\n  const y = Math.max(a.y, b.y);\n  const x2 = Math.min(a.x + a.width, b.x + b.width);\n  const y2 = Math.min(a.y + a.height, b.y + b.height);\n  return createRect({ x, y, width: x2 - x, height: y2 - y });\n}\nfunction collisions(a, b) {\n  return {\n    top: a.minY <= b.minY,\n    right: a.maxX >= b.maxX,\n    bottom: a.maxY >= b.maxY,\n    left: a.minX <= b.minX\n  };\n}\n\n// src/distance.ts\nfunction distance(a, b = { x: 0, y: 0 }) {\n  return Math.sqrt(Math.pow(a.x - b.x, 2) + Math.pow(a.y - b.y, 2));\n}\nfunction distanceFromPoint(r, p) {\n  let x = 0;\n  let y = 0;\n  if (p.x < r.x)\n    x = r.x - p.x;\n  else if (p.x > r.maxX)\n    x = p.x - r.maxX;\n  if (p.y < r.y)\n    y = r.y - p.y;\n  else if (p.y > r.maxY)\n    y = p.y - r.maxY;\n  return { x, y, value: distance({ x, y }) };\n}\nfunction distanceFromRect(a, b) {\n  if (intersects(a, b))\n    return { x: 0, y: 0, value: 0 };\n  const left = a.x < b.x ? a : b;\n  const right = b.x < a.x ? a : b;\n  const upper = a.y < b.y ? a : b;\n  const lower = b.y < a.y ? a : b;\n  let x = left.x === right.x ? 0 : right.x - left.maxX;\n  x = Math.max(0, x);\n  let y = upper.y === lower.y ? 0 : lower.y - upper.maxY;\n  y = Math.max(0, y);\n  return { x, y, value: distance({ x, y }) };\n}\nfunction distanceBtwEdges(a, b) {\n  return {\n    left: b.x - a.x,\n    top: b.y - a.y,\n    right: a.maxX - b.maxX,\n    bottom: a.maxY - b.maxY\n  };\n}\n\n// src/closest.ts\nfunction closest(...pts) {\n  return (a) => {\n    const ds = pts.map((b) => distance(b, a));\n    const c = Math.min.apply(Math, ds);\n    return pts[ds.indexOf(c)];\n  };\n}\nfunction closestSideToRect(ref, r) {\n  if (r.maxX <= ref.minX) {\n    return \"left\";\n  }\n  if (r.minX >= ref.maxX) {\n    return \"right\";\n  }\n  if (r.maxY <= ref.minY) {\n    return \"top\";\n  }\n  if (r.minY >= ref.maxY) {\n    return \"bottom\";\n  }\n  return \"left\";\n}\nfunction closestSideToPoint(ref, p) {\n  const { x, y } = p;\n  const dl = x - ref.minX;\n  const dr = ref.maxX - x;\n  const dt = y - ref.minY;\n  const db = ref.maxY - y;\n  let closest2 = dl;\n  let side = \"left\";\n  if (dr < closest2) {\n    closest2 = dr;\n    side = \"right\";\n  }\n  if (dt < closest2) {\n    closest2 = dt;\n    side = \"top\";\n  }\n  if (db < closest2) {\n    side = \"bottom\";\n  }\n  return side;\n}\n\n// src/contains.ts\nfunction containsPoint(r, p) {\n  return r.minX <= p.x && p.x <= r.maxX && r.minY <= p.y && p.y <= r.maxY;\n}\nfunction containsRect(a, b) {\n  return Object.values(getRectCorners(b)).every((c) => containsPoint(a, c));\n}\nfunction contains(r, v) {\n  return isRect(v) ? containsRect(r, v) : containsPoint(r, v);\n}\n\n// src/from-element.ts\nvar styleCache = /* @__PURE__ */ new WeakMap();\nfunction getCacheComputedStyle(el) {\n  if (!styleCache.has(el)) {\n    const win = el.ownerDocument.defaultView || window;\n    styleCache.set(el, win.getComputedStyle(el));\n  }\n  return styleCache.get(el);\n}\nfunction getElementRect(el, opts = {}) {\n  return createRect(getClientRect(el, opts));\n}\nfunction getClientRect(el, opts = {}) {\n  const { excludeScrollbar = false, excludeBorders = false } = opts;\n  const { x, y, width, height } = el.getBoundingClientRect();\n  const r = { x, y, width, height };\n  const style = getCacheComputedStyle(el);\n  const { borderLeftWidth, borderTopWidth, borderRightWidth, borderBottomWidth } = style;\n  const borderXWidth = sum(borderLeftWidth, borderRightWidth);\n  const borderYWidth = sum(borderTopWidth, borderBottomWidth);\n  if (excludeBorders) {\n    r.width -= borderXWidth;\n    r.height -= borderYWidth;\n    r.x += px(borderLeftWidth);\n    r.y += px(borderTopWidth);\n  }\n  if (excludeScrollbar) {\n    const scrollbarWidth = el.offsetWidth - el.clientWidth - borderXWidth;\n    const scrollbarHeight = el.offsetHeight - el.clientHeight - borderYWidth;\n    r.width -= scrollbarWidth;\n    r.height -= scrollbarHeight;\n  }\n  return r;\n}\nvar px = (v) => parseFloat(v.replace(\"px\", \"\"));\nvar sum = (...vals) => vals.reduce((sum2, v) => sum2 + (v ? px(v) : 0), 0);\n\n// src/from-points.ts\nfunction getRectFromPoints(...pts) {\n  const xs = pts.map((p) => p.x);\n  const ys = pts.map((p) => p.y);\n  const x = Math.min(...xs);\n  const y = Math.min(...ys);\n  const width = Math.max(...xs) - x;\n  const height = Math.max(...ys) - y;\n  return createRect({ x, y, width, height });\n}\n\n// src/union.ts\nvar { min, max } = Math;\nfunction union(...rs) {\n  const pMin = {\n    x: min.apply(\n      Math,\n      rs.map((r) => r.minX)\n    ),\n    y: min.apply(\n      Math,\n      rs.map((r) => r.minY)\n    )\n  };\n  const pMax = {\n    x: max.apply(\n      Math,\n      rs.map((r) => r.maxX)\n    ),\n    y: max.apply(\n      Math,\n      rs.map((r) => r.maxY)\n    )\n  };\n  return getRectFromPoints(pMin, pMax);\n}\n\n// src/from-range.ts\nfunction fromRange(range) {\n  let rs = [];\n  const rects = Array.from(range.getClientRects());\n  if (rects.length) {\n    rs = rs.concat(rects.map(createRect));\n    return union.apply(void 0, rs);\n  }\n  let start = range.startContainer;\n  if (start.nodeType === Node.TEXT_NODE) {\n    start = start.parentNode;\n  }\n  if (start instanceof HTMLElement) {\n    const r = getElementRect(start);\n    rs.push({ ...r, x: r.maxX, width: 0 });\n  }\n  return union.apply(void 0, rs);\n}\n\n// src/from-rotation.ts\nfunction toRad(d) {\n  return d % 360 * Math.PI / 180;\n}\nfunction rotate(a, d, c) {\n  const r = toRad(d);\n  const sin = Math.sin(r);\n  const cos = Math.cos(r);\n  const x = a.x - c.x;\n  const y = a.y - c.y;\n  return {\n    x: c.x + x * cos - y * sin,\n    y: c.y + x * sin + y * cos\n  };\n}\nfunction getRotationRect(r, deg) {\n  const rr = Object.values(getRectCorners(r)).map((p) => rotate(p, deg, r.center));\n  const xs = rr.map((p) => p.x);\n  const ys = rr.map((p) => p.y);\n  const minX = Math.min(...xs);\n  const minY = Math.min(...ys);\n  const maxX = Math.max(...xs);\n  const maxY = Math.max(...ys);\n  return createRect({\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  });\n}\n\n// src/from-window.ts\nfunction getWindowRect(win, opts = {}) {\n  return createRect(getViewportRect(win, opts));\n}\nfunction getViewportRect(win, opts) {\n  const { excludeScrollbar = false } = opts;\n  const { innerWidth, innerHeight, document: doc, visualViewport } = win;\n  const width = visualViewport?.width || innerWidth;\n  const height = visualViewport?.height || innerHeight;\n  const rect = { x: 0, y: 0, width, height };\n  if (excludeScrollbar) {\n    const scrollbarWidth = innerWidth - doc.documentElement.clientWidth;\n    const scrollbarHeight = innerHeight - doc.documentElement.clientHeight;\n    rect.width -= scrollbarWidth;\n    rect.height -= scrollbarHeight;\n  }\n  return rect;\n}\n\n// src/get-polygon.ts\nfunction getElementPolygon(rectValue, placement) {\n  const rect = createRect(rectValue);\n  const { top, right, left, bottom } = getRectCorners(rect);\n  const [base] = placement.split(\"-\");\n  return {\n    top: [left, top, right, bottom],\n    right: [top, right, bottom, left],\n    bottom: [top, left, bottom, right],\n    left: [right, top, left, bottom]\n  }[base];\n}\n\n// src/operations.ts\nvar isSymmetric = (v) => \"dx\" in v || \"dy\" in v;\nfunction inset(r, i) {\n  const v = isSymmetric(i) ? { left: i.dx, right: i.dx, top: i.dy, bottom: i.dy } : i;\n  const { top = 0, right = 0, bottom = 0, left = 0 } = v;\n  return createRect({\n    x: r.x + left,\n    y: r.y + top,\n    width: r.width - left - right,\n    height: r.height - top - bottom\n  });\n}\nfunction expand(r, v) {\n  const value = typeof v === \"number\" ? { dx: -v, dy: -v } : v;\n  return inset(r, value);\n}\nfunction shrink(r, v) {\n  const value = typeof v === \"number\" ? { dx: -v, dy: -v } : v;\n  return inset(r, value);\n}\nfunction shift(r, o) {\n  const { x = 0, y = 0 } = o;\n  return createRect({\n    x: r.x + x,\n    y: r.y + y,\n    width: r.width,\n    height: r.height\n  });\n}\n\n// src/polygon.ts\nfunction isPointInPolygon(polygon, point2) {\n  const { x, y } = point2;\n  let c = false;\n  for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n    const xi = polygon[i].x;\n    const yi = polygon[i].y;\n    const xj = polygon[j].x;\n    const yj = polygon[j].y;\n    if (yi > y !== yj > y && x < (xj - xi) * (y - yi) / (yj - yi) + xi) {\n      c = !c;\n    }\n  }\n  return c;\n}\nfunction createPolygonElement() {\n  const id = \"debug-polygon\";\n  const existingPolygon = document.getElementById(id);\n  if (existingPolygon) {\n    return existingPolygon;\n  }\n  const svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n  Object.assign(svg.style, {\n    top: \"0\",\n    left: \"0\",\n    width: \"100%\",\n    height: \"100%\",\n    opacity: \"0.15\",\n    position: \"fixed\",\n    pointerEvents: \"none\",\n    fill: \"red\"\n  });\n  const polygon = document.createElementNS(\"http://www.w3.org/2000/svg\", \"polygon\");\n  polygon.setAttribute(\"id\", id);\n  polygon.setAttribute(\"points\", \"0,0 0,0\");\n  svg.appendChild(polygon);\n  document.body.appendChild(svg);\n  return polygon;\n}\nfunction debugPolygon(polygon) {\n  const el = createPolygonElement();\n  const points = polygon.map((point2) => `${point2.x},${point2.y}`).join(\" \");\n  el.setAttribute(\"points\", points);\n  return () => {\n    el.remove();\n  };\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9yZWN0LXV0aWxzL2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFVBQVUsT0FBTztBQUNqQjtBQUNBOztBQUVBO0FBQ0EseUJBQXlCLE1BQU07QUFDL0I7QUFDQSxVQUFVLHNCQUFzQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHFDQUFxQztBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyQkFBMkIsWUFBWTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsd0JBQXdCLE1BQU07QUFDekM7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHdCQUF3QixNQUFNO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLE9BQU87QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEMsVUFBVSxtREFBbUQ7QUFDN0QsVUFBVSxzQkFBc0I7QUFDaEMsY0FBYztBQUNkO0FBQ0EsVUFBVSx1RUFBdUU7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IscUJBQXFCO0FBQzNDOztBQUVBO0FBQ0EsTUFBTSxXQUFXO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsMkJBQTJCO0FBQ3pDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQSxVQUFVLDJCQUEyQjtBQUNyQyxVQUFVLHlEQUF5RDtBQUNuRTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVSwyQkFBMkI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixtREFBbUQ7QUFDbEYsVUFBVSwyQ0FBMkM7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsMENBQTBDLGlCQUFpQjtBQUMzRDtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsaUJBQWlCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBLFVBQVUsZUFBZTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQSxVQUFVLE9BQU87QUFDakI7QUFDQSwwQ0FBMEMsb0JBQW9CO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLFNBQVMsR0FBRyxTQUFTO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFzQ0U7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL0BwYXJrLXVpL2V4YW1wbGVzLXJlYWN0LW5leHQtanMvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9yZWN0LXV0aWxzL2Rpc3QvaW5kZXgubWpzPzFhNWMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2FsaWduLnRzXG5mdW5jdGlvbiBoQWxpZ24oYSwgcmVmLCBoKSB7XG4gIGxldCB4ID0gcmVmLm1pblg7XG4gIGlmIChoID09PSBcImxlZnQtaW5zaWRlXCIpIHtcbiAgICB4ID0gcmVmLm1pblg7XG4gIH1cbiAgaWYgKGggPT09IFwibGVmdC1vdXRzaWRlXCIpIHtcbiAgICB4ID0gcmVmLm1pblggLSByZWYud2lkdGg7XG4gIH1cbiAgaWYgKGggPT09IFwicmlnaHQtaW5zaWRlXCIpIHtcbiAgICB4ID0gcmVmLm1heFggLSByZWYud2lkdGg7XG4gIH1cbiAgaWYgKGggPT09IFwicmlnaHQtb3V0c2lkZVwiKSB7XG4gICAgeCA9IHJlZi5tYXhYO1xuICB9XG4gIGlmIChoID09PSBcImNlbnRlclwiKSB7XG4gICAgeCA9IHJlZi5taWRYIC0gcmVmLndpZHRoIC8gMjtcbiAgfVxuICByZXR1cm4geyAuLi5hLCB4IH07XG59XG5mdW5jdGlvbiB2QWxpZ24oYSwgcmVmLCB2KSB7XG4gIGxldCB5ID0gcmVmLm1pblk7XG4gIGlmICh2ID09PSBcInRvcC1pbnNpZGVcIikge1xuICAgIHkgPSByZWYubWluWTtcbiAgfVxuICBpZiAodiA9PT0gXCJ0b3Atb3V0c2lkZVwiKSB7XG4gICAgeSA9IHJlZi5taW5ZIC0gYS5oZWlnaHQ7XG4gIH1cbiAgaWYgKHYgPT09IFwiYm90dG9tLWluc2lkZVwiKSB7XG4gICAgeSA9IHJlZi5tYXhZIC0gYS5oZWlnaHQ7XG4gIH1cbiAgaWYgKHYgPT09IFwiYm90dG9tLW91dHNpZGVcIikge1xuICAgIHkgPSByZWYubWF4WTtcbiAgfVxuICBpZiAodiA9PT0gXCJjZW50ZXJcIikge1xuICAgIHkgPSByZWYubWlkWSAtIGEuaGVpZ2h0IC8gMjtcbiAgfVxuICByZXR1cm4geyAuLi5hLCB5IH07XG59XG5mdW5jdGlvbiBhbGlnblJlY3QoYSwgcmVmLCBvcHRpb25zKSB7XG4gIGNvbnN0IHsgaCwgdiB9ID0gb3B0aW9ucztcbiAgcmV0dXJuIHZBbGlnbihoQWxpZ24oYSwgcmVmLCBoKSwgcmVmLCB2KTtcbn1cblxuLy8gc3JjL3JlY3QudHNcbnZhciBwb2ludCA9ICh4LCB5KSA9PiAoeyB4LCB5IH0pO1xuZnVuY3Rpb24gY3JlYXRlUmVjdChyKSB7XG4gIGNvbnN0IHsgeCwgeSwgd2lkdGgsIGhlaWdodCB9ID0gcjtcbiAgY29uc3QgbWlkWCA9IHggKyB3aWR0aCAvIDI7XG4gIGNvbnN0IG1pZFkgPSB5ICsgaGVpZ2h0IC8gMjtcbiAgcmV0dXJuIHtcbiAgICB4LFxuICAgIHksXG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgIG1pblg6IHgsXG4gICAgbWluWTogeSxcbiAgICBtYXhYOiB4ICsgd2lkdGgsXG4gICAgbWF4WTogeSArIGhlaWdodCxcbiAgICBtaWRYLFxuICAgIG1pZFksXG4gICAgY2VudGVyOiBwb2ludChtaWRYLCBtaWRZKVxuICB9O1xufVxudmFyIGhhc1Byb3AgPSAob2JqLCBwcm9wKSA9PiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbmZ1bmN0aW9uIGlzUmVjdCh2KSB7XG4gIHJldHVybiBoYXNQcm9wKHYsIFwieFwiKSAmJiBoYXNQcm9wKHYsIFwieVwiKSAmJiBoYXNQcm9wKHYsIFwid2lkdGhcIikgJiYgaGFzUHJvcCh2LCBcImhlaWdodFwiKTtcbn1cbmZ1bmN0aW9uIGdldFJlY3RDZW50ZXJzKHYpIHtcbiAgY29uc3QgdG9wID0gcG9pbnQodi5taWRYLCB2Lm1pblkpO1xuICBjb25zdCByaWdodCA9IHBvaW50KHYubWF4WCwgdi5taWRZKTtcbiAgY29uc3QgYm90dG9tID0gcG9pbnQodi5taWRYLCB2Lm1heFkpO1xuICBjb25zdCBsZWZ0ID0gcG9pbnQodi5taW5YLCB2Lm1pZFkpO1xuICByZXR1cm4geyB0b3AsIHJpZ2h0LCBib3R0b20sIGxlZnQgfTtcbn1cbmZ1bmN0aW9uIGdldFJlY3RDb3JuZXJzKHYpIHtcbiAgY29uc3QgdG9wID0gcG9pbnQodi5taW5YLCB2Lm1pblkpO1xuICBjb25zdCByaWdodCA9IHBvaW50KHYubWF4WCwgdi5taW5ZKTtcbiAgY29uc3QgYm90dG9tID0gcG9pbnQodi5tYXhYLCB2Lm1heFkpO1xuICBjb25zdCBsZWZ0ID0gcG9pbnQodi5taW5YLCB2Lm1heFkpO1xuICByZXR1cm4geyB0b3AsIHJpZ2h0LCBib3R0b20sIGxlZnQgfTtcbn1cbmZ1bmN0aW9uIGdldFJlY3RFZGdlcyh2KSB7XG4gIGNvbnN0IGMgPSBnZXRSZWN0Q29ybmVycyh2KTtcbiAgY29uc3QgdG9wID0gW2MudG9wLCBjLnJpZ2h0XTtcbiAgY29uc3QgcmlnaHQgPSBbYy5yaWdodCwgYy5ib3R0b21dO1xuICBjb25zdCBib3R0b20gPSBbYy5sZWZ0LCBjLmJvdHRvbV07XG4gIGNvbnN0IGxlZnQgPSBbYy50b3AsIGMubGVmdF07XG4gIHJldHVybiB7IHRvcCwgcmlnaHQsIGJvdHRvbSwgbGVmdCB9O1xufVxuXG4vLyBzcmMvaW50ZXJzZWN0aW9uLnRzXG5mdW5jdGlvbiBpbnRlcnNlY3RzKGEsIGIpIHtcbiAgcmV0dXJuIGEueCA8IGIubWF4WCAmJiBhLnkgPCBiLm1heFkgJiYgYS5tYXhYID4gYi54ICYmIGEubWF4WSA+IGIueTtcbn1cbmZ1bmN0aW9uIGludGVyc2VjdGlvbihhLCBiKSB7XG4gIGNvbnN0IHggPSBNYXRoLm1heChhLngsIGIueCk7XG4gIGNvbnN0IHkgPSBNYXRoLm1heChhLnksIGIueSk7XG4gIGNvbnN0IHgyID0gTWF0aC5taW4oYS54ICsgYS53aWR0aCwgYi54ICsgYi53aWR0aCk7XG4gIGNvbnN0IHkyID0gTWF0aC5taW4oYS55ICsgYS5oZWlnaHQsIGIueSArIGIuaGVpZ2h0KTtcbiAgcmV0dXJuIGNyZWF0ZVJlY3QoeyB4LCB5LCB3aWR0aDogeDIgLSB4LCBoZWlnaHQ6IHkyIC0geSB9KTtcbn1cbmZ1bmN0aW9uIGNvbGxpc2lvbnMoYSwgYikge1xuICByZXR1cm4ge1xuICAgIHRvcDogYS5taW5ZIDw9IGIubWluWSxcbiAgICByaWdodDogYS5tYXhYID49IGIubWF4WCxcbiAgICBib3R0b206IGEubWF4WSA+PSBiLm1heFksXG4gICAgbGVmdDogYS5taW5YIDw9IGIubWluWFxuICB9O1xufVxuXG4vLyBzcmMvZGlzdGFuY2UudHNcbmZ1bmN0aW9uIGRpc3RhbmNlKGEsIGIgPSB7IHg6IDAsIHk6IDAgfSkge1xuICByZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KGEueCAtIGIueCwgMikgKyBNYXRoLnBvdyhhLnkgLSBiLnksIDIpKTtcbn1cbmZ1bmN0aW9uIGRpc3RhbmNlRnJvbVBvaW50KHIsIHApIHtcbiAgbGV0IHggPSAwO1xuICBsZXQgeSA9IDA7XG4gIGlmIChwLnggPCByLngpXG4gICAgeCA9IHIueCAtIHAueDtcbiAgZWxzZSBpZiAocC54ID4gci5tYXhYKVxuICAgIHggPSBwLnggLSByLm1heFg7XG4gIGlmIChwLnkgPCByLnkpXG4gICAgeSA9IHIueSAtIHAueTtcbiAgZWxzZSBpZiAocC55ID4gci5tYXhZKVxuICAgIHkgPSBwLnkgLSByLm1heFk7XG4gIHJldHVybiB7IHgsIHksIHZhbHVlOiBkaXN0YW5jZSh7IHgsIHkgfSkgfTtcbn1cbmZ1bmN0aW9uIGRpc3RhbmNlRnJvbVJlY3QoYSwgYikge1xuICBpZiAoaW50ZXJzZWN0cyhhLCBiKSlcbiAgICByZXR1cm4geyB4OiAwLCB5OiAwLCB2YWx1ZTogMCB9O1xuICBjb25zdCBsZWZ0ID0gYS54IDwgYi54ID8gYSA6IGI7XG4gIGNvbnN0IHJpZ2h0ID0gYi54IDwgYS54ID8gYSA6IGI7XG4gIGNvbnN0IHVwcGVyID0gYS55IDwgYi55ID8gYSA6IGI7XG4gIGNvbnN0IGxvd2VyID0gYi55IDwgYS55ID8gYSA6IGI7XG4gIGxldCB4ID0gbGVmdC54ID09PSByaWdodC54ID8gMCA6IHJpZ2h0LnggLSBsZWZ0Lm1heFg7XG4gIHggPSBNYXRoLm1heCgwLCB4KTtcbiAgbGV0IHkgPSB1cHBlci55ID09PSBsb3dlci55ID8gMCA6IGxvd2VyLnkgLSB1cHBlci5tYXhZO1xuICB5ID0gTWF0aC5tYXgoMCwgeSk7XG4gIHJldHVybiB7IHgsIHksIHZhbHVlOiBkaXN0YW5jZSh7IHgsIHkgfSkgfTtcbn1cbmZ1bmN0aW9uIGRpc3RhbmNlQnR3RWRnZXMoYSwgYikge1xuICByZXR1cm4ge1xuICAgIGxlZnQ6IGIueCAtIGEueCxcbiAgICB0b3A6IGIueSAtIGEueSxcbiAgICByaWdodDogYS5tYXhYIC0gYi5tYXhYLFxuICAgIGJvdHRvbTogYS5tYXhZIC0gYi5tYXhZXG4gIH07XG59XG5cbi8vIHNyYy9jbG9zZXN0LnRzXG5mdW5jdGlvbiBjbG9zZXN0KC4uLnB0cykge1xuICByZXR1cm4gKGEpID0+IHtcbiAgICBjb25zdCBkcyA9IHB0cy5tYXAoKGIpID0+IGRpc3RhbmNlKGIsIGEpKTtcbiAgICBjb25zdCBjID0gTWF0aC5taW4uYXBwbHkoTWF0aCwgZHMpO1xuICAgIHJldHVybiBwdHNbZHMuaW5kZXhPZihjKV07XG4gIH07XG59XG5mdW5jdGlvbiBjbG9zZXN0U2lkZVRvUmVjdChyZWYsIHIpIHtcbiAgaWYgKHIubWF4WCA8PSByZWYubWluWCkge1xuICAgIHJldHVybiBcImxlZnRcIjtcbiAgfVxuICBpZiAoci5taW5YID49IHJlZi5tYXhYKSB7XG4gICAgcmV0dXJuIFwicmlnaHRcIjtcbiAgfVxuICBpZiAoci5tYXhZIDw9IHJlZi5taW5ZKSB7XG4gICAgcmV0dXJuIFwidG9wXCI7XG4gIH1cbiAgaWYgKHIubWluWSA+PSByZWYubWF4WSkge1xuICAgIHJldHVybiBcImJvdHRvbVwiO1xuICB9XG4gIHJldHVybiBcImxlZnRcIjtcbn1cbmZ1bmN0aW9uIGNsb3Nlc3RTaWRlVG9Qb2ludChyZWYsIHApIHtcbiAgY29uc3QgeyB4LCB5IH0gPSBwO1xuICBjb25zdCBkbCA9IHggLSByZWYubWluWDtcbiAgY29uc3QgZHIgPSByZWYubWF4WCAtIHg7XG4gIGNvbnN0IGR0ID0geSAtIHJlZi5taW5ZO1xuICBjb25zdCBkYiA9IHJlZi5tYXhZIC0geTtcbiAgbGV0IGNsb3Nlc3QyID0gZGw7XG4gIGxldCBzaWRlID0gXCJsZWZ0XCI7XG4gIGlmIChkciA8IGNsb3Nlc3QyKSB7XG4gICAgY2xvc2VzdDIgPSBkcjtcbiAgICBzaWRlID0gXCJyaWdodFwiO1xuICB9XG4gIGlmIChkdCA8IGNsb3Nlc3QyKSB7XG4gICAgY2xvc2VzdDIgPSBkdDtcbiAgICBzaWRlID0gXCJ0b3BcIjtcbiAgfVxuICBpZiAoZGIgPCBjbG9zZXN0Mikge1xuICAgIHNpZGUgPSBcImJvdHRvbVwiO1xuICB9XG4gIHJldHVybiBzaWRlO1xufVxuXG4vLyBzcmMvY29udGFpbnMudHNcbmZ1bmN0aW9uIGNvbnRhaW5zUG9pbnQociwgcCkge1xuICByZXR1cm4gci5taW5YIDw9IHAueCAmJiBwLnggPD0gci5tYXhYICYmIHIubWluWSA8PSBwLnkgJiYgcC55IDw9IHIubWF4WTtcbn1cbmZ1bmN0aW9uIGNvbnRhaW5zUmVjdChhLCBiKSB7XG4gIHJldHVybiBPYmplY3QudmFsdWVzKGdldFJlY3RDb3JuZXJzKGIpKS5ldmVyeSgoYykgPT4gY29udGFpbnNQb2ludChhLCBjKSk7XG59XG5mdW5jdGlvbiBjb250YWlucyhyLCB2KSB7XG4gIHJldHVybiBpc1JlY3QodikgPyBjb250YWluc1JlY3QociwgdikgOiBjb250YWluc1BvaW50KHIsIHYpO1xufVxuXG4vLyBzcmMvZnJvbS1lbGVtZW50LnRzXG52YXIgc3R5bGVDYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuZnVuY3Rpb24gZ2V0Q2FjaGVDb21wdXRlZFN0eWxlKGVsKSB7XG4gIGlmICghc3R5bGVDYWNoZS5oYXMoZWwpKSB7XG4gICAgY29uc3Qgd2luID0gZWwub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyB8fCB3aW5kb3c7XG4gICAgc3R5bGVDYWNoZS5zZXQoZWwsIHdpbi5nZXRDb21wdXRlZFN0eWxlKGVsKSk7XG4gIH1cbiAgcmV0dXJuIHN0eWxlQ2FjaGUuZ2V0KGVsKTtcbn1cbmZ1bmN0aW9uIGdldEVsZW1lbnRSZWN0KGVsLCBvcHRzID0ge30pIHtcbiAgcmV0dXJuIGNyZWF0ZVJlY3QoZ2V0Q2xpZW50UmVjdChlbCwgb3B0cykpO1xufVxuZnVuY3Rpb24gZ2V0Q2xpZW50UmVjdChlbCwgb3B0cyA9IHt9KSB7XG4gIGNvbnN0IHsgZXhjbHVkZVNjcm9sbGJhciA9IGZhbHNlLCBleGNsdWRlQm9yZGVycyA9IGZhbHNlIH0gPSBvcHRzO1xuICBjb25zdCB7IHgsIHksIHdpZHRoLCBoZWlnaHQgfSA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBjb25zdCByID0geyB4LCB5LCB3aWR0aCwgaGVpZ2h0IH07XG4gIGNvbnN0IHN0eWxlID0gZ2V0Q2FjaGVDb21wdXRlZFN0eWxlKGVsKTtcbiAgY29uc3QgeyBib3JkZXJMZWZ0V2lkdGgsIGJvcmRlclRvcFdpZHRoLCBib3JkZXJSaWdodFdpZHRoLCBib3JkZXJCb3R0b21XaWR0aCB9ID0gc3R5bGU7XG4gIGNvbnN0IGJvcmRlclhXaWR0aCA9IHN1bShib3JkZXJMZWZ0V2lkdGgsIGJvcmRlclJpZ2h0V2lkdGgpO1xuICBjb25zdCBib3JkZXJZV2lkdGggPSBzdW0oYm9yZGVyVG9wV2lkdGgsIGJvcmRlckJvdHRvbVdpZHRoKTtcbiAgaWYgKGV4Y2x1ZGVCb3JkZXJzKSB7XG4gICAgci53aWR0aCAtPSBib3JkZXJYV2lkdGg7XG4gICAgci5oZWlnaHQgLT0gYm9yZGVyWVdpZHRoO1xuICAgIHIueCArPSBweChib3JkZXJMZWZ0V2lkdGgpO1xuICAgIHIueSArPSBweChib3JkZXJUb3BXaWR0aCk7XG4gIH1cbiAgaWYgKGV4Y2x1ZGVTY3JvbGxiYXIpIHtcbiAgICBjb25zdCBzY3JvbGxiYXJXaWR0aCA9IGVsLm9mZnNldFdpZHRoIC0gZWwuY2xpZW50V2lkdGggLSBib3JkZXJYV2lkdGg7XG4gICAgY29uc3Qgc2Nyb2xsYmFySGVpZ2h0ID0gZWwub2Zmc2V0SGVpZ2h0IC0gZWwuY2xpZW50SGVpZ2h0IC0gYm9yZGVyWVdpZHRoO1xuICAgIHIud2lkdGggLT0gc2Nyb2xsYmFyV2lkdGg7XG4gICAgci5oZWlnaHQgLT0gc2Nyb2xsYmFySGVpZ2h0O1xuICB9XG4gIHJldHVybiByO1xufVxudmFyIHB4ID0gKHYpID0+IHBhcnNlRmxvYXQodi5yZXBsYWNlKFwicHhcIiwgXCJcIikpO1xudmFyIHN1bSA9ICguLi52YWxzKSA9PiB2YWxzLnJlZHVjZSgoc3VtMiwgdikgPT4gc3VtMiArICh2ID8gcHgodikgOiAwKSwgMCk7XG5cbi8vIHNyYy9mcm9tLXBvaW50cy50c1xuZnVuY3Rpb24gZ2V0UmVjdEZyb21Qb2ludHMoLi4ucHRzKSB7XG4gIGNvbnN0IHhzID0gcHRzLm1hcCgocCkgPT4gcC54KTtcbiAgY29uc3QgeXMgPSBwdHMubWFwKChwKSA9PiBwLnkpO1xuICBjb25zdCB4ID0gTWF0aC5taW4oLi4ueHMpO1xuICBjb25zdCB5ID0gTWF0aC5taW4oLi4ueXMpO1xuICBjb25zdCB3aWR0aCA9IE1hdGgubWF4KC4uLnhzKSAtIHg7XG4gIGNvbnN0IGhlaWdodCA9IE1hdGgubWF4KC4uLnlzKSAtIHk7XG4gIHJldHVybiBjcmVhdGVSZWN0KHsgeCwgeSwgd2lkdGgsIGhlaWdodCB9KTtcbn1cblxuLy8gc3JjL3VuaW9uLnRzXG52YXIgeyBtaW4sIG1heCB9ID0gTWF0aDtcbmZ1bmN0aW9uIHVuaW9uKC4uLnJzKSB7XG4gIGNvbnN0IHBNaW4gPSB7XG4gICAgeDogbWluLmFwcGx5KFxuICAgICAgTWF0aCxcbiAgICAgIHJzLm1hcCgocikgPT4gci5taW5YKVxuICAgICksXG4gICAgeTogbWluLmFwcGx5KFxuICAgICAgTWF0aCxcbiAgICAgIHJzLm1hcCgocikgPT4gci5taW5ZKVxuICAgIClcbiAgfTtcbiAgY29uc3QgcE1heCA9IHtcbiAgICB4OiBtYXguYXBwbHkoXG4gICAgICBNYXRoLFxuICAgICAgcnMubWFwKChyKSA9PiByLm1heFgpXG4gICAgKSxcbiAgICB5OiBtYXguYXBwbHkoXG4gICAgICBNYXRoLFxuICAgICAgcnMubWFwKChyKSA9PiByLm1heFkpXG4gICAgKVxuICB9O1xuICByZXR1cm4gZ2V0UmVjdEZyb21Qb2ludHMocE1pbiwgcE1heCk7XG59XG5cbi8vIHNyYy9mcm9tLXJhbmdlLnRzXG5mdW5jdGlvbiBmcm9tUmFuZ2UocmFuZ2UpIHtcbiAgbGV0IHJzID0gW107XG4gIGNvbnN0IHJlY3RzID0gQXJyYXkuZnJvbShyYW5nZS5nZXRDbGllbnRSZWN0cygpKTtcbiAgaWYgKHJlY3RzLmxlbmd0aCkge1xuICAgIHJzID0gcnMuY29uY2F0KHJlY3RzLm1hcChjcmVhdGVSZWN0KSk7XG4gICAgcmV0dXJuIHVuaW9uLmFwcGx5KHZvaWQgMCwgcnMpO1xuICB9XG4gIGxldCBzdGFydCA9IHJhbmdlLnN0YXJ0Q29udGFpbmVyO1xuICBpZiAoc3RhcnQubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFKSB7XG4gICAgc3RhcnQgPSBzdGFydC5wYXJlbnROb2RlO1xuICB9XG4gIGlmIChzdGFydCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgY29uc3QgciA9IGdldEVsZW1lbnRSZWN0KHN0YXJ0KTtcbiAgICBycy5wdXNoKHsgLi4uciwgeDogci5tYXhYLCB3aWR0aDogMCB9KTtcbiAgfVxuICByZXR1cm4gdW5pb24uYXBwbHkodm9pZCAwLCBycyk7XG59XG5cbi8vIHNyYy9mcm9tLXJvdGF0aW9uLnRzXG5mdW5jdGlvbiB0b1JhZChkKSB7XG4gIHJldHVybiBkICUgMzYwICogTWF0aC5QSSAvIDE4MDtcbn1cbmZ1bmN0aW9uIHJvdGF0ZShhLCBkLCBjKSB7XG4gIGNvbnN0IHIgPSB0b1JhZChkKTtcbiAgY29uc3Qgc2luID0gTWF0aC5zaW4ocik7XG4gIGNvbnN0IGNvcyA9IE1hdGguY29zKHIpO1xuICBjb25zdCB4ID0gYS54IC0gYy54O1xuICBjb25zdCB5ID0gYS55IC0gYy55O1xuICByZXR1cm4ge1xuICAgIHg6IGMueCArIHggKiBjb3MgLSB5ICogc2luLFxuICAgIHk6IGMueSArIHggKiBzaW4gKyB5ICogY29zXG4gIH07XG59XG5mdW5jdGlvbiBnZXRSb3RhdGlvblJlY3QociwgZGVnKSB7XG4gIGNvbnN0IHJyID0gT2JqZWN0LnZhbHVlcyhnZXRSZWN0Q29ybmVycyhyKSkubWFwKChwKSA9PiByb3RhdGUocCwgZGVnLCByLmNlbnRlcikpO1xuICBjb25zdCB4cyA9IHJyLm1hcCgocCkgPT4gcC54KTtcbiAgY29uc3QgeXMgPSByci5tYXAoKHApID0+IHAueSk7XG4gIGNvbnN0IG1pblggPSBNYXRoLm1pbiguLi54cyk7XG4gIGNvbnN0IG1pblkgPSBNYXRoLm1pbiguLi55cyk7XG4gIGNvbnN0IG1heFggPSBNYXRoLm1heCguLi54cyk7XG4gIGNvbnN0IG1heFkgPSBNYXRoLm1heCguLi55cyk7XG4gIHJldHVybiBjcmVhdGVSZWN0KHtcbiAgICB4OiBtaW5YLFxuICAgIHk6IG1pblksXG4gICAgd2lkdGg6IG1heFggLSBtaW5YLFxuICAgIGhlaWdodDogbWF4WSAtIG1pbllcbiAgfSk7XG59XG5cbi8vIHNyYy9mcm9tLXdpbmRvdy50c1xuZnVuY3Rpb24gZ2V0V2luZG93UmVjdCh3aW4sIG9wdHMgPSB7fSkge1xuICByZXR1cm4gY3JlYXRlUmVjdChnZXRWaWV3cG9ydFJlY3Qod2luLCBvcHRzKSk7XG59XG5mdW5jdGlvbiBnZXRWaWV3cG9ydFJlY3Qod2luLCBvcHRzKSB7XG4gIGNvbnN0IHsgZXhjbHVkZVNjcm9sbGJhciA9IGZhbHNlIH0gPSBvcHRzO1xuICBjb25zdCB7IGlubmVyV2lkdGgsIGlubmVySGVpZ2h0LCBkb2N1bWVudDogZG9jLCB2aXN1YWxWaWV3cG9ydCB9ID0gd2luO1xuICBjb25zdCB3aWR0aCA9IHZpc3VhbFZpZXdwb3J0Py53aWR0aCB8fCBpbm5lcldpZHRoO1xuICBjb25zdCBoZWlnaHQgPSB2aXN1YWxWaWV3cG9ydD8uaGVpZ2h0IHx8IGlubmVySGVpZ2h0O1xuICBjb25zdCByZWN0ID0geyB4OiAwLCB5OiAwLCB3aWR0aCwgaGVpZ2h0IH07XG4gIGlmIChleGNsdWRlU2Nyb2xsYmFyKSB7XG4gICAgY29uc3Qgc2Nyb2xsYmFyV2lkdGggPSBpbm5lcldpZHRoIC0gZG9jLmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDtcbiAgICBjb25zdCBzY3JvbGxiYXJIZWlnaHQgPSBpbm5lckhlaWdodCAtIGRvYy5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0O1xuICAgIHJlY3Qud2lkdGggLT0gc2Nyb2xsYmFyV2lkdGg7XG4gICAgcmVjdC5oZWlnaHQgLT0gc2Nyb2xsYmFySGVpZ2h0O1xuICB9XG4gIHJldHVybiByZWN0O1xufVxuXG4vLyBzcmMvZ2V0LXBvbHlnb24udHNcbmZ1bmN0aW9uIGdldEVsZW1lbnRQb2x5Z29uKHJlY3RWYWx1ZSwgcGxhY2VtZW50KSB7XG4gIGNvbnN0IHJlY3QgPSBjcmVhdGVSZWN0KHJlY3RWYWx1ZSk7XG4gIGNvbnN0IHsgdG9wLCByaWdodCwgbGVmdCwgYm90dG9tIH0gPSBnZXRSZWN0Q29ybmVycyhyZWN0KTtcbiAgY29uc3QgW2Jhc2VdID0gcGxhY2VtZW50LnNwbGl0KFwiLVwiKTtcbiAgcmV0dXJuIHtcbiAgICB0b3A6IFtsZWZ0LCB0b3AsIHJpZ2h0LCBib3R0b21dLFxuICAgIHJpZ2h0OiBbdG9wLCByaWdodCwgYm90dG9tLCBsZWZ0XSxcbiAgICBib3R0b206IFt0b3AsIGxlZnQsIGJvdHRvbSwgcmlnaHRdLFxuICAgIGxlZnQ6IFtyaWdodCwgdG9wLCBsZWZ0LCBib3R0b21dXG4gIH1bYmFzZV07XG59XG5cbi8vIHNyYy9vcGVyYXRpb25zLnRzXG52YXIgaXNTeW1tZXRyaWMgPSAodikgPT4gXCJkeFwiIGluIHYgfHwgXCJkeVwiIGluIHY7XG5mdW5jdGlvbiBpbnNldChyLCBpKSB7XG4gIGNvbnN0IHYgPSBpc1N5bW1ldHJpYyhpKSA/IHsgbGVmdDogaS5keCwgcmlnaHQ6IGkuZHgsIHRvcDogaS5keSwgYm90dG9tOiBpLmR5IH0gOiBpO1xuICBjb25zdCB7IHRvcCA9IDAsIHJpZ2h0ID0gMCwgYm90dG9tID0gMCwgbGVmdCA9IDAgfSA9IHY7XG4gIHJldHVybiBjcmVhdGVSZWN0KHtcbiAgICB4OiByLnggKyBsZWZ0LFxuICAgIHk6IHIueSArIHRvcCxcbiAgICB3aWR0aDogci53aWR0aCAtIGxlZnQgLSByaWdodCxcbiAgICBoZWlnaHQ6IHIuaGVpZ2h0IC0gdG9wIC0gYm90dG9tXG4gIH0pO1xufVxuZnVuY3Rpb24gZXhwYW5kKHIsIHYpIHtcbiAgY29uc3QgdmFsdWUgPSB0eXBlb2YgdiA9PT0gXCJudW1iZXJcIiA/IHsgZHg6IC12LCBkeTogLXYgfSA6IHY7XG4gIHJldHVybiBpbnNldChyLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiBzaHJpbmsociwgdikge1xuICBjb25zdCB2YWx1ZSA9IHR5cGVvZiB2ID09PSBcIm51bWJlclwiID8geyBkeDogLXYsIGR5OiAtdiB9IDogdjtcbiAgcmV0dXJuIGluc2V0KHIsIHZhbHVlKTtcbn1cbmZ1bmN0aW9uIHNoaWZ0KHIsIG8pIHtcbiAgY29uc3QgeyB4ID0gMCwgeSA9IDAgfSA9IG87XG4gIHJldHVybiBjcmVhdGVSZWN0KHtcbiAgICB4OiByLnggKyB4LFxuICAgIHk6IHIueSArIHksXG4gICAgd2lkdGg6IHIud2lkdGgsXG4gICAgaGVpZ2h0OiByLmhlaWdodFxuICB9KTtcbn1cblxuLy8gc3JjL3BvbHlnb24udHNcbmZ1bmN0aW9uIGlzUG9pbnRJblBvbHlnb24ocG9seWdvbiwgcG9pbnQyKSB7XG4gIGNvbnN0IHsgeCwgeSB9ID0gcG9pbnQyO1xuICBsZXQgYyA9IGZhbHNlO1xuICBmb3IgKGxldCBpID0gMCwgaiA9IHBvbHlnb24ubGVuZ3RoIC0gMTsgaSA8IHBvbHlnb24ubGVuZ3RoOyBqID0gaSsrKSB7XG4gICAgY29uc3QgeGkgPSBwb2x5Z29uW2ldLng7XG4gICAgY29uc3QgeWkgPSBwb2x5Z29uW2ldLnk7XG4gICAgY29uc3QgeGogPSBwb2x5Z29uW2pdLng7XG4gICAgY29uc3QgeWogPSBwb2x5Z29uW2pdLnk7XG4gICAgaWYgKHlpID4geSAhPT0geWogPiB5ICYmIHggPCAoeGogLSB4aSkgKiAoeSAtIHlpKSAvICh5aiAtIHlpKSArIHhpKSB7XG4gICAgICBjID0gIWM7XG4gICAgfVxuICB9XG4gIHJldHVybiBjO1xufVxuZnVuY3Rpb24gY3JlYXRlUG9seWdvbkVsZW1lbnQoKSB7XG4gIGNvbnN0IGlkID0gXCJkZWJ1Zy1wb2x5Z29uXCI7XG4gIGNvbnN0IGV4aXN0aW5nUG9seWdvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgaWYgKGV4aXN0aW5nUG9seWdvbikge1xuICAgIHJldHVybiBleGlzdGluZ1BvbHlnb247XG4gIH1cbiAgY29uc3Qgc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJzdmdcIik7XG4gIE9iamVjdC5hc3NpZ24oc3ZnLnN0eWxlLCB7XG4gICAgdG9wOiBcIjBcIixcbiAgICBsZWZ0OiBcIjBcIixcbiAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICBvcGFjaXR5OiBcIjAuMTVcIixcbiAgICBwb3NpdGlvbjogXCJmaXhlZFwiLFxuICAgIHBvaW50ZXJFdmVudHM6IFwibm9uZVwiLFxuICAgIGZpbGw6IFwicmVkXCJcbiAgfSk7XG4gIGNvbnN0IHBvbHlnb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInBvbHlnb25cIik7XG4gIHBvbHlnb24uc2V0QXR0cmlidXRlKFwiaWRcIiwgaWQpO1xuICBwb2x5Z29uLnNldEF0dHJpYnV0ZShcInBvaW50c1wiLCBcIjAsMCAwLDBcIik7XG4gIHN2Zy5hcHBlbmRDaGlsZChwb2x5Z29uKTtcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzdmcpO1xuICByZXR1cm4gcG9seWdvbjtcbn1cbmZ1bmN0aW9uIGRlYnVnUG9seWdvbihwb2x5Z29uKSB7XG4gIGNvbnN0IGVsID0gY3JlYXRlUG9seWdvbkVsZW1lbnQoKTtcbiAgY29uc3QgcG9pbnRzID0gcG9seWdvbi5tYXAoKHBvaW50MikgPT4gYCR7cG9pbnQyLnh9LCR7cG9pbnQyLnl9YCkuam9pbihcIiBcIik7XG4gIGVsLnNldEF0dHJpYnV0ZShcInBvaW50c1wiLCBwb2ludHMpO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGVsLnJlbW92ZSgpO1xuICB9O1xufVxuZXhwb3J0IHtcbiAgYWxpZ25SZWN0LFxuICBjbG9zZXN0LFxuICBjbG9zZXN0U2lkZVRvUG9pbnQsXG4gIGNsb3Nlc3RTaWRlVG9SZWN0LFxuICBjb2xsaXNpb25zLFxuICBjb250YWlucyxcbiAgY29udGFpbnNQb2ludCxcbiAgY29udGFpbnNSZWN0LFxuICBjcmVhdGVSZWN0LFxuICBkZWJ1Z1BvbHlnb24sXG4gIGRpc3RhbmNlLFxuICBkaXN0YW5jZUJ0d0VkZ2VzLFxuICBkaXN0YW5jZUZyb21Qb2ludCxcbiAgZGlzdGFuY2VGcm9tUmVjdCxcbiAgZXhwYW5kLFxuICBmcm9tUmFuZ2UsXG4gIGdldEVsZW1lbnRQb2x5Z29uLFxuICBnZXRFbGVtZW50UmVjdCxcbiAgZ2V0UmVjdENlbnRlcnMsXG4gIGdldFJlY3RDb3JuZXJzLFxuICBnZXRSZWN0RWRnZXMsXG4gIGdldFJlY3RGcm9tUG9pbnRzLFxuICBnZXRSb3RhdGlvblJlY3QsXG4gIGdldFZpZXdwb3J0UmVjdCxcbiAgZ2V0V2luZG93UmVjdCxcbiAgaW5zZXQsXG4gIGludGVyc2VjdGlvbixcbiAgaW50ZXJzZWN0cyxcbiAgaXNQb2ludEluUG9seWdvbixcbiAgaXNSZWN0LFxuICBpc1N5bW1ldHJpYyxcbiAgcm90YXRlLFxuICBzaGlmdCxcbiAgc2hyaW5rLFxuICB0b1JhZCxcbiAgdW5pb25cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/rect-utils/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/remove-scroll/dist/index.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@zag-js/remove-scroll/dist/index.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   preventBodyScroll: () => (/* binding */ preventBodyScroll)\n/* harmony export */ });\n/* harmony import */ var _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/dom-query */ \"(ssr)/./node_modules/@zag-js/dom-query/dist/index.mjs\");\n// src/index.ts\n\nvar LOCK_CLASSNAME = \"data-zag-scroll-lock\";\nfunction assignStyle(el, style) {\n  if (!el)\n    return;\n  const previousStyle = el.style.cssText;\n  Object.assign(el.style, style);\n  return () => {\n    el.style.cssText = previousStyle;\n  };\n}\nfunction setCSSProperty(el, property, value) {\n  if (!el)\n    return;\n  const previousValue = el.style.getPropertyValue(property);\n  el.style.setProperty(property, value);\n  return () => {\n    if (previousValue) {\n      el.style.setProperty(property, previousValue);\n    } else {\n      el.style.removeProperty(property);\n    }\n  };\n}\nfunction getPaddingProperty(documentElement) {\n  const documentLeft = documentElement.getBoundingClientRect().left;\n  const scrollbarX = Math.round(documentLeft) + documentElement.scrollLeft;\n  return scrollbarX ? \"paddingLeft\" : \"paddingRight\";\n}\nfunction preventBodyScroll(_document) {\n  const doc = _document ?? document;\n  const win = doc.defaultView ?? window;\n  const { documentElement, body } = doc;\n  const locked = body.hasAttribute(LOCK_CLASSNAME);\n  if (locked)\n    return;\n  body.setAttribute(LOCK_CLASSNAME, \"\");\n  const scrollbarWidth = win.innerWidth - documentElement.clientWidth;\n  const setScrollbarWidthProperty = () => setCSSProperty(documentElement, \"--scrollbar-width\", `${scrollbarWidth}px`);\n  const paddingProperty = getPaddingProperty(documentElement);\n  const setStyle = () => assignStyle(body, {\n    overflow: \"hidden\",\n    [paddingProperty]: `${scrollbarWidth}px`\n  });\n  const setIOSStyle = () => {\n    const { scrollX, scrollY, visualViewport } = win;\n    const offsetLeft = visualViewport?.offsetLeft ?? 0;\n    const offsetTop = visualViewport?.offsetTop ?? 0;\n    const restoreStyle = assignStyle(body, {\n      position: \"fixed\",\n      overflow: \"hidden\",\n      top: `${-(scrollY - Math.floor(offsetTop))}px`,\n      left: `${-(scrollX - Math.floor(offsetLeft))}px`,\n      right: \"0\",\n      [paddingProperty]: `${scrollbarWidth}px`\n    });\n    return () => {\n      restoreStyle?.();\n      win.scrollTo(scrollX, scrollY);\n    };\n  };\n  const cleanups = [setScrollbarWidthProperty(), (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_0__.isIos)() ? setIOSStyle() : setStyle()];\n  return () => {\n    cleanups.forEach((fn) => fn?.());\n    body.removeAttribute(LOCK_CLASSNAME);\n  };\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9yZW1vdmUtc2Nyb2xsL2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsd0JBQXdCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrR0FBa0csZUFBZTtBQUNqSDtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsZUFBZTtBQUN6QyxHQUFHO0FBQ0g7QUFDQSxZQUFZLG1DQUFtQztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxtQ0FBbUM7QUFDakQsZUFBZSxvQ0FBb0M7QUFDbkQ7QUFDQSw0QkFBNEIsZUFBZTtBQUMzQyxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCx3REFBSztBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0U7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL0BwYXJrLXVpL2V4YW1wbGVzLXJlYWN0LW5leHQtanMvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9yZW1vdmUtc2Nyb2xsL2Rpc3QvaW5kZXgubWpzPzAzNTgiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2luZGV4LnRzXG5pbXBvcnQgeyBpc0lvcyB9IGZyb20gXCJAemFnLWpzL2RvbS1xdWVyeVwiO1xudmFyIExPQ0tfQ0xBU1NOQU1FID0gXCJkYXRhLXphZy1zY3JvbGwtbG9ja1wiO1xuZnVuY3Rpb24gYXNzaWduU3R5bGUoZWwsIHN0eWxlKSB7XG4gIGlmICghZWwpXG4gICAgcmV0dXJuO1xuICBjb25zdCBwcmV2aW91c1N0eWxlID0gZWwuc3R5bGUuY3NzVGV4dDtcbiAgT2JqZWN0LmFzc2lnbihlbC5zdHlsZSwgc3R5bGUpO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGVsLnN0eWxlLmNzc1RleHQgPSBwcmV2aW91c1N0eWxlO1xuICB9O1xufVxuZnVuY3Rpb24gc2V0Q1NTUHJvcGVydHkoZWwsIHByb3BlcnR5LCB2YWx1ZSkge1xuICBpZiAoIWVsKVxuICAgIHJldHVybjtcbiAgY29uc3QgcHJldmlvdXNWYWx1ZSA9IGVsLnN0eWxlLmdldFByb3BlcnR5VmFsdWUocHJvcGVydHkpO1xuICBlbC5zdHlsZS5zZXRQcm9wZXJ0eShwcm9wZXJ0eSwgdmFsdWUpO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGlmIChwcmV2aW91c1ZhbHVlKSB7XG4gICAgICBlbC5zdHlsZS5zZXRQcm9wZXJ0eShwcm9wZXJ0eSwgcHJldmlvdXNWYWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsLnN0eWxlLnJlbW92ZVByb3BlcnR5KHByb3BlcnR5KTtcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBnZXRQYWRkaW5nUHJvcGVydHkoZG9jdW1lbnRFbGVtZW50KSB7XG4gIGNvbnN0IGRvY3VtZW50TGVmdCA9IGRvY3VtZW50RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xuICBjb25zdCBzY3JvbGxiYXJYID0gTWF0aC5yb3VuZChkb2N1bWVudExlZnQpICsgZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ7XG4gIHJldHVybiBzY3JvbGxiYXJYID8gXCJwYWRkaW5nTGVmdFwiIDogXCJwYWRkaW5nUmlnaHRcIjtcbn1cbmZ1bmN0aW9uIHByZXZlbnRCb2R5U2Nyb2xsKF9kb2N1bWVudCkge1xuICBjb25zdCBkb2MgPSBfZG9jdW1lbnQgPz8gZG9jdW1lbnQ7XG4gIGNvbnN0IHdpbiA9IGRvYy5kZWZhdWx0VmlldyA/PyB3aW5kb3c7XG4gIGNvbnN0IHsgZG9jdW1lbnRFbGVtZW50LCBib2R5IH0gPSBkb2M7XG4gIGNvbnN0IGxvY2tlZCA9IGJvZHkuaGFzQXR0cmlidXRlKExPQ0tfQ0xBU1NOQU1FKTtcbiAgaWYgKGxvY2tlZClcbiAgICByZXR1cm47XG4gIGJvZHkuc2V0QXR0cmlidXRlKExPQ0tfQ0xBU1NOQU1FLCBcIlwiKTtcbiAgY29uc3Qgc2Nyb2xsYmFyV2lkdGggPSB3aW4uaW5uZXJXaWR0aCAtIGRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDtcbiAgY29uc3Qgc2V0U2Nyb2xsYmFyV2lkdGhQcm9wZXJ0eSA9ICgpID0+IHNldENTU1Byb3BlcnR5KGRvY3VtZW50RWxlbWVudCwgXCItLXNjcm9sbGJhci13aWR0aFwiLCBgJHtzY3JvbGxiYXJXaWR0aH1weGApO1xuICBjb25zdCBwYWRkaW5nUHJvcGVydHkgPSBnZXRQYWRkaW5nUHJvcGVydHkoZG9jdW1lbnRFbGVtZW50KTtcbiAgY29uc3Qgc2V0U3R5bGUgPSAoKSA9PiBhc3NpZ25TdHlsZShib2R5LCB7XG4gICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCIsXG4gICAgW3BhZGRpbmdQcm9wZXJ0eV06IGAke3Njcm9sbGJhcldpZHRofXB4YFxuICB9KTtcbiAgY29uc3Qgc2V0SU9TU3R5bGUgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBzY3JvbGxYLCBzY3JvbGxZLCB2aXN1YWxWaWV3cG9ydCB9ID0gd2luO1xuICAgIGNvbnN0IG9mZnNldExlZnQgPSB2aXN1YWxWaWV3cG9ydD8ub2Zmc2V0TGVmdCA/PyAwO1xuICAgIGNvbnN0IG9mZnNldFRvcCA9IHZpc3VhbFZpZXdwb3J0Py5vZmZzZXRUb3AgPz8gMDtcbiAgICBjb25zdCByZXN0b3JlU3R5bGUgPSBhc3NpZ25TdHlsZShib2R5LCB7XG4gICAgICBwb3NpdGlvbjogXCJmaXhlZFwiLFxuICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCIsXG4gICAgICB0b3A6IGAkey0oc2Nyb2xsWSAtIE1hdGguZmxvb3Iob2Zmc2V0VG9wKSl9cHhgLFxuICAgICAgbGVmdDogYCR7LShzY3JvbGxYIC0gTWF0aC5mbG9vcihvZmZzZXRMZWZ0KSl9cHhgLFxuICAgICAgcmlnaHQ6IFwiMFwiLFxuICAgICAgW3BhZGRpbmdQcm9wZXJ0eV06IGAke3Njcm9sbGJhcldpZHRofXB4YFxuICAgIH0pO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICByZXN0b3JlU3R5bGU/LigpO1xuICAgICAgd2luLnNjcm9sbFRvKHNjcm9sbFgsIHNjcm9sbFkpO1xuICAgIH07XG4gIH07XG4gIGNvbnN0IGNsZWFudXBzID0gW3NldFNjcm9sbGJhcldpZHRoUHJvcGVydHkoKSwgaXNJb3MoKSA/IHNldElPU1N0eWxlKCkgOiBzZXRTdHlsZSgpXTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBjbGVhbnVwcy5mb3JFYWNoKChmbikgPT4gZm4/LigpKTtcbiAgICBib2R5LnJlbW92ZUF0dHJpYnV0ZShMT0NLX0NMQVNTTkFNRSk7XG4gIH07XG59XG5leHBvcnQge1xuICBwcmV2ZW50Qm9keVNjcm9sbFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/remove-scroll/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/select/dist/index.mjs":
/*!****************************************************!*\
  !*** ./node_modules/@zag-js/select/dist/index.mjs ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   anatomy: () => (/* binding */ anatomy),\n/* harmony export */   collection: () => (/* binding */ collection),\n/* harmony export */   connect: () => (/* binding */ connect),\n/* harmony export */   machine: () => (/* binding */ machine)\n/* harmony export */ });\n/* harmony import */ var _zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/anatomy */ \"(ssr)/./node_modules/@zag-js/anatomy/dist/index.mjs\");\n/* harmony import */ var _zag_js_collection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @zag-js/collection */ \"(ssr)/./node_modules/@zag-js/collection/dist/index.mjs\");\n/* harmony import */ var _zag_js_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @zag-js/core */ \"(ssr)/./node_modules/@zag-js/store/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_event__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @zag-js/dom-event */ \"(ssr)/./node_modules/@zag-js/dom-event/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @zag-js/dom-query */ \"(ssr)/./node_modules/@zag-js/dom-query/dist/index.mjs\");\n/* harmony import */ var _zag_js_popper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @zag-js/popper */ \"(ssr)/./node_modules/@zag-js/popper/dist/index.mjs\");\n/* harmony import */ var _zag_js_visually_hidden__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @zag-js/visually-hidden */ \"(ssr)/./node_modules/@zag-js/visually-hidden/dist/index.mjs\");\n/* harmony import */ var _zag_js_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @zag-js/core */ \"(ssr)/./node_modules/@zag-js/core/dist/index.mjs\");\n/* harmony import */ var _zag_js_dismissable__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @zag-js/dismissable */ \"(ssr)/./node_modules/@zag-js/dismissable/dist/index.mjs\");\n/* harmony import */ var _zag_js_form_utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @zag-js/form-utils */ \"(ssr)/./node_modules/@zag-js/form-utils/dist/index.mjs\");\n/* harmony import */ var _zag_js_mutation_observer__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @zag-js/mutation-observer */ \"(ssr)/./node_modules/@zag-js/mutation-observer/dist/index.mjs\");\n/* harmony import */ var _zag_js_tabbable__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @zag-js/tabbable */ \"(ssr)/./node_modules/@zag-js/tabbable/dist/index.mjs\");\n/* harmony import */ var _zag_js_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @zag-js/utils */ \"(ssr)/./node_modules/@zag-js/utils/dist/index.mjs\");\n// src/select.anatomy.ts\n\nvar anatomy = (0,_zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__.createAnatomy)(\"select\").parts(\n  \"label\",\n  \"positioner\",\n  \"trigger\",\n  \"indicator\",\n  \"clearTrigger\",\n  \"item\",\n  \"itemText\",\n  \"itemIndicator\",\n  \"itemGroup\",\n  \"itemGroupLabel\",\n  \"content\",\n  \"root\",\n  \"control\"\n);\nvar parts = anatomy.build();\n\n// src/select.collection.ts\n\n\nvar collection = (options) => {\n  return (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_1__.ref)(new _zag_js_collection__WEBPACK_IMPORTED_MODULE_2__.Collection(options));\n};\ncollection.empty = () => {\n  return (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_1__.ref)(new _zag_js_collection__WEBPACK_IMPORTED_MODULE_2__.Collection({ items: [] }));\n};\n\n// src/select.connect.ts\n\n\n\n\n\n// src/select.dom.ts\n\nvar dom = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.createScope)({\n  getRootId: (ctx) => ctx.ids?.root ?? `select:${ctx.id}`,\n  getContentId: (ctx) => ctx.ids?.content ?? `select:${ctx.id}:content`,\n  getTriggerId: (ctx) => ctx.ids?.trigger ?? `select:${ctx.id}:trigger`,\n  getClearTriggerId: (ctx) => ctx.ids?.clearTrigger ?? `select:${ctx.id}:clear-trigger`,\n  getLabelId: (ctx) => ctx.ids?.label ?? `select:${ctx.id}:label`,\n  getControlId: (ctx) => ctx.ids?.control ?? `select:${ctx.id}:control`,\n  getItemId: (ctx, id) => ctx.ids?.item?.(id) ?? `select:${ctx.id}:option:${id}`,\n  getHiddenSelectId: (ctx) => ctx.ids?.hiddenSelect ?? `select:${ctx.id}:select`,\n  getPositionerId: (ctx) => ctx.ids?.positioner ?? `select:${ctx.id}:positioner`,\n  getItemGroupId: (ctx, id) => ctx.ids?.itemGroup?.(id) ?? `select:${ctx.id}:optgroup:${id}`,\n  getItemGroupLabelId: (ctx, id) => ctx.ids?.itemGroupLabel?.(id) ?? `select:${ctx.id}:optgroup-label:${id}`,\n  getHiddenSelectEl: (ctx) => dom.getById(ctx, dom.getHiddenSelectId(ctx)),\n  getContentEl: (ctx) => dom.getById(ctx, dom.getContentId(ctx)),\n  getControlEl: (ctx) => dom.getById(ctx, dom.getControlId(ctx)),\n  getTriggerEl: (ctx) => dom.getById(ctx, dom.getTriggerId(ctx)),\n  getClearTriggerEl: (ctx) => dom.getById(ctx, dom.getClearTriggerId(ctx)),\n  getPositionerEl: (ctx) => dom.getById(ctx, dom.getPositionerId(ctx)),\n  getHighlightedOptionEl(ctx) {\n    if (!ctx.highlightedValue)\n      return null;\n    return dom.getById(ctx, dom.getItemId(ctx, ctx.highlightedValue));\n  }\n});\n\n// src/select.connect.ts\nfunction connect(state, send, normalize) {\n  const isDisabled = state.context.isDisabled;\n  const isInvalid = state.context.invalid;\n  const isReadOnly = state.context.readOnly;\n  const isInteractive = state.context.isInteractive;\n  const isOpen = state.hasTag(\"open\");\n  const isFocused = state.matches(\"focused\");\n  const highlightedItem = state.context.highlightedItem;\n  const selectedItems = state.context.selectedItems;\n  const isTypingAhead = state.context.isTypingAhead;\n  function getItemState(props) {\n    const { item } = props;\n    const disabled = state.context.collection.isItemDisabled(item);\n    const value = state.context.collection.itemToValue(item);\n    return {\n      value,\n      isDisabled: Boolean(disabled || isDisabled),\n      isHighlighted: state.context.highlightedValue === value,\n      isSelected: state.context.value.includes(value)\n    };\n  }\n  const popperStyles = (0,_zag_js_popper__WEBPACK_IMPORTED_MODULE_4__.getPlacementStyles)({\n    ...state.context.positioning,\n    placement: state.context.currentPlacement\n  });\n  return {\n    isOpen,\n    isFocused,\n    highlightedItem,\n    highlightedValue: state.context.highlightedValue,\n    selectedItems,\n    hasSelectedItems: state.context.hasSelectedItems,\n    value: state.context.value,\n    valueAsString: state.context.valueAsString,\n    collection: state.context.collection,\n    setCollection(collection2) {\n      send({ type: \"COLLECTION.SET\", value: collection2 });\n    },\n    reposition(options = {}) {\n      send({ type: \"POSITIONING.SET\", options });\n    },\n    focus() {\n      dom.getTriggerEl(state.context)?.focus({ preventScroll: true });\n    },\n    open() {\n      send(\"OPEN\");\n    },\n    close() {\n      send(\"CLOSE\");\n    },\n    selectValue(value) {\n      send({ type: \"ITEM.SELECT\", value });\n    },\n    setValue(value) {\n      send({ type: \"VALUE.SET\", value });\n    },\n    highlightValue(value) {\n      send({ type: \"HIGHLIGHTED_VALUE.SET\", value });\n    },\n    clearValue(value) {\n      if (value) {\n        send({ type: \"ITEM.CLEAR\", value });\n      } else {\n        send({ type: \"VALUE.CLEAR\" });\n      }\n    },\n    getItemState,\n    rootProps: normalize.element({\n      ...parts.root.attrs,\n      dir: state.context.dir,\n      id: dom.getRootId(state.context),\n      \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.dataAttr)(isInvalid),\n      \"data-readonly\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.dataAttr)(isReadOnly)\n    }),\n    labelProps: normalize.label({\n      dir: state.context.dir,\n      id: dom.getLabelId(state.context),\n      ...parts.label.attrs,\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.dataAttr)(isDisabled),\n      \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.dataAttr)(isInvalid),\n      \"data-readonly\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.dataAttr)(isReadOnly),\n      htmlFor: dom.getHiddenSelectId(state.context),\n      onClick() {\n        if (isDisabled)\n          return;\n        dom.getTriggerEl(state.context)?.focus({ preventScroll: true });\n      }\n    }),\n    controlProps: normalize.element({\n      ...parts.control.attrs,\n      dir: state.context.dir,\n      id: dom.getControlId(state.context),\n      \"data-state\": isOpen ? \"open\" : \"closed\",\n      \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.dataAttr)(isFocused),\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.dataAttr)(isDisabled),\n      \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.dataAttr)(isInvalid)\n    }),\n    triggerProps: normalize.button({\n      id: dom.getTriggerId(state.context),\n      disabled: isDisabled,\n      dir: state.context.dir,\n      type: \"button\",\n      \"aria-controls\": dom.getContentId(state.context),\n      \"aria-expanded\": isOpen,\n      \"data-state\": isOpen ? \"open\" : \"closed\",\n      \"aria-haspopup\": \"listbox\",\n      \"aria-labelledby\": dom.getLabelId(state.context),\n      ...parts.trigger.attrs,\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.dataAttr)(isDisabled),\n      \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.dataAttr)(isInvalid),\n      \"aria-invalid\": isInvalid,\n      \"data-readonly\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.dataAttr)(isReadOnly),\n      \"data-placement\": state.context.currentPlacement,\n      \"data-placeholder-shown\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.dataAttr)(!state.context.hasSelectedItems),\n      onPointerDown(event) {\n        if (event.button || event.ctrlKey || !isInteractive)\n          return;\n        event.currentTarget.dataset.pointerType = event.pointerType;\n        if (isDisabled || event.pointerType === \"touch\")\n          return;\n        send({ type: \"TRIGGER.CLICK\" });\n      },\n      onClick(event) {\n        if (!isInteractive || event.button)\n          return;\n        if (event.currentTarget.dataset.pointerType === \"touch\") {\n          send({ type: \"TRIGGER.CLICK\" });\n        }\n      },\n      onFocus() {\n        send(\"TRIGGER.FOCUS\");\n      },\n      onBlur() {\n        send(\"TRIGGER.BLUR\");\n      },\n      onKeyDown(event) {\n        if (!isInteractive)\n          return;\n        const keyMap = {\n          ArrowUp() {\n            send({ type: \"TRIGGER.ARROW_UP\" });\n          },\n          ArrowDown(event2) {\n            send({ type: event2.altKey ? \"OPEN\" : \"TRIGGER.ARROW_DOWN\" });\n          },\n          ArrowLeft() {\n            send({ type: \"TRIGGER.ARROW_LEFT\" });\n          },\n          ArrowRight() {\n            send({ type: \"TRIGGER.ARROW_RIGHT\" });\n          },\n          Home() {\n            send({ type: \"TRIGGER.HOME\" });\n          },\n          End() {\n            send({ type: \"TRIGGER.END\" });\n          },\n          Enter() {\n            send({ type: \"TRIGGER.ENTER\" });\n          },\n          Space(event2) {\n            if (isTypingAhead) {\n              send({ type: \"TRIGGER.TYPEAHEAD\", key: event2.key });\n            } else {\n              send({ type: \"TRIGGER.ENTER\" });\n            }\n          }\n        };\n        const exec = keyMap[(0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_5__.getEventKey)(event, state.context)];\n        if (exec) {\n          exec(event);\n          event.preventDefault();\n          return;\n        }\n        if (_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.getByTypeahead.isValidEvent(event)) {\n          send({ type: \"TRIGGER.TYPEAHEAD\", key: event.key });\n          event.preventDefault();\n        }\n      }\n    }),\n    indicatorProps: normalize.element({\n      ...parts.indicator.attrs,\n      dir: state.context.dir,\n      \"aria-hidden\": true,\n      \"data-state\": isOpen ? \"open\" : \"closed\"\n    }),\n    getItemProps(props) {\n      const itemState = getItemState(props);\n      return normalize.element({\n        id: dom.getItemId(state.context, itemState.value),\n        role: \"option\",\n        ...parts.item.attrs,\n        dir: state.context.dir,\n        \"data-value\": itemState.value,\n        \"aria-selected\": itemState.isSelected,\n        \"data-state\": itemState.isSelected ? \"checked\" : \"unchecked\",\n        \"data-highlighted\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.dataAttr)(itemState.isHighlighted),\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.dataAttr)(itemState.isDisabled),\n        \"aria-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.ariaAttr)(itemState.isDisabled),\n        onPointerMove(event) {\n          if (itemState.isDisabled || event.pointerType !== \"mouse\")\n            return;\n          if (itemState.value === state.context.highlightedValue)\n            return;\n          send({ type: \"ITEM.POINTER_MOVE\", value: itemState.value });\n        },\n        onPointerUp() {\n          if (itemState.isDisabled)\n            return;\n          send({ type: \"ITEM.CLICK\", src: \"pointerup\", value: itemState.value });\n        },\n        onPointerLeave(event) {\n          const isKeyboardNavigationEvent = [\"CONTENT.ARROW_UP\", \"CONTENT.ARROW_DOWN\"].includes(state.event.type);\n          if (itemState.isDisabled || event.pointerType !== \"mouse\" || isKeyboardNavigationEvent)\n            return;\n          send({ type: \"ITEM.POINTER_LEAVE\" });\n        }\n      });\n    },\n    getItemTextProps(props) {\n      const itemState = getItemState(props);\n      return normalize.element({\n        ...parts.itemText.attrs,\n        dir: state.context.dir,\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.dataAttr)(itemState.isDisabled),\n        \"data-highlighted\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.dataAttr)(itemState.isHighlighted)\n      });\n    },\n    getItemIndicatorProps(props) {\n      const itemState = getItemState(props);\n      return normalize.element({\n        \"aria-hidden\": true,\n        ...parts.itemIndicator.attrs,\n        dir: state.context.dir,\n        \"data-state\": itemState.isSelected ? \"checked\" : \"unchecked\",\n        hidden: !itemState.isSelected\n      });\n    },\n    getItemGroupLabelProps(props) {\n      const { htmlFor } = props;\n      return normalize.element({\n        ...parts.itemGroupLabel.attrs,\n        id: dom.getItemGroupId(state.context, htmlFor),\n        role: \"group\",\n        dir: state.context.dir\n      });\n    },\n    getItemGroupProps(props) {\n      const { id } = props;\n      return normalize.element({\n        ...parts.itemGroup.attrs,\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.dataAttr)(isDisabled),\n        id: dom.getItemGroupId(state.context, id),\n        \"aria-labelledby\": dom.getItemGroupLabelId(state.context, id),\n        dir: state.context.dir\n      });\n    },\n    clearTriggerProps: normalize.button({\n      ...parts.clearTrigger.attrs,\n      id: dom.getClearTriggerId(state.context),\n      type: \"button\",\n      \"aria-label\": \"Clear value\",\n      hidden: !state.context.hasSelectedItems,\n      dir: state.context.dir,\n      onClick() {\n        send(\"VALUE.CLEAR\");\n      }\n    }),\n    hiddenSelectProps: normalize.select({\n      name: state.context.name,\n      form: state.context.form,\n      disabled: !isInteractive,\n      multiple: state.context.multiple,\n      \"aria-hidden\": true,\n      id: dom.getHiddenSelectId(state.context),\n      // defaultValue: state.context.selectedOption?.value,\n      style: _zag_js_visually_hidden__WEBPACK_IMPORTED_MODULE_6__.visuallyHiddenStyle,\n      tabIndex: -1,\n      // Some browser extensions will focus the hidden select.\n      // Let's forward the focus to the trigger.\n      onFocus() {\n        dom.getTriggerEl(state.context)?.focus({ preventScroll: true });\n      },\n      \"aria-labelledby\": dom.getLabelId(state.context)\n    }),\n    positionerProps: normalize.element({\n      ...parts.positioner.attrs,\n      dir: state.context.dir,\n      id: dom.getPositionerId(state.context),\n      style: popperStyles.floating\n    }),\n    contentProps: normalize.element({\n      hidden: !isOpen,\n      dir: state.context.dir,\n      id: dom.getContentId(state.context),\n      role: \"listbox\",\n      ...parts.content.attrs,\n      \"data-state\": isOpen ? \"open\" : \"closed\",\n      \"aria-activedescendant\": state.context.highlightedValue || \"\",\n      \"aria-multiselectable\": state.context.multiple ? \"true\" : void 0,\n      \"aria-labelledby\": dom.getLabelId(state.context),\n      tabIndex: 0,\n      onKeyDown(event) {\n        if (!isInteractive || !(0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.isSelfEvent)(event))\n          return;\n        const keyMap = {\n          ArrowUp() {\n            send({ type: \"CONTENT.ARROW_UP\" });\n          },\n          ArrowDown() {\n            send({ type: \"CONTENT.ARROW_DOWN\" });\n          },\n          Home() {\n            send({ type: \"CONTENT.HOME\" });\n          },\n          End() {\n            send({ type: \"CONTENT.END\" });\n          },\n          Enter() {\n            send({ type: \"CONTENT.ENTER\" });\n          },\n          Space(event2) {\n            if (isTypingAhead) {\n              send({ type: \"CONTENT.TYPEAHEAD\", key: event2.key });\n            } else {\n              keyMap.Enter?.(event2);\n            }\n          }\n        };\n        const exec = keyMap[(0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_5__.getEventKey)(event)];\n        if (exec) {\n          exec(event);\n          event.preventDefault();\n          return;\n        }\n        if ((0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.isEditableElement)(event.target)) {\n          return;\n        }\n        if (_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.getByTypeahead.isValidEvent(event)) {\n          send({ type: \"CONTENT.TYPEAHEAD\", key: event.key });\n          event.preventDefault();\n        }\n      }\n    })\n  };\n}\n\n// src/select.machine.ts\n\n\n\n\n\n\n\n\nvar { and, not } = _zag_js_core__WEBPACK_IMPORTED_MODULE_7__.guards;\nfunction machine(userContext) {\n  const ctx = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_8__.compact)(userContext);\n  return (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_7__.createMachine)(\n    {\n      id: \"select\",\n      context: {\n        value: [],\n        highlightedValue: null,\n        selectOnBlur: false,\n        loop: false,\n        closeOnSelect: true,\n        disabled: false,\n        ...ctx,\n        collection: ctx.collection ?? collection.empty(),\n        typeahead: _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.getByTypeahead.defaultOptions,\n        fieldsetDisabled: false,\n        positioning: {\n          placement: \"bottom-start\",\n          gutter: 8,\n          ...ctx.positioning\n        }\n      },\n      computed: {\n        hasSelectedItems: (ctx2) => ctx2.value.length > 0,\n        isTypingAhead: (ctx2) => ctx2.typeahead.keysSoFar !== \"\",\n        isDisabled: (ctx2) => !!ctx2.disabled || ctx2.fieldsetDisabled,\n        isInteractive: (ctx2) => !(ctx2.isDisabled || ctx2.readOnly),\n        selectedItems: (ctx2) => ctx2.collection.items(ctx2.value),\n        highlightedItem: (ctx2) => ctx2.collection.item(ctx2.highlightedValue),\n        valueAsString: (ctx2) => ctx2.collection.itemsToString(ctx2.selectedItems)\n      },\n      initial: \"idle\",\n      watch: {\n        open: [\"toggleVisibility\"],\n        value: [\"syncSelectElement\"]\n      },\n      on: {\n        \"HIGHLIGHTED_VALUE.SET\": {\n          actions: [\"setHighlightedItem\"]\n        },\n        \"ITEM.SELECT\": {\n          actions: [\"selectItem\"]\n        },\n        \"ITEM.CLEAR\": {\n          actions: [\"clearItem\"]\n        },\n        \"VALUE.SET\": {\n          actions: [\"setSelectedItems\"]\n        },\n        \"VALUE.CLEAR\": {\n          actions: [\"clearSelectedItems\"]\n        },\n        \"COLLECTION.SET\": {\n          actions: [\"setCollection\"]\n        },\n        \"POSITIONING.SET\": {\n          actions: [\"reposition\"]\n        }\n      },\n      activities: [\"trackFormControlState\"],\n      states: {\n        idle: {\n          tags: [\"closed\"],\n          on: {\n            \"TRIGGER.CLICK\": {\n              target: \"open\",\n              actions: [\"invokeOnOpen\", \"highlightFirstSelectedItem\"]\n            },\n            \"TRIGGER.FOCUS\": {\n              target: \"focused\"\n            },\n            OPEN: {\n              target: \"open\",\n              actions: [\"invokeOnOpen\"]\n            }\n          }\n        },\n        focused: {\n          tags: [\"closed\"],\n          entry: [\"focusTriggerEl\"],\n          on: {\n            OPEN: {\n              target: \"open\",\n              actions: [\"invokeOnOpen\"]\n            },\n            \"TRIGGER.BLUR\": {\n              target: \"idle\"\n            },\n            \"TRIGGER.CLICK\": {\n              target: \"open\",\n              actions: [\"invokeOnOpen\", \"highlightFirstSelectedItem\"]\n            },\n            \"TRIGGER.ENTER\": [\n              {\n                guard: \"hasSelectedItems\",\n                target: \"open\",\n                actions: [\"highlightFirstSelectedItem\", \"invokeOnOpen\"]\n              },\n              {\n                target: \"open\",\n                actions: [\"highlightFirstItem\", \"invokeOnOpen\"]\n              }\n            ],\n            \"TRIGGER.ARROW_UP\": [\n              {\n                guard: \"hasSelectedItems\",\n                target: \"open\",\n                actions: [\"highlightFirstSelectedItem\", \"invokeOnOpen\"]\n              },\n              {\n                target: \"open\",\n                actions: [\"highlightLastItem\", \"invokeOnOpen\"]\n              }\n            ],\n            \"TRIGGER.ARROW_DOWN\": [\n              {\n                guard: \"hasSelectedItems\",\n                target: \"open\",\n                actions: [\"highlightFirstSelectedItem\", \"invokeOnOpen\"]\n              },\n              {\n                target: \"open\",\n                actions: [\"highlightFirstItem\", \"invokeOnOpen\"]\n              }\n            ],\n            \"TRIGGER.ARROW_LEFT\": [\n              {\n                guard: and(not(\"multiple\"), \"hasSelectedItems\"),\n                actions: [\"selectPreviousItem\"]\n              },\n              {\n                guard: not(\"multiple\"),\n                actions: [\"selectLastItem\"]\n              }\n            ],\n            \"TRIGGER.ARROW_RIGHT\": [\n              {\n                guard: and(not(\"multiple\"), \"hasSelectedItems\"),\n                actions: [\"selectNextItem\"]\n              },\n              {\n                guard: not(\"multiple\"),\n                actions: [\"selectFirstItem\"]\n              }\n            ],\n            \"TRIGGER.HOME\": {\n              guard: not(\"multiple\"),\n              actions: [\"selectFirstItem\"]\n            },\n            \"TRIGGER.END\": {\n              guard: not(\"multiple\"),\n              actions: [\"selectLastItem\"]\n            },\n            \"TRIGGER.TYPEAHEAD\": {\n              guard: not(\"multiple\"),\n              actions: [\"selectMatchingItem\"]\n            }\n          }\n        },\n        open: {\n          tags: [\"open\"],\n          entry: [\"focusContentEl\"],\n          exit: [\"scrollContentToTop\"],\n          activities: [\"trackDismissableElement\", \"computePlacement\", \"scrollToHighlightedItem\", \"proxyTabFocus\"],\n          on: {\n            CLOSE: {\n              target: \"focused\",\n              actions: [\"clearHighlightedItem\", \"invokeOnClose\"]\n            },\n            \"TRIGGER.CLICK\": {\n              target: \"focused\",\n              actions: [\"clearHighlightedItem\", \"invokeOnClose\"]\n            },\n            \"ITEM.CLICK\": [\n              {\n                guard: \"closeOnSelect\",\n                target: \"focused\",\n                actions: [\"selectHighlightedItem\", \"clearHighlightedItem\", \"invokeOnClose\"]\n              },\n              {\n                guard: \"multiple\",\n                actions: [\"selectHighlightedItem\"]\n              },\n              {\n                actions: [\"selectHighlightedItem\", \"clearHighlightedItem\"]\n              }\n            ],\n            \"CONTENT.ENTER\": [\n              {\n                guard: \"closeOnSelect\",\n                target: \"focused\",\n                actions: [\"selectHighlightedItem\", \"clearHighlightedItem\", \"invokeOnClose\"]\n              },\n              {\n                guard: \"multiple\",\n                actions: [\"selectHighlightedItem\"]\n              },\n              {\n                actions: [\"selectHighlightedItem\", \"clearHighlightedItem\"]\n              }\n            ],\n            \"CONTENT.INTERACT_OUTSIDE\": [\n              {\n                guard: and(\"selectOnBlur\", \"hasHighlightedItem\"),\n                target: \"idle\",\n                actions: [\"selectHighlightedItem\", \"invokeOnClose\", \"clearHighlightedItem\"]\n              },\n              {\n                guard: \"isTargetFocusable\",\n                target: \"idle\",\n                actions: [\"clearHighlightedItem\", \"invokeOnClose\"]\n              },\n              {\n                target: \"focused\",\n                actions: [\"clearHighlightedItem\", \"invokeOnClose\"]\n              }\n            ],\n            \"CONTENT.HOME\": {\n              actions: [\"highlightFirstItem\"]\n            },\n            \"CONTENT.END\": {\n              actions: [\"highlightLastItem\"]\n            },\n            \"CONTENT.ARROW_DOWN\": [\n              {\n                guard: and(\"hasHighlightedItem\", \"loop\", \"isLastItemHighlighted\"),\n                actions: [\"highlightFirstItem\"]\n              },\n              {\n                guard: \"hasHighlightedItem\",\n                actions: [\"highlightNextItem\"]\n              },\n              {\n                actions: [\"highlightFirstItem\"]\n              }\n            ],\n            \"CONTENT.ARROW_UP\": [\n              {\n                guard: and(\"hasHighlightedItem\", \"loop\", \"isFirstItemHighlighted\"),\n                actions: [\"highlightLastItem\"]\n              },\n              {\n                guard: \"hasHighlightedItem\",\n                actions: [\"highlightPreviousItem\"]\n              },\n              {\n                actions: [\"highlightLastItem\"]\n              }\n            ],\n            \"CONTENT.TYPEAHEAD\": {\n              actions: [\"highlightMatchingItem\"]\n            },\n            \"ITEM.POINTER_MOVE\": {\n              actions: [\"highlightItem\"]\n            },\n            \"ITEM.POINTER_LEAVE\": {\n              actions: [\"clearHighlightedItem\"]\n            }\n          }\n        }\n      }\n    },\n    {\n      guards: {\n        loop: (ctx2) => !!ctx2.loop,\n        multiple: (ctx2) => !!ctx2.multiple,\n        hasSelectedItems: (ctx2) => ctx2.hasSelectedItems,\n        hasHighlightedItem: (ctx2) => ctx2.highlightedValue != null,\n        isFirstItemHighlighted: (ctx2) => ctx2.highlightedValue === ctx2.collection.first(),\n        isLastItemHighlighted: (ctx2) => ctx2.highlightedValue === ctx2.collection.last(),\n        selectOnBlur: (ctx2) => !!ctx2.selectOnBlur,\n        closeOnSelect: (ctx2, evt) => {\n          if (ctx2.multiple)\n            return false;\n          return !!(evt.closeOnSelect ?? ctx2.closeOnSelect);\n        },\n        isTargetFocusable: (_ctx, evt) => !!evt.focusable\n      },\n      activities: {\n        proxyTabFocus(ctx2) {\n          const contentEl = () => dom.getContentEl(ctx2);\n          return (0,_zag_js_tabbable__WEBPACK_IMPORTED_MODULE_9__.proxyTabFocus)(contentEl, {\n            defer: true,\n            triggerElement: dom.getTriggerEl(ctx2),\n            onFocus(el) {\n              (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.raf)(() => el.focus({ preventScroll: true }));\n            }\n          });\n        },\n        trackFormControlState(ctx2, _evt, { initialContext }) {\n          return (0,_zag_js_form_utils__WEBPACK_IMPORTED_MODULE_10__.trackFormControl)(dom.getHiddenSelectEl(ctx2), {\n            onFieldsetDisabledChange(disabled) {\n              ctx2.fieldsetDisabled = disabled;\n            },\n            onFormReset() {\n              set.selectedItems(ctx2, initialContext.value);\n            }\n          });\n        },\n        trackDismissableElement(ctx2, _evt, { send }) {\n          let focusable = false;\n          const contentEl = () => dom.getContentEl(ctx2);\n          return (0,_zag_js_dismissable__WEBPACK_IMPORTED_MODULE_11__.trackDismissableElement)(contentEl, {\n            defer: true,\n            exclude: [dom.getTriggerEl(ctx2), dom.getClearTriggerEl(ctx2)],\n            onFocusOutside: ctx2.onFocusOutside,\n            onPointerDownOutside: ctx2.onPointerDownOutside,\n            onInteractOutside(event) {\n              focusable = event.detail.focusable;\n              ctx2.onInteractOutside?.(event);\n            },\n            onDismiss() {\n              send({ type: \"CONTENT.INTERACT_OUTSIDE\", focusable });\n            }\n          });\n        },\n        computePlacement(ctx2) {\n          ctx2.currentPlacement = ctx2.positioning.placement;\n          const triggerEl = () => dom.getTriggerEl(ctx2);\n          const positionerEl = () => dom.getPositionerEl(ctx2);\n          return (0,_zag_js_popper__WEBPACK_IMPORTED_MODULE_4__.getPlacement)(triggerEl, positionerEl, {\n            defer: true,\n            ...ctx2.positioning,\n            onComplete(data) {\n              ctx2.currentPlacement = data.placement;\n            }\n          });\n        },\n        scrollToHighlightedItem(ctx2, _evt, { getState }) {\n          const exec = () => {\n            const state = getState();\n            if (state.event.type.startsWith(\"ITEM.POINTER\"))\n              return;\n            const optionEl = dom.getHighlightedOptionEl(ctx2);\n            optionEl?.scrollIntoView({ block: \"nearest\" });\n          };\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.raf)(() => exec());\n          return (0,_zag_js_mutation_observer__WEBPACK_IMPORTED_MODULE_12__.observeAttributes)(dom.getContentEl(ctx2), [\"aria-activedescendant\"], exec);\n        }\n      },\n      actions: {\n        reposition(ctx2, evt) {\n          const positionerEl = () => dom.getPositionerEl(ctx2);\n          (0,_zag_js_popper__WEBPACK_IMPORTED_MODULE_4__.getPlacement)(dom.getTriggerEl(ctx2), positionerEl, {\n            ...ctx2.positioning,\n            ...evt.options,\n            defer: true,\n            listeners: false,\n            onComplete(data) {\n              ctx2.currentPlacement = data.placement;\n            }\n          });\n        },\n        toggleVisibility(ctx2, _evt, { send }) {\n          send({ type: ctx2.open ? \"OPEN\" : \"CLOSE\", src: \"controlled\" });\n        },\n        highlightPreviousItem(ctx2) {\n          if (ctx2.highlightedValue == null)\n            return;\n          const value = ctx2.collection.prev(ctx2.highlightedValue);\n          set.highlightedItem(ctx2, value);\n        },\n        highlightNextItem(ctx2) {\n          if (ctx2.highlightedValue == null)\n            return;\n          const value = ctx2.collection.next(ctx2.highlightedValue);\n          set.highlightedItem(ctx2, value);\n        },\n        highlightFirstItem(ctx2) {\n          const value = ctx2.collection.first();\n          set.highlightedItem(ctx2, value);\n        },\n        highlightLastItem(ctx2) {\n          const value = ctx2.collection.last();\n          set.highlightedItem(ctx2, value);\n        },\n        focusContentEl(ctx2) {\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.raf)(() => {\n            dom.getContentEl(ctx2)?.focus({ preventScroll: true });\n          });\n        },\n        focusTriggerEl(ctx2) {\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_3__.raf)(() => {\n            dom.getTriggerEl(ctx2)?.focus({ preventScroll: true });\n          });\n        },\n        selectHighlightedItem(ctx2, evt) {\n          const value = evt.value ?? ctx2.highlightedValue;\n          if (value == null)\n            return;\n          set.selectedItem(ctx2, value);\n        },\n        highlightFirstSelectedItem(ctx2) {\n          if (!ctx2.hasSelectedItems)\n            return;\n          const [value] = ctx2.collection.sort(ctx2.value);\n          set.highlightedItem(ctx2, value);\n        },\n        highlightItem(ctx2, evt) {\n          set.highlightedItem(ctx2, evt.value);\n        },\n        highlightMatchingItem(ctx2, evt) {\n          const value = ctx2.collection.search(evt.key, {\n            state: ctx2.typeahead,\n            currentValue: ctx2.highlightedValue\n          });\n          if (value == null)\n            return;\n          set.highlightedItem(ctx2, value);\n        },\n        setHighlightedItem(ctx2, evt) {\n          set.highlightedItem(ctx2, evt.value);\n        },\n        clearHighlightedItem(ctx2) {\n          set.highlightedItem(ctx2, null, true);\n        },\n        selectItem(ctx2, evt) {\n          set.selectedItem(ctx2, evt.value);\n        },\n        clearItem(ctx2, evt) {\n          const value = ctx2.value.filter((v) => v !== evt.value);\n          set.selectedItems(ctx2, value);\n        },\n        setSelectedItems(ctx2, evt) {\n          set.selectedItems(ctx2, evt.value);\n        },\n        clearSelectedItems(ctx2) {\n          set.selectedItems(ctx2, []);\n        },\n        selectPreviousItem(ctx2) {\n          const value = ctx2.collection.prev(ctx2.value[0]);\n          set.selectedItem(ctx2, value);\n        },\n        selectNextItem(ctx2) {\n          const value = ctx2.collection.next(ctx2.value[0]);\n          set.selectedItem(ctx2, value);\n        },\n        selectFirstItem(ctx2) {\n          const value = ctx2.collection.first();\n          set.selectedItem(ctx2, value);\n        },\n        selectLastItem(ctx2) {\n          const value = ctx2.collection.last();\n          set.selectedItem(ctx2, value);\n        },\n        selectMatchingItem(ctx2, evt) {\n          const value = ctx2.collection.search(evt.key, {\n            state: ctx2.typeahead,\n            currentValue: ctx2.value[0]\n          });\n          if (value == null)\n            return;\n          set.selectedItem(ctx2, value);\n        },\n        scrollContentToTop(ctx2) {\n          dom.getContentEl(ctx2)?.scrollTo(0, 0);\n        },\n        invokeOnOpen(ctx2) {\n          ctx2.onOpenChange?.({ open: true });\n        },\n        invokeOnClose(ctx2) {\n          ctx2.onOpenChange?.({ open: false });\n        },\n        syncSelectElement(ctx2) {\n          const selectEl = dom.getHiddenSelectEl(ctx2);\n          if (!selectEl)\n            return;\n          (0,_zag_js_form_utils__WEBPACK_IMPORTED_MODULE_10__.setElementValue)(selectEl, ctx2.value.join(\",\"), { type: \"HTMLSelectElement\" });\n        },\n        setCollection(ctx2, evt) {\n          ctx2.collection = evt.value;\n        }\n      }\n    }\n  );\n}\nfunction dispatchChangeEvent(ctx) {\n  const node = dom.getHiddenSelectEl(ctx);\n  if (!node)\n    return;\n  const win = dom.getWin(ctx);\n  const changeEvent = new win.Event(\"change\", { bubbles: true });\n  node.dispatchEvent(changeEvent);\n}\nvar invoke = {\n  change: (ctx) => {\n    ctx.onValueChange?.({\n      value: Array.from(ctx.value),\n      items: ctx.selectedItems\n    });\n    dispatchChangeEvent(ctx);\n  },\n  highlightChange: (ctx) => {\n    ctx.onHighlightChange?.({\n      highlightedValue: ctx.highlightedValue,\n      highlightedItem: ctx.highlightedItem\n    });\n  }\n};\nvar set = {\n  selectedItem: (ctx, value, force = false) => {\n    if ((0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_8__.isEqual)(ctx.value, value))\n      return;\n    if (value == null && !force)\n      return;\n    if (value == null && force) {\n      ctx.value = [];\n      invoke.change(ctx);\n      return;\n    }\n    const nextValue = ctx.multiple ? (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_8__.addOrRemove)(ctx.value, value) : [value];\n    ctx.value = nextValue;\n    invoke.change(ctx);\n  },\n  selectedItems: (ctx, value) => {\n    if ((0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_8__.isEqual)(ctx.value, value))\n      return;\n    ctx.value = value;\n    invoke.change(ctx);\n  },\n  highlightedItem: (ctx, value, force = false) => {\n    if ((0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_8__.isEqual)(ctx.highlightedValue, value))\n      return;\n    if (value == null && !force)\n      return;\n    ctx.highlightedValue = value ?? null;\n    invoke.highlightChange(ctx);\n  }\n};\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9zZWxlY3QvZGlzdC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNnRDtBQUNoRCxjQUFjLDhEQUFhO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNnRDtBQUNiO0FBQ25DO0FBQ0EsU0FBUyxpREFBRyxLQUFLLDBEQUFVO0FBQzNCO0FBQ0E7QUFDQSxTQUFTLGlEQUFHLEtBQUssMERBQVUsR0FBRyxXQUFXO0FBQ3pDOztBQUVBO0FBQ2dEO0FBQ3VEO0FBQ25EO0FBQ1U7O0FBRTlEO0FBQ2dEO0FBQ2hELFVBQVUsOERBQVc7QUFDckIsaURBQWlELE9BQU87QUFDeEQsdURBQXVELE9BQU87QUFDOUQsdURBQXVELE9BQU87QUFDOUQsaUVBQWlFLE9BQU87QUFDeEUsbURBQW1ELE9BQU87QUFDMUQsdURBQXVELE9BQU87QUFDOUQsMkRBQTJELE9BQU8sVUFBVSxHQUFHO0FBQy9FLGlFQUFpRSxPQUFPO0FBQ3hFLDZEQUE2RCxPQUFPO0FBQ3BFLHFFQUFxRSxPQUFPLFlBQVksR0FBRztBQUMzRiwrRUFBK0UsT0FBTyxrQkFBa0IsR0FBRztBQUMzRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLE9BQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGtFQUFrQjtBQUN6QztBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDRDQUE0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cy9AemFnLWpzL3NlbGVjdC9kaXN0L2luZGV4Lm1qcz9kYjU4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9zZWxlY3QuYW5hdG9teS50c1xuaW1wb3J0IHsgY3JlYXRlQW5hdG9teSB9IGZyb20gXCJAemFnLWpzL2FuYXRvbXlcIjtcbnZhciBhbmF0b215ID0gY3JlYXRlQW5hdG9teShcInNlbGVjdFwiKS5wYXJ0cyhcbiAgXCJsYWJlbFwiLFxuICBcInBvc2l0aW9uZXJcIixcbiAgXCJ0cmlnZ2VyXCIsXG4gIFwiaW5kaWNhdG9yXCIsXG4gIFwiY2xlYXJUcmlnZ2VyXCIsXG4gIFwiaXRlbVwiLFxuICBcIml0ZW1UZXh0XCIsXG4gIFwiaXRlbUluZGljYXRvclwiLFxuICBcIml0ZW1Hcm91cFwiLFxuICBcIml0ZW1Hcm91cExhYmVsXCIsXG4gIFwiY29udGVudFwiLFxuICBcInJvb3RcIixcbiAgXCJjb250cm9sXCJcbik7XG52YXIgcGFydHMgPSBhbmF0b215LmJ1aWxkKCk7XG5cbi8vIHNyYy9zZWxlY3QuY29sbGVjdGlvbi50c1xuaW1wb3J0IHsgQ29sbGVjdGlvbiB9IGZyb20gXCJAemFnLWpzL2NvbGxlY3Rpb25cIjtcbmltcG9ydCB7IHJlZiB9IGZyb20gXCJAemFnLWpzL2NvcmVcIjtcbnZhciBjb2xsZWN0aW9uID0gKG9wdGlvbnMpID0+IHtcbiAgcmV0dXJuIHJlZihuZXcgQ29sbGVjdGlvbihvcHRpb25zKSk7XG59O1xuY29sbGVjdGlvbi5lbXB0eSA9ICgpID0+IHtcbiAgcmV0dXJuIHJlZihuZXcgQ29sbGVjdGlvbih7IGl0ZW1zOiBbXSB9KSk7XG59O1xuXG4vLyBzcmMvc2VsZWN0LmNvbm5lY3QudHNcbmltcG9ydCB7IGdldEV2ZW50S2V5IH0gZnJvbSBcIkB6YWctanMvZG9tLWV2ZW50XCI7XG5pbXBvcnQgeyBhcmlhQXR0ciwgZGF0YUF0dHIsIGdldEJ5VHlwZWFoZWFkLCBpc0VkaXRhYmxlRWxlbWVudCwgaXNTZWxmRXZlbnQgfSBmcm9tIFwiQHphZy1qcy9kb20tcXVlcnlcIjtcbmltcG9ydCB7IGdldFBsYWNlbWVudFN0eWxlcyB9IGZyb20gXCJAemFnLWpzL3BvcHBlclwiO1xuaW1wb3J0IHsgdmlzdWFsbHlIaWRkZW5TdHlsZSB9IGZyb20gXCJAemFnLWpzL3Zpc3VhbGx5LWhpZGRlblwiO1xuXG4vLyBzcmMvc2VsZWN0LmRvbS50c1xuaW1wb3J0IHsgY3JlYXRlU2NvcGUgfSBmcm9tIFwiQHphZy1qcy9kb20tcXVlcnlcIjtcbnZhciBkb20gPSBjcmVhdGVTY29wZSh7XG4gIGdldFJvb3RJZDogKGN0eCkgPT4gY3R4Lmlkcz8ucm9vdCA/PyBgc2VsZWN0OiR7Y3R4LmlkfWAsXG4gIGdldENvbnRlbnRJZDogKGN0eCkgPT4gY3R4Lmlkcz8uY29udGVudCA/PyBgc2VsZWN0OiR7Y3R4LmlkfTpjb250ZW50YCxcbiAgZ2V0VHJpZ2dlcklkOiAoY3R4KSA9PiBjdHguaWRzPy50cmlnZ2VyID8/IGBzZWxlY3Q6JHtjdHguaWR9OnRyaWdnZXJgLFxuICBnZXRDbGVhclRyaWdnZXJJZDogKGN0eCkgPT4gY3R4Lmlkcz8uY2xlYXJUcmlnZ2VyID8/IGBzZWxlY3Q6JHtjdHguaWR9OmNsZWFyLXRyaWdnZXJgLFxuICBnZXRMYWJlbElkOiAoY3R4KSA9PiBjdHguaWRzPy5sYWJlbCA/PyBgc2VsZWN0OiR7Y3R4LmlkfTpsYWJlbGAsXG4gIGdldENvbnRyb2xJZDogKGN0eCkgPT4gY3R4Lmlkcz8uY29udHJvbCA/PyBgc2VsZWN0OiR7Y3R4LmlkfTpjb250cm9sYCxcbiAgZ2V0SXRlbUlkOiAoY3R4LCBpZCkgPT4gY3R4Lmlkcz8uaXRlbT8uKGlkKSA/PyBgc2VsZWN0OiR7Y3R4LmlkfTpvcHRpb246JHtpZH1gLFxuICBnZXRIaWRkZW5TZWxlY3RJZDogKGN0eCkgPT4gY3R4Lmlkcz8uaGlkZGVuU2VsZWN0ID8/IGBzZWxlY3Q6JHtjdHguaWR9OnNlbGVjdGAsXG4gIGdldFBvc2l0aW9uZXJJZDogKGN0eCkgPT4gY3R4Lmlkcz8ucG9zaXRpb25lciA/PyBgc2VsZWN0OiR7Y3R4LmlkfTpwb3NpdGlvbmVyYCxcbiAgZ2V0SXRlbUdyb3VwSWQ6IChjdHgsIGlkKSA9PiBjdHguaWRzPy5pdGVtR3JvdXA/LihpZCkgPz8gYHNlbGVjdDoke2N0eC5pZH06b3B0Z3JvdXA6JHtpZH1gLFxuICBnZXRJdGVtR3JvdXBMYWJlbElkOiAoY3R4LCBpZCkgPT4gY3R4Lmlkcz8uaXRlbUdyb3VwTGFiZWw/LihpZCkgPz8gYHNlbGVjdDoke2N0eC5pZH06b3B0Z3JvdXAtbGFiZWw6JHtpZH1gLFxuICBnZXRIaWRkZW5TZWxlY3RFbDogKGN0eCkgPT4gZG9tLmdldEJ5SWQoY3R4LCBkb20uZ2V0SGlkZGVuU2VsZWN0SWQoY3R4KSksXG4gIGdldENvbnRlbnRFbDogKGN0eCkgPT4gZG9tLmdldEJ5SWQoY3R4LCBkb20uZ2V0Q29udGVudElkKGN0eCkpLFxuICBnZXRDb250cm9sRWw6IChjdHgpID0+IGRvbS5nZXRCeUlkKGN0eCwgZG9tLmdldENvbnRyb2xJZChjdHgpKSxcbiAgZ2V0VHJpZ2dlckVsOiAoY3R4KSA9PiBkb20uZ2V0QnlJZChjdHgsIGRvbS5nZXRUcmlnZ2VySWQoY3R4KSksXG4gIGdldENsZWFyVHJpZ2dlckVsOiAoY3R4KSA9PiBkb20uZ2V0QnlJZChjdHgsIGRvbS5nZXRDbGVhclRyaWdnZXJJZChjdHgpKSxcbiAgZ2V0UG9zaXRpb25lckVsOiAoY3R4KSA9PiBkb20uZ2V0QnlJZChjdHgsIGRvbS5nZXRQb3NpdGlvbmVySWQoY3R4KSksXG4gIGdldEhpZ2hsaWdodGVkT3B0aW9uRWwoY3R4KSB7XG4gICAgaWYgKCFjdHguaGlnaGxpZ2h0ZWRWYWx1ZSlcbiAgICAgIHJldHVybiBudWxsO1xuICAgIHJldHVybiBkb20uZ2V0QnlJZChjdHgsIGRvbS5nZXRJdGVtSWQoY3R4LCBjdHguaGlnaGxpZ2h0ZWRWYWx1ZSkpO1xuICB9XG59KTtcblxuLy8gc3JjL3NlbGVjdC5jb25uZWN0LnRzXG5mdW5jdGlvbiBjb25uZWN0KHN0YXRlLCBzZW5kLCBub3JtYWxpemUpIHtcbiAgY29uc3QgaXNEaXNhYmxlZCA9IHN0YXRlLmNvbnRleHQuaXNEaXNhYmxlZDtcbiAgY29uc3QgaXNJbnZhbGlkID0gc3RhdGUuY29udGV4dC5pbnZhbGlkO1xuICBjb25zdCBpc1JlYWRPbmx5ID0gc3RhdGUuY29udGV4dC5yZWFkT25seTtcbiAgY29uc3QgaXNJbnRlcmFjdGl2ZSA9IHN0YXRlLmNvbnRleHQuaXNJbnRlcmFjdGl2ZTtcbiAgY29uc3QgaXNPcGVuID0gc3RhdGUuaGFzVGFnKFwib3BlblwiKTtcbiAgY29uc3QgaXNGb2N1c2VkID0gc3RhdGUubWF0Y2hlcyhcImZvY3VzZWRcIik7XG4gIGNvbnN0IGhpZ2hsaWdodGVkSXRlbSA9IHN0YXRlLmNvbnRleHQuaGlnaGxpZ2h0ZWRJdGVtO1xuICBjb25zdCBzZWxlY3RlZEl0ZW1zID0gc3RhdGUuY29udGV4dC5zZWxlY3RlZEl0ZW1zO1xuICBjb25zdCBpc1R5cGluZ0FoZWFkID0gc3RhdGUuY29udGV4dC5pc1R5cGluZ0FoZWFkO1xuICBmdW5jdGlvbiBnZXRJdGVtU3RhdGUocHJvcHMpIHtcbiAgICBjb25zdCB7IGl0ZW0gfSA9IHByb3BzO1xuICAgIGNvbnN0IGRpc2FibGVkID0gc3RhdGUuY29udGV4dC5jb2xsZWN0aW9uLmlzSXRlbURpc2FibGVkKGl0ZW0pO1xuICAgIGNvbnN0IHZhbHVlID0gc3RhdGUuY29udGV4dC5jb2xsZWN0aW9uLml0ZW1Ub1ZhbHVlKGl0ZW0pO1xuICAgIHJldHVybiB7XG4gICAgICB2YWx1ZSxcbiAgICAgIGlzRGlzYWJsZWQ6IEJvb2xlYW4oZGlzYWJsZWQgfHwgaXNEaXNhYmxlZCksXG4gICAgICBpc0hpZ2hsaWdodGVkOiBzdGF0ZS5jb250ZXh0LmhpZ2hsaWdodGVkVmFsdWUgPT09IHZhbHVlLFxuICAgICAgaXNTZWxlY3RlZDogc3RhdGUuY29udGV4dC52YWx1ZS5pbmNsdWRlcyh2YWx1ZSlcbiAgICB9O1xuICB9XG4gIGNvbnN0IHBvcHBlclN0eWxlcyA9IGdldFBsYWNlbWVudFN0eWxlcyh7XG4gICAgLi4uc3RhdGUuY29udGV4dC5wb3NpdGlvbmluZyxcbiAgICBwbGFjZW1lbnQ6IHN0YXRlLmNvbnRleHQuY3VycmVudFBsYWNlbWVudFxuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBpc09wZW4sXG4gICAgaXNGb2N1c2VkLFxuICAgIGhpZ2hsaWdodGVkSXRlbSxcbiAgICBoaWdobGlnaHRlZFZhbHVlOiBzdGF0ZS5jb250ZXh0LmhpZ2hsaWdodGVkVmFsdWUsXG4gICAgc2VsZWN0ZWRJdGVtcyxcbiAgICBoYXNTZWxlY3RlZEl0ZW1zOiBzdGF0ZS5jb250ZXh0Lmhhc1NlbGVjdGVkSXRlbXMsXG4gICAgdmFsdWU6IHN0YXRlLmNvbnRleHQudmFsdWUsXG4gICAgdmFsdWVBc1N0cmluZzogc3RhdGUuY29udGV4dC52YWx1ZUFzU3RyaW5nLFxuICAgIGNvbGxlY3Rpb246IHN0YXRlLmNvbnRleHQuY29sbGVjdGlvbixcbiAgICBzZXRDb2xsZWN0aW9uKGNvbGxlY3Rpb24yKSB7XG4gICAgICBzZW5kKHsgdHlwZTogXCJDT0xMRUNUSU9OLlNFVFwiLCB2YWx1ZTogY29sbGVjdGlvbjIgfSk7XG4gICAgfSxcbiAgICByZXBvc2l0aW9uKG9wdGlvbnMgPSB7fSkge1xuICAgICAgc2VuZCh7IHR5cGU6IFwiUE9TSVRJT05JTkcuU0VUXCIsIG9wdGlvbnMgfSk7XG4gICAgfSxcbiAgICBmb2N1cygpIHtcbiAgICAgIGRvbS5nZXRUcmlnZ2VyRWwoc3RhdGUuY29udGV4dCk/LmZvY3VzKHsgcHJldmVudFNjcm9sbDogdHJ1ZSB9KTtcbiAgICB9LFxuICAgIG9wZW4oKSB7XG4gICAgICBzZW5kKFwiT1BFTlwiKTtcbiAgICB9LFxuICAgIGNsb3NlKCkge1xuICAgICAgc2VuZChcIkNMT1NFXCIpO1xuICAgIH0sXG4gICAgc2VsZWN0VmFsdWUodmFsdWUpIHtcbiAgICAgIHNlbmQoeyB0eXBlOiBcIklURU0uU0VMRUNUXCIsIHZhbHVlIH0pO1xuICAgIH0sXG4gICAgc2V0VmFsdWUodmFsdWUpIHtcbiAgICAgIHNlbmQoeyB0eXBlOiBcIlZBTFVFLlNFVFwiLCB2YWx1ZSB9KTtcbiAgICB9LFxuICAgIGhpZ2hsaWdodFZhbHVlKHZhbHVlKSB7XG4gICAgICBzZW5kKHsgdHlwZTogXCJISUdITElHSFRFRF9WQUxVRS5TRVRcIiwgdmFsdWUgfSk7XG4gICAgfSxcbiAgICBjbGVhclZhbHVlKHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgc2VuZCh7IHR5cGU6IFwiSVRFTS5DTEVBUlwiLCB2YWx1ZSB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbmQoeyB0eXBlOiBcIlZBTFVFLkNMRUFSXCIgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBnZXRJdGVtU3RhdGUsXG4gICAgcm9vdFByb3BzOiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICAuLi5wYXJ0cy5yb290LmF0dHJzLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIGlkOiBkb20uZ2V0Um9vdElkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgXCJkYXRhLWludmFsaWRcIjogZGF0YUF0dHIoaXNJbnZhbGlkKSxcbiAgICAgIFwiZGF0YS1yZWFkb25seVwiOiBkYXRhQXR0cihpc1JlYWRPbmx5KVxuICAgIH0pLFxuICAgIGxhYmVsUHJvcHM6IG5vcm1hbGl6ZS5sYWJlbCh7XG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgaWQ6IGRvbS5nZXRMYWJlbElkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgLi4ucGFydHMubGFiZWwuYXR0cnMsXG4gICAgICBcImRhdGEtZGlzYWJsZWRcIjogZGF0YUF0dHIoaXNEaXNhYmxlZCksXG4gICAgICBcImRhdGEtaW52YWxpZFwiOiBkYXRhQXR0cihpc0ludmFsaWQpLFxuICAgICAgXCJkYXRhLXJlYWRvbmx5XCI6IGRhdGFBdHRyKGlzUmVhZE9ubHkpLFxuICAgICAgaHRtbEZvcjogZG9tLmdldEhpZGRlblNlbGVjdElkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgb25DbGljaygpIHtcbiAgICAgICAgaWYgKGlzRGlzYWJsZWQpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBkb20uZ2V0VHJpZ2dlckVsKHN0YXRlLmNvbnRleHQpPy5mb2N1cyh7IHByZXZlbnRTY3JvbGw6IHRydWUgfSk7XG4gICAgICB9XG4gICAgfSksXG4gICAgY29udHJvbFByb3BzOiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICAuLi5wYXJ0cy5jb250cm9sLmF0dHJzLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIGlkOiBkb20uZ2V0Q29udHJvbElkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgXCJkYXRhLXN0YXRlXCI6IGlzT3BlbiA/IFwib3BlblwiIDogXCJjbG9zZWRcIixcbiAgICAgIFwiZGF0YS1mb2N1c1wiOiBkYXRhQXR0cihpc0ZvY3VzZWQpLFxuICAgICAgXCJkYXRhLWRpc2FibGVkXCI6IGRhdGFBdHRyKGlzRGlzYWJsZWQpLFxuICAgICAgXCJkYXRhLWludmFsaWRcIjogZGF0YUF0dHIoaXNJbnZhbGlkKVxuICAgIH0pLFxuICAgIHRyaWdnZXJQcm9wczogbm9ybWFsaXplLmJ1dHRvbih7XG4gICAgICBpZDogZG9tLmdldFRyaWdnZXJJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIGRpc2FibGVkOiBpc0Rpc2FibGVkLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICBcImFyaWEtY29udHJvbHNcIjogZG9tLmdldENvbnRlbnRJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIFwiYXJpYS1leHBhbmRlZFwiOiBpc09wZW4sXG4gICAgICBcImRhdGEtc3RhdGVcIjogaXNPcGVuID8gXCJvcGVuXCIgOiBcImNsb3NlZFwiLFxuICAgICAgXCJhcmlhLWhhc3BvcHVwXCI6IFwibGlzdGJveFwiLFxuICAgICAgXCJhcmlhLWxhYmVsbGVkYnlcIjogZG9tLmdldExhYmVsSWQoc3RhdGUuY29udGV4dCksXG4gICAgICAuLi5wYXJ0cy50cmlnZ2VyLmF0dHJzLFxuICAgICAgXCJkYXRhLWRpc2FibGVkXCI6IGRhdGFBdHRyKGlzRGlzYWJsZWQpLFxuICAgICAgXCJkYXRhLWludmFsaWRcIjogZGF0YUF0dHIoaXNJbnZhbGlkKSxcbiAgICAgIFwiYXJpYS1pbnZhbGlkXCI6IGlzSW52YWxpZCxcbiAgICAgIFwiZGF0YS1yZWFkb25seVwiOiBkYXRhQXR0cihpc1JlYWRPbmx5KSxcbiAgICAgIFwiZGF0YS1wbGFjZW1lbnRcIjogc3RhdGUuY29udGV4dC5jdXJyZW50UGxhY2VtZW50LFxuICAgICAgXCJkYXRhLXBsYWNlaG9sZGVyLXNob3duXCI6IGRhdGFBdHRyKCFzdGF0ZS5jb250ZXh0Lmhhc1NlbGVjdGVkSXRlbXMpLFxuICAgICAgb25Qb2ludGVyRG93bihldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQuYnV0dG9uIHx8IGV2ZW50LmN0cmxLZXkgfHwgIWlzSW50ZXJhY3RpdmUpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQucG9pbnRlclR5cGUgPSBldmVudC5wb2ludGVyVHlwZTtcbiAgICAgICAgaWYgKGlzRGlzYWJsZWQgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09IFwidG91Y2hcIilcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIHNlbmQoeyB0eXBlOiBcIlRSSUdHRVIuQ0xJQ0tcIiB9KTtcbiAgICAgIH0sXG4gICAgICBvbkNsaWNrKGV2ZW50KSB7XG4gICAgICAgIGlmICghaXNJbnRlcmFjdGl2ZSB8fCBldmVudC5idXR0b24pXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnBvaW50ZXJUeXBlID09PSBcInRvdWNoXCIpIHtcbiAgICAgICAgICBzZW5kKHsgdHlwZTogXCJUUklHR0VSLkNMSUNLXCIgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvbkZvY3VzKCkge1xuICAgICAgICBzZW5kKFwiVFJJR0dFUi5GT0NVU1wiKTtcbiAgICAgIH0sXG4gICAgICBvbkJsdXIoKSB7XG4gICAgICAgIHNlbmQoXCJUUklHR0VSLkJMVVJcIik7XG4gICAgICB9LFxuICAgICAgb25LZXlEb3duKGV2ZW50KSB7XG4gICAgICAgIGlmICghaXNJbnRlcmFjdGl2ZSlcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGtleU1hcCA9IHtcbiAgICAgICAgICBBcnJvd1VwKCkge1xuICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwiVFJJR0dFUi5BUlJPV19VUFwiIH0pO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgQXJyb3dEb3duKGV2ZW50Mikge1xuICAgICAgICAgICAgc2VuZCh7IHR5cGU6IGV2ZW50Mi5hbHRLZXkgPyBcIk9QRU5cIiA6IFwiVFJJR0dFUi5BUlJPV19ET1dOXCIgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBBcnJvd0xlZnQoKSB7XG4gICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJUUklHR0VSLkFSUk9XX0xFRlRcIiB9KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIEFycm93UmlnaHQoKSB7XG4gICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJUUklHR0VSLkFSUk9XX1JJR0hUXCIgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBIb21lKCkge1xuICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwiVFJJR0dFUi5IT01FXCIgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBFbmQoKSB7XG4gICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJUUklHR0VSLkVORFwiIH0pO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgRW50ZXIoKSB7XG4gICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJUUklHR0VSLkVOVEVSXCIgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBTcGFjZShldmVudDIpIHtcbiAgICAgICAgICAgIGlmIChpc1R5cGluZ0FoZWFkKSB7XG4gICAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIlRSSUdHRVIuVFlQRUFIRUFEXCIsIGtleTogZXZlbnQyLmtleSB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIlRSSUdHRVIuRU5URVJcIiB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGV4ZWMgPSBrZXlNYXBbZ2V0RXZlbnRLZXkoZXZlbnQsIHN0YXRlLmNvbnRleHQpXTtcbiAgICAgICAgaWYgKGV4ZWMpIHtcbiAgICAgICAgICBleGVjKGV2ZW50KTtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2V0QnlUeXBlYWhlYWQuaXNWYWxpZEV2ZW50KGV2ZW50KSkge1xuICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIlRSSUdHRVIuVFlQRUFIRUFEXCIsIGtleTogZXZlbnQua2V5IH0pO1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSxcbiAgICBpbmRpY2F0b3JQcm9wczogbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgLi4ucGFydHMuaW5kaWNhdG9yLmF0dHJzLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIFwiYXJpYS1oaWRkZW5cIjogdHJ1ZSxcbiAgICAgIFwiZGF0YS1zdGF0ZVwiOiBpc09wZW4gPyBcIm9wZW5cIiA6IFwiY2xvc2VkXCJcbiAgICB9KSxcbiAgICBnZXRJdGVtUHJvcHMocHJvcHMpIHtcbiAgICAgIGNvbnN0IGl0ZW1TdGF0ZSA9IGdldEl0ZW1TdGF0ZShwcm9wcyk7XG4gICAgICByZXR1cm4gbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgICBpZDogZG9tLmdldEl0ZW1JZChzdGF0ZS5jb250ZXh0LCBpdGVtU3RhdGUudmFsdWUpLFxuICAgICAgICByb2xlOiBcIm9wdGlvblwiLFxuICAgICAgICAuLi5wYXJ0cy5pdGVtLmF0dHJzLFxuICAgICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgICBcImRhdGEtdmFsdWVcIjogaXRlbVN0YXRlLnZhbHVlLFxuICAgICAgICBcImFyaWEtc2VsZWN0ZWRcIjogaXRlbVN0YXRlLmlzU2VsZWN0ZWQsXG4gICAgICAgIFwiZGF0YS1zdGF0ZVwiOiBpdGVtU3RhdGUuaXNTZWxlY3RlZCA/IFwiY2hlY2tlZFwiIDogXCJ1bmNoZWNrZWRcIixcbiAgICAgICAgXCJkYXRhLWhpZ2hsaWdodGVkXCI6IGRhdGFBdHRyKGl0ZW1TdGF0ZS5pc0hpZ2hsaWdodGVkKSxcbiAgICAgICAgXCJkYXRhLWRpc2FibGVkXCI6IGRhdGFBdHRyKGl0ZW1TdGF0ZS5pc0Rpc2FibGVkKSxcbiAgICAgICAgXCJhcmlhLWRpc2FibGVkXCI6IGFyaWFBdHRyKGl0ZW1TdGF0ZS5pc0Rpc2FibGVkKSxcbiAgICAgICAgb25Qb2ludGVyTW92ZShldmVudCkge1xuICAgICAgICAgIGlmIChpdGVtU3RhdGUuaXNEaXNhYmxlZCB8fCBldmVudC5wb2ludGVyVHlwZSAhPT0gXCJtb3VzZVwiKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGlmIChpdGVtU3RhdGUudmFsdWUgPT09IHN0YXRlLmNvbnRleHQuaGlnaGxpZ2h0ZWRWYWx1ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBzZW5kKHsgdHlwZTogXCJJVEVNLlBPSU5URVJfTU9WRVwiLCB2YWx1ZTogaXRlbVN0YXRlLnZhbHVlIH0pO1xuICAgICAgICB9LFxuICAgICAgICBvblBvaW50ZXJVcCgpIHtcbiAgICAgICAgICBpZiAoaXRlbVN0YXRlLmlzRGlzYWJsZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgc2VuZCh7IHR5cGU6IFwiSVRFTS5DTElDS1wiLCBzcmM6IFwicG9pbnRlcnVwXCIsIHZhbHVlOiBpdGVtU3RhdGUudmFsdWUgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uUG9pbnRlckxlYXZlKGV2ZW50KSB7XG4gICAgICAgICAgY29uc3QgaXNLZXlib2FyZE5hdmlnYXRpb25FdmVudCA9IFtcIkNPTlRFTlQuQVJST1dfVVBcIiwgXCJDT05URU5ULkFSUk9XX0RPV05cIl0uaW5jbHVkZXMoc3RhdGUuZXZlbnQudHlwZSk7XG4gICAgICAgICAgaWYgKGl0ZW1TdGF0ZS5pc0Rpc2FibGVkIHx8IGV2ZW50LnBvaW50ZXJUeXBlICE9PSBcIm1vdXNlXCIgfHwgaXNLZXlib2FyZE5hdmlnYXRpb25FdmVudClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBzZW5kKHsgdHlwZTogXCJJVEVNLlBPSU5URVJfTEVBVkVcIiB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZXRJdGVtVGV4dFByb3BzKHByb3BzKSB7XG4gICAgICBjb25zdCBpdGVtU3RhdGUgPSBnZXRJdGVtU3RhdGUocHJvcHMpO1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgICAgLi4ucGFydHMuaXRlbVRleHQuYXR0cnMsXG4gICAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihpdGVtU3RhdGUuaXNEaXNhYmxlZCksXG4gICAgICAgIFwiZGF0YS1oaWdobGlnaHRlZFwiOiBkYXRhQXR0cihpdGVtU3RhdGUuaXNIaWdobGlnaHRlZClcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0SXRlbUluZGljYXRvclByb3BzKHByb3BzKSB7XG4gICAgICBjb25zdCBpdGVtU3RhdGUgPSBnZXRJdGVtU3RhdGUocHJvcHMpO1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgICAgXCJhcmlhLWhpZGRlblwiOiB0cnVlLFxuICAgICAgICAuLi5wYXJ0cy5pdGVtSW5kaWNhdG9yLmF0dHJzLFxuICAgICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgICBcImRhdGEtc3RhdGVcIjogaXRlbVN0YXRlLmlzU2VsZWN0ZWQgPyBcImNoZWNrZWRcIiA6IFwidW5jaGVja2VkXCIsXG4gICAgICAgIGhpZGRlbjogIWl0ZW1TdGF0ZS5pc1NlbGVjdGVkXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdldEl0ZW1Hcm91cExhYmVsUHJvcHMocHJvcHMpIHtcbiAgICAgIGNvbnN0IHsgaHRtbEZvciB9ID0gcHJvcHM7XG4gICAgICByZXR1cm4gbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgICAuLi5wYXJ0cy5pdGVtR3JvdXBMYWJlbC5hdHRycyxcbiAgICAgICAgaWQ6IGRvbS5nZXRJdGVtR3JvdXBJZChzdGF0ZS5jb250ZXh0LCBodG1sRm9yKSxcbiAgICAgICAgcm9sZTogXCJncm91cFwiLFxuICAgICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdldEl0ZW1Hcm91cFByb3BzKHByb3BzKSB7XG4gICAgICBjb25zdCB7IGlkIH0gPSBwcm9wcztcbiAgICAgIHJldHVybiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICAgIC4uLnBhcnRzLml0ZW1Hcm91cC5hdHRycyxcbiAgICAgICAgXCJkYXRhLWRpc2FibGVkXCI6IGRhdGFBdHRyKGlzRGlzYWJsZWQpLFxuICAgICAgICBpZDogZG9tLmdldEl0ZW1Hcm91cElkKHN0YXRlLmNvbnRleHQsIGlkKSxcbiAgICAgICAgXCJhcmlhLWxhYmVsbGVkYnlcIjogZG9tLmdldEl0ZW1Hcm91cExhYmVsSWQoc3RhdGUuY29udGV4dCwgaWQpLFxuICAgICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGNsZWFyVHJpZ2dlclByb3BzOiBub3JtYWxpemUuYnV0dG9uKHtcbiAgICAgIC4uLnBhcnRzLmNsZWFyVHJpZ2dlci5hdHRycyxcbiAgICAgIGlkOiBkb20uZ2V0Q2xlYXJUcmlnZ2VySWQoc3RhdGUuY29udGV4dCksXG4gICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgXCJhcmlhLWxhYmVsXCI6IFwiQ2xlYXIgdmFsdWVcIixcbiAgICAgIGhpZGRlbjogIXN0YXRlLmNvbnRleHQuaGFzU2VsZWN0ZWRJdGVtcyxcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICBvbkNsaWNrKCkge1xuICAgICAgICBzZW5kKFwiVkFMVUUuQ0xFQVJcIik7XG4gICAgICB9XG4gICAgfSksXG4gICAgaGlkZGVuU2VsZWN0UHJvcHM6IG5vcm1hbGl6ZS5zZWxlY3Qoe1xuICAgICAgbmFtZTogc3RhdGUuY29udGV4dC5uYW1lLFxuICAgICAgZm9ybTogc3RhdGUuY29udGV4dC5mb3JtLFxuICAgICAgZGlzYWJsZWQ6ICFpc0ludGVyYWN0aXZlLFxuICAgICAgbXVsdGlwbGU6IHN0YXRlLmNvbnRleHQubXVsdGlwbGUsXG4gICAgICBcImFyaWEtaGlkZGVuXCI6IHRydWUsXG4gICAgICBpZDogZG9tLmdldEhpZGRlblNlbGVjdElkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgLy8gZGVmYXVsdFZhbHVlOiBzdGF0ZS5jb250ZXh0LnNlbGVjdGVkT3B0aW9uPy52YWx1ZSxcbiAgICAgIHN0eWxlOiB2aXN1YWxseUhpZGRlblN0eWxlLFxuICAgICAgdGFiSW5kZXg6IC0xLFxuICAgICAgLy8gU29tZSBicm93c2VyIGV4dGVuc2lvbnMgd2lsbCBmb2N1cyB0aGUgaGlkZGVuIHNlbGVjdC5cbiAgICAgIC8vIExldCdzIGZvcndhcmQgdGhlIGZvY3VzIHRvIHRoZSB0cmlnZ2VyLlxuICAgICAgb25Gb2N1cygpIHtcbiAgICAgICAgZG9tLmdldFRyaWdnZXJFbChzdGF0ZS5jb250ZXh0KT8uZm9jdXMoeyBwcmV2ZW50U2Nyb2xsOiB0cnVlIH0pO1xuICAgICAgfSxcbiAgICAgIFwiYXJpYS1sYWJlbGxlZGJ5XCI6IGRvbS5nZXRMYWJlbElkKHN0YXRlLmNvbnRleHQpXG4gICAgfSksXG4gICAgcG9zaXRpb25lclByb3BzOiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICAuLi5wYXJ0cy5wb3NpdGlvbmVyLmF0dHJzLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIGlkOiBkb20uZ2V0UG9zaXRpb25lcklkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgc3R5bGU6IHBvcHBlclN0eWxlcy5mbG9hdGluZ1xuICAgIH0pLFxuICAgIGNvbnRlbnRQcm9wczogbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgaGlkZGVuOiAhaXNPcGVuLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIGlkOiBkb20uZ2V0Q29udGVudElkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgcm9sZTogXCJsaXN0Ym94XCIsXG4gICAgICAuLi5wYXJ0cy5jb250ZW50LmF0dHJzLFxuICAgICAgXCJkYXRhLXN0YXRlXCI6IGlzT3BlbiA/IFwib3BlblwiIDogXCJjbG9zZWRcIixcbiAgICAgIFwiYXJpYS1hY3RpdmVkZXNjZW5kYW50XCI6IHN0YXRlLmNvbnRleHQuaGlnaGxpZ2h0ZWRWYWx1ZSB8fCBcIlwiLFxuICAgICAgXCJhcmlhLW11bHRpc2VsZWN0YWJsZVwiOiBzdGF0ZS5jb250ZXh0Lm11bHRpcGxlID8gXCJ0cnVlXCIgOiB2b2lkIDAsXG4gICAgICBcImFyaWEtbGFiZWxsZWRieVwiOiBkb20uZ2V0TGFiZWxJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIHRhYkluZGV4OiAwLFxuICAgICAgb25LZXlEb3duKGV2ZW50KSB7XG4gICAgICAgIGlmICghaXNJbnRlcmFjdGl2ZSB8fCAhaXNTZWxmRXZlbnQoZXZlbnQpKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3Qga2V5TWFwID0ge1xuICAgICAgICAgIEFycm93VXAoKSB7XG4gICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJDT05URU5ULkFSUk9XX1VQXCIgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBBcnJvd0Rvd24oKSB7XG4gICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJDT05URU5ULkFSUk9XX0RPV05cIiB9KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIEhvbWUoKSB7XG4gICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJDT05URU5ULkhPTUVcIiB9KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIEVuZCgpIHtcbiAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIkNPTlRFTlQuRU5EXCIgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBFbnRlcigpIHtcbiAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIkNPTlRFTlQuRU5URVJcIiB9KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIFNwYWNlKGV2ZW50Mikge1xuICAgICAgICAgICAgaWYgKGlzVHlwaW5nQWhlYWQpIHtcbiAgICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwiQ09OVEVOVC5UWVBFQUhFQURcIiwga2V5OiBldmVudDIua2V5IH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAga2V5TWFwLkVudGVyPy4oZXZlbnQyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGV4ZWMgPSBrZXlNYXBbZ2V0RXZlbnRLZXkoZXZlbnQpXTtcbiAgICAgICAgaWYgKGV4ZWMpIHtcbiAgICAgICAgICBleGVjKGV2ZW50KTtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNFZGl0YWJsZUVsZW1lbnQoZXZlbnQudGFyZ2V0KSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2V0QnlUeXBlYWhlYWQuaXNWYWxpZEV2ZW50KGV2ZW50KSkge1xuICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIkNPTlRFTlQuVFlQRUFIRUFEXCIsIGtleTogZXZlbnQua2V5IH0pO1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICB9O1xufVxuXG4vLyBzcmMvc2VsZWN0Lm1hY2hpbmUudHNcbmltcG9ydCB7IGNyZWF0ZU1hY2hpbmUsIGd1YXJkcyB9IGZyb20gXCJAemFnLWpzL2NvcmVcIjtcbmltcG9ydCB7IHRyYWNrRGlzbWlzc2FibGVFbGVtZW50IH0gZnJvbSBcIkB6YWctanMvZGlzbWlzc2FibGVcIjtcbmltcG9ydCB7IGdldEJ5VHlwZWFoZWFkIGFzIGdldEJ5VHlwZWFoZWFkMiwgcmFmIH0gZnJvbSBcIkB6YWctanMvZG9tLXF1ZXJ5XCI7XG5pbXBvcnQgeyBzZXRFbGVtZW50VmFsdWUsIHRyYWNrRm9ybUNvbnRyb2wgfSBmcm9tIFwiQHphZy1qcy9mb3JtLXV0aWxzXCI7XG5pbXBvcnQgeyBvYnNlcnZlQXR0cmlidXRlcyB9IGZyb20gXCJAemFnLWpzL211dGF0aW9uLW9ic2VydmVyXCI7XG5pbXBvcnQgeyBnZXRQbGFjZW1lbnQgfSBmcm9tIFwiQHphZy1qcy9wb3BwZXJcIjtcbmltcG9ydCB7IHByb3h5VGFiRm9jdXMgfSBmcm9tIFwiQHphZy1qcy90YWJiYWJsZVwiO1xuaW1wb3J0IHsgYWRkT3JSZW1vdmUsIGNvbXBhY3QsIGlzRXF1YWwgfSBmcm9tIFwiQHphZy1qcy91dGlsc1wiO1xudmFyIHsgYW5kLCBub3QgfSA9IGd1YXJkcztcbmZ1bmN0aW9uIG1hY2hpbmUodXNlckNvbnRleHQpIHtcbiAgY29uc3QgY3R4ID0gY29tcGFjdCh1c2VyQ29udGV4dCk7XG4gIHJldHVybiBjcmVhdGVNYWNoaW5lKFxuICAgIHtcbiAgICAgIGlkOiBcInNlbGVjdFwiLFxuICAgICAgY29udGV4dDoge1xuICAgICAgICB2YWx1ZTogW10sXG4gICAgICAgIGhpZ2hsaWdodGVkVmFsdWU6IG51bGwsXG4gICAgICAgIHNlbGVjdE9uQmx1cjogZmFsc2UsXG4gICAgICAgIGxvb3A6IGZhbHNlLFxuICAgICAgICBjbG9zZU9uU2VsZWN0OiB0cnVlLFxuICAgICAgICBkaXNhYmxlZDogZmFsc2UsXG4gICAgICAgIC4uLmN0eCxcbiAgICAgICAgY29sbGVjdGlvbjogY3R4LmNvbGxlY3Rpb24gPz8gY29sbGVjdGlvbi5lbXB0eSgpLFxuICAgICAgICB0eXBlYWhlYWQ6IGdldEJ5VHlwZWFoZWFkMi5kZWZhdWx0T3B0aW9ucyxcbiAgICAgICAgZmllbGRzZXREaXNhYmxlZDogZmFsc2UsXG4gICAgICAgIHBvc2l0aW9uaW5nOiB7XG4gICAgICAgICAgcGxhY2VtZW50OiBcImJvdHRvbS1zdGFydFwiLFxuICAgICAgICAgIGd1dHRlcjogOCxcbiAgICAgICAgICAuLi5jdHgucG9zaXRpb25pbmdcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNvbXB1dGVkOiB7XG4gICAgICAgIGhhc1NlbGVjdGVkSXRlbXM6IChjdHgyKSA9PiBjdHgyLnZhbHVlLmxlbmd0aCA+IDAsXG4gICAgICAgIGlzVHlwaW5nQWhlYWQ6IChjdHgyKSA9PiBjdHgyLnR5cGVhaGVhZC5rZXlzU29GYXIgIT09IFwiXCIsXG4gICAgICAgIGlzRGlzYWJsZWQ6IChjdHgyKSA9PiAhIWN0eDIuZGlzYWJsZWQgfHwgY3R4Mi5maWVsZHNldERpc2FibGVkLFxuICAgICAgICBpc0ludGVyYWN0aXZlOiAoY3R4MikgPT4gIShjdHgyLmlzRGlzYWJsZWQgfHwgY3R4Mi5yZWFkT25seSksXG4gICAgICAgIHNlbGVjdGVkSXRlbXM6IChjdHgyKSA9PiBjdHgyLmNvbGxlY3Rpb24uaXRlbXMoY3R4Mi52YWx1ZSksXG4gICAgICAgIGhpZ2hsaWdodGVkSXRlbTogKGN0eDIpID0+IGN0eDIuY29sbGVjdGlvbi5pdGVtKGN0eDIuaGlnaGxpZ2h0ZWRWYWx1ZSksXG4gICAgICAgIHZhbHVlQXNTdHJpbmc6IChjdHgyKSA9PiBjdHgyLmNvbGxlY3Rpb24uaXRlbXNUb1N0cmluZyhjdHgyLnNlbGVjdGVkSXRlbXMpXG4gICAgICB9LFxuICAgICAgaW5pdGlhbDogXCJpZGxlXCIsXG4gICAgICB3YXRjaDoge1xuICAgICAgICBvcGVuOiBbXCJ0b2dnbGVWaXNpYmlsaXR5XCJdLFxuICAgICAgICB2YWx1ZTogW1wic3luY1NlbGVjdEVsZW1lbnRcIl1cbiAgICAgIH0sXG4gICAgICBvbjoge1xuICAgICAgICBcIkhJR0hMSUdIVEVEX1ZBTFVFLlNFVFwiOiB7XG4gICAgICAgICAgYWN0aW9uczogW1wic2V0SGlnaGxpZ2h0ZWRJdGVtXCJdXG4gICAgICAgIH0sXG4gICAgICAgIFwiSVRFTS5TRUxFQ1RcIjoge1xuICAgICAgICAgIGFjdGlvbnM6IFtcInNlbGVjdEl0ZW1cIl1cbiAgICAgICAgfSxcbiAgICAgICAgXCJJVEVNLkNMRUFSXCI6IHtcbiAgICAgICAgICBhY3Rpb25zOiBbXCJjbGVhckl0ZW1cIl1cbiAgICAgICAgfSxcbiAgICAgICAgXCJWQUxVRS5TRVRcIjoge1xuICAgICAgICAgIGFjdGlvbnM6IFtcInNldFNlbGVjdGVkSXRlbXNcIl1cbiAgICAgICAgfSxcbiAgICAgICAgXCJWQUxVRS5DTEVBUlwiOiB7XG4gICAgICAgICAgYWN0aW9uczogW1wiY2xlYXJTZWxlY3RlZEl0ZW1zXCJdXG4gICAgICAgIH0sXG4gICAgICAgIFwiQ09MTEVDVElPTi5TRVRcIjoge1xuICAgICAgICAgIGFjdGlvbnM6IFtcInNldENvbGxlY3Rpb25cIl1cbiAgICAgICAgfSxcbiAgICAgICAgXCJQT1NJVElPTklORy5TRVRcIjoge1xuICAgICAgICAgIGFjdGlvbnM6IFtcInJlcG9zaXRpb25cIl1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGFjdGl2aXRpZXM6IFtcInRyYWNrRm9ybUNvbnRyb2xTdGF0ZVwiXSxcbiAgICAgIHN0YXRlczoge1xuICAgICAgICBpZGxlOiB7XG4gICAgICAgICAgdGFnczogW1wiY2xvc2VkXCJdLFxuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBcIlRSSUdHRVIuQ0xJQ0tcIjoge1xuICAgICAgICAgICAgICB0YXJnZXQ6IFwib3BlblwiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJpbnZva2VPbk9wZW5cIiwgXCJoaWdobGlnaHRGaXJzdFNlbGVjdGVkSXRlbVwiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiVFJJR0dFUi5GT0NVU1wiOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJmb2N1c2VkXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBPUEVOOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJvcGVuXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcImludm9rZU9uT3BlblwiXVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZm9jdXNlZDoge1xuICAgICAgICAgIHRhZ3M6IFtcImNsb3NlZFwiXSxcbiAgICAgICAgICBlbnRyeTogW1wiZm9jdXNUcmlnZ2VyRWxcIl0sXG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIE9QRU46IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcIm9wZW5cIixcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wiaW52b2tlT25PcGVuXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJUUklHR0VSLkJMVVJcIjoge1xuICAgICAgICAgICAgICB0YXJnZXQ6IFwiaWRsZVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJUUklHR0VSLkNMSUNLXCI6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcIm9wZW5cIixcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wiaW52b2tlT25PcGVuXCIsIFwiaGlnaGxpZ2h0Rmlyc3RTZWxlY3RlZEl0ZW1cIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIlRSSUdHRVIuRU5URVJcIjogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ3VhcmQ6IFwiaGFzU2VsZWN0ZWRJdGVtc1wiLFxuICAgICAgICAgICAgICAgIHRhcmdldDogXCJvcGVuXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogW1wiaGlnaGxpZ2h0Rmlyc3RTZWxlY3RlZEl0ZW1cIiwgXCJpbnZva2VPbk9wZW5cIl1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRhcmdldDogXCJvcGVuXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogW1wiaGlnaGxpZ2h0Rmlyc3RJdGVtXCIsIFwiaW52b2tlT25PcGVuXCJdXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIlRSSUdHRVIuQVJST1dfVVBcIjogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ3VhcmQ6IFwiaGFzU2VsZWN0ZWRJdGVtc1wiLFxuICAgICAgICAgICAgICAgIHRhcmdldDogXCJvcGVuXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogW1wiaGlnaGxpZ2h0Rmlyc3RTZWxlY3RlZEl0ZW1cIiwgXCJpbnZva2VPbk9wZW5cIl1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRhcmdldDogXCJvcGVuXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogW1wiaGlnaGxpZ2h0TGFzdEl0ZW1cIiwgXCJpbnZva2VPbk9wZW5cIl1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwiVFJJR0dFUi5BUlJPV19ET1dOXCI6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGd1YXJkOiBcImhhc1NlbGVjdGVkSXRlbXNcIixcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IFwib3BlblwiLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFtcImhpZ2hsaWdodEZpcnN0U2VsZWN0ZWRJdGVtXCIsIFwiaW52b2tlT25PcGVuXCJdXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IFwib3BlblwiLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFtcImhpZ2hsaWdodEZpcnN0SXRlbVwiLCBcImludm9rZU9uT3BlblwiXVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJUUklHR0VSLkFSUk9XX0xFRlRcIjogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ3VhcmQ6IGFuZChub3QoXCJtdWx0aXBsZVwiKSwgXCJoYXNTZWxlY3RlZEl0ZW1zXCIpLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNlbGVjdFByZXZpb3VzSXRlbVwiXVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ3VhcmQ6IG5vdChcIm11bHRpcGxlXCIpLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNlbGVjdExhc3RJdGVtXCJdXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIlRSSUdHRVIuQVJST1dfUklHSFRcIjogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ3VhcmQ6IGFuZChub3QoXCJtdWx0aXBsZVwiKSwgXCJoYXNTZWxlY3RlZEl0ZW1zXCIpLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNlbGVjdE5leHRJdGVtXCJdXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBndWFyZDogbm90KFwibXVsdGlwbGVcIiksXG4gICAgICAgICAgICAgICAgYWN0aW9uczogW1wic2VsZWN0Rmlyc3RJdGVtXCJdXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIlRSSUdHRVIuSE9NRVwiOiB7XG4gICAgICAgICAgICAgIGd1YXJkOiBub3QoXCJtdWx0aXBsZVwiKSxcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wic2VsZWN0Rmlyc3RJdGVtXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJUUklHR0VSLkVORFwiOiB7XG4gICAgICAgICAgICAgIGd1YXJkOiBub3QoXCJtdWx0aXBsZVwiKSxcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wic2VsZWN0TGFzdEl0ZW1cIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIlRSSUdHRVIuVFlQRUFIRUFEXCI6IHtcbiAgICAgICAgICAgICAgZ3VhcmQ6IG5vdChcIm11bHRpcGxlXCIpLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJzZWxlY3RNYXRjaGluZ0l0ZW1cIl1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9wZW46IHtcbiAgICAgICAgICB0YWdzOiBbXCJvcGVuXCJdLFxuICAgICAgICAgIGVudHJ5OiBbXCJmb2N1c0NvbnRlbnRFbFwiXSxcbiAgICAgICAgICBleGl0OiBbXCJzY3JvbGxDb250ZW50VG9Ub3BcIl0sXG4gICAgICAgICAgYWN0aXZpdGllczogW1widHJhY2tEaXNtaXNzYWJsZUVsZW1lbnRcIiwgXCJjb21wdXRlUGxhY2VtZW50XCIsIFwic2Nyb2xsVG9IaWdobGlnaHRlZEl0ZW1cIiwgXCJwcm94eVRhYkZvY3VzXCJdLFxuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBDTE9TRToge1xuICAgICAgICAgICAgICB0YXJnZXQ6IFwiZm9jdXNlZFwiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJjbGVhckhpZ2hsaWdodGVkSXRlbVwiLCBcImludm9rZU9uQ2xvc2VcIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIlRSSUdHRVIuQ0xJQ0tcIjoge1xuICAgICAgICAgICAgICB0YXJnZXQ6IFwiZm9jdXNlZFwiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJjbGVhckhpZ2hsaWdodGVkSXRlbVwiLCBcImludm9rZU9uQ2xvc2VcIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIklURU0uQ0xJQ0tcIjogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ3VhcmQ6IFwiY2xvc2VPblNlbGVjdFwiLFxuICAgICAgICAgICAgICAgIHRhcmdldDogXCJmb2N1c2VkXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogW1wic2VsZWN0SGlnaGxpZ2h0ZWRJdGVtXCIsIFwiY2xlYXJIaWdobGlnaHRlZEl0ZW1cIiwgXCJpbnZva2VPbkNsb3NlXCJdXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBndWFyZDogXCJtdWx0aXBsZVwiLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNlbGVjdEhpZ2hsaWdodGVkSXRlbVwiXVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYWN0aW9uczogW1wic2VsZWN0SGlnaGxpZ2h0ZWRJdGVtXCIsIFwiY2xlYXJIaWdobGlnaHRlZEl0ZW1cIl1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwiQ09OVEVOVC5FTlRFUlwiOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBndWFyZDogXCJjbG9zZU9uU2VsZWN0XCIsXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBcImZvY3VzZWRcIixcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJzZWxlY3RIaWdobGlnaHRlZEl0ZW1cIiwgXCJjbGVhckhpZ2hsaWdodGVkSXRlbVwiLCBcImludm9rZU9uQ2xvc2VcIl1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGd1YXJkOiBcIm11bHRpcGxlXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogW1wic2VsZWN0SGlnaGxpZ2h0ZWRJdGVtXCJdXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJzZWxlY3RIaWdobGlnaHRlZEl0ZW1cIiwgXCJjbGVhckhpZ2hsaWdodGVkSXRlbVwiXVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJDT05URU5ULklOVEVSQUNUX09VVFNJREVcIjogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ3VhcmQ6IGFuZChcInNlbGVjdE9uQmx1clwiLCBcImhhc0hpZ2hsaWdodGVkSXRlbVwiKSxcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiaWRsZVwiLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNlbGVjdEhpZ2hsaWdodGVkSXRlbVwiLCBcImludm9rZU9uQ2xvc2VcIiwgXCJjbGVhckhpZ2hsaWdodGVkSXRlbVwiXVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ3VhcmQ6IFwiaXNUYXJnZXRGb2N1c2FibGVcIixcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiaWRsZVwiLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFtcImNsZWFySGlnaGxpZ2h0ZWRJdGVtXCIsIFwiaW52b2tlT25DbG9zZVwiXVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBcImZvY3VzZWRcIixcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJjbGVhckhpZ2hsaWdodGVkSXRlbVwiLCBcImludm9rZU9uQ2xvc2VcIl1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwiQ09OVEVOVC5IT01FXCI6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wiaGlnaGxpZ2h0Rmlyc3RJdGVtXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJDT05URU5ULkVORFwiOiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcImhpZ2hsaWdodExhc3RJdGVtXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJDT05URU5ULkFSUk9XX0RPV05cIjogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ3VhcmQ6IGFuZChcImhhc0hpZ2hsaWdodGVkSXRlbVwiLCBcImxvb3BcIiwgXCJpc0xhc3RJdGVtSGlnaGxpZ2h0ZWRcIiksXG4gICAgICAgICAgICAgICAgYWN0aW9uczogW1wiaGlnaGxpZ2h0Rmlyc3RJdGVtXCJdXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBndWFyZDogXCJoYXNIaWdobGlnaHRlZEl0ZW1cIixcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJoaWdobGlnaHROZXh0SXRlbVwiXVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYWN0aW9uczogW1wiaGlnaGxpZ2h0Rmlyc3RJdGVtXCJdXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIkNPTlRFTlQuQVJST1dfVVBcIjogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ3VhcmQ6IGFuZChcImhhc0hpZ2hsaWdodGVkSXRlbVwiLCBcImxvb3BcIiwgXCJpc0ZpcnN0SXRlbUhpZ2hsaWdodGVkXCIpLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFtcImhpZ2hsaWdodExhc3RJdGVtXCJdXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBndWFyZDogXCJoYXNIaWdobGlnaHRlZEl0ZW1cIixcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJoaWdobGlnaHRQcmV2aW91c0l0ZW1cIl1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFtcImhpZ2hsaWdodExhc3RJdGVtXCJdXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIkNPTlRFTlQuVFlQRUFIRUFEXCI6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wiaGlnaGxpZ2h0TWF0Y2hpbmdJdGVtXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJJVEVNLlBPSU5URVJfTU9WRVwiOiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcImhpZ2hsaWdodEl0ZW1cIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIklURU0uUE9JTlRFUl9MRUFWRVwiOiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcImNsZWFySGlnaGxpZ2h0ZWRJdGVtXCJdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICBndWFyZHM6IHtcbiAgICAgICAgbG9vcDogKGN0eDIpID0+ICEhY3R4Mi5sb29wLFxuICAgICAgICBtdWx0aXBsZTogKGN0eDIpID0+ICEhY3R4Mi5tdWx0aXBsZSxcbiAgICAgICAgaGFzU2VsZWN0ZWRJdGVtczogKGN0eDIpID0+IGN0eDIuaGFzU2VsZWN0ZWRJdGVtcyxcbiAgICAgICAgaGFzSGlnaGxpZ2h0ZWRJdGVtOiAoY3R4MikgPT4gY3R4Mi5oaWdobGlnaHRlZFZhbHVlICE9IG51bGwsXG4gICAgICAgIGlzRmlyc3RJdGVtSGlnaGxpZ2h0ZWQ6IChjdHgyKSA9PiBjdHgyLmhpZ2hsaWdodGVkVmFsdWUgPT09IGN0eDIuY29sbGVjdGlvbi5maXJzdCgpLFxuICAgICAgICBpc0xhc3RJdGVtSGlnaGxpZ2h0ZWQ6IChjdHgyKSA9PiBjdHgyLmhpZ2hsaWdodGVkVmFsdWUgPT09IGN0eDIuY29sbGVjdGlvbi5sYXN0KCksXG4gICAgICAgIHNlbGVjdE9uQmx1cjogKGN0eDIpID0+ICEhY3R4Mi5zZWxlY3RPbkJsdXIsXG4gICAgICAgIGNsb3NlT25TZWxlY3Q6IChjdHgyLCBldnQpID0+IHtcbiAgICAgICAgICBpZiAoY3R4Mi5tdWx0aXBsZSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gISEoZXZ0LmNsb3NlT25TZWxlY3QgPz8gY3R4Mi5jbG9zZU9uU2VsZWN0KTtcbiAgICAgICAgfSxcbiAgICAgICAgaXNUYXJnZXRGb2N1c2FibGU6IChfY3R4LCBldnQpID0+ICEhZXZ0LmZvY3VzYWJsZVxuICAgICAgfSxcbiAgICAgIGFjdGl2aXRpZXM6IHtcbiAgICAgICAgcHJveHlUYWJGb2N1cyhjdHgyKSB7XG4gICAgICAgICAgY29uc3QgY29udGVudEVsID0gKCkgPT4gZG9tLmdldENvbnRlbnRFbChjdHgyKTtcbiAgICAgICAgICByZXR1cm4gcHJveHlUYWJGb2N1cyhjb250ZW50RWwsIHtcbiAgICAgICAgICAgIGRlZmVyOiB0cnVlLFxuICAgICAgICAgICAgdHJpZ2dlckVsZW1lbnQ6IGRvbS5nZXRUcmlnZ2VyRWwoY3R4MiksXG4gICAgICAgICAgICBvbkZvY3VzKGVsKSB7XG4gICAgICAgICAgICAgIHJhZigoKSA9PiBlbC5mb2N1cyh7IHByZXZlbnRTY3JvbGw6IHRydWUgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICB0cmFja0Zvcm1Db250cm9sU3RhdGUoY3R4MiwgX2V2dCwgeyBpbml0aWFsQ29udGV4dCB9KSB7XG4gICAgICAgICAgcmV0dXJuIHRyYWNrRm9ybUNvbnRyb2woZG9tLmdldEhpZGRlblNlbGVjdEVsKGN0eDIpLCB7XG4gICAgICAgICAgICBvbkZpZWxkc2V0RGlzYWJsZWRDaGFuZ2UoZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgY3R4Mi5maWVsZHNldERpc2FibGVkID0gZGlzYWJsZWQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25Gb3JtUmVzZXQoKSB7XG4gICAgICAgICAgICAgIHNldC5zZWxlY3RlZEl0ZW1zKGN0eDIsIGluaXRpYWxDb250ZXh0LnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgdHJhY2tEaXNtaXNzYWJsZUVsZW1lbnQoY3R4MiwgX2V2dCwgeyBzZW5kIH0pIHtcbiAgICAgICAgICBsZXQgZm9jdXNhYmxlID0gZmFsc2U7XG4gICAgICAgICAgY29uc3QgY29udGVudEVsID0gKCkgPT4gZG9tLmdldENvbnRlbnRFbChjdHgyKTtcbiAgICAgICAgICByZXR1cm4gdHJhY2tEaXNtaXNzYWJsZUVsZW1lbnQoY29udGVudEVsLCB7XG4gICAgICAgICAgICBkZWZlcjogdHJ1ZSxcbiAgICAgICAgICAgIGV4Y2x1ZGU6IFtkb20uZ2V0VHJpZ2dlckVsKGN0eDIpLCBkb20uZ2V0Q2xlYXJUcmlnZ2VyRWwoY3R4MildLFxuICAgICAgICAgICAgb25Gb2N1c091dHNpZGU6IGN0eDIub25Gb2N1c091dHNpZGUsXG4gICAgICAgICAgICBvblBvaW50ZXJEb3duT3V0c2lkZTogY3R4Mi5vblBvaW50ZXJEb3duT3V0c2lkZSxcbiAgICAgICAgICAgIG9uSW50ZXJhY3RPdXRzaWRlKGV2ZW50KSB7XG4gICAgICAgICAgICAgIGZvY3VzYWJsZSA9IGV2ZW50LmRldGFpbC5mb2N1c2FibGU7XG4gICAgICAgICAgICAgIGN0eDIub25JbnRlcmFjdE91dHNpZGU/LihldmVudCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25EaXNtaXNzKCkge1xuICAgICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJDT05URU5ULklOVEVSQUNUX09VVFNJREVcIiwgZm9jdXNhYmxlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBjb21wdXRlUGxhY2VtZW50KGN0eDIpIHtcbiAgICAgICAgICBjdHgyLmN1cnJlbnRQbGFjZW1lbnQgPSBjdHgyLnBvc2l0aW9uaW5nLnBsYWNlbWVudDtcbiAgICAgICAgICBjb25zdCB0cmlnZ2VyRWwgPSAoKSA9PiBkb20uZ2V0VHJpZ2dlckVsKGN0eDIpO1xuICAgICAgICAgIGNvbnN0IHBvc2l0aW9uZXJFbCA9ICgpID0+IGRvbS5nZXRQb3NpdGlvbmVyRWwoY3R4Mik7XG4gICAgICAgICAgcmV0dXJuIGdldFBsYWNlbWVudCh0cmlnZ2VyRWwsIHBvc2l0aW9uZXJFbCwge1xuICAgICAgICAgICAgZGVmZXI6IHRydWUsXG4gICAgICAgICAgICAuLi5jdHgyLnBvc2l0aW9uaW5nLFxuICAgICAgICAgICAgb25Db21wbGV0ZShkYXRhKSB7XG4gICAgICAgICAgICAgIGN0eDIuY3VycmVudFBsYWNlbWVudCA9IGRhdGEucGxhY2VtZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBzY3JvbGxUb0hpZ2hsaWdodGVkSXRlbShjdHgyLCBfZXZ0LCB7IGdldFN0YXRlIH0pIHtcbiAgICAgICAgICBjb25zdCBleGVjID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuICAgICAgICAgICAgaWYgKHN0YXRlLmV2ZW50LnR5cGUuc3RhcnRzV2l0aChcIklURU0uUE9JTlRFUlwiKSlcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9uRWwgPSBkb20uZ2V0SGlnaGxpZ2h0ZWRPcHRpb25FbChjdHgyKTtcbiAgICAgICAgICAgIG9wdGlvbkVsPy5zY3JvbGxJbnRvVmlldyh7IGJsb2NrOiBcIm5lYXJlc3RcIiB9KTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJhZigoKSA9PiBleGVjKCkpO1xuICAgICAgICAgIHJldHVybiBvYnNlcnZlQXR0cmlidXRlcyhkb20uZ2V0Q29udGVudEVsKGN0eDIpLCBbXCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnRcIl0sIGV4ZWMpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYWN0aW9uczoge1xuICAgICAgICByZXBvc2l0aW9uKGN0eDIsIGV2dCkge1xuICAgICAgICAgIGNvbnN0IHBvc2l0aW9uZXJFbCA9ICgpID0+IGRvbS5nZXRQb3NpdGlvbmVyRWwoY3R4Mik7XG4gICAgICAgICAgZ2V0UGxhY2VtZW50KGRvbS5nZXRUcmlnZ2VyRWwoY3R4MiksIHBvc2l0aW9uZXJFbCwge1xuICAgICAgICAgICAgLi4uY3R4Mi5wb3NpdGlvbmluZyxcbiAgICAgICAgICAgIC4uLmV2dC5vcHRpb25zLFxuICAgICAgICAgICAgZGVmZXI6IHRydWUsXG4gICAgICAgICAgICBsaXN0ZW5lcnM6IGZhbHNlLFxuICAgICAgICAgICAgb25Db21wbGV0ZShkYXRhKSB7XG4gICAgICAgICAgICAgIGN0eDIuY3VycmVudFBsYWNlbWVudCA9IGRhdGEucGxhY2VtZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICB0b2dnbGVWaXNpYmlsaXR5KGN0eDIsIF9ldnQsIHsgc2VuZCB9KSB7XG4gICAgICAgICAgc2VuZCh7IHR5cGU6IGN0eDIub3BlbiA/IFwiT1BFTlwiIDogXCJDTE9TRVwiLCBzcmM6IFwiY29udHJvbGxlZFwiIH0pO1xuICAgICAgICB9LFxuICAgICAgICBoaWdobGlnaHRQcmV2aW91c0l0ZW0oY3R4Mikge1xuICAgICAgICAgIGlmIChjdHgyLmhpZ2hsaWdodGVkVmFsdWUgPT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IGN0eDIuY29sbGVjdGlvbi5wcmV2KGN0eDIuaGlnaGxpZ2h0ZWRWYWx1ZSk7XG4gICAgICAgICAgc2V0LmhpZ2hsaWdodGVkSXRlbShjdHgyLCB2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGhpZ2hsaWdodE5leHRJdGVtKGN0eDIpIHtcbiAgICAgICAgICBpZiAoY3R4Mi5oaWdobGlnaHRlZFZhbHVlID09IG51bGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSBjdHgyLmNvbGxlY3Rpb24ubmV4dChjdHgyLmhpZ2hsaWdodGVkVmFsdWUpO1xuICAgICAgICAgIHNldC5oaWdobGlnaHRlZEl0ZW0oY3R4MiwgdmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBoaWdobGlnaHRGaXJzdEl0ZW0oY3R4Mikge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gY3R4Mi5jb2xsZWN0aW9uLmZpcnN0KCk7XG4gICAgICAgICAgc2V0LmhpZ2hsaWdodGVkSXRlbShjdHgyLCB2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGhpZ2hsaWdodExhc3RJdGVtKGN0eDIpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IGN0eDIuY29sbGVjdGlvbi5sYXN0KCk7XG4gICAgICAgICAgc2V0LmhpZ2hsaWdodGVkSXRlbShjdHgyLCB2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGZvY3VzQ29udGVudEVsKGN0eDIpIHtcbiAgICAgICAgICByYWYoKCkgPT4ge1xuICAgICAgICAgICAgZG9tLmdldENvbnRlbnRFbChjdHgyKT8uZm9jdXMoeyBwcmV2ZW50U2Nyb2xsOiB0cnVlIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBmb2N1c1RyaWdnZXJFbChjdHgyKSB7XG4gICAgICAgICAgcmFmKCgpID0+IHtcbiAgICAgICAgICAgIGRvbS5nZXRUcmlnZ2VyRWwoY3R4Mik/LmZvY3VzKHsgcHJldmVudFNjcm9sbDogdHJ1ZSB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgc2VsZWN0SGlnaGxpZ2h0ZWRJdGVtKGN0eDIsIGV2dCkge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gZXZ0LnZhbHVlID8/IGN0eDIuaGlnaGxpZ2h0ZWRWYWx1ZTtcbiAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBzZXQuc2VsZWN0ZWRJdGVtKGN0eDIsIHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgaGlnaGxpZ2h0Rmlyc3RTZWxlY3RlZEl0ZW0oY3R4Mikge1xuICAgICAgICAgIGlmICghY3R4Mi5oYXNTZWxlY3RlZEl0ZW1zKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IFt2YWx1ZV0gPSBjdHgyLmNvbGxlY3Rpb24uc29ydChjdHgyLnZhbHVlKTtcbiAgICAgICAgICBzZXQuaGlnaGxpZ2h0ZWRJdGVtKGN0eDIsIHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgaGlnaGxpZ2h0SXRlbShjdHgyLCBldnQpIHtcbiAgICAgICAgICBzZXQuaGlnaGxpZ2h0ZWRJdGVtKGN0eDIsIGV2dC52YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGhpZ2hsaWdodE1hdGNoaW5nSXRlbShjdHgyLCBldnQpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IGN0eDIuY29sbGVjdGlvbi5zZWFyY2goZXZ0LmtleSwge1xuICAgICAgICAgICAgc3RhdGU6IGN0eDIudHlwZWFoZWFkLFxuICAgICAgICAgICAgY3VycmVudFZhbHVlOiBjdHgyLmhpZ2hsaWdodGVkVmFsdWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBzZXQuaGlnaGxpZ2h0ZWRJdGVtKGN0eDIsIHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0SGlnaGxpZ2h0ZWRJdGVtKGN0eDIsIGV2dCkge1xuICAgICAgICAgIHNldC5oaWdobGlnaHRlZEl0ZW0oY3R4MiwgZXZ0LnZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xlYXJIaWdobGlnaHRlZEl0ZW0oY3R4Mikge1xuICAgICAgICAgIHNldC5oaWdobGlnaHRlZEl0ZW0oY3R4MiwgbnVsbCwgdHJ1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNlbGVjdEl0ZW0oY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgc2V0LnNlbGVjdGVkSXRlbShjdHgyLCBldnQudmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBjbGVhckl0ZW0oY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSBjdHgyLnZhbHVlLmZpbHRlcigodikgPT4gdiAhPT0gZXZ0LnZhbHVlKTtcbiAgICAgICAgICBzZXQuc2VsZWN0ZWRJdGVtcyhjdHgyLCB2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFNlbGVjdGVkSXRlbXMoY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgc2V0LnNlbGVjdGVkSXRlbXMoY3R4MiwgZXZ0LnZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xlYXJTZWxlY3RlZEl0ZW1zKGN0eDIpIHtcbiAgICAgICAgICBzZXQuc2VsZWN0ZWRJdGVtcyhjdHgyLCBbXSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNlbGVjdFByZXZpb3VzSXRlbShjdHgyKSB7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSBjdHgyLmNvbGxlY3Rpb24ucHJldihjdHgyLnZhbHVlWzBdKTtcbiAgICAgICAgICBzZXQuc2VsZWN0ZWRJdGVtKGN0eDIsIHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2VsZWN0TmV4dEl0ZW0oY3R4Mikge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gY3R4Mi5jb2xsZWN0aW9uLm5leHQoY3R4Mi52YWx1ZVswXSk7XG4gICAgICAgICAgc2V0LnNlbGVjdGVkSXRlbShjdHgyLCB2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNlbGVjdEZpcnN0SXRlbShjdHgyKSB7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSBjdHgyLmNvbGxlY3Rpb24uZmlyc3QoKTtcbiAgICAgICAgICBzZXQuc2VsZWN0ZWRJdGVtKGN0eDIsIHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2VsZWN0TGFzdEl0ZW0oY3R4Mikge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gY3R4Mi5jb2xsZWN0aW9uLmxhc3QoKTtcbiAgICAgICAgICBzZXQuc2VsZWN0ZWRJdGVtKGN0eDIsIHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2VsZWN0TWF0Y2hpbmdJdGVtKGN0eDIsIGV2dCkge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gY3R4Mi5jb2xsZWN0aW9uLnNlYXJjaChldnQua2V5LCB7XG4gICAgICAgICAgICBzdGF0ZTogY3R4Mi50eXBlYWhlYWQsXG4gICAgICAgICAgICBjdXJyZW50VmFsdWU6IGN0eDIudmFsdWVbMF1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBzZXQuc2VsZWN0ZWRJdGVtKGN0eDIsIHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2Nyb2xsQ29udGVudFRvVG9wKGN0eDIpIHtcbiAgICAgICAgICBkb20uZ2V0Q29udGVudEVsKGN0eDIpPy5zY3JvbGxUbygwLCAwKTtcbiAgICAgICAgfSxcbiAgICAgICAgaW52b2tlT25PcGVuKGN0eDIpIHtcbiAgICAgICAgICBjdHgyLm9uT3BlbkNoYW5nZT8uKHsgb3BlbjogdHJ1ZSB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgaW52b2tlT25DbG9zZShjdHgyKSB7XG4gICAgICAgICAgY3R4Mi5vbk9wZW5DaGFuZ2U/Lih7IG9wZW46IGZhbHNlIH0pO1xuICAgICAgICB9LFxuICAgICAgICBzeW5jU2VsZWN0RWxlbWVudChjdHgyKSB7XG4gICAgICAgICAgY29uc3Qgc2VsZWN0RWwgPSBkb20uZ2V0SGlkZGVuU2VsZWN0RWwoY3R4Mik7XG4gICAgICAgICAgaWYgKCFzZWxlY3RFbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBzZXRFbGVtZW50VmFsdWUoc2VsZWN0RWwsIGN0eDIudmFsdWUuam9pbihcIixcIiksIHsgdHlwZTogXCJIVE1MU2VsZWN0RWxlbWVudFwiIH0pO1xuICAgICAgICB9LFxuICAgICAgICBzZXRDb2xsZWN0aW9uKGN0eDIsIGV2dCkge1xuICAgICAgICAgIGN0eDIuY29sbGVjdGlvbiA9IGV2dC52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgKTtcbn1cbmZ1bmN0aW9uIGRpc3BhdGNoQ2hhbmdlRXZlbnQoY3R4KSB7XG4gIGNvbnN0IG5vZGUgPSBkb20uZ2V0SGlkZGVuU2VsZWN0RWwoY3R4KTtcbiAgaWYgKCFub2RlKVxuICAgIHJldHVybjtcbiAgY29uc3Qgd2luID0gZG9tLmdldFdpbihjdHgpO1xuICBjb25zdCBjaGFuZ2VFdmVudCA9IG5ldyB3aW4uRXZlbnQoXCJjaGFuZ2VcIiwgeyBidWJibGVzOiB0cnVlIH0pO1xuICBub2RlLmRpc3BhdGNoRXZlbnQoY2hhbmdlRXZlbnQpO1xufVxudmFyIGludm9rZSA9IHtcbiAgY2hhbmdlOiAoY3R4KSA9PiB7XG4gICAgY3R4Lm9uVmFsdWVDaGFuZ2U/Lih7XG4gICAgICB2YWx1ZTogQXJyYXkuZnJvbShjdHgudmFsdWUpLFxuICAgICAgaXRlbXM6IGN0eC5zZWxlY3RlZEl0ZW1zXG4gICAgfSk7XG4gICAgZGlzcGF0Y2hDaGFuZ2VFdmVudChjdHgpO1xuICB9LFxuICBoaWdobGlnaHRDaGFuZ2U6IChjdHgpID0+IHtcbiAgICBjdHgub25IaWdobGlnaHRDaGFuZ2U/Lih7XG4gICAgICBoaWdobGlnaHRlZFZhbHVlOiBjdHguaGlnaGxpZ2h0ZWRWYWx1ZSxcbiAgICAgIGhpZ2hsaWdodGVkSXRlbTogY3R4LmhpZ2hsaWdodGVkSXRlbVxuICAgIH0pO1xuICB9XG59O1xudmFyIHNldCA9IHtcbiAgc2VsZWN0ZWRJdGVtOiAoY3R4LCB2YWx1ZSwgZm9yY2UgPSBmYWxzZSkgPT4ge1xuICAgIGlmIChpc0VxdWFsKGN0eC52YWx1ZSwgdmFsdWUpKVxuICAgICAgcmV0dXJuO1xuICAgIGlmICh2YWx1ZSA9PSBudWxsICYmICFmb3JjZSlcbiAgICAgIHJldHVybjtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCAmJiBmb3JjZSkge1xuICAgICAgY3R4LnZhbHVlID0gW107XG4gICAgICBpbnZva2UuY2hhbmdlKGN0eCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG5leHRWYWx1ZSA9IGN0eC5tdWx0aXBsZSA/IGFkZE9yUmVtb3ZlKGN0eC52YWx1ZSwgdmFsdWUpIDogW3ZhbHVlXTtcbiAgICBjdHgudmFsdWUgPSBuZXh0VmFsdWU7XG4gICAgaW52b2tlLmNoYW5nZShjdHgpO1xuICB9LFxuICBzZWxlY3RlZEl0ZW1zOiAoY3R4LCB2YWx1ZSkgPT4ge1xuICAgIGlmIChpc0VxdWFsKGN0eC52YWx1ZSwgdmFsdWUpKVxuICAgICAgcmV0dXJuO1xuICAgIGN0eC52YWx1ZSA9IHZhbHVlO1xuICAgIGludm9rZS5jaGFuZ2UoY3R4KTtcbiAgfSxcbiAgaGlnaGxpZ2h0ZWRJdGVtOiAoY3R4LCB2YWx1ZSwgZm9yY2UgPSBmYWxzZSkgPT4ge1xuICAgIGlmIChpc0VxdWFsKGN0eC5oaWdobGlnaHRlZFZhbHVlLCB2YWx1ZSkpXG4gICAgICByZXR1cm47XG4gICAgaWYgKHZhbHVlID09IG51bGwgJiYgIWZvcmNlKVxuICAgICAgcmV0dXJuO1xuICAgIGN0eC5oaWdobGlnaHRlZFZhbHVlID0gdmFsdWUgPz8gbnVsbDtcbiAgICBpbnZva2UuaGlnaGxpZ2h0Q2hhbmdlKGN0eCk7XG4gIH1cbn07XG5leHBvcnQge1xuICBhbmF0b215LFxuICBjb2xsZWN0aW9uLFxuICBjb25uZWN0LFxuICBtYWNoaW5lXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/select/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/slider/dist/index.mjs":
/*!****************************************************!*\
  !*** ./node_modules/@zag-js/slider/dist/index.mjs ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   anatomy: () => (/* binding */ anatomy),\n/* harmony export */   connect: () => (/* binding */ connect),\n/* harmony export */   machine: () => (/* binding */ machine)\n/* harmony export */ });\n/* harmony import */ var _zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/anatomy */ \"(ssr)/./node_modules/@zag-js/anatomy/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_event__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @zag-js/dom-event */ \"(ssr)/./node_modules/@zag-js/dom-event/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @zag-js/dom-query */ \"(ssr)/./node_modules/@zag-js/dom-query/dist/index.mjs\");\n/* harmony import */ var _zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @zag-js/numeric-range */ \"(ssr)/./node_modules/@zag-js/numeric-range/dist/index.mjs\");\n/* harmony import */ var _zag_js_form_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @zag-js/form-utils */ \"(ssr)/./node_modules/@zag-js/form-utils/dist/index.mjs\");\n/* harmony import */ var _zag_js_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @zag-js/core */ \"(ssr)/./node_modules/@zag-js/core/dist/index.mjs\");\n/* harmony import */ var _zag_js_element_size__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @zag-js/element-size */ \"(ssr)/./node_modules/@zag-js/element-size/dist/index.mjs\");\n/* harmony import */ var _zag_js_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @zag-js/utils */ \"(ssr)/./node_modules/@zag-js/utils/dist/index.mjs\");\n// src/slider.anatomy.ts\n\nvar anatomy = (0,_zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__.createAnatomy)(\"slider\").parts(\n  \"root\",\n  \"label\",\n  \"thumb\",\n  \"valueText\",\n  \"track\",\n  \"range\",\n  \"control\",\n  \"markerGroup\",\n  \"marker\"\n);\nvar parts = anatomy.build();\n\n// src/slider.connect.ts\n\n\n\n\n// src/slider.dom.ts\n\n\n\n\n\n// src/slider.style.ts\n\nfunction getBounds(value) {\n  const firstValue = value[0];\n  const lastThumb = value[value.length - 1];\n  return [firstValue, lastThumb];\n}\nfunction getRangeOffsets(ctx) {\n  const [firstPercent, lastPercent] = getBounds(ctx.valuePercent);\n  if (ctx.valuePercent.length === 1) {\n    if (ctx.origin === \"center\") {\n      const isNegative = ctx.valuePercent[0] < 50;\n      const start = isNegative ? `${ctx.valuePercent[0]}%` : \"50%\";\n      const end = isNegative ? \"50%\" : `${100 - ctx.valuePercent[0]}%`;\n      return { start, end };\n    }\n    return { start: \"0%\", end: `${100 - lastPercent}%` };\n  }\n  return { start: `${firstPercent}%`, end: `${100 - lastPercent}%` };\n}\nfunction getRangeStyle(ctx) {\n  if (ctx.isVertical) {\n    return {\n      position: \"absolute\",\n      bottom: \"var(--slider-range-start)\",\n      top: \"var(--slider-range-end)\"\n    };\n  }\n  return {\n    position: \"absolute\",\n    [ctx.isRtl ? \"right\" : \"left\"]: \"var(--slider-range-start)\",\n    [ctx.isRtl ? \"left\" : \"right\"]: \"var(--slider-range-end)\"\n  };\n}\nfunction getVerticalThumbOffset(ctx) {\n  const { height = 0 } = ctx.thumbSize ?? {};\n  const getValue = (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_1__.getValueTransformer)([ctx.min, ctx.max], [-height / 2, height / 2]);\n  return parseFloat(getValue(ctx.value).toFixed(2));\n}\nfunction getHorizontalThumbOffset(ctx) {\n  const { width = 0 } = ctx.thumbSize ?? {};\n  if (ctx.isRtl) {\n    const getValue2 = (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_1__.getValueTransformer)([ctx.max, ctx.min], [-width / 2, width / 2]);\n    return -1 * parseFloat(getValue2(ctx.value).toFixed(2));\n  }\n  const getValue = (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_1__.getValueTransformer)([ctx.min, ctx.max], [-width / 2, width / 2]);\n  return parseFloat(getValue(ctx.value).toFixed(2));\n}\nfunction getOffset(ctx, percent) {\n  if (ctx.thumbAlignment === \"center\")\n    return `${percent}%`;\n  const offset = ctx.isVertical ? getVerticalThumbOffset(ctx) : getHorizontalThumbOffset(ctx);\n  return `calc(${percent}% - ${offset}px)`;\n}\nfunction getThumbOffset(ctx) {\n  let percent = (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_1__.getValuePercent)(ctx.value, ctx.min, ctx.max) * 100;\n  return getOffset(ctx, percent);\n}\nfunction getVisibility(ctx) {\n  let visibility = \"visible\";\n  if (ctx.thumbAlignment === \"contain\" && !ctx.hasMeasuredThumbSize) {\n    visibility = \"hidden\";\n  }\n  return visibility;\n}\nfunction getThumbStyle(ctx, index) {\n  const placementProp = ctx.isVertical ? \"bottom\" : \"insetInlineStart\";\n  return {\n    visibility: getVisibility(ctx),\n    position: \"absolute\",\n    transform: \"var(--slider-thumb-transform)\",\n    [placementProp]: `var(--slider-thumb-offset-${index})`\n  };\n}\nfunction getControlStyle() {\n  return {\n    touchAction: \"none\",\n    userSelect: \"none\",\n    position: \"relative\"\n  };\n}\nfunction getRootStyle(ctx) {\n  const range = getRangeOffsets(ctx);\n  const offsetStyles = ctx.value.reduce((styles, value, index) => {\n    const offset = getThumbOffset({ ...ctx, value });\n    return { ...styles, [`--slider-thumb-offset-${index}`]: offset };\n  }, {});\n  return {\n    ...offsetStyles,\n    \"--slider-thumb-transform\": ctx.isVertical ? \"translateY(50%)\" : ctx.isRtl ? \"translateX(50%)\" : \"translateX(-50%)\",\n    \"--slider-range-start\": range.start,\n    \"--slider-range-end\": range.end\n  };\n}\nfunction getMarkerStyle(ctx, value) {\n  return {\n    // @ts-expect-error\n    visibility: getVisibility(ctx),\n    position: \"absolute\",\n    pointerEvents: \"none\",\n    // @ts-expect-error\n    [ctx.isHorizontal ? \"insetInlineStart\" : \"bottom\"]: getThumbOffset({ ...ctx, value }),\n    translate: \"var(--tx) var(--ty)\",\n    \"--tx\": ctx.isHorizontal ? ctx.isRtl ? \"50%\" : \"-50%\" : \"0%\",\n    \"--ty\": !ctx.isHorizontal ? \"50%\" : \"0%\"\n  };\n}\nfunction getMarkerGroupStyle() {\n  return {\n    userSelect: \"none\",\n    pointerEvents: \"none\",\n    position: \"relative\"\n  };\n}\nvar styleGetterFns = {\n  getRootStyle,\n  getControlStyle,\n  getThumbStyle,\n  getRangeStyle,\n  getMarkerStyle,\n  getMarkerGroupStyle\n};\n\n// src/slider.dom.ts\nvar dom = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_2__.createScope)({\n  ...styleGetterFns,\n  getRootId: (ctx) => ctx.ids?.root ?? `slider:${ctx.id}`,\n  getThumbId: (ctx, index) => ctx.ids?.thumb?.(index) ?? `slider:${ctx.id}:thumb:${index}`,\n  getHiddenInputId: (ctx, index) => `slider:${ctx.id}:input:${index}`,\n  getControlId: (ctx) => ctx.ids?.control ?? `slider:${ctx.id}:control`,\n  getTrackId: (ctx) => ctx.ids?.track ?? `slider:${ctx.id}:track`,\n  getRangeId: (ctx) => ctx.ids?.range ?? `slider:${ctx.id}:range`,\n  getLabelId: (ctx) => ctx.ids?.label ?? `slider:${ctx.id}:label`,\n  getValueTextId: (ctx) => ctx.ids?.valueText ?? `slider:${ctx.id}:valueText`,\n  getMarkerId: (ctx, value) => ctx.ids?.marker?.(value) ?? `slider:${ctx.id}:marker:${value}`,\n  getRootEl: (ctx) => dom.getById(ctx, dom.getRootId(ctx)),\n  getThumbEl: (ctx, index) => dom.getById(ctx, dom.getThumbId(ctx, index)),\n  getHiddenInputEl: (ctx, index) => dom.getById(ctx, dom.getHiddenInputId(ctx, index)),\n  getControlEl: (ctx) => dom.getById(ctx, dom.getControlId(ctx)),\n  getElements: (ctx) => (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_2__.queryAll)(dom.getControlEl(ctx), \"[role=slider]\"),\n  getFirstEl: (ctx) => dom.getElements(ctx)[0],\n  getRangeEl: (ctx) => dom.getById(ctx, dom.getRangeId(ctx)),\n  getValueFromPoint(ctx, point) {\n    const controlEl = dom.getControlEl(ctx);\n    if (!controlEl)\n      return;\n    const relativePoint = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_3__.getRelativePoint)(point, controlEl);\n    const percent = relativePoint.getPercentValue({\n      orientation: ctx.orientation,\n      dir: ctx.dir,\n      inverted: { y: true }\n    });\n    return (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_1__.getPercentValue)(percent, ctx.min, ctx.max, ctx.step);\n  },\n  dispatchChangeEvent(ctx) {\n    const valueArray = Array.from(ctx.value);\n    valueArray.forEach((value, index) => {\n      const inputEl = dom.getHiddenInputEl(ctx, index);\n      if (!inputEl)\n        return;\n      (0,_zag_js_form_utils__WEBPACK_IMPORTED_MODULE_4__.dispatchInputValueEvent)(inputEl, { value });\n    });\n  }\n});\n\n// src/slider.utils.ts\n\nfunction normalizeValues(ctx, nextValues) {\n  return nextValues.map((value, index, values) => {\n    return constrainValue({ ...ctx, value: values }, value, index);\n  });\n}\nfunction getRangeAtIndex(ctx, index) {\n  return (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_1__.getValueRanges)(ctx.value, ctx.min, ctx.max, ctx.minStepsBetweenThumbs)[index];\n}\nfunction constrainValue(ctx, value, index) {\n  const range = getRangeAtIndex(ctx, index);\n  const snapValue = (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_1__.snapValueToStep)(value, ctx.min, ctx.max, ctx.step);\n  return (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_1__.clampValue)(snapValue, range.min, range.max);\n}\nfunction decrement(ctx, index, step) {\n  const idx = index ?? ctx.focusedIndex;\n  const range = getRangeAtIndex(ctx, idx);\n  const nextValues = (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_1__.getPreviousStepValue)(idx, {\n    ...range,\n    step: step ?? ctx.step,\n    values: ctx.value\n  });\n  nextValues[idx] = (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_1__.clampValue)(nextValues[idx], range.min, range.max);\n  return nextValues;\n}\nfunction increment(ctx, index, step) {\n  const idx = index ?? ctx.focusedIndex;\n  const range = getRangeAtIndex(ctx, idx);\n  const nextValues = (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_1__.getNextStepValue)(idx, {\n    ...range,\n    step: step ?? ctx.step,\n    values: ctx.value\n  });\n  nextValues[idx] = (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_1__.clampValue)(nextValues[idx], range.min, range.max);\n  return nextValues;\n}\nfunction getClosestIndex(ctx, pointValue) {\n  return (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_1__.getClosestValueIndex)(ctx.value, pointValue);\n}\nfunction assignArray(current, next) {\n  for (let i = 0; i < next.length; i++) {\n    const value = next[i];\n    current[i] = value;\n  }\n}\n\n// src/slider.connect.ts\nfunction connect(state, send, normalize) {\n  const ariaLabel = state.context[\"aria-label\"];\n  const ariaLabelledBy = state.context[\"aria-labelledby\"];\n  const sliderValue = state.context.value;\n  const isFocused = state.matches(\"focus\");\n  const isDragging = state.matches(\"dragging\");\n  const isDisabled = state.context.isDisabled;\n  const isInvalid = state.context.invalid;\n  const isInteractive = state.context.isInteractive;\n  function getValuePercentFn(value) {\n    return (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_1__.getValuePercent)(value, state.context.min, state.context.max);\n  }\n  function getPercentValueFn(percent) {\n    return (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_1__.getPercentValue)(percent, state.context.min, state.context.max, state.context.step);\n  }\n  return {\n    value: state.context.value,\n    isDragging,\n    isFocused,\n    setValue(value) {\n      send({ type: \"SET_VALUE\", value });\n    },\n    getThumbValue(index) {\n      return sliderValue[index];\n    },\n    setThumbValue(index, value) {\n      send({ type: \"SET_VALUE\", index, value });\n    },\n    getValuePercent: getValuePercentFn,\n    getPercentValue: getPercentValueFn,\n    getThumbPercent(index) {\n      return getValuePercentFn(sliderValue[index]);\n    },\n    setThumbPercent(index, percent) {\n      const value = getPercentValueFn(percent);\n      send({ type: \"SET_VALUE\", index, value });\n    },\n    getThumbMin(index) {\n      return getRangeAtIndex(state.context, index).min;\n    },\n    getThumbMax(index) {\n      return getRangeAtIndex(state.context, index).max;\n    },\n    increment(index) {\n      send({ type: \"INCREMENT\", index });\n    },\n    decrement(index) {\n      send({ type: \"DECREMENT\", index });\n    },\n    focus() {\n      if (!isInteractive)\n        return;\n      send({ type: \"FOCUS\", index: 0 });\n    },\n    labelProps: normalize.label({\n      ...parts.label.attrs,\n      dir: state.context.dir,\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isDisabled),\n      \"data-orientation\": state.context.orientation,\n      \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isInvalid),\n      \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isFocused),\n      id: dom.getLabelId(state.context),\n      htmlFor: dom.getHiddenInputId(state.context, 0),\n      onClick(event) {\n        if (!isInteractive)\n          return;\n        event.preventDefault();\n        dom.getFirstEl(state.context)?.focus();\n      },\n      style: {\n        userSelect: \"none\"\n      }\n    }),\n    rootProps: normalize.element({\n      ...parts.root.attrs,\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isDisabled),\n      \"data-orientation\": state.context.orientation,\n      \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isInvalid),\n      \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isFocused),\n      id: dom.getRootId(state.context),\n      dir: state.context.dir,\n      style: dom.getRootStyle(state.context)\n    }),\n    valueTextProps: normalize.element({\n      ...parts.valueText.attrs,\n      dir: state.context.dir,\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isDisabled),\n      \"data-orientation\": state.context.orientation,\n      \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isInvalid),\n      \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isFocused),\n      id: dom.getValueTextId(state.context)\n    }),\n    trackProps: normalize.element({\n      ...parts.track.attrs,\n      dir: state.context.dir,\n      id: dom.getTrackId(state.context),\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isDisabled),\n      \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isInvalid),\n      \"data-orientation\": state.context.orientation,\n      \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isFocused),\n      style: { position: \"relative\" }\n    }),\n    getThumbProps(props) {\n      const { index = 0 } = props;\n      const value = sliderValue[index];\n      const range = getRangeAtIndex(state.context, index);\n      const ariaValueText = state.context.getAriaValueText?.(value, index);\n      const _ariaLabel = Array.isArray(ariaLabel) ? ariaLabel[index] : ariaLabel;\n      const _ariaLabelledBy = Array.isArray(ariaLabelledBy) ? ariaLabelledBy[index] : ariaLabelledBy;\n      return normalize.element({\n        ...parts.thumb.attrs,\n        dir: state.context.dir,\n        \"data-index\": index,\n        id: dom.getThumbId(state.context, index),\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isDisabled),\n        \"data-orientation\": state.context.orientation,\n        \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isFocused && state.context.focusedIndex === index),\n        draggable: false,\n        \"aria-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_2__.ariaAttr)(isDisabled),\n        \"aria-label\": _ariaLabel,\n        \"aria-labelledby\": _ariaLabelledBy ?? dom.getLabelId(state.context),\n        \"aria-orientation\": state.context.orientation,\n        \"aria-valuemax\": range.max,\n        \"aria-valuemin\": range.min,\n        \"aria-valuenow\": sliderValue[index],\n        \"aria-valuetext\": ariaValueText,\n        role: \"slider\",\n        tabIndex: isDisabled ? void 0 : 0,\n        style: dom.getThumbStyle(state.context, index),\n        onPointerDown(event) {\n          if (!isInteractive)\n            return;\n          send({ type: \"THUMB_POINTER_DOWN\", index });\n          event.stopPropagation();\n        },\n        onBlur() {\n          if (!isInteractive)\n            return;\n          send(\"BLUR\");\n        },\n        onFocus() {\n          if (!isInteractive)\n            return;\n          send({ type: \"FOCUS\", index });\n        },\n        onKeyDown(event) {\n          if (!isInteractive)\n            return;\n          const step = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_3__.getEventStep)(event) * state.context.step;\n          let prevent = true;\n          const keyMap = {\n            ArrowUp() {\n              send({ type: \"ARROW_UP\", step });\n              prevent = state.context.isVertical;\n            },\n            ArrowDown() {\n              send({ type: \"ARROW_DOWN\", step });\n              prevent = state.context.isVertical;\n            },\n            ArrowLeft() {\n              send({ type: \"ARROW_LEFT\", step });\n              prevent = state.context.isHorizontal;\n            },\n            ArrowRight() {\n              send({ type: \"ARROW_RIGHT\", step });\n              prevent = state.context.isHorizontal;\n            },\n            PageUp() {\n              send({ type: \"PAGE_UP\", step });\n            },\n            PageDown() {\n              send({ type: \"PAGE_DOWN\", step });\n            },\n            Home() {\n              send(\"HOME\");\n            },\n            End() {\n              send(\"END\");\n            }\n          };\n          const key = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_3__.getEventKey)(event, state.context);\n          const exec = keyMap[key];\n          if (!exec)\n            return;\n          exec(event);\n          if (prevent) {\n            event.preventDefault();\n            event.stopPropagation();\n          }\n        }\n      });\n    },\n    getHiddenInputProps(props) {\n      const { index = 0 } = props;\n      return normalize.input({\n        name: `${state.context.name}[${index}]`,\n        form: state.context.form,\n        type: \"text\",\n        hidden: true,\n        defaultValue: state.context.value[index],\n        id: dom.getHiddenInputId(state.context, index)\n      });\n    },\n    rangeProps: normalize.element({\n      id: dom.getRangeId(state.context),\n      ...parts.range.attrs,\n      dir: state.context.dir,\n      \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isFocused),\n      \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isInvalid),\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isDisabled),\n      \"data-orientation\": state.context.orientation,\n      style: dom.getRangeStyle(state.context)\n    }),\n    controlProps: normalize.element({\n      ...parts.control.attrs,\n      dir: state.context.dir,\n      id: dom.getControlId(state.context),\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isDisabled),\n      \"data-orientation\": state.context.orientation,\n      \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isInvalid),\n      \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isFocused),\n      style: dom.getControlStyle(),\n      onPointerDown(event) {\n        if (!isInteractive)\n          return;\n        const evt = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_3__.getNativeEvent)(event);\n        if (!(0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_3__.isLeftClick)(evt) || (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_3__.isModifiedEvent)(evt))\n          return;\n        const point = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_3__.getEventPoint)(evt);\n        send({ type: \"POINTER_DOWN\", point });\n        event.preventDefault();\n        event.stopPropagation();\n      }\n    }),\n    markerGroupProps: normalize.element({\n      ...parts.markerGroup.attrs,\n      role: \"presentation\",\n      dir: state.context.dir,\n      \"aria-hidden\": true,\n      \"data-orientation\": state.context.orientation,\n      style: dom.getMarkerGroupStyle()\n    }),\n    getMarkerProps(props) {\n      const style = dom.getMarkerStyle(state.context, props.value);\n      let markerState;\n      const first = state.context.value[0];\n      const last = state.context.value[state.context.value.length - 1];\n      if (props.value < first) {\n        markerState = \"under-value\";\n      } else if (props.value > last) {\n        markerState = \"over-value\";\n      } else {\n        markerState = \"at-value\";\n      }\n      return normalize.element({\n        ...parts.marker.attrs,\n        id: dom.getMarkerId(state.context, props.value),\n        role: \"presentation\",\n        dir: state.context.dir,\n        \"data-orientation\": state.context.orientation,\n        \"data-value\": props.value,\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isDisabled),\n        \"data-state\": markerState,\n        style\n      });\n    }\n  };\n}\n\n// src/slider.machine.ts\n\n\n\n\n\n\n\nvar isEqualSize = (a, b) => {\n  return a?.width === b?.width && a?.height === b?.height;\n};\nfunction machine(userContext) {\n  const ctx = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_5__.compact)(userContext);\n  return (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_6__.createMachine)(\n    {\n      id: \"slider\",\n      initial: \"idle\",\n      context: {\n        thumbSize: null,\n        thumbAlignment: \"contain\",\n        focusedIndex: -1,\n        min: 0,\n        max: 100,\n        step: 1,\n        value: [0],\n        origin: \"start\",\n        orientation: \"horizontal\",\n        dir: \"ltr\",\n        minStepsBetweenThumbs: 0,\n        disabled: false,\n        ...ctx,\n        fieldsetDisabled: false\n      },\n      computed: {\n        isHorizontal: (ctx2) => ctx2.orientation === \"horizontal\",\n        isVertical: (ctx2) => ctx2.orientation === \"vertical\",\n        isRtl: (ctx2) => ctx2.orientation === \"horizontal\" && ctx2.dir === \"rtl\",\n        isDisabled: (ctx2) => !!ctx2.disabled || ctx2.fieldsetDisabled,\n        isInteractive: (ctx2) => !(ctx2.readOnly || ctx2.isDisabled),\n        spacing: (ctx2) => ctx2.minStepsBetweenThumbs * ctx2.step,\n        hasMeasuredThumbSize: (ctx2) => ctx2.thumbSize != null,\n        valuePercent(ctx2) {\n          return ctx2.value.map((value) => 100 * (0,_zag_js_numeric_range__WEBPACK_IMPORTED_MODULE_1__.getValuePercent)(value, ctx2.min, ctx2.max));\n        }\n      },\n      watch: {\n        value: [\"syncInputElements\"]\n      },\n      entry: [\"coarseValue\"],\n      activities: [\"trackFormControlState\", \"trackThumbsSize\"],\n      on: {\n        SET_VALUE: [\n          {\n            guard: \"hasIndex\",\n            actions: \"setValueAtIndex\"\n          },\n          { actions: \"setValue\" }\n        ],\n        INCREMENT: {\n          actions: \"incrementAtIndex\"\n        },\n        DECREMENT: {\n          actions: \"decrementAtIndex\"\n        }\n      },\n      states: {\n        idle: {\n          on: {\n            POINTER_DOWN: {\n              target: \"dragging\",\n              actions: [\"setClosestThumbIndex\", \"setPointerValue\", \"focusActiveThumb\"]\n            },\n            FOCUS: {\n              target: \"focus\",\n              actions: \"setFocusedIndex\"\n            },\n            THUMB_POINTER_DOWN: {\n              target: \"dragging\",\n              actions: [\"setFocusedIndex\", \"focusActiveThumb\"]\n            }\n          }\n        },\n        focus: {\n          entry: \"focusActiveThumb\",\n          on: {\n            POINTER_DOWN: {\n              target: \"dragging\",\n              actions: [\"setClosestThumbIndex\", \"setPointerValue\", \"focusActiveThumb\"]\n            },\n            THUMB_POINTER_DOWN: {\n              target: \"dragging\",\n              actions: [\"setFocusedIndex\", \"focusActiveThumb\"]\n            },\n            ARROW_LEFT: {\n              guard: \"isHorizontal\",\n              actions: \"decrementAtIndex\"\n            },\n            ARROW_RIGHT: {\n              guard: \"isHorizontal\",\n              actions: \"incrementAtIndex\"\n            },\n            ARROW_UP: {\n              guard: \"isVertical\",\n              actions: \"incrementAtIndex\"\n            },\n            ARROW_DOWN: {\n              guard: \"isVertical\",\n              actions: \"decrementAtIndex\"\n            },\n            PAGE_UP: {\n              actions: \"incrementAtIndex\"\n            },\n            PAGE_DOWN: {\n              actions: \"decrementAtIndex\"\n            },\n            HOME: {\n              actions: \"setActiveThumbToMin\"\n            },\n            END: {\n              actions: \"setActiveThumbToMax\"\n            },\n            BLUR: {\n              target: \"idle\",\n              actions: \"clearFocusedIndex\"\n            }\n          }\n        },\n        dragging: {\n          entry: \"focusActiveThumb\",\n          activities: \"trackPointerMove\",\n          on: {\n            POINTER_UP: {\n              target: \"focus\",\n              actions: \"invokeOnChangeEnd\"\n            },\n            POINTER_MOVE: {\n              actions: \"setPointerValue\"\n            }\n          }\n        }\n      }\n    },\n    {\n      guards: {\n        isHorizontal: (ctx2) => ctx2.isHorizontal,\n        isVertical: (ctx2) => ctx2.isVertical,\n        hasIndex: (_ctx, evt) => evt.index != null\n      },\n      activities: {\n        trackFormControlState(ctx2, _evt, { initialContext }) {\n          return (0,_zag_js_form_utils__WEBPACK_IMPORTED_MODULE_4__.trackFormControl)(dom.getRootEl(ctx2), {\n            onFieldsetDisabledChange(disabled) {\n              ctx2.fieldsetDisabled = disabled;\n            },\n            onFormReset() {\n              set.value(ctx2, initialContext.value);\n            }\n          });\n        },\n        trackPointerMove(ctx2, _evt, { send }) {\n          return (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_3__.trackPointerMove)(dom.getDoc(ctx2), {\n            onPointerMove(info) {\n              send({ type: \"POINTER_MOVE\", point: info.point });\n            },\n            onPointerUp() {\n              send(\"POINTER_UP\");\n            }\n          });\n        },\n        trackThumbsSize(ctx2) {\n          if (ctx2.thumbAlignment !== \"contain\" || ctx2.thumbSize)\n            return;\n          return (0,_zag_js_element_size__WEBPACK_IMPORTED_MODULE_7__.trackElementsSize)({\n            getNodes: () => dom.getElements(ctx2),\n            observeMutation: true,\n            callback(size) {\n              if (!size || isEqualSize(ctx2.thumbSize, size))\n                return;\n              ctx2.thumbSize = size;\n            }\n          });\n        }\n      },\n      actions: {\n        syncInputElements(ctx2) {\n          ctx2.value.forEach((value, index) => {\n            const inputEl = dom.getHiddenInputEl(ctx2, index);\n            dom.setValue(inputEl, value);\n          });\n        },\n        invokeOnChangeEnd(ctx2) {\n          ctx2.onValueChangeEnd?.({ value: ctx2.value });\n        },\n        setClosestThumbIndex(ctx2, evt) {\n          const pointValue = dom.getValueFromPoint(ctx2, evt.point);\n          if (pointValue == null)\n            return;\n          const focusedIndex = getClosestIndex(ctx2, pointValue);\n          set.focusedIndex(ctx2, focusedIndex);\n        },\n        setFocusedIndex(ctx2, evt) {\n          set.focusedIndex(ctx2, evt.index);\n        },\n        clearFocusedIndex(ctx2) {\n          set.focusedIndex(ctx2, -1);\n        },\n        setPointerValue(ctx2, evt) {\n          const pointerValue = dom.getValueFromPoint(ctx2, evt.point);\n          if (pointerValue == null)\n            return;\n          const value = constrainValue(ctx2, pointerValue, ctx2.focusedIndex);\n          set.valueAtIndex(ctx2, ctx2.focusedIndex, value);\n        },\n        focusActiveThumb(ctx2) {\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_2__.raf)(() => {\n            const thumbEl = dom.getThumbEl(ctx2, ctx2.focusedIndex);\n            thumbEl?.focus({ preventScroll: true });\n          });\n        },\n        decrementAtIndex(ctx2, evt) {\n          const value = decrement(ctx2, evt.index, evt.step);\n          set.value(ctx2, value);\n        },\n        incrementAtIndex(ctx2, evt) {\n          const value = increment(ctx2, evt.index, evt.step);\n          set.value(ctx2, value);\n        },\n        setActiveThumbToMin(ctx2) {\n          const { min } = getRangeAtIndex(ctx2, ctx2.focusedIndex);\n          set.valueAtIndex(ctx2, ctx2.focusedIndex, min);\n        },\n        setActiveThumbToMax(ctx2) {\n          const { max } = getRangeAtIndex(ctx2, ctx2.focusedIndex);\n          set.valueAtIndex(ctx2, ctx2.focusedIndex, max);\n        },\n        coarseValue(ctx2) {\n          const value = normalizeValues(ctx2, ctx2.value);\n          set.value(ctx2, value);\n        },\n        setValueAtIndex(ctx2, evt) {\n          const value = constrainValue(ctx2, evt.value, evt.index);\n          set.valueAtIndex(ctx2, evt.index, value);\n        },\n        setValue(ctx2, evt) {\n          const value = normalizeValues(ctx2, evt.value);\n          set.value(ctx2, value);\n        }\n      }\n    }\n  );\n}\nvar invoke = {\n  change: (ctx) => {\n    ctx.onValueChange?.({\n      value: Array.from(ctx.value)\n    });\n    dom.dispatchChangeEvent(ctx);\n  },\n  focusChange: (ctx) => {\n    ctx.onFocusChange?.({\n      value: Array.from(ctx.value),\n      focusedIndex: ctx.focusedIndex\n    });\n  }\n};\nvar set = {\n  valueAtIndex: (ctx, index, value) => {\n    if ((0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_5__.isEqual)(ctx.value[index], value))\n      return;\n    ctx.value[index] = value;\n    invoke.change(ctx);\n  },\n  value: (ctx, value) => {\n    if ((0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_5__.isEqual)(ctx.value, value))\n      return;\n    assignArray(ctx.value, value);\n    invoke.change(ctx);\n  },\n  focusedIndex: (ctx, index) => {\n    if ((0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_5__.isEqual)(ctx.focusedIndex, index))\n      return;\n    ctx.focusedIndex = index;\n    invoke.focusChange(ctx);\n  }\n};\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9zbGlkZXIvZGlzdC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNnRDtBQUNoRCxjQUFjLDhEQUFhO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFRMkI7QUFDNEI7QUFDMEQ7O0FBRWpIO0FBQ3FEO0FBQ0s7QUFDRztBQUNMOztBQUV4RDtBQUM2RTtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxvQkFBb0I7QUFDeEQsMENBQTBDLDBCQUEwQjtBQUNwRSxlQUFlO0FBQ2Y7QUFDQSxhQUFhLHFCQUFxQixrQkFBa0I7QUFDcEQ7QUFDQSxXQUFXLFVBQVUsYUFBYSxZQUFZLGtCQUFrQjtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsYUFBYTtBQUN2QixtQkFBbUIsMEVBQW1CO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLFVBQVUsWUFBWTtBQUN0QjtBQUNBLHNCQUFzQiwwRUFBbUI7QUFDekM7QUFDQTtBQUNBLG1CQUFtQiwwRUFBbUI7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFFBQVE7QUFDdEI7QUFDQSxpQkFBaUIsUUFBUSxNQUFNLE9BQU87QUFDdEM7QUFDQTtBQUNBLGdCQUFnQixzRUFBZTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0QsTUFBTTtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsZUFBZTtBQUNuRCxhQUFhLHFD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Q1gsU0FBUztBQUNUO0FBQ0Esb0NBQW9DLG1CQUFtQjtBQUN2RCxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxVQUFVLHNEQUFHO0FBQ2I7QUFDQSw2QkFBNkIscUJBQXFCO0FBQ2xELFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLGtCQUFrQixNQUFNO0FBQ3hCO0FBQ0EsU0FBUztBQUNUO0FBQ0Esa0JBQWtCLE1BQU07QUFDeEI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFPO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsUUFBUSxzREFBTztBQUNmO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLFFBQVEsc0RBQU87QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0U7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL0BwYXJrLXVpL2V4YW1wbGVzLXJlYWN0LW5leHQtanMvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9zbGlkZXIvZGlzdC9pbmRleC5tanM/ZmUzYSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvc2xpZGVyLmFuYXRvbXkudHNcbmltcG9ydCB7IGNyZWF0ZUFuYXRvbXkgfSBmcm9tIFwiQHphZy1qcy9hbmF0b215XCI7XG52YXIgYW5hdG9teSA9IGNyZWF0ZUFuYXRvbXkoXCJzbGlkZXJcIikucGFydHMoXG4gIFwicm9vdFwiLFxuICBcImxhYmVsXCIsXG4gIFwidGh1bWJcIixcbiAgXCJ2YWx1ZVRleHRcIixcbiAgXCJ0cmFja1wiLFxuICBcInJhbmdlXCIsXG4gIFwiY29udHJvbFwiLFxuICBcIm1hcmtlckdyb3VwXCIsXG4gIFwibWFya2VyXCJcbik7XG52YXIgcGFydHMgPSBhbmF0b215LmJ1aWxkKCk7XG5cbi8vIHNyYy9zbGlkZXIuY29ubmVjdC50c1xuaW1wb3J0IHtcbiAgZ2V0RXZlbnRLZXksXG4gIGdldEV2ZW50UG9pbnQsXG4gIGdldEV2ZW50U3RlcCxcbiAgZ2V0TmF0aXZlRXZlbnQsXG4gIGlzTGVmdENsaWNrLFxuICBpc01vZGlmaWVkRXZlbnRcbn0gZnJvbSBcIkB6YWctanMvZG9tLWV2ZW50XCI7XG5pbXBvcnQgeyBhcmlhQXR0ciwgZGF0YUF0dHIgfSBmcm9tIFwiQHphZy1qcy9kb20tcXVlcnlcIjtcbmltcG9ydCB7IGdldFBlcmNlbnRWYWx1ZSBhcyBnZXRQZXJjZW50VmFsdWUyLCBnZXRWYWx1ZVBlcmNlbnQgYXMgZ2V0VmFsdWVQZXJjZW50MiB9IGZyb20gXCJAemFnLWpzL251bWVyaWMtcmFuZ2VcIjtcblxuLy8gc3JjL3NsaWRlci5kb20udHNcbmltcG9ydCB7IGdldFJlbGF0aXZlUG9pbnQgfSBmcm9tIFwiQHphZy1qcy9kb20tZXZlbnRcIjtcbmltcG9ydCB7IGNyZWF0ZVNjb3BlLCBxdWVyeUFsbCB9IGZyb20gXCJAemFnLWpzL2RvbS1xdWVyeVwiO1xuaW1wb3J0IHsgZGlzcGF0Y2hJbnB1dFZhbHVlRXZlbnQgfSBmcm9tIFwiQHphZy1qcy9mb3JtLXV0aWxzXCI7XG5pbXBvcnQgeyBnZXRQZXJjZW50VmFsdWUgfSBmcm9tIFwiQHphZy1qcy9udW1lcmljLXJhbmdlXCI7XG5cbi8vIHNyYy9zbGlkZXIuc3R5bGUudHNcbmltcG9ydCB7IGdldFZhbHVlUGVyY2VudCwgZ2V0VmFsdWVUcmFuc2Zvcm1lciB9IGZyb20gXCJAemFnLWpzL251bWVyaWMtcmFuZ2VcIjtcbmZ1bmN0aW9uIGdldEJvdW5kcyh2YWx1ZSkge1xuICBjb25zdCBmaXJzdFZhbHVlID0gdmFsdWVbMF07XG4gIGNvbnN0IGxhc3RUaHVtYiA9IHZhbHVlW3ZhbHVlLmxlbmd0aCAtIDFdO1xuICByZXR1cm4gW2ZpcnN0VmFsdWUsIGxhc3RUaHVtYl07XG59XG5mdW5jdGlvbiBnZXRSYW5nZU9mZnNldHMoY3R4KSB7XG4gIGNvbnN0IFtmaXJzdFBlcmNlbnQsIGxhc3RQZXJjZW50XSA9IGdldEJvdW5kcyhjdHgudmFsdWVQZXJjZW50KTtcbiAgaWYgKGN0eC52YWx1ZVBlcmNlbnQubGVuZ3RoID09PSAxKSB7XG4gICAgaWYgKGN0eC5vcmlnaW4gPT09IFwiY2VudGVyXCIpIHtcbiAgICAgIGNvbnN0IGlzTmVnYXRpdmUgPSBjdHgudmFsdWVQZXJjZW50WzBdIDwgNTA7XG4gICAgICBjb25zdCBzdGFydCA9IGlzTmVnYXRpdmUgPyBgJHtjdHgudmFsdWVQZXJjZW50WzBdfSVgIDogXCI1MCVcIjtcbiAgICAgIGNvbnN0IGVuZCA9IGlzTmVnYXRpdmUgPyBcIjUwJVwiIDogYCR7MTAwIC0gY3R4LnZhbHVlUGVyY2VudFswXX0lYDtcbiAgICAgIHJldHVybiB7IHN0YXJ0LCBlbmQgfTtcbiAgICB9XG4gICAgcmV0dXJuIHsgc3RhcnQ6IFwiMCVcIiwgZW5kOiBgJHsxMDAgLSBsYXN0UGVyY2VudH0lYCB9O1xuICB9XG4gIHJldHVybiB7IHN0YXJ0OiBgJHtmaXJzdFBlcmNlbnR9JWAsIGVuZDogYCR7MTAwIC0gbGFzdFBlcmNlbnR9JWAgfTtcbn1cbmZ1bmN0aW9uIGdldFJhbmdlU3R5bGUoY3R4KSB7XG4gIGlmIChjdHguaXNWZXJ0aWNhbCkge1xuICAgIHJldHVybiB7XG4gICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgYm90dG9tOiBcInZhcigtLXNsaWRlci1yYW5nZS1zdGFydClcIixcbiAgICAgIHRvcDogXCJ2YXIoLS1zbGlkZXItcmFuZ2UtZW5kKVwiXG4gICAgfTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgW2N0eC5pc1J0bCA/IFwicmlnaHRcIiA6IFwibGVmdFwiXTogXCJ2YXIoLS1zbGlkZXItcmFuZ2Utc3RhcnQpXCIsXG4gICAgW2N0eC5pc1J0bCA/IFwibGVmdFwiIDogXCJyaWdodFwiXTogXCJ2YXIoLS1zbGlkZXItcmFuZ2UtZW5kKVwiXG4gIH07XG59XG5mdW5jdGlvbiBnZXRWZXJ0aWNhbFRodW1iT2Zmc2V0KGN0eCkge1xuICBjb25zdCB7IGhlaWdodCA9IDAgfSA9IGN0eC50aHVtYlNpemUgPz8ge307XG4gIGNvbnN0IGdldFZhbHVlID0gZ2V0VmFsdWVUcmFuc2Zvcm1lcihbY3R4Lm1pbiwgY3R4Lm1heF0sIFstaGVpZ2h0IC8gMiwgaGVpZ2h0IC8gMl0pO1xuICByZXR1cm4gcGFyc2VGbG9hdChnZXRWYWx1ZShjdHgudmFsdWUpLnRvRml4ZWQoMikpO1xufVxuZnVuY3Rpb24gZ2V0SG9yaXpvbnRhbFRodW1iT2Zmc2V0KGN0eCkge1xuICBjb25zdCB7IHdpZHRoID0gMCB9ID0gY3R4LnRodW1iU2l6ZSA/PyB7fTtcbiAgaWYgKGN0eC5pc1J0bCkge1xuICAgIGNvbnN0IGdldFZhbHVlMiA9IGdldFZhbHVlVHJhbnNmb3JtZXIoW2N0eC5tYXgsIGN0eC5taW5dLCBbLXdpZHRoIC8gMiwgd2lkdGggLyAyXSk7XG4gICAgcmV0dXJuIC0xICogcGFyc2VGbG9hdChnZXRWYWx1ZTIoY3R4LnZhbHVlKS50b0ZpeGVkKDIpKTtcbiAgfVxuICBjb25zdCBnZXRWYWx1ZSA9IGdldFZhbHVlVHJhbnNmb3JtZXIoW2N0eC5taW4sIGN0eC5tYXhdLCBbLXdpZHRoIC8gMiwgd2lkdGggLyAyXSk7XG4gIHJldHVybiBwYXJzZUZsb2F0KGdldFZhbHVlKGN0eC52YWx1ZSkudG9GaXhlZCgyKSk7XG59XG5mdW5jdGlvbiBnZXRPZmZzZXQoY3R4LCBwZXJjZW50KSB7XG4gIGlmIChjdHgudGh1bWJBbGlnbm1lbnQgPT09IFwiY2VudGVyXCIpXG4gICAgcmV0dXJuIGAke3BlcmNlbnR9JWA7XG4gIGNvbnN0IG9mZnNldCA9IGN0eC5pc1ZlcnRpY2FsID8gZ2V0VmVydGljYWxUaHVtYk9mZnNldChjdHgpIDogZ2V0SG9yaXpvbnRhbFRodW1iT2Zmc2V0KGN0eCk7XG4gIHJldHVybiBgY2FsYygke3BlcmNlbnR9JSAtICR7b2Zmc2V0fXB4KWA7XG59XG5mdW5jdGlvbiBnZXRUaHVtYk9mZnNldChjdHgpIHtcbiAgbGV0IHBlcmNlbnQgPSBnZXRWYWx1ZVBlcmNlbnQoY3R4LnZhbHVlLCBjdHgubWluLCBjdHgubWF4KSAqIDEwMDtcbiAgcmV0dXJuIGdldE9mZnNldChjdHgsIHBlcmNlbnQpO1xufVxuZnVuY3Rpb24gZ2V0VmlzaWJpbGl0eShjdHgpIHtcbiAgbGV0IHZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbiAgaWYgKGN0eC50aHVtYkFsaWdubWVudCA9PT0gXCJjb250YWluXCIgJiYgIWN0eC5oYXNNZWFzdXJlZFRodW1iU2l6ZSkge1xuICAgIHZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuICB9XG4gIHJldHVybiB2aXNpYmlsaXR5O1xufVxuZnVuY3Rpb24gZ2V0VGh1bWJTdHlsZShjdHgsIGluZGV4KSB7XG4gIGNvbnN0IHBsYWNlbWVudFByb3AgPSBjdHguaXNWZXJ0aWNhbCA/IFwiYm90dG9tXCIgOiBcImluc2V0SW5saW5lU3RhcnRcIjtcbiAgcmV0dXJuIHtcbiAgICB2aXNpYmlsaXR5OiBnZXRWaXNpYmlsaXR5KGN0eCksXG4gICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICB0cmFuc2Zvcm06IFwidmFyKC0tc2xpZGVyLXRodW1iLXRyYW5zZm9ybSlcIixcbiAgICBbcGxhY2VtZW50UHJvcF06IGB2YXIoLS1zbGlkZXItdGh1bWItb2Zmc2V0LSR7aW5kZXh9KWBcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldENvbnRyb2xTdHlsZSgpIHtcbiAgcmV0dXJuIHtcbiAgICB0b3VjaEFjdGlvbjogXCJub25lXCIsXG4gICAgdXNlclNlbGVjdDogXCJub25lXCIsXG4gICAgcG9zaXRpb246IFwicmVsYXRpdmVcIlxuICB9O1xufVxuZnVuY3Rpb24gZ2V0Um9vdFN0eWxlKGN0eCkge1xuICBjb25zdCByYW5nZSA9IGdldFJhbmdlT2Zmc2V0cyhjdHgpO1xuICBjb25zdCBvZmZzZXRTdHlsZXMgPSBjdHgudmFsdWUucmVkdWNlKChzdHlsZXMsIHZhbHVlLCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IG9mZnNldCA9IGdldFRodW1iT2Zmc2V0KHsgLi4uY3R4LCB2YWx1ZSB9KTtcbiAgICByZXR1cm4geyAuLi5zdHlsZXMsIFtgLS1zbGlkZXItdGh1bWItb2Zmc2V0LSR7aW5kZXh9YF06IG9mZnNldCB9O1xuICB9LCB7fSk7XG4gIHJldHVybiB7XG4gICAgLi4ub2Zmc2V0U3R5bGVzLFxuICAgIFwiLS1zbGlkZXItdGh1bWItdHJhbnNmb3JtXCI6IGN0eC5pc1ZlcnRpY2FsID8gXCJ0cmFuc2xhdGVZKDUwJSlcIiA6IGN0eC5pc1J0bCA/IFwidHJhbnNsYXRlWCg1MCUpXCIgOiBcInRyYW5zbGF0ZVgoLTUwJSlcIixcbiAgICBcIi0tc2xpZGVyLXJhbmdlLXN0YXJ0XCI6IHJhbmdlLnN0YXJ0LFxuICAgIFwiLS1zbGlkZXItcmFuZ2UtZW5kXCI6IHJhbmdlLmVuZFxuICB9O1xufVxuZnVuY3Rpb24gZ2V0TWFya2VyU3R5bGUoY3R4LCB2YWx1ZSkge1xuICByZXR1cm4ge1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICB2aXNpYmlsaXR5OiBnZXRWaXNpYmlsaXR5KGN0eCksXG4gICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICBwb2ludGVyRXZlbnRzOiBcIm5vbmVcIixcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgW2N0eC5pc0hvcml6b250YWwgPyBcImluc2V0SW5saW5lU3RhcnRcIiA6IFwiYm90dG9tXCJdOiBnZXRUaHVtYk9mZnNldCh7IC4uLmN0eCwgdmFsdWUgfSksXG4gICAgdHJhbnNsYXRlOiBcInZhcigtLXR4KSB2YXIoLS10eSlcIixcbiAgICBcIi0tdHhcIjogY3R4LmlzSG9yaXpvbnRhbCA/IGN0eC5pc1J0bCA/IFwiNTAlXCIgOiBcIi01MCVcIiA6IFwiMCVcIixcbiAgICBcIi0tdHlcIjogIWN0eC5pc0hvcml6b250YWwgPyBcIjUwJVwiIDogXCIwJVwiXG4gIH07XG59XG5mdW5jdGlvbiBnZXRNYXJrZXJHcm91cFN0eWxlKCkge1xuICByZXR1cm4ge1xuICAgIHVzZXJTZWxlY3Q6IFwibm9uZVwiLFxuICAgIHBvaW50ZXJFdmVudHM6IFwibm9uZVwiLFxuICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCJcbiAgfTtcbn1cbnZhciBzdHlsZUdldHRlckZucyA9IHtcbiAgZ2V0Um9vdFN0eWxlLFxuICBnZXRDb250cm9sU3R5bGUsXG4gIGdldFRodW1iU3R5bGUsXG4gIGdldFJhbmdlU3R5bGUsXG4gIGdldE1hcmtlclN0eWxlLFxuICBnZXRNYXJrZXJHcm91cFN0eWxlXG59O1xuXG4vLyBzcmMvc2xpZGVyLmRvbS50c1xudmFyIGRvbSA9IGNyZWF0ZVNjb3BlKHtcbiAgLi4uc3R5bGVHZXR0ZXJGbnMsXG4gIGdldFJvb3RJZDogKGN0eCkgPT4gY3R4Lmlkcz8ucm9vdCA/PyBgc2xpZGVyOiR7Y3R4LmlkfWAsXG4gIGdldFRodW1iSWQ6IChjdHgsIGluZGV4KSA9PiBjdHguaWRzPy50aHVtYj8uKGluZGV4KSA/PyBgc2xpZGVyOiR7Y3R4LmlkfTp0aHVtYjoke2luZGV4fWAsXG4gIGdldEhpZGRlbklucHV0SWQ6IChjdHgsIGluZGV4KSA9PiBgc2xpZGVyOiR7Y3R4LmlkfTppbnB1dDoke2luZGV4fWAsXG4gIGdldENvbnRyb2xJZDogKGN0eCkgPT4gY3R4Lmlkcz8uY29udHJvbCA/PyBgc2xpZGVyOiR7Y3R4LmlkfTpjb250cm9sYCxcbiAgZ2V0VHJhY2tJZDogKGN0eCkgPT4gY3R4Lmlkcz8udHJhY2sgPz8gYHNsaWRlcjoke2N0eC5pZH06dHJhY2tgLFxuICBnZXRSYW5nZUlkOiAoY3R4KSA9PiBjdHguaWRzPy5yYW5nZSA/PyBgc2xpZGVyOiR7Y3R4LmlkfTpyYW5nZWAsXG4gIGdldExhYmVsSWQ6IChjdHgpID0+IGN0eC5pZHM/LmxhYmVsID8/IGBzbGlkZXI6JHtjdHguaWR9OmxhYmVsYCxcbiAgZ2V0VmFsdWVUZXh0SWQ6IChjdHgpID0+IGN0eC5pZHM/LnZhbHVlVGV4dCA/PyBgc2xpZGVyOiR7Y3R4LmlkfTp2YWx1ZVRleHRgLFxuICBnZXRNYXJrZXJJZDogKGN0eCwgdmFsdWUpID0+IGN0eC5pZHM/Lm1hcmtlcj8uKHZhbHVlKSA/PyBgc2xpZGVyOiR7Y3R4LmlkfTptYXJrZXI6JHt2YWx1ZX1gLFxuICBnZXRSb290RWw6IChjdHgpID0+IGRvbS5nZXRCeUlkKGN0eCwgZG9tLmdldFJvb3RJZChjdHgpKSxcbiAgZ2V0VGh1bWJFbDogKGN0eCwgaW5kZXgpID0+IGRvbS5nZXRCeUlkKGN0eCwgZG9tLmdldFRodW1iSWQoY3R4LCBpbmRleCkpLFxuICBnZXRIaWRkZW5JbnB1dEVsOiAoY3R4LCBpbmRleCkgPT4gZG9tLmdldEJ5SWQoY3R4LCBkb20uZ2V0SGlkZGVuSW5wdXRJZChjdHgsIGluZGV4KSksXG4gIGdldENvbnRyb2xFbDogKGN0eCkgPT4gZG9tLmdldEJ5SWQoY3R4LCBkb20uZ2V0Q29udHJvbElkKGN0eCkpLFxuICBnZXRFbGVtZW50czogKGN0eCkgPT4gcXVlcnlBbGwoZG9tLmdldENvbnRyb2xFbChjdHgpLCBcIltyb2xlPXNsaWRlcl1cIiksXG4gIGdldEZpcnN0RWw6IChjdHgpID0+IGRvbS5nZXRFbGVtZW50cyhjdHgpWzBdLFxuICBnZXRSYW5nZUVsOiAoY3R4KSA9PiBkb20uZ2V0QnlJZChjdHgsIGRvbS5nZXRSYW5nZUlkKGN0eCkpLFxuICBnZXRWYWx1ZUZyb21Qb2ludChjdHgsIHBvaW50KSB7XG4gICAgY29uc3QgY29udHJvbEVsID0gZG9tLmdldENvbnRyb2xFbChjdHgpO1xuICAgIGlmICghY29udHJvbEVsKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHJlbGF0aXZlUG9pbnQgPSBnZXRSZWxhdGl2ZVBvaW50KHBvaW50LCBjb250cm9sRWwpO1xuICAgIGNvbnN0IHBlcmNlbnQgPSByZWxhdGl2ZVBvaW50LmdldFBlcmNlbnRWYWx1ZSh7XG4gICAgICBvcmllbnRhdGlvbjogY3R4Lm9yaWVudGF0aW9uLFxuICAgICAgZGlyOiBjdHguZGlyLFxuICAgICAgaW52ZXJ0ZWQ6IHsgeTogdHJ1ZSB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGdldFBlcmNlbnRWYWx1ZShwZXJjZW50LCBjdHgubWluLCBjdHgubWF4LCBjdHguc3RlcCk7XG4gIH0sXG4gIGRpc3BhdGNoQ2hhbmdlRXZlbnQoY3R4KSB7XG4gICAgY29uc3QgdmFsdWVBcnJheSA9IEFycmF5LmZyb20oY3R4LnZhbHVlKTtcbiAgICB2YWx1ZUFycmF5LmZvckVhY2goKHZhbHVlLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgaW5wdXRFbCA9IGRvbS5nZXRIaWRkZW5JbnB1dEVsKGN0eCwgaW5kZXgpO1xuICAgICAgaWYgKCFpbnB1dEVsKVxuICAgICAgICByZXR1cm47XG4gICAgICBkaXNwYXRjaElucHV0VmFsdWVFdmVudChpbnB1dEVsLCB7IHZhbHVlIH0pO1xuICAgIH0pO1xuICB9XG59KTtcblxuLy8gc3JjL3NsaWRlci51dGlscy50c1xuaW1wb3J0IHtcbiAgY2xhbXBWYWx1ZSxcbiAgZ2V0Q2xvc2VzdFZhbHVlSW5kZXgsXG4gIGdldE5leHRTdGVwVmFsdWUsXG4gIGdldFByZXZpb3VzU3RlcFZhbHVlLFxuICBnZXRWYWx1ZVJhbmdlcyxcbiAgc25hcFZhbHVlVG9TdGVwXG59IGZyb20gXCJAemFnLWpzL251bWVyaWMtcmFuZ2VcIjtcbmZ1bmN0aW9uIG5vcm1hbGl6ZVZhbHVlcyhjdHgsIG5leHRWYWx1ZXMpIHtcbiAgcmV0dXJuIG5leHRWYWx1ZXMubWFwKCh2YWx1ZSwgaW5kZXgsIHZhbHVlcykgPT4ge1xuICAgIHJldHVybiBjb25zdHJhaW5WYWx1ZSh7IC4uLmN0eCwgdmFsdWU6IHZhbHVlcyB9LCB2YWx1ZSwgaW5kZXgpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGdldFJhbmdlQXRJbmRleChjdHgsIGluZGV4KSB7XG4gIHJldHVybiBnZXRWYWx1ZVJhbmdlcyhjdHgudmFsdWUsIGN0eC5taW4sIGN0eC5tYXgsIGN0eC5taW5TdGVwc0JldHdlZW5UaHVtYnMpW2luZGV4XTtcbn1cbmZ1bmN0aW9uIGNvbnN0cmFpblZhbHVlKGN0eCwgdmFsdWUsIGluZGV4KSB7XG4gIGNvbnN0IHJhbmdlID0gZ2V0UmFuZ2VBdEluZGV4KGN0eCwgaW5kZXgpO1xuICBjb25zdCBzbmFwVmFsdWUgPSBzbmFwVmFsdWVUb1N0ZXAodmFsdWUsIGN0eC5taW4sIGN0eC5tYXgsIGN0eC5zdGVwKTtcbiAgcmV0dXJuIGNsYW1wVmFsdWUoc25hcFZhbHVlLCByYW5nZS5taW4sIHJhbmdlLm1heCk7XG59XG5mdW5jdGlvbiBkZWNyZW1lbnQoY3R4LCBpbmRleCwgc3RlcCkge1xuICBjb25zdCBpZHggPSBpbmRleCA/PyBjdHguZm9jdXNlZEluZGV4O1xuICBjb25zdCByYW5nZSA9IGdldFJhbmdlQXRJbmRleChjdHgsIGlkeCk7XG4gIGNvbnN0IG5leHRWYWx1ZXMgPSBnZXRQcmV2aW91c1N0ZXBWYWx1ZShpZHgsIHtcbiAgICAuLi5yYW5nZSxcbiAgICBzdGVwOiBzdGVwID8/IGN0eC5zdGVwLFxuICAgIHZhbHVlczogY3R4LnZhbHVlXG4gIH0pO1xuICBuZXh0VmFsdWVzW2lkeF0gPSBjbGFtcFZhbHVlKG5leHRWYWx1ZXNbaWR4XSwgcmFuZ2UubWluLCByYW5nZS5tYXgpO1xuICByZXR1cm4gbmV4dFZhbHVlcztcbn1cbmZ1bmN0aW9uIGluY3JlbWVudChjdHgsIGluZGV4LCBzdGVwKSB7XG4gIGNvbnN0IGlkeCA9IGluZGV4ID8/IGN0eC5mb2N1c2VkSW5kZXg7XG4gIGNvbnN0IHJhbmdlID0gZ2V0UmFuZ2VBdEluZGV4KGN0eCwgaWR4KTtcbiAgY29uc3QgbmV4dFZhbHVlcyA9IGdldE5leHRTdGVwVmFsdWUoaWR4LCB7XG4gICAgLi4ucmFuZ2UsXG4gICAgc3RlcDogc3RlcCA/PyBjdHguc3RlcCxcbiAgICB2YWx1ZXM6IGN0eC52YWx1ZVxuICB9KTtcbiAgbmV4dFZhbHVlc1tpZHhdID0gY2xhbXBWYWx1ZShuZXh0VmFsdWVzW2lkeF0sIHJhbmdlLm1pbiwgcmFuZ2UubWF4KTtcbiAgcmV0dXJuIG5leHRWYWx1ZXM7XG59XG5mdW5jdGlvbiBnZXRDbG9zZXN0SW5kZXgoY3R4LCBwb2ludFZhbHVlKSB7XG4gIHJldHVybiBnZXRDbG9zZXN0VmFsdWVJbmRleChjdHgudmFsdWUsIHBvaW50VmFsdWUpO1xufVxuZnVuY3Rpb24gYXNzaWduQXJyYXkoY3VycmVudCwgbmV4dCkge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG5leHQubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCB2YWx1ZSA9IG5leHRbaV07XG4gICAgY3VycmVudFtpXSA9IHZhbHVlO1xuICB9XG59XG5cbi8vIHNyYy9zbGlkZXIuY29ubmVjdC50c1xuZnVuY3Rpb24gY29ubmVjdChzdGF0ZSwgc2VuZCwgbm9ybWFsaXplKSB7XG4gIGNvbnN0IGFyaWFMYWJlbCA9IHN0YXRlLmNvbnRleHRbXCJhcmlhLWxhYmVsXCJdO1xuICBjb25zdCBhcmlhTGFiZWxsZWRCeSA9IHN0YXRlLmNvbnRleHRbXCJhcmlhLWxhYmVsbGVkYnlcIl07XG4gIGNvbnN0IHNsaWRlclZhbHVlID0gc3RhdGUuY29udGV4dC52YWx1ZTtcbiAgY29uc3QgaXNGb2N1c2VkID0gc3RhdGUubWF0Y2hlcyhcImZvY3VzXCIpO1xuICBjb25zdCBpc0RyYWdnaW5nID0gc3RhdGUubWF0Y2hlcyhcImRyYWdnaW5nXCIpO1xuICBjb25zdCBpc0Rpc2FibGVkID0gc3RhdGUuY29udGV4dC5pc0Rpc2FibGVkO1xuICBjb25zdCBpc0ludmFsaWQgPSBzdGF0ZS5jb250ZXh0LmludmFsaWQ7XG4gIGNvbnN0IGlzSW50ZXJhY3RpdmUgPSBzdGF0ZS5jb250ZXh0LmlzSW50ZXJhY3RpdmU7XG4gIGZ1bmN0aW9uIGdldFZhbHVlUGVyY2VudEZuKHZhbHVlKSB7XG4gICAgcmV0dXJuIGdldFZhbHVlUGVyY2VudDIodmFsdWUsIHN0YXRlLmNvbnRleHQubWluLCBzdGF0ZS5jb250ZXh0Lm1heCk7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0UGVyY2VudFZhbHVlRm4ocGVyY2VudCkge1xuICAgIHJldHVybiBnZXRQZXJjZW50VmFsdWUyKHBlcmNlbnQsIHN0YXRlLmNvbnRleHQubWluLCBzdGF0ZS5jb250ZXh0Lm1heCwgc3RhdGUuY29udGV4dC5zdGVwKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHZhbHVlOiBzdGF0ZS5jb250ZXh0LnZhbHVlLFxuICAgIGlzRHJhZ2dpbmcsXG4gICAgaXNGb2N1c2VkLFxuICAgIHNldFZhbHVlKHZhbHVlKSB7XG4gICAgICBzZW5kKHsgdHlwZTogXCJTRVRfVkFMVUVcIiwgdmFsdWUgfSk7XG4gICAgfSxcbiAgICBnZXRUaHVtYlZhbHVlKGluZGV4KSB7XG4gICAgICByZXR1cm4gc2xpZGVyVmFsdWVbaW5kZXhdO1xuICAgIH0sXG4gICAgc2V0VGh1bWJWYWx1ZShpbmRleCwgdmFsdWUpIHtcbiAgICAgIHNlbmQoeyB0eXBlOiBcIlNFVF9WQUxVRVwiLCBpbmRleCwgdmFsdWUgfSk7XG4gICAgfSxcbiAgICBnZXRWYWx1ZVBlcmNlbnQ6IGdldFZhbHVlUGVyY2VudEZuLFxuICAgIGdldFBlcmNlbnRWYWx1ZTogZ2V0UGVyY2VudFZhbHVlRm4sXG4gICAgZ2V0VGh1bWJQZXJjZW50KGluZGV4KSB7XG4gICAgICByZXR1cm4gZ2V0VmFsdWVQZXJjZW50Rm4oc2xpZGVyVmFsdWVbaW5kZXhdKTtcbiAgICB9LFxuICAgIHNldFRodW1iUGVyY2VudChpbmRleCwgcGVyY2VudCkge1xuICAgICAgY29uc3QgdmFsdWUgPSBnZXRQZXJjZW50VmFsdWVGbihwZXJjZW50KTtcbiAgICAgIHNlbmQoeyB0eXBlOiBcIlNFVF9WQUxVRVwiLCBpbmRleCwgdmFsdWUgfSk7XG4gICAgfSxcbiAgICBnZXRUaHVtYk1pbihpbmRleCkge1xuICAgICAgcmV0dXJuIGdldFJhbmdlQXRJbmRleChzdGF0ZS5jb250ZXh0LCBpbmRleCkubWluO1xuICAgIH0sXG4gICAgZ2V0VGh1bWJNYXgoaW5kZXgpIHtcbiAgICAgIHJldHVybiBnZXRSYW5nZUF0SW5kZXgoc3RhdGUuY29udGV4dCwgaW5kZXgpLm1heDtcbiAgICB9LFxuICAgIGluY3JlbWVudChpbmRleCkge1xuICAgICAgc2VuZCh7IHR5cGU6IFwiSU5DUkVNRU5UXCIsIGluZGV4IH0pO1xuICAgIH0sXG4gICAgZGVjcmVtZW50KGluZGV4KSB7XG4gICAgICBzZW5kKHsgdHlwZTogXCJERUNSRU1FTlRcIiwgaW5kZXggfSk7XG4gICAgfSxcbiAgICBmb2N1cygpIHtcbiAgICAgIGlmICghaXNJbnRlcmFjdGl2ZSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgc2VuZCh7IHR5cGU6IFwiRk9DVVNcIiwgaW5kZXg6IDAgfSk7XG4gICAgfSxcbiAgICBsYWJlbFByb3BzOiBub3JtYWxpemUubGFiZWwoe1xuICAgICAgLi4ucGFydHMubGFiZWwuYXR0cnMsXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgXCJkYXRhLWRpc2FibGVkXCI6IGRhdGFBdHRyKGlzRGlzYWJsZWQpLFxuICAgICAgXCJkYXRhLW9yaWVudGF0aW9uXCI6IHN0YXRlLmNvbnRleHQub3JpZW50YXRpb24sXG4gICAgICBcImRhdGEtaW52YWxpZFwiOiBkYXRhQXR0cihpc0ludmFsaWQpLFxuICAgICAgXCJkYXRhLWZvY3VzXCI6IGRhdGFBdHRyKGlzRm9jdXNlZCksXG4gICAgICBpZDogZG9tLmdldExhYmVsSWQoc3RhdGUuY29udGV4dCksXG4gICAgICBodG1sRm9yOiBkb20uZ2V0SGlkZGVuSW5wdXRJZChzdGF0ZS5jb250ZXh0LCAwKSxcbiAgICAgIG9uQ2xpY2soZXZlbnQpIHtcbiAgICAgICAgaWYgKCFpc0ludGVyYWN0aXZlKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZG9tLmdldEZpcnN0RWwoc3RhdGUuY29udGV4dCk/LmZvY3VzKCk7XG4gICAgICB9LFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgdXNlclNlbGVjdDogXCJub25lXCJcbiAgICAgIH1cbiAgICB9KSxcbiAgICByb290UHJvcHM6IG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgIC4uLnBhcnRzLnJvb3QuYXR0cnMsXG4gICAgICBcImRhdGEtZGlzYWJsZWRcIjogZGF0YUF0dHIoaXNEaXNhYmxlZCksXG4gICAgICBcImRhdGEtb3JpZW50YXRpb25cIjogc3RhdGUuY29udGV4dC5vcmllbnRhdGlvbixcbiAgICAgIFwiZGF0YS1pbnZhbGlkXCI6IGRhdGFBdHRyKGlzSW52YWxpZCksXG4gICAgICBcImRhdGEtZm9jdXNcIjogZGF0YUF0dHIoaXNGb2N1c2VkKSxcbiAgICAgIGlkOiBkb20uZ2V0Um9vdElkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIHN0eWxlOiBkb20uZ2V0Um9vdFN0eWxlKHN0YXRlLmNvbnRleHQpXG4gICAgfSksXG4gICAgdmFsdWVUZXh0UHJvcHM6IG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgIC4uLnBhcnRzLnZhbHVlVGV4dC5hdHRycyxcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICBcImRhdGEtZGlzYWJsZWRcIjogZGF0YUF0dHIoaXNEaXNhYmxlZCksXG4gICAgICBcImRhdGEtb3JpZW50YXRpb25cIjogc3RhdGUuY29udGV4dC5vcmllbnRhdGlvbixcbiAgICAgIFwiZGF0YS1pbnZhbGlkXCI6IGRhdGFBdHRyKGlzSW52YWxpZCksXG4gICAgICBcImRhdGEtZm9jdXNcIjogZGF0YUF0dHIoaXNGb2N1c2VkKSxcbiAgICAgIGlkOiBkb20uZ2V0VmFsdWVUZXh0SWQoc3RhdGUuY29udGV4dClcbiAgICB9KSxcbiAgICB0cmFja1Byb3BzOiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICAuLi5wYXJ0cy50cmFjay5hdHRycyxcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICBpZDogZG9tLmdldFRyYWNrSWQoc3RhdGUuY29udGV4dCksXG4gICAgICBcImRhdGEtZGlzYWJsZWRcIjogZGF0YUF0dHIoaXNEaXNhYmxlZCksXG4gICAgICBcImRhdGEtaW52YWxpZFwiOiBkYXRhQXR0cihpc0ludmFsaWQpLFxuICAgICAgXCJkYXRhLW9yaWVudGF0aW9uXCI6IHN0YXRlLmNvbnRleHQub3JpZW50YXRpb24sXG4gICAgICBcImRhdGEtZm9jdXNcIjogZGF0YUF0dHIoaXNGb2N1c2VkKSxcbiAgICAgIHN0eWxlOiB7IHBvc2l0aW9uOiBcInJlbGF0aXZlXCIgfVxuICAgIH0pLFxuICAgIGdldFRodW1iUHJvcHMocHJvcHMpIHtcbiAgICAgIGNvbnN0IHsgaW5kZXggPSAwIH0gPSBwcm9wcztcbiAgICAgIGNvbnN0IHZhbHVlID0gc2xpZGVyVmFsdWVbaW5kZXhdO1xuICAgICAgY29uc3QgcmFuZ2UgPSBnZXRSYW5nZUF0SW5kZXgoc3RhdGUuY29udGV4dCwgaW5kZXgpO1xuICAgICAgY29uc3QgYXJpYVZhbHVlVGV4dCA9IHN0YXRlLmNvbnRleHQuZ2V0QXJpYVZhbHVlVGV4dD8uKHZhbHVlLCBpbmRleCk7XG4gICAgICBjb25zdCBfYXJpYUxhYmVsID0gQXJyYXkuaXNBcnJheShhcmlhTGFiZWwpID8gYXJpYUxhYmVsW2luZGV4XSA6IGFyaWFMYWJlbDtcbiAgICAgIGNvbnN0IF9hcmlhTGFiZWxsZWRCeSA9IEFycmF5LmlzQXJyYXkoYXJpYUxhYmVsbGVkQnkpID8gYXJpYUxhYmVsbGVkQnlbaW5kZXhdIDogYXJpYUxhYmVsbGVkQnk7XG4gICAgICByZXR1cm4gbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgICAuLi5wYXJ0cy50aHVtYi5hdHRycyxcbiAgICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgICAgXCJkYXRhLWluZGV4XCI6IGluZGV4LFxuICAgICAgICBpZDogZG9tLmdldFRodW1iSWQoc3RhdGUuY29udGV4dCwgaW5kZXgpLFxuICAgICAgICBcImRhdGEtZGlzYWJsZWRcIjogZGF0YUF0dHIoaXNEaXNhYmxlZCksXG4gICAgICAgIFwiZGF0YS1vcmllbnRhdGlvblwiOiBzdGF0ZS5jb250ZXh0Lm9yaWVudGF0aW9uLFxuICAgICAgICBcImRhdGEtZm9jdXNcIjogZGF0YUF0dHIoaXNGb2N1c2VkICYmIHN0YXRlLmNvbnRleHQuZm9jdXNlZEluZGV4ID09PSBpbmRleCksXG4gICAgICAgIGRyYWdnYWJsZTogZmFsc2UsXG4gICAgICAgIFwiYXJpYS1kaXNhYmxlZFwiOiBhcmlhQXR0cihpc0Rpc2FibGVkKSxcbiAgICAgICAgXCJhcmlhLWxhYmVsXCI6IF9hcmlhTGFiZWwsXG4gICAgICAgIFwiYXJpYS1sYWJlbGxlZGJ5XCI6IF9hcmlhTGFiZWxsZWRCeSA/PyBkb20uZ2V0TGFiZWxJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgICAgXCJhcmlhLW9yaWVudGF0aW9uXCI6IHN0YXRlLmNvbnRleHQub3JpZW50YXRpb24sXG4gICAgICAgIFwiYXJpYS12YWx1ZW1heFwiOiByYW5nZS5tYXgsXG4gICAgICAgIFwiYXJpYS12YWx1ZW1pblwiOiByYW5nZS5taW4sXG4gICAgICAgIFwiYXJpYS12YWx1ZW5vd1wiOiBzbGlkZXJWYWx1ZVtpbmRleF0sXG4gICAgICAgIFwiYXJpYS12YWx1ZXRleHRcIjogYXJpYVZhbHVlVGV4dCxcbiAgICAgICAgcm9sZTogXCJzbGlkZXJcIixcbiAgICAgICAgdGFiSW5kZXg6IGlzRGlzYWJsZWQgPyB2b2lkIDAgOiAwLFxuICAgICAgICBzdHlsZTogZG9tLmdldFRodW1iU3R5bGUoc3RhdGUuY29udGV4dCwgaW5kZXgpLFxuICAgICAgICBvblBvaW50ZXJEb3duKGV2ZW50KSB7XG4gICAgICAgICAgaWYgKCFpc0ludGVyYWN0aXZlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIlRIVU1CX1BPSU5URVJfRE9XTlwiLCBpbmRleCB9KTtcbiAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25CbHVyKCkge1xuICAgICAgICAgIGlmICghaXNJbnRlcmFjdGl2ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBzZW5kKFwiQkxVUlwiKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Gb2N1cygpIHtcbiAgICAgICAgICBpZiAoIWlzSW50ZXJhY3RpdmUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgc2VuZCh7IHR5cGU6IFwiRk9DVVNcIiwgaW5kZXggfSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uS2V5RG93bihldmVudCkge1xuICAgICAgICAgIGlmICghaXNJbnRlcmFjdGl2ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjb25zdCBzdGVwID0gZ2V0RXZlbnRTdGVwKGV2ZW50KSAqIHN0YXRlLmNvbnRleHQuc3RlcDtcbiAgICAgICAgICBsZXQgcHJldmVudCA9IHRydWU7XG4gICAgICAgICAgY29uc3Qga2V5TWFwID0ge1xuICAgICAgICAgICAgQXJyb3dVcCgpIHtcbiAgICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwiQVJST1dfVVBcIiwgc3RlcCB9KTtcbiAgICAgICAgICAgICAgcHJldmVudCA9IHN0YXRlLmNvbnRleHQuaXNWZXJ0aWNhbDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBBcnJvd0Rvd24oKSB7XG4gICAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIkFSUk9XX0RPV05cIiwgc3RlcCB9KTtcbiAgICAgICAgICAgICAgcHJldmVudCA9IHN0YXRlLmNvbnRleHQuaXNWZXJ0aWNhbDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBBcnJvd0xlZnQoKSB7XG4gICAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIkFSUk9XX0xFRlRcIiwgc3RlcCB9KTtcbiAgICAgICAgICAgICAgcHJldmVudCA9IHN0YXRlLmNvbnRleHQuaXNIb3Jpem9udGFsO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIEFycm93UmlnaHQoKSB7XG4gICAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIkFSUk9XX1JJR0hUXCIsIHN0ZXAgfSk7XG4gICAgICAgICAgICAgIHByZXZlbnQgPSBzdGF0ZS5jb250ZXh0LmlzSG9yaXpvbnRhbDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBQYWdlVXAoKSB7XG4gICAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIlBBR0VfVVBcIiwgc3RlcCB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBQYWdlRG93bigpIHtcbiAgICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwiUEFHRV9ET1dOXCIsIHN0ZXAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgSG9tZSgpIHtcbiAgICAgICAgICAgICAgc2VuZChcIkhPTUVcIik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgRW5kKCkge1xuICAgICAgICAgICAgICBzZW5kKFwiRU5EXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3Qga2V5ID0gZ2V0RXZlbnRLZXkoZXZlbnQsIHN0YXRlLmNvbnRleHQpO1xuICAgICAgICAgIGNvbnN0IGV4ZWMgPSBrZXlNYXBba2V5XTtcbiAgICAgICAgICBpZiAoIWV4ZWMpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgZXhlYyhldmVudCk7XG4gICAgICAgICAgaWYgKHByZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0SGlkZGVuSW5wdXRQcm9wcyhwcm9wcykge1xuICAgICAgY29uc3QgeyBpbmRleCA9IDAgfSA9IHByb3BzO1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZS5pbnB1dCh7XG4gICAgICAgIG5hbWU6IGAke3N0YXRlLmNvbnRleHQubmFtZX1bJHtpbmRleH1dYCxcbiAgICAgICAgZm9ybTogc3RhdGUuY29udGV4dC5mb3JtLFxuICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgaGlkZGVuOiB0cnVlLFxuICAgICAgICBkZWZhdWx0VmFsdWU6IHN0YXRlLmNvbnRleHQudmFsdWVbaW5kZXhdLFxuICAgICAgICBpZDogZG9tLmdldEhpZGRlbklucHV0SWQoc3RhdGUuY29udGV4dCwgaW5kZXgpXG4gICAgICB9KTtcbiAgICB9LFxuICAgIHJhbmdlUHJvcHM6IG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgIGlkOiBkb20uZ2V0UmFuZ2VJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIC4uLnBhcnRzLnJhbmdlLmF0dHJzLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIFwiZGF0YS1mb2N1c1wiOiBkYXRhQXR0cihpc0ZvY3VzZWQpLFxuICAgICAgXCJkYXRhLWludmFsaWRcIjogZGF0YUF0dHIoaXNJbnZhbGlkKSxcbiAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihpc0Rpc2FibGVkKSxcbiAgICAgIFwiZGF0YS1vcmllbnRhdGlvblwiOiBzdGF0ZS5jb250ZXh0Lm9yaWVudGF0aW9uLFxuICAgICAgc3R5bGU6IGRvbS5nZXRSYW5nZVN0eWxlKHN0YXRlLmNvbnRleHQpXG4gICAgfSksXG4gICAgY29udHJvbFByb3BzOiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICAuLi5wYXJ0cy5jb250cm9sLmF0dHJzLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIGlkOiBkb20uZ2V0Q29udHJvbElkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgXCJkYXRhLWRpc2FibGVkXCI6IGRhdGFBdHRyKGlzRGlzYWJsZWQpLFxuICAgICAgXCJkYXRhLW9yaWVudGF0aW9uXCI6IHN0YXRlLmNvbnRleHQub3JpZW50YXRpb24sXG4gICAgICBcImRhdGEtaW52YWxpZFwiOiBkYXRhQXR0cihpc0ludmFsaWQpLFxuICAgICAgXCJkYXRhLWZvY3VzXCI6IGRhdGFBdHRyKGlzRm9jdXNlZCksXG4gICAgICBzdHlsZTogZG9tLmdldENvbnRyb2xTdHlsZSgpLFxuICAgICAgb25Qb2ludGVyRG93bihldmVudCkge1xuICAgICAgICBpZiAoIWlzSW50ZXJhY3RpdmUpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBldnQgPSBnZXROYXRpdmVFdmVudChldmVudCk7XG4gICAgICAgIGlmICghaXNMZWZ0Q2xpY2soZXZ0KSB8fCBpc01vZGlmaWVkRXZlbnQoZXZ0KSlcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHBvaW50ID0gZ2V0RXZlbnRQb2ludChldnQpO1xuICAgICAgICBzZW5kKHsgdHlwZTogXCJQT0lOVEVSX0RPV05cIiwgcG9pbnQgfSk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfVxuICAgIH0pLFxuICAgIG1hcmtlckdyb3VwUHJvcHM6IG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgIC4uLnBhcnRzLm1hcmtlckdyb3VwLmF0dHJzLFxuICAgICAgcm9sZTogXCJwcmVzZW50YXRpb25cIixcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICBcImFyaWEtaGlkZGVuXCI6IHRydWUsXG4gICAgICBcImRhdGEtb3JpZW50YXRpb25cIjogc3RhdGUuY29udGV4dC5vcmllbnRhdGlvbixcbiAgICAgIHN0eWxlOiBkb20uZ2V0TWFya2VyR3JvdXBTdHlsZSgpXG4gICAgfSksXG4gICAgZ2V0TWFya2VyUHJvcHMocHJvcHMpIHtcbiAgICAgIGNvbnN0IHN0eWxlID0gZG9tLmdldE1hcmtlclN0eWxlKHN0YXRlLmNvbnRleHQsIHByb3BzLnZhbHVlKTtcbiAgICAgIGxldCBtYXJrZXJTdGF0ZTtcbiAgICAgIGNvbnN0IGZpcnN0ID0gc3RhdGUuY29udGV4dC52YWx1ZVswXTtcbiAgICAgIGNvbnN0IGxhc3QgPSBzdGF0ZS5jb250ZXh0LnZhbHVlW3N0YXRlLmNvbnRleHQudmFsdWUubGVuZ3RoIC0gMV07XG4gICAgICBpZiAocHJvcHMudmFsdWUgPCBmaXJzdCkge1xuICAgICAgICBtYXJrZXJTdGF0ZSA9IFwidW5kZXItdmFsdWVcIjtcbiAgICAgIH0gZWxzZSBpZiAocHJvcHMudmFsdWUgPiBsYXN0KSB7XG4gICAgICAgIG1hcmtlclN0YXRlID0gXCJvdmVyLXZhbHVlXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXJrZXJTdGF0ZSA9IFwiYXQtdmFsdWVcIjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICAgIC4uLnBhcnRzLm1hcmtlci5hdHRycyxcbiAgICAgICAgaWQ6IGRvbS5nZXRNYXJrZXJJZChzdGF0ZS5jb250ZXh0LCBwcm9wcy52YWx1ZSksXG4gICAgICAgIHJvbGU6IFwicHJlc2VudGF0aW9uXCIsXG4gICAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICAgIFwiZGF0YS1vcmllbnRhdGlvblwiOiBzdGF0ZS5jb250ZXh0Lm9yaWVudGF0aW9uLFxuICAgICAgICBcImRhdGEtdmFsdWVcIjogcHJvcHMudmFsdWUsXG4gICAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihpc0Rpc2FibGVkKSxcbiAgICAgICAgXCJkYXRhLXN0YXRlXCI6IG1hcmtlclN0YXRlLFxuICAgICAgICBzdHlsZVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufVxuXG4vLyBzcmMvc2xpZGVyLm1hY2hpbmUudHNcbmltcG9ydCB7IGNyZWF0ZU1hY2hpbmUgfSBmcm9tIFwiQHphZy1qcy9jb3JlXCI7XG5pbXBvcnQgeyB0cmFja1BvaW50ZXJNb3ZlIH0gZnJvbSBcIkB6YWctanMvZG9tLWV2ZW50XCI7XG5pbXBvcnQgeyByYWYgfSBmcm9tIFwiQHphZy1qcy9kb20tcXVlcnlcIjtcbmltcG9ydCB7IHRyYWNrRWxlbWVudHNTaXplIH0gZnJvbSBcIkB6YWctanMvZWxlbWVudC1zaXplXCI7XG5pbXBvcnQgeyB0cmFja0Zvcm1Db250cm9sIH0gZnJvbSBcIkB6YWctanMvZm9ybS11dGlsc1wiO1xuaW1wb3J0IHsgZ2V0VmFsdWVQZXJjZW50IGFzIGdldFZhbHVlUGVyY2VudDMgfSBmcm9tIFwiQHphZy1qcy9udW1lcmljLXJhbmdlXCI7XG5pbXBvcnQgeyBjb21wYWN0LCBpc0VxdWFsIH0gZnJvbSBcIkB6YWctanMvdXRpbHNcIjtcbnZhciBpc0VxdWFsU2l6ZSA9IChhLCBiKSA9PiB7XG4gIHJldHVybiBhPy53aWR0aCA9PT0gYj8ud2lkdGggJiYgYT8uaGVpZ2h0ID09PSBiPy5oZWlnaHQ7XG59O1xuZnVuY3Rpb24gbWFjaGluZSh1c2VyQ29udGV4dCkge1xuICBjb25zdCBjdHggPSBjb21wYWN0KHVzZXJDb250ZXh0KTtcbiAgcmV0dXJuIGNyZWF0ZU1hY2hpbmUoXG4gICAge1xuICAgICAgaWQ6IFwic2xpZGVyXCIsXG4gICAgICBpbml0aWFsOiBcImlkbGVcIixcbiAgICAgIGNvbnRleHQ6IHtcbiAgICAgICAgdGh1bWJTaXplOiBudWxsLFxuICAgICAgICB0aHVtYkFsaWdubWVudDogXCJjb250YWluXCIsXG4gICAgICAgIGZvY3VzZWRJbmRleDogLTEsXG4gICAgICAgIG1pbjogMCxcbiAgICAgICAgbWF4OiAxMDAsXG4gICAgICAgIHN0ZXA6IDEsXG4gICAgICAgIHZhbHVlOiBbMF0sXG4gICAgICAgIG9yaWdpbjogXCJzdGFydFwiLFxuICAgICAgICBvcmllbnRhdGlvbjogXCJob3Jpem9udGFsXCIsXG4gICAgICAgIGRpcjogXCJsdHJcIixcbiAgICAgICAgbWluU3RlcHNCZXR3ZWVuVGh1bWJzOiAwLFxuICAgICAgICBkaXNhYmxlZDogZmFsc2UsXG4gICAgICAgIC4uLmN0eCxcbiAgICAgICAgZmllbGRzZXREaXNhYmxlZDogZmFsc2VcbiAgICAgIH0sXG4gICAgICBjb21wdXRlZDoge1xuICAgICAgICBpc0hvcml6b250YWw6IChjdHgyKSA9PiBjdHgyLm9yaWVudGF0aW9uID09PSBcImhvcml6b250YWxcIixcbiAgICAgICAgaXNWZXJ0aWNhbDogKGN0eDIpID0+IGN0eDIub3JpZW50YXRpb24gPT09IFwidmVydGljYWxcIixcbiAgICAgICAgaXNSdGw6IChjdHgyKSA9PiBjdHgyLm9yaWVudGF0aW9uID09PSBcImhvcml6b250YWxcIiAmJiBjdHgyLmRpciA9PT0gXCJydGxcIixcbiAgICAgICAgaXNEaXNhYmxlZDogKGN0eDIpID0+ICEhY3R4Mi5kaXNhYmxlZCB8fCBjdHgyLmZpZWxkc2V0RGlzYWJsZWQsXG4gICAgICAgIGlzSW50ZXJhY3RpdmU6IChjdHgyKSA9PiAhKGN0eDIucmVhZE9ubHkgfHwgY3R4Mi5pc0Rpc2FibGVkKSxcbiAgICAgICAgc3BhY2luZzogKGN0eDIpID0+IGN0eDIubWluU3RlcHNCZXR3ZWVuVGh1bWJzICogY3R4Mi5zdGVwLFxuICAgICAgICBoYXNNZWFzdXJlZFRodW1iU2l6ZTogKGN0eDIpID0+IGN0eDIudGh1bWJTaXplICE9IG51bGwsXG4gICAgICAgIHZhbHVlUGVyY2VudChjdHgyKSB7XG4gICAgICAgICAgcmV0dXJuIGN0eDIudmFsdWUubWFwKCh2YWx1ZSkgPT4gMTAwICogZ2V0VmFsdWVQZXJjZW50Myh2YWx1ZSwgY3R4Mi5taW4sIGN0eDIubWF4KSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB3YXRjaDoge1xuICAgICAgICB2YWx1ZTogW1wic3luY0lucHV0RWxlbWVudHNcIl1cbiAgICAgIH0sXG4gICAgICBlbnRyeTogW1wiY29hcnNlVmFsdWVcIl0sXG4gICAgICBhY3Rpdml0aWVzOiBbXCJ0cmFja0Zvcm1Db250cm9sU3RhdGVcIiwgXCJ0cmFja1RodW1ic1NpemVcIl0sXG4gICAgICBvbjoge1xuICAgICAgICBTRVRfVkFMVUU6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBndWFyZDogXCJoYXNJbmRleFwiLFxuICAgICAgICAgICAgYWN0aW9uczogXCJzZXRWYWx1ZUF0SW5kZXhcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgeyBhY3Rpb25zOiBcInNldFZhbHVlXCIgfVxuICAgICAgICBdLFxuICAgICAgICBJTkNSRU1FTlQ6IHtcbiAgICAgICAgICBhY3Rpb25zOiBcImluY3JlbWVudEF0SW5kZXhcIlxuICAgICAgICB9LFxuICAgICAgICBERUNSRU1FTlQ6IHtcbiAgICAgICAgICBhY3Rpb25zOiBcImRlY3JlbWVudEF0SW5kZXhcIlxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgc3RhdGVzOiB7XG4gICAgICAgIGlkbGU6IHtcbiAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgUE9JTlRFUl9ET1dOOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJkcmFnZ2luZ1wiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRDbG9zZXN0VGh1bWJJbmRleFwiLCBcInNldFBvaW50ZXJWYWx1ZVwiLCBcImZvY3VzQWN0aXZlVGh1bWJcIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBGT0NVUzoge1xuICAgICAgICAgICAgICB0YXJnZXQ6IFwiZm9jdXNcIixcbiAgICAgICAgICAgICAgYWN0aW9uczogXCJzZXRGb2N1c2VkSW5kZXhcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFRIVU1CX1BPSU5URVJfRE9XTjoge1xuICAgICAgICAgICAgICB0YXJnZXQ6IFwiZHJhZ2dpbmdcIixcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wic2V0Rm9jdXNlZEluZGV4XCIsIFwiZm9jdXNBY3RpdmVUaHVtYlwiXVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZm9jdXM6IHtcbiAgICAgICAgICBlbnRyeTogXCJmb2N1c0FjdGl2ZVRodW1iXCIsXG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIFBPSU5URVJfRE9XTjoge1xuICAgICAgICAgICAgICB0YXJnZXQ6IFwiZHJhZ2dpbmdcIixcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wic2V0Q2xvc2VzdFRodW1iSW5kZXhcIiwgXCJzZXRQb2ludGVyVmFsdWVcIiwgXCJmb2N1c0FjdGl2ZVRodW1iXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgVEhVTUJfUE9JTlRFUl9ET1dOOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJkcmFnZ2luZ1wiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRGb2N1c2VkSW5kZXhcIiwgXCJmb2N1c0FjdGl2ZVRodW1iXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgQVJST1dfTEVGVDoge1xuICAgICAgICAgICAgICBndWFyZDogXCJpc0hvcml6b250YWxcIixcbiAgICAgICAgICAgICAgYWN0aW9uczogXCJkZWNyZW1lbnRBdEluZGV4XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBBUlJPV19SSUdIVDoge1xuICAgICAgICAgICAgICBndWFyZDogXCJpc0hvcml6b250YWxcIixcbiAgICAgICAgICAgICAgYWN0aW9uczogXCJpbmNyZW1lbnRBdEluZGV4XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBBUlJPV19VUDoge1xuICAgICAgICAgICAgICBndWFyZDogXCJpc1ZlcnRpY2FsXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFwiaW5jcmVtZW50QXRJbmRleFwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgQVJST1dfRE9XTjoge1xuICAgICAgICAgICAgICBndWFyZDogXCJpc1ZlcnRpY2FsXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFwiZGVjcmVtZW50QXRJbmRleFwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgUEFHRV9VUDoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBcImluY3JlbWVudEF0SW5kZXhcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFBBR0VfRE9XTjoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBcImRlY3JlbWVudEF0SW5kZXhcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIEhPTUU6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogXCJzZXRBY3RpdmVUaHVtYlRvTWluXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBFTkQ6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogXCJzZXRBY3RpdmVUaHVtYlRvTWF4XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBCTFVSOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJpZGxlXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFwiY2xlYXJGb2N1c2VkSW5kZXhcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZHJhZ2dpbmc6IHtcbiAgICAgICAgICBlbnRyeTogXCJmb2N1c0FjdGl2ZVRodW1iXCIsXG4gICAgICAgICAgYWN0aXZpdGllczogXCJ0cmFja1BvaW50ZXJNb3ZlXCIsXG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIFBPSU5URVJfVVA6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcImZvY3VzXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFwiaW52b2tlT25DaGFuZ2VFbmRcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFBPSU5URVJfTU9WRToge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBcInNldFBvaW50ZXJWYWx1ZVwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICBndWFyZHM6IHtcbiAgICAgICAgaXNIb3Jpem9udGFsOiAoY3R4MikgPT4gY3R4Mi5pc0hvcml6b250YWwsXG4gICAgICAgIGlzVmVydGljYWw6IChjdHgyKSA9PiBjdHgyLmlzVmVydGljYWwsXG4gICAgICAgIGhhc0luZGV4OiAoX2N0eCwgZXZ0KSA9PiBldnQuaW5kZXggIT0gbnVsbFxuICAgICAgfSxcbiAgICAgIGFjdGl2aXRpZXM6IHtcbiAgICAgICAgdHJhY2tGb3JtQ29udHJvbFN0YXRlKGN0eDIsIF9ldnQsIHsgaW5pdGlhbENvbnRleHQgfSkge1xuICAgICAgICAgIHJldHVybiB0cmFja0Zvcm1Db250cm9sKGRvbS5nZXRSb290RWwoY3R4MiksIHtcbiAgICAgICAgICAgIG9uRmllbGRzZXREaXNhYmxlZENoYW5nZShkaXNhYmxlZCkge1xuICAgICAgICAgICAgICBjdHgyLmZpZWxkc2V0RGlzYWJsZWQgPSBkaXNhYmxlZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkZvcm1SZXNldCgpIHtcbiAgICAgICAgICAgICAgc2V0LnZhbHVlKGN0eDIsIGluaXRpYWxDb250ZXh0LnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgdHJhY2tQb2ludGVyTW92ZShjdHgyLCBfZXZ0LCB7IHNlbmQgfSkge1xuICAgICAgICAgIHJldHVybiB0cmFja1BvaW50ZXJNb3ZlKGRvbS5nZXREb2MoY3R4MiksIHtcbiAgICAgICAgICAgIG9uUG9pbnRlck1vdmUoaW5mbykge1xuICAgICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJQT0lOVEVSX01PVkVcIiwgcG9pbnQ6IGluZm8ucG9pbnQgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25Qb2ludGVyVXAoKSB7XG4gICAgICAgICAgICAgIHNlbmQoXCJQT0lOVEVSX1VQXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICB0cmFja1RodW1ic1NpemUoY3R4Mikge1xuICAgICAgICAgIGlmIChjdHgyLnRodW1iQWxpZ25tZW50ICE9PSBcImNvbnRhaW5cIiB8fCBjdHgyLnRodW1iU2l6ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICByZXR1cm4gdHJhY2tFbGVtZW50c1NpemUoe1xuICAgICAgICAgICAgZ2V0Tm9kZXM6ICgpID0+IGRvbS5nZXRFbGVtZW50cyhjdHgyKSxcbiAgICAgICAgICAgIG9ic2VydmVNdXRhdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgIGNhbGxiYWNrKHNpemUpIHtcbiAgICAgICAgICAgICAgaWYgKCFzaXplIHx8IGlzRXF1YWxTaXplKGN0eDIudGh1bWJTaXplLCBzaXplKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIGN0eDIudGh1bWJTaXplID0gc2l6ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGFjdGlvbnM6IHtcbiAgICAgICAgc3luY0lucHV0RWxlbWVudHMoY3R4Mikge1xuICAgICAgICAgIGN0eDIudmFsdWUuZm9yRWFjaCgodmFsdWUsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpbnB1dEVsID0gZG9tLmdldEhpZGRlbklucHV0RWwoY3R4MiwgaW5kZXgpO1xuICAgICAgICAgICAgZG9tLnNldFZhbHVlKGlucHV0RWwsIHZhbHVlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgaW52b2tlT25DaGFuZ2VFbmQoY3R4Mikge1xuICAgICAgICAgIGN0eDIub25WYWx1ZUNoYW5nZUVuZD8uKHsgdmFsdWU6IGN0eDIudmFsdWUgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldENsb3Nlc3RUaHVtYkluZGV4KGN0eDIsIGV2dCkge1xuICAgICAgICAgIGNvbnN0IHBvaW50VmFsdWUgPSBkb20uZ2V0VmFsdWVGcm9tUG9pbnQoY3R4MiwgZXZ0LnBvaW50KTtcbiAgICAgICAgICBpZiAocG9pbnRWYWx1ZSA9PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IGZvY3VzZWRJbmRleCA9IGdldENsb3Nlc3RJbmRleChjdHgyLCBwb2ludFZhbHVlKTtcbiAgICAgICAgICBzZXQuZm9jdXNlZEluZGV4KGN0eDIsIGZvY3VzZWRJbmRleCk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldEZvY3VzZWRJbmRleChjdHgyLCBldnQpIHtcbiAgICAgICAgICBzZXQuZm9jdXNlZEluZGV4KGN0eDIsIGV2dC5pbmRleCk7XG4gICAgICAgIH0sXG4gICAgICAgIGNsZWFyRm9jdXNlZEluZGV4KGN0eDIpIHtcbiAgICAgICAgICBzZXQuZm9jdXNlZEluZGV4KGN0eDIsIC0xKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0UG9pbnRlclZhbHVlKGN0eDIsIGV2dCkge1xuICAgICAgICAgIGNvbnN0IHBvaW50ZXJWYWx1ZSA9IGRvbS5nZXRWYWx1ZUZyb21Qb2ludChjdHgyLCBldnQucG9pbnQpO1xuICAgICAgICAgIGlmIChwb2ludGVyVmFsdWUgPT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IGNvbnN0cmFpblZhbHVlKGN0eDIsIHBvaW50ZXJWYWx1ZSwgY3R4Mi5mb2N1c2VkSW5kZXgpO1xuICAgICAgICAgIHNldC52YWx1ZUF0SW5kZXgoY3R4MiwgY3R4Mi5mb2N1c2VkSW5kZXgsIHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZm9jdXNBY3RpdmVUaHVtYihjdHgyKSB7XG4gICAgICAgICAgcmFmKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRodW1iRWwgPSBkb20uZ2V0VGh1bWJFbChjdHgyLCBjdHgyLmZvY3VzZWRJbmRleCk7XG4gICAgICAgICAgICB0aHVtYkVsPy5mb2N1cyh7IHByZXZlbnRTY3JvbGw6IHRydWUgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGRlY3JlbWVudEF0SW5kZXgoY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSBkZWNyZW1lbnQoY3R4MiwgZXZ0LmluZGV4LCBldnQuc3RlcCk7XG4gICAgICAgICAgc2V0LnZhbHVlKGN0eDIsIHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgaW5jcmVtZW50QXRJbmRleChjdHgyLCBldnQpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IGluY3JlbWVudChjdHgyLCBldnQuaW5kZXgsIGV2dC5zdGVwKTtcbiAgICAgICAgICBzZXQudmFsdWUoY3R4MiwgdmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBzZXRBY3RpdmVUaHVtYlRvTWluKGN0eDIpIHtcbiAgICAgICAgICBjb25zdCB7IG1pbiB9ID0gZ2V0UmFuZ2VBdEluZGV4KGN0eDIsIGN0eDIuZm9jdXNlZEluZGV4KTtcbiAgICAgICAgICBzZXQudmFsdWVBdEluZGV4KGN0eDIsIGN0eDIuZm9jdXNlZEluZGV4LCBtaW4pO1xuICAgICAgICB9LFxuICAgICAgICBzZXRBY3RpdmVUaHVtYlRvTWF4KGN0eDIpIHtcbiAgICAgICAgICBjb25zdCB7IG1heCB9ID0gZ2V0UmFuZ2VBdEluZGV4KGN0eDIsIGN0eDIuZm9jdXNlZEluZGV4KTtcbiAgICAgICAgICBzZXQudmFsdWVBdEluZGV4KGN0eDIsIGN0eDIuZm9jdXNlZEluZGV4LCBtYXgpO1xuICAgICAgICB9LFxuICAgICAgICBjb2Fyc2VWYWx1ZShjdHgyKSB7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSBub3JtYWxpemVWYWx1ZXMoY3R4MiwgY3R4Mi52YWx1ZSk7XG4gICAgICAgICAgc2V0LnZhbHVlKGN0eDIsIHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0VmFsdWVBdEluZGV4KGN0eDIsIGV2dCkge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gY29uc3RyYWluVmFsdWUoY3R4MiwgZXZ0LnZhbHVlLCBldnQuaW5kZXgpO1xuICAgICAgICAgIHNldC52YWx1ZUF0SW5kZXgoY3R4MiwgZXZ0LmluZGV4LCB2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFZhbHVlKGN0eDIsIGV2dCkge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gbm9ybWFsaXplVmFsdWVzKGN0eDIsIGV2dC52YWx1ZSk7XG4gICAgICAgICAgc2V0LnZhbHVlKGN0eDIsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgKTtcbn1cbnZhciBpbnZva2UgPSB7XG4gIGNoYW5nZTogKGN0eCkgPT4ge1xuICAgIGN0eC5vblZhbHVlQ2hhbmdlPy4oe1xuICAgICAgdmFsdWU6IEFycmF5LmZyb20oY3R4LnZhbHVlKVxuICAgIH0pO1xuICAgIGRvbS5kaXNwYXRjaENoYW5nZUV2ZW50KGN0eCk7XG4gIH0sXG4gIGZvY3VzQ2hhbmdlOiAoY3R4KSA9PiB7XG4gICAgY3R4Lm9uRm9jdXNDaGFuZ2U/Lih7XG4gICAgICB2YWx1ZTogQXJyYXkuZnJvbShjdHgudmFsdWUpLFxuICAgICAgZm9jdXNlZEluZGV4OiBjdHguZm9jdXNlZEluZGV4XG4gICAgfSk7XG4gIH1cbn07XG52YXIgc2V0ID0ge1xuICB2YWx1ZUF0SW5kZXg6IChjdHgsIGluZGV4LCB2YWx1ZSkgPT4ge1xuICAgIGlmIChpc0VxdWFsKGN0eC52YWx1ZVtpbmRleF0sIHZhbHVlKSlcbiAgICAgIHJldHVybjtcbiAgICBjdHgudmFsdWVbaW5kZXhdID0gdmFsdWU7XG4gICAgaW52b2tlLmNoYW5nZShjdHgpO1xuICB9LFxuICB2YWx1ZTogKGN0eCwgdmFsdWUpID0+IHtcbiAgICBpZiAoaXNFcXVhbChjdHgudmFsdWUsIHZhbHVlKSlcbiAgICAgIHJldHVybjtcbiAgICBhc3NpZ25BcnJheShjdHgudmFsdWUsIHZhbHVlKTtcbiAgICBpbnZva2UuY2hhbmdlKGN0eCk7XG4gIH0sXG4gIGZvY3VzZWRJbmRleDogKGN0eCwgaW5kZXgpID0+IHtcbiAgICBpZiAoaXNFcXVhbChjdHguZm9jdXNlZEluZGV4LCBpbmRleCkpXG4gICAgICByZXR1cm47XG4gICAgY3R4LmZvY3VzZWRJbmRleCA9IGluZGV4O1xuICAgIGludm9rZS5mb2N1c0NoYW5nZShjdHgpO1xuICB9XG59O1xuZXhwb3J0IHtcbiAgYW5hdG9teSxcbiAgY29ubmVjdCxcbiAgbWFjaGluZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/slider/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/splitter/dist/index.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@zag-js/splitter/dist/index.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   anatomy: () => (/* binding */ anatomy),\n/* harmony export */   connect: () => (/* binding */ connect),\n/* harmony export */   machine: () => (/* binding */ machine)\n/* harmony export */ });\n/* harmony import */ var _zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/anatomy */ \"(ssr)/./node_modules/@zag-js/anatomy/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @zag-js/dom-event */ \"(ssr)/./node_modules/@zag-js/dom-event/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @zag-js/dom-query */ \"(ssr)/./node_modules/@zag-js/dom-query/dist/index.mjs\");\n/* harmony import */ var _zag_js_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @zag-js/core */ \"(ssr)/./node_modules/@zag-js/core/dist/index.mjs\");\n/* harmony import */ var _zag_js_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @zag-js/utils */ \"(ssr)/./node_modules/@zag-js/utils/dist/index.mjs\");\n// src/splitter.anatomy.ts\n\nvar anatomy = (0,_zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__.createAnatomy)(\"splitter\").parts(\"root\", \"panel\", \"resizeTrigger\");\nvar parts = anatomy.build();\n\n// src/splitter.connect.ts\n\n\n\n// src/splitter.dom.ts\n\nvar dom = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.createScope)({\n  getRootId: (ctx) => ctx.ids?.root ?? `splitter:${ctx.id}`,\n  getResizeTriggerId: (ctx, id) => ctx.ids?.resizeTrigger?.(id) ?? `splitter:${ctx.id}:splitter:${id}`,\n  getLabelId: (ctx) => ctx.ids?.label ?? `splitter:${ctx.id}:label`,\n  getPanelId: (ctx, id) => ctx.ids?.panel?.(id) ?? `splitter:${ctx.id}:panel:${id}`,\n  globalCursorId: (ctx) => `splitter:${ctx.id}:global-cursor`,\n  getRootEl: (ctx) => dom.getById(ctx, dom.getRootId(ctx)),\n  getResizeTriggerEl: (ctx, id) => dom.getById(ctx, dom.getResizeTriggerId(ctx, id)),\n  getPanelEl: (ctx, id) => dom.getById(ctx, dom.getPanelId(ctx, id)),\n  getCursor(ctx) {\n    const x = ctx.isHorizontal;\n    let cursor = x ? \"col-resize\" : \"row-resize\";\n    if (ctx.activeResizeState.isAtMin)\n      cursor = x ? \"e-resize\" : \"s-resize\";\n    if (ctx.activeResizeState.isAtMax)\n      cursor = x ? \"w-resize\" : \"n-resize\";\n    return cursor;\n  },\n  getPanelStyle(ctx, id) {\n    const flexGrow = ctx.panels.find((panel) => panel.id === id)?.size ?? \"0\";\n    return {\n      flexBasis: 0,\n      flexGrow,\n      flexShrink: 1,\n      overflow: \"hidden\"\n    };\n  },\n  getActiveHandleEl(ctx) {\n    const activeId = ctx.activeResizeId;\n    if (activeId == null)\n      return;\n    return dom.getById(ctx, dom.getResizeTriggerId(ctx, activeId));\n  },\n  getResizeTriggerEls(ctx) {\n    const ownerId = CSS.escape(dom.getRootId(ctx));\n    return (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.queryAll)(dom.getRootEl(ctx), `[role=separator][data-ownedby='${ownerId}']`);\n  },\n  setupGlobalCursor(ctx) {\n    const styleEl = dom.getById(ctx, dom.globalCursorId(ctx));\n    const textContent = `* { cursor: ${dom.getCursor(ctx)} !important; }`;\n    if (styleEl) {\n      styleEl.textContent = textContent;\n    } else {\n      const style = dom.getDoc(ctx).createElement(\"style\");\n      style.id = dom.globalCursorId(ctx);\n      style.textContent = textContent;\n      dom.getDoc(ctx).head.appendChild(style);\n    }\n  },\n  removeGlobalCursor(ctx) {\n    dom.getById(ctx, dom.globalCursorId(ctx))?.remove();\n  }\n});\n\n// src/splitter.utils.ts\nfunction validateSize(key, size) {\n  if (Math.floor(size) > 100) {\n    throw new Error(`Total ${key} of panels cannot be greater than 100`);\n  }\n}\nfunction getNormalizedPanels(ctx) {\n  let numOfPanelsWithoutSize = 0;\n  let totalSize = 0;\n  let totalMinSize = 0;\n  const panels = ctx.size.map((panel) => {\n    const minSize = panel.minSize ?? 0;\n    const maxSize = panel.maxSize ?? 100;\n    totalMinSize += minSize;\n    if (panel.size == null) {\n      numOfPanelsWithoutSize++;\n    } else {\n      totalSize += panel.size;\n    }\n    return {\n      ...panel,\n      minSize,\n      maxSize\n    };\n  });\n  validateSize(\"minSize\", totalMinSize);\n  validateSize(\"size\", totalSize);\n  let end = 0;\n  let remainingSize = 0;\n  const result = panels.map((panel) => {\n    let start = end;\n    if (panel.size != null) {\n      end += panel.size;\n      remainingSize = panel.size - panel.minSize;\n      return {\n        ...panel,\n        start,\n        end,\n        remainingSize\n      };\n    }\n    const size = (100 - totalSize) / numOfPanelsWithoutSize;\n    end += size;\n    remainingSize = size - panel.minSize;\n    return { ...panel, size, start, end, remainingSize };\n  });\n  return result;\n}\nfunction getHandlePanels(ctx, id = ctx.activeResizeId) {\n  const [beforeId, afterId] = id?.split(\":\") ?? [];\n  if (!beforeId || !afterId)\n    return;\n  const beforeIndex = ctx.previousPanels.findIndex((panel) => panel.id === beforeId);\n  const afterIndex = ctx.previousPanels.findIndex((panel) => panel.id === afterId);\n  if (beforeIndex === -1 || afterIndex === -1)\n    return;\n  const before = ctx.previousPanels[beforeIndex];\n  const after = ctx.previousPanels[afterIndex];\n  return {\n    before: {\n      ...before,\n      index: beforeIndex\n    },\n    after: {\n      ...after,\n      index: afterIndex\n    }\n  };\n}\nfunction getHandleBounds(ctx, id = ctx.activeResizeId) {\n  const panels = getHandlePanels(ctx, id);\n  if (!panels)\n    return;\n  const { before, after } = panels;\n  return {\n    min: Math.max(before.start + before.minSize, after.end - after.maxSize),\n    max: Math.min(after.end - after.minSize, before.maxSize + before.start)\n  };\n}\nfunction getPanelBounds(ctx, id) {\n  const bounds = getHandleBounds(ctx, id);\n  const panels = getHandlePanels(ctx, id);\n  if (!bounds || !panels)\n    return;\n  const { before, after } = panels;\n  const beforeMin = Math.abs(before.start - bounds.min);\n  const afterMin = after.size + (before.size - beforeMin);\n  const beforeMax = Math.abs(before.start - bounds.max);\n  const afterMax = after.size - (beforeMax - before.size);\n  return {\n    before: {\n      index: before.index,\n      min: beforeMin,\n      max: beforeMax,\n      isAtMin: beforeMin === before.size,\n      isAtMax: beforeMax === before.size,\n      up(step) {\n        return Math.min(before.size + step, beforeMax);\n      },\n      down(step) {\n        return Math.max(before.size - step, beforeMin);\n      }\n    },\n    after: {\n      index: after.index,\n      min: afterMin,\n      max: afterMax,\n      isAtMin: afterMin === after.size,\n      isAtMax: afterMax === after.size,\n      up(step) {\n        return Math.min(after.size + step, afterMin);\n      },\n      down(step) {\n        return Math.max(after.size - step, afterMax);\n      }\n    }\n  };\n}\nfunction clamp(value, min, max) {\n  return Math.min(Math.max(value, min), max);\n}\n\n// src/splitter.connect.ts\nfunction connect(state, send, normalize) {\n  const isHorizontal = state.context.isHorizontal;\n  const isFocused = state.hasTag(\"focus\");\n  const isDragging = state.matches(\"dragging\");\n  const panels = state.context.panels;\n  function getResizeTriggerState(props) {\n    const { id, disabled } = props;\n    const ids = id.split(\":\");\n    const panelIds = ids.map((id2) => dom.getPanelId(state.context, id2));\n    const panels2 = getHandleBounds(state.context, id);\n    return {\n      isDisabled: !!disabled,\n      isFocused: state.context.activeResizeId === id && isFocused,\n      panelIds,\n      min: panels2?.min,\n      max: panels2?.max,\n      value: 0\n    };\n  }\n  return {\n    isFocused,\n    isDragging,\n    getResizeTriggerState,\n    bounds: getHandleBounds(state.context),\n    setToMinSize(id) {\n      const panel = panels.find((panel2) => panel2.id === id);\n      send({ type: \"SET_PANEL_SIZE\", id, size: panel?.minSize, src: \"setToMinSize\" });\n    },\n    setToMaxSize(id) {\n      const panel = panels.find((panel2) => panel2.id === id);\n      send({ type: \"SET_PANEL_SIZE\", id, size: panel?.maxSize, src: \"setToMaxSize\" });\n    },\n    setSize(id, size) {\n      send({ type: \"SET_PANEL_SIZE\", id, size });\n    },\n    rootProps: normalize.element({\n      ...parts.root.attrs,\n      \"data-orientation\": state.context.orientation,\n      id: dom.getRootId(state.context),\n      dir: state.context.dir,\n      style: {\n        display: \"flex\",\n        flexDirection: isHorizontal ? \"row\" : \"column\",\n        height: \"100%\",\n        width: \"100%\",\n        overflow: \"hidden\"\n      }\n    }),\n    getPanelProps(props) {\n      const { id } = props;\n      return normalize.element({\n        ...parts.panel.attrs,\n        dir: state.context.dir,\n        id: dom.getPanelId(state.context, id),\n        \"data-ownedby\": dom.getRootId(state.context),\n        style: dom.getPanelStyle(state.context, id)\n      });\n    },\n    getResizeTriggerProps(props) {\n      const { id, disabled, step = 1 } = props;\n      const triggerState = getResizeTriggerState(props);\n      return normalize.element({\n        ...parts.resizeTrigger.attrs,\n        dir: state.context.dir,\n        id: dom.getResizeTriggerId(state.context, id),\n        role: \"separator\",\n        \"data-ownedby\": dom.getRootId(state.context),\n        tabIndex: disabled ? void 0 : 0,\n        \"aria-valuenow\": triggerState.value,\n        \"aria-valuemin\": triggerState.min,\n        \"aria-valuemax\": triggerState.max,\n        \"data-orientation\": state.context.orientation,\n        \"aria-orientation\": state.context.orientation,\n        \"aria-controls\": triggerState.panelIds.join(\" \"),\n        \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(triggerState.isFocused),\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(disabled),\n        style: {\n          touchAction: \"none\",\n          userSelect: \"none\",\n          flex: \"0 0 auto\",\n          pointerEvents: isDragging && !triggerState.isFocused ? \"none\" : void 0,\n          cursor: isHorizontal ? \"col-resize\" : \"row-resize\",\n          [isHorizontal ? \"minHeight\" : \"minWidth\"]: \"0\"\n        },\n        onPointerDown(event) {\n          if (disabled) {\n            event.preventDefault();\n            return;\n          }\n          send({ type: \"POINTER_DOWN\", id });\n          event.preventDefault();\n          event.stopPropagation();\n        },\n        onPointerOver() {\n          if (disabled)\n            return;\n          send({ type: \"POINTER_OVER\", id });\n        },\n        onPointerLeave() {\n          if (disabled)\n            return;\n          send({ type: \"POINTER_LEAVE\", id });\n        },\n        onBlur() {\n          send(\"BLUR\");\n        },\n        onFocus() {\n          send({ type: \"FOCUS\", id });\n        },\n        onDoubleClick() {\n          if (disabled)\n            return;\n          send({ type: \"DOUBLE_CLICK\", id });\n        },\n        onKeyDown(event) {\n          if (disabled)\n            return;\n          const moveStep = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_2__.getEventStep)(event) * step;\n          const keyMap = {\n            Enter() {\n              send(\"ENTER\");\n            },\n            ArrowUp() {\n              send({ type: \"ARROW_UP\", step: moveStep });\n            },\n            ArrowDown() {\n              send({ type: \"ARROW_DOWN\", step: moveStep });\n            },\n            ArrowLeft() {\n              send({ type: \"ARROW_LEFT\", step: moveStep });\n            },\n            ArrowRight() {\n              send({ type: \"ARROW_RIGHT\", step: moveStep });\n            },\n            Home() {\n              send(\"HOME\");\n            },\n            End() {\n              send(\"END\");\n            }\n          };\n          const key = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_2__.getEventKey)(event, state.context);\n          const exec = keyMap[key];\n          if (exec) {\n            exec(event);\n            event.preventDefault();\n          }\n        }\n      });\n    }\n  };\n}\n\n// src/splitter.machine.ts\n\n\n\n\nfunction machine(userContext) {\n  const ctx = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_3__.compact)(userContext);\n  return (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_4__.createMachine)(\n    {\n      id: \"splitter\",\n      initial: \"idle\",\n      context: {\n        orientation: \"horizontal\",\n        activeResizeId: null,\n        previousPanels: [],\n        size: [],\n        initialSize: [],\n        activeResizeState: {\n          isAtMin: false,\n          isAtMax: false\n        },\n        ...ctx\n      },\n      created: [\"setPreviousPanels\", \"setInitialSize\"],\n      watch: {\n        size: [\"setActiveResizeState\"]\n      },\n      computed: {\n        isHorizontal: (ctx2) => ctx2.orientation === \"horizontal\",\n        panels: (ctx2) => getNormalizedPanels(ctx2)\n      },\n      on: {\n        SET_PANEL_SIZE: {\n          actions: \"setPanelSize\"\n        }\n      },\n      states: {\n        idle: {\n          entry: [\"clearActiveHandleId\"],\n          on: {\n            POINTER_OVER: {\n              target: \"hover:temp\",\n              actions: [\"setActiveHandleId\"]\n            },\n            FOCUS: {\n              target: \"focused\",\n              actions: [\"setActiveHandleId\"]\n            },\n            DOUBLE_CLICK: {\n              actions: [\"resetStartPanel\", \"setPreviousPanels\"]\n            }\n          }\n        },\n        \"hover:temp\": {\n          after: {\n            HOVER_DELAY: \"hover\"\n          },\n          on: {\n            POINTER_DOWN: {\n              target: \"dragging\",\n              actions: [\"setActiveHandleId\", \"invokeOnResizeStart\"]\n            },\n            POINTER_LEAVE: \"idle\"\n          }\n        },\n        hover: {\n          tags: [\"focus\"],\n          on: {\n            POINTER_DOWN: {\n              target: \"dragging\",\n              actions: [\"invokeOnResizeStart\"]\n            },\n            POINTER_LEAVE: \"idle\"\n          }\n        },\n        focused: {\n          tags: [\"focus\"],\n          on: {\n            BLUR: \"idle\",\n            POINTER_DOWN: {\n              target: \"dragging\",\n              actions: [\"setActiveHandleId\", \"invokeOnResizeStart\"]\n            },\n            ARROW_LEFT: {\n              guard: \"isHorizontal\",\n              actions: [\"shrinkStartPanel\", \"setPreviousPanels\"]\n            },\n            ARROW_RIGHT: {\n              guard: \"isHorizontal\",\n              actions: [\"expandStartPanel\", \"setPreviousPanels\"]\n            },\n            ARROW_UP: {\n              guard: \"isVertical\",\n              actions: [\"shrinkStartPanel\", \"setPreviousPanels\"]\n            },\n            ARROW_DOWN: {\n              guard: \"isVertical\",\n              actions: [\"expandStartPanel\", \"setPreviousPanels\"]\n            },\n            ENTER: [\n              {\n                guard: \"isStartPanelAtMax\",\n                actions: [\"setStartPanelToMin\", \"setPreviousPanels\"]\n              },\n              { actions: [\"setStartPanelToMax\", \"setPreviousPanels\"] }\n            ],\n            HOME: {\n              actions: [\"setStartPanelToMin\", \"setPreviousPanels\"]\n            },\n            END: {\n              actions: [\"setStartPanelToMax\", \"setPreviousPanels\"]\n            }\n          }\n        },\n        dragging: {\n          tags: [\"focus\"],\n          entry: \"focusResizeHandle\",\n          activities: [\"trackPointerMove\"],\n          on: {\n            POINTER_MOVE: {\n              actions: [\"setPointerValue\", \"setGlobalCursor\"]\n            },\n            POINTER_UP: {\n              target: \"focused\",\n              actions: [\"invokeOnResizeEnd\", \"setPreviousPanels\", \"clearGlobalCursor\", \"blurResizeHandle\"]\n            }\n          }\n        }\n      }\n    },\n    {\n      activities: {\n        trackPointerMove: (ctx2, _evt, { send }) => {\n          const doc = dom.getDoc(ctx2);\n          return (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_2__.trackPointerMove)(doc, {\n            onPointerMove(info) {\n              send({ type: \"POINTER_MOVE\", point: info.point });\n            },\n            onPointerUp() {\n              send(\"POINTER_UP\");\n            }\n          });\n        }\n      },\n      guards: {\n        isStartPanelAtMin: (ctx2) => ctx2.activeResizeState.isAtMin,\n        isStartPanelAtMax: (ctx2) => ctx2.activeResizeState.isAtMax,\n        isHorizontal: (ctx2) => ctx2.isHorizontal,\n        isVertical: (ctx2) => !ctx2.isHorizontal\n      },\n      delays: {\n        HOVER_DELAY: 250\n      },\n      actions: {\n        setGlobalCursor(ctx2) {\n          dom.setupGlobalCursor(ctx2);\n        },\n        clearGlobalCursor(ctx2) {\n          dom.removeGlobalCursor(ctx2);\n        },\n        invokeOnResize(ctx2) {\n          ctx2.onSizeChange?.({ size: Array.from(ctx2.size), activeHandleId: ctx2.activeResizeId });\n        },\n        invokeOnResizeStart(ctx2) {\n          ctx2.onSizeChangeStart?.({ size: Array.from(ctx2.size), activeHandleId: ctx2.activeResizeId });\n        },\n        invokeOnResizeEnd(ctx2) {\n          ctx2.onSizeChangeEnd?.({ size: Array.from(ctx2.size), activeHandleId: ctx2.activeResizeId });\n        },\n        setActiveHandleId(ctx2, evt) {\n          ctx2.activeResizeId = evt.id;\n        },\n        clearActiveHandleId(ctx2) {\n          ctx2.activeResizeId = null;\n        },\n        setInitialSize(ctx2) {\n          ctx2.initialSize = ctx2.panels.slice().map((panel) => ({\n            id: panel.id,\n            size: panel.size\n          }));\n        },\n        setPanelSize(ctx2, evt) {\n          const { id, size } = evt;\n          ctx2.size = ctx2.size.map((panel) => {\n            const panelSize = clamp(size, panel.minSize ?? 0, panel.maxSize ?? 100);\n            return panel.id === id ? { ...panel, size: panelSize } : panel;\n          });\n        },\n        setStartPanelToMin(ctx2) {\n          const bounds = getPanelBounds(ctx2);\n          if (!bounds)\n            return;\n          const { before, after } = bounds;\n          ctx2.size[before.index].size = before.min;\n          ctx2.size[after.index].size = after.min;\n        },\n        setStartPanelToMax(ctx2) {\n          const bounds = getPanelBounds(ctx2);\n          if (!bounds)\n            return;\n          const { before, after } = bounds;\n          ctx2.size[before.index].size = before.max;\n          ctx2.size[after.index].size = after.max;\n        },\n        expandStartPanel(ctx2, evt) {\n          const bounds = getPanelBounds(ctx2);\n          if (!bounds)\n            return;\n          const { before, after } = bounds;\n          ctx2.size[before.index].size = before.up(evt.step);\n          ctx2.size[after.index].size = after.down(evt.step);\n        },\n        shrinkStartPanel(ctx2, evt) {\n          const bounds = getPanelBounds(ctx2);\n          if (!bounds)\n            return;\n          const { before, after } = bounds;\n          ctx2.size[before.index].size = before.down(evt.step);\n          ctx2.size[after.index].size = after.up(evt.step);\n        },\n        resetStartPanel(ctx2, evt) {\n          const bounds = getPanelBounds(ctx2, evt.id);\n          if (!bounds)\n            return;\n          const { before, after } = bounds;\n          ctx2.size[before.index].size = ctx2.initialSize[before.index].size;\n          ctx2.size[after.index].size = ctx2.initialSize[after.index].size;\n        },\n        focusResizeHandle(ctx2) {\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => {\n            dom.getActiveHandleEl(ctx2)?.focus({ preventScroll: true });\n          });\n        },\n        blurResizeHandle(ctx2) {\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => {\n            dom.getActiveHandleEl(ctx2)?.blur();\n          });\n        },\n        setPreviousPanels(ctx2) {\n          ctx2.previousPanels = ctx2.panels.slice();\n        },\n        setActiveResizeState(ctx2) {\n          const panels = getPanelBounds(ctx2);\n          if (!panels)\n            return;\n          const { before } = panels;\n          ctx2.activeResizeState = {\n            isAtMin: before.isAtMin,\n            isAtMax: before.isAtMax\n          };\n        },\n        setPointerValue(ctx2, evt) {\n          const panels = getHandlePanels(ctx2);\n          const bounds = getHandleBounds(ctx2);\n          if (!panels || !bounds)\n            return;\n          const rootEl = dom.getRootEl(ctx2);\n          if (!rootEl)\n            return;\n          const relativePoint = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_2__.getRelativePoint)(evt.point, rootEl);\n          const percentValue = relativePoint.getPercentValue({\n            dir: ctx2.dir,\n            orientation: ctx2.orientation\n          });\n          let pointValue = percentValue * 100;\n          ctx2.activeResizeState = {\n            isAtMin: pointValue < bounds.min,\n            isAtMax: pointValue > bounds.max\n          };\n          pointValue = clamp(pointValue, bounds.min, bounds.max);\n          const { before, after } = panels;\n          const offset = pointValue - before.end;\n          ctx2.size[before.index].size = before.size + offset;\n          ctx2.size[after.index].size = after.size - offset;\n        }\n      }\n    }\n  );\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9zcGxpdHRlci9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ2dEO0FBQ2hELGNBQWMsOERBQWE7QUFDM0I7O0FBRUE7QUFDOEQ7QUFDakI7O0FBRTdDO0FBQzBEO0FBQzFELFVBQVUsOERBQVc7QUFDckIsbURBQW1ELE9BQU87QUFDMUQsK0VBQStFLE9BQU8sWUFBWSxHQUFHO0FBQ3JHLHFEQUFxRCxPQUFPO0FBQzVELCtEQUErRCxPQUFPLFNBQVMsR0FBRztBQUNsRix1Q0FBdUMsT0FBTztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsV0FBVywyREFBUSx1REFBdUQsUUFBUTtBQUNsRixHQUFHO0FBQ0g7QUFDQTtBQUNBLDZCQUE2QixVQUFVLG9CQUFvQixhQUFhO0FBQ3hFO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixLQUFLO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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O0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0Esa0JBQWtCLFdBQVc7QUFDN0I7QUFDQTtBQUNBLHVDQUF1Qyw0QkFBNEI7QUFDbkUsV0FBVztBQUNYLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixnQkFBZ0I7QUFDbEM7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixnQkFBZ0I7QUFDbEM7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixnQkFBZ0I7QUFDbEM7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixnQkFBZ0I7QUFDbEM7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixnQkFBZ0I7QUFDbEM7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFVBQVUsc0RBQUc7QUFDYixpREFBaUQscUJBQXFCO0FBQ3RFLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQSxVQUFVLHNEQUFHO0FBQ2I7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsU0FBUztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLG1FQUFnQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGdCQUFnQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0U7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL0BwYXJrLXVpL2V4YW1wbGVzLXJlYWN0LW5leHQtanMvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9zcGxpdHRlci9kaXN0L2luZGV4Lm1qcz80NDkwIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9zcGxpdHRlci5hbmF0b215LnRzXG5pbXBvcnQgeyBjcmVhdGVBbmF0b215IH0gZnJvbSBcIkB6YWctanMvYW5hdG9teVwiO1xudmFyIGFuYXRvbXkgPSBjcmVhdGVBbmF0b215KFwic3BsaXR0ZXJcIikucGFydHMoXCJyb290XCIsIFwicGFuZWxcIiwgXCJyZXNpemVUcmlnZ2VyXCIpO1xudmFyIHBhcnRzID0gYW5hdG9teS5idWlsZCgpO1xuXG4vLyBzcmMvc3BsaXR0ZXIuY29ubmVjdC50c1xuaW1wb3J0IHsgZ2V0RXZlbnRLZXksIGdldEV2ZW50U3RlcCB9IGZyb20gXCJAemFnLWpzL2RvbS1ldmVudFwiO1xuaW1wb3J0IHsgZGF0YUF0dHIgfSBmcm9tIFwiQHphZy1qcy9kb20tcXVlcnlcIjtcblxuLy8gc3JjL3NwbGl0dGVyLmRvbS50c1xuaW1wb3J0IHsgY3JlYXRlU2NvcGUsIHF1ZXJ5QWxsIH0gZnJvbSBcIkB6YWctanMvZG9tLXF1ZXJ5XCI7XG52YXIgZG9tID0gY3JlYXRlU2NvcGUoe1xuICBnZXRSb290SWQ6IChjdHgpID0+IGN0eC5pZHM/LnJvb3QgPz8gYHNwbGl0dGVyOiR7Y3R4LmlkfWAsXG4gIGdldFJlc2l6ZVRyaWdnZXJJZDogKGN0eCwgaWQpID0+IGN0eC5pZHM/LnJlc2l6ZVRyaWdnZXI/LihpZCkgPz8gYHNwbGl0dGVyOiR7Y3R4LmlkfTpzcGxpdHRlcjoke2lkfWAsXG4gIGdldExhYmVsSWQ6IChjdHgpID0+IGN0eC5pZHM/LmxhYmVsID8/IGBzcGxpdHRlcjoke2N0eC5pZH06bGFiZWxgLFxuICBnZXRQYW5lbElkOiAoY3R4LCBpZCkgPT4gY3R4Lmlkcz8ucGFuZWw/LihpZCkgPz8gYHNwbGl0dGVyOiR7Y3R4LmlkfTpwYW5lbDoke2lkfWAsXG4gIGdsb2JhbEN1cnNvcklkOiAoY3R4KSA9PiBgc3BsaXR0ZXI6JHtjdHguaWR9Omdsb2JhbC1jdXJzb3JgLFxuICBnZXRSb290RWw6IChjdHgpID0+IGRvbS5nZXRCeUlkKGN0eCwgZG9tLmdldFJvb3RJZChjdHgpKSxcbiAgZ2V0UmVzaXplVHJpZ2dlckVsOiAoY3R4LCBpZCkgPT4gZG9tLmdldEJ5SWQoY3R4LCBkb20uZ2V0UmVzaXplVHJpZ2dlcklkKGN0eCwgaWQpKSxcbiAgZ2V0UGFuZWxFbDogKGN0eCwgaWQpID0+IGRvbS5nZXRCeUlkKGN0eCwgZG9tLmdldFBhbmVsSWQoY3R4LCBpZCkpLFxuICBnZXRDdXJzb3IoY3R4KSB7XG4gICAgY29uc3QgeCA9IGN0eC5pc0hvcml6b250YWw7XG4gICAgbGV0IGN1cnNvciA9IHggPyBcImNvbC1yZXNpemVcIiA6IFwicm93LXJlc2l6ZVwiO1xuICAgIGlmIChjdHguYWN0aXZlUmVzaXplU3RhdGUuaXNBdE1pbilcbiAgICAgIGN1cnNvciA9IHggPyBcImUtcmVzaXplXCIgOiBcInMtcmVzaXplXCI7XG4gICAgaWYgKGN0eC5hY3RpdmVSZXNpemVTdGF0ZS5pc0F0TWF4KVxuICAgICAgY3Vyc29yID0geCA/IFwidy1yZXNpemVcIiA6IFwibi1yZXNpemVcIjtcbiAgICByZXR1cm4gY3Vyc29yO1xuICB9LFxuICBnZXRQYW5lbFN0eWxlKGN0eCwgaWQpIHtcbiAgICBjb25zdCBmbGV4R3JvdyA9IGN0eC5wYW5lbHMuZmluZCgocGFuZWwpID0+IHBhbmVsLmlkID09PSBpZCk/LnNpemUgPz8gXCIwXCI7XG4gICAgcmV0dXJuIHtcbiAgICAgIGZsZXhCYXNpczogMCxcbiAgICAgIGZsZXhHcm93LFxuICAgICAgZmxleFNocmluazogMSxcbiAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiXG4gICAgfTtcbiAgfSxcbiAgZ2V0QWN0aXZlSGFuZGxlRWwoY3R4KSB7XG4gICAgY29uc3QgYWN0aXZlSWQgPSBjdHguYWN0aXZlUmVzaXplSWQ7XG4gICAgaWYgKGFjdGl2ZUlkID09IG51bGwpXG4gICAgICByZXR1cm47XG4gICAgcmV0dXJuIGRvbS5nZXRCeUlkKGN0eCwgZG9tLmdldFJlc2l6ZVRyaWdnZXJJZChjdHgsIGFjdGl2ZUlkKSk7XG4gIH0sXG4gIGdldFJlc2l6ZVRyaWdnZXJFbHMoY3R4KSB7XG4gICAgY29uc3Qgb3duZXJJZCA9IENTUy5lc2NhcGUoZG9tLmdldFJvb3RJZChjdHgpKTtcbiAgICByZXR1cm4gcXVlcnlBbGwoZG9tLmdldFJvb3RFbChjdHgpLCBgW3JvbGU9c2VwYXJhdG9yXVtkYXRhLW93bmVkYnk9JyR7b3duZXJJZH0nXWApO1xuICB9LFxuICBzZXR1cEdsb2JhbEN1cnNvcihjdHgpIHtcbiAgICBjb25zdCBzdHlsZUVsID0gZG9tLmdldEJ5SWQoY3R4LCBkb20uZ2xvYmFsQ3Vyc29ySWQoY3R4KSk7XG4gICAgY29uc3QgdGV4dENvbnRlbnQgPSBgKiB7IGN1cnNvcjogJHtkb20uZ2V0Q3Vyc29yKGN0eCl9ICFpbXBvcnRhbnQ7IH1gO1xuICAgIGlmIChzdHlsZUVsKSB7XG4gICAgICBzdHlsZUVsLnRleHRDb250ZW50ID0gdGV4dENvbnRlbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHN0eWxlID0gZG9tLmdldERvYyhjdHgpLmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICAgIHN0eWxlLmlkID0gZG9tLmdsb2JhbEN1cnNvcklkKGN0eCk7XG4gICAgICBzdHlsZS50ZXh0Q29udGVudCA9IHRleHRDb250ZW50O1xuICAgICAgZG9tLmdldERvYyhjdHgpLmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICAgIH1cbiAgfSxcbiAgcmVtb3ZlR2xvYmFsQ3Vyc29yKGN0eCkge1xuICAgIGRvbS5nZXRCeUlkKGN0eCwgZG9tLmdsb2JhbEN1cnNvcklkKGN0eCkpPy5yZW1vdmUoKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9zcGxpdHRlci51dGlscy50c1xuZnVuY3Rpb24gdmFsaWRhdGVTaXplKGtleSwgc2l6ZSkge1xuICBpZiAoTWF0aC5mbG9vcihzaXplKSA+IDEwMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihgVG90YWwgJHtrZXl9IG9mIHBhbmVscyBjYW5ub3QgYmUgZ3JlYXRlciB0aGFuIDEwMGApO1xuICB9XG59XG5mdW5jdGlvbiBnZXROb3JtYWxpemVkUGFuZWxzKGN0eCkge1xuICBsZXQgbnVtT2ZQYW5lbHNXaXRob3V0U2l6ZSA9IDA7XG4gIGxldCB0b3RhbFNpemUgPSAwO1xuICBsZXQgdG90YWxNaW5TaXplID0gMDtcbiAgY29uc3QgcGFuZWxzID0gY3R4LnNpemUubWFwKChwYW5lbCkgPT4ge1xuICAgIGNvbnN0IG1pblNpemUgPSBwYW5lbC5taW5TaXplID8/IDA7XG4gICAgY29uc3QgbWF4U2l6ZSA9IHBhbmVsLm1heFNpemUgPz8gMTAwO1xuICAgIHRvdGFsTWluU2l6ZSArPSBtaW5TaXplO1xuICAgIGlmIChwYW5lbC5zaXplID09IG51bGwpIHtcbiAgICAgIG51bU9mUGFuZWxzV2l0aG91dFNpemUrKztcbiAgICB9IGVsc2Uge1xuICAgICAgdG90YWxTaXplICs9IHBhbmVsLnNpemU7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAuLi5wYW5lbCxcbiAgICAgIG1pblNpemUsXG4gICAgICBtYXhTaXplXG4gICAgfTtcbiAgfSk7XG4gIHZhbGlkYXRlU2l6ZShcIm1pblNpemVcIiwgdG90YWxNaW5TaXplKTtcbiAgdmFsaWRhdGVTaXplKFwic2l6ZVwiLCB0b3RhbFNpemUpO1xuICBsZXQgZW5kID0gMDtcbiAgbGV0IHJlbWFpbmluZ1NpemUgPSAwO1xuICBjb25zdCByZXN1bHQgPSBwYW5lbHMubWFwKChwYW5lbCkgPT4ge1xuICAgIGxldCBzdGFydCA9IGVuZDtcbiAgICBpZiAocGFuZWwuc2l6ZSAhPSBudWxsKSB7XG4gICAgICBlbmQgKz0gcGFuZWwuc2l6ZTtcbiAgICAgIHJlbWFpbmluZ1NpemUgPSBwYW5lbC5zaXplIC0gcGFuZWwubWluU2l6ZTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnBhbmVsLFxuICAgICAgICBzdGFydCxcbiAgICAgICAgZW5kLFxuICAgICAgICByZW1haW5pbmdTaXplXG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBzaXplID0gKDEwMCAtIHRvdGFsU2l6ZSkgLyBudW1PZlBhbmVsc1dpdGhvdXRTaXplO1xuICAgIGVuZCArPSBzaXplO1xuICAgIHJlbWFpbmluZ1NpemUgPSBzaXplIC0gcGFuZWwubWluU2l6ZTtcbiAgICByZXR1cm4geyAuLi5wYW5lbCwgc2l6ZSwgc3RhcnQsIGVuZCwgcmVtYWluaW5nU2l6ZSB9O1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGdldEhhbmRsZVBhbmVscyhjdHgsIGlkID0gY3R4LmFjdGl2ZVJlc2l6ZUlkKSB7XG4gIGNvbnN0IFtiZWZvcmVJZCwgYWZ0ZXJJZF0gPSBpZD8uc3BsaXQoXCI6XCIpID8/IFtdO1xuICBpZiAoIWJlZm9yZUlkIHx8ICFhZnRlcklkKVxuICAgIHJldHVybjtcbiAgY29uc3QgYmVmb3JlSW5kZXggPSBjdHgucHJldmlvdXNQYW5lbHMuZmluZEluZGV4KChwYW5lbCkgPT4gcGFuZWwuaWQgPT09IGJlZm9yZUlkKTtcbiAgY29uc3QgYWZ0ZXJJbmRleCA9IGN0eC5wcmV2aW91c1BhbmVscy5maW5kSW5kZXgoKHBhbmVsKSA9PiBwYW5lbC5pZCA9PT0gYWZ0ZXJJZCk7XG4gIGlmIChiZWZvcmVJbmRleCA9PT0gLTEgfHwgYWZ0ZXJJbmRleCA9PT0gLTEpXG4gICAgcmV0dXJuO1xuICBjb25zdCBiZWZvcmUgPSBjdHgucHJldmlvdXNQYW5lbHNbYmVmb3JlSW5kZXhdO1xuICBjb25zdCBhZnRlciA9IGN0eC5wcmV2aW91c1BhbmVsc1thZnRlckluZGV4XTtcbiAgcmV0dXJuIHtcbiAgICBiZWZvcmU6IHtcbiAgICAgIC4uLmJlZm9yZSxcbiAgICAgIGluZGV4OiBiZWZvcmVJbmRleFxuICAgIH0sXG4gICAgYWZ0ZXI6IHtcbiAgICAgIC4uLmFmdGVyLFxuICAgICAgaW5kZXg6IGFmdGVySW5kZXhcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBnZXRIYW5kbGVCb3VuZHMoY3R4LCBpZCA9IGN0eC5hY3RpdmVSZXNpemVJZCkge1xuICBjb25zdCBwYW5lbHMgPSBnZXRIYW5kbGVQYW5lbHMoY3R4LCBpZCk7XG4gIGlmICghcGFuZWxzKVxuICAgIHJldHVybjtcbiAgY29uc3QgeyBiZWZvcmUsIGFmdGVyIH0gPSBwYW5lbHM7XG4gIHJldHVybiB7XG4gICAgbWluOiBNYXRoLm1heChiZWZvcmUuc3RhcnQgKyBiZWZvcmUubWluU2l6ZSwgYWZ0ZXIuZW5kIC0gYWZ0ZXIubWF4U2l6ZSksXG4gICAgbWF4OiBNYXRoLm1pbihhZnRlci5lbmQgLSBhZnRlci5taW5TaXplLCBiZWZvcmUubWF4U2l6ZSArIGJlZm9yZS5zdGFydClcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldFBhbmVsQm91bmRzKGN0eCwgaWQpIHtcbiAgY29uc3QgYm91bmRzID0gZ2V0SGFuZGxlQm91bmRzKGN0eCwgaWQpO1xuICBjb25zdCBwYW5lbHMgPSBnZXRIYW5kbGVQYW5lbHMoY3R4LCBpZCk7XG4gIGlmICghYm91bmRzIHx8ICFwYW5lbHMpXG4gICAgcmV0dXJuO1xuICBjb25zdCB7IGJlZm9yZSwgYWZ0ZXIgfSA9IHBhbmVscztcbiAgY29uc3QgYmVmb3JlTWluID0gTWF0aC5hYnMoYmVmb3JlLnN0YXJ0IC0gYm91bmRzLm1pbik7XG4gIGNvbnN0IGFmdGVyTWluID0gYWZ0ZXIuc2l6ZSArIChiZWZvcmUuc2l6ZSAtIGJlZm9yZU1pbik7XG4gIGNvbnN0IGJlZm9yZU1heCA9IE1hdGguYWJzKGJlZm9yZS5zdGFydCAtIGJvdW5kcy5tYXgpO1xuICBjb25zdCBhZnRlck1heCA9IGFmdGVyLnNpemUgLSAoYmVmb3JlTWF4IC0gYmVmb3JlLnNpemUpO1xuICByZXR1cm4ge1xuICAgIGJlZm9yZToge1xuICAgICAgaW5kZXg6IGJlZm9yZS5pbmRleCxcbiAgICAgIG1pbjogYmVmb3JlTWluLFxuICAgICAgbWF4OiBiZWZvcmVNYXgsXG4gICAgICBpc0F0TWluOiBiZWZvcmVNaW4gPT09IGJlZm9yZS5zaXplLFxuICAgICAgaXNBdE1heDogYmVmb3JlTWF4ID09PSBiZWZvcmUuc2l6ZSxcbiAgICAgIHVwKHN0ZXApIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWluKGJlZm9yZS5zaXplICsgc3RlcCwgYmVmb3JlTWF4KTtcbiAgICAgIH0sXG4gICAgICBkb3duKHN0ZXApIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KGJlZm9yZS5zaXplIC0gc3RlcCwgYmVmb3JlTWluKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGFmdGVyOiB7XG4gICAgICBpbmRleDogYWZ0ZXIuaW5kZXgsXG4gICAgICBtaW46IGFmdGVyTWluLFxuICAgICAgbWF4OiBhZnRlck1heCxcbiAgICAgIGlzQXRNaW46IGFmdGVyTWluID09PSBhZnRlci5zaXplLFxuICAgICAgaXNBdE1heDogYWZ0ZXJNYXggPT09IGFmdGVyLnNpemUsXG4gICAgICB1cChzdGVwKSB7XG4gICAgICAgIHJldHVybiBNYXRoLm1pbihhZnRlci5zaXplICsgc3RlcCwgYWZ0ZXJNaW4pO1xuICAgICAgfSxcbiAgICAgIGRvd24oc3RlcCkge1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgoYWZ0ZXIuc2l6ZSAtIHN0ZXAsIGFmdGVyTWF4KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBjbGFtcCh2YWx1ZSwgbWluLCBtYXgpIHtcbiAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KHZhbHVlLCBtaW4pLCBtYXgpO1xufVxuXG4vLyBzcmMvc3BsaXR0ZXIuY29ubmVjdC50c1xuZnVuY3Rpb24gY29ubmVjdChzdGF0ZSwgc2VuZCwgbm9ybWFsaXplKSB7XG4gIGNvbnN0IGlzSG9yaXpvbnRhbCA9IHN0YXRlLmNvbnRleHQuaXNIb3Jpem9udGFsO1xuICBjb25zdCBpc0ZvY3VzZWQgPSBzdGF0ZS5oYXNUYWcoXCJmb2N1c1wiKTtcbiAgY29uc3QgaXNEcmFnZ2luZyA9IHN0YXRlLm1hdGNoZXMoXCJkcmFnZ2luZ1wiKTtcbiAgY29uc3QgcGFuZWxzID0gc3RhdGUuY29udGV4dC5wYW5lbHM7XG4gIGZ1bmN0aW9uIGdldFJlc2l6ZVRyaWdnZXJTdGF0ZShwcm9wcykge1xuICAgIGNvbnN0IHsgaWQsIGRpc2FibGVkIH0gPSBwcm9wcztcbiAgICBjb25zdCBpZHMgPSBpZC5zcGxpdChcIjpcIik7XG4gICAgY29uc3QgcGFuZWxJZHMgPSBpZHMubWFwKChpZDIpID0+IGRvbS5nZXRQYW5lbElkKHN0YXRlLmNvbnRleHQsIGlkMikpO1xuICAgIGNvbnN0IHBhbmVsczIgPSBnZXRIYW5kbGVCb3VuZHMoc3RhdGUuY29udGV4dCwgaWQpO1xuICAgIHJldHVybiB7XG4gICAgICBpc0Rpc2FibGVkOiAhIWRpc2FibGVkLFxuICAgICAgaXNGb2N1c2VkOiBzdGF0ZS5jb250ZXh0LmFjdGl2ZVJlc2l6ZUlkID09PSBpZCAmJiBpc0ZvY3VzZWQsXG4gICAgICBwYW5lbElkcyxcbiAgICAgIG1pbjogcGFuZWxzMj8ubWluLFxuICAgICAgbWF4OiBwYW5lbHMyPy5tYXgsXG4gICAgICB2YWx1ZTogMFxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBpc0ZvY3VzZWQsXG4gICAgaXNEcmFnZ2luZyxcbiAgICBnZXRSZXNpemVUcmlnZ2VyU3RhdGUsXG4gICAgYm91bmRzOiBnZXRIYW5kbGVCb3VuZHMoc3RhdGUuY29udGV4dCksXG4gICAgc2V0VG9NaW5TaXplKGlkKSB7XG4gICAgICBjb25zdCBwYW5lbCA9IHBhbmVscy5maW5kKChwYW5lbDIpID0+IHBhbmVsMi5pZCA9PT0gaWQpO1xuICAgICAgc2VuZCh7IHR5cGU6IFwiU0VUX1BBTkVMX1NJWkVcIiwgaWQsIHNpemU6IHBhbmVsPy5taW5TaXplLCBzcmM6IFwic2V0VG9NaW5TaXplXCIgfSk7XG4gICAgfSxcbiAgICBzZXRUb01heFNpemUoaWQpIHtcbiAgICAgIGNvbnN0IHBhbmVsID0gcGFuZWxzLmZpbmQoKHBhbmVsMikgPT4gcGFuZWwyLmlkID09PSBpZCk7XG4gICAgICBzZW5kKHsgdHlwZTogXCJTRVRfUEFORUxfU0laRVwiLCBpZCwgc2l6ZTogcGFuZWw/Lm1heFNpemUsIHNyYzogXCJzZXRUb01heFNpemVcIiB9KTtcbiAgICB9LFxuICAgIHNldFNpemUoaWQsIHNpemUpIHtcbiAgICAgIHNlbmQoeyB0eXBlOiBcIlNFVF9QQU5FTF9TSVpFXCIsIGlkLCBzaXplIH0pO1xuICAgIH0sXG4gICAgcm9vdFByb3BzOiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICAuLi5wYXJ0cy5yb290LmF0dHJzLFxuICAgICAgXCJkYXRhLW9yaWVudGF0aW9uXCI6IHN0YXRlLmNvbnRleHQub3JpZW50YXRpb24sXG4gICAgICBpZDogZG9tLmdldFJvb3RJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICBzdHlsZToge1xuICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgZmxleERpcmVjdGlvbjogaXNIb3Jpem9udGFsID8gXCJyb3dcIiA6IFwiY29sdW1uXCIsXG4gICAgICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCJcbiAgICAgIH1cbiAgICB9KSxcbiAgICBnZXRQYW5lbFByb3BzKHByb3BzKSB7XG4gICAgICBjb25zdCB7IGlkIH0gPSBwcm9wcztcbiAgICAgIHJldHVybiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICAgIC4uLnBhcnRzLnBhbmVsLmF0dHJzLFxuICAgICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgICBpZDogZG9tLmdldFBhbmVsSWQoc3RhdGUuY29udGV4dCwgaWQpLFxuICAgICAgICBcImRhdGEtb3duZWRieVwiOiBkb20uZ2V0Um9vdElkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgICBzdHlsZTogZG9tLmdldFBhbmVsU3R5bGUoc3RhdGUuY29udGV4dCwgaWQpXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdldFJlc2l6ZVRyaWdnZXJQcm9wcyhwcm9wcykge1xuICAgICAgY29uc3QgeyBpZCwgZGlzYWJsZWQsIHN0ZXAgPSAxIH0gPSBwcm9wcztcbiAgICAgIGNvbnN0IHRyaWdnZXJTdGF0ZSA9IGdldFJlc2l6ZVRyaWdnZXJTdGF0ZShwcm9wcyk7XG4gICAgICByZXR1cm4gbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgICAuLi5wYXJ0cy5yZXNpemVUcmlnZ2VyLmF0dHJzLFxuICAgICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgICBpZDogZG9tLmdldFJlc2l6ZVRyaWdnZXJJZChzdGF0ZS5jb250ZXh0LCBpZCksXG4gICAgICAgIHJvbGU6IFwic2VwYXJhdG9yXCIsXG4gICAgICAgIFwiZGF0YS1vd25lZGJ5XCI6IGRvbS5nZXRSb290SWQoc3RhdGUuY29udGV4dCksXG4gICAgICAgIHRhYkluZGV4OiBkaXNhYmxlZCA/IHZvaWQgMCA6IDAsXG4gICAgICAgIFwiYXJpYS12YWx1ZW5vd1wiOiB0cmlnZ2VyU3RhdGUudmFsdWUsXG4gICAgICAgIFwiYXJpYS12YWx1ZW1pblwiOiB0cmlnZ2VyU3RhdGUubWluLFxuICAgICAgICBcImFyaWEtdmFsdWVtYXhcIjogdHJpZ2dlclN0YXRlLm1heCxcbiAgICAgICAgXCJkYXRhLW9yaWVudGF0aW9uXCI6IHN0YXRlLmNvbnRleHQub3JpZW50YXRpb24sXG4gICAgICAgIFwiYXJpYS1vcmllbnRhdGlvblwiOiBzdGF0ZS5jb250ZXh0Lm9yaWVudGF0aW9uLFxuICAgICAgICBcImFyaWEtY29udHJvbHNcIjogdHJpZ2dlclN0YXRlLnBhbmVsSWRzLmpvaW4oXCIgXCIpLFxuICAgICAgICBcImRhdGEtZm9jdXNcIjogZGF0YUF0dHIodHJpZ2dlclN0YXRlLmlzRm9jdXNlZCksXG4gICAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihkaXNhYmxlZCksXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgdG91Y2hBY3Rpb246IFwibm9uZVwiLFxuICAgICAgICAgIHVzZXJTZWxlY3Q6IFwibm9uZVwiLFxuICAgICAgICAgIGZsZXg6IFwiMCAwIGF1dG9cIixcbiAgICAgICAgICBwb2ludGVyRXZlbnRzOiBpc0RyYWdnaW5nICYmICF0cmlnZ2VyU3RhdGUuaXNGb2N1c2VkID8gXCJub25lXCIgOiB2b2lkIDAsXG4gICAgICAgICAgY3Vyc29yOiBpc0hvcml6b250YWwgPyBcImNvbC1yZXNpemVcIiA6IFwicm93LXJlc2l6ZVwiLFxuICAgICAgICAgIFtpc0hvcml6b250YWwgPyBcIm1pbkhlaWdodFwiIDogXCJtaW5XaWR0aFwiXTogXCIwXCJcbiAgICAgICAgfSxcbiAgICAgICAgb25Qb2ludGVyRG93bihldmVudCkge1xuICAgICAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2VuZCh7IHR5cGU6IFwiUE9JTlRFUl9ET1dOXCIsIGlkIH0pO1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uUG9pbnRlck92ZXIoKSB7XG4gICAgICAgICAgaWYgKGRpc2FibGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIlBPSU5URVJfT1ZFUlwiLCBpZCB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Qb2ludGVyTGVhdmUoKSB7XG4gICAgICAgICAgaWYgKGRpc2FibGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIlBPSU5URVJfTEVBVkVcIiwgaWQgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uQmx1cigpIHtcbiAgICAgICAgICBzZW5kKFwiQkxVUlwiKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Gb2N1cygpIHtcbiAgICAgICAgICBzZW5kKHsgdHlwZTogXCJGT0NVU1wiLCBpZCB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Eb3VibGVDbGljaygpIHtcbiAgICAgICAgICBpZiAoZGlzYWJsZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgc2VuZCh7IHR5cGU6IFwiRE9VQkxFX0NMSUNLXCIsIGlkIH0pO1xuICAgICAgICB9LFxuICAgICAgICBvbktleURvd24oZXZlbnQpIHtcbiAgICAgICAgICBpZiAoZGlzYWJsZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgY29uc3QgbW92ZVN0ZXAgPSBnZXRFdmVudFN0ZXAoZXZlbnQpICogc3RlcDtcbiAgICAgICAgICBjb25zdCBrZXlNYXAgPSB7XG4gICAgICAgICAgICBFbnRlcigpIHtcbiAgICAgICAgICAgICAgc2VuZChcIkVOVEVSXCIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIEFycm93VXAoKSB7XG4gICAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIkFSUk9XX1VQXCIsIHN0ZXA6IG1vdmVTdGVwIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIEFycm93RG93bigpIHtcbiAgICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwiQVJST1dfRE9XTlwiLCBzdGVwOiBtb3ZlU3RlcCB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBBcnJvd0xlZnQoKSB7XG4gICAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIkFSUk9XX0xFRlRcIiwgc3RlcDogbW92ZVN0ZXAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgQXJyb3dSaWdodCgpIHtcbiAgICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwiQVJST1dfUklHSFRcIiwgc3RlcDogbW92ZVN0ZXAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgSG9tZSgpIHtcbiAgICAgICAgICAgICAgc2VuZChcIkhPTUVcIik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgRW5kKCkge1xuICAgICAgICAgICAgICBzZW5kKFwiRU5EXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3Qga2V5ID0gZ2V0RXZlbnRLZXkoZXZlbnQsIHN0YXRlLmNvbnRleHQpO1xuICAgICAgICAgIGNvbnN0IGV4ZWMgPSBrZXlNYXBba2V5XTtcbiAgICAgICAgICBpZiAoZXhlYykge1xuICAgICAgICAgICAgZXhlYyhldmVudCk7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufVxuXG4vLyBzcmMvc3BsaXR0ZXIubWFjaGluZS50c1xuaW1wb3J0IHsgY3JlYXRlTWFjaGluZSB9IGZyb20gXCJAemFnLWpzL2NvcmVcIjtcbmltcG9ydCB7IGdldFJlbGF0aXZlUG9pbnQsIHRyYWNrUG9pbnRlck1vdmUgfSBmcm9tIFwiQHphZy1qcy9kb20tZXZlbnRcIjtcbmltcG9ydCB7IHJhZiB9IGZyb20gXCJAemFnLWpzL2RvbS1xdWVyeVwiO1xuaW1wb3J0IHsgY29tcGFjdCB9IGZyb20gXCJAemFnLWpzL3V0aWxzXCI7XG5mdW5jdGlvbiBtYWNoaW5lKHVzZXJDb250ZXh0KSB7XG4gIGNvbnN0IGN0eCA9IGNvbXBhY3QodXNlckNvbnRleHQpO1xuICByZXR1cm4gY3JlYXRlTWFjaGluZShcbiAgICB7XG4gICAgICBpZDogXCJzcGxpdHRlclwiLFxuICAgICAgaW5pdGlhbDogXCJpZGxlXCIsXG4gICAgICBjb250ZXh0OiB7XG4gICAgICAgIG9yaWVudGF0aW9uOiBcImhvcml6b250YWxcIixcbiAgICAgICAgYWN0aXZlUmVzaXplSWQ6IG51bGwsXG4gICAgICAgIHByZXZpb3VzUGFuZWxzOiBbXSxcbiAgICAgICAgc2l6ZTogW10sXG4gICAgICAgIGluaXRpYWxTaXplOiBbXSxcbiAgICAgICAgYWN0aXZlUmVzaXplU3RhdGU6IHtcbiAgICAgICAgICBpc0F0TWluOiBmYWxzZSxcbiAgICAgICAgICBpc0F0TWF4OiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICAuLi5jdHhcbiAgICAgIH0sXG4gICAgICBjcmVhdGVkOiBbXCJzZXRQcmV2aW91c1BhbmVsc1wiLCBcInNldEluaXRpYWxTaXplXCJdLFxuICAgICAgd2F0Y2g6IHtcbiAgICAgICAgc2l6ZTogW1wic2V0QWN0aXZlUmVzaXplU3RhdGVcIl1cbiAgICAgIH0sXG4gICAgICBjb21wdXRlZDoge1xuICAgICAgICBpc0hvcml6b250YWw6IChjdHgyKSA9PiBjdHgyLm9yaWVudGF0aW9uID09PSBcImhvcml6b250YWxcIixcbiAgICAgICAgcGFuZWxzOiAoY3R4MikgPT4gZ2V0Tm9ybWFsaXplZFBhbmVscyhjdHgyKVxuICAgICAgfSxcbiAgICAgIG9uOiB7XG4gICAgICAgIFNFVF9QQU5FTF9TSVpFOiB7XG4gICAgICAgICAgYWN0aW9uczogXCJzZXRQYW5lbFNpemVcIlxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgc3RhdGVzOiB7XG4gICAgICAgIGlkbGU6IHtcbiAgICAgICAgICBlbnRyeTogW1wiY2xlYXJBY3RpdmVIYW5kbGVJZFwiXSxcbiAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgUE9JTlRFUl9PVkVSOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJob3Zlcjp0ZW1wXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldEFjdGl2ZUhhbmRsZUlkXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgRk9DVVM6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcImZvY3VzZWRcIixcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wic2V0QWN0aXZlSGFuZGxlSWRcIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBET1VCTEVfQ0xJQ0s6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wicmVzZXRTdGFydFBhbmVsXCIsIFwic2V0UHJldmlvdXNQYW5lbHNcIl1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiaG92ZXI6dGVtcFwiOiB7XG4gICAgICAgICAgYWZ0ZXI6IHtcbiAgICAgICAgICAgIEhPVkVSX0RFTEFZOiBcImhvdmVyXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBQT0lOVEVSX0RPV046IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcImRyYWdnaW5nXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldEFjdGl2ZUhhbmRsZUlkXCIsIFwiaW52b2tlT25SZXNpemVTdGFydFwiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFBPSU5URVJfTEVBVkU6IFwiaWRsZVwiXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBob3Zlcjoge1xuICAgICAgICAgIHRhZ3M6IFtcImZvY3VzXCJdLFxuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBQT0lOVEVSX0RPV046IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcImRyYWdnaW5nXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcImludm9rZU9uUmVzaXplU3RhcnRcIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBQT0lOVEVSX0xFQVZFOiBcImlkbGVcIlxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZm9jdXNlZDoge1xuICAgICAgICAgIHRhZ3M6IFtcImZvY3VzXCJdLFxuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBCTFVSOiBcImlkbGVcIixcbiAgICAgICAgICAgIFBPSU5URVJfRE9XTjoge1xuICAgICAgICAgICAgICB0YXJnZXQ6IFwiZHJhZ2dpbmdcIixcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wic2V0QWN0aXZlSGFuZGxlSWRcIiwgXCJpbnZva2VPblJlc2l6ZVN0YXJ0XCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgQVJST1dfTEVGVDoge1xuICAgICAgICAgICAgICBndWFyZDogXCJpc0hvcml6b250YWxcIixcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wic2hyaW5rU3RhcnRQYW5lbFwiLCBcInNldFByZXZpb3VzUGFuZWxzXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgQVJST1dfUklHSFQ6IHtcbiAgICAgICAgICAgICAgZ3VhcmQ6IFwiaXNIb3Jpem9udGFsXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcImV4cGFuZFN0YXJ0UGFuZWxcIiwgXCJzZXRQcmV2aW91c1BhbmVsc1wiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIEFSUk9XX1VQOiB7XG4gICAgICAgICAgICAgIGd1YXJkOiBcImlzVmVydGljYWxcIixcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wic2hyaW5rU3RhcnRQYW5lbFwiLCBcInNldFByZXZpb3VzUGFuZWxzXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgQVJST1dfRE9XTjoge1xuICAgICAgICAgICAgICBndWFyZDogXCJpc1ZlcnRpY2FsXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcImV4cGFuZFN0YXJ0UGFuZWxcIiwgXCJzZXRQcmV2aW91c1BhbmVsc1wiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIEVOVEVSOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBndWFyZDogXCJpc1N0YXJ0UGFuZWxBdE1heFwiLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldFN0YXJ0UGFuZWxUb01pblwiLCBcInNldFByZXZpb3VzUGFuZWxzXCJdXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHsgYWN0aW9uczogW1wic2V0U3RhcnRQYW5lbFRvTWF4XCIsIFwic2V0UHJldmlvdXNQYW5lbHNcIl0gfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIEhPTUU6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wic2V0U3RhcnRQYW5lbFRvTWluXCIsIFwic2V0UHJldmlvdXNQYW5lbHNcIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBFTkQ6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wic2V0U3RhcnRQYW5lbFRvTWF4XCIsIFwic2V0UHJldmlvdXNQYW5lbHNcIl1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGRyYWdnaW5nOiB7XG4gICAgICAgICAgdGFnczogW1wiZm9jdXNcIl0sXG4gICAgICAgICAgZW50cnk6IFwiZm9jdXNSZXNpemVIYW5kbGVcIixcbiAgICAgICAgICBhY3Rpdml0aWVzOiBbXCJ0cmFja1BvaW50ZXJNb3ZlXCJdLFxuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBQT0lOVEVSX01PVkU6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wic2V0UG9pbnRlclZhbHVlXCIsIFwic2V0R2xvYmFsQ3Vyc29yXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgUE9JTlRFUl9VUDoge1xuICAgICAgICAgICAgICB0YXJnZXQ6IFwiZm9jdXNlZFwiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJpbnZva2VPblJlc2l6ZUVuZFwiLCBcInNldFByZXZpb3VzUGFuZWxzXCIsIFwiY2xlYXJHbG9iYWxDdXJzb3JcIiwgXCJibHVyUmVzaXplSGFuZGxlXCJdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICBhY3Rpdml0aWVzOiB7XG4gICAgICAgIHRyYWNrUG9pbnRlck1vdmU6IChjdHgyLCBfZXZ0LCB7IHNlbmQgfSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGRvYyA9IGRvbS5nZXREb2MoY3R4Mik7XG4gICAgICAgICAgcmV0dXJuIHRyYWNrUG9pbnRlck1vdmUoZG9jLCB7XG4gICAgICAgICAgICBvblBvaW50ZXJNb3ZlKGluZm8pIHtcbiAgICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwiUE9JTlRFUl9NT1ZFXCIsIHBvaW50OiBpbmZvLnBvaW50IH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uUG9pbnRlclVwKCkge1xuICAgICAgICAgICAgICBzZW5kKFwiUE9JTlRFUl9VUFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGd1YXJkczoge1xuICAgICAgICBpc1N0YXJ0UGFuZWxBdE1pbjogKGN0eDIpID0+IGN0eDIuYWN0aXZlUmVzaXplU3RhdGUuaXNBdE1pbixcbiAgICAgICAgaXNTdGFydFBhbmVsQXRNYXg6IChjdHgyKSA9PiBjdHgyLmFjdGl2ZVJlc2l6ZVN0YXRlLmlzQXRNYXgsXG4gICAgICAgIGlzSG9yaXpvbnRhbDogKGN0eDIpID0+IGN0eDIuaXNIb3Jpem9udGFsLFxuICAgICAgICBpc1ZlcnRpY2FsOiAoY3R4MikgPT4gIWN0eDIuaXNIb3Jpem9udGFsXG4gICAgICB9LFxuICAgICAgZGVsYXlzOiB7XG4gICAgICAgIEhPVkVSX0RFTEFZOiAyNTBcbiAgICAgIH0sXG4gICAgICBhY3Rpb25zOiB7XG4gICAgICAgIHNldEdsb2JhbEN1cnNvcihjdHgyKSB7XG4gICAgICAgICAgZG9tLnNldHVwR2xvYmFsQ3Vyc29yKGN0eDIpO1xuICAgICAgICB9LFxuICAgICAgICBjbGVhckdsb2JhbEN1cnNvcihjdHgyKSB7XG4gICAgICAgICAgZG9tLnJlbW92ZUdsb2JhbEN1cnNvcihjdHgyKTtcbiAgICAgICAgfSxcbiAgICAgICAgaW52b2tlT25SZXNpemUoY3R4Mikge1xuICAgICAgICAgIGN0eDIub25TaXplQ2hhbmdlPy4oeyBzaXplOiBBcnJheS5mcm9tKGN0eDIuc2l6ZSksIGFjdGl2ZUhhbmRsZUlkOiBjdHgyLmFjdGl2ZVJlc2l6ZUlkIH0pO1xuICAgICAgICB9LFxuICAgICAgICBpbnZva2VPblJlc2l6ZVN0YXJ0KGN0eDIpIHtcbiAgICAgICAgICBjdHgyLm9uU2l6ZUNoYW5nZVN0YXJ0Py4oeyBzaXplOiBBcnJheS5mcm9tKGN0eDIuc2l6ZSksIGFjdGl2ZUhhbmRsZUlkOiBjdHgyLmFjdGl2ZVJlc2l6ZUlkIH0pO1xuICAgICAgICB9LFxuICAgICAgICBpbnZva2VPblJlc2l6ZUVuZChjdHgyKSB7XG4gICAgICAgICAgY3R4Mi5vblNpemVDaGFuZ2VFbmQ/Lih7IHNpemU6IEFycmF5LmZyb20oY3R4Mi5zaXplKSwgYWN0aXZlSGFuZGxlSWQ6IGN0eDIuYWN0aXZlUmVzaXplSWQgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldEFjdGl2ZUhhbmRsZUlkKGN0eDIsIGV2dCkge1xuICAgICAgICAgIGN0eDIuYWN0aXZlUmVzaXplSWQgPSBldnQuaWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGNsZWFyQWN0aXZlSGFuZGxlSWQoY3R4Mikge1xuICAgICAgICAgIGN0eDIuYWN0aXZlUmVzaXplSWQgPSBudWxsO1xuICAgICAgICB9LFxuICAgICAgICBzZXRJbml0aWFsU2l6ZShjdHgyKSB7XG4gICAgICAgICAgY3R4Mi5pbml0aWFsU2l6ZSA9IGN0eDIucGFuZWxzLnNsaWNlKCkubWFwKChwYW5lbCkgPT4gKHtcbiAgICAgICAgICAgIGlkOiBwYW5lbC5pZCxcbiAgICAgICAgICAgIHNpemU6IHBhbmVsLnNpemVcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFBhbmVsU2l6ZShjdHgyLCBldnQpIHtcbiAgICAgICAgICBjb25zdCB7IGlkLCBzaXplIH0gPSBldnQ7XG4gICAgICAgICAgY3R4Mi5zaXplID0gY3R4Mi5zaXplLm1hcCgocGFuZWwpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhbmVsU2l6ZSA9IGNsYW1wKHNpemUsIHBhbmVsLm1pblNpemUgPz8gMCwgcGFuZWwubWF4U2l6ZSA/PyAxMDApO1xuICAgICAgICAgICAgcmV0dXJuIHBhbmVsLmlkID09PSBpZCA/IHsgLi4ucGFuZWwsIHNpemU6IHBhbmVsU2l6ZSB9IDogcGFuZWw7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFN0YXJ0UGFuZWxUb01pbihjdHgyKSB7XG4gICAgICAgICAgY29uc3QgYm91bmRzID0gZ2V0UGFuZWxCb3VuZHMoY3R4Mik7XG4gICAgICAgICAgaWYgKCFib3VuZHMpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgY29uc3QgeyBiZWZvcmUsIGFmdGVyIH0gPSBib3VuZHM7XG4gICAgICAgICAgY3R4Mi5zaXplW2JlZm9yZS5pbmRleF0uc2l6ZSA9IGJlZm9yZS5taW47XG4gICAgICAgICAgY3R4Mi5zaXplW2FmdGVyLmluZGV4XS5zaXplID0gYWZ0ZXIubWluO1xuICAgICAgICB9LFxuICAgICAgICBzZXRTdGFydFBhbmVsVG9NYXgoY3R4Mikge1xuICAgICAgICAgIGNvbnN0IGJvdW5kcyA9IGdldFBhbmVsQm91bmRzKGN0eDIpO1xuICAgICAgICAgIGlmICghYm91bmRzKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHsgYmVmb3JlLCBhZnRlciB9ID0gYm91bmRzO1xuICAgICAgICAgIGN0eDIuc2l6ZVtiZWZvcmUuaW5kZXhdLnNpemUgPSBiZWZvcmUubWF4O1xuICAgICAgICAgIGN0eDIuc2l6ZVthZnRlci5pbmRleF0uc2l6ZSA9IGFmdGVyLm1heDtcbiAgICAgICAgfSxcbiAgICAgICAgZXhwYW5kU3RhcnRQYW5lbChjdHgyLCBldnQpIHtcbiAgICAgICAgICBjb25zdCBib3VuZHMgPSBnZXRQYW5lbEJvdW5kcyhjdHgyKTtcbiAgICAgICAgICBpZiAoIWJvdW5kcylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjb25zdCB7IGJlZm9yZSwgYWZ0ZXIgfSA9IGJvdW5kcztcbiAgICAgICAgICBjdHgyLnNpemVbYmVmb3JlLmluZGV4XS5zaXplID0gYmVmb3JlLnVwKGV2dC5zdGVwKTtcbiAgICAgICAgICBjdHgyLnNpemVbYWZ0ZXIuaW5kZXhdLnNpemUgPSBhZnRlci5kb3duKGV2dC5zdGVwKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2hyaW5rU3RhcnRQYW5lbChjdHgyLCBldnQpIHtcbiAgICAgICAgICBjb25zdCBib3VuZHMgPSBnZXRQYW5lbEJvdW5kcyhjdHgyKTtcbiAgICAgICAgICBpZiAoIWJvdW5kcylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjb25zdCB7IGJlZm9yZSwgYWZ0ZXIgfSA9IGJvdW5kcztcbiAgICAgICAgICBjdHgyLnNpemVbYmVmb3JlLmluZGV4XS5zaXplID0gYmVmb3JlLmRvd24oZXZ0LnN0ZXApO1xuICAgICAgICAgIGN0eDIuc2l6ZVthZnRlci5pbmRleF0uc2l6ZSA9IGFmdGVyLnVwKGV2dC5zdGVwKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVzZXRTdGFydFBhbmVsKGN0eDIsIGV2dCkge1xuICAgICAgICAgIGNvbnN0IGJvdW5kcyA9IGdldFBhbmVsQm91bmRzKGN0eDIsIGV2dC5pZCk7XG4gICAgICAgICAgaWYgKCFib3VuZHMpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgY29uc3QgeyBiZWZvcmUsIGFmdGVyIH0gPSBib3VuZHM7XG4gICAgICAgICAgY3R4Mi5zaXplW2JlZm9yZS5pbmRleF0uc2l6ZSA9IGN0eDIuaW5pdGlhbFNpemVbYmVmb3JlLmluZGV4XS5zaXplO1xuICAgICAgICAgIGN0eDIuc2l6ZVthZnRlci5pbmRleF0uc2l6ZSA9IGN0eDIuaW5pdGlhbFNpemVbYWZ0ZXIuaW5kZXhdLnNpemU7XG4gICAgICAgIH0sXG4gICAgICAgIGZvY3VzUmVzaXplSGFuZGxlKGN0eDIpIHtcbiAgICAgICAgICByYWYoKCkgPT4ge1xuICAgICAgICAgICAgZG9tLmdldEFjdGl2ZUhhbmRsZUVsKGN0eDIpPy5mb2N1cyh7IHByZXZlbnRTY3JvbGw6IHRydWUgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGJsdXJSZXNpemVIYW5kbGUoY3R4Mikge1xuICAgICAgICAgIHJhZigoKSA9PiB7XG4gICAgICAgICAgICBkb20uZ2V0QWN0aXZlSGFuZGxlRWwoY3R4Mik/LmJsdXIoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0UHJldmlvdXNQYW5lbHMoY3R4Mikge1xuICAgICAgICAgIGN0eDIucHJldmlvdXNQYW5lbHMgPSBjdHgyLnBhbmVscy5zbGljZSgpO1xuICAgICAgICB9LFxuICAgICAgICBzZXRBY3RpdmVSZXNpemVTdGF0ZShjdHgyKSB7XG4gICAgICAgICAgY29uc3QgcGFuZWxzID0gZ2V0UGFuZWxCb3VuZHMoY3R4Mik7XG4gICAgICAgICAgaWYgKCFwYW5lbHMpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgY29uc3QgeyBiZWZvcmUgfSA9IHBhbmVscztcbiAgICAgICAgICBjdHgyLmFjdGl2ZVJlc2l6ZVN0YXRlID0ge1xuICAgICAgICAgICAgaXNBdE1pbjogYmVmb3JlLmlzQXRNaW4sXG4gICAgICAgICAgICBpc0F0TWF4OiBiZWZvcmUuaXNBdE1heFxuICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIHNldFBvaW50ZXJWYWx1ZShjdHgyLCBldnQpIHtcbiAgICAgICAgICBjb25zdCBwYW5lbHMgPSBnZXRIYW5kbGVQYW5lbHMoY3R4Mik7XG4gICAgICAgICAgY29uc3QgYm91bmRzID0gZ2V0SGFuZGxlQm91bmRzKGN0eDIpO1xuICAgICAgICAgIGlmICghcGFuZWxzIHx8ICFib3VuZHMpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgY29uc3Qgcm9vdEVsID0gZG9tLmdldFJvb3RFbChjdHgyKTtcbiAgICAgICAgICBpZiAoIXJvb3RFbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjb25zdCByZWxhdGl2ZVBvaW50ID0gZ2V0UmVsYXRpdmVQb2ludChldnQucG9pbnQsIHJvb3RFbCk7XG4gICAgICAgICAgY29uc3QgcGVyY2VudFZhbHVlID0gcmVsYXRpdmVQb2ludC5nZXRQZXJjZW50VmFsdWUoe1xuICAgICAgICAgICAgZGlyOiBjdHgyLmRpcixcbiAgICAgICAgICAgIG9yaWVudGF0aW9uOiBjdHgyLm9yaWVudGF0aW9uXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbGV0IHBvaW50VmFsdWUgPSBwZXJjZW50VmFsdWUgKiAxMDA7XG4gICAgICAgICAgY3R4Mi5hY3RpdmVSZXNpemVTdGF0ZSA9IHtcbiAgICAgICAgICAgIGlzQXRNaW46IHBvaW50VmFsdWUgPCBib3VuZHMubWluLFxuICAgICAgICAgICAgaXNBdE1heDogcG9pbnRWYWx1ZSA+IGJvdW5kcy5tYXhcbiAgICAgICAgICB9O1xuICAgICAgICAgIHBvaW50VmFsdWUgPSBjbGFtcChwb2ludFZhbHVlLCBib3VuZHMubWluLCBib3VuZHMubWF4KTtcbiAgICAgICAgICBjb25zdCB7IGJlZm9yZSwgYWZ0ZXIgfSA9IHBhbmVscztcbiAgICAgICAgICBjb25zdCBvZmZzZXQgPSBwb2ludFZhbHVlIC0gYmVmb3JlLmVuZDtcbiAgICAgICAgICBjdHgyLnNpemVbYmVmb3JlLmluZGV4XS5zaXplID0gYmVmb3JlLnNpemUgKyBvZmZzZXQ7XG4gICAgICAgICAgY3R4Mi5zaXplW2FmdGVyLmluZGV4XS5zaXplID0gYWZ0ZXIuc2l6ZSAtIG9mZnNldDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgKTtcbn1cbmV4cG9ydCB7XG4gIGFuYXRvbXksXG4gIGNvbm5lY3QsXG4gIG1hY2hpbmVcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/splitter/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/store/dist/index.mjs":
/*!***************************************************!*\
  !*** ./node_modules/@zag-js/store/dist/index.mjs ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   proxy: () => (/* binding */ proxy),\n/* harmony export */   proxyWithComputed: () => (/* binding */ proxyWithComputed),\n/* harmony export */   ref: () => (/* binding */ ref),\n/* harmony export */   snapshot: () => (/* binding */ snapshot),\n/* harmony export */   subscribe: () => (/* binding */ subscribe),\n/* harmony export */   subscribeKey: () => (/* binding */ subscribeKey)\n/* harmony export */ });\n/* harmony import */ var proxy_compare__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! proxy-compare */ \"(ssr)/./node_modules/proxy-compare/dist/index.modern.js\");\n// src/proxy.ts\n\nvar isDev = \"development\" !== \"production\";\nvar isObject = (x) => typeof x === \"object\" && x !== null;\nvar proxyStateMap = /* @__PURE__ */ new WeakMap();\nvar refSet = /* @__PURE__ */ new WeakSet();\nvar buildProxyFunction = (objectIs = Object.is, newProxy = (target, handler) => new Proxy(target, handler), canProxy = (x) => isObject(x) && !refSet.has(x) && (Array.isArray(x) || !(Symbol.iterator in x)) && !(x instanceof WeakMap) && !(x instanceof WeakSet) && !(x instanceof Error) && !(x instanceof Number) && !(x instanceof Date) && !(x instanceof String) && !(x instanceof RegExp) && !(x instanceof ArrayBuffer), defaultHandlePromise = (promise) => {\n  switch (promise.status) {\n    case \"fulfilled\":\n      return promise.value;\n    case \"rejected\":\n      throw promise.reason;\n    default:\n      throw promise;\n  }\n}, snapCache = /* @__PURE__ */ new WeakMap(), createSnapshot = (target, version, handlePromise = defaultHandlePromise) => {\n  const cache = snapCache.get(target);\n  if (cache?.[0] === version) {\n    return cache[1];\n  }\n  const snap = Array.isArray(target) ? [] : Object.create(Object.getPrototypeOf(target));\n  (0,proxy_compare__WEBPACK_IMPORTED_MODULE_0__.markToTrack)(snap, true);\n  snapCache.set(target, [version, snap]);\n  Reflect.ownKeys(target).forEach((key) => {\n    const value = Reflect.get(target, key);\n    if (refSet.has(value)) {\n      (0,proxy_compare__WEBPACK_IMPORTED_MODULE_0__.markToTrack)(value, false);\n      snap[key] = value;\n    } else if (value instanceof Promise) {\n      Object.defineProperty(snap, key, {\n        get() {\n          return handlePromise(value);\n        }\n      });\n    } else if (proxyStateMap.has(value)) {\n      snap[key] = snapshot(value, handlePromise);\n    } else {\n      snap[key] = value;\n    }\n  });\n  return Object.freeze(snap);\n}, proxyCache = /* @__PURE__ */ new WeakMap(), versionHolder = [1, 1], proxyFunction2 = (initialObject) => {\n  if (!isObject(initialObject)) {\n    throw new Error(\"object required\");\n  }\n  const found = proxyCache.get(initialObject);\n  if (found) {\n    return found;\n  }\n  let version = versionHolder[0];\n  const listeners = /* @__PURE__ */ new Set();\n  const notifyUpdate = (op, nextVersion = ++versionHolder[0]) => {\n    if (version !== nextVersion) {\n      version = nextVersion;\n      listeners.forEach((listener) => listener(op, nextVersion));\n    }\n  };\n  let checkVersion = versionHolder[1];\n  const ensureVersion = (nextCheckVersion = ++versionHolder[1]) => {\n    if (checkVersion !== nextCheckVersion && !listeners.size) {\n      checkVersion = nextCheckVersion;\n      propProxyStates.forEach(([propProxyState]) => {\n        const propVersion = propProxyState[1](nextCheckVersion);\n        if (propVersion > version) {\n          version = propVersion;\n        }\n      });\n    }\n    return version;\n  };\n  const createPropListener = (prop) => (op, nextVersion) => {\n    const newOp = [...op];\n    newOp[1] = [prop, ...newOp[1]];\n    notifyUpdate(newOp, nextVersion);\n  };\n  const propProxyStates = /* @__PURE__ */ new Map();\n  const addPropListener = (prop, propProxyState) => {\n    if (isDev && propProxyStates.has(prop)) {\n      throw new Error(\"prop listener already exists\");\n    }\n    if (listeners.size) {\n      const remove = propProxyState[3](createPropListener(prop));\n      propProxyStates.set(prop, [propProxyState, remove]);\n    } else {\n      propProxyStates.set(prop, [propProxyState]);\n    }\n  };\n  const removePropListener = (prop) => {\n    const entry = propProxyStates.get(prop);\n    if (entry) {\n      propProxyStates.delete(prop);\n      entry[1]?.();\n    }\n  };\n  const addListener = (listener) => {\n    listeners.add(listener);\n    if (listeners.size === 1) {\n      propProxyStates.forEach(([propProxyState, prevRemove], prop) => {\n        if (isDev && prevRemove) {\n          throw new Error(\"remove already exists\");\n        }\n        const remove = propProxyState[3](createPropListener(prop));\n        propProxyStates.set(prop, [propProxyState, remove]);\n      });\n    }\n    const removeListener = () => {\n      listeners.delete(listener);\n      if (listeners.size === 0) {\n        propProxyStates.forEach(([propProxyState, remove], prop) => {\n          if (remove) {\n            remove();\n            propProxyStates.set(prop, [propProxyState]);\n          }\n        });\n      }\n    };\n    return removeListener;\n  };\n  const baseObject = Array.isArray(initialObject) ? [] : Object.create(Object.getPrototypeOf(initialObject));\n  const handler = {\n    deleteProperty(target, prop) {\n      const prevValue = Reflect.get(target, prop);\n      removePropListener(prop);\n      const deleted = Reflect.deleteProperty(target, prop);\n      if (deleted) {\n        notifyUpdate([\"delete\", [prop], prevValue]);\n      }\n      return deleted;\n    },\n    set(target, prop, value, receiver) {\n      const hasPrevValue = Reflect.has(target, prop);\n      const prevValue = Reflect.get(target, prop, receiver);\n      if (hasPrevValue && (objectIs(prevValue, value) || proxyCache.has(value) && objectIs(prevValue, proxyCache.get(value)))) {\n        return true;\n      }\n      removePropListener(prop);\n      if (isObject(value)) {\n        value = (0,proxy_compare__WEBPACK_IMPORTED_MODULE_0__.getUntracked)(value) || value;\n      }\n      let nextValue = value;\n      if (Object.getOwnPropertyDescriptor(target, prop)?.set) {\n      } else if (value instanceof Promise) {\n        value.then((v) => {\n          value.status = \"fulfilled\";\n          value.value = v;\n          notifyUpdate([\"resolve\", [prop], v]);\n        }).catch((e) => {\n          value.status = \"rejected\";\n          value.reason = e;\n          notifyUpdate([\"reject\", [prop], e]);\n        });\n      } else {\n        if (!proxyStateMap.has(value) && canProxy(value)) {\n          nextValue = proxy(value);\n        }\n        const childProxyState = !refSet.has(nextValue) && proxyStateMap.get(nextValue);\n        if (childProxyState) {\n          addPropListener(prop, childProxyState);\n        }\n      }\n      Reflect.set(target, prop, nextValue, receiver);\n      notifyUpdate([\"set\", [prop], value, prevValue]);\n      return true;\n    }\n  };\n  const proxyObject = newProxy(baseObject, handler);\n  proxyCache.set(initialObject, proxyObject);\n  const proxyState = [baseObject, ensureVersion, createSnapshot, addListener];\n  proxyStateMap.set(proxyObject, proxyState);\n  Reflect.ownKeys(initialObject).forEach((key) => {\n    const desc = Object.getOwnPropertyDescriptor(initialObject, key);\n    if (desc.get || desc.set) {\n      Object.defineProperty(baseObject, key, desc);\n    } else {\n      proxyObject[key] = initialObject[key];\n    }\n  });\n  return proxyObject;\n}) => [\n  // public functions\n  proxyFunction2,\n  // shared state\n  proxyStateMap,\n  refSet,\n  // internal things\n  objectIs,\n  newProxy,\n  canProxy,\n  defaultHandlePromise,\n  snapCache,\n  createSnapshot,\n  proxyCache,\n  versionHolder\n];\nvar [proxyFunction] = buildProxyFunction();\nfunction proxy(initialObject = {}) {\n  return proxyFunction(initialObject);\n}\nfunction subscribe(proxyObject, callback, notifyInSync) {\n  const proxyState = proxyStateMap.get(proxyObject);\n  if (isDev && !proxyState) {\n    console.warn(\"Please use proxy object\");\n  }\n  let promise;\n  const ops = [];\n  const addListener = proxyState[3];\n  let isListenerActive = false;\n  const listener = (op) => {\n    ops.push(op);\n    if (notifyInSync) {\n      callback(ops.splice(0));\n      return;\n    }\n    if (!promise) {\n      promise = Promise.resolve().then(() => {\n        promise = void 0;\n        if (isListenerActive) {\n          callback(ops.splice(0));\n        }\n      });\n    }\n  };\n  const removeListener = addListener(listener);\n  isListenerActive = true;\n  return () => {\n    isListenerActive = false;\n    removeListener();\n  };\n}\nfunction snapshot(proxyObject, handlePromise) {\n  const proxyState = proxyStateMap.get(proxyObject);\n  if (isDev && !proxyState) {\n    console.warn(\"Please use proxy object\");\n  }\n  const [target, ensureVersion, createSnapshot] = proxyState;\n  return createSnapshot(target, ensureVersion(), handlePromise);\n}\nfunction ref(obj) {\n  refSet.add(obj);\n  return obj;\n}\n\n// src/proxy-computed.ts\nfunction proxyWithComputed(initialObject, computedFns) {\n  const keys = Object.keys(computedFns);\n  keys.forEach((key) => {\n    if (Object.getOwnPropertyDescriptor(initialObject, key)) {\n      throw new Error(\"object property already defined\");\n    }\n    const computedFn = computedFns[key];\n    const { get, set } = typeof computedFn === \"function\" ? { get: computedFn } : computedFn;\n    const desc = {};\n    desc.get = () => get(snapshot(proxyObject));\n    if (set) {\n      desc.set = (newValue) => set(proxyObject, newValue);\n    }\n    Object.defineProperty(initialObject, key, desc);\n  });\n  const proxyObject = proxy(initialObject);\n  return proxyObject;\n}\n\n// src/subscribe-key.ts\nvar defaultCompareFn = (prev, next) => Object.is(prev, next);\nfunction subscribeKey(obj, key, fn, sync, compareFn) {\n  let prev = Reflect.get(snapshot(obj), key);\n  const isEqual = compareFn || defaultCompareFn;\n  function onSnapshotChange() {\n    const snap = snapshot(obj);\n    if (isEqual(prev, snap[key]))\n      return;\n    fn(snap[key]);\n    prev = Reflect.get(snap, key);\n  }\n  return subscribe(obj, onSnapshotChange, sync);\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9zdG9yZS9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDMEQ7QUFDMUQsWUFBWSxhQUFvQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsMERBQVc7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sMERBQVc7QUFDakI7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsMkRBQVk7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksV0FBVyx1Q0FBdUMsa0JBQWtCO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AcGFyay11aS9leGFtcGxlcy1yZWFjdC1uZXh0LWpzLy4vbm9kZV9tb2R1bGVzL0B6YWctanMvc3RvcmUvZGlzdC9pbmRleC5tanM/NTFhNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvcHJveHkudHNcbmltcG9ydCB7IGdldFVudHJhY2tlZCwgbWFya1RvVHJhY2sgfSBmcm9tIFwicHJveHktY29tcGFyZVwiO1xudmFyIGlzRGV2ID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiO1xudmFyIGlzT2JqZWN0ID0gKHgpID0+IHR5cGVvZiB4ID09PSBcIm9iamVjdFwiICYmIHggIT09IG51bGw7XG52YXIgcHJveHlTdGF0ZU1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xudmFyIHJlZlNldCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha1NldCgpO1xudmFyIGJ1aWxkUHJveHlGdW5jdGlvbiA9IChvYmplY3RJcyA9IE9iamVjdC5pcywgbmV3UHJveHkgPSAodGFyZ2V0LCBoYW5kbGVyKSA9PiBuZXcgUHJveHkodGFyZ2V0LCBoYW5kbGVyKSwgY2FuUHJveHkgPSAoeCkgPT4gaXNPYmplY3QoeCkgJiYgIXJlZlNldC5oYXMoeCkgJiYgKEFycmF5LmlzQXJyYXkoeCkgfHwgIShTeW1ib2wuaXRlcmF0b3IgaW4geCkpICYmICEoeCBpbnN0YW5jZW9mIFdlYWtNYXApICYmICEoeCBpbnN0YW5jZW9mIFdlYWtTZXQpICYmICEoeCBpbnN0YW5jZW9mIEVycm9yKSAmJiAhKHggaW5zdGFuY2VvZiBOdW1iZXIpICYmICEoeCBpbnN0YW5jZW9mIERhdGUpICYmICEoeCBpbnN0YW5jZW9mIFN0cmluZykgJiYgISh4IGluc3RhbmNlb2YgUmVnRXhwKSAmJiAhKHggaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciksIGRlZmF1bHRIYW5kbGVQcm9taXNlID0gKHByb21pc2UpID0+IHtcbiAgc3dpdGNoIChwcm9taXNlLnN0YXR1cykge1xuICAgIGNhc2UgXCJmdWxmaWxsZWRcIjpcbiAgICAgIHJldHVybiBwcm9taXNlLnZhbHVlO1xuICAgIGNhc2UgXCJyZWplY3RlZFwiOlxuICAgICAgdGhyb3cgcHJvbWlzZS5yZWFzb247XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IHByb21pc2U7XG4gIH1cbn0sIHNuYXBDYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpLCBjcmVhdGVTbmFwc2hvdCA9ICh0YXJnZXQsIHZlcnNpb24sIGhhbmRsZVByb21pc2UgPSBkZWZhdWx0SGFuZGxlUHJvbWlzZSkgPT4ge1xuICBjb25zdCBjYWNoZSA9IHNuYXBDYWNoZS5nZXQodGFyZ2V0KTtcbiAgaWYgKGNhY2hlPy5bMF0gPT09IHZlcnNpb24pIHtcbiAgICByZXR1cm4gY2FjaGVbMV07XG4gIH1cbiAgY29uc3Qgc25hcCA9IEFycmF5LmlzQXJyYXkodGFyZ2V0KSA/IFtdIDogT2JqZWN0LmNyZWF0ZShPYmplY3QuZ2V0UHJvdG90eXBlT2YodGFyZ2V0KSk7XG4gIG1hcmtUb1RyYWNrKHNuYXAsIHRydWUpO1xuICBzbmFwQ2FjaGUuc2V0KHRhcmdldCwgW3ZlcnNpb24sIHNuYXBdKTtcbiAgUmVmbGVjdC5vd25LZXlzKHRhcmdldCkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBSZWZsZWN0LmdldCh0YXJnZXQsIGtleSk7XG4gICAgaWYgKHJlZlNldC5oYXModmFsdWUpKSB7XG4gICAgICBtYXJrVG9UcmFjayh2YWx1ZSwgZmFsc2UpO1xuICAgICAgc25hcFtrZXldID0gdmFsdWU7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzbmFwLCBrZXksIHtcbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgIHJldHVybiBoYW5kbGVQcm9taXNlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChwcm94eVN0YXRlTWFwLmhhcyh2YWx1ZSkpIHtcbiAgICAgIHNuYXBba2V5XSA9IHNuYXBzaG90KHZhbHVlLCBoYW5kbGVQcm9taXNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hcFtrZXldID0gdmFsdWU7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIE9iamVjdC5mcmVlemUoc25hcCk7XG59LCBwcm94eUNhY2hlID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCksIHZlcnNpb25Ib2xkZXIgPSBbMSwgMV0sIHByb3h5RnVuY3Rpb24yID0gKGluaXRpYWxPYmplY3QpID0+IHtcbiAgaWYgKCFpc09iamVjdChpbml0aWFsT2JqZWN0KSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIm9iamVjdCByZXF1aXJlZFwiKTtcbiAgfVxuICBjb25zdCBmb3VuZCA9IHByb3h5Q2FjaGUuZ2V0KGluaXRpYWxPYmplY3QpO1xuICBpZiAoZm91bmQpIHtcbiAgICByZXR1cm4gZm91bmQ7XG4gIH1cbiAgbGV0IHZlcnNpb24gPSB2ZXJzaW9uSG9sZGVyWzBdO1xuICBjb25zdCBsaXN0ZW5lcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBjb25zdCBub3RpZnlVcGRhdGUgPSAob3AsIG5leHRWZXJzaW9uID0gKyt2ZXJzaW9uSG9sZGVyWzBdKSA9PiB7XG4gICAgaWYgKHZlcnNpb24gIT09IG5leHRWZXJzaW9uKSB7XG4gICAgICB2ZXJzaW9uID0gbmV4dFZlcnNpb247XG4gICAgICBsaXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+IGxpc3RlbmVyKG9wLCBuZXh0VmVyc2lvbikpO1xuICAgIH1cbiAgfTtcbiAgbGV0IGNoZWNrVmVyc2lvbiA9IHZlcnNpb25Ib2xkZXJbMV07XG4gIGNvbnN0IGVuc3VyZVZlcnNpb24gPSAobmV4dENoZWNrVmVyc2lvbiA9ICsrdmVyc2lvbkhvbGRlclsxXSkgPT4ge1xuICAgIGlmIChjaGVja1ZlcnNpb24gIT09IG5leHRDaGVja1ZlcnNpb24gJiYgIWxpc3RlbmVycy5zaXplKSB7XG4gICAgICBjaGVja1ZlcnNpb24gPSBuZXh0Q2hlY2tWZXJzaW9uO1xuICAgICAgcHJvcFByb3h5U3RhdGVzLmZvckVhY2goKFtwcm9wUHJveHlTdGF0ZV0pID0+IHtcbiAgICAgICAgY29uc3QgcHJvcFZlcnNpb24gPSBwcm9wUHJveHlTdGF0ZVsxXShuZXh0Q2hlY2tWZXJzaW9uKTtcbiAgICAgICAgaWYgKHByb3BWZXJzaW9uID4gdmVyc2lvbikge1xuICAgICAgICAgIHZlcnNpb24gPSBwcm9wVmVyc2lvbjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB2ZXJzaW9uO1xuICB9O1xuICBjb25zdCBjcmVhdGVQcm9wTGlzdGVuZXIgPSAocHJvcCkgPT4gKG9wLCBuZXh0VmVyc2lvbikgPT4ge1xuICAgIGNvbnN0IG5ld09wID0gWy4uLm9wXTtcbiAgICBuZXdPcFsxXSA9IFtwcm9wLCAuLi5uZXdPcFsxXV07XG4gICAgbm90aWZ5VXBkYXRlKG5ld09wLCBuZXh0VmVyc2lvbik7XG4gIH07XG4gIGNvbnN0IHByb3BQcm94eVN0YXRlcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGNvbnN0IGFkZFByb3BMaXN0ZW5lciA9IChwcm9wLCBwcm9wUHJveHlTdGF0ZSkgPT4ge1xuICAgIGlmIChpc0RldiAmJiBwcm9wUHJveHlTdGF0ZXMuaGFzKHByb3ApKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJwcm9wIGxpc3RlbmVyIGFscmVhZHkgZXhpc3RzXCIpO1xuICAgIH1cbiAgICBpZiAobGlzdGVuZXJzLnNpemUpIHtcbiAgICAgIGNvbnN0IHJlbW92ZSA9IHByb3BQcm94eVN0YXRlWzNdKGNyZWF0ZVByb3BMaXN0ZW5lcihwcm9wKSk7XG4gICAgICBwcm9wUHJveHlTdGF0ZXMuc2V0KHByb3AsIFtwcm9wUHJveHlTdGF0ZSwgcmVtb3ZlXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb3BQcm94eVN0YXRlcy5zZXQocHJvcCwgW3Byb3BQcm94eVN0YXRlXSk7XG4gICAgfVxuICB9O1xuICBjb25zdCByZW1vdmVQcm9wTGlzdGVuZXIgPSAocHJvcCkgPT4ge1xuICAgIGNvbnN0IGVudHJ5ID0gcHJvcFByb3h5U3RhdGVzLmdldChwcm9wKTtcbiAgICBpZiAoZW50cnkpIHtcbiAgICAgIHByb3BQcm94eVN0YXRlcy5kZWxldGUocHJvcCk7XG4gICAgICBlbnRyeVsxXT8uKCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBhZGRMaXN0ZW5lciA9IChsaXN0ZW5lcikgPT4ge1xuICAgIGxpc3RlbmVycy5hZGQobGlzdGVuZXIpO1xuICAgIGlmIChsaXN0ZW5lcnMuc2l6ZSA9PT0gMSkge1xuICAgICAgcHJvcFByb3h5U3RhdGVzLmZvckVhY2goKFtwcm9wUHJveHlTdGF0ZSwgcHJldlJlbW92ZV0sIHByb3ApID0+IHtcbiAgICAgICAgaWYgKGlzRGV2ICYmIHByZXZSZW1vdmUpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJyZW1vdmUgYWxyZWFkeSBleGlzdHNcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVtb3ZlID0gcHJvcFByb3h5U3RhdGVbM10oY3JlYXRlUHJvcExpc3RlbmVyKHByb3ApKTtcbiAgICAgICAgcHJvcFByb3h5U3RhdGVzLnNldChwcm9wLCBbcHJvcFByb3h5U3RhdGUsIHJlbW92ZV0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHJlbW92ZUxpc3RlbmVyID0gKCkgPT4ge1xuICAgICAgbGlzdGVuZXJzLmRlbGV0ZShsaXN0ZW5lcik7XG4gICAgICBpZiAobGlzdGVuZXJzLnNpemUgPT09IDApIHtcbiAgICAgICAgcHJvcFByb3h5U3RhdGVzLmZvckVhY2goKFtwcm9wUHJveHlTdGF0ZSwgcmVtb3ZlXSwgcHJvcCkgPT4ge1xuICAgICAgICAgIGlmIChyZW1vdmUpIHtcbiAgICAgICAgICAgIHJlbW92ZSgpO1xuICAgICAgICAgICAgcHJvcFByb3h5U3RhdGVzLnNldChwcm9wLCBbcHJvcFByb3h5U3RhdGVdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIHJlbW92ZUxpc3RlbmVyO1xuICB9O1xuICBjb25zdCBiYXNlT2JqZWN0ID0gQXJyYXkuaXNBcnJheShpbml0aWFsT2JqZWN0KSA/IFtdIDogT2JqZWN0LmNyZWF0ZShPYmplY3QuZ2V0UHJvdG90eXBlT2YoaW5pdGlhbE9iamVjdCkpO1xuICBjb25zdCBoYW5kbGVyID0ge1xuICAgIGRlbGV0ZVByb3BlcnR5KHRhcmdldCwgcHJvcCkge1xuICAgICAgY29uc3QgcHJldlZhbHVlID0gUmVmbGVjdC5nZXQodGFyZ2V0LCBwcm9wKTtcbiAgICAgIHJlbW92ZVByb3BMaXN0ZW5lcihwcm9wKTtcbiAgICAgIGNvbnN0IGRlbGV0ZWQgPSBSZWZsZWN0LmRlbGV0ZVByb3BlcnR5KHRhcmdldCwgcHJvcCk7XG4gICAgICBpZiAoZGVsZXRlZCkge1xuICAgICAgICBub3RpZnlVcGRhdGUoW1wiZGVsZXRlXCIsIFtwcm9wXSwgcHJldlZhbHVlXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVsZXRlZDtcbiAgICB9LFxuICAgIHNldCh0YXJnZXQsIHByb3AsIHZhbHVlLCByZWNlaXZlcikge1xuICAgICAgY29uc3QgaGFzUHJldlZhbHVlID0gUmVmbGVjdC5oYXModGFyZ2V0LCBwcm9wKTtcbiAgICAgIGNvbnN0IHByZXZWYWx1ZSA9IFJlZmxlY3QuZ2V0KHRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpO1xuICAgICAgaWYgKGhhc1ByZXZWYWx1ZSAmJiAob2JqZWN0SXMocHJldlZhbHVlLCB2YWx1ZSkgfHwgcHJveHlDYWNoZS5oYXModmFsdWUpICYmIG9iamVjdElzKHByZXZWYWx1ZSwgcHJveHlDYWNoZS5nZXQodmFsdWUpKSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZW1vdmVQcm9wTGlzdGVuZXIocHJvcCk7XG4gICAgICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlID0gZ2V0VW50cmFja2VkKHZhbHVlKSB8fCB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGxldCBuZXh0VmFsdWUgPSB2YWx1ZTtcbiAgICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwgcHJvcCk/LnNldCkge1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgdmFsdWUudGhlbigodikgPT4ge1xuICAgICAgICAgIHZhbHVlLnN0YXR1cyA9IFwiZnVsZmlsbGVkXCI7XG4gICAgICAgICAgdmFsdWUudmFsdWUgPSB2O1xuICAgICAgICAgIG5vdGlmeVVwZGF0ZShbXCJyZXNvbHZlXCIsIFtwcm9wXSwgdl0pO1xuICAgICAgICB9KS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgIHZhbHVlLnN0YXR1cyA9IFwicmVqZWN0ZWRcIjtcbiAgICAgICAgICB2YWx1ZS5yZWFzb24gPSBlO1xuICAgICAgICAgIG5vdGlmeVVwZGF0ZShbXCJyZWplY3RcIiwgW3Byb3BdLCBlXSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFwcm94eVN0YXRlTWFwLmhhcyh2YWx1ZSkgJiYgY2FuUHJveHkodmFsdWUpKSB7XG4gICAgICAgICAgbmV4dFZhbHVlID0gcHJveHkodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNoaWxkUHJveHlTdGF0ZSA9ICFyZWZTZXQuaGFzKG5leHRWYWx1ZSkgJiYgcHJveHlTdGF0ZU1hcC5nZXQobmV4dFZhbHVlKTtcbiAgICAgICAgaWYgKGNoaWxkUHJveHlTdGF0ZSkge1xuICAgICAgICAgIGFkZFByb3BMaXN0ZW5lcihwcm9wLCBjaGlsZFByb3h5U3RhdGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBSZWZsZWN0LnNldCh0YXJnZXQsIHByb3AsIG5leHRWYWx1ZSwgcmVjZWl2ZXIpO1xuICAgICAgbm90aWZ5VXBkYXRlKFtcInNldFwiLCBbcHJvcF0sIHZhbHVlLCBwcmV2VmFsdWVdKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcHJveHlPYmplY3QgPSBuZXdQcm94eShiYXNlT2JqZWN0LCBoYW5kbGVyKTtcbiAgcHJveHlDYWNoZS5zZXQoaW5pdGlhbE9iamVjdCwgcHJveHlPYmplY3QpO1xuICBjb25zdCBwcm94eVN0YXRlID0gW2Jhc2VPYmplY3QsIGVuc3VyZVZlcnNpb24sIGNyZWF0ZVNuYXBzaG90LCBhZGRMaXN0ZW5lcl07XG4gIHByb3h5U3RhdGVNYXAuc2V0KHByb3h5T2JqZWN0LCBwcm94eVN0YXRlKTtcbiAgUmVmbGVjdC5vd25LZXlzKGluaXRpYWxPYmplY3QpLmZvckVhY2goKGtleSkgPT4ge1xuICAgIGNvbnN0IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGluaXRpYWxPYmplY3QsIGtleSk7XG4gICAgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYmFzZU9iamVjdCwga2V5LCBkZXNjKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJveHlPYmplY3Rba2V5XSA9IGluaXRpYWxPYmplY3Rba2V5XTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcHJveHlPYmplY3Q7XG59KSA9PiBbXG4gIC8vIHB1YmxpYyBmdW5jdGlvbnNcbiAgcHJveHlGdW5jdGlvbjIsXG4gIC8vIHNoYXJlZCBzdGF0ZVxuICBwcm94eVN0YXRlTWFwLFxuICByZWZTZXQsXG4gIC8vIGludGVybmFsIHRoaW5nc1xuICBvYmplY3RJcyxcbiAgbmV3UHJveHksXG4gIGNhblByb3h5LFxuICBkZWZhdWx0SGFuZGxlUHJvbWlzZSxcbiAgc25hcENhY2hlLFxuICBjcmVhdGVTbmFwc2hvdCxcbiAgcHJveHlDYWNoZSxcbiAgdmVyc2lvbkhvbGRlclxuXTtcbnZhciBbcHJveHlGdW5jdGlvbl0gPSBidWlsZFByb3h5RnVuY3Rpb24oKTtcbmZ1bmN0aW9uIHByb3h5KGluaXRpYWxPYmplY3QgPSB7fSkge1xuICByZXR1cm4gcHJveHlGdW5jdGlvbihpbml0aWFsT2JqZWN0KTtcbn1cbmZ1bmN0aW9uIHN1YnNjcmliZShwcm94eU9iamVjdCwgY2FsbGJhY2ssIG5vdGlmeUluU3luYykge1xuICBjb25zdCBwcm94eVN0YXRlID0gcHJveHlTdGF0ZU1hcC5nZXQocHJveHlPYmplY3QpO1xuICBpZiAoaXNEZXYgJiYgIXByb3h5U3RhdGUpIHtcbiAgICBjb25zb2xlLndhcm4oXCJQbGVhc2UgdXNlIHByb3h5IG9iamVjdFwiKTtcbiAgfVxuICBsZXQgcHJvbWlzZTtcbiAgY29uc3Qgb3BzID0gW107XG4gIGNvbnN0IGFkZExpc3RlbmVyID0gcHJveHlTdGF0ZVszXTtcbiAgbGV0IGlzTGlzdGVuZXJBY3RpdmUgPSBmYWxzZTtcbiAgY29uc3QgbGlzdGVuZXIgPSAob3ApID0+IHtcbiAgICBvcHMucHVzaChvcCk7XG4gICAgaWYgKG5vdGlmeUluU3luYykge1xuICAgICAgY2FsbGJhY2sob3BzLnNwbGljZSgwKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghcHJvbWlzZSkge1xuICAgICAgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICBwcm9taXNlID0gdm9pZCAwO1xuICAgICAgICBpZiAoaXNMaXN0ZW5lckFjdGl2ZSkge1xuICAgICAgICAgIGNhbGxiYWNrKG9wcy5zcGxpY2UoMCkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHJlbW92ZUxpc3RlbmVyID0gYWRkTGlzdGVuZXIobGlzdGVuZXIpO1xuICBpc0xpc3RlbmVyQWN0aXZlID0gdHJ1ZTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBpc0xpc3RlbmVyQWN0aXZlID0gZmFsc2U7XG4gICAgcmVtb3ZlTGlzdGVuZXIoKTtcbiAgfTtcbn1cbmZ1bmN0aW9uIHNuYXBzaG90KHByb3h5T2JqZWN0LCBoYW5kbGVQcm9taXNlKSB7XG4gIGNvbnN0IHByb3h5U3RhdGUgPSBwcm94eVN0YXRlTWFwLmdldChwcm94eU9iamVjdCk7XG4gIGlmIChpc0RldiAmJiAhcHJveHlTdGF0ZSkge1xuICAgIGNvbnNvbGUud2FybihcIlBsZWFzZSB1c2UgcHJveHkgb2JqZWN0XCIpO1xuICB9XG4gIGNvbnN0IFt0YXJnZXQsIGVuc3VyZVZlcnNpb24sIGNyZWF0ZVNuYXBzaG90XSA9IHByb3h5U3RhdGU7XG4gIHJldHVybiBjcmVhdGVTbmFwc2hvdCh0YXJnZXQsIGVuc3VyZVZlcnNpb24oKSwgaGFuZGxlUHJvbWlzZSk7XG59XG5mdW5jdGlvbiByZWYob2JqKSB7XG4gIHJlZlNldC5hZGQob2JqKTtcbiAgcmV0dXJuIG9iajtcbn1cblxuLy8gc3JjL3Byb3h5LWNvbXB1dGVkLnRzXG5mdW5jdGlvbiBwcm94eVdpdGhDb21wdXRlZChpbml0aWFsT2JqZWN0LCBjb21wdXRlZEZucykge1xuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoY29tcHV0ZWRGbnMpO1xuICBrZXlzLmZvckVhY2goKGtleSkgPT4ge1xuICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGluaXRpYWxPYmplY3QsIGtleSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm9iamVjdCBwcm9wZXJ0eSBhbHJlYWR5IGRlZmluZWRcIik7XG4gICAgfVxuICAgIGNvbnN0IGNvbXB1dGVkRm4gPSBjb21wdXRlZEZuc1trZXldO1xuICAgIGNvbnN0IHsgZ2V0LCBzZXQgfSA9IHR5cGVvZiBjb21wdXRlZEZuID09PSBcImZ1bmN0aW9uXCIgPyB7IGdldDogY29tcHV0ZWRGbiB9IDogY29tcHV0ZWRGbjtcbiAgICBjb25zdCBkZXNjID0ge307XG4gICAgZGVzYy5nZXQgPSAoKSA9PiBnZXQoc25hcHNob3QocHJveHlPYmplY3QpKTtcbiAgICBpZiAoc2V0KSB7XG4gICAgICBkZXNjLnNldCA9IChuZXdWYWx1ZSkgPT4gc2V0KHByb3h5T2JqZWN0LCBuZXdWYWx1ZSk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpbml0aWFsT2JqZWN0LCBrZXksIGRlc2MpO1xuICB9KTtcbiAgY29uc3QgcHJveHlPYmplY3QgPSBwcm94eShpbml0aWFsT2JqZWN0KTtcbiAgcmV0dXJuIHByb3h5T2JqZWN0O1xufVxuXG4vLyBzcmMvc3Vic2NyaWJlLWtleS50c1xudmFyIGRlZmF1bHRDb21wYXJlRm4gPSAocHJldiwgbmV4dCkgPT4gT2JqZWN0LmlzKHByZXYsIG5leHQpO1xuZnVuY3Rpb24gc3Vic2NyaWJlS2V5KG9iaiwga2V5LCBmbiwgc3luYywgY29tcGFyZUZuKSB7XG4gIGxldCBwcmV2ID0gUmVmbGVjdC5nZXQoc25hcHNob3Qob2JqKSwga2V5KTtcbiAgY29uc3QgaXNFcXVhbCA9IGNvbXBhcmVGbiB8fCBkZWZhdWx0Q29tcGFyZUZuO1xuICBmdW5jdGlvbiBvblNuYXBzaG90Q2hhbmdlKCkge1xuICAgIGNvbnN0IHNuYXAgPSBzbmFwc2hvdChvYmopO1xuICAgIGlmIChpc0VxdWFsKHByZXYsIHNuYXBba2V5XSkpXG4gICAgICByZXR1cm47XG4gICAgZm4oc25hcFtrZXldKTtcbiAgICBwcmV2ID0gUmVmbGVjdC5nZXQoc25hcCwga2V5KTtcbiAgfVxuICByZXR1cm4gc3Vic2NyaWJlKG9iaiwgb25TbmFwc2hvdENoYW5nZSwgc3luYyk7XG59XG5leHBvcnQge1xuICBwcm94eSxcbiAgcHJveHlXaXRoQ29tcHV0ZWQsXG4gIHJlZixcbiAgc25hcHNob3QsXG4gIHN1YnNjcmliZSxcbiAgc3Vic2NyaWJlS2V5XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/store/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/switch/dist/index.mjs":
/*!****************************************************!*\
  !*** ./node_modules/@zag-js/switch/dist/index.mjs ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   anatomy: () => (/* binding */ anatomy),\n/* harmony export */   connect: () => (/* binding */ connect),\n/* harmony export */   machine: () => (/* binding */ machine)\n/* harmony export */ });\n/* harmony import */ var _zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/anatomy */ \"(ssr)/./node_modules/@zag-js/anatomy/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @zag-js/dom-query */ \"(ssr)/./node_modules/@zag-js/dom-query/dist/index.mjs\");\n/* harmony import */ var _zag_js_visually_hidden__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @zag-js/visually-hidden */ \"(ssr)/./node_modules/@zag-js/visually-hidden/dist/index.mjs\");\n/* harmony import */ var _zag_js_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @zag-js/core */ \"(ssr)/./node_modules/@zag-js/core/dist/index.mjs\");\n/* harmony import */ var _zag_js_form_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @zag-js/form-utils */ \"(ssr)/./node_modules/@zag-js/form-utils/dist/index.mjs\");\n/* harmony import */ var _zag_js_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @zag-js/utils */ \"(ssr)/./node_modules/@zag-js/utils/dist/index.mjs\");\n// src/switch.anatomy.ts\n\nvar anatomy = (0,_zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__.createAnatomy)(\"switch\").parts(\"root\", \"label\", \"control\", \"thumb\");\nvar parts = anatomy.build();\n\n// src/switch.connect.ts\n\n\n\n// src/switch.dom.ts\n\nvar dom = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.createScope)({\n  getRootId: (ctx) => ctx.ids?.root ?? `switch:${ctx.id}`,\n  getLabelId: (ctx) => ctx.ids?.label ?? `switch:${ctx.id}:label`,\n  getThumbId: (ctx) => ctx.ids?.thumb ?? `switch:${ctx.id}:thumb`,\n  getControlId: (ctx) => ctx.ids?.control ?? `switch:${ctx.id}:control`,\n  getHiddenInputId: (ctx) => ctx.ids?.input ?? `switch:${ctx.id}:input`,\n  getHiddenInputEl: (ctx) => dom.getById(ctx, dom.getHiddenInputId(ctx))\n});\n\n// src/switch.connect.ts\nfunction connect(state, send, normalize) {\n  const isDisabled = state.context.isDisabled;\n  const isFocused = !isDisabled && state.context.focused;\n  const isChecked = state.context.checked;\n  const dataAttrs = {\n    \"data-active\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(state.context.active),\n    \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isFocused),\n    \"data-hover\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(state.context.hovered),\n    \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isDisabled),\n    \"data-state\": state.context.checked ? \"checked\" : \"unchecked\",\n    \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(state.context.invalid)\n  };\n  return {\n    isChecked,\n    isDisabled,\n    isFocused,\n    setChecked(checked) {\n      send({ type: \"CHECKED.SET\", checked, isTrusted: false });\n    },\n    toggleChecked() {\n      send({ type: \"CHECKED.TOGGLE\", checked: isChecked, isTrusted: false });\n    },\n    rootProps: normalize.label({\n      ...parts.root.attrs,\n      ...dataAttrs,\n      dir: state.context.dir,\n      id: dom.getRootId(state.context),\n      htmlFor: dom.getHiddenInputId(state.context),\n      onPointerMove() {\n        if (isDisabled)\n          return;\n        send({ type: \"CONTEXT.SET\", context: { hovered: true } });\n      },\n      onPointerLeave() {\n        if (isDisabled)\n          return;\n        send({ type: \"CONTEXT.SET\", context: { hovered: false } });\n      },\n      onPointerDown(event) {\n        if (isDisabled)\n          return;\n        if (isFocused)\n          event.preventDefault();\n        send({ type: \"CONTEXT.SET\", context: { active: true } });\n      },\n      onPointerUp() {\n        if (isDisabled)\n          return;\n        send({ type: \"CONTEXT.SET\", context: { active: false } });\n      },\n      onClick(event) {\n        if (event.target === dom.getHiddenInputEl(state.context)) {\n          event.stopPropagation();\n        }\n      }\n    }),\n    labelProps: normalize.element({\n      ...parts.label.attrs,\n      ...dataAttrs,\n      dir: state.context.dir,\n      id: dom.getLabelId(state.context)\n    }),\n    thumbProps: normalize.element({\n      ...parts.thumb.attrs,\n      ...dataAttrs,\n      dir: state.context.dir,\n      id: dom.getThumbId(state.context),\n      \"aria-hidden\": true\n    }),\n    controlProps: normalize.element({\n      ...parts.control.attrs,\n      ...dataAttrs,\n      dir: state.context.dir,\n      id: dom.getControlId(state.context),\n      \"aria-hidden\": true\n    }),\n    hiddenInputProps: normalize.input({\n      id: dom.getHiddenInputId(state.context),\n      type: \"checkbox\",\n      required: state.context.required,\n      defaultChecked: isChecked,\n      disabled: isDisabled,\n      \"aria-labelledby\": dom.getLabelId(state.context),\n      \"aria-invalid\": state.context.invalid,\n      name: state.context.name,\n      form: state.context.form,\n      value: state.context.value,\n      style: _zag_js_visually_hidden__WEBPACK_IMPORTED_MODULE_2__.visuallyHiddenStyle,\n      onChange(event) {\n        const checked = event.currentTarget.checked;\n        send({ type: \"CHECKED.SET\", checked, isTrusted: true });\n      },\n      onBlur() {\n        send({ type: \"CONTEXT.SET\", context: { focused: false } });\n      },\n      onFocus() {\n        send({ type: \"CONTEXT.SET\", context: { focused: true } });\n      },\n      onKeyDown(event) {\n        if (event.key === \" \") {\n          send({ type: \"CONTEXT.SET\", context: { active: true } });\n        }\n      },\n      onKeyUp(event) {\n        if (event.key === \" \") {\n          send({ type: \"CONTEXT.SET\", context: { active: false } });\n        }\n      }\n    })\n  };\n}\n\n// src/switch.machine.ts\n\n\n\nvar { not } = _zag_js_core__WEBPACK_IMPORTED_MODULE_3__.guards;\nfunction machine(userContext) {\n  const ctx = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_4__.compact)(userContext);\n  return (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_3__.createMachine)(\n    {\n      id: \"switch\",\n      initial: \"ready\",\n      context: {\n        checked: false,\n        label: \"switch\",\n        value: \"on\",\n        disabled: false,\n        ...ctx,\n        fieldsetDisabled: false\n      },\n      computed: {\n        isDisabled: (ctx2) => ctx2.disabled || ctx2.fieldsetDisabled\n      },\n      watch: {\n        disabled: \"removeFocusIfNeeded\",\n        checked: \"syncInputElement\"\n      },\n      activities: [\"trackFormControlState\"],\n      on: {\n        \"CHECKED.TOGGLE\": [\n          {\n            guard: not(\"isTrusted\"),\n            actions: [\"toggleChecked\", \"dispatchChangeEvent\"]\n          },\n          {\n            actions: [\"toggleChecked\"]\n          }\n        ],\n        \"CHECKED.SET\": [\n          {\n            guard: not(\"isTrusted\"),\n            actions: [\"setChecked\", \"dispatchChangeEvent\"]\n          },\n          {\n            actions: [\"setChecked\"]\n          }\n        ],\n        \"CONTEXT.SET\": {\n          actions: [\"setContext\"]\n        }\n      },\n      states: {\n        ready: {}\n      }\n    },\n    {\n      guards: {\n        isTrusted: (_ctx, evt) => !!evt.isTrusted\n      },\n      activities: {\n        trackFormControlState(ctx2, _evt, { send, initialContext }) {\n          return (0,_zag_js_form_utils__WEBPACK_IMPORTED_MODULE_5__.trackFormControl)(dom.getHiddenInputEl(ctx2), {\n            onFieldsetDisabledChange(disabled) {\n              ctx2.fieldsetDisabled = disabled;\n            },\n            onFormReset() {\n              send({ type: \"CHECKED.SET\", checked: !!initialContext.checked, src: \"form-reset\" });\n            }\n          });\n        }\n      },\n      actions: {\n        setContext(ctx2, evt) {\n          Object.assign(ctx2, evt.context);\n        },\n        syncInputElement(ctx2) {\n          const inputEl = dom.getHiddenInputEl(ctx2);\n          if (!inputEl)\n            return;\n          inputEl.checked = !!ctx2.checked;\n        },\n        removeFocusIfNeeded(ctx2) {\n          if (ctx2.disabled && ctx2.focused) {\n            ctx2.focused = false;\n          }\n        },\n        setChecked(ctx2, evt) {\n          set.checked(ctx2, evt.checked);\n        },\n        toggleChecked(ctx2, _evt) {\n          set.checked(ctx2, !ctx2.checked);\n        },\n        dispatchChangeEvent(ctx2) {\n          const inputEl = dom.getHiddenInputEl(ctx2);\n          (0,_zag_js_form_utils__WEBPACK_IMPORTED_MODULE_5__.dispatchInputCheckedEvent)(inputEl, { checked: ctx2.checked });\n        }\n      }\n    }\n  );\n}\nvar invoke = {\n  change: (ctx) => {\n    ctx.onCheckedChange?.({ checked: ctx.checked });\n  }\n};\nvar set = {\n  checked: (ctx, checked) => {\n    if ((0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_4__.isEqual)(ctx.checked, checked))\n      return;\n    ctx.checked = checked;\n    invoke.change(ctx);\n  }\n};\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9zd2l0Y2gvZGlzdC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7QUFDZ0Q7QUFDaEQsY0FBYyw4REFBYTtBQUMzQjs7QUFFQTtBQUM2QztBQUNpQjs7QUFFOUQ7QUFDZ0Q7QUFDaEQsVUFBVSw4REFBVztBQUNyQixpREFBaUQsT0FBTztBQUN4RCxtREFBbUQsT0FBTztBQUMxRCxtREFBbUQsT0FBTztBQUMxRCx1REFBdUQsT0FBTztBQUM5RCx5REFBeUQsT0FBTztBQUNoRTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDJEQUFRO0FBQzNCLGtCQUFrQiwyREFBUTtBQUMxQixrQkFBa0IsMkRBQVE7QUFDMUIscUJBQXFCLDJEQUFRO0FBQzdCO0FBQ0Esb0JBQW9CLDJEQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsZ0RBQWdEO0FBQzdELEtBQUs7QUFDTDtBQUNBLGFBQWEsOERBQThEO0FBQzNFLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdDQUFnQyxpQkFBaUI7QUFDaEUsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0NBQWdDLGtCQUFrQjtBQUNqRSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0NBQWdDLGdCQUFnQjtBQUMvRCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnQ0FBZ0MsaUJBQWlCO0FBQ2hFLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSx3RUFBbUI7QUFDaEM7QUFDQTtBQUNBLGVBQWUsK0NBQStDO0FBQzlELE9BQU87QUFDUDtBQUNBLGVBQWUsZ0NBQWdDLGtCQUFrQjtBQUNqRSxPQUFPO0FBQ1A7QUFDQSxlQUFlLGdDQUFnQyxpQkFBaUI7QUFDaEUsT0FBTztBQUNQO0FBQ0E7QUFDQSxpQkFBaUIsZ0NBQWdDLGdCQUFnQjtBQUNqRTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsaUJBQWlCLGdDQUFnQyxpQkFBaUI7QUFDbEU7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ3FEO0FBQzRCO0FBQ2hDO0FBQ2pELE1BQU0sTUFBTSxFQUFFLGdEQUFNO0FBQ3BCO0FBQ0EsY0FBYyxzREFBTztBQUNyQixTQUFTLDJEQUFhO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSw0Q0FBNEMsc0JBQXNCO0FBQ2xFLGlCQUFpQixvRUFBZ0I7QUFDakM7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLHFCQUFxQiwyRUFBMkU7QUFDaEc7QUFDQSxXQUFXO0FBQ1g7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxVQUFVLDZFQUF5QixZQUFZLHVCQUF1QjtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixzQkFBc0I7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFPO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AcGFyay11aS9leGFtcGxlcy1yZWFjdC1uZXh0LWpzLy4vbm9kZV9tb2R1bGVzL0B6YWctanMvc3dpdGNoL2Rpc3QvaW5kZXgubWpzP2NlZmUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL3N3aXRjaC5hbmF0b215LnRzXG5pbXBvcnQgeyBjcmVhdGVBbmF0b215IH0gZnJvbSBcIkB6YWctanMvYW5hdG9teVwiO1xudmFyIGFuYXRvbXkgPSBjcmVhdGVBbmF0b215KFwic3dpdGNoXCIpLnBhcnRzKFwicm9vdFwiLCBcImxhYmVsXCIsIFwiY29udHJvbFwiLCBcInRodW1iXCIpO1xudmFyIHBhcnRzID0gYW5hdG9teS5idWlsZCgpO1xuXG4vLyBzcmMvc3dpdGNoLmNvbm5lY3QudHNcbmltcG9ydCB7IGRhdGFBdHRyIH0gZnJvbSBcIkB6YWctanMvZG9tLXF1ZXJ5XCI7XG5pbXBvcnQgeyB2aXN1YWxseUhpZGRlblN0eWxlIH0gZnJvbSBcIkB6YWctanMvdmlzdWFsbHktaGlkZGVuXCI7XG5cbi8vIHNyYy9zd2l0Y2guZG9tLnRzXG5pbXBvcnQgeyBjcmVhdGVTY29wZSB9IGZyb20gXCJAemFnLWpzL2RvbS1xdWVyeVwiO1xudmFyIGRvbSA9IGNyZWF0ZVNjb3BlKHtcbiAgZ2V0Um9vdElkOiAoY3R4KSA9PiBjdHguaWRzPy5yb290ID8/IGBzd2l0Y2g6JHtjdHguaWR9YCxcbiAgZ2V0TGFiZWxJZDogKGN0eCkgPT4gY3R4Lmlkcz8ubGFiZWwgPz8gYHN3aXRjaDoke2N0eC5pZH06bGFiZWxgLFxuICBnZXRUaHVtYklkOiAoY3R4KSA9PiBjdHguaWRzPy50aHVtYiA/PyBgc3dpdGNoOiR7Y3R4LmlkfTp0aHVtYmAsXG4gIGdldENvbnRyb2xJZDogKGN0eCkgPT4gY3R4Lmlkcz8uY29udHJvbCA/PyBgc3dpdGNoOiR7Y3R4LmlkfTpjb250cm9sYCxcbiAgZ2V0SGlkZGVuSW5wdXRJZDogKGN0eCkgPT4gY3R4Lmlkcz8uaW5wdXQgPz8gYHN3aXRjaDoke2N0eC5pZH06aW5wdXRgLFxuICBnZXRIaWRkZW5JbnB1dEVsOiAoY3R4KSA9PiBkb20uZ2V0QnlJZChjdHgsIGRvbS5nZXRIaWRkZW5JbnB1dElkKGN0eCkpXG59KTtcblxuLy8gc3JjL3N3aXRjaC5jb25uZWN0LnRzXG5mdW5jdGlvbiBjb25uZWN0KHN0YXRlLCBzZW5kLCBub3JtYWxpemUpIHtcbiAgY29uc3QgaXNEaXNhYmxlZCA9IHN0YXRlLmNvbnRleHQuaXNEaXNhYmxlZDtcbiAgY29uc3QgaXNGb2N1c2VkID0gIWlzRGlzYWJsZWQgJiYgc3RhdGUuY29udGV4dC5mb2N1c2VkO1xuICBjb25zdCBpc0NoZWNrZWQgPSBzdGF0ZS5jb250ZXh0LmNoZWNrZWQ7XG4gIGNvbnN0IGRhdGFBdHRycyA9IHtcbiAgICBcImRhdGEtYWN0aXZlXCI6IGRhdGFBdHRyKHN0YXRlLmNvbnRleHQuYWN0aXZlKSxcbiAgICBcImRhdGEtZm9jdXNcIjogZGF0YUF0dHIoaXNGb2N1c2VkKSxcbiAgICBcImRhdGEtaG92ZXJcIjogZGF0YUF0dHIoc3RhdGUuY29udGV4dC5ob3ZlcmVkKSxcbiAgICBcImRhdGEtZGlzYWJsZWRcIjogZGF0YUF0dHIoaXNEaXNhYmxlZCksXG4gICAgXCJkYXRhLXN0YXRlXCI6IHN0YXRlLmNvbnRleHQuY2hlY2tlZCA/IFwiY2hlY2tlZFwiIDogXCJ1bmNoZWNrZWRcIixcbiAgICBcImRhdGEtaW52YWxpZFwiOiBkYXRhQXR0cihzdGF0ZS5jb250ZXh0LmludmFsaWQpXG4gIH07XG4gIHJldHVybiB7XG4gICAgaXNDaGVja2VkLFxuICAgIGlzRGlzYWJsZWQsXG4gICAgaXNGb2N1c2VkLFxuICAgIHNldENoZWNrZWQoY2hlY2tlZCkge1xuICAgICAgc2VuZCh7IHR5cGU6IFwiQ0hFQ0tFRC5TRVRcIiwgY2hlY2tlZCwgaXNUcnVzdGVkOiBmYWxzZSB9KTtcbiAgICB9LFxuICAgIHRvZ2dsZUNoZWNrZWQoKSB7XG4gICAgICBzZW5kKHsgdHlwZTogXCJDSEVDS0VELlRPR0dMRVwiLCBjaGVja2VkOiBpc0NoZWNrZWQsIGlzVHJ1c3RlZDogZmFsc2UgfSk7XG4gICAgfSxcbiAgICByb290UHJvcHM6IG5vcm1hbGl6ZS5sYWJlbCh7XG4gICAgICAuLi5wYXJ0cy5yb290LmF0dHJzLFxuICAgICAgLi4uZGF0YUF0dHJzLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIGlkOiBkb20uZ2V0Um9vdElkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgaHRtbEZvcjogZG9tLmdldEhpZGRlbklucHV0SWQoc3RhdGUuY29udGV4dCksXG4gICAgICBvblBvaW50ZXJNb3ZlKCkge1xuICAgICAgICBpZiAoaXNEaXNhYmxlZClcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIHNlbmQoeyB0eXBlOiBcIkNPTlRFWFQuU0VUXCIsIGNvbnRleHQ6IHsgaG92ZXJlZDogdHJ1ZSB9IH0pO1xuICAgICAgfSxcbiAgICAgIG9uUG9pbnRlckxlYXZlKCkge1xuICAgICAgICBpZiAoaXNEaXNhYmxlZClcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIHNlbmQoeyB0eXBlOiBcIkNPTlRFWFQuU0VUXCIsIGNvbnRleHQ6IHsgaG92ZXJlZDogZmFsc2UgfSB9KTtcbiAgICAgIH0sXG4gICAgICBvblBvaW50ZXJEb3duKGV2ZW50KSB7XG4gICAgICAgIGlmIChpc0Rpc2FibGVkKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKGlzRm9jdXNlZClcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBzZW5kKHsgdHlwZTogXCJDT05URVhULlNFVFwiLCBjb250ZXh0OiB7IGFjdGl2ZTogdHJ1ZSB9IH0pO1xuICAgICAgfSxcbiAgICAgIG9uUG9pbnRlclVwKCkge1xuICAgICAgICBpZiAoaXNEaXNhYmxlZClcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIHNlbmQoeyB0eXBlOiBcIkNPTlRFWFQuU0VUXCIsIGNvbnRleHQ6IHsgYWN0aXZlOiBmYWxzZSB9IH0pO1xuICAgICAgfSxcbiAgICAgIG9uQ2xpY2soZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gZG9tLmdldEhpZGRlbklucHV0RWwoc3RhdGUuY29udGV4dCkpIHtcbiAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pLFxuICAgIGxhYmVsUHJvcHM6IG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgIC4uLnBhcnRzLmxhYmVsLmF0dHJzLFxuICAgICAgLi4uZGF0YUF0dHJzLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIGlkOiBkb20uZ2V0TGFiZWxJZChzdGF0ZS5jb250ZXh0KVxuICAgIH0pLFxuICAgIHRodW1iUHJvcHM6IG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgIC4uLnBhcnRzLnRodW1iLmF0dHJzLFxuICAgICAgLi4uZGF0YUF0dHJzLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIGlkOiBkb20uZ2V0VGh1bWJJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIFwiYXJpYS1oaWRkZW5cIjogdHJ1ZVxuICAgIH0pLFxuICAgIGNvbnRyb2xQcm9wczogbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgLi4ucGFydHMuY29udHJvbC5hdHRycyxcbiAgICAgIC4uLmRhdGFBdHRycyxcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICBpZDogZG9tLmdldENvbnRyb2xJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIFwiYXJpYS1oaWRkZW5cIjogdHJ1ZVxuICAgIH0pLFxuICAgIGhpZGRlbklucHV0UHJvcHM6IG5vcm1hbGl6ZS5pbnB1dCh7XG4gICAgICBpZDogZG9tLmdldEhpZGRlbklucHV0SWQoc3RhdGUuY29udGV4dCksXG4gICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICByZXF1aXJlZDogc3RhdGUuY29udGV4dC5yZXF1aXJlZCxcbiAgICAgIGRlZmF1bHRDaGVja2VkOiBpc0NoZWNrZWQsXG4gICAgICBkaXNhYmxlZDogaXNEaXNhYmxlZCxcbiAgICAgIFwiYXJpYS1sYWJlbGxlZGJ5XCI6IGRvbS5nZXRMYWJlbElkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgXCJhcmlhLWludmFsaWRcIjogc3RhdGUuY29udGV4dC5pbnZhbGlkLFxuICAgICAgbmFtZTogc3RhdGUuY29udGV4dC5uYW1lLFxuICAgICAgZm9ybTogc3RhdGUuY29udGV4dC5mb3JtLFxuICAgICAgdmFsdWU6IHN0YXRlLmNvbnRleHQudmFsdWUsXG4gICAgICBzdHlsZTogdmlzdWFsbHlIaWRkZW5TdHlsZSxcbiAgICAgIG9uQ2hhbmdlKGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IGNoZWNrZWQgPSBldmVudC5jdXJyZW50VGFyZ2V0LmNoZWNrZWQ7XG4gICAgICAgIHNlbmQoeyB0eXBlOiBcIkNIRUNLRUQuU0VUXCIsIGNoZWNrZWQsIGlzVHJ1c3RlZDogdHJ1ZSB9KTtcbiAgICAgIH0sXG4gICAgICBvbkJsdXIoKSB7XG4gICAgICAgIHNlbmQoeyB0eXBlOiBcIkNPTlRFWFQuU0VUXCIsIGNvbnRleHQ6IHsgZm9jdXNlZDogZmFsc2UgfSB9KTtcbiAgICAgIH0sXG4gICAgICBvbkZvY3VzKCkge1xuICAgICAgICBzZW5kKHsgdHlwZTogXCJDT05URVhULlNFVFwiLCBjb250ZXh0OiB7IGZvY3VzZWQ6IHRydWUgfSB9KTtcbiAgICAgIH0sXG4gICAgICBvbktleURvd24oZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gXCIgXCIpIHtcbiAgICAgICAgICBzZW5kKHsgdHlwZTogXCJDT05URVhULlNFVFwiLCBjb250ZXh0OiB7IGFjdGl2ZTogdHJ1ZSB9IH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgb25LZXlVcChldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQua2V5ID09PSBcIiBcIikge1xuICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIkNPTlRFWFQuU0VUXCIsIGNvbnRleHQ6IHsgYWN0aXZlOiBmYWxzZSB9IH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgfTtcbn1cblxuLy8gc3JjL3N3aXRjaC5tYWNoaW5lLnRzXG5pbXBvcnQgeyBjcmVhdGVNYWNoaW5lLCBndWFyZHMgfSBmcm9tIFwiQHphZy1qcy9jb3JlXCI7XG5pbXBvcnQgeyBkaXNwYXRjaElucHV0Q2hlY2tlZEV2ZW50LCB0cmFja0Zvcm1Db250cm9sIH0gZnJvbSBcIkB6YWctanMvZm9ybS11dGlsc1wiO1xuaW1wb3J0IHsgY29tcGFjdCwgaXNFcXVhbCB9IGZyb20gXCJAemFnLWpzL3V0aWxzXCI7XG52YXIgeyBub3QgfSA9IGd1YXJkcztcbmZ1bmN0aW9uIG1hY2hpbmUodXNlckNvbnRleHQpIHtcbiAgY29uc3QgY3R4ID0gY29tcGFjdCh1c2VyQ29udGV4dCk7XG4gIHJldHVybiBjcmVhdGVNYWNoaW5lKFxuICAgIHtcbiAgICAgIGlkOiBcInN3aXRjaFwiLFxuICAgICAgaW5pdGlhbDogXCJyZWFkeVwiLFxuICAgICAgY29udGV4dDoge1xuICAgICAgICBjaGVja2VkOiBmYWxzZSxcbiAgICAgICAgbGFiZWw6IFwic3dpdGNoXCIsXG4gICAgICAgIHZhbHVlOiBcIm9uXCIsXG4gICAgICAgIGRpc2FibGVkOiBmYWxzZSxcbiAgICAgICAgLi4uY3R4LFxuICAgICAgICBmaWVsZHNldERpc2FibGVkOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIGNvbXB1dGVkOiB7XG4gICAgICAgIGlzRGlzYWJsZWQ6IChjdHgyKSA9PiBjdHgyLmRpc2FibGVkIHx8IGN0eDIuZmllbGRzZXREaXNhYmxlZFxuICAgICAgfSxcbiAgICAgIHdhdGNoOiB7XG4gICAgICAgIGRpc2FibGVkOiBcInJlbW92ZUZvY3VzSWZOZWVkZWRcIixcbiAgICAgICAgY2hlY2tlZDogXCJzeW5jSW5wdXRFbGVtZW50XCJcbiAgICAgIH0sXG4gICAgICBhY3Rpdml0aWVzOiBbXCJ0cmFja0Zvcm1Db250cm9sU3RhdGVcIl0sXG4gICAgICBvbjoge1xuICAgICAgICBcIkNIRUNLRUQuVE9HR0xFXCI6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBndWFyZDogbm90KFwiaXNUcnVzdGVkXCIpLFxuICAgICAgICAgICAgYWN0aW9uczogW1widG9nZ2xlQ2hlY2tlZFwiLCBcImRpc3BhdGNoQ2hhbmdlRXZlbnRcIl1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGFjdGlvbnM6IFtcInRvZ2dsZUNoZWNrZWRcIl1cbiAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIFwiQ0hFQ0tFRC5TRVRcIjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGd1YXJkOiBub3QoXCJpc1RydXN0ZWRcIiksXG4gICAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRDaGVja2VkXCIsIFwiZGlzcGF0Y2hDaGFuZ2VFdmVudFwiXVxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgYWN0aW9uczogW1wic2V0Q2hlY2tlZFwiXVxuICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgXCJDT05URVhULlNFVFwiOiB7XG4gICAgICAgICAgYWN0aW9uczogW1wic2V0Q29udGV4dFwiXVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgc3RhdGVzOiB7XG4gICAgICAgIHJlYWR5OiB7fVxuICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgZ3VhcmRzOiB7XG4gICAgICAgIGlzVHJ1c3RlZDogKF9jdHgsIGV2dCkgPT4gISFldnQuaXNUcnVzdGVkXG4gICAgICB9LFxuICAgICAgYWN0aXZpdGllczoge1xuICAgICAgICB0cmFja0Zvcm1Db250cm9sU3RhdGUoY3R4MiwgX2V2dCwgeyBzZW5kLCBpbml0aWFsQ29udGV4dCB9KSB7XG4gICAgICAgICAgcmV0dXJuIHRyYWNrRm9ybUNvbnRyb2woZG9tLmdldEhpZGRlbklucHV0RWwoY3R4MiksIHtcbiAgICAgICAgICAgIG9uRmllbGRzZXREaXNhYmxlZENoYW5nZShkaXNhYmxlZCkge1xuICAgICAgICAgICAgICBjdHgyLmZpZWxkc2V0RGlzYWJsZWQgPSBkaXNhYmxlZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkZvcm1SZXNldCgpIHtcbiAgICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwiQ0hFQ0tFRC5TRVRcIiwgY2hlY2tlZDogISFpbml0aWFsQ29udGV4dC5jaGVja2VkLCBzcmM6IFwiZm9ybS1yZXNldFwiIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYWN0aW9uczoge1xuICAgICAgICBzZXRDb250ZXh0KGN0eDIsIGV2dCkge1xuICAgICAgICAgIE9iamVjdC5hc3NpZ24oY3R4MiwgZXZ0LmNvbnRleHQpO1xuICAgICAgICB9LFxuICAgICAgICBzeW5jSW5wdXRFbGVtZW50KGN0eDIpIHtcbiAgICAgICAgICBjb25zdCBpbnB1dEVsID0gZG9tLmdldEhpZGRlbklucHV0RWwoY3R4Mik7XG4gICAgICAgICAgaWYgKCFpbnB1dEVsKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGlucHV0RWwuY2hlY2tlZCA9ICEhY3R4Mi5jaGVja2VkO1xuICAgICAgICB9LFxuICAgICAgICByZW1vdmVGb2N1c0lmTmVlZGVkKGN0eDIpIHtcbiAgICAgICAgICBpZiAoY3R4Mi5kaXNhYmxlZCAmJiBjdHgyLmZvY3VzZWQpIHtcbiAgICAgICAgICAgIGN0eDIuZm9jdXNlZCA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgc2V0Q2hlY2tlZChjdHgyLCBldnQpIHtcbiAgICAgICAgICBzZXQuY2hlY2tlZChjdHgyLCBldnQuY2hlY2tlZCk7XG4gICAgICAgIH0sXG4gICAgICAgIHRvZ2dsZUNoZWNrZWQoY3R4MiwgX2V2dCkge1xuICAgICAgICAgIHNldC5jaGVja2VkKGN0eDIsICFjdHgyLmNoZWNrZWQpO1xuICAgICAgICB9LFxuICAgICAgICBkaXNwYXRjaENoYW5nZUV2ZW50KGN0eDIpIHtcbiAgICAgICAgICBjb25zdCBpbnB1dEVsID0gZG9tLmdldEhpZGRlbklucHV0RWwoY3R4Mik7XG4gICAgICAgICAgZGlzcGF0Y2hJbnB1dENoZWNrZWRFdmVudChpbnB1dEVsLCB7IGNoZWNrZWQ6IGN0eDIuY2hlY2tlZCB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgKTtcbn1cbnZhciBpbnZva2UgPSB7XG4gIGNoYW5nZTogKGN0eCkgPT4ge1xuICAgIGN0eC5vbkNoZWNrZWRDaGFuZ2U/Lih7IGNoZWNrZWQ6IGN0eC5jaGVja2VkIH0pO1xuICB9XG59O1xudmFyIHNldCA9IHtcbiAgY2hlY2tlZDogKGN0eCwgY2hlY2tlZCkgPT4ge1xuICAgIGlmIChpc0VxdWFsKGN0eC5jaGVja2VkLCBjaGVja2VkKSlcbiAgICAgIHJldHVybjtcbiAgICBjdHguY2hlY2tlZCA9IGNoZWNrZWQ7XG4gICAgaW52b2tlLmNoYW5nZShjdHgpO1xuICB9XG59O1xuZXhwb3J0IHtcbiAgYW5hdG9teSxcbiAgY29ubmVjdCxcbiAgbWFjaGluZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/switch/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/tabbable/dist/index.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@zag-js/tabbable/dist/index.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getFirstFocusable: () => (/* binding */ getFirstFocusable),\n/* harmony export */   getFirstTabbable: () => (/* binding */ getFirstTabbable),\n/* harmony export */   getFocusables: () => (/* binding */ getFocusables),\n/* harmony export */   getLastTabbable: () => (/* binding */ getLastTabbable),\n/* harmony export */   getNextTabbable: () => (/* binding */ getNextTabbable),\n/* harmony export */   getTabbableEdges: () => (/* binding */ getTabbableEdges),\n/* harmony export */   getTabbables: () => (/* binding */ getTabbables),\n/* harmony export */   isFocusable: () => (/* binding */ isFocusable),\n/* harmony export */   isTabbable: () => (/* binding */ isTabbable),\n/* harmony export */   proxyTabFocus: () => (/* binding */ proxyTabFocus)\n/* harmony export */ });\n/* harmony import */ var _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/dom-query */ \"(ssr)/./node_modules/@zag-js/dom-query/dist/index.mjs\");\n// src/proxy-tab-focus.ts\n\n\n// src/shared.ts\nvar isHTMLElement = (element) => typeof element === \"object\" && element !== null && element.nodeType === 1;\nvar isFrame = (element) => isHTMLElement(element) && element.tagName === \"IFRAME\";\nfunction isVisible(el) {\n  if (!isHTMLElement(el))\n    return false;\n  return el.offsetWidth > 0 || el.offsetHeight > 0 || el.getClientRects().length > 0;\n}\nfunction hasNegativeTabIndex(element) {\n  const tabIndex = parseInt(element.getAttribute(\"tabindex\") || \"0\", 10);\n  return tabIndex < 0;\n}\nvar focusableSelector = \"input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false']), details > summary:first-of-type\";\n\n// src/focusable.ts\nvar getFocusables = (container, includeContainer = false) => {\n  if (!container)\n    return [];\n  const elements = Array.from(container.querySelectorAll(focusableSelector));\n  const include = includeContainer == true || includeContainer == \"if-empty\" && elements.length === 0;\n  if (include && isHTMLElement(container) && isFocusable(container)) {\n    elements.unshift(container);\n  }\n  const focusableElements = elements.filter(isFocusable);\n  focusableElements.forEach((element, i) => {\n    if (isFrame(element) && element.contentDocument) {\n      const frameBody = element.contentDocument.body;\n      focusableElements.splice(i, 1, ...getFocusables(frameBody));\n    }\n  });\n  return focusableElements;\n};\nfunction isFocusable(element) {\n  if (!element || element.closest(\"[inert]\"))\n    return false;\n  return element.matches(focusableSelector) && isVisible(element);\n}\nfunction getFirstFocusable(container, includeContainer) {\n  const [first] = getFocusables(container, includeContainer);\n  return first || null;\n}\n\n// src/tabbable.ts\nfunction getTabbables(container, includeContainer) {\n  if (!container)\n    return [];\n  const elements = Array.from(container.querySelectorAll(focusableSelector));\n  const tabbableElements = elements.filter(isTabbable);\n  if (includeContainer && isTabbable(container)) {\n    tabbableElements.unshift(container);\n  }\n  tabbableElements.forEach((element, i) => {\n    if (isFrame(element) && element.contentDocument) {\n      const frameBody = element.contentDocument.body;\n      const allFrameTabbable = getTabbables(frameBody);\n      tabbableElements.splice(i, 1, ...allFrameTabbable);\n    }\n  });\n  if (!tabbableElements.length && includeContainer) {\n    return elements;\n  }\n  return tabbableElements;\n}\nfunction isTabbable(el) {\n  if (el != null && el.tabIndex > 0)\n    return true;\n  return isFocusable(el) && !hasNegativeTabIndex(el);\n}\nfunction getFirstTabbable(container, includeContainer) {\n  const [first] = getTabbables(container, includeContainer);\n  return first || null;\n}\nfunction getLastTabbable(container, includeContainer) {\n  const elements = getTabbables(container, includeContainer);\n  return elements[elements.length - 1] || null;\n}\nfunction getTabbableEdges(container, includeContainer) {\n  const elements = getTabbables(container, includeContainer);\n  const first = elements[0] || null;\n  const last = elements[elements.length - 1] || null;\n  return [first, last];\n}\nfunction getNextTabbable(container, current) {\n  const tabbables = getTabbables(container);\n  const doc = container?.ownerDocument || document;\n  const currentElement = current ?? doc.activeElement;\n  if (!currentElement)\n    return null;\n  const index = tabbables.indexOf(currentElement);\n  return tabbables[index + 1] || null;\n}\n\n// src/proxy-tab-focus.ts\nfunction proxyTabFocusImpl(container, options = {}) {\n  const { triggerElement, onFocus } = options;\n  const doc = container?.ownerDocument || document;\n  const body = doc.body;\n  function onKeyDown(event) {\n    if (event.key !== \"Tab\")\n      return;\n    let elementToFocus = null;\n    const [firstTabbable, lastTabbable] = getTabbableEdges(container, true);\n    const noTabbableElements = !firstTabbable && !lastTabbable;\n    if (event.shiftKey && (doc.activeElement === firstTabbable || noTabbableElements)) {\n      elementToFocus = triggerElement;\n    } else if (!event.shiftKey && doc.activeElement === triggerElement) {\n      elementToFocus = firstTabbable;\n    } else if (!event.shiftKey && (doc.activeElement === lastTabbable || noTabbableElements)) {\n      elementToFocus = getNextTabbable(body, triggerElement);\n    }\n    if (!elementToFocus)\n      return;\n    event.preventDefault();\n    onFocus?.(elementToFocus) ?? elementToFocus.focus();\n  }\n  doc?.addEventListener(\"keydown\", onKeyDown, true);\n  return () => {\n    doc?.removeEventListener(\"keydown\", onKeyDown, true);\n  };\n}\nfunction proxyTabFocus(container, options) {\n  const { defer, triggerElement, ...restOptions } = options;\n  const func = defer ? _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_0__.raf : (v) => v();\n  const cleanups = [];\n  cleanups.push(\n    func(() => {\n      const node = typeof container === \"function\" ? container() : container;\n      const trigger = typeof triggerElement === \"function\" ? triggerElement() : triggerElement;\n      cleanups.push(proxyTabFocusImpl(node, { triggerElement: trigger, ...restOptions }));\n    })\n  );\n  return () => {\n    cleanups.forEach((fn) => fn?.());\n  };\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy90YWJiYWJsZS9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ3dDOztBQUV4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0RBQWtEO0FBQ2xELFVBQVUsMEJBQTBCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSx3Q0FBd0M7QUFDbEQsdUJBQXVCLGtEQUFHO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMseUNBQXlDO0FBQ3ZGLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWUU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL0BwYXJrLXVpL2V4YW1wbGVzLXJlYWN0LW5leHQtanMvLi9ub2RlX21vZHVsZXMvQHphZy1qcy90YWJiYWJsZS9kaXN0L2luZGV4Lm1qcz82YmFlIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9wcm94eS10YWItZm9jdXMudHNcbmltcG9ydCB7IHJhZiB9IGZyb20gXCJAemFnLWpzL2RvbS1xdWVyeVwiO1xuXG4vLyBzcmMvc2hhcmVkLnRzXG52YXIgaXNIVE1MRWxlbWVudCA9IChlbGVtZW50KSA9PiB0eXBlb2YgZWxlbWVudCA9PT0gXCJvYmplY3RcIiAmJiBlbGVtZW50ICE9PSBudWxsICYmIGVsZW1lbnQubm9kZVR5cGUgPT09IDE7XG52YXIgaXNGcmFtZSA9IChlbGVtZW50KSA9PiBpc0hUTUxFbGVtZW50KGVsZW1lbnQpICYmIGVsZW1lbnQudGFnTmFtZSA9PT0gXCJJRlJBTUVcIjtcbmZ1bmN0aW9uIGlzVmlzaWJsZShlbCkge1xuICBpZiAoIWlzSFRNTEVsZW1lbnQoZWwpKVxuICAgIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIGVsLm9mZnNldFdpZHRoID4gMCB8fCBlbC5vZmZzZXRIZWlnaHQgPiAwIHx8IGVsLmdldENsaWVudFJlY3RzKCkubGVuZ3RoID4gMDtcbn1cbmZ1bmN0aW9uIGhhc05lZ2F0aXZlVGFiSW5kZXgoZWxlbWVudCkge1xuICBjb25zdCB0YWJJbmRleCA9IHBhcnNlSW50KGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIikgfHwgXCIwXCIsIDEwKTtcbiAgcmV0dXJuIHRhYkluZGV4IDwgMDtcbn1cbnZhciBmb2N1c2FibGVTZWxlY3RvciA9IFwiaW5wdXQ6bm90KFt0eXBlPSdoaWRkZW4nXSk6bm90KFtkaXNhYmxlZF0pLCBzZWxlY3Q6bm90KFtkaXNhYmxlZF0pLCB0ZXh0YXJlYTpub3QoW2Rpc2FibGVkXSksIGFbaHJlZl0sIGJ1dHRvbjpub3QoW2Rpc2FibGVkXSksIFt0YWJpbmRleF0sIGlmcmFtZSwgb2JqZWN0LCBlbWJlZCwgYXJlYVtocmVmXSwgYXVkaW9bY29udHJvbHNdLCB2aWRlb1tjb250cm9sc10sIFtjb250ZW50ZWRpdGFibGVdOm5vdChbY29udGVudGVkaXRhYmxlPSdmYWxzZSddKSwgZGV0YWlscyA+IHN1bW1hcnk6Zmlyc3Qtb2YtdHlwZVwiO1xuXG4vLyBzcmMvZm9jdXNhYmxlLnRzXG52YXIgZ2V0Rm9jdXNhYmxlcyA9IChjb250YWluZXIsIGluY2x1ZGVDb250YWluZXIgPSBmYWxzZSkgPT4ge1xuICBpZiAoIWNvbnRhaW5lcilcbiAgICByZXR1cm4gW107XG4gIGNvbnN0IGVsZW1lbnRzID0gQXJyYXkuZnJvbShjb250YWluZXIucXVlcnlTZWxlY3RvckFsbChmb2N1c2FibGVTZWxlY3RvcikpO1xuICBjb25zdCBpbmNsdWRlID0gaW5jbHVkZUNvbnRhaW5lciA9PSB0cnVlIHx8IGluY2x1ZGVDb250YWluZXIgPT0gXCJpZi1lbXB0eVwiICYmIGVsZW1lbnRzLmxlbmd0aCA9PT0gMDtcbiAgaWYgKGluY2x1ZGUgJiYgaXNIVE1MRWxlbWVudChjb250YWluZXIpICYmIGlzRm9jdXNhYmxlKGNvbnRhaW5lcikpIHtcbiAgICBlbGVtZW50cy51bnNoaWZ0KGNvbnRhaW5lcik7XG4gIH1cbiAgY29uc3QgZm9jdXNhYmxlRWxlbWVudHMgPSBlbGVtZW50cy5maWx0ZXIoaXNGb2N1c2FibGUpO1xuICBmb2N1c2FibGVFbGVtZW50cy5mb3JFYWNoKChlbGVtZW50LCBpKSA9PiB7XG4gICAgaWYgKGlzRnJhbWUoZWxlbWVudCkgJiYgZWxlbWVudC5jb250ZW50RG9jdW1lbnQpIHtcbiAgICAgIGNvbnN0IGZyYW1lQm9keSA9IGVsZW1lbnQuY29udGVudERvY3VtZW50LmJvZHk7XG4gICAgICBmb2N1c2FibGVFbGVtZW50cy5zcGxpY2UoaSwgMSwgLi4uZ2V0Rm9jdXNhYmxlcyhmcmFtZUJvZHkpKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gZm9jdXNhYmxlRWxlbWVudHM7XG59O1xuZnVuY3Rpb24gaXNGb2N1c2FibGUoZWxlbWVudCkge1xuICBpZiAoIWVsZW1lbnQgfHwgZWxlbWVudC5jbG9zZXN0KFwiW2luZXJ0XVwiKSlcbiAgICByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBlbGVtZW50Lm1hdGNoZXMoZm9jdXNhYmxlU2VsZWN0b3IpICYmIGlzVmlzaWJsZShlbGVtZW50KTtcbn1cbmZ1bmN0aW9uIGdldEZpcnN0Rm9jdXNhYmxlKGNvbnRhaW5lciwgaW5jbHVkZUNvbnRhaW5lcikge1xuICBjb25zdCBbZmlyc3RdID0gZ2V0Rm9jdXNhYmxlcyhjb250YWluZXIsIGluY2x1ZGVDb250YWluZXIpO1xuICByZXR1cm4gZmlyc3QgfHwgbnVsbDtcbn1cblxuLy8gc3JjL3RhYmJhYmxlLnRzXG5mdW5jdGlvbiBnZXRUYWJiYWJsZXMoY29udGFpbmVyLCBpbmNsdWRlQ29udGFpbmVyKSB7XG4gIGlmICghY29udGFpbmVyKVxuICAgIHJldHVybiBbXTtcbiAgY29uc3QgZWxlbWVudHMgPSBBcnJheS5mcm9tKGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKGZvY3VzYWJsZVNlbGVjdG9yKSk7XG4gIGNvbnN0IHRhYmJhYmxlRWxlbWVudHMgPSBlbGVtZW50cy5maWx0ZXIoaXNUYWJiYWJsZSk7XG4gIGlmIChpbmNsdWRlQ29udGFpbmVyICYmIGlzVGFiYmFibGUoY29udGFpbmVyKSkge1xuICAgIHRhYmJhYmxlRWxlbWVudHMudW5zaGlmdChjb250YWluZXIpO1xuICB9XG4gIHRhYmJhYmxlRWxlbWVudHMuZm9yRWFjaCgoZWxlbWVudCwgaSkgPT4ge1xuICAgIGlmIChpc0ZyYW1lKGVsZW1lbnQpICYmIGVsZW1lbnQuY29udGVudERvY3VtZW50KSB7XG4gICAgICBjb25zdCBmcmFtZUJvZHkgPSBlbGVtZW50LmNvbnRlbnREb2N1bWVudC5ib2R5O1xuICAgICAgY29uc3QgYWxsRnJhbWVUYWJiYWJsZSA9IGdldFRhYmJhYmxlcyhmcmFtZUJvZHkpO1xuICAgICAgdGFiYmFibGVFbGVtZW50cy5zcGxpY2UoaSwgMSwgLi4uYWxsRnJhbWVUYWJiYWJsZSk7XG4gICAgfVxuICB9KTtcbiAgaWYgKCF0YWJiYWJsZUVsZW1lbnRzLmxlbmd0aCAmJiBpbmNsdWRlQ29udGFpbmVyKSB7XG4gICAgcmV0dXJuIGVsZW1lbnRzO1xuICB9XG4gIHJldHVybiB0YWJiYWJsZUVsZW1lbnRzO1xufVxuZnVuY3Rpb24gaXNUYWJiYWJsZShlbCkge1xuICBpZiAoZWwgIT0gbnVsbCAmJiBlbC50YWJJbmRleCA+IDApXG4gICAgcmV0dXJuIHRydWU7XG4gIHJldHVybiBpc0ZvY3VzYWJsZShlbCkgJiYgIWhhc05lZ2F0aXZlVGFiSW5kZXgoZWwpO1xufVxuZnVuY3Rpb24gZ2V0Rmlyc3RUYWJiYWJsZShjb250YWluZXIsIGluY2x1ZGVDb250YWluZXIpIHtcbiAgY29uc3QgW2ZpcnN0XSA9IGdldFRhYmJhYmxlcyhjb250YWluZXIsIGluY2x1ZGVDb250YWluZXIpO1xuICByZXR1cm4gZmlyc3QgfHwgbnVsbDtcbn1cbmZ1bmN0aW9uIGdldExhc3RUYWJiYWJsZShjb250YWluZXIsIGluY2x1ZGVDb250YWluZXIpIHtcbiAgY29uc3QgZWxlbWVudHMgPSBnZXRUYWJiYWJsZXMoY29udGFpbmVyLCBpbmNsdWRlQ29udGFpbmVyKTtcbiAgcmV0dXJuIGVsZW1lbnRzW2VsZW1lbnRzLmxlbmd0aCAtIDFdIHx8IG51bGw7XG59XG5mdW5jdGlvbiBnZXRUYWJiYWJsZUVkZ2VzKGNvbnRhaW5lciwgaW5jbHVkZUNvbnRhaW5lcikge1xuICBjb25zdCBlbGVtZW50cyA9IGdldFRhYmJhYmxlcyhjb250YWluZXIsIGluY2x1ZGVDb250YWluZXIpO1xuICBjb25zdCBmaXJzdCA9IGVsZW1lbnRzWzBdIHx8IG51bGw7XG4gIGNvbnN0IGxhc3QgPSBlbGVtZW50c1tlbGVtZW50cy5sZW5ndGggLSAxXSB8fCBudWxsO1xuICByZXR1cm4gW2ZpcnN0LCBsYXN0XTtcbn1cbmZ1bmN0aW9uIGdldE5leHRUYWJiYWJsZShjb250YWluZXIsIGN1cnJlbnQpIHtcbiAgY29uc3QgdGFiYmFibGVzID0gZ2V0VGFiYmFibGVzKGNvbnRhaW5lcik7XG4gIGNvbnN0IGRvYyA9IGNvbnRhaW5lcj8ub3duZXJEb2N1bWVudCB8fCBkb2N1bWVudDtcbiAgY29uc3QgY3VycmVudEVsZW1lbnQgPSBjdXJyZW50ID8/IGRvYy5hY3RpdmVFbGVtZW50O1xuICBpZiAoIWN1cnJlbnRFbGVtZW50KVxuICAgIHJldHVybiBudWxsO1xuICBjb25zdCBpbmRleCA9IHRhYmJhYmxlcy5pbmRleE9mKGN1cnJlbnRFbGVtZW50KTtcbiAgcmV0dXJuIHRhYmJhYmxlc1tpbmRleCArIDFdIHx8IG51bGw7XG59XG5cbi8vIHNyYy9wcm94eS10YWItZm9jdXMudHNcbmZ1bmN0aW9uIHByb3h5VGFiRm9jdXNJbXBsKGNvbnRhaW5lciwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHsgdHJpZ2dlckVsZW1lbnQsIG9uRm9jdXMgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGRvYyA9IGNvbnRhaW5lcj8ub3duZXJEb2N1bWVudCB8fCBkb2N1bWVudDtcbiAgY29uc3QgYm9keSA9IGRvYy5ib2R5O1xuICBmdW5jdGlvbiBvbktleURvd24oZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQua2V5ICE9PSBcIlRhYlwiKVxuICAgICAgcmV0dXJuO1xuICAgIGxldCBlbGVtZW50VG9Gb2N1cyA9IG51bGw7XG4gICAgY29uc3QgW2ZpcnN0VGFiYmFibGUsIGxhc3RUYWJiYWJsZV0gPSBnZXRUYWJiYWJsZUVkZ2VzKGNvbnRhaW5lciwgdHJ1ZSk7XG4gICAgY29uc3Qgbm9UYWJiYWJsZUVsZW1lbnRzID0gIWZpcnN0VGFiYmFibGUgJiYgIWxhc3RUYWJiYWJsZTtcbiAgICBpZiAoZXZlbnQuc2hpZnRLZXkgJiYgKGRvYy5hY3RpdmVFbGVtZW50ID09PSBmaXJzdFRhYmJhYmxlIHx8IG5vVGFiYmFibGVFbGVtZW50cykpIHtcbiAgICAgIGVsZW1lbnRUb0ZvY3VzID0gdHJpZ2dlckVsZW1lbnQ7XG4gICAgfSBlbHNlIGlmICghZXZlbnQuc2hpZnRLZXkgJiYgZG9jLmFjdGl2ZUVsZW1lbnQgPT09IHRyaWdnZXJFbGVtZW50KSB7XG4gICAgICBlbGVtZW50VG9Gb2N1cyA9IGZpcnN0VGFiYmFibGU7XG4gICAgfSBlbHNlIGlmICghZXZlbnQuc2hpZnRLZXkgJiYgKGRvYy5hY3RpdmVFbGVtZW50ID09PSBsYXN0VGFiYmFibGUgfHwgbm9UYWJiYWJsZUVsZW1lbnRzKSkge1xuICAgICAgZWxlbWVudFRvRm9jdXMgPSBnZXROZXh0VGFiYmFibGUoYm9keSwgdHJpZ2dlckVsZW1lbnQpO1xuICAgIH1cbiAgICBpZiAoIWVsZW1lbnRUb0ZvY3VzKVxuICAgICAgcmV0dXJuO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgb25Gb2N1cz8uKGVsZW1lbnRUb0ZvY3VzKSA/PyBlbGVtZW50VG9Gb2N1cy5mb2N1cygpO1xuICB9XG4gIGRvYz8uYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgb25LZXlEb3duLCB0cnVlKTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBkb2M/LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIG9uS2V5RG93biwgdHJ1ZSk7XG4gIH07XG59XG5mdW5jdGlvbiBwcm94eVRhYkZvY3VzKGNvbnRhaW5lciwgb3B0aW9ucykge1xuICBjb25zdCB7IGRlZmVyLCB0cmlnZ2VyRWxlbWVudCwgLi4ucmVzdE9wdGlvbnMgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGZ1bmMgPSBkZWZlciA/IHJhZiA6ICh2KSA9PiB2KCk7XG4gIGNvbnN0IGNsZWFudXBzID0gW107XG4gIGNsZWFudXBzLnB1c2goXG4gICAgZnVuYygoKSA9PiB7XG4gICAgICBjb25zdCBub2RlID0gdHlwZW9mIGNvbnRhaW5lciA9PT0gXCJmdW5jdGlvblwiID8gY29udGFpbmVyKCkgOiBjb250YWluZXI7XG4gICAgICBjb25zdCB0cmlnZ2VyID0gdHlwZW9mIHRyaWdnZXJFbGVtZW50ID09PSBcImZ1bmN0aW9uXCIgPyB0cmlnZ2VyRWxlbWVudCgpIDogdHJpZ2dlckVsZW1lbnQ7XG4gICAgICBjbGVhbnVwcy5wdXNoKHByb3h5VGFiRm9jdXNJbXBsKG5vZGUsIHsgdHJpZ2dlckVsZW1lbnQ6IHRyaWdnZXIsIC4uLnJlc3RPcHRpb25zIH0pKTtcbiAgICB9KVxuICApO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGNsZWFudXBzLmZvckVhY2goKGZuKSA9PiBmbj8uKCkpO1xuICB9O1xufVxuZXhwb3J0IHtcbiAgZ2V0Rmlyc3RGb2N1c2FibGUsXG4gIGdldEZpcnN0VGFiYmFibGUsXG4gIGdldEZvY3VzYWJsZXMsXG4gIGdldExhc3RUYWJiYWJsZSxcbiAgZ2V0TmV4dFRhYmJhYmxlLFxuICBnZXRUYWJiYWJsZUVkZ2VzLFxuICBnZXRUYWJiYWJsZXMsXG4gIGlzRm9jdXNhYmxlLFxuICBpc1RhYmJhYmxlLFxuICBwcm94eVRhYkZvY3VzXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/tabbable/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/tabs/dist/index.mjs":
/*!**************************************************!*\
  !*** ./node_modules/@zag-js/tabs/dist/index.mjs ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   anatomy: () => (/* binding */ anatomy),\n/* harmony export */   connect: () => (/* binding */ connect),\n/* harmony export */   machine: () => (/* binding */ machine)\n/* harmony export */ });\n/* harmony import */ var _zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/anatomy */ \"(ssr)/./node_modules/@zag-js/anatomy/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_event__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @zag-js/dom-event */ \"(ssr)/./node_modules/@zag-js/dom-event/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @zag-js/dom-query */ \"(ssr)/./node_modules/@zag-js/dom-query/dist/index.mjs\");\n/* harmony import */ var _zag_js_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @zag-js/utils */ \"(ssr)/./node_modules/@zag-js/utils/dist/index.mjs\");\n/* harmony import */ var _zag_js_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @zag-js/core */ \"(ssr)/./node_modules/@zag-js/core/dist/index.mjs\");\n/* harmony import */ var _zag_js_element_rect__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @zag-js/element-rect */ \"(ssr)/./node_modules/@zag-js/element-rect/dist/index.mjs\");\n/* harmony import */ var _zag_js_tabbable__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @zag-js/tabbable */ \"(ssr)/./node_modules/@zag-js/tabbable/dist/index.mjs\");\n// src/tabs.anatomy.ts\n\nvar anatomy = (0,_zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__.createAnatomy)(\"tabs\").parts(\"root\", \"list\", \"trigger\", \"content\", \"indicator\");\nvar parts = anatomy.build();\n\n// src/tabs.connect.ts\n\n\n\n// src/tabs.dom.ts\n\n\nvar dom = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.createScope)({\n  getRootId: (ctx) => ctx.ids?.root ?? `tabs:${ctx.id}`,\n  getTablistId: (ctx) => ctx.ids?.tablist ?? `tabs:${ctx.id}:list`,\n  getContentId: (ctx, id) => ctx.ids?.content ?? `tabs:${ctx.id}:content-${id}`,\n  getTriggerId: (ctx, id) => ctx.ids?.trigger ?? `tabs:${ctx.id}:trigger-${id}`,\n  getIndicatorId: (ctx) => ctx.ids?.indicator ?? `tabs:${ctx.id}:indicator`,\n  getTablistEl: (ctx) => dom.getById(ctx, dom.getTablistId(ctx)),\n  getContentEl: (ctx, id) => dom.getById(ctx, dom.getContentId(ctx, id)),\n  getTriggerEl: (ctx, id) => dom.getById(ctx, dom.getTriggerId(ctx, id)),\n  getIndicatorEl: (ctx) => dom.getById(ctx, dom.getIndicatorId(ctx)),\n  getElements: (ctx) => {\n    const ownerId = CSS.escape(dom.getTablistId(ctx));\n    const selector = `[role=tab][data-ownedby='${ownerId}']:not([disabled])`;\n    return (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.queryAll)(dom.getTablistEl(ctx), selector);\n  },\n  getFirstEl: (ctx) => (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.first)(dom.getElements(ctx)),\n  getLastEl: (ctx) => (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.last)(dom.getElements(ctx)),\n  getNextEl: (ctx, id) => (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.nextById)(dom.getElements(ctx), dom.getTriggerId(ctx, id), ctx.loop),\n  getPrevEl: (ctx, id) => (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.prevById)(dom.getElements(ctx), dom.getTriggerId(ctx, id), ctx.loop),\n  getActiveContentEl: (ctx) => {\n    if (!ctx.value)\n      return;\n    return dom.getContentEl(ctx, ctx.value);\n  },\n  getActiveTabEl: (ctx) => {\n    if (!ctx.value)\n      return;\n    return dom.getTriggerEl(ctx, ctx.value);\n  },\n  getOffsetRect: (el) => {\n    return {\n      left: el?.offsetLeft ?? 0,\n      top: el?.offsetTop ?? 0,\n      width: el?.offsetWidth ?? 0,\n      height: el?.offsetHeight ?? 0\n    };\n  },\n  getRectById: (ctx, id) => {\n    const tab = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.itemById)(dom.getElements(ctx), dom.getTriggerId(ctx, id));\n    return dom.resolveRect(dom.getOffsetRect(tab), ctx.orientation);\n  },\n  resolveRect(rect, orientation) {\n    const sizeProp = orientation === \"vertical\" ? \"height\" : \"width\";\n    const placementProp = orientation === \"vertical\" ? \"top\" : \"left\";\n    return {\n      [placementProp]: `${rect[placementProp]}px`,\n      [sizeProp]: `${rect[sizeProp]}px`\n    };\n  }\n});\n\n// src/tabs.connect.ts\nfunction connect(state, send, normalize) {\n  const translations = state.context.translations;\n  const isFocused = state.matches(\"focused\");\n  function getTriggerState(props) {\n    return {\n      isSelected: state.context.value === props.value,\n      isFocused: state.context.focusedValue === props.value,\n      isDisabled: !!props.disabled\n    };\n  }\n  return {\n    value: state.context.value,\n    focusedValue: state.context.focusedValue,\n    previousValues: Array.from(state.context.previousValues),\n    setValue(value) {\n      send({ type: \"SET_VALUE\", value });\n    },\n    clearValue() {\n      send({ type: \"CLEAR_VALUE\" });\n    },\n    setIndicatorRect(value) {\n      const id = dom.getTriggerId(state.context, value);\n      send({ type: \"SET_INDICATOR_RECT\", id });\n    },\n    getTriggerState,\n    rootProps: normalize.element({\n      ...parts.root.attrs,\n      id: dom.getRootId(state.context),\n      \"data-orientation\": state.context.orientation,\n      \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isFocused),\n      dir: state.context.dir\n    }),\n    tablistProps: normalize.element({\n      ...parts.list.attrs,\n      id: dom.getTablistId(state.context),\n      role: \"tablist\",\n      dir: state.context.dir,\n      \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isFocused),\n      \"aria-orientation\": state.context.orientation,\n      \"data-orientation\": state.context.orientation,\n      \"aria-label\": translations.tablistLabel,\n      onKeyDown(event) {\n        if (!(0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.isSelfEvent)(event))\n          return;\n        const keyMap = {\n          ArrowDown() {\n            send(\"ARROW_DOWN\");\n          },\n          ArrowUp() {\n            send(\"ARROW_UP\");\n          },\n          ArrowLeft() {\n            send(\"ARROW_LEFT\");\n          },\n          ArrowRight() {\n            send(\"ARROW_RIGHT\");\n          },\n          Home() {\n            send(\"HOME\");\n          },\n          End() {\n            send(\"END\");\n          },\n          Enter() {\n            send({ type: \"ENTER\", value: state.context.focusedValue });\n          }\n        };\n        let key = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_3__.getEventKey)(event, state.context);\n        const exec = keyMap[key];\n        if (exec) {\n          event.preventDefault();\n          exec(event);\n        }\n      }\n    }),\n    getTriggerProps(props) {\n      const { value, disabled } = props;\n      const triggerState = getTriggerState(props);\n      return normalize.button({\n        ...parts.trigger.attrs,\n        role: \"tab\",\n        type: \"button\",\n        disabled,\n        dir: state.context.dir,\n        \"data-orientation\": state.context.orientation,\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(disabled),\n        \"aria-disabled\": disabled,\n        \"data-value\": value,\n        \"aria-selected\": triggerState.isSelected,\n        \"data-selected\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(triggerState.isSelected),\n        \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(triggerState.isFocused),\n        \"aria-controls\": dom.getContentId(state.context, value),\n        \"data-ownedby\": dom.getTablistId(state.context),\n        id: dom.getTriggerId(state.context, value),\n        tabIndex: triggerState.isSelected ? 0 : -1,\n        onFocus() {\n          send({ type: \"TAB_FOCUS\", value });\n        },\n        onBlur(event) {\n          const target = event.relatedTarget;\n          if (target?.getAttribute(\"role\") !== \"tab\") {\n            send({ type: \"TAB_BLUR\" });\n          }\n        },\n        onClick(event) {\n          if (disabled)\n            return;\n          if ((0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.isSafari)()) {\n            event.currentTarget.focus();\n          }\n          send({ type: \"TAB_CLICK\", value });\n        }\n      });\n    },\n    getContentProps(props) {\n      const { value } = props;\n      const selected = state.context.value === value;\n      return normalize.element({\n        ...parts.content.attrs,\n        dir: state.context.dir,\n        id: dom.getContentId(state.context, value),\n        tabIndex: 0,\n        \"aria-labelledby\": dom.getTriggerId(state.context, value),\n        role: \"tabpanel\",\n        \"data-ownedby\": dom.getTablistId(state.context),\n        \"data-selected\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(selected),\n        \"data-orientation\": state.context.orientation,\n        hidden: !selected\n      });\n    },\n    indicatorProps: normalize.element({\n      id: dom.getIndicatorId(state.context),\n      ...parts.indicator.attrs,\n      dir: state.context.dir,\n      \"data-orientation\": state.context.orientation,\n      style: {\n        \"--transition-duration\": \"150ms\",\n        \"--transition-property\": \"left, right, top, bottom, width, height\",\n        position: \"absolute\",\n        willChange: \"var(--transition-property)\",\n        transitionProperty: \"var(--transition-property)\",\n        transitionDuration: state.context.canIndicatorTransition ? \"var(--transition-duration)\" : \"0ms\",\n        transitionTimingFunction: \"var(--transition-timing-function)\",\n        ...state.context.indicatorRect\n      }\n    })\n  };\n}\n\n// src/tabs.machine.ts\n\n\n\n\n\nvar { not } = _zag_js_core__WEBPACK_IMPORTED_MODULE_4__.guards;\nfunction machine(userContext) {\n  const ctx = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.compact)(userContext);\n  return (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_4__.createMachine)(\n    {\n      initial: \"idle\",\n      context: {\n        dir: \"ltr\",\n        orientation: \"horizontal\",\n        activationMode: \"automatic\",\n        value: null,\n        focusedValue: null,\n        previousValues: [],\n        indicatorRect: {\n          left: \"0px\",\n          top: \"0px\",\n          width: \"0px\",\n          height: \"0px\"\n        },\n        canIndicatorTransition: false,\n        isIndicatorRendered: false,\n        loop: true,\n        translations: {},\n        ...ctx\n      },\n      computed: {\n        isHorizontal: (ctx2) => ctx2.orientation === \"horizontal\",\n        isVertical: (ctx2) => ctx2.orientation === \"vertical\"\n      },\n      created: [\"setPrevSelectedTabs\"],\n      entry: [\"checkRenderedElements\", \"syncIndicatorRect\", \"setContentTabIndex\"],\n      exit: [\"cleanupObserver\"],\n      watch: {\n        value: [\"enableIndicatorTransition\", \"setPrevSelectedTabs\", \"syncIndicatorRect\", \"setContentTabIndex\"],\n        dir: [\"syncIndicatorRect\"],\n        orientation: [\"syncIndicatorRect\"]\n      },\n      on: {\n        SET_VALUE: {\n          actions: \"setValue\"\n        },\n        CLEAR_VALUE: {\n          actions: \"clearValue\"\n        },\n        SET_INDICATOR_RECT: {\n          actions: \"setIndicatorRect\"\n        }\n      },\n      states: {\n        idle: {\n          on: {\n            TAB_FOCUS: [\n              {\n                guard: \"selectOnFocus\",\n                target: \"focused\",\n                actions: [\"setFocusedValue\", \"setValue\"]\n              },\n              {\n                target: \"focused\",\n                actions: \"setFocusedValue\"\n              }\n            ],\n            TAB_CLICK: {\n              target: \"focused\",\n              actions: [\"setFocusedValue\", \"setValue\"]\n            }\n          }\n        },\n        focused: {\n          on: {\n            TAB_CLICK: {\n              target: \"focused\",\n              actions: [\"setFocusedValue\", \"setValue\"]\n            },\n            ARROW_LEFT: {\n              guard: \"isHorizontal\",\n              actions: \"focusPrevTab\"\n            },\n            ARROW_RIGHT: {\n              guard: \"isHorizontal\",\n              actions: \"focusNextTab\"\n            },\n            ARROW_UP: {\n              guard: \"isVertical\",\n              actions: \"focusPrevTab\"\n            },\n            ARROW_DOWN: {\n              guard: \"isVertical\",\n              actions: \"focusNextTab\"\n            },\n            HOME: {\n              actions: \"focusFirstTab\"\n            },\n            END: {\n              actions: \"focusLastTab\"\n            },\n            ENTER: {\n              guard: not(\"selectOnFocus\"),\n              actions: \"setValue\"\n            },\n            TAB_FOCUS: [\n              {\n                guard: \"selectOnFocus\",\n                actions: [\"setFocusedValue\", \"setValue\"]\n              },\n              { actions: \"setFocusedValue\" }\n            ],\n            TAB_BLUR: {\n              target: \"idle\",\n              actions: \"clearFocusedValue\"\n            }\n          }\n        }\n      }\n    },\n    {\n      guards: {\n        isVertical: (ctx2) => ctx2.isVertical,\n        isHorizontal: (ctx2) => ctx2.isHorizontal,\n        selectOnFocus: (ctx2) => ctx2.activationMode === \"automatic\"\n      },\n      actions: {\n        setFocusedValue(ctx2, evt) {\n          set.focusedValue(ctx2, evt.value);\n        },\n        clearFocusedValue(ctx2) {\n          set.focusedValue(ctx2, null);\n        },\n        setValue(ctx2, evt) {\n          set.value(ctx2, evt.value);\n        },\n        clearValue(ctx2) {\n          set.value(ctx2, null);\n        },\n        focusFirstTab(ctx2) {\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => dom.getFirstEl(ctx2)?.focus());\n        },\n        focusLastTab(ctx2) {\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => dom.getLastEl(ctx2)?.focus());\n        },\n        focusNextTab(ctx2) {\n          if (!ctx2.focusedValue)\n            return;\n          const next = dom.getNextEl(ctx2, ctx2.focusedValue);\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => next?.focus());\n        },\n        focusPrevTab(ctx2) {\n          if (!ctx2.focusedValue)\n            return;\n          const prev = dom.getPrevEl(ctx2, ctx2.focusedValue);\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => prev?.focus());\n        },\n        checkRenderedElements(ctx2) {\n          ctx2.isIndicatorRendered = !!dom.getIndicatorEl(ctx2);\n        },\n        setPrevSelectedTabs(ctx2) {\n          if (ctx2.value != null) {\n            ctx2.previousValues = pushUnique(ctx2.previousValues, ctx2.value);\n          }\n        },\n        // if tab panel contains focusable elements, remove the tabindex attribute\n        setContentTabIndex(ctx2) {\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => {\n            const panel = dom.getActiveContentEl(ctx2);\n            if (!panel)\n              return;\n            const focusables = (0,_zag_js_tabbable__WEBPACK_IMPORTED_MODULE_5__.getFocusables)(panel);\n            if (focusables.length > 0) {\n              panel.removeAttribute(\"tabindex\");\n            } else {\n              panel.setAttribute(\"tabindex\", \"0\");\n            }\n          });\n        },\n        cleanupObserver(ctx2) {\n          ctx2.indicatorCleanup?.();\n        },\n        enableIndicatorTransition(ctx2) {\n          ctx2.canIndicatorTransition = true;\n        },\n        setIndicatorRect(ctx2, evt) {\n          const value = evt.id ?? ctx2.value;\n          if (!ctx2.isIndicatorRendered || !value)\n            return;\n          const tabEl = dom.getTriggerEl(ctx2, value);\n          if (!tabEl)\n            return;\n          ctx2.indicatorRect = dom.getRectById(ctx2, value);\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.nextTick)(() => {\n            ctx2.canIndicatorTransition = false;\n          });\n        },\n        syncIndicatorRect(ctx2) {\n          ctx2.indicatorCleanup?.();\n          const value = ctx2.value;\n          if (!ctx2.isIndicatorRendered || !value)\n            return;\n          const tabEl = dom.getActiveTabEl(ctx2);\n          if (!tabEl)\n            return;\n          ctx2.indicatorCleanup = (0,_zag_js_element_rect__WEBPACK_IMPORTED_MODULE_6__.trackElementRect)(tabEl, {\n            getRect(el) {\n              return dom.getOffsetRect(el);\n            },\n            onChange(rect) {\n              ctx2.indicatorRect = dom.resolveRect(rect, ctx2.orientation);\n              (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.nextTick)(() => {\n                ctx2.canIndicatorTransition = false;\n              });\n            }\n          });\n        }\n      }\n    }\n  );\n}\nfunction pushUnique(arr, value) {\n  const newArr = Array.from(arr).slice();\n  const index = newArr.indexOf(value);\n  if (index > -1) {\n    newArr.splice(index, 1);\n  }\n  newArr.push(value);\n  return newArr;\n}\nvar invoke = {\n  change: (ctx) => {\n    if (ctx.value == null)\n      return;\n    ctx.onValueChange?.({ value: ctx.value });\n  },\n  focusChange: (ctx) => {\n    if (ctx.focusedValue == null)\n      return;\n    ctx.onFocusChange?.({ focusedValue: ctx.focusedValue });\n  }\n};\nvar set = {\n  value: (ctx, value) => {\n    if ((0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.isEqual)(value, ctx.value))\n      return;\n    ctx.value = value;\n    invoke.change(ctx);\n  },\n  focusedValue: (ctx, value) => {\n    if ((0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.isEqual)(value, ctx.focusedValue))\n      return;\n    ctx.focusedValue = value;\n    invoke.focusChange(ctx);\n  }\n};\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy90YWJzL2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNnRDtBQUNoRCxjQUFjLDhEQUFhO0FBQzNCOztBQUVBO0FBQ2dEO0FBQ29COztBQUVwRTtBQUN3RjtBQUM1QztBQUM1QyxVQUFVLDhEQUFXO0FBQ3JCLCtDQUErQyxPQUFPO0FBQ3RELHFEQUFxRCxPQUFPO0FBQzVELHlEQUF5RCxPQUFPLFdBQVcsR0FBRztBQUM5RSx5REFBeUQsT0FBTyxXQUFXLEdBQUc7QUFDOUUseURBQXlELE9BQU87QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELFFBQVE7QUFDekQsV0FBVywyREFBUTtBQUNuQixHQUFHO0FBQ0gsdUJBQXVCLG9EQUFLO0FBQzVCLHNCQUFzQixtREFBSTtBQUMxQiwwQkFBMEIsMkRBQVE7QUFDbEMsMEJBQTBCLDJEQUFRO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsZ0JBQWdCLDJEQUFRO0FBQ3hCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLG9CQUFvQjtBQUM5QyxxQkFBcUIsZUFBZTtBQUNwQztBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsMEJBQTBCO0FBQ3ZDLEtBQUs7QUFDTDtBQUNBLGFBQWEscUJBQXFCO0FBQ2xDLEtBQUs7QUFDTDtBQUNBO0FBQ0EsYUFBYSxnQ0FBZ0M7QUFDN0MsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsMkRBQVE7QUFDNUI7QUFD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O0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxzREFBRztBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsc0RBQUc7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsVUFBVSxzREFBRztBQUNiO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiwrREFBYTtBQUM1QztBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSwyREFBUTtBQUNsQjtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxzRUFBZ0I7QUFDbEQ7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsY0FBYywyREFBUTtBQUN0QjtBQUNBLGVBQWU7QUFDZjtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsa0JBQWtCO0FBQzVDLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsZ0NBQWdDO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzREFBTztBQUNmO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLFFBQVEsc0RBQU87QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0U7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL0BwYXJrLXVpL2V4YW1wbGVzLXJlYWN0LW5leHQtanMvLi9ub2RlX21vZHVsZXMvQHphZy1qcy90YWJzL2Rpc3QvaW5kZXgubWpzPzg3OTEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL3RhYnMuYW5hdG9teS50c1xuaW1wb3J0IHsgY3JlYXRlQW5hdG9teSB9IGZyb20gXCJAemFnLWpzL2FuYXRvbXlcIjtcbnZhciBhbmF0b215ID0gY3JlYXRlQW5hdG9teShcInRhYnNcIikucGFydHMoXCJyb290XCIsIFwibGlzdFwiLCBcInRyaWdnZXJcIiwgXCJjb250ZW50XCIsIFwiaW5kaWNhdG9yXCIpO1xudmFyIHBhcnRzID0gYW5hdG9teS5idWlsZCgpO1xuXG4vLyBzcmMvdGFicy5jb25uZWN0LnRzXG5pbXBvcnQgeyBnZXRFdmVudEtleSB9IGZyb20gXCJAemFnLWpzL2RvbS1ldmVudFwiO1xuaW1wb3J0IHsgZGF0YUF0dHIsIGlzU2FmYXJpLCBpc1NlbGZFdmVudCB9IGZyb20gXCJAemFnLWpzL2RvbS1xdWVyeVwiO1xuXG4vLyBzcmMvdGFicy5kb20udHNcbmltcG9ydCB7IGNyZWF0ZVNjb3BlLCBpdGVtQnlJZCwgbmV4dEJ5SWQsIHByZXZCeUlkLCBxdWVyeUFsbCB9IGZyb20gXCJAemFnLWpzL2RvbS1xdWVyeVwiO1xuaW1wb3J0IHsgZmlyc3QsIGxhc3QgfSBmcm9tIFwiQHphZy1qcy91dGlsc1wiO1xudmFyIGRvbSA9IGNyZWF0ZVNjb3BlKHtcbiAgZ2V0Um9vdElkOiAoY3R4KSA9PiBjdHguaWRzPy5yb290ID8/IGB0YWJzOiR7Y3R4LmlkfWAsXG4gIGdldFRhYmxpc3RJZDogKGN0eCkgPT4gY3R4Lmlkcz8udGFibGlzdCA/PyBgdGFiczoke2N0eC5pZH06bGlzdGAsXG4gIGdldENvbnRlbnRJZDogKGN0eCwgaWQpID0+IGN0eC5pZHM/LmNvbnRlbnQgPz8gYHRhYnM6JHtjdHguaWR9OmNvbnRlbnQtJHtpZH1gLFxuICBnZXRUcmlnZ2VySWQ6IChjdHgsIGlkKSA9PiBjdHguaWRzPy50cmlnZ2VyID8/IGB0YWJzOiR7Y3R4LmlkfTp0cmlnZ2VyLSR7aWR9YCxcbiAgZ2V0SW5kaWNhdG9ySWQ6IChjdHgpID0+IGN0eC5pZHM/LmluZGljYXRvciA/PyBgdGFiczoke2N0eC5pZH06aW5kaWNhdG9yYCxcbiAgZ2V0VGFibGlzdEVsOiAoY3R4KSA9PiBkb20uZ2V0QnlJZChjdHgsIGRvbS5nZXRUYWJsaXN0SWQoY3R4KSksXG4gIGdldENvbnRlbnRFbDogKGN0eCwgaWQpID0+IGRvbS5nZXRCeUlkKGN0eCwgZG9tLmdldENvbnRlbnRJZChjdHgsIGlkKSksXG4gIGdldFRyaWdnZXJFbDogKGN0eCwgaWQpID0+IGRvbS5nZXRCeUlkKGN0eCwgZG9tLmdldFRyaWdnZXJJZChjdHgsIGlkKSksXG4gIGdldEluZGljYXRvckVsOiAoY3R4KSA9PiBkb20uZ2V0QnlJZChjdHgsIGRvbS5nZXRJbmRpY2F0b3JJZChjdHgpKSxcbiAgZ2V0RWxlbWVudHM6IChjdHgpID0+IHtcbiAgICBjb25zdCBvd25lcklkID0gQ1NTLmVzY2FwZShkb20uZ2V0VGFibGlzdElkKGN0eCkpO1xuICAgIGNvbnN0IHNlbGVjdG9yID0gYFtyb2xlPXRhYl1bZGF0YS1vd25lZGJ5PScke293bmVySWR9J106bm90KFtkaXNhYmxlZF0pYDtcbiAgICByZXR1cm4gcXVlcnlBbGwoZG9tLmdldFRhYmxpc3RFbChjdHgpLCBzZWxlY3Rvcik7XG4gIH0sXG4gIGdldEZpcnN0RWw6IChjdHgpID0+IGZpcnN0KGRvbS5nZXRFbGVtZW50cyhjdHgpKSxcbiAgZ2V0TGFzdEVsOiAoY3R4KSA9PiBsYXN0KGRvbS5nZXRFbGVtZW50cyhjdHgpKSxcbiAgZ2V0TmV4dEVsOiAoY3R4LCBpZCkgPT4gbmV4dEJ5SWQoZG9tLmdldEVsZW1lbnRzKGN0eCksIGRvbS5nZXRUcmlnZ2VySWQoY3R4LCBpZCksIGN0eC5sb29wKSxcbiAgZ2V0UHJldkVsOiAoY3R4LCBpZCkgPT4gcHJldkJ5SWQoZG9tLmdldEVsZW1lbnRzKGN0eCksIGRvbS5nZXRUcmlnZ2VySWQoY3R4LCBpZCksIGN0eC5sb29wKSxcbiAgZ2V0QWN0aXZlQ29udGVudEVsOiAoY3R4KSA9PiB7XG4gICAgaWYgKCFjdHgudmFsdWUpXG4gICAgICByZXR1cm47XG4gICAgcmV0dXJuIGRvbS5nZXRDb250ZW50RWwoY3R4LCBjdHgudmFsdWUpO1xuICB9LFxuICBnZXRBY3RpdmVUYWJFbDogKGN0eCkgPT4ge1xuICAgIGlmICghY3R4LnZhbHVlKVxuICAgICAgcmV0dXJuO1xuICAgIHJldHVybiBkb20uZ2V0VHJpZ2dlckVsKGN0eCwgY3R4LnZhbHVlKTtcbiAgfSxcbiAgZ2V0T2Zmc2V0UmVjdDogKGVsKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxlZnQ6IGVsPy5vZmZzZXRMZWZ0ID8/IDAsXG4gICAgICB0b3A6IGVsPy5vZmZzZXRUb3AgPz8gMCxcbiAgICAgIHdpZHRoOiBlbD8ub2Zmc2V0V2lkdGggPz8gMCxcbiAgICAgIGhlaWdodDogZWw/Lm9mZnNldEhlaWdodCA/PyAwXG4gICAgfTtcbiAgfSxcbiAgZ2V0UmVjdEJ5SWQ6IChjdHgsIGlkKSA9PiB7XG4gICAgY29uc3QgdGFiID0gaXRlbUJ5SWQoZG9tLmdldEVsZW1lbnRzKGN0eCksIGRvbS5nZXRUcmlnZ2VySWQoY3R4LCBpZCkpO1xuICAgIHJldHVybiBkb20ucmVzb2x2ZVJlY3QoZG9tLmdldE9mZnNldFJlY3QodGFiKSwgY3R4Lm9yaWVudGF0aW9uKTtcbiAgfSxcbiAgcmVzb2x2ZVJlY3QocmVjdCwgb3JpZW50YXRpb24pIHtcbiAgICBjb25zdCBzaXplUHJvcCA9IG9yaWVudGF0aW9uID09PSBcInZlcnRpY2FsXCIgPyBcImhlaWdodFwiIDogXCJ3aWR0aFwiO1xuICAgIGNvbnN0IHBsYWNlbWVudFByb3AgPSBvcmllbnRhdGlvbiA9PT0gXCJ2ZXJ0aWNhbFwiID8gXCJ0b3BcIiA6IFwibGVmdFwiO1xuICAgIHJldHVybiB7XG4gICAgICBbcGxhY2VtZW50UHJvcF06IGAke3JlY3RbcGxhY2VtZW50UHJvcF19cHhgLFxuICAgICAgW3NpemVQcm9wXTogYCR7cmVjdFtzaXplUHJvcF19cHhgXG4gICAgfTtcbiAgfVxufSk7XG5cbi8vIHNyYy90YWJzLmNvbm5lY3QudHNcbmZ1bmN0aW9uIGNvbm5lY3Qoc3RhdGUsIHNlbmQsIG5vcm1hbGl6ZSkge1xuICBjb25zdCB0cmFuc2xhdGlvbnMgPSBzdGF0ZS5jb250ZXh0LnRyYW5zbGF0aW9ucztcbiAgY29uc3QgaXNGb2N1c2VkID0gc3RhdGUubWF0Y2hlcyhcImZvY3VzZWRcIik7XG4gIGZ1bmN0aW9uIGdldFRyaWdnZXJTdGF0ZShwcm9wcykge1xuICAgIHJldHVybiB7XG4gICAgICBpc1NlbGVjdGVkOiBzdGF0ZS5jb250ZXh0LnZhbHVlID09PSBwcm9wcy52YWx1ZSxcbiAgICAgIGlzRm9jdXNlZDogc3RhdGUuY29udGV4dC5mb2N1c2VkVmFsdWUgPT09IHByb3BzLnZhbHVlLFxuICAgICAgaXNEaXNhYmxlZDogISFwcm9wcy5kaXNhYmxlZFxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB2YWx1ZTogc3RhdGUuY29udGV4dC52YWx1ZSxcbiAgICBmb2N1c2VkVmFsdWU6IHN0YXRlLmNvbnRleHQuZm9jdXNlZFZhbHVlLFxuICAgIHByZXZpb3VzVmFsdWVzOiBBcnJheS5mcm9tKHN0YXRlLmNvbnRleHQucHJldmlvdXNWYWx1ZXMpLFxuICAgIHNldFZhbHVlKHZhbHVlKSB7XG4gICAgICBzZW5kKHsgdHlwZTogXCJTRVRfVkFMVUVcIiwgdmFsdWUgfSk7XG4gICAgfSxcbiAgICBjbGVhclZhbHVlKCkge1xuICAgICAgc2VuZCh7IHR5cGU6IFwiQ0xFQVJfVkFMVUVcIiB9KTtcbiAgICB9LFxuICAgIHNldEluZGljYXRvclJlY3QodmFsdWUpIHtcbiAgICAgIGNvbnN0IGlkID0gZG9tLmdldFRyaWdnZXJJZChzdGF0ZS5jb250ZXh0LCB2YWx1ZSk7XG4gICAgICBzZW5kKHsgdHlwZTogXCJTRVRfSU5ESUNBVE9SX1JFQ1RcIiwgaWQgfSk7XG4gICAgfSxcbiAgICBnZXRUcmlnZ2VyU3RhdGUsXG4gICAgcm9vdFByb3BzOiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICAuLi5wYXJ0cy5yb290LmF0dHJzLFxuICAgICAgaWQ6IGRvbS5nZXRSb290SWQoc3RhdGUuY29udGV4dCksXG4gICAgICBcImRhdGEtb3JpZW50YXRpb25cIjogc3RhdGUuY29udGV4dC5vcmllbnRhdGlvbixcbiAgICAgIFwiZGF0YS1mb2N1c1wiOiBkYXRhQXR0cihpc0ZvY3VzZWQpLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpclxuICAgIH0pLFxuICAgIHRhYmxpc3RQcm9wczogbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgLi4ucGFydHMubGlzdC5hdHRycyxcbiAgICAgIGlkOiBkb20uZ2V0VGFibGlzdElkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgcm9sZTogXCJ0YWJsaXN0XCIsXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgXCJkYXRhLWZvY3VzXCI6IGRhdGFBdHRyKGlzRm9jdXNlZCksXG4gICAgICBcImFyaWEtb3JpZW50YXRpb25cIjogc3RhdGUuY29udGV4dC5vcmllbnRhdGlvbixcbiAgICAgIFwiZGF0YS1vcmllbnRhdGlvblwiOiBzdGF0ZS5jb250ZXh0Lm9yaWVudGF0aW9uLFxuICAgICAgXCJhcmlhLWxhYmVsXCI6IHRyYW5zbGF0aW9ucy50YWJsaXN0TGFiZWwsXG4gICAgICBvbktleURvd24oZXZlbnQpIHtcbiAgICAgICAgaWYgKCFpc1NlbGZFdmVudChldmVudCkpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBrZXlNYXAgPSB7XG4gICAgICAgICAgQXJyb3dEb3duKCkge1xuICAgICAgICAgICAgc2VuZChcIkFSUk9XX0RPV05cIik7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBBcnJvd1VwKCkge1xuICAgICAgICAgICAgc2VuZChcIkFSUk9XX1VQXCIpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgQXJyb3dMZWZ0KCkge1xuICAgICAgICAgICAgc2VuZChcIkFSUk9XX0xFRlRcIik7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBBcnJvd1JpZ2h0KCkge1xuICAgICAgICAgICAgc2VuZChcIkFSUk9XX1JJR0hUXCIpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgSG9tZSgpIHtcbiAgICAgICAgICAgIHNlbmQoXCJIT01FXCIpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgRW5kKCkge1xuICAgICAgICAgICAgc2VuZChcIkVORFwiKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIEVudGVyKCkge1xuICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwiRU5URVJcIiwgdmFsdWU6IHN0YXRlLmNvbnRleHQuZm9jdXNlZFZhbHVlIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgbGV0IGtleSA9IGdldEV2ZW50S2V5KGV2ZW50LCBzdGF0ZS5jb250ZXh0KTtcbiAgICAgICAgY29uc3QgZXhlYyA9IGtleU1hcFtrZXldO1xuICAgICAgICBpZiAoZXhlYykge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZXhlYyhldmVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSxcbiAgICBnZXRUcmlnZ2VyUHJvcHMocHJvcHMpIHtcbiAgICAgIGNvbnN0IHsgdmFsdWUsIGRpc2FibGVkIH0gPSBwcm9wcztcbiAgICAgIGNvbnN0IHRyaWdnZXJTdGF0ZSA9IGdldFRyaWdnZXJTdGF0ZShwcm9wcyk7XG4gICAgICByZXR1cm4gbm9ybWFsaXplLmJ1dHRvbih7XG4gICAgICAgIC4uLnBhcnRzLnRyaWdnZXIuYXR0cnMsXG4gICAgICAgIHJvbGU6IFwidGFiXCIsXG4gICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgIGRpc2FibGVkLFxuICAgICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgICBcImRhdGEtb3JpZW50YXRpb25cIjogc3RhdGUuY29udGV4dC5vcmllbnRhdGlvbixcbiAgICAgICAgXCJkYXRhLWRpc2FibGVkXCI6IGRhdGFBdHRyKGRpc2FibGVkKSxcbiAgICAgICAgXCJhcmlhLWRpc2FibGVkXCI6IGRpc2FibGVkLFxuICAgICAgICBcImRhdGEtdmFsdWVcIjogdmFsdWUsXG4gICAgICAgIFwiYXJpYS1zZWxlY3RlZFwiOiB0cmlnZ2VyU3RhdGUuaXNTZWxlY3RlZCxcbiAgICAgICAgXCJkYXRhLXNlbGVjdGVkXCI6IGRhdGFBdHRyKHRyaWdnZXJTdGF0ZS5pc1NlbGVjdGVkKSxcbiAgICAgICAgXCJkYXRhLWZvY3VzXCI6IGRhdGFBdHRyKHRyaWdnZXJTdGF0ZS5pc0ZvY3VzZWQpLFxuICAgICAgICBcImFyaWEtY29udHJvbHNcIjogZG9tLmdldENvbnRlbnRJZChzdGF0ZS5jb250ZXh0LCB2YWx1ZSksXG4gICAgICAgIFwiZGF0YS1vd25lZGJ5XCI6IGRvbS5nZXRUYWJsaXN0SWQoc3RhdGUuY29udGV4dCksXG4gICAgICAgIGlkOiBkb20uZ2V0VHJpZ2dlcklkKHN0YXRlLmNvbnRleHQsIHZhbHVlKSxcbiAgICAgICAgdGFiSW5kZXg6IHRyaWdnZXJTdGF0ZS5pc1NlbGVjdGVkID8gMCA6IC0xLFxuICAgICAgICBvbkZvY3VzKCkge1xuICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIlRBQl9GT0NVU1wiLCB2YWx1ZSB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgb25CbHVyKGV2ZW50KSB7XG4gICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQucmVsYXRlZFRhcmdldDtcbiAgICAgICAgICBpZiAodGFyZ2V0Py5nZXRBdHRyaWJ1dGUoXCJyb2xlXCIpICE9PSBcInRhYlwiKSB7XG4gICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJUQUJfQkxVUlwiIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25DbGljayhldmVudCkge1xuICAgICAgICAgIGlmIChkaXNhYmxlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBpZiAoaXNTYWZhcmkoKSkge1xuICAgICAgICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5mb2N1cygpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZW5kKHsgdHlwZTogXCJUQUJfQ0xJQ0tcIiwgdmFsdWUgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0Q29udGVudFByb3BzKHByb3BzKSB7XG4gICAgICBjb25zdCB7IHZhbHVlIH0gPSBwcm9wcztcbiAgICAgIGNvbnN0IHNlbGVjdGVkID0gc3RhdGUuY29udGV4dC52YWx1ZSA9PT0gdmFsdWU7XG4gICAgICByZXR1cm4gbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgICAuLi5wYXJ0cy5jb250ZW50LmF0dHJzLFxuICAgICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgICBpZDogZG9tLmdldENvbnRlbnRJZChzdGF0ZS5jb250ZXh0LCB2YWx1ZSksXG4gICAgICAgIHRhYkluZGV4OiAwLFxuICAgICAgICBcImFyaWEtbGFiZWxsZWRieVwiOiBkb20uZ2V0VHJpZ2dlcklkKHN0YXRlLmNvbnRleHQsIHZhbHVlKSxcbiAgICAgICAgcm9sZTogXCJ0YWJwYW5lbFwiLFxuICAgICAgICBcImRhdGEtb3duZWRieVwiOiBkb20uZ2V0VGFibGlzdElkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgICBcImRhdGEtc2VsZWN0ZWRcIjogZGF0YUF0dHIoc2VsZWN0ZWQpLFxuICAgICAgICBcImRhdGEtb3JpZW50YXRpb25cIjogc3RhdGUuY29udGV4dC5vcmllbnRhdGlvbixcbiAgICAgICAgaGlkZGVuOiAhc2VsZWN0ZWRcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgaW5kaWNhdG9yUHJvcHM6IG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgIGlkOiBkb20uZ2V0SW5kaWNhdG9ySWQoc3RhdGUuY29udGV4dCksXG4gICAgICAuLi5wYXJ0cy5pbmRpY2F0b3IuYXR0cnMsXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgXCJkYXRhLW9yaWVudGF0aW9uXCI6IHN0YXRlLmNvbnRleHQub3JpZW50YXRpb24sXG4gICAgICBzdHlsZToge1xuICAgICAgICBcIi0tdHJhbnNpdGlvbi1kdXJhdGlvblwiOiBcIjE1MG1zXCIsXG4gICAgICAgIFwiLS10cmFuc2l0aW9uLXByb3BlcnR5XCI6IFwibGVmdCwgcmlnaHQsIHRvcCwgYm90dG9tLCB3aWR0aCwgaGVpZ2h0XCIsXG4gICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgIHdpbGxDaGFuZ2U6IFwidmFyKC0tdHJhbnNpdGlvbi1wcm9wZXJ0eSlcIixcbiAgICAgICAgdHJhbnNpdGlvblByb3BlcnR5OiBcInZhcigtLXRyYW5zaXRpb24tcHJvcGVydHkpXCIsXG4gICAgICAgIHRyYW5zaXRpb25EdXJhdGlvbjogc3RhdGUuY29udGV4dC5jYW5JbmRpY2F0b3JUcmFuc2l0aW9uID8gXCJ2YXIoLS10cmFuc2l0aW9uLWR1cmF0aW9uKVwiIDogXCIwbXNcIixcbiAgICAgICAgdHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uOiBcInZhcigtLXRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uKVwiLFxuICAgICAgICAuLi5zdGF0ZS5jb250ZXh0LmluZGljYXRvclJlY3RcbiAgICAgIH1cbiAgICB9KVxuICB9O1xufVxuXG4vLyBzcmMvdGFicy5tYWNoaW5lLnRzXG5pbXBvcnQgeyBjcmVhdGVNYWNoaW5lLCBndWFyZHMgfSBmcm9tIFwiQHphZy1qcy9jb3JlXCI7XG5pbXBvcnQgeyBuZXh0VGljaywgcmFmIH0gZnJvbSBcIkB6YWctanMvZG9tLXF1ZXJ5XCI7XG5pbXBvcnQgeyB0cmFja0VsZW1lbnRSZWN0IH0gZnJvbSBcIkB6YWctanMvZWxlbWVudC1yZWN0XCI7XG5pbXBvcnQgeyBnZXRGb2N1c2FibGVzIH0gZnJvbSBcIkB6YWctanMvdGFiYmFibGVcIjtcbmltcG9ydCB7IGNvbXBhY3QsIGlzRXF1YWwgfSBmcm9tIFwiQHphZy1qcy91dGlsc1wiO1xudmFyIHsgbm90IH0gPSBndWFyZHM7XG5mdW5jdGlvbiBtYWNoaW5lKHVzZXJDb250ZXh0KSB7XG4gIGNvbnN0IGN0eCA9IGNvbXBhY3QodXNlckNvbnRleHQpO1xuICByZXR1cm4gY3JlYXRlTWFjaGluZShcbiAgICB7XG4gICAgICBpbml0aWFsOiBcImlkbGVcIixcbiAgICAgIGNvbnRleHQ6IHtcbiAgICAgICAgZGlyOiBcImx0clwiLFxuICAgICAgICBvcmllbnRhdGlvbjogXCJob3Jpem9udGFsXCIsXG4gICAgICAgIGFjdGl2YXRpb25Nb2RlOiBcImF1dG9tYXRpY1wiLFxuICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgZm9jdXNlZFZhbHVlOiBudWxsLFxuICAgICAgICBwcmV2aW91c1ZhbHVlczogW10sXG4gICAgICAgIGluZGljYXRvclJlY3Q6IHtcbiAgICAgICAgICBsZWZ0OiBcIjBweFwiLFxuICAgICAgICAgIHRvcDogXCIwcHhcIixcbiAgICAgICAgICB3aWR0aDogXCIwcHhcIixcbiAgICAgICAgICBoZWlnaHQ6IFwiMHB4XCJcbiAgICAgICAgfSxcbiAgICAgICAgY2FuSW5kaWNhdG9yVHJhbnNpdGlvbjogZmFsc2UsXG4gICAgICAgIGlzSW5kaWNhdG9yUmVuZGVyZWQ6IGZhbHNlLFxuICAgICAgICBsb29wOiB0cnVlLFxuICAgICAgICB0cmFuc2xhdGlvbnM6IHt9LFxuICAgICAgICAuLi5jdHhcbiAgICAgIH0sXG4gICAgICBjb21wdXRlZDoge1xuICAgICAgICBpc0hvcml6b250YWw6IChjdHgyKSA9PiBjdHgyLm9yaWVudGF0aW9uID09PSBcImhvcml6b250YWxcIixcbiAgICAgICAgaXNWZXJ0aWNhbDogKGN0eDIpID0+IGN0eDIub3JpZW50YXRpb24gPT09IFwidmVydGljYWxcIlxuICAgICAgfSxcbiAgICAgIGNyZWF0ZWQ6IFtcInNldFByZXZTZWxlY3RlZFRhYnNcIl0sXG4gICAgICBlbnRyeTogW1wiY2hlY2tSZW5kZXJlZEVsZW1lbnRzXCIsIFwic3luY0luZGljYXRvclJlY3RcIiwgXCJzZXRDb250ZW50VGFiSW5kZXhcIl0sXG4gICAgICBleGl0OiBbXCJjbGVhbnVwT2JzZXJ2ZXJcIl0sXG4gICAgICB3YXRjaDoge1xuICAgICAgICB2YWx1ZTogW1wiZW5hYmxlSW5kaWNhdG9yVHJhbnNpdGlvblwiLCBcInNldFByZXZTZWxlY3RlZFRhYnNcIiwgXCJzeW5jSW5kaWNhdG9yUmVjdFwiLCBcInNldENvbnRlbnRUYWJJbmRleFwiXSxcbiAgICAgICAgZGlyOiBbXCJzeW5jSW5kaWNhdG9yUmVjdFwiXSxcbiAgICAgICAgb3JpZW50YXRpb246IFtcInN5bmNJbmRpY2F0b3JSZWN0XCJdXG4gICAgICB9LFxuICAgICAgb246IHtcbiAgICAgICAgU0VUX1ZBTFVFOiB7XG4gICAgICAgICAgYWN0aW9uczogXCJzZXRWYWx1ZVwiXG4gICAgICAgIH0sXG4gICAgICAgIENMRUFSX1ZBTFVFOiB7XG4gICAgICAgICAgYWN0aW9uczogXCJjbGVhclZhbHVlXCJcbiAgICAgICAgfSxcbiAgICAgICAgU0VUX0lORElDQVRPUl9SRUNUOiB7XG4gICAgICAgICAgYWN0aW9uczogXCJzZXRJbmRpY2F0b3JSZWN0XCJcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHN0YXRlczoge1xuICAgICAgICBpZGxlOiB7XG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIFRBQl9GT0NVUzogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ3VhcmQ6IFwic2VsZWN0T25Gb2N1c1wiLFxuICAgICAgICAgICAgICAgIHRhcmdldDogXCJmb2N1c2VkXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogW1wic2V0Rm9jdXNlZFZhbHVlXCIsIFwic2V0VmFsdWVcIl1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRhcmdldDogXCJmb2N1c2VkXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogXCJzZXRGb2N1c2VkVmFsdWVcIlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgVEFCX0NMSUNLOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJmb2N1c2VkXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldEZvY3VzZWRWYWx1ZVwiLCBcInNldFZhbHVlXCJdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBmb2N1c2VkOiB7XG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIFRBQl9DTElDSzoge1xuICAgICAgICAgICAgICB0YXJnZXQ6IFwiZm9jdXNlZFwiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRGb2N1c2VkVmFsdWVcIiwgXCJzZXRWYWx1ZVwiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIEFSUk9XX0xFRlQ6IHtcbiAgICAgICAgICAgICAgZ3VhcmQ6IFwiaXNIb3Jpem9udGFsXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFwiZm9jdXNQcmV2VGFiXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBBUlJPV19SSUdIVDoge1xuICAgICAgICAgICAgICBndWFyZDogXCJpc0hvcml6b250YWxcIixcbiAgICAgICAgICAgICAgYWN0aW9uczogXCJmb2N1c05leHRUYWJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIEFSUk9XX1VQOiB7XG4gICAgICAgICAgICAgIGd1YXJkOiBcImlzVmVydGljYWxcIixcbiAgICAgICAgICAgICAgYWN0aW9uczogXCJmb2N1c1ByZXZUYWJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIEFSUk9XX0RPV046IHtcbiAgICAgICAgICAgICAgZ3VhcmQ6IFwiaXNWZXJ0aWNhbFwiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBcImZvY3VzTmV4dFRhYlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgSE9NRToge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBcImZvY3VzRmlyc3RUYWJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIEVORDoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBcImZvY3VzTGFzdFRhYlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgRU5URVI6IHtcbiAgICAgICAgICAgICAgZ3VhcmQ6IG5vdChcInNlbGVjdE9uRm9jdXNcIiksXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFwic2V0VmFsdWVcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFRBQl9GT0NVUzogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ3VhcmQ6IFwic2VsZWN0T25Gb2N1c1wiLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldEZvY3VzZWRWYWx1ZVwiLCBcInNldFZhbHVlXCJdXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHsgYWN0aW9uczogXCJzZXRGb2N1c2VkVmFsdWVcIiB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgVEFCX0JMVVI6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcImlkbGVcIixcbiAgICAgICAgICAgICAgYWN0aW9uczogXCJjbGVhckZvY3VzZWRWYWx1ZVwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICBndWFyZHM6IHtcbiAgICAgICAgaXNWZXJ0aWNhbDogKGN0eDIpID0+IGN0eDIuaXNWZXJ0aWNhbCxcbiAgICAgICAgaXNIb3Jpem9udGFsOiAoY3R4MikgPT4gY3R4Mi5pc0hvcml6b250YWwsXG4gICAgICAgIHNlbGVjdE9uRm9jdXM6IChjdHgyKSA9PiBjdHgyLmFjdGl2YXRpb25Nb2RlID09PSBcImF1dG9tYXRpY1wiXG4gICAgICB9LFxuICAgICAgYWN0aW9uczoge1xuICAgICAgICBzZXRGb2N1c2VkVmFsdWUoY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgc2V0LmZvY3VzZWRWYWx1ZShjdHgyLCBldnQudmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBjbGVhckZvY3VzZWRWYWx1ZShjdHgyKSB7XG4gICAgICAgICAgc2V0LmZvY3VzZWRWYWx1ZShjdHgyLCBudWxsKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0VmFsdWUoY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgc2V0LnZhbHVlKGN0eDIsIGV2dC52YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGNsZWFyVmFsdWUoY3R4Mikge1xuICAgICAgICAgIHNldC52YWx1ZShjdHgyLCBudWxsKTtcbiAgICAgICAgfSxcbiAgICAgICAgZm9jdXNGaXJzdFRhYihjdHgyKSB7XG4gICAgICAgICAgcmFmKCgpID0+IGRvbS5nZXRGaXJzdEVsKGN0eDIpPy5mb2N1cygpKTtcbiAgICAgICAgfSxcbiAgICAgICAgZm9jdXNMYXN0VGFiKGN0eDIpIHtcbiAgICAgICAgICByYWYoKCkgPT4gZG9tLmdldExhc3RFbChjdHgyKT8uZm9jdXMoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGZvY3VzTmV4dFRhYihjdHgyKSB7XG4gICAgICAgICAgaWYgKCFjdHgyLmZvY3VzZWRWYWx1ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjb25zdCBuZXh0ID0gZG9tLmdldE5leHRFbChjdHgyLCBjdHgyLmZvY3VzZWRWYWx1ZSk7XG4gICAgICAgICAgcmFmKCgpID0+IG5leHQ/LmZvY3VzKCkpO1xuICAgICAgICB9LFxuICAgICAgICBmb2N1c1ByZXZUYWIoY3R4Mikge1xuICAgICAgICAgIGlmICghY3R4Mi5mb2N1c2VkVmFsdWUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgY29uc3QgcHJldiA9IGRvbS5nZXRQcmV2RWwoY3R4MiwgY3R4Mi5mb2N1c2VkVmFsdWUpO1xuICAgICAgICAgIHJhZigoKSA9PiBwcmV2Py5mb2N1cygpKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2hlY2tSZW5kZXJlZEVsZW1lbnRzKGN0eDIpIHtcbiAgICAgICAgICBjdHgyLmlzSW5kaWNhdG9yUmVuZGVyZWQgPSAhIWRvbS5nZXRJbmRpY2F0b3JFbChjdHgyKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0UHJldlNlbGVjdGVkVGFicyhjdHgyKSB7XG4gICAgICAgICAgaWYgKGN0eDIudmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgY3R4Mi5wcmV2aW91c1ZhbHVlcyA9IHB1c2hVbmlxdWUoY3R4Mi5wcmV2aW91c1ZhbHVlcywgY3R4Mi52YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAvLyBpZiB0YWIgcGFuZWwgY29udGFpbnMgZm9jdXNhYmxlIGVsZW1lbnRzLCByZW1vdmUgdGhlIHRhYmluZGV4IGF0dHJpYnV0ZVxuICAgICAgICBzZXRDb250ZW50VGFiSW5kZXgoY3R4Mikge1xuICAgICAgICAgIHJhZigoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYW5lbCA9IGRvbS5nZXRBY3RpdmVDb250ZW50RWwoY3R4Mik7XG4gICAgICAgICAgICBpZiAoIXBhbmVsKVxuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBmb2N1c2FibGVzID0gZ2V0Rm9jdXNhYmxlcyhwYW5lbCk7XG4gICAgICAgICAgICBpZiAoZm9jdXNhYmxlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIHBhbmVsLnJlbW92ZUF0dHJpYnV0ZShcInRhYmluZGV4XCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGFuZWwuc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIiwgXCIwXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBjbGVhbnVwT2JzZXJ2ZXIoY3R4Mikge1xuICAgICAgICAgIGN0eDIuaW5kaWNhdG9yQ2xlYW51cD8uKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVuYWJsZUluZGljYXRvclRyYW5zaXRpb24oY3R4Mikge1xuICAgICAgICAgIGN0eDIuY2FuSW5kaWNhdG9yVHJhbnNpdGlvbiA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldEluZGljYXRvclJlY3QoY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSBldnQuaWQgPz8gY3R4Mi52YWx1ZTtcbiAgICAgICAgICBpZiAoIWN0eDIuaXNJbmRpY2F0b3JSZW5kZXJlZCB8fCAhdmFsdWUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgY29uc3QgdGFiRWwgPSBkb20uZ2V0VHJpZ2dlckVsKGN0eDIsIHZhbHVlKTtcbiAgICAgICAgICBpZiAoIXRhYkVsKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGN0eDIuaW5kaWNhdG9yUmVjdCA9IGRvbS5nZXRSZWN0QnlJZChjdHgyLCB2YWx1ZSk7XG4gICAgICAgICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgY3R4Mi5jYW5JbmRpY2F0b3JUcmFuc2l0aW9uID0gZmFsc2U7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHN5bmNJbmRpY2F0b3JSZWN0KGN0eDIpIHtcbiAgICAgICAgICBjdHgyLmluZGljYXRvckNsZWFudXA/LigpO1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gY3R4Mi52YWx1ZTtcbiAgICAgICAgICBpZiAoIWN0eDIuaXNJbmRpY2F0b3JSZW5kZXJlZCB8fCAhdmFsdWUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgY29uc3QgdGFiRWwgPSBkb20uZ2V0QWN0aXZlVGFiRWwoY3R4Mik7XG4gICAgICAgICAgaWYgKCF0YWJFbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjdHgyLmluZGljYXRvckNsZWFudXAgPSB0cmFja0VsZW1lbnRSZWN0KHRhYkVsLCB7XG4gICAgICAgICAgICBnZXRSZWN0KGVsKSB7XG4gICAgICAgICAgICAgIHJldHVybiBkb20uZ2V0T2Zmc2V0UmVjdChlbCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25DaGFuZ2UocmVjdCkge1xuICAgICAgICAgICAgICBjdHgyLmluZGljYXRvclJlY3QgPSBkb20ucmVzb2x2ZVJlY3QocmVjdCwgY3R4Mi5vcmllbnRhdGlvbik7XG4gICAgICAgICAgICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjdHgyLmNhbkluZGljYXRvclRyYW5zaXRpb24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICk7XG59XG5mdW5jdGlvbiBwdXNoVW5pcXVlKGFyciwgdmFsdWUpIHtcbiAgY29uc3QgbmV3QXJyID0gQXJyYXkuZnJvbShhcnIpLnNsaWNlKCk7XG4gIGNvbnN0IGluZGV4ID0gbmV3QXJyLmluZGV4T2YodmFsdWUpO1xuICBpZiAoaW5kZXggPiAtMSkge1xuICAgIG5ld0Fyci5zcGxpY2UoaW5kZXgsIDEpO1xuICB9XG4gIG5ld0Fyci5wdXNoKHZhbHVlKTtcbiAgcmV0dXJuIG5ld0Fycjtcbn1cbnZhciBpbnZva2UgPSB7XG4gIGNoYW5nZTogKGN0eCkgPT4ge1xuICAgIGlmIChjdHgudmFsdWUgPT0gbnVsbClcbiAgICAgIHJldHVybjtcbiAgICBjdHgub25WYWx1ZUNoYW5nZT8uKHsgdmFsdWU6IGN0eC52YWx1ZSB9KTtcbiAgfSxcbiAgZm9jdXNDaGFuZ2U6IChjdHgpID0+IHtcbiAgICBpZiAoY3R4LmZvY3VzZWRWYWx1ZSA9PSBudWxsKVxuICAgICAgcmV0dXJuO1xuICAgIGN0eC5vbkZvY3VzQ2hhbmdlPy4oeyBmb2N1c2VkVmFsdWU6IGN0eC5mb2N1c2VkVmFsdWUgfSk7XG4gIH1cbn07XG52YXIgc2V0ID0ge1xuICB2YWx1ZTogKGN0eCwgdmFsdWUpID0+IHtcbiAgICBpZiAoaXNFcXVhbCh2YWx1ZSwgY3R4LnZhbHVlKSlcbiAgICAgIHJldHVybjtcbiAgICBjdHgudmFsdWUgPSB2YWx1ZTtcbiAgICBpbnZva2UuY2hhbmdlKGN0eCk7XG4gIH0sXG4gIGZvY3VzZWRWYWx1ZTogKGN0eCwgdmFsdWUpID0+IHtcbiAgICBpZiAoaXNFcXVhbCh2YWx1ZSwgY3R4LmZvY3VzZWRWYWx1ZSkpXG4gICAgICByZXR1cm47XG4gICAgY3R4LmZvY3VzZWRWYWx1ZSA9IHZhbHVlO1xuICAgIGludm9rZS5mb2N1c0NoYW5nZShjdHgpO1xuICB9XG59O1xuZXhwb3J0IHtcbiAgYW5hdG9teSxcbiAgY29ubmVjdCxcbiAgbWFjaGluZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/tabs/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/tags-input/dist/index.mjs":
/*!********************************************************!*\
  !*** ./node_modules/@zag-js/tags-input/dist/index.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   anatomy: () => (/* binding */ anatomy),\n/* harmony export */   connect: () => (/* binding */ connect),\n/* harmony export */   machine: () => (/* binding */ machine)\n/* harmony export */ });\n/* harmony import */ var _zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/anatomy */ \"(ssr)/./node_modules/@zag-js/anatomy/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_event__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @zag-js/dom-event */ \"(ssr)/./node_modules/@zag-js/dom-event/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @zag-js/dom-query */ \"(ssr)/./node_modules/@zag-js/dom-query/dist/index.mjs\");\n/* harmony import */ var _zag_js_form_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @zag-js/form-utils */ \"(ssr)/./node_modules/@zag-js/form-utils/dist/index.mjs\");\n/* harmony import */ var _zag_js_auto_resize__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @zag-js/auto-resize */ \"(ssr)/./node_modules/@zag-js/auto-resize/dist/index.mjs\");\n/* harmony import */ var _zag_js_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @zag-js/core */ \"(ssr)/./node_modules/@zag-js/core/dist/index.mjs\");\n/* harmony import */ var _zag_js_interact_outside__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @zag-js/interact-outside */ \"(ssr)/./node_modules/@zag-js/interact-outside/dist/index.mjs\");\n/* harmony import */ var _zag_js_live_region__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @zag-js/live-region */ \"(ssr)/./node_modules/@zag-js/live-region/dist/index.mjs\");\n/* harmony import */ var _zag_js_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @zag-js/utils */ \"(ssr)/./node_modules/@zag-js/utils/dist/index.mjs\");\n// src/tags-input.anatomy.ts\n\nvar anatomy = (0,_zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__.createAnatomy)(\"tagsInput\").parts(\n  \"root\",\n  \"label\",\n  \"control\",\n  \"input\",\n  \"clearTrigger\",\n  \"item\",\n  \"itemInput\",\n  \"itemText\",\n  \"itemDeleteTrigger\"\n);\nvar parts = anatomy.build();\n\n// src/tags-input.connect.ts\n\n\n\n// src/tags-input.dom.ts\n\n\nvar dom = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.createScope)({\n  getRootId: (ctx) => ctx.ids?.root ?? `tags-input:${ctx.id}`,\n  getInputId: (ctx) => ctx.ids?.input ?? `tags-input:${ctx.id}:input`,\n  getClearTriggerId: (ctx) => ctx.ids?.clearBtn ?? `tags-input:${ctx.id}:clear-btn`,\n  getHiddenInputId: (ctx) => `tags-input:${ctx.id}:hidden-input`,\n  getLabelId: (ctx) => ctx.ids?.label ?? `tags-input:${ctx.id}:label`,\n  getControlId: (ctx) => ctx.ids?.control ?? `tags-input:${ctx.id}:control`,\n  getItemId: (ctx, opt) => ctx.ids?.item?.(opt) ?? `tags-input:${ctx.id}:tag:${opt.value}:${opt.index}`,\n  getItemDeleteTriggerId: (ctx, opt) => ctx.ids?.itemDeleteTrigger?.(opt) ?? `${dom.getItemId(ctx, opt)}:delete-btn`,\n  getItemInputId: (ctx, opt) => ctx.ids?.itemInput?.(opt) ?? `${dom.getItemId(ctx, opt)}:input`,\n  getEditInputId: (ctx) => `${ctx.editedTagId}:input`,\n  getTagInputEl: (ctx, opt) => dom.getById(ctx, dom.getItemInputId(ctx, opt)),\n  getRootEl: (ctx) => dom.getById(ctx, dom.getRootId(ctx)),\n  getInputEl: (ctx) => dom.getById(ctx, dom.getInputId(ctx)),\n  getHiddenInputEl: (ctx) => dom.getById(ctx, dom.getHiddenInputId(ctx)),\n  getEditInputEl: (ctx) => dom.getById(ctx, dom.getEditInputId(ctx)),\n  getTagElements: (ctx) => (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.queryAll)(dom.getRootEl(ctx), `[data-part=item]:not([data-disabled])`),\n  getFirstEl: (ctx) => dom.getTagElements(ctx)[0],\n  getLastEl: (ctx) => dom.getTagElements(ctx)[dom.getTagElements(ctx).length - 1],\n  getPrevEl: (ctx, id) => (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.prevById)(dom.getTagElements(ctx), id, false),\n  getNextEl: (ctx, id) => (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.nextById)(dom.getTagElements(ctx), id, false),\n  getTagElAtIndex: (ctx, index) => dom.getTagElements(ctx)[index],\n  getIndexOfId: (ctx, id) => (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.indexOfId)(dom.getTagElements(ctx), id),\n  isInputFocused: (ctx) => dom.getDoc(ctx).activeElement === dom.getInputEl(ctx),\n  getHighlightedTagValue: (ctx) => {\n    if (!ctx.highlightedTagId)\n      return null;\n    const tagEl = dom.getById(ctx, ctx.highlightedTagId);\n    return tagEl?.dataset.value ?? null;\n  },\n  setHoverIntent: (el) => {\n    const tagEl = el.closest(\"[data-part=item]\");\n    if (!tagEl)\n      return;\n    tagEl.dataset.deleteIntent = \"\";\n  },\n  clearHoverIntent: (el) => {\n    const tagEl = el.closest(\"[data-part=item]\");\n    if (!tagEl)\n      return;\n    delete tagEl.dataset.deleteIntent;\n  },\n  dispatchInputEvent(ctx) {\n    const inputEl = dom.getHiddenInputEl(ctx);\n    if (!inputEl)\n      return;\n    (0,_zag_js_form_utils__WEBPACK_IMPORTED_MODULE_2__.dispatchInputValueEvent)(inputEl, { value: ctx.valueAsString });\n  }\n});\n\n// src/tags-input.connect.ts\nfunction connect(state, send, normalize) {\n  const isInteractive = state.context.isInteractive;\n  const isDisabled = state.context.isDisabled;\n  const isReadOnly = state.context.readOnly;\n  const isInvalid = state.context.invalid || state.context.isOverflowing;\n  const translations = state.context.translations;\n  const isInputFocused = state.hasTag(\"focused\");\n  const isEditingTag = state.matches(\"editing:tag\");\n  const isEmpty = state.context.count === 0;\n  function getItemState(options) {\n    const id = dom.getItemId(state.context, options);\n    return {\n      id,\n      isEditing: isEditingTag && state.context.editedTagId === id,\n      isHighlighted: id === state.context.highlightedTagId,\n      isDisabled: options.disabled || isDisabled\n    };\n  }\n  return {\n    isEmpty,\n    inputValue: state.context.trimmedInputValue,\n    value: state.context.value,\n    valueAsString: state.context.valueAsString,\n    count: state.context.count,\n    isAtMax: state.context.isAtMax,\n    setValue(value) {\n      send({ type: \"SET_VALUE\", value });\n    },\n    clearValue(id) {\n      if (id) {\n        send({ type: \"CLEAR_TAG\", id });\n      } else {\n        send(\"CLEAR_VALUE\");\n      }\n    },\n    addValue(value) {\n      send({ type: \"ADD_TAG\", value });\n    },\n    setValueAtIndex(index, value) {\n      send({ type: \"SET_VALUE_AT_INDEX\", index, value });\n    },\n    setInputValue(value) {\n      send({ type: \"SET_INPUT_VALUE\", value });\n    },\n    clearInputValue() {\n      send({ type: \"SET_INPUT_VALUE\", value: \"\" });\n    },\n    focus() {\n      dom.getInputEl(state.context)?.focus();\n    },\n    getItemState,\n    rootProps: normalize.element({\n      dir: state.context.dir,\n      ...parts.root.attrs,\n      \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isInvalid),\n      \"data-readonly\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isReadOnly),\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isDisabled),\n      \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isInputFocused),\n      \"data-empty\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isEmpty),\n      id: dom.getRootId(state.context),\n      onPointerDown() {\n        if (!isInteractive)\n          return;\n        send(\"POINTER_DOWN\");\n      }\n    }),\n    labelProps: normalize.label({\n      ...parts.label.attrs,\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isDisabled),\n      \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isInvalid),\n      \"data-readonly\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isReadOnly),\n      id: dom.getLabelId(state.context),\n      dir: state.context.dir,\n      htmlFor: dom.getInputId(state.context)\n    }),\n    controlProps: normalize.element({\n      id: dom.getControlId(state.context),\n      ...parts.control.attrs,\n      dir: state.context.dir,\n      tabIndex: isReadOnly ? 0 : void 0,\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isDisabled),\n      \"data-readonly\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isReadOnly),\n      \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isInvalid),\n      \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isInputFocused)\n    }),\n    inputProps: normalize.input({\n      ...parts.input.attrs,\n      dir: state.context.dir,\n      \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isInvalid),\n      \"aria-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.ariaAttr)(isInvalid),\n      \"data-readonly\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isReadOnly),\n      maxLength: state.context.maxLength,\n      id: dom.getInputId(state.context),\n      defaultValue: state.context.inputValue,\n      autoComplete: \"off\",\n      autoCorrect: \"off\",\n      autoCapitalize: \"none\",\n      disabled: isDisabled || isReadOnly,\n      onChange(event) {\n        const evt = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_3__.getNativeEvent)(event);\n        if (evt.inputType === \"insertFromPaste\")\n          return;\n        let value = event.target.value;\n        if (value.endsWith(state.context.delimiter)) {\n          send(\"DELIMITER_KEY\");\n        } else {\n          send({ type: \"TYPE\", value, key: evt.inputType });\n        }\n      },\n      onFocus() {\n        send(\"FOCUS\");\n      },\n      onPaste(event) {\n        const value = event.clipboardData.getData(\"text/plain\");\n        send({ type: \"PASTE\", value });\n      },\n      onKeyDown(event) {\n        const evt = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_3__.getNativeEvent)(event);\n        if (evt.isComposing)\n          return;\n        const target = event.currentTarget;\n        const isCombobox = target.getAttribute(\"role\") === \"combobox\";\n        const isExpanded = target.ariaExpanded === \"true\";\n        const keyMap = {\n          ArrowDown() {\n            send(\"ARROW_DOWN\");\n          },\n          ArrowLeft() {\n            if (isCombobox && isExpanded)\n              return;\n            send(\"ARROW_LEFT\");\n          },\n          ArrowRight() {\n            if (state.context.highlightedTagId) {\n              event.preventDefault();\n            }\n            if (isCombobox && isExpanded)\n              return;\n            send(\"ARROW_RIGHT\");\n          },\n          Escape(event2) {\n            event2.preventDefault();\n            send(\"ESCAPE\");\n          },\n          Backspace() {\n            send(\"BACKSPACE\");\n          },\n          Delete() {\n            send(\"DELETE\");\n          },\n          Enter(event2) {\n            event2.preventDefault();\n            send(\"ENTER\");\n          }\n        };\n        const key = (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_3__.getEventKey)(event, state.context);\n        const exec = keyMap[key];\n        if (exec) {\n          exec(event);\n          return;\n        }\n      }\n    }),\n    hiddenInputProps: normalize.input({\n      type: \"text\",\n      hidden: true,\n      name: state.context.name,\n      form: state.context.form,\n      id: dom.getHiddenInputId(state.context),\n      defaultValue: state.context.valueAsString\n    }),\n    getItemProps(props) {\n      const itemState = getItemState(props);\n      return normalize.element({\n        ...parts.item.attrs,\n        id: itemState.id,\n        dir: state.context.dir,\n        hidden: itemState.isEditing,\n        \"data-value\": props.value,\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isDisabled),\n        \"data-highlighted\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(itemState.isHighlighted),\n        onPointerDown(event) {\n          if (!isInteractive || itemState.isDisabled)\n            return;\n          event.preventDefault();\n          send({ type: \"POINTER_DOWN_TAG\", id: itemState.id });\n        },\n        onDoubleClick() {\n          if (!isInteractive || itemState.isDisabled)\n            return;\n          send({ type: \"DOUBLE_CLICK_TAG\", id: itemState.id });\n        }\n      });\n    },\n    getItemTextProps(props) {\n      const itemState = getItemState(props);\n      return normalize.element({\n        ...parts.itemText.attrs,\n        dir: state.context.dir,\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isDisabled),\n        \"data-highlighted\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(itemState.isHighlighted)\n      });\n    },\n    getItemInputProps(props) {\n      const itemState = getItemState(props);\n      return normalize.input({\n        ...parts.itemInput.attrs,\n        dir: state.context.dir,\n        \"aria-label\": translations.tagEdited(props.value),\n        \"aria-hidden\": true,\n        disabled: isDisabled,\n        id: dom.getItemInputId(state.context, props),\n        tabIndex: -1,\n        hidden: !itemState.isEditing,\n        defaultValue: itemState.isEditing ? state.context.editedTagValue : \"\",\n        onChange(event) {\n          send({ type: \"TAG_INPUT_TYPE\", value: event.target.value });\n        },\n        onBlur(event) {\n          send({ type: \"TAG_INPUT_BLUR\", target: event.relatedTarget, id: itemState.id });\n        },\n        onKeyDown(event) {\n          const keyMap = {\n            Enter() {\n              send(\"TAG_INPUT_ENTER\");\n            },\n            Escape() {\n              send(\"TAG_INPUT_ESCAPE\");\n            }\n          };\n          const exec = keyMap[event.key];\n          if (exec) {\n            event.preventDefault();\n            exec(event);\n          }\n        }\n      });\n    },\n    getItemDeleteTriggerProps(props) {\n      const id = dom.getItemId(state.context, props);\n      return normalize.button({\n        ...parts.itemDeleteTrigger.attrs,\n        dir: state.context.dir,\n        id: dom.getItemDeleteTriggerId(state.context, props),\n        type: \"button\",\n        disabled: isDisabled,\n        \"aria-label\": translations.deleteTagTriggerLabel(props.value),\n        tabIndex: -1,\n        onPointerDown(event) {\n          if (!isInteractive) {\n            event.preventDefault();\n          }\n        },\n        onPointerMove(event) {\n          if (!isInteractive)\n            return;\n          dom.setHoverIntent(event.currentTarget);\n        },\n        onPointerLeave(event) {\n          if (!isInteractive)\n            return;\n          dom.clearHoverIntent(event.currentTarget);\n        },\n        onClick() {\n          if (!isInteractive)\n            return;\n          send({ type: \"CLEAR_TAG\", id });\n        }\n      });\n    },\n    clearTriggerProps: normalize.button({\n      ...parts.clearTrigger.attrs,\n      dir: state.context.dir,\n      id: dom.getClearTriggerId(state.context),\n      type: \"button\",\n      \"data-readonly\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isReadOnly),\n      disabled: isDisabled,\n      \"aria-label\": translations.clearTriggerLabel,\n      hidden: isEmpty,\n      onClick() {\n        if (!isInteractive)\n          return;\n        send(\"CLEAR_VALUE\");\n      }\n    })\n  };\n}\n\n// src/tags-input.machine.ts\n\n\n\n\n\n\n\nvar { and, not, or } = _zag_js_core__WEBPACK_IMPORTED_MODULE_4__.guards;\nfunction machine(userContext) {\n  const ctx = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_5__.compact)(userContext);\n  return (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_4__.createMachine)(\n    {\n      id: \"tags-input\",\n      initial: ctx.autoFocus ? \"focused:input\" : \"idle\",\n      context: {\n        log: { current: null, prev: null },\n        inputValue: \"\",\n        editedTagValue: \"\",\n        editedTagId: null,\n        highlightedTagId: null,\n        value: [],\n        dir: \"ltr\",\n        max: Infinity,\n        liveRegion: null,\n        blurBehavior: void 0,\n        addOnPaste: false,\n        allowEditTag: true,\n        validate: () => true,\n        delimiter: \",\",\n        disabled: false,\n        ...ctx,\n        fieldsetDisabled: false,\n        translations: {\n          clearTriggerLabel: \"Clear all tags\",\n          deleteTagTriggerLabel: (value) => `Delete tag ${value}`,\n          tagAdded: (value) => `Added tag ${value}`,\n          tagsPasted: (values) => `Pasted ${values.length} tags`,\n          tagEdited: (value) => `Editing tag ${value}. Press enter to save or escape to cancel.`,\n          tagUpdated: (value) => `Tag update to ${value}`,\n          tagDeleted: (value) => `Tag ${value} deleted`,\n          tagSelected: (value) => `Tag ${value} selected. Press enter to edit, delete or backspace to remove.`,\n          ...ctx.translations\n        }\n      },\n      computed: {\n        count: (ctx2) => ctx2.value.length,\n        valueAsString: (ctx2) => JSON.stringify(ctx2.value),\n        trimmedInputValue: (ctx2) => ctx2.inputValue.trim(),\n        isDisabled: (ctx2) => !!ctx2.disabled || ctx2.fieldsetDisabled,\n        isInteractive: (ctx2) => !(ctx2.readOnly || ctx2.isDisabled),\n        isAtMax: (ctx2) => ctx2.count === ctx2.max,\n        isOverflowing: (ctx2) => ctx2.count > ctx2.max\n      },\n      watch: {\n        highlightedTagId: \"logHighlightedTag\",\n        isOverflowing: \"invokeOnInvalid\",\n        log: \"announceLog\",\n        inputValue: \"syncInputValue\",\n        editedTagValue: \"syncEditedTagInputValue\"\n      },\n      activities: [\"trackLiveRegion\", \"trackFormControlState\"],\n      exit: [\"clearLog\"],\n      on: {\n        DOUBLE_CLICK_TAG: {\n          internal: true,\n          guard: \"allowEditTag\",\n          target: \"editing:tag\",\n          actions: [\"setEditedId\", \"initializeEditedTagValue\"]\n        },\n        POINTER_DOWN_TAG: {\n          internal: true,\n          guard: not(\"isTagHighlighted\"),\n          target: \"navigating:tag\",\n          actions: [\"highlightTag\", \"focusInput\"]\n        },\n        SET_INPUT_VALUE: {\n          actions: [\"setInputValue\"]\n        },\n        SET_VALUE: {\n          actions: [\"setValue\"]\n        },\n        CLEAR_TAG: {\n          actions: [\"deleteTag\"]\n        },\n        SET_VALUE_AT_INDEX: {\n          actions: [\"setValueAtIndex\"]\n        },\n        CLEAR_VALUE: {\n          actions: [\"clearTags\", \"clearInputValue\", \"focusInput\"]\n        },\n        ADD_TAG: {\n          // (!isAtMax || allowOverflow) && !inputValueIsEmpty\n          guard: and(or(not(\"isAtMax\"), \"allowOverflow\"), not(\"isInputValueEmpty\")),\n          actions: [\"addTag\", \"clearInputValue\"]\n        },\n        EXTERNAL_BLUR: [\n          { guard: \"addOnBlur\", actions: \"raiseAddTagEvent\" },\n          { guard: \"clearOnBlur\", actions: \"clearInputValue\" }\n        ]\n      },\n      states: {\n        idle: {\n          on: {\n            FOCUS: \"focused:input\",\n            POINTER_DOWN: {\n              guard: not(\"hasHighlightedTag\"),\n              target: \"focused:input\"\n            }\n          }\n        },\n        \"focused:input\": {\n          tags: [\"focused\"],\n          entry: [\"focusInput\", \"clearHighlightedId\"],\n          activities: [\"trackInteractOutside\"],\n          on: {\n            TYPE: {\n              actions: \"setInputValue\"\n            },\n            BLUR: [\n              {\n                guard: \"addOnBlur\",\n                target: \"idle\",\n                actions: \"raiseAddTagEvent\"\n              },\n              {\n                guard: \"clearOnBlur\",\n                target: \"idle\",\n                actions: \"clearInputValue\"\n              },\n              { target: \"idle\" }\n            ],\n            ENTER: {\n              actions: [\"raiseAddTagEvent\"]\n            },\n            DELIMITER_KEY: {\n              actions: [\"raiseAddTagEvent\"]\n            },\n            ARROW_LEFT: {\n              guard: and(\"hasTags\", \"isInputCaretAtStart\"),\n              target: \"navigating:tag\",\n              actions: \"highlightLastTag\"\n            },\n            BACKSPACE: {\n              target: \"navigating:tag\",\n              guard: and(\"hasTags\", \"isInputCaretAtStart\"),\n              actions: \"highlightLastTag\"\n            },\n            PASTE: {\n              guard: \"addOnPaste\",\n              actions: [\"setInputValue\", \"addTagFromPaste\"]\n            }\n          }\n        },\n        \"navigating:tag\": {\n          tags: [\"focused\"],\n          activities: [\"trackInteractOutside\"],\n          on: {\n            ARROW_RIGHT: [\n              {\n                guard: and(\"hasTags\", \"isInputCaretAtStart\", not(\"isLastTagHighlighted\")),\n                actions: \"highlightNextTag\"\n              },\n              { target: \"focused:input\" }\n            ],\n            ARROW_LEFT: {\n              actions: \"highlightPrevTag\"\n            },\n            BLUR: {\n              target: \"idle\",\n              actions: \"clearHighlightedId\"\n            },\n            ENTER: {\n              guard: and(\"allowEditTag\", \"hasHighlightedTag\"),\n              target: \"editing:tag\",\n              actions: [\"setEditedId\", \"initializeEditedTagValue\", \"focusEditedTagInput\"]\n            },\n            ARROW_DOWN: \"focused:input\",\n            ESCAPE: \"focused:input\",\n            TYPE: {\n              target: \"focused:input\",\n              actions: \"setInputValue\"\n            },\n            BACKSPACE: [\n              {\n                guard: \"isFirstTagHighlighted\",\n                actions: [\"deleteHighlightedTag\", \"highlightFirstTag\"]\n              },\n              {\n                actions: [\"deleteHighlightedTag\", \"highlightPrevTag\"]\n              }\n            ],\n            DELETE: {\n              actions: [\"deleteHighlightedTag\", \"highlightTagAtIndex\"]\n            }\n          }\n        },\n        \"editing:tag\": {\n          tags: [\"editing\", \"focused\"],\n          entry: \"focusEditedTagInput\",\n          activities: [\"autoResize\"],\n          on: {\n            TAG_INPUT_TYPE: {\n              actions: \"setEditedTagValue\"\n            },\n            TAG_INPUT_ESCAPE: {\n              target: \"navigating:tag\",\n              actions: [\"clearEditedTagValue\", \"focusInput\", \"clearEditedId\", \"highlightTagAtIndex\"]\n            },\n            TAG_INPUT_BLUR: [\n              {\n                guard: \"isInputRelatedTarget\",\n                target: \"navigating:tag\",\n                actions: [\"clearEditedTagValue\", \"clearHighlightedId\", \"clearEditedId\"]\n              },\n              {\n                target: \"idle\",\n                actions: [\"clearEditedTagValue\", \"clearHighlightedId\", \"clearEditedId\", \"raiseExternalBlurEvent\"]\n              }\n            ],\n            TAG_INPUT_ENTER: {\n              target: \"navigating:tag\",\n              actions: [\"submitEditedTagValue\", \"focusInput\", \"clearEditedId\", \"highlightTagAtIndex\"]\n            }\n          }\n        }\n      }\n    },\n    {\n      guards: {\n        isInputRelatedTarget: (ctx2, evt) => evt.relatedTarget === dom.getInputEl(ctx2),\n        isAtMax: (ctx2) => ctx2.isAtMax,\n        hasHighlightedTag: (ctx2) => ctx2.highlightedTagId !== null,\n        isTagHighlighted: (ctx2, evt) => ctx2.highlightedTagId === evt.id,\n        isFirstTagHighlighted: (ctx2) => dom.getFirstEl(ctx2)?.id === ctx2.highlightedTagId,\n        isLastTagHighlighted: (ctx2) => dom.getLastEl(ctx2)?.id === ctx2.highlightedTagId,\n        isInputValueEmpty: (ctx2) => ctx2.trimmedInputValue.length === 0,\n        hasTags: (ctx2) => ctx2.value.length > 0,\n        allowOverflow: (ctx2) => !!ctx2.allowOverflow,\n        autoFocus: (ctx2) => !!ctx2.autoFocus,\n        addOnBlur: (ctx2) => ctx2.blurBehavior === \"add\",\n        clearOnBlur: (ctx2) => ctx2.blurBehavior === \"clear\",\n        addOnPaste: (ctx2) => !!ctx2.addOnPaste,\n        allowEditTag: (ctx2) => !!ctx2.allowEditTag,\n        isInputCaretAtStart(ctx2) {\n          const input = dom.getInputEl(ctx2);\n          if (!input)\n            return false;\n          try {\n            return input.selectionStart === 0 && input.selectionEnd === 0;\n          } catch (e) {\n            return input.value === \"\";\n          }\n        }\n      },\n      activities: {\n        trackInteractOutside(ctx2, _evt, { send }) {\n          return (0,_zag_js_interact_outside__WEBPACK_IMPORTED_MODULE_6__.trackInteractOutside)(dom.getInputEl(ctx2), {\n            exclude(target) {\n              return (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.contains)(dom.getRootEl(ctx2), target);\n            },\n            onFocusOutside: ctx2.onFocusOutside,\n            onPointerDownOutside: ctx2.onPointerDownOutside,\n            onInteractOutside(event) {\n              ctx2.onInteractOutside?.(event);\n              if (event.defaultPrevented)\n                return;\n              send({ type: \"BLUR\", src: \"interact-outside\" });\n            }\n          });\n        },\n        trackFormControlState(ctx2, _evt, { send, initialContext }) {\n          return (0,_zag_js_form_utils__WEBPACK_IMPORTED_MODULE_2__.trackFormControl)(dom.getHiddenInputEl(ctx2), {\n            onFieldsetDisabledChange(disabled) {\n              ctx2.fieldsetDisabled = disabled;\n            },\n            onFormReset() {\n              send({ type: \"SET_VALUE\", value: initialContext.value, src: \"form-reset\" });\n            }\n          });\n        },\n        autoResize(ctx2) {\n          if (!ctx2.editedTagValue || ctx2.idx == null || !ctx2.allowEditTag)\n            return;\n          const input = dom.getTagInputEl(ctx2, { value: ctx2.editedTagValue, index: ctx2.idx });\n          return (0,_zag_js_auto_resize__WEBPACK_IMPORTED_MODULE_7__.autoResizeInput)(input);\n        },\n        trackLiveRegion(ctx2) {\n          ctx2.liveRegion = (0,_zag_js_live_region__WEBPACK_IMPORTED_MODULE_8__.createLiveRegion)({\n            level: \"assertive\",\n            document: dom.getDoc(ctx2)\n          });\n          return () => ctx2.liveRegion?.destroy();\n        }\n      },\n      actions: {\n        raiseAddTagEvent(_, __, { self }) {\n          self.send(\"ADD_TAG\");\n        },\n        raiseExternalBlurEvent(_, evt, { self }) {\n          self.send({ type: \"EXTERNAL_BLUR\", id: evt.id });\n        },\n        dispatchChangeEvent(ctx2) {\n          dom.dispatchInputEvent(ctx2);\n        },\n        highlightNextTag(ctx2) {\n          if (ctx2.highlightedTagId == null)\n            return;\n          const next = dom.getNextEl(ctx2, ctx2.highlightedTagId);\n          if (next == null)\n            return;\n          set.highlightedId(ctx2, next.id);\n        },\n        highlightFirstTag(ctx2) {\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => {\n            const first = dom.getFirstEl(ctx2);\n            if (first == null)\n              return;\n            set.highlightedId(ctx2, first.id);\n          });\n        },\n        highlightLastTag(ctx2) {\n          const last = dom.getLastEl(ctx2);\n          if (last == null)\n            return;\n          set.highlightedId(ctx2, last.id);\n        },\n        highlightPrevTag(ctx2) {\n          if (ctx2.highlightedTagId == null)\n            return;\n          const prev = dom.getPrevEl(ctx2, ctx2.highlightedTagId);\n          set.highlightedId(ctx2, prev?.id || null);\n        },\n        highlightTag(ctx2, evt) {\n          set.highlightedId(ctx2, evt.id);\n        },\n        highlightTagAtIndex(ctx2) {\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => {\n            if (ctx2.idx == null)\n              return;\n            const tagEl = dom.getTagElAtIndex(ctx2, ctx2.idx);\n            if (tagEl == null)\n              return;\n            set.highlightedId(ctx2, tagEl.id);\n            ctx2.idx = void 0;\n          });\n        },\n        deleteTag(ctx2, evt) {\n          const index = dom.getIndexOfId(ctx2, evt.id);\n          const value = ctx2.value[index];\n          ctx2.log.prev = ctx2.log.current;\n          ctx2.log.current = { type: \"delete\", value };\n          set.value(ctx2, (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_5__.removeAt)(ctx2.value, index));\n        },\n        deleteHighlightedTag(ctx2) {\n          if (ctx2.highlightedTagId == null)\n            return;\n          const index = dom.getIndexOfId(ctx2, ctx2.highlightedTagId);\n          ctx2.idx = index;\n          const value = ctx2.value[index];\n          ctx2.log.prev = ctx2.log.current;\n          ctx2.log.current = { type: \"delete\", value };\n          set.value(ctx2, (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_5__.removeAt)(ctx2.value, index));\n        },\n        setEditedId(ctx2, evt) {\n          ctx2.editedTagId = evt.id ?? ctx2.highlightedTagId;\n          ctx2.idx = dom.getIndexOfId(ctx2, ctx2.editedTagId);\n        },\n        clearEditedId(ctx2) {\n          ctx2.editedTagId = null;\n        },\n        clearEditedTagValue(ctx2) {\n          ctx2.editedTagValue = \"\";\n        },\n        setEditedTagValue(ctx2, evt) {\n          ctx2.editedTagValue = evt.value;\n        },\n        submitEditedTagValue(ctx2) {\n          if (!ctx2.editedTagId)\n            return;\n          const index = dom.getIndexOfId(ctx2, ctx2.editedTagId);\n          set.valueAtIndex(ctx2, index, ctx2.editedTagValue ?? \"\");\n          ctx2.log.prev = ctx2.log.current;\n          ctx2.log.current = { type: \"update\", value: ctx2.editedTagValue };\n        },\n        setValueAtIndex(ctx2, evt) {\n          if (evt.value) {\n            ctx2.value[evt.index] = evt.value;\n            ctx2.log.prev = ctx2.log.current;\n            ctx2.log.current = { type: \"update\", value: evt.value };\n          } else {\n            (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_5__.warn)(\"You need to provide a value for the tag\");\n          }\n        },\n        initializeEditedTagValue(ctx2) {\n          if (!ctx2.editedTagId)\n            return;\n          const index = dom.getIndexOfId(ctx2, ctx2.editedTagId);\n          ctx2.editedTagValue = ctx2.value[index];\n        },\n        focusEditedTagInput(ctx2) {\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => {\n            dom.getEditInputEl(ctx2)?.select();\n          });\n        },\n        setInputValue(ctx2, evt) {\n          ctx2.inputValue = evt.value;\n        },\n        clearHighlightedId(ctx2) {\n          ctx2.highlightedTagId = null;\n        },\n        focusInput(ctx2) {\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => {\n            dom.getInputEl(ctx2)?.focus();\n          });\n        },\n        clearInputValue(ctx2) {\n          ctx2.inputValue = \"\";\n        },\n        syncInputValue(ctx2) {\n          const inputEl = dom.getInputEl(ctx2);\n          dom.setValue(inputEl, ctx2.inputValue);\n        },\n        syncEditedTagInputValue(ctx2, evt) {\n          const id = ctx2.editedTagId || ctx2.highlightedTagId || evt.id;\n          if (id == null)\n            return;\n          const editTagInputEl = dom.getById(ctx2, `${id}:input`);\n          dom.setValue(editTagInputEl, ctx2.editedTagValue);\n        },\n        addTag(ctx2, evt) {\n          const value = evt.value ?? ctx2.trimmedInputValue;\n          const guard = ctx2.validate?.({ inputValue: value, value: Array.from(ctx2.value) });\n          if (guard) {\n            set.value(ctx2, ctx2.value.concat(value));\n            ctx2.log.prev = ctx2.log.current;\n            ctx2.log.current = { type: \"add\", value };\n          } else {\n            ctx2.onValueInvalid?.({ reason: \"invalidTag\" });\n          }\n        },\n        addTagFromPaste(ctx2) {\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => {\n            const value = ctx2.trimmedInputValue;\n            const guard = ctx2.validate?.({ inputValue: value, value: Array.from(ctx2.value) });\n            if (guard) {\n              const trimmedValue = ctx2.delimiter ? value.split(ctx2.delimiter).map((v) => v.trim()) : [value];\n              set.value(ctx2, ctx2.value.concat(...trimmedValue));\n              ctx2.log.prev = ctx2.log.current;\n              ctx2.log.current = { type: \"paste\", values: trimmedValue };\n            } else {\n              ctx2.onValueInvalid?.({ reason: \"invalidTag\" });\n            }\n            ctx2.inputValue = \"\";\n          });\n        },\n        clearTags(ctx2) {\n          set.value(ctx2, []);\n          ctx2.log.prev = ctx2.log.current;\n          ctx2.log.current = { type: \"clear\" };\n        },\n        setValue(ctx2, evt) {\n          set.value(ctx2, evt.value);\n        },\n        invokeOnInvalid(ctx2) {\n          if (ctx2.isOverflowing) {\n            ctx2.onValueInvalid?.({ reason: \"rangeOverflow\" });\n          }\n        },\n        clearLog(ctx2) {\n          ctx2.log = { prev: null, current: null };\n        },\n        logHighlightedTag(ctx2) {\n          if (ctx2.highlightedTagId == null)\n            return;\n          const index = dom.getIndexOfId(ctx2, ctx2.highlightedTagId);\n          ctx2.log.prev = ctx2.log.current;\n          ctx2.log.current = { type: \"select\", value: ctx2.value[index] };\n        },\n        // queue logs with screen reader and get it announced\n        announceLog(ctx2) {\n          if (!ctx2.log.current || ctx2.liveRegion == null)\n            return;\n          const region = ctx2.liveRegion;\n          const { current, prev } = ctx2.log;\n          let msg;\n          switch (current.type) {\n            case \"add\":\n              msg = ctx2.translations.tagAdded(current.value);\n              break;\n            case \"delete\":\n              msg = ctx2.translations.tagDeleted(current.value);\n              break;\n            case \"update\":\n              msg = ctx2.translations.tagUpdated(current.value);\n              break;\n            case \"paste\":\n              msg = ctx2.translations.tagsPasted(current.values);\n              break;\n            case \"select\":\n              msg = ctx2.translations.tagSelected(current.value);\n              if (prev?.type === \"delete\") {\n                msg = `${ctx2.translations.tagDeleted(prev.value)}. ${msg}`;\n              } else if (prev?.type === \"update\") {\n                msg = `${ctx2.translations.tagUpdated(prev.value)}. ${msg}`;\n              }\n              break;\n            default:\n              break;\n          }\n          if (msg)\n            region.announce(msg);\n        }\n      }\n    }\n  );\n}\nvar invoke = {\n  change: (ctx) => {\n    ctx.onValueChange?.({ value: Array.from(ctx.value) });\n    dom.dispatchInputEvent(ctx);\n  },\n  highlightChange: (ctx) => {\n    const highlightedValue = dom.getHighlightedTagValue(ctx);\n    ctx.onHighlightChange?.({ highlightedValue });\n  }\n};\nvar set = {\n  value: (ctx, value) => {\n    if ((0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_5__.isEqual)(ctx.value, value))\n      return;\n    ctx.value = value;\n    invoke.change(ctx);\n  },\n  valueAtIndex: (ctx, index, value) => {\n    if ((0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_5__.isEqual)(ctx.value[index], value))\n      return;\n    ctx.value[index] = value;\n    invoke.change(ctx);\n  },\n  highlightedId: (ctx, id) => {\n    if ((0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_5__.isEqual)(ctx.highlightedTagId, id))\n      return;\n    ctx.highlightedTagId = id;\n    invoke.highlightChange(ctx);\n  }\n};\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy90YWdzLWlucHV0L2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ2dEO0FBQ2hELGNBQWMsOERBQWE7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNnRTtBQUNUOztBQUV2RDtBQUN5RjtBQUM1QjtBQUM3RCxVQUFVLDhEQUFXO0FBQ3JCLHFEQUFxRCxPQUFPO0FBQzVELHVEQUF1RCxPQUFPO0FBQzlELGlFQUFpRSxPQUFPO0FBQ3hFLDJDQUEyQyxPQUFPO0FBQ2xELHVEQUF1RCxPQUFPO0FBQzlELDJEQUEyRCxPQUFPO0FBQ2xFLGlFQUFpRSxPQUFPLE9BQU8sVUFBVSxHQUFHLFVBQVU7QUFDdEcsZ0ZBQWdGLHdCQUF3QjtBQUN4RyxnRUFBZ0Usd0JBQXdCO0FBQ3hGLDhCQUE4QixnQkFBZ0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiwyREFBUTtBQUNuQztBQUNBO0FBQ0EsMEJBQTBCLDJEQUFRO0FBQ2xDLDBCQUEwQiwyREFBUTtBQUNsQztBQUNBLDZCQUE2Qiw0REFBUztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSwyRUFBdUIsWUFBWSwwQkFBMEI7QUFDakU7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsMEJBQTBCO0FBQ3ZDLEtB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QUNaO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2YsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7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QkFBK0I7QUFDL0IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsZ0JBQWdCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIseUNBQXlDLElBQUksSUFBSTtBQUMxRSxnQkFBZ0I7QUFDaEIseUJBQXlCLHlDQUF5QyxJQUFJLElBQUk7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiw4QkFBOEI7QUFDeEQ7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLDhCQUE4QixrQkFBa0I7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFPO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsUUFBUSxzREFBTztBQUNmO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLFFBQVEsc0RBQU87QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0U7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL0BwYXJrLXVpL2V4YW1wbGVzLXJlYWN0LW5leHQtanMvLi9ub2RlX21vZHVsZXMvQHphZy1qcy90YWdzLWlucHV0L2Rpc3QvaW5kZXgubWpzPzI3ODciXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL3RhZ3MtaW5wdXQuYW5hdG9teS50c1xuaW1wb3J0IHsgY3JlYXRlQW5hdG9teSB9IGZyb20gXCJAemFnLWpzL2FuYXRvbXlcIjtcbnZhciBhbmF0b215ID0gY3JlYXRlQW5hdG9teShcInRhZ3NJbnB1dFwiKS5wYXJ0cyhcbiAgXCJyb290XCIsXG4gIFwibGFiZWxcIixcbiAgXCJjb250cm9sXCIsXG4gIFwiaW5wdXRcIixcbiAgXCJjbGVhclRyaWdnZXJcIixcbiAgXCJpdGVtXCIsXG4gIFwiaXRlbUlucHV0XCIsXG4gIFwiaXRlbVRleHRcIixcbiAgXCJpdGVtRGVsZXRlVHJpZ2dlclwiXG4pO1xudmFyIHBhcnRzID0gYW5hdG9teS5idWlsZCgpO1xuXG4vLyBzcmMvdGFncy1pbnB1dC5jb25uZWN0LnRzXG5pbXBvcnQgeyBnZXRFdmVudEtleSwgZ2V0TmF0aXZlRXZlbnQgfSBmcm9tIFwiQHphZy1qcy9kb20tZXZlbnRcIjtcbmltcG9ydCB7IGFyaWFBdHRyLCBkYXRhQXR0ciB9IGZyb20gXCJAemFnLWpzL2RvbS1xdWVyeVwiO1xuXG4vLyBzcmMvdGFncy1pbnB1dC5kb20udHNcbmltcG9ydCB7IGNyZWF0ZVNjb3BlLCBpbmRleE9mSWQsIG5leHRCeUlkLCBwcmV2QnlJZCwgcXVlcnlBbGwgfSBmcm9tIFwiQHphZy1qcy9kb20tcXVlcnlcIjtcbmltcG9ydCB7IGRpc3BhdGNoSW5wdXRWYWx1ZUV2ZW50IH0gZnJvbSBcIkB6YWctanMvZm9ybS11dGlsc1wiO1xudmFyIGRvbSA9IGNyZWF0ZVNjb3BlKHtcbiAgZ2V0Um9vdElkOiAoY3R4KSA9PiBjdHguaWRzPy5yb290ID8/IGB0YWdzLWlucHV0OiR7Y3R4LmlkfWAsXG4gIGdldElucHV0SWQ6IChjdHgpID0+IGN0eC5pZHM/LmlucHV0ID8/IGB0YWdzLWlucHV0OiR7Y3R4LmlkfTppbnB1dGAsXG4gIGdldENsZWFyVHJpZ2dlcklkOiAoY3R4KSA9PiBjdHguaWRzPy5jbGVhckJ0biA/PyBgdGFncy1pbnB1dDoke2N0eC5pZH06Y2xlYXItYnRuYCxcbiAgZ2V0SGlkZGVuSW5wdXRJZDogKGN0eCkgPT4gYHRhZ3MtaW5wdXQ6JHtjdHguaWR9OmhpZGRlbi1pbnB1dGAsXG4gIGdldExhYmVsSWQ6IChjdHgpID0+IGN0eC5pZHM/LmxhYmVsID8/IGB0YWdzLWlucHV0OiR7Y3R4LmlkfTpsYWJlbGAsXG4gIGdldENvbnRyb2xJZDogKGN0eCkgPT4gY3R4Lmlkcz8uY29udHJvbCA/PyBgdGFncy1pbnB1dDoke2N0eC5pZH06Y29udHJvbGAsXG4gIGdldEl0ZW1JZDogKGN0eCwgb3B0KSA9PiBjdHguaWRzPy5pdGVtPy4ob3B0KSA/PyBgdGFncy1pbnB1dDoke2N0eC5pZH06dGFnOiR7b3B0LnZhbHVlfToke29wdC5pbmRleH1gLFxuICBnZXRJdGVtRGVsZXRlVHJpZ2dlcklkOiAoY3R4LCBvcHQpID0+IGN0eC5pZHM/Lml0ZW1EZWxldGVUcmlnZ2VyPy4ob3B0KSA/PyBgJHtkb20uZ2V0SXRlbUlkKGN0eCwgb3B0KX06ZGVsZXRlLWJ0bmAsXG4gIGdldEl0ZW1JbnB1dElkOiAoY3R4LCBvcHQpID0+IGN0eC5pZHM/Lml0ZW1JbnB1dD8uKG9wdCkgPz8gYCR7ZG9tLmdldEl0ZW1JZChjdHgsIG9wdCl9OmlucHV0YCxcbiAgZ2V0RWRpdElucHV0SWQ6IChjdHgpID0+IGAke2N0eC5lZGl0ZWRUYWdJZH06aW5wdXRgLFxuICBnZXRUYWdJbnB1dEVsOiAoY3R4LCBvcHQpID0+IGRvbS5nZXRCeUlkKGN0eCwgZG9tLmdldEl0ZW1JbnB1dElkKGN0eCwgb3B0KSksXG4gIGdldFJvb3RFbDogKGN0eCkgPT4gZG9tLmdldEJ5SWQoY3R4LCBkb20uZ2V0Um9vdElkKGN0eCkpLFxuICBnZXRJbnB1dEVsOiAoY3R4KSA9PiBkb20uZ2V0QnlJZChjdHgsIGRvbS5nZXRJbnB1dElkKGN0eCkpLFxuICBnZXRIaWRkZW5JbnB1dEVsOiAoY3R4KSA9PiBkb20uZ2V0QnlJZChjdHgsIGRvbS5nZXRIaWRkZW5JbnB1dElkKGN0eCkpLFxuICBnZXRFZGl0SW5wdXRFbDogKGN0eCkgPT4gZG9tLmdldEJ5SWQoY3R4LCBkb20uZ2V0RWRpdElucHV0SWQoY3R4KSksXG4gIGdldFRhZ0VsZW1lbnRzOiAoY3R4KSA9PiBxdWVyeUFsbChkb20uZ2V0Um9vdEVsKGN0eCksIGBbZGF0YS1wYXJ0PWl0ZW1dOm5vdChbZGF0YS1kaXNhYmxlZF0pYCksXG4gIGdldEZpcnN0RWw6IChjdHgpID0+IGRvbS5nZXRUYWdFbGVtZW50cyhjdHgpWzBdLFxuICBnZXRMYXN0RWw6IChjdHgpID0+IGRvbS5nZXRUYWdFbGVtZW50cyhjdHgpW2RvbS5nZXRUYWdFbGVtZW50cyhjdHgpLmxlbmd0aCAtIDFdLFxuICBnZXRQcmV2RWw6IChjdHgsIGlkKSA9PiBwcmV2QnlJZChkb20uZ2V0VGFnRWxlbWVudHMoY3R4KSwgaWQsIGZhbHNlKSxcbiAgZ2V0TmV4dEVsOiAoY3R4LCBpZCkgPT4gbmV4dEJ5SWQoZG9tLmdldFRhZ0VsZW1lbnRzKGN0eCksIGlkLCBmYWxzZSksXG4gIGdldFRhZ0VsQXRJbmRleDogKGN0eCwgaW5kZXgpID0+IGRvbS5nZXRUYWdFbGVtZW50cyhjdHgpW2luZGV4XSxcbiAgZ2V0SW5kZXhPZklkOiAoY3R4LCBpZCkgPT4gaW5kZXhPZklkKGRvbS5nZXRUYWdFbGVtZW50cyhjdHgpLCBpZCksXG4gIGlzSW5wdXRGb2N1c2VkOiAoY3R4KSA9PiBkb20uZ2V0RG9jKGN0eCkuYWN0aXZlRWxlbWVudCA9PT0gZG9tLmdldElucHV0RWwoY3R4KSxcbiAgZ2V0SGlnaGxpZ2h0ZWRUYWdWYWx1ZTogKGN0eCkgPT4ge1xuICAgIGlmICghY3R4LmhpZ2hsaWdodGVkVGFnSWQpXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICBjb25zdCB0YWdFbCA9IGRvbS5nZXRCeUlkKGN0eCwgY3R4LmhpZ2hsaWdodGVkVGFnSWQpO1xuICAgIHJldHVybiB0YWdFbD8uZGF0YXNldC52YWx1ZSA/PyBudWxsO1xuICB9LFxuICBzZXRIb3ZlckludGVudDogKGVsKSA9PiB7XG4gICAgY29uc3QgdGFnRWwgPSBlbC5jbG9zZXN0KFwiW2RhdGEtcGFydD1pdGVtXVwiKTtcbiAgICBpZiAoIXRhZ0VsKVxuICAgICAgcmV0dXJuO1xuICAgIHRhZ0VsLmRhdGFzZXQuZGVsZXRlSW50ZW50ID0gXCJcIjtcbiAgfSxcbiAgY2xlYXJIb3ZlckludGVudDogKGVsKSA9PiB7XG4gICAgY29uc3QgdGFnRWwgPSBlbC5jbG9zZXN0KFwiW2RhdGEtcGFydD1pdGVtXVwiKTtcbiAgICBpZiAoIXRhZ0VsKVxuICAgICAgcmV0dXJuO1xuICAgIGRlbGV0ZSB0YWdFbC5kYXRhc2V0LmRlbGV0ZUludGVudDtcbiAgfSxcbiAgZGlzcGF0Y2hJbnB1dEV2ZW50KGN0eCkge1xuICAgIGNvbnN0IGlucHV0RWwgPSBkb20uZ2V0SGlkZGVuSW5wdXRFbChjdHgpO1xuICAgIGlmICghaW5wdXRFbClcbiAgICAgIHJldHVybjtcbiAgICBkaXNwYXRjaElucHV0VmFsdWVFdmVudChpbnB1dEVsLCB7IHZhbHVlOiBjdHgudmFsdWVBc1N0cmluZyB9KTtcbiAgfVxufSk7XG5cbi8vIHNyYy90YWdzLWlucHV0LmNvbm5lY3QudHNcbmZ1bmN0aW9uIGNvbm5lY3Qoc3RhdGUsIHNlbmQsIG5vcm1hbGl6ZSkge1xuICBjb25zdCBpc0ludGVyYWN0aXZlID0gc3RhdGUuY29udGV4dC5pc0ludGVyYWN0aXZlO1xuICBjb25zdCBpc0Rpc2FibGVkID0gc3RhdGUuY29udGV4dC5pc0Rpc2FibGVkO1xuICBjb25zdCBpc1JlYWRPbmx5ID0gc3RhdGUuY29udGV4dC5yZWFkT25seTtcbiAgY29uc3QgaXNJbnZhbGlkID0gc3RhdGUuY29udGV4dC5pbnZhbGlkIHx8IHN0YXRlLmNvbnRleHQuaXNPdmVyZmxvd2luZztcbiAgY29uc3QgdHJhbnNsYXRpb25zID0gc3RhdGUuY29udGV4dC50cmFuc2xhdGlvbnM7XG4gIGNvbnN0IGlzSW5wdXRGb2N1c2VkID0gc3RhdGUuaGFzVGFnKFwiZm9jdXNlZFwiKTtcbiAgY29uc3QgaXNFZGl0aW5nVGFnID0gc3RhdGUubWF0Y2hlcyhcImVkaXRpbmc6dGFnXCIpO1xuICBjb25zdCBpc0VtcHR5ID0gc3RhdGUuY29udGV4dC5jb3VudCA9PT0gMDtcbiAgZnVuY3Rpb24gZ2V0SXRlbVN0YXRlKG9wdGlvbnMpIHtcbiAgICBjb25zdCBpZCA9IGRvbS5nZXRJdGVtSWQoc3RhdGUuY29udGV4dCwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkLFxuICAgICAgaXNFZGl0aW5nOiBpc0VkaXRpbmdUYWcgJiYgc3RhdGUuY29udGV4dC5lZGl0ZWRUYWdJZCA9PT0gaWQsXG4gICAgICBpc0hpZ2hsaWdodGVkOiBpZCA9PT0gc3RhdGUuY29udGV4dC5oaWdobGlnaHRlZFRhZ0lkLFxuICAgICAgaXNEaXNhYmxlZDogb3B0aW9ucy5kaXNhYmxlZCB8fCBpc0Rpc2FibGVkXG4gICAgfTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGlzRW1wdHksXG4gICAgaW5wdXRWYWx1ZTogc3RhdGUuY29udGV4dC50cmltbWVkSW5wdXRWYWx1ZSxcbiAgICB2YWx1ZTogc3RhdGUuY29udGV4dC52YWx1ZSxcbiAgICB2YWx1ZUFzU3RyaW5nOiBzdGF0ZS5jb250ZXh0LnZhbHVlQXNTdHJpbmcsXG4gICAgY291bnQ6IHN0YXRlLmNvbnRleHQuY291bnQsXG4gICAgaXNBdE1heDogc3RhdGUuY29udGV4dC5pc0F0TWF4LFxuICAgIHNldFZhbHVlKHZhbHVlKSB7XG4gICAgICBzZW5kKHsgdHlwZTogXCJTRVRfVkFMVUVcIiwgdmFsdWUgfSk7XG4gICAgfSxcbiAgICBjbGVhclZhbHVlKGlkKSB7XG4gICAgICBpZiAoaWQpIHtcbiAgICAgICAgc2VuZCh7IHR5cGU6IFwiQ0xFQVJfVEFHXCIsIGlkIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VuZChcIkNMRUFSX1ZBTFVFXCIpO1xuICAgICAgfVxuICAgIH0sXG4gICAgYWRkVmFsdWUodmFsdWUpIHtcbiAgICAgIHNlbmQoeyB0eXBlOiBcIkFERF9UQUdcIiwgdmFsdWUgfSk7XG4gICAgfSxcbiAgICBzZXRWYWx1ZUF0SW5kZXgoaW5kZXgsIHZhbHVlKSB7XG4gICAgICBzZW5kKHsgdHlwZTogXCJTRVRfVkFMVUVfQVRfSU5ERVhcIiwgaW5kZXgsIHZhbHVlIH0pO1xuICAgIH0sXG4gICAgc2V0SW5wdXRWYWx1ZSh2YWx1ZSkge1xuICAgICAgc2VuZCh7IHR5cGU6IFwiU0VUX0lOUFVUX1ZBTFVFXCIsIHZhbHVlIH0pO1xuICAgIH0sXG4gICAgY2xlYXJJbnB1dFZhbHVlKCkge1xuICAgICAgc2VuZCh7IHR5cGU6IFwiU0VUX0lOUFVUX1ZBTFVFXCIsIHZhbHVlOiBcIlwiIH0pO1xuICAgIH0sXG4gICAgZm9jdXMoKSB7XG4gICAgICBkb20uZ2V0SW5wdXRFbChzdGF0ZS5jb250ZXh0KT8uZm9jdXMoKTtcbiAgICB9LFxuICAgIGdldEl0ZW1TdGF0ZSxcbiAgICByb290UHJvcHM6IG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICAuLi5wYXJ0cy5yb290LmF0dHJzLFxuICAgICAgXCJkYXRhLWludmFsaWRcIjogZGF0YUF0dHIoaXNJbnZhbGlkKSxcbiAgICAgIFwiZGF0YS1yZWFkb25seVwiOiBkYXRhQXR0cihpc1JlYWRPbmx5KSxcbiAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihpc0Rpc2FibGVkKSxcbiAgICAgIFwiZGF0YS1mb2N1c1wiOiBkYXRhQXR0cihpc0lucHV0Rm9jdXNlZCksXG4gICAgICBcImRhdGEtZW1wdHlcIjogZGF0YUF0dHIoaXNFbXB0eSksXG4gICAgICBpZDogZG9tLmdldFJvb3RJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIG9uUG9pbnRlckRvd24oKSB7XG4gICAgICAgIGlmICghaXNJbnRlcmFjdGl2ZSlcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIHNlbmQoXCJQT0lOVEVSX0RPV05cIik7XG4gICAgICB9XG4gICAgfSksXG4gICAgbGFiZWxQcm9wczogbm9ybWFsaXplLmxhYmVsKHtcbiAgICAgIC4uLnBhcnRzLmxhYmVsLmF0dHJzLFxuICAgICAgXCJkYXRhLWRpc2FibGVkXCI6IGRhdGFBdHRyKGlzRGlzYWJsZWQpLFxuICAgICAgXCJkYXRhLWludmFsaWRcIjogZGF0YUF0dHIoaXNJbnZhbGlkKSxcbiAgICAgIFwiZGF0YS1yZWFkb25seVwiOiBkYXRhQXR0cihpc1JlYWRPbmx5KSxcbiAgICAgIGlkOiBkb20uZ2V0TGFiZWxJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICBodG1sRm9yOiBkb20uZ2V0SW5wdXRJZChzdGF0ZS5jb250ZXh0KVxuICAgIH0pLFxuICAgIGNvbnRyb2xQcm9wczogbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgaWQ6IGRvbS5nZXRDb250cm9sSWQoc3RhdGUuY29udGV4dCksXG4gICAgICAuLi5wYXJ0cy5jb250cm9sLmF0dHJzLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIHRhYkluZGV4OiBpc1JlYWRPbmx5ID8gMCA6IHZvaWQgMCxcbiAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihpc0Rpc2FibGVkKSxcbiAgICAgIFwiZGF0YS1yZWFkb25seVwiOiBkYXRhQXR0cihpc1JlYWRPbmx5KSxcbiAgICAgIFwiZGF0YS1pbnZhbGlkXCI6IGRhdGFBdHRyKGlzSW52YWxpZCksXG4gICAgICBcImRhdGEtZm9jdXNcIjogZGF0YUF0dHIoaXNJbnB1dEZvY3VzZWQpXG4gICAgfSksXG4gICAgaW5wdXRQcm9wczogbm9ybWFsaXplLmlucHV0KHtcbiAgICAgIC4uLnBhcnRzLmlucHV0LmF0dHJzLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIFwiZGF0YS1pbnZhbGlkXCI6IGRhdGFBdHRyKGlzSW52YWxpZCksXG4gICAgICBcImFyaWEtaW52YWxpZFwiOiBhcmlhQXR0cihpc0ludmFsaWQpLFxuICAgICAgXCJkYXRhLXJlYWRvbmx5XCI6IGRhdGFBdHRyKGlzUmVhZE9ubHkpLFxuICAgICAgbWF4TGVuZ3RoOiBzdGF0ZS5jb250ZXh0Lm1heExlbmd0aCxcbiAgICAgIGlkOiBkb20uZ2V0SW5wdXRJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIGRlZmF1bHRWYWx1ZTogc3RhdGUuY29udGV4dC5pbnB1dFZhbHVlLFxuICAgICAgYXV0b0NvbXBsZXRlOiBcIm9mZlwiLFxuICAgICAgYXV0b0NvcnJlY3Q6IFwib2ZmXCIsXG4gICAgICBhdXRvQ2FwaXRhbGl6ZTogXCJub25lXCIsXG4gICAgICBkaXNhYmxlZDogaXNEaXNhYmxlZCB8fCBpc1JlYWRPbmx5LFxuICAgICAgb25DaGFuZ2UoZXZlbnQpIHtcbiAgICAgICAgY29uc3QgZXZ0ID0gZ2V0TmF0aXZlRXZlbnQoZXZlbnQpO1xuICAgICAgICBpZiAoZXZ0LmlucHV0VHlwZSA9PT0gXCJpbnNlcnRGcm9tUGFzdGVcIilcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCB2YWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlLmVuZHNXaXRoKHN0YXRlLmNvbnRleHQuZGVsaW1pdGVyKSkge1xuICAgICAgICAgIHNlbmQoXCJERUxJTUlURVJfS0VZXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIlRZUEVcIiwgdmFsdWUsIGtleTogZXZ0LmlucHV0VHlwZSB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uRm9jdXMoKSB7XG4gICAgICAgIHNlbmQoXCJGT0NVU1wiKTtcbiAgICAgIH0sXG4gICAgICBvblBhc3RlKGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gZXZlbnQuY2xpcGJvYXJkRGF0YS5nZXREYXRhKFwidGV4dC9wbGFpblwiKTtcbiAgICAgICAgc2VuZCh7IHR5cGU6IFwiUEFTVEVcIiwgdmFsdWUgfSk7XG4gICAgICB9LFxuICAgICAgb25LZXlEb3duKGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IGV2dCA9IGdldE5hdGl2ZUV2ZW50KGV2ZW50KTtcbiAgICAgICAgaWYgKGV2dC5pc0NvbXBvc2luZylcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7XG4gICAgICAgIGNvbnN0IGlzQ29tYm9ib3ggPSB0YXJnZXQuZ2V0QXR0cmlidXRlKFwicm9sZVwiKSA9PT0gXCJjb21ib2JveFwiO1xuICAgICAgICBjb25zdCBpc0V4cGFuZGVkID0gdGFyZ2V0LmFyaWFFeHBhbmRlZCA9PT0gXCJ0cnVlXCI7XG4gICAgICAgIGNvbnN0IGtleU1hcCA9IHtcbiAgICAgICAgICBBcnJvd0Rvd24oKSB7XG4gICAgICAgICAgICBzZW5kKFwiQVJST1dfRE9XTlwiKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIEFycm93TGVmdCgpIHtcbiAgICAgICAgICAgIGlmIChpc0NvbWJvYm94ICYmIGlzRXhwYW5kZWQpXG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHNlbmQoXCJBUlJPV19MRUZUXCIpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgQXJyb3dSaWdodCgpIHtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5jb250ZXh0LmhpZ2hsaWdodGVkVGFnSWQpIHtcbiAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc0NvbWJvYm94ICYmIGlzRXhwYW5kZWQpXG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHNlbmQoXCJBUlJPV19SSUdIVFwiKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIEVzY2FwZShldmVudDIpIHtcbiAgICAgICAgICAgIGV2ZW50Mi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgc2VuZChcIkVTQ0FQRVwiKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIEJhY2tzcGFjZSgpIHtcbiAgICAgICAgICAgIHNlbmQoXCJCQUNLU1BBQ0VcIik7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBEZWxldGUoKSB7XG4gICAgICAgICAgICBzZW5kKFwiREVMRVRFXCIpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgRW50ZXIoZXZlbnQyKSB7XG4gICAgICAgICAgICBldmVudDIucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHNlbmQoXCJFTlRFUlwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGtleSA9IGdldEV2ZW50S2V5KGV2ZW50LCBzdGF0ZS5jb250ZXh0KTtcbiAgICAgICAgY29uc3QgZXhlYyA9IGtleU1hcFtrZXldO1xuICAgICAgICBpZiAoZXhlYykge1xuICAgICAgICAgIGV4ZWMoZXZlbnQpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pLFxuICAgIGhpZGRlbklucHV0UHJvcHM6IG5vcm1hbGl6ZS5pbnB1dCh7XG4gICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgIGhpZGRlbjogdHJ1ZSxcbiAgICAgIG5hbWU6IHN0YXRlLmNvbnRleHQubmFtZSxcbiAgICAgIGZvcm06IHN0YXRlLmNvbnRleHQuZm9ybSxcbiAgICAgIGlkOiBkb20uZ2V0SGlkZGVuSW5wdXRJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIGRlZmF1bHRWYWx1ZTogc3RhdGUuY29udGV4dC52YWx1ZUFzU3RyaW5nXG4gICAgfSksXG4gICAgZ2V0SXRlbVByb3BzKHByb3BzKSB7XG4gICAgICBjb25zdCBpdGVtU3RhdGUgPSBnZXRJdGVtU3RhdGUocHJvcHMpO1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgICAgLi4ucGFydHMuaXRlbS5hdHRycyxcbiAgICAgICAgaWQ6IGl0ZW1TdGF0ZS5pZCxcbiAgICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgICAgaGlkZGVuOiBpdGVtU3RhdGUuaXNFZGl0aW5nLFxuICAgICAgICBcImRhdGEtdmFsdWVcIjogcHJvcHMudmFsdWUsXG4gICAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihpc0Rpc2FibGVkKSxcbiAgICAgICAgXCJkYXRhLWhpZ2hsaWdodGVkXCI6IGRhdGFBdHRyKGl0ZW1TdGF0ZS5pc0hpZ2hsaWdodGVkKSxcbiAgICAgICAgb25Qb2ludGVyRG93bihldmVudCkge1xuICAgICAgICAgIGlmICghaXNJbnRlcmFjdGl2ZSB8fCBpdGVtU3RhdGUuaXNEaXNhYmxlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIlBPSU5URVJfRE9XTl9UQUdcIiwgaWQ6IGl0ZW1TdGF0ZS5pZCB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Eb3VibGVDbGljaygpIHtcbiAgICAgICAgICBpZiAoIWlzSW50ZXJhY3RpdmUgfHwgaXRlbVN0YXRlLmlzRGlzYWJsZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgc2VuZCh7IHR5cGU6IFwiRE9VQkxFX0NMSUNLX1RBR1wiLCBpZDogaXRlbVN0YXRlLmlkIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdldEl0ZW1UZXh0UHJvcHMocHJvcHMpIHtcbiAgICAgIGNvbnN0IGl0ZW1TdGF0ZSA9IGdldEl0ZW1TdGF0ZShwcm9wcyk7XG4gICAgICByZXR1cm4gbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgICAuLi5wYXJ0cy5pdGVtVGV4dC5hdHRycyxcbiAgICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgICAgXCJkYXRhLWRpc2FibGVkXCI6IGRhdGFBdHRyKGlzRGlzYWJsZWQpLFxuICAgICAgICBcImRhdGEtaGlnaGxpZ2h0ZWRcIjogZGF0YUF0dHIoaXRlbVN0YXRlLmlzSGlnaGxpZ2h0ZWQpXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdldEl0ZW1JbnB1dFByb3BzKHByb3BzKSB7XG4gICAgICBjb25zdCBpdGVtU3RhdGUgPSBnZXRJdGVtU3RhdGUocHJvcHMpO1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZS5pbnB1dCh7XG4gICAgICAgIC4uLnBhcnRzLml0ZW1JbnB1dC5hdHRycyxcbiAgICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgICAgXCJhcmlhLWxhYmVsXCI6IHRyYW5zbGF0aW9ucy50YWdFZGl0ZWQocHJvcHMudmFsdWUpLFxuICAgICAgICBcImFyaWEtaGlkZGVuXCI6IHRydWUsXG4gICAgICAgIGRpc2FibGVkOiBpc0Rpc2FibGVkLFxuICAgICAgICBpZDogZG9tLmdldEl0ZW1JbnB1dElkKHN0YXRlLmNvbnRleHQsIHByb3BzKSxcbiAgICAgICAgdGFiSW5kZXg6IC0xLFxuICAgICAgICBoaWRkZW46ICFpdGVtU3RhdGUuaXNFZGl0aW5nLFxuICAgICAgICBkZWZhdWx0VmFsdWU6IGl0ZW1TdGF0ZS5pc0VkaXRpbmcgPyBzdGF0ZS5jb250ZXh0LmVkaXRlZFRhZ1ZhbHVlIDogXCJcIixcbiAgICAgICAgb25DaGFuZ2UoZXZlbnQpIHtcbiAgICAgICAgICBzZW5kKHsgdHlwZTogXCJUQUdfSU5QVVRfVFlQRVwiLCB2YWx1ZTogZXZlbnQudGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgICB9LFxuICAgICAgICBvbkJsdXIoZXZlbnQpIHtcbiAgICAgICAgICBzZW5kKHsgdHlwZTogXCJUQUdfSU5QVVRfQkxVUlwiLCB0YXJnZXQ6IGV2ZW50LnJlbGF0ZWRUYXJnZXQsIGlkOiBpdGVtU3RhdGUuaWQgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uS2V5RG93bihldmVudCkge1xuICAgICAgICAgIGNvbnN0IGtleU1hcCA9IHtcbiAgICAgICAgICAgIEVudGVyKCkge1xuICAgICAgICAgICAgICBzZW5kKFwiVEFHX0lOUFVUX0VOVEVSXCIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIEVzY2FwZSgpIHtcbiAgICAgICAgICAgICAgc2VuZChcIlRBR19JTlBVVF9FU0NBUEVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICBjb25zdCBleGVjID0ga2V5TWFwW2V2ZW50LmtleV07XG4gICAgICAgICAgaWYgKGV4ZWMpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBleGVjKGV2ZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0SXRlbURlbGV0ZVRyaWdnZXJQcm9wcyhwcm9wcykge1xuICAgICAgY29uc3QgaWQgPSBkb20uZ2V0SXRlbUlkKHN0YXRlLmNvbnRleHQsIHByb3BzKTtcbiAgICAgIHJldHVybiBub3JtYWxpemUuYnV0dG9uKHtcbiAgICAgICAgLi4ucGFydHMuaXRlbURlbGV0ZVRyaWdnZXIuYXR0cnMsXG4gICAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICAgIGlkOiBkb20uZ2V0SXRlbURlbGV0ZVRyaWdnZXJJZChzdGF0ZS5jb250ZXh0LCBwcm9wcyksXG4gICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgIGRpc2FibGVkOiBpc0Rpc2FibGVkLFxuICAgICAgICBcImFyaWEtbGFiZWxcIjogdHJhbnNsYXRpb25zLmRlbGV0ZVRhZ1RyaWdnZXJMYWJlbChwcm9wcy52YWx1ZSksXG4gICAgICAgIHRhYkluZGV4OiAtMSxcbiAgICAgICAgb25Qb2ludGVyRG93bihldmVudCkge1xuICAgICAgICAgIGlmICghaXNJbnRlcmFjdGl2ZSkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uUG9pbnRlck1vdmUoZXZlbnQpIHtcbiAgICAgICAgICBpZiAoIWlzSW50ZXJhY3RpdmUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgZG9tLnNldEhvdmVySW50ZW50KGV2ZW50LmN1cnJlbnRUYXJnZXQpO1xuICAgICAgICB9LFxuICAgICAgICBvblBvaW50ZXJMZWF2ZShldmVudCkge1xuICAgICAgICAgIGlmICghaXNJbnRlcmFjdGl2ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBkb20uY2xlYXJIb3ZlckludGVudChldmVudC5jdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgfSxcbiAgICAgICAgb25DbGljaygpIHtcbiAgICAgICAgICBpZiAoIWlzSW50ZXJhY3RpdmUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgc2VuZCh7IHR5cGU6IFwiQ0xFQVJfVEFHXCIsIGlkIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGNsZWFyVHJpZ2dlclByb3BzOiBub3JtYWxpemUuYnV0dG9uKHtcbiAgICAgIC4uLnBhcnRzLmNsZWFyVHJpZ2dlci5hdHRycyxcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICBpZDogZG9tLmdldENsZWFyVHJpZ2dlcklkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgIFwiZGF0YS1yZWFkb25seVwiOiBkYXRhQXR0cihpc1JlYWRPbmx5KSxcbiAgICAgIGRpc2FibGVkOiBpc0Rpc2FibGVkLFxuICAgICAgXCJhcmlhLWxhYmVsXCI6IHRyYW5zbGF0aW9ucy5jbGVhclRyaWdnZXJMYWJlbCxcbiAgICAgIGhpZGRlbjogaXNFbXB0eSxcbiAgICAgIG9uQ2xpY2soKSB7XG4gICAgICAgIGlmICghaXNJbnRlcmFjdGl2ZSlcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIHNlbmQoXCJDTEVBUl9WQUxVRVwiKTtcbiAgICAgIH1cbiAgICB9KVxuICB9O1xufVxuXG4vLyBzcmMvdGFncy1pbnB1dC5tYWNoaW5lLnRzXG5pbXBvcnQgeyBhdXRvUmVzaXplSW5wdXQgfSBmcm9tIFwiQHphZy1qcy9hdXRvLXJlc2l6ZVwiO1xuaW1wb3J0IHsgY3JlYXRlTWFjaGluZSwgZ3VhcmRzIH0gZnJvbSBcIkB6YWctanMvY29yZVwiO1xuaW1wb3J0IHsgY29udGFpbnMsIHJhZiB9IGZyb20gXCJAemFnLWpzL2RvbS1xdWVyeVwiO1xuaW1wb3J0IHsgdHJhY2tGb3JtQ29udHJvbCB9IGZyb20gXCJAemFnLWpzL2Zvcm0tdXRpbHNcIjtcbmltcG9ydCB7IHRyYWNrSW50ZXJhY3RPdXRzaWRlIH0gZnJvbSBcIkB6YWctanMvaW50ZXJhY3Qtb3V0c2lkZVwiO1xuaW1wb3J0IHsgY3JlYXRlTGl2ZVJlZ2lvbiB9IGZyb20gXCJAemFnLWpzL2xpdmUtcmVnaW9uXCI7XG5pbXBvcnQgeyBjb21wYWN0LCBpc0VxdWFsLCByZW1vdmVBdCwgd2FybiB9IGZyb20gXCJAemFnLWpzL3V0aWxzXCI7XG52YXIgeyBhbmQsIG5vdCwgb3IgfSA9IGd1YXJkcztcbmZ1bmN0aW9uIG1hY2hpbmUodXNlckNvbnRleHQpIHtcbiAgY29uc3QgY3R4ID0gY29tcGFjdCh1c2VyQ29udGV4dCk7XG4gIHJldHVybiBjcmVhdGVNYWNoaW5lKFxuICAgIHtcbiAgICAgIGlkOiBcInRhZ3MtaW5wdXRcIixcbiAgICAgIGluaXRpYWw6IGN0eC5hdXRvRm9jdXMgPyBcImZvY3VzZWQ6aW5wdXRcIiA6IFwiaWRsZVwiLFxuICAgICAgY29udGV4dDoge1xuICAgICAgICBsb2c6IHsgY3VycmVudDogbnVsbCwgcHJldjogbnVsbCB9LFxuICAgICAgICBpbnB1dFZhbHVlOiBcIlwiLFxuICAgICAgICBlZGl0ZWRUYWdWYWx1ZTogXCJcIixcbiAgICAgICAgZWRpdGVkVGFnSWQ6IG51bGwsXG4gICAgICAgIGhpZ2hsaWdodGVkVGFnSWQ6IG51bGwsXG4gICAgICAgIHZhbHVlOiBbXSxcbiAgICAgICAgZGlyOiBcImx0clwiLFxuICAgICAgICBtYXg6IEluZmluaXR5LFxuICAgICAgICBsaXZlUmVnaW9uOiBudWxsLFxuICAgICAgICBibHVyQmVoYXZpb3I6IHZvaWQgMCxcbiAgICAgICAgYWRkT25QYXN0ZTogZmFsc2UsXG4gICAgICAgIGFsbG93RWRpdFRhZzogdHJ1ZSxcbiAgICAgICAgdmFsaWRhdGU6ICgpID0+IHRydWUsXG4gICAgICAgIGRlbGltaXRlcjogXCIsXCIsXG4gICAgICAgIGRpc2FibGVkOiBmYWxzZSxcbiAgICAgICAgLi4uY3R4LFxuICAgICAgICBmaWVsZHNldERpc2FibGVkOiBmYWxzZSxcbiAgICAgICAgdHJhbnNsYXRpb25zOiB7XG4gICAgICAgICAgY2xlYXJUcmlnZ2VyTGFiZWw6IFwiQ2xlYXIgYWxsIHRhZ3NcIixcbiAgICAgICAgICBkZWxldGVUYWdUcmlnZ2VyTGFiZWw6ICh2YWx1ZSkgPT4gYERlbGV0ZSB0YWcgJHt2YWx1ZX1gLFxuICAgICAgICAgIHRhZ0FkZGVkOiAodmFsdWUpID0+IGBBZGRlZCB0YWcgJHt2YWx1ZX1gLFxuICAgICAgICAgIHRhZ3NQYXN0ZWQ6ICh2YWx1ZXMpID0+IGBQYXN0ZWQgJHt2YWx1ZXMubGVuZ3RofSB0YWdzYCxcbiAgICAgICAgICB0YWdFZGl0ZWQ6ICh2YWx1ZSkgPT4gYEVkaXRpbmcgdGFnICR7dmFsdWV9LiBQcmVzcyBlbnRlciB0byBzYXZlIG9yIGVzY2FwZSB0byBjYW5jZWwuYCxcbiAgICAgICAgICB0YWdVcGRhdGVkOiAodmFsdWUpID0+IGBUYWcgdXBkYXRlIHRvICR7dmFsdWV9YCxcbiAgICAgICAgICB0YWdEZWxldGVkOiAodmFsdWUpID0+IGBUYWcgJHt2YWx1ZX0gZGVsZXRlZGAsXG4gICAgICAgICAgdGFnU2VsZWN0ZWQ6ICh2YWx1ZSkgPT4gYFRhZyAke3ZhbHVlfSBzZWxlY3RlZC4gUHJlc3MgZW50ZXIgdG8gZWRpdCwgZGVsZXRlIG9yIGJhY2tzcGFjZSB0byByZW1vdmUuYCxcbiAgICAgICAgICAuLi5jdHgudHJhbnNsYXRpb25zXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjb21wdXRlZDoge1xuICAgICAgICBjb3VudDogKGN0eDIpID0+IGN0eDIudmFsdWUubGVuZ3RoLFxuICAgICAgICB2YWx1ZUFzU3RyaW5nOiAoY3R4MikgPT4gSlNPTi5zdHJpbmdpZnkoY3R4Mi52YWx1ZSksXG4gICAgICAgIHRyaW1tZWRJbnB1dFZhbHVlOiAoY3R4MikgPT4gY3R4Mi5pbnB1dFZhbHVlLnRyaW0oKSxcbiAgICAgICAgaXNEaXNhYmxlZDogKGN0eDIpID0+ICEhY3R4Mi5kaXNhYmxlZCB8fCBjdHgyLmZpZWxkc2V0RGlzYWJsZWQsXG4gICAgICAgIGlzSW50ZXJhY3RpdmU6IChjdHgyKSA9PiAhKGN0eDIucmVhZE9ubHkgfHwgY3R4Mi5pc0Rpc2FibGVkKSxcbiAgICAgICAgaXNBdE1heDogKGN0eDIpID0+IGN0eDIuY291bnQgPT09IGN0eDIubWF4LFxuICAgICAgICBpc092ZXJmbG93aW5nOiAoY3R4MikgPT4gY3R4Mi5jb3VudCA+IGN0eDIubWF4XG4gICAgICB9LFxuICAgICAgd2F0Y2g6IHtcbiAgICAgICAgaGlnaGxpZ2h0ZWRUYWdJZDogXCJsb2dIaWdobGlnaHRlZFRhZ1wiLFxuICAgICAgICBpc092ZXJmbG93aW5nOiBcImludm9rZU9uSW52YWxpZFwiLFxuICAgICAgICBsb2c6IFwiYW5ub3VuY2VMb2dcIixcbiAgICAgICAgaW5wdXRWYWx1ZTogXCJzeW5jSW5wdXRWYWx1ZVwiLFxuICAgICAgICBlZGl0ZWRUYWdWYWx1ZTogXCJzeW5jRWRpdGVkVGFnSW5wdXRWYWx1ZVwiXG4gICAgICB9LFxuICAgICAgYWN0aXZpdGllczogW1widHJhY2tMaXZlUmVnaW9uXCIsIFwidHJhY2tGb3JtQ29udHJvbFN0YXRlXCJdLFxuICAgICAgZXhpdDogW1wiY2xlYXJMb2dcIl0sXG4gICAgICBvbjoge1xuICAgICAgICBET1VCTEVfQ0xJQ0tfVEFHOiB7XG4gICAgICAgICAgaW50ZXJuYWw6IHRydWUsXG4gICAgICAgICAgZ3VhcmQ6IFwiYWxsb3dFZGl0VGFnXCIsXG4gICAgICAgICAgdGFyZ2V0OiBcImVkaXRpbmc6dGFnXCIsXG4gICAgICAgICAgYWN0aW9uczogW1wic2V0RWRpdGVkSWRcIiwgXCJpbml0aWFsaXplRWRpdGVkVGFnVmFsdWVcIl1cbiAgICAgICAgfSxcbiAgICAgICAgUE9JTlRFUl9ET1dOX1RBRzoge1xuICAgICAgICAgIGludGVybmFsOiB0cnVlLFxuICAgICAgICAgIGd1YXJkOiBub3QoXCJpc1RhZ0hpZ2hsaWdodGVkXCIpLFxuICAgICAgICAgIHRhcmdldDogXCJuYXZpZ2F0aW5nOnRhZ1wiLFxuICAgICAgICAgIGFjdGlvbnM6IFtcImhpZ2hsaWdodFRhZ1wiLCBcImZvY3VzSW5wdXRcIl1cbiAgICAgICAgfSxcbiAgICAgICAgU0VUX0lOUFVUX1ZBTFVFOiB7XG4gICAgICAgICAgYWN0aW9uczogW1wic2V0SW5wdXRWYWx1ZVwiXVxuICAgICAgICB9LFxuICAgICAgICBTRVRfVkFMVUU6IHtcbiAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRWYWx1ZVwiXVxuICAgICAgICB9LFxuICAgICAgICBDTEVBUl9UQUc6IHtcbiAgICAgICAgICBhY3Rpb25zOiBbXCJkZWxldGVUYWdcIl1cbiAgICAgICAgfSxcbiAgICAgICAgU0VUX1ZBTFVFX0FUX0lOREVYOiB7XG4gICAgICAgICAgYWN0aW9uczogW1wic2V0VmFsdWVBdEluZGV4XCJdXG4gICAgICAgIH0sXG4gICAgICAgIENMRUFSX1ZBTFVFOiB7XG4gICAgICAgICAgYWN0aW9uczogW1wiY2xlYXJUYWdzXCIsIFwiY2xlYXJJbnB1dFZhbHVlXCIsIFwiZm9jdXNJbnB1dFwiXVxuICAgICAgICB9LFxuICAgICAgICBBRERfVEFHOiB7XG4gICAgICAgICAgLy8gKCFpc0F0TWF4IHx8IGFsbG93T3ZlcmZsb3cpICYmICFpbnB1dFZhbHVlSXNFbXB0eVxuICAgICAgICAgIGd1YXJkOiBhbmQob3Iobm90KFwiaXNBdE1heFwiKSwgXCJhbGxvd092ZXJmbG93XCIpLCBub3QoXCJpc0lucHV0VmFsdWVFbXB0eVwiKSksXG4gICAgICAgICAgYWN0aW9uczogW1wiYWRkVGFnXCIsIFwiY2xlYXJJbnB1dFZhbHVlXCJdXG4gICAgICAgIH0sXG4gICAgICAgIEVYVEVSTkFMX0JMVVI6IFtcbiAgICAgICAgICB7IGd1YXJkOiBcImFkZE9uQmx1clwiLCBhY3Rpb25zOiBcInJhaXNlQWRkVGFnRXZlbnRcIiB9LFxuICAgICAgICAgIHsgZ3VhcmQ6IFwiY2xlYXJPbkJsdXJcIiwgYWN0aW9uczogXCJjbGVhcklucHV0VmFsdWVcIiB9XG4gICAgICAgIF1cbiAgICAgIH0sXG4gICAgICBzdGF0ZXM6IHtcbiAgICAgICAgaWRsZToge1xuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBGT0NVUzogXCJmb2N1c2VkOmlucHV0XCIsXG4gICAgICAgICAgICBQT0lOVEVSX0RPV046IHtcbiAgICAgICAgICAgICAgZ3VhcmQ6IG5vdChcImhhc0hpZ2hsaWdodGVkVGFnXCIpLFxuICAgICAgICAgICAgICB0YXJnZXQ6IFwiZm9jdXNlZDppbnB1dFwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImZvY3VzZWQ6aW5wdXRcIjoge1xuICAgICAgICAgIHRhZ3M6IFtcImZvY3VzZWRcIl0sXG4gICAgICAgICAgZW50cnk6IFtcImZvY3VzSW5wdXRcIiwgXCJjbGVhckhpZ2hsaWdodGVkSWRcIl0sXG4gICAgICAgICAgYWN0aXZpdGllczogW1widHJhY2tJbnRlcmFjdE91dHNpZGVcIl0sXG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIFRZUEU6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogXCJzZXRJbnB1dFZhbHVlXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBCTFVSOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBndWFyZDogXCJhZGRPbkJsdXJcIixcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiaWRsZVwiLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFwicmFpc2VBZGRUYWdFdmVudFwiXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBndWFyZDogXCJjbGVhck9uQmx1clwiLFxuICAgICAgICAgICAgICAgIHRhcmdldDogXCJpZGxlXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogXCJjbGVhcklucHV0VmFsdWVcIlxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7IHRhcmdldDogXCJpZGxlXCIgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIEVOVEVSOiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcInJhaXNlQWRkVGFnRXZlbnRcIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBERUxJTUlURVJfS0VZOiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcInJhaXNlQWRkVGFnRXZlbnRcIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBBUlJPV19MRUZUOiB7XG4gICAgICAgICAgICAgIGd1YXJkOiBhbmQoXCJoYXNUYWdzXCIsIFwiaXNJbnB1dENhcmV0QXRTdGFydFwiKSxcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcIm5hdmlnYXRpbmc6dGFnXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFwiaGlnaGxpZ2h0TGFzdFRhZ1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgQkFDS1NQQUNFOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJuYXZpZ2F0aW5nOnRhZ1wiLFxuICAgICAgICAgICAgICBndWFyZDogYW5kKFwiaGFzVGFnc1wiLCBcImlzSW5wdXRDYXJldEF0U3RhcnRcIiksXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFwiaGlnaGxpZ2h0TGFzdFRhZ1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgUEFTVEU6IHtcbiAgICAgICAgICAgICAgZ3VhcmQ6IFwiYWRkT25QYXN0ZVwiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRJbnB1dFZhbHVlXCIsIFwiYWRkVGFnRnJvbVBhc3RlXCJdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcIm5hdmlnYXRpbmc6dGFnXCI6IHtcbiAgICAgICAgICB0YWdzOiBbXCJmb2N1c2VkXCJdLFxuICAgICAgICAgIGFjdGl2aXRpZXM6IFtcInRyYWNrSW50ZXJhY3RPdXRzaWRlXCJdLFxuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBBUlJPV19SSUdIVDogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ3VhcmQ6IGFuZChcImhhc1RhZ3NcIiwgXCJpc0lucHV0Q2FyZXRBdFN0YXJ0XCIsIG5vdChcImlzTGFzdFRhZ0hpZ2hsaWdodGVkXCIpKSxcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBcImhpZ2hsaWdodE5leHRUYWdcIlxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7IHRhcmdldDogXCJmb2N1c2VkOmlucHV0XCIgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIEFSUk9XX0xFRlQ6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogXCJoaWdobGlnaHRQcmV2VGFnXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBCTFVSOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJpZGxlXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFwiY2xlYXJIaWdobGlnaHRlZElkXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBFTlRFUjoge1xuICAgICAgICAgICAgICBndWFyZDogYW5kKFwiYWxsb3dFZGl0VGFnXCIsIFwiaGFzSGlnaGxpZ2h0ZWRUYWdcIiksXG4gICAgICAgICAgICAgIHRhcmdldDogXCJlZGl0aW5nOnRhZ1wiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRFZGl0ZWRJZFwiLCBcImluaXRpYWxpemVFZGl0ZWRUYWdWYWx1ZVwiLCBcImZvY3VzRWRpdGVkVGFnSW5wdXRcIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBBUlJPV19ET1dOOiBcImZvY3VzZWQ6aW5wdXRcIixcbiAgICAgICAgICAgIEVTQ0FQRTogXCJmb2N1c2VkOmlucHV0XCIsXG4gICAgICAgICAgICBUWVBFOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJmb2N1c2VkOmlucHV0XCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFwic2V0SW5wdXRWYWx1ZVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgQkFDS1NQQUNFOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBndWFyZDogXCJpc0ZpcnN0VGFnSGlnaGxpZ2h0ZWRcIixcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJkZWxldGVIaWdobGlnaHRlZFRhZ1wiLCBcImhpZ2hsaWdodEZpcnN0VGFnXCJdXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJkZWxldGVIaWdobGlnaHRlZFRhZ1wiLCBcImhpZ2hsaWdodFByZXZUYWdcIl1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIERFTEVURToge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJkZWxldGVIaWdobGlnaHRlZFRhZ1wiLCBcImhpZ2hsaWdodFRhZ0F0SW5kZXhcIl1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiZWRpdGluZzp0YWdcIjoge1xuICAgICAgICAgIHRhZ3M6IFtcImVkaXRpbmdcIiwgXCJmb2N1c2VkXCJdLFxuICAgICAgICAgIGVudHJ5OiBcImZvY3VzRWRpdGVkVGFnSW5wdXRcIixcbiAgICAgICAgICBhY3Rpdml0aWVzOiBbXCJhdXRvUmVzaXplXCJdLFxuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBUQUdfSU5QVVRfVFlQRToge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBcInNldEVkaXRlZFRhZ1ZhbHVlXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBUQUdfSU5QVVRfRVNDQVBFOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJuYXZpZ2F0aW5nOnRhZ1wiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJjbGVhckVkaXRlZFRhZ1ZhbHVlXCIsIFwiZm9jdXNJbnB1dFwiLCBcImNsZWFyRWRpdGVkSWRcIiwgXCJoaWdobGlnaHRUYWdBdEluZGV4XCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgVEFHX0lOUFVUX0JMVVI6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGd1YXJkOiBcImlzSW5wdXRSZWxhdGVkVGFyZ2V0XCIsXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBcIm5hdmlnYXRpbmc6dGFnXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogW1wiY2xlYXJFZGl0ZWRUYWdWYWx1ZVwiLCBcImNsZWFySGlnaGxpZ2h0ZWRJZFwiLCBcImNsZWFyRWRpdGVkSWRcIl1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRhcmdldDogXCJpZGxlXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogW1wiY2xlYXJFZGl0ZWRUYWdWYWx1ZVwiLCBcImNsZWFySGlnaGxpZ2h0ZWRJZFwiLCBcImNsZWFyRWRpdGVkSWRcIiwgXCJyYWlzZUV4dGVybmFsQmx1ckV2ZW50XCJdXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBUQUdfSU5QVVRfRU5URVI6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcIm5hdmlnYXRpbmc6dGFnXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcInN1Ym1pdEVkaXRlZFRhZ1ZhbHVlXCIsIFwiZm9jdXNJbnB1dFwiLCBcImNsZWFyRWRpdGVkSWRcIiwgXCJoaWdobGlnaHRUYWdBdEluZGV4XCJdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICBndWFyZHM6IHtcbiAgICAgICAgaXNJbnB1dFJlbGF0ZWRUYXJnZXQ6IChjdHgyLCBldnQpID0+IGV2dC5yZWxhdGVkVGFyZ2V0ID09PSBkb20uZ2V0SW5wdXRFbChjdHgyKSxcbiAgICAgICAgaXNBdE1heDogKGN0eDIpID0+IGN0eDIuaXNBdE1heCxcbiAgICAgICAgaGFzSGlnaGxpZ2h0ZWRUYWc6IChjdHgyKSA9PiBjdHgyLmhpZ2hsaWdodGVkVGFnSWQgIT09IG51bGwsXG4gICAgICAgIGlzVGFnSGlnaGxpZ2h0ZWQ6IChjdHgyLCBldnQpID0+IGN0eDIuaGlnaGxpZ2h0ZWRUYWdJZCA9PT0gZXZ0LmlkLFxuICAgICAgICBpc0ZpcnN0VGFnSGlnaGxpZ2h0ZWQ6IChjdHgyKSA9PiBkb20uZ2V0Rmlyc3RFbChjdHgyKT8uaWQgPT09IGN0eDIuaGlnaGxpZ2h0ZWRUYWdJZCxcbiAgICAgICAgaXNMYXN0VGFnSGlnaGxpZ2h0ZWQ6IChjdHgyKSA9PiBkb20uZ2V0TGFzdEVsKGN0eDIpPy5pZCA9PT0gY3R4Mi5oaWdobGlnaHRlZFRhZ0lkLFxuICAgICAgICBpc0lucHV0VmFsdWVFbXB0eTogKGN0eDIpID0+IGN0eDIudHJpbW1lZElucHV0VmFsdWUubGVuZ3RoID09PSAwLFxuICAgICAgICBoYXNUYWdzOiAoY3R4MikgPT4gY3R4Mi52YWx1ZS5sZW5ndGggPiAwLFxuICAgICAgICBhbGxvd092ZXJmbG93OiAoY3R4MikgPT4gISFjdHgyLmFsbG93T3ZlcmZsb3csXG4gICAgICAgIGF1dG9Gb2N1czogKGN0eDIpID0+ICEhY3R4Mi5hdXRvRm9jdXMsXG4gICAgICAgIGFkZE9uQmx1cjogKGN0eDIpID0+IGN0eDIuYmx1ckJlaGF2aW9yID09PSBcImFkZFwiLFxuICAgICAgICBjbGVhck9uQmx1cjogKGN0eDIpID0+IGN0eDIuYmx1ckJlaGF2aW9yID09PSBcImNsZWFyXCIsXG4gICAgICAgIGFkZE9uUGFzdGU6IChjdHgyKSA9PiAhIWN0eDIuYWRkT25QYXN0ZSxcbiAgICAgICAgYWxsb3dFZGl0VGFnOiAoY3R4MikgPT4gISFjdHgyLmFsbG93RWRpdFRhZyxcbiAgICAgICAgaXNJbnB1dENhcmV0QXRTdGFydChjdHgyKSB7XG4gICAgICAgICAgY29uc3QgaW5wdXQgPSBkb20uZ2V0SW5wdXRFbChjdHgyKTtcbiAgICAgICAgICBpZiAoIWlucHV0KVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXQuc2VsZWN0aW9uU3RhcnQgPT09IDAgJiYgaW5wdXQuc2VsZWN0aW9uRW5kID09PSAwO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dC52YWx1ZSA9PT0gXCJcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBhY3Rpdml0aWVzOiB7XG4gICAgICAgIHRyYWNrSW50ZXJhY3RPdXRzaWRlKGN0eDIsIF9ldnQsIHsgc2VuZCB9KSB7XG4gICAgICAgICAgcmV0dXJuIHRyYWNrSW50ZXJhY3RPdXRzaWRlKGRvbS5nZXRJbnB1dEVsKGN0eDIpLCB7XG4gICAgICAgICAgICBleGNsdWRlKHRhcmdldCkge1xuICAgICAgICAgICAgICByZXR1cm4gY29udGFpbnMoZG9tLmdldFJvb3RFbChjdHgyKSwgdGFyZ2V0KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkZvY3VzT3V0c2lkZTogY3R4Mi5vbkZvY3VzT3V0c2lkZSxcbiAgICAgICAgICAgIG9uUG9pbnRlckRvd25PdXRzaWRlOiBjdHgyLm9uUG9pbnRlckRvd25PdXRzaWRlLFxuICAgICAgICAgICAgb25JbnRlcmFjdE91dHNpZGUoZXZlbnQpIHtcbiAgICAgICAgICAgICAgY3R4Mi5vbkludGVyYWN0T3V0c2lkZT8uKGV2ZW50KTtcbiAgICAgICAgICAgICAgaWYgKGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJCTFVSXCIsIHNyYzogXCJpbnRlcmFjdC1vdXRzaWRlXCIgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHRyYWNrRm9ybUNvbnRyb2xTdGF0ZShjdHgyLCBfZXZ0LCB7IHNlbmQsIGluaXRpYWxDb250ZXh0IH0pIHtcbiAgICAgICAgICByZXR1cm4gdHJhY2tGb3JtQ29udHJvbChkb20uZ2V0SGlkZGVuSW5wdXRFbChjdHgyKSwge1xuICAgICAgICAgICAgb25GaWVsZHNldERpc2FibGVkQ2hhbmdlKGRpc2FibGVkKSB7XG4gICAgICAgICAgICAgIGN0eDIuZmllbGRzZXREaXNhYmxlZCA9IGRpc2FibGVkO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uRm9ybVJlc2V0KCkge1xuICAgICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJTRVRfVkFMVUVcIiwgdmFsdWU6IGluaXRpYWxDb250ZXh0LnZhbHVlLCBzcmM6IFwiZm9ybS1yZXNldFwiIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBhdXRvUmVzaXplKGN0eDIpIHtcbiAgICAgICAgICBpZiAoIWN0eDIuZWRpdGVkVGFnVmFsdWUgfHwgY3R4Mi5pZHggPT0gbnVsbCB8fCAhY3R4Mi5hbGxvd0VkaXRUYWcpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgY29uc3QgaW5wdXQgPSBkb20uZ2V0VGFnSW5wdXRFbChjdHgyLCB7IHZhbHVlOiBjdHgyLmVkaXRlZFRhZ1ZhbHVlLCBpbmRleDogY3R4Mi5pZHggfSk7XG4gICAgICAgICAgcmV0dXJuIGF1dG9SZXNpemVJbnB1dChpbnB1dCk7XG4gICAgICAgIH0sXG4gICAgICAgIHRyYWNrTGl2ZVJlZ2lvbihjdHgyKSB7XG4gICAgICAgICAgY3R4Mi5saXZlUmVnaW9uID0gY3JlYXRlTGl2ZVJlZ2lvbih7XG4gICAgICAgICAgICBsZXZlbDogXCJhc3NlcnRpdmVcIixcbiAgICAgICAgICAgIGRvY3VtZW50OiBkb20uZ2V0RG9jKGN0eDIpXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuICgpID0+IGN0eDIubGl2ZVJlZ2lvbj8uZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYWN0aW9uczoge1xuICAgICAgICByYWlzZUFkZFRhZ0V2ZW50KF8sIF9fLCB7IHNlbGYgfSkge1xuICAgICAgICAgIHNlbGYuc2VuZChcIkFERF9UQUdcIik7XG4gICAgICAgIH0sXG4gICAgICAgIHJhaXNlRXh0ZXJuYWxCbHVyRXZlbnQoXywgZXZ0LCB7IHNlbGYgfSkge1xuICAgICAgICAgIHNlbGYuc2VuZCh7IHR5cGU6IFwiRVhURVJOQUxfQkxVUlwiLCBpZDogZXZ0LmlkIH0pO1xuICAgICAgICB9LFxuICAgICAgICBkaXNwYXRjaENoYW5nZUV2ZW50KGN0eDIpIHtcbiAgICAgICAgICBkb20uZGlzcGF0Y2hJbnB1dEV2ZW50KGN0eDIpO1xuICAgICAgICB9LFxuICAgICAgICBoaWdobGlnaHROZXh0VGFnKGN0eDIpIHtcbiAgICAgICAgICBpZiAoY3R4Mi5oaWdobGlnaHRlZFRhZ0lkID09IG51bGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgY29uc3QgbmV4dCA9IGRvbS5nZXROZXh0RWwoY3R4MiwgY3R4Mi5oaWdobGlnaHRlZFRhZ0lkKTtcbiAgICAgICAgICBpZiAobmV4dCA9PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIHNldC5oaWdobGlnaHRlZElkKGN0eDIsIG5leHQuaWQpO1xuICAgICAgICB9LFxuICAgICAgICBoaWdobGlnaHRGaXJzdFRhZyhjdHgyKSB7XG4gICAgICAgICAgcmFmKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0ID0gZG9tLmdldEZpcnN0RWwoY3R4Mik7XG4gICAgICAgICAgICBpZiAoZmlyc3QgPT0gbnVsbClcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgc2V0LmhpZ2hsaWdodGVkSWQoY3R4MiwgZmlyc3QuaWQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBoaWdobGlnaHRMYXN0VGFnKGN0eDIpIHtcbiAgICAgICAgICBjb25zdCBsYXN0ID0gZG9tLmdldExhc3RFbChjdHgyKTtcbiAgICAgICAgICBpZiAobGFzdCA9PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIHNldC5oaWdobGlnaHRlZElkKGN0eDIsIGxhc3QuaWQpO1xuICAgICAgICB9LFxuICAgICAgICBoaWdobGlnaHRQcmV2VGFnKGN0eDIpIHtcbiAgICAgICAgICBpZiAoY3R4Mi5oaWdobGlnaHRlZFRhZ0lkID09IG51bGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgY29uc3QgcHJldiA9IGRvbS5nZXRQcmV2RWwoY3R4MiwgY3R4Mi5oaWdobGlnaHRlZFRhZ0lkKTtcbiAgICAgICAgICBzZXQuaGlnaGxpZ2h0ZWRJZChjdHgyLCBwcmV2Py5pZCB8fCBudWxsKTtcbiAgICAgICAgfSxcbiAgICAgICAgaGlnaGxpZ2h0VGFnKGN0eDIsIGV2dCkge1xuICAgICAgICAgIHNldC5oaWdobGlnaHRlZElkKGN0eDIsIGV2dC5pZCk7XG4gICAgICAgIH0sXG4gICAgICAgIGhpZ2hsaWdodFRhZ0F0SW5kZXgoY3R4Mikge1xuICAgICAgICAgIHJhZigoKSA9PiB7XG4gICAgICAgICAgICBpZiAoY3R4Mi5pZHggPT0gbnVsbClcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgdGFnRWwgPSBkb20uZ2V0VGFnRWxBdEluZGV4KGN0eDIsIGN0eDIuaWR4KTtcbiAgICAgICAgICAgIGlmICh0YWdFbCA9PSBudWxsKVxuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBzZXQuaGlnaGxpZ2h0ZWRJZChjdHgyLCB0YWdFbC5pZCk7XG4gICAgICAgICAgICBjdHgyLmlkeCA9IHZvaWQgMDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgZGVsZXRlVGFnKGN0eDIsIGV2dCkge1xuICAgICAgICAgIGNvbnN0IGluZGV4ID0gZG9tLmdldEluZGV4T2ZJZChjdHgyLCBldnQuaWQpO1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gY3R4Mi52YWx1ZVtpbmRleF07XG4gICAgICAgICAgY3R4Mi5sb2cucHJldiA9IGN0eDIubG9nLmN1cnJlbnQ7XG4gICAgICAgICAgY3R4Mi5sb2cuY3VycmVudCA9IHsgdHlwZTogXCJkZWxldGVcIiwgdmFsdWUgfTtcbiAgICAgICAgICBzZXQudmFsdWUoY3R4MiwgcmVtb3ZlQXQoY3R4Mi52YWx1ZSwgaW5kZXgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgZGVsZXRlSGlnaGxpZ2h0ZWRUYWcoY3R4Mikge1xuICAgICAgICAgIGlmIChjdHgyLmhpZ2hsaWdodGVkVGFnSWQgPT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjb25zdCBpbmRleCA9IGRvbS5nZXRJbmRleE9mSWQoY3R4MiwgY3R4Mi5oaWdobGlnaHRlZFRhZ0lkKTtcbiAgICAgICAgICBjdHgyLmlkeCA9IGluZGV4O1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gY3R4Mi52YWx1ZVtpbmRleF07XG4gICAgICAgICAgY3R4Mi5sb2cucHJldiA9IGN0eDIubG9nLmN1cnJlbnQ7XG4gICAgICAgICAgY3R4Mi5sb2cuY3VycmVudCA9IHsgdHlwZTogXCJkZWxldGVcIiwgdmFsdWUgfTtcbiAgICAgICAgICBzZXQudmFsdWUoY3R4MiwgcmVtb3ZlQXQoY3R4Mi52YWx1ZSwgaW5kZXgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0RWRpdGVkSWQoY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgY3R4Mi5lZGl0ZWRUYWdJZCA9IGV2dC5pZCA/PyBjdHgyLmhpZ2hsaWdodGVkVGFnSWQ7XG4gICAgICAgICAgY3R4Mi5pZHggPSBkb20uZ2V0SW5kZXhPZklkKGN0eDIsIGN0eDIuZWRpdGVkVGFnSWQpO1xuICAgICAgICB9LFxuICAgICAgICBjbGVhckVkaXRlZElkKGN0eDIpIHtcbiAgICAgICAgICBjdHgyLmVkaXRlZFRhZ0lkID0gbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgY2xlYXJFZGl0ZWRUYWdWYWx1ZShjdHgyKSB7XG4gICAgICAgICAgY3R4Mi5lZGl0ZWRUYWdWYWx1ZSA9IFwiXCI7XG4gICAgICAgIH0sXG4gICAgICAgIHNldEVkaXRlZFRhZ1ZhbHVlKGN0eDIsIGV2dCkge1xuICAgICAgICAgIGN0eDIuZWRpdGVkVGFnVmFsdWUgPSBldnQudmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIHN1Ym1pdEVkaXRlZFRhZ1ZhbHVlKGN0eDIpIHtcbiAgICAgICAgICBpZiAoIWN0eDIuZWRpdGVkVGFnSWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgY29uc3QgaW5kZXggPSBkb20uZ2V0SW5kZXhPZklkKGN0eDIsIGN0eDIuZWRpdGVkVGFnSWQpO1xuICAgICAgICAgIHNldC52YWx1ZUF0SW5kZXgoY3R4MiwgaW5kZXgsIGN0eDIuZWRpdGVkVGFnVmFsdWUgPz8gXCJcIik7XG4gICAgICAgICAgY3R4Mi5sb2cucHJldiA9IGN0eDIubG9nLmN1cnJlbnQ7XG4gICAgICAgICAgY3R4Mi5sb2cuY3VycmVudCA9IHsgdHlwZTogXCJ1cGRhdGVcIiwgdmFsdWU6IGN0eDIuZWRpdGVkVGFnVmFsdWUgfTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0VmFsdWVBdEluZGV4KGN0eDIsIGV2dCkge1xuICAgICAgICAgIGlmIChldnQudmFsdWUpIHtcbiAgICAgICAgICAgIGN0eDIudmFsdWVbZXZ0LmluZGV4XSA9IGV2dC52YWx1ZTtcbiAgICAgICAgICAgIGN0eDIubG9nLnByZXYgPSBjdHgyLmxvZy5jdXJyZW50O1xuICAgICAgICAgICAgY3R4Mi5sb2cuY3VycmVudCA9IHsgdHlwZTogXCJ1cGRhdGVcIiwgdmFsdWU6IGV2dC52YWx1ZSB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3YXJuKFwiWW91IG5lZWQgdG8gcHJvdmlkZSBhIHZhbHVlIGZvciB0aGUgdGFnXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgaW5pdGlhbGl6ZUVkaXRlZFRhZ1ZhbHVlKGN0eDIpIHtcbiAgICAgICAgICBpZiAoIWN0eDIuZWRpdGVkVGFnSWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgY29uc3QgaW5kZXggPSBkb20uZ2V0SW5kZXhPZklkKGN0eDIsIGN0eDIuZWRpdGVkVGFnSWQpO1xuICAgICAgICAgIGN0eDIuZWRpdGVkVGFnVmFsdWUgPSBjdHgyLnZhbHVlW2luZGV4XTtcbiAgICAgICAgfSxcbiAgICAgICAgZm9jdXNFZGl0ZWRUYWdJbnB1dChjdHgyKSB7XG4gICAgICAgICAgcmFmKCgpID0+IHtcbiAgICAgICAgICAgIGRvbS5nZXRFZGl0SW5wdXRFbChjdHgyKT8uc2VsZWN0KCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldElucHV0VmFsdWUoY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgY3R4Mi5pbnB1dFZhbHVlID0gZXZ0LnZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBjbGVhckhpZ2hsaWdodGVkSWQoY3R4Mikge1xuICAgICAgICAgIGN0eDIuaGlnaGxpZ2h0ZWRUYWdJZCA9IG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIGZvY3VzSW5wdXQoY3R4Mikge1xuICAgICAgICAgIHJhZigoKSA9PiB7XG4gICAgICAgICAgICBkb20uZ2V0SW5wdXRFbChjdHgyKT8uZm9jdXMoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xlYXJJbnB1dFZhbHVlKGN0eDIpIHtcbiAgICAgICAgICBjdHgyLmlucHV0VmFsdWUgPSBcIlwiO1xuICAgICAgICB9LFxuICAgICAgICBzeW5jSW5wdXRWYWx1ZShjdHgyKSB7XG4gICAgICAgICAgY29uc3QgaW5wdXRFbCA9IGRvbS5nZXRJbnB1dEVsKGN0eDIpO1xuICAgICAgICAgIGRvbS5zZXRWYWx1ZShpbnB1dEVsLCBjdHgyLmlucHV0VmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBzeW5jRWRpdGVkVGFnSW5wdXRWYWx1ZShjdHgyLCBldnQpIHtcbiAgICAgICAgICBjb25zdCBpZCA9IGN0eDIuZWRpdGVkVGFnSWQgfHwgY3R4Mi5oaWdobGlnaHRlZFRhZ0lkIHx8IGV2dC5pZDtcbiAgICAgICAgICBpZiAoaWQgPT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjb25zdCBlZGl0VGFnSW5wdXRFbCA9IGRvbS5nZXRCeUlkKGN0eDIsIGAke2lkfTppbnB1dGApO1xuICAgICAgICAgIGRvbS5zZXRWYWx1ZShlZGl0VGFnSW5wdXRFbCwgY3R4Mi5lZGl0ZWRUYWdWYWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGFkZFRhZyhjdHgyLCBldnQpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IGV2dC52YWx1ZSA/PyBjdHgyLnRyaW1tZWRJbnB1dFZhbHVlO1xuICAgICAgICAgIGNvbnN0IGd1YXJkID0gY3R4Mi52YWxpZGF0ZT8uKHsgaW5wdXRWYWx1ZTogdmFsdWUsIHZhbHVlOiBBcnJheS5mcm9tKGN0eDIudmFsdWUpIH0pO1xuICAgICAgICAgIGlmIChndWFyZCkge1xuICAgICAgICAgICAgc2V0LnZhbHVlKGN0eDIsIGN0eDIudmFsdWUuY29uY2F0KHZhbHVlKSk7XG4gICAgICAgICAgICBjdHgyLmxvZy5wcmV2ID0gY3R4Mi5sb2cuY3VycmVudDtcbiAgICAgICAgICAgIGN0eDIubG9nLmN1cnJlbnQgPSB7IHR5cGU6IFwiYWRkXCIsIHZhbHVlIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGN0eDIub25WYWx1ZUludmFsaWQ/Lih7IHJlYXNvbjogXCJpbnZhbGlkVGFnXCIgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhZGRUYWdGcm9tUGFzdGUoY3R4Mikge1xuICAgICAgICAgIHJhZigoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGN0eDIudHJpbW1lZElucHV0VmFsdWU7XG4gICAgICAgICAgICBjb25zdCBndWFyZCA9IGN0eDIudmFsaWRhdGU/Lih7IGlucHV0VmFsdWU6IHZhbHVlLCB2YWx1ZTogQXJyYXkuZnJvbShjdHgyLnZhbHVlKSB9KTtcbiAgICAgICAgICAgIGlmIChndWFyZCkge1xuICAgICAgICAgICAgICBjb25zdCB0cmltbWVkVmFsdWUgPSBjdHgyLmRlbGltaXRlciA/IHZhbHVlLnNwbGl0KGN0eDIuZGVsaW1pdGVyKS5tYXAoKHYpID0+IHYudHJpbSgpKSA6IFt2YWx1ZV07XG4gICAgICAgICAgICAgIHNldC52YWx1ZShjdHgyLCBjdHgyLnZhbHVlLmNvbmNhdCguLi50cmltbWVkVmFsdWUpKTtcbiAgICAgICAgICAgICAgY3R4Mi5sb2cucHJldiA9IGN0eDIubG9nLmN1cnJlbnQ7XG4gICAgICAgICAgICAgIGN0eDIubG9nLmN1cnJlbnQgPSB7IHR5cGU6IFwicGFzdGVcIiwgdmFsdWVzOiB0cmltbWVkVmFsdWUgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGN0eDIub25WYWx1ZUludmFsaWQ/Lih7IHJlYXNvbjogXCJpbnZhbGlkVGFnXCIgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdHgyLmlucHV0VmFsdWUgPSBcIlwiO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBjbGVhclRhZ3MoY3R4Mikge1xuICAgICAgICAgIHNldC52YWx1ZShjdHgyLCBbXSk7XG4gICAgICAgICAgY3R4Mi5sb2cucHJldiA9IGN0eDIubG9nLmN1cnJlbnQ7XG4gICAgICAgICAgY3R4Mi5sb2cuY3VycmVudCA9IHsgdHlwZTogXCJjbGVhclwiIH07XG4gICAgICAgIH0sXG4gICAgICAgIHNldFZhbHVlKGN0eDIsIGV2dCkge1xuICAgICAgICAgIHNldC52YWx1ZShjdHgyLCBldnQudmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBpbnZva2VPbkludmFsaWQoY3R4Mikge1xuICAgICAgICAgIGlmIChjdHgyLmlzT3ZlcmZsb3dpbmcpIHtcbiAgICAgICAgICAgIGN0eDIub25WYWx1ZUludmFsaWQ/Lih7IHJlYXNvbjogXCJyYW5nZU92ZXJmbG93XCIgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjbGVhckxvZyhjdHgyKSB7XG4gICAgICAgICAgY3R4Mi5sb2cgPSB7IHByZXY6IG51bGwsIGN1cnJlbnQ6IG51bGwgfTtcbiAgICAgICAgfSxcbiAgICAgICAgbG9nSGlnaGxpZ2h0ZWRUYWcoY3R4Mikge1xuICAgICAgICAgIGlmIChjdHgyLmhpZ2hsaWdodGVkVGFnSWQgPT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjb25zdCBpbmRleCA9IGRvbS5nZXRJbmRleE9mSWQoY3R4MiwgY3R4Mi5oaWdobGlnaHRlZFRhZ0lkKTtcbiAgICAgICAgICBjdHgyLmxvZy5wcmV2ID0gY3R4Mi5sb2cuY3VycmVudDtcbiAgICAgICAgICBjdHgyLmxvZy5jdXJyZW50ID0geyB0eXBlOiBcInNlbGVjdFwiLCB2YWx1ZTogY3R4Mi52YWx1ZVtpbmRleF0gfTtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gcXVldWUgbG9ncyB3aXRoIHNjcmVlbiByZWFkZXIgYW5kIGdldCBpdCBhbm5vdW5jZWRcbiAgICAgICAgYW5ub3VuY2VMb2coY3R4Mikge1xuICAgICAgICAgIGlmICghY3R4Mi5sb2cuY3VycmVudCB8fCBjdHgyLmxpdmVSZWdpb24gPT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjb25zdCByZWdpb24gPSBjdHgyLmxpdmVSZWdpb247XG4gICAgICAgICAgY29uc3QgeyBjdXJyZW50LCBwcmV2IH0gPSBjdHgyLmxvZztcbiAgICAgICAgICBsZXQgbXNnO1xuICAgICAgICAgIHN3aXRjaCAoY3VycmVudC50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFwiYWRkXCI6XG4gICAgICAgICAgICAgIG1zZyA9IGN0eDIudHJhbnNsYXRpb25zLnRhZ0FkZGVkKGN1cnJlbnQudmFsdWUpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJkZWxldGVcIjpcbiAgICAgICAgICAgICAgbXNnID0gY3R4Mi50cmFuc2xhdGlvbnMudGFnRGVsZXRlZChjdXJyZW50LnZhbHVlKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwidXBkYXRlXCI6XG4gICAgICAgICAgICAgIG1zZyA9IGN0eDIudHJhbnNsYXRpb25zLnRhZ1VwZGF0ZWQoY3VycmVudC52YWx1ZSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInBhc3RlXCI6XG4gICAgICAgICAgICAgIG1zZyA9IGN0eDIudHJhbnNsYXRpb25zLnRhZ3NQYXN0ZWQoY3VycmVudC52YWx1ZXMpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJzZWxlY3RcIjpcbiAgICAgICAgICAgICAgbXNnID0gY3R4Mi50cmFuc2xhdGlvbnMudGFnU2VsZWN0ZWQoY3VycmVudC52YWx1ZSk7XG4gICAgICAgICAgICAgIGlmIChwcmV2Py50eXBlID09PSBcImRlbGV0ZVwiKSB7XG4gICAgICAgICAgICAgICAgbXNnID0gYCR7Y3R4Mi50cmFuc2xhdGlvbnMudGFnRGVsZXRlZChwcmV2LnZhbHVlKX0uICR7bXNnfWA7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAocHJldj8udHlwZSA9PT0gXCJ1cGRhdGVcIikge1xuICAgICAgICAgICAgICAgIG1zZyA9IGAke2N0eDIudHJhbnNsYXRpb25zLnRhZ1VwZGF0ZWQocHJldi52YWx1ZSl9LiAke21zZ31gO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChtc2cpXG4gICAgICAgICAgICByZWdpb24uYW5ub3VuY2UobXNnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgKTtcbn1cbnZhciBpbnZva2UgPSB7XG4gIGNoYW5nZTogKGN0eCkgPT4ge1xuICAgIGN0eC5vblZhbHVlQ2hhbmdlPy4oeyB2YWx1ZTogQXJyYXkuZnJvbShjdHgudmFsdWUpIH0pO1xuICAgIGRvbS5kaXNwYXRjaElucHV0RXZlbnQoY3R4KTtcbiAgfSxcbiAgaGlnaGxpZ2h0Q2hhbmdlOiAoY3R4KSA9PiB7XG4gICAgY29uc3QgaGlnaGxpZ2h0ZWRWYWx1ZSA9IGRvbS5nZXRIaWdobGlnaHRlZFRhZ1ZhbHVlKGN0eCk7XG4gICAgY3R4Lm9uSGlnaGxpZ2h0Q2hhbmdlPy4oeyBoaWdobGlnaHRlZFZhbHVlIH0pO1xuICB9XG59O1xudmFyIHNldCA9IHtcbiAgdmFsdWU6IChjdHgsIHZhbHVlKSA9PiB7XG4gICAgaWYgKGlzRXF1YWwoY3R4LnZhbHVlLCB2YWx1ZSkpXG4gICAgICByZXR1cm47XG4gICAgY3R4LnZhbHVlID0gdmFsdWU7XG4gICAgaW52b2tlLmNoYW5nZShjdHgpO1xuICB9LFxuICB2YWx1ZUF0SW5kZXg6IChjdHgsIGluZGV4LCB2YWx1ZSkgPT4ge1xuICAgIGlmIChpc0VxdWFsKGN0eC52YWx1ZVtpbmRleF0sIHZhbHVlKSlcbiAgICAgIHJldHVybjtcbiAgICBjdHgudmFsdWVbaW5kZXhdID0gdmFsdWU7XG4gICAgaW52b2tlLmNoYW5nZShjdHgpO1xuICB9LFxuICBoaWdobGlnaHRlZElkOiAoY3R4LCBpZCkgPT4ge1xuICAgIGlmIChpc0VxdWFsKGN0eC5oaWdobGlnaHRlZFRhZ0lkLCBpZCkpXG4gICAgICByZXR1cm47XG4gICAgY3R4LmhpZ2hsaWdodGVkVGFnSWQgPSBpZDtcbiAgICBpbnZva2UuaGlnaGxpZ2h0Q2hhbmdlKGN0eCk7XG4gIH1cbn07XG5leHBvcnQge1xuICBhbmF0b215LFxuICBjb25uZWN0LFxuICBtYWNoaW5lXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/tags-input/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/text-selection/dist/index.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@zag-js/text-selection/dist/index.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   disableTextSelection: () => (/* binding */ disableTextSelection),\n/* harmony export */   restoreTextSelection: () => (/* binding */ restoreTextSelection)\n/* harmony export */ });\n/* harmony import */ var _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/dom-query */ \"(ssr)/./node_modules/@zag-js/dom-query/dist/index.mjs\");\n// src/index.ts\n\nvar state = \"default\";\nvar userSelect = \"\";\nvar elementMap = /* @__PURE__ */ new WeakMap();\nfunction disableTextSelectionImpl(options = {}) {\n  const { target, doc } = options;\n  const docNode = doc ?? document;\n  const rootEl = docNode.documentElement;\n  if ((0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_0__.isIos)()) {\n    if (state === \"default\") {\n      userSelect = rootEl.style.webkitUserSelect;\n      rootEl.style.webkitUserSelect = \"none\";\n    }\n    state = \"disabled\";\n  } else if (target) {\n    elementMap.set(target, target.style.userSelect);\n    target.style.userSelect = \"none\";\n  }\n  return () => restoreTextSelection({ target, doc: docNode });\n}\nfunction restoreTextSelection(options = {}) {\n  const { target, doc } = options;\n  const docNode = doc ?? document;\n  const rootEl = docNode.documentElement;\n  if ((0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_0__.isIos)()) {\n    if (state !== \"disabled\")\n      return;\n    state = \"restoring\";\n    setTimeout(() => {\n      (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_0__.nextTick)(() => {\n        if (state === \"restoring\") {\n          if (rootEl.style.webkitUserSelect === \"none\") {\n            rootEl.style.webkitUserSelect = userSelect || \"\";\n          }\n          userSelect = \"\";\n          state = \"default\";\n        }\n      });\n    }, 300);\n  } else {\n    if (target && elementMap.has(target)) {\n      const prevUserSelect = elementMap.get(target);\n      if (target.style.userSelect === \"none\") {\n        target.style.userSelect = prevUserSelect ?? \"\";\n      }\n      if (target.getAttribute(\"style\") === \"\") {\n        target.removeAttribute(\"style\");\n      }\n      elementMap.delete(target);\n    }\n  }\n}\nfunction disableTextSelection(options = {}) {\n  const { defer, target, ...restOptions } = options;\n  const func = defer ? _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_0__.raf : (v) => v();\n  const cleanups = [];\n  cleanups.push(\n    func(() => {\n      const node = typeof target === \"function\" ? target() : target;\n      cleanups.push(disableTextSelectionImpl({ ...restOptions, target: node }));\n    })\n  );\n  return () => {\n    cleanups.forEach((fn) => fn?.());\n  };\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy90ZXh0LXNlbGVjdGlvbi9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUN5RDtBQUN6RDtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEM7QUFDOUMsVUFBVSxjQUFjO0FBQ3hCO0FBQ0E7QUFDQSxNQUFNLHdEQUFLO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0Msc0JBQXNCO0FBQzVEO0FBQ0EsMENBQTBDO0FBQzFDLFVBQVUsY0FBYztBQUN4QjtBQUNBO0FBQ0EsTUFBTSx3REFBSztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSwyREFBUTtBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDLFVBQVUsZ0NBQWdDO0FBQzFDLHVCQUF1QixrREFBRztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyw4QkFBOEI7QUFDN0UsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBhcmstdWkvZXhhbXBsZXMtcmVhY3QtbmV4dC1qcy8uL25vZGVfbW9kdWxlcy9AemFnLWpzL3RleHQtc2VsZWN0aW9uL2Rpc3QvaW5kZXgubWpzP2JhNjQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2luZGV4LnRzXG5pbXBvcnQgeyBpc0lvcywgbmV4dFRpY2ssIHJhZiB9IGZyb20gXCJAemFnLWpzL2RvbS1xdWVyeVwiO1xudmFyIHN0YXRlID0gXCJkZWZhdWx0XCI7XG52YXIgdXNlclNlbGVjdCA9IFwiXCI7XG52YXIgZWxlbWVudE1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuZnVuY3Rpb24gZGlzYWJsZVRleHRTZWxlY3Rpb25JbXBsKG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7IHRhcmdldCwgZG9jIH0gPSBvcHRpb25zO1xuICBjb25zdCBkb2NOb2RlID0gZG9jID8/IGRvY3VtZW50O1xuICBjb25zdCByb290RWwgPSBkb2NOb2RlLmRvY3VtZW50RWxlbWVudDtcbiAgaWYgKGlzSW9zKCkpIHtcbiAgICBpZiAoc3RhdGUgPT09IFwiZGVmYXVsdFwiKSB7XG4gICAgICB1c2VyU2VsZWN0ID0gcm9vdEVsLnN0eWxlLndlYmtpdFVzZXJTZWxlY3Q7XG4gICAgICByb290RWwuc3R5bGUud2Via2l0VXNlclNlbGVjdCA9IFwibm9uZVwiO1xuICAgIH1cbiAgICBzdGF0ZSA9IFwiZGlzYWJsZWRcIjtcbiAgfSBlbHNlIGlmICh0YXJnZXQpIHtcbiAgICBlbGVtZW50TWFwLnNldCh0YXJnZXQsIHRhcmdldC5zdHlsZS51c2VyU2VsZWN0KTtcbiAgICB0YXJnZXQuc3R5bGUudXNlclNlbGVjdCA9IFwibm9uZVwiO1xuICB9XG4gIHJldHVybiAoKSA9PiByZXN0b3JlVGV4dFNlbGVjdGlvbih7IHRhcmdldCwgZG9jOiBkb2NOb2RlIH0pO1xufVxuZnVuY3Rpb24gcmVzdG9yZVRleHRTZWxlY3Rpb24ob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHsgdGFyZ2V0LCBkb2MgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGRvY05vZGUgPSBkb2MgPz8gZG9jdW1lbnQ7XG4gIGNvbnN0IHJvb3RFbCA9IGRvY05vZGUuZG9jdW1lbnRFbGVtZW50O1xuICBpZiAoaXNJb3MoKSkge1xuICAgIGlmIChzdGF0ZSAhPT0gXCJkaXNhYmxlZFwiKVxuICAgICAgcmV0dXJuO1xuICAgIHN0YXRlID0gXCJyZXN0b3JpbmdcIjtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgaWYgKHN0YXRlID09PSBcInJlc3RvcmluZ1wiKSB7XG4gICAgICAgICAgaWYgKHJvb3RFbC5zdHlsZS53ZWJraXRVc2VyU2VsZWN0ID09PSBcIm5vbmVcIikge1xuICAgICAgICAgICAgcm9vdEVsLnN0eWxlLndlYmtpdFVzZXJTZWxlY3QgPSB1c2VyU2VsZWN0IHx8IFwiXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHVzZXJTZWxlY3QgPSBcIlwiO1xuICAgICAgICAgIHN0YXRlID0gXCJkZWZhdWx0XCI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sIDMwMCk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHRhcmdldCAmJiBlbGVtZW50TWFwLmhhcyh0YXJnZXQpKSB7XG4gICAgICBjb25zdCBwcmV2VXNlclNlbGVjdCA9IGVsZW1lbnRNYXAuZ2V0KHRhcmdldCk7XG4gICAgICBpZiAodGFyZ2V0LnN0eWxlLnVzZXJTZWxlY3QgPT09IFwibm9uZVwiKSB7XG4gICAgICAgIHRhcmdldC5zdHlsZS51c2VyU2VsZWN0ID0gcHJldlVzZXJTZWxlY3QgPz8gXCJcIjtcbiAgICAgIH1cbiAgICAgIGlmICh0YXJnZXQuZ2V0QXR0cmlidXRlKFwic3R5bGVcIikgPT09IFwiXCIpIHtcbiAgICAgICAgdGFyZ2V0LnJlbW92ZUF0dHJpYnV0ZShcInN0eWxlXCIpO1xuICAgICAgfVxuICAgICAgZWxlbWVudE1hcC5kZWxldGUodGFyZ2V0KTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGRpc2FibGVUZXh0U2VsZWN0aW9uKG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7IGRlZmVyLCB0YXJnZXQsIC4uLnJlc3RPcHRpb25zIH0gPSBvcHRpb25zO1xuICBjb25zdCBmdW5jID0gZGVmZXIgPyByYWYgOiAodikgPT4gdigpO1xuICBjb25zdCBjbGVhbnVwcyA9IFtdO1xuICBjbGVhbnVwcy5wdXNoKFxuICAgIGZ1bmMoKCkgPT4ge1xuICAgICAgY29uc3Qgbm9kZSA9IHR5cGVvZiB0YXJnZXQgPT09IFwiZnVuY3Rpb25cIiA/IHRhcmdldCgpIDogdGFyZ2V0O1xuICAgICAgY2xlYW51cHMucHVzaChkaXNhYmxlVGV4dFNlbGVjdGlvbkltcGwoeyAuLi5yZXN0T3B0aW9ucywgdGFyZ2V0OiBub2RlIH0pKTtcbiAgICB9KVxuICApO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGNsZWFudXBzLmZvckVhY2goKGZuKSA9PiBmbj8uKCkpO1xuICB9O1xufVxuZXhwb3J0IHtcbiAgZGlzYWJsZVRleHRTZWxlY3Rpb24sXG4gIHJlc3RvcmVUZXh0U2VsZWN0aW9uXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/text-selection/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/toast/dist/index.mjs":
/*!***************************************************!*\
  !*** ./node_modules/@zag-js/toast/dist/index.mjs ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   anatomy: () => (/* binding */ anatomy),\n/* harmony export */   connect: () => (/* binding */ connect),\n/* harmony export */   createMachine: () => (/* binding */ createToastMachine),\n/* harmony export */   group: () => (/* binding */ group)\n/* harmony export */ });\n/* harmony import */ var _zag_js_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @zag-js/core */ \"(ssr)/./node_modules/@zag-js/store/dist/index.mjs\");\n/* harmony import */ var _zag_js_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @zag-js/utils */ \"(ssr)/./node_modules/@zag-js/utils/dist/index.mjs\");\n/* harmony import */ var _zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/anatomy */ \"(ssr)/./node_modules/@zag-js/anatomy/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @zag-js/dom-query */ \"(ssr)/./node_modules/@zag-js/dom-query/dist/index.mjs\");\n/* harmony import */ var _zag_js_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @zag-js/core */ \"(ssr)/./node_modules/@zag-js/core/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_event__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @zag-js/dom-event */ \"(ssr)/./node_modules/@zag-js/dom-event/dist/index.mjs\");\n// src/toast-group.connect.ts\n\n\n\n// src/toast.anatomy.ts\n\nvar anatomy = (0,_zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__.createAnatomy)(\"toast\").parts(\"group\", \"root\", \"title\", \"description\", \"closeTrigger\");\nvar parts = anatomy.build();\n\n// src/toast.dom.ts\n\nvar dom = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.createScope)({\n  getGroupId: (placement) => `toast-group:${placement}`,\n  getRootId: (ctx) => `toast:${ctx.id}`,\n  getTitleId: (ctx) => `toast:${ctx.id}:title`,\n  getDescriptionId: (ctx) => `toast:${ctx.id}:description`,\n  getCloseTriggerId: (ctx) => `toast${ctx.id}:close`\n});\n\n// src/toast.utils.ts\nfunction getToastsByPlacement(toasts) {\n  const result = {};\n  for (const toast of toasts) {\n    const placement = toast.state.context.placement;\n    result[placement] || (result[placement] = []);\n    result[placement].push(toast);\n  }\n  return result;\n}\nvar defaultTimeouts = {\n  info: 5e3,\n  error: 5e3,\n  success: 2e3,\n  loading: Infinity,\n  custom: 5e3\n};\nfunction getToastDuration(duration, type) {\n  return duration ?? defaultTimeouts[type];\n}\nfunction getGroupPlacementStyle(ctx, placement) {\n  const offset = ctx.offsets;\n  const computedOffset = typeof offset === \"string\" ? { left: offset, right: offset, bottom: offset, top: offset } : offset;\n  const rtl = ctx.dir === \"rtl\";\n  const computedPlacement = placement.replace(\"-start\", rtl ? \"-right\" : \"-left\").replace(\"-end\", rtl ? \"-left\" : \"-right\");\n  const isRighty = computedPlacement.includes(\"right\");\n  const isLefty = computedPlacement.includes(\"left\");\n  const styles = {\n    position: \"fixed\",\n    pointerEvents: ctx.count > 0 ? void 0 : \"none\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    \"--toast-gutter\": ctx.gutter,\n    zIndex: ctx.zIndex\n  };\n  let alignItems = \"center\";\n  if (isRighty)\n    alignItems = \"flex-end\";\n  if (isLefty)\n    alignItems = \"flex-start\";\n  styles.alignItems = alignItems;\n  if (computedPlacement.includes(\"top\")) {\n    const offset2 = computedOffset.top;\n    styles.top = `calc(env(safe-area-inset-top, 0px) + ${offset2})`;\n  }\n  if (computedPlacement.includes(\"bottom\")) {\n    const offset2 = computedOffset.bottom;\n    styles.bottom = `calc(env(safe-area-inset-bottom, 0px) + ${offset2})`;\n  }\n  if (!computedPlacement.includes(\"left\")) {\n    const offset2 = computedOffset.right;\n    styles.right = `calc(env(safe-area-inset-right, 0px) + ${offset2})`;\n  }\n  if (!computedPlacement.includes(\"right\")) {\n    const offset2 = computedOffset.left;\n    styles.left = `calc(env(safe-area-inset-left, 0px) + ${offset2})`;\n  }\n  return styles;\n}\n\n// src/toast-group.connect.ts\nfunction groupConnect(state, send, normalize) {\n  const toastsByPlacement = getToastsByPlacement(state.context.toasts);\n  function isVisible(id) {\n    if (!state.context.toasts.length)\n      return false;\n    return !!state.context.toasts.find((toast) => toast.id == id);\n  }\n  function create(options) {\n    const uid = `toast:${(0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.uuid)()}`;\n    const id = options.id ? options.id : uid;\n    if (isVisible(id))\n      return;\n    send({ type: \"ADD_TOAST\", toast: { ...options, id } });\n    return id;\n  }\n  function update(id, options) {\n    if (!isVisible(id))\n      return;\n    send({ type: \"UPDATE_TOAST\", id, toast: options });\n    return id;\n  }\n  function upsert(options) {\n    const { id } = options;\n    const visible = id ? isVisible(id) : false;\n    if (visible && id != null) {\n      return update(id, options);\n    } else {\n      return create(options);\n    }\n  }\n  function dismiss(id) {\n    if (id == null) {\n      send(\"DISMISS_ALL\");\n    } else if (isVisible(id)) {\n      send({ type: \"DISMISS_TOAST\", id });\n    }\n  }\n  return {\n    count: state.context.count,\n    toasts: state.context.toasts,\n    toastsByPlacement,\n    isVisible,\n    create,\n    update,\n    upsert,\n    dismiss,\n    remove(id) {\n      if (id == null) {\n        send(\"REMOVE_ALL\");\n      } else if (isVisible(id)) {\n        send({ type: \"REMOVE_TOAST\", id });\n      }\n    },\n    dismissByPlacement(placement) {\n      const toasts = toastsByPlacement[placement];\n      if (toasts) {\n        toasts.forEach((toast) => dismiss(toast.id));\n      }\n    },\n    loading(options) {\n      return upsert({ ...options, type: \"loading\" });\n    },\n    success(options) {\n      return upsert({ ...options, type: \"success\" });\n    },\n    error(options) {\n      return upsert({ ...options, type: \"error\" });\n    },\n    promise(promise, options, shared = {}) {\n      const id = upsert({ ...shared, ...options.loading, type: \"loading\" });\n      promise.then((response) => {\n        const successOptions = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.runIfFn)(options.success, response);\n        upsert({ ...shared, ...successOptions, id, type: \"success\" });\n      }).catch((error) => {\n        const errorOptions = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.runIfFn)(options.error, error);\n        upsert({ ...shared, ...errorOptions, id, type: \"error\" });\n      });\n      return promise;\n    },\n    pause(id) {\n      if (id == null) {\n        send(\"PAUSE_ALL\");\n      } else if (isVisible(id)) {\n        send({ type: \"PAUSE_TOAST\", id });\n      }\n    },\n    resume(id) {\n      if (id == null) {\n        send(\"RESUME_ALL\");\n      } else if (isVisible(id)) {\n        send({ type: \"RESUME_TOAST\", id });\n      }\n    },\n    getGroupProps(options) {\n      const { placement, label = \"Notifications\" } = options;\n      return normalize.element({\n        ...parts.group.attrs,\n        dir: state.context.dir,\n        tabIndex: -1,\n        \"aria-label\": `${placement} ${label}`,\n        id: dom.getGroupId(placement),\n        \"data-placement\": placement,\n        \"aria-live\": \"polite\",\n        role: \"region\",\n        style: getGroupPlacementStyle(state.context, placement)\n      });\n    },\n    subscribe(fn) {\n      return (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_3__.subscribe)(state.context.toasts, () => fn(state.context.toasts));\n    }\n  };\n}\n\n// src/toast-group.machine.ts\n\n\n\n\n// src/toast.machine.ts\n\n\n\nvar { not, and, or } = _zag_js_core__WEBPACK_IMPORTED_MODULE_4__.guards;\nfunction createToastMachine(options = {}) {\n  const { type = \"info\", duration, id = \"toast\", placement = \"bottom\", removeDelay = 0, ...restProps } = options;\n  const ctx = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.compact)(restProps);\n  const computedDuration = getToastDuration(duration, type);\n  return (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_4__.createMachine)(\n    {\n      id,\n      entry: \"invokeOnOpen\",\n      initial: type === \"loading\" ? \"persist\" : \"active\",\n      context: {\n        id,\n        type,\n        remaining: computedDuration,\n        duration: computedDuration,\n        removeDelay,\n        createdAt: Date.now(),\n        placement,\n        ...ctx\n      },\n      on: {\n        UPDATE: [\n          {\n            guard: and(\"hasTypeChanged\", \"isChangingToLoading\"),\n            target: \"persist\",\n            actions: [\"setContext\", \"invokeOnUpdate\"]\n          },\n          {\n            guard: or(\"hasDurationChanged\", \"hasTypeChanged\"),\n            target: \"active:temp\",\n            actions: [\"setContext\", \"invokeOnUpdate\"]\n          },\n          {\n            actions: [\"setContext\", \"invokeOnUpdate\"]\n          }\n        ]\n      },\n      states: {\n        \"active:temp\": {\n          tags: [\"visible\", \"updating\"],\n          after: {\n            0: \"active\"\n          }\n        },\n        persist: {\n          tags: [\"visible\", \"paused\"],\n          activities: \"trackDocumentVisibility\",\n          on: {\n            RESUME: {\n              guard: not(\"isLoadingType\"),\n              target: \"active\",\n              actions: [\"setCreatedAt\"]\n            },\n            DISMISS: \"dismissing\"\n          }\n        },\n        active: {\n          tags: [\"visible\"],\n          activities: \"trackDocumentVisibility\",\n          after: {\n            VISIBLE_DURATION: \"dismissing\"\n          },\n          on: {\n            DISMISS: \"dismissing\",\n            PAUSE: {\n              target: \"persist\",\n              actions: \"setRemainingDuration\"\n            }\n          }\n        },\n        dismissing: {\n          entry: \"invokeOnClosing\",\n          after: {\n            REMOVE_DELAY: {\n              target: \"inactive\",\n              actions: \"notifyParentToRemove\"\n            }\n          }\n        },\n        inactive: {\n          entry: \"invokeOnClose\",\n          type: \"final\"\n        }\n      }\n    },\n    {\n      activities: {\n        trackDocumentVisibility(ctx2, _evt, { send }) {\n          if (!ctx2.pauseOnPageIdle)\n            return;\n          const doc = dom.getDoc(ctx2);\n          return (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_5__.addDomEvent)(doc, \"visibilitychange\", () => {\n            send(doc.visibilityState === \"hidden\" ? \"PAUSE\" : \"RESUME\");\n          });\n        }\n      },\n      guards: {\n        isChangingToLoading: (_, evt) => evt.toast?.type === \"loading\",\n        isLoadingType: (ctx2) => ctx2.type === \"loading\",\n        hasTypeChanged: (ctx2, evt) => evt.toast?.type !== ctx2.type,\n        hasDurationChanged: (ctx2, evt) => evt.toast?.duration !== ctx2.duration\n      },\n      delays: {\n        VISIBLE_DURATION: (ctx2) => ctx2.remaining,\n        REMOVE_DELAY: (ctx2) => ctx2.removeDelay\n      },\n      actions: {\n        setRemainingDuration(ctx2) {\n          ctx2.remaining -= Date.now() - ctx2.createdAt;\n        },\n        setCreatedAt(ctx2) {\n          ctx2.createdAt = Date.now();\n        },\n        notifyParentToRemove(_ctx, _evt, { self }) {\n          self.sendParent({ type: \"REMOVE_TOAST\", id: self.id });\n        },\n        invokeOnClosing(ctx2) {\n          ctx2.onClosing?.();\n        },\n        invokeOnClose(ctx2) {\n          ctx2.onClose?.();\n        },\n        invokeOnOpen(ctx2) {\n          ctx2.onOpen?.();\n        },\n        invokeOnUpdate(ctx2) {\n          ctx2.onUpdate?.();\n        },\n        setContext(ctx2, evt) {\n          const { duration: duration2, type: type2 } = evt.toast;\n          const time = getToastDuration(duration2, type2);\n          Object.assign(ctx2, { ...evt.toast, duration: time, remaining: time });\n        }\n      }\n    }\n  );\n}\n\n// src/toast-group.machine.ts\nfunction groupMachine(userContext) {\n  const ctx = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.compact)(userContext);\n  return (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_4__.createMachine)({\n    id: \"toaster\",\n    initial: \"active\",\n    context: {\n      dir: \"ltr\",\n      max: Number.MAX_SAFE_INTEGER,\n      toasts: [],\n      gutter: \"1rem\",\n      zIndex: _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.MAX_Z_INDEX,\n      pauseOnPageIdle: false,\n      pauseOnInteraction: true,\n      offsets: { left: \"0px\", right: \"0px\", top: \"0px\", bottom: \"0px\" },\n      ...ctx\n    },\n    computed: {\n      count: (ctx2) => ctx2.toasts.length\n    },\n    on: {\n      SETUP: {},\n      PAUSE_TOAST: {\n        actions: (_ctx, evt, { self }) => {\n          self.sendChild(\"PAUSE\", evt.id);\n        }\n      },\n      PAUSE_ALL: {\n        actions: (ctx2) => {\n          ctx2.toasts.forEach((toast) => toast.send(\"PAUSE\"));\n        }\n      },\n      RESUME_TOAST: {\n        actions: (_ctx, evt, { self }) => {\n          self.sendChild(\"RESUME\", evt.id);\n        }\n      },\n      RESUME_ALL: {\n        actions: (ctx2) => {\n          ctx2.toasts.forEach((toast) => toast.send(\"RESUME\"));\n        }\n      },\n      ADD_TOAST: {\n        guard: (ctx2) => ctx2.toasts.length < ctx2.max,\n        actions: (ctx2, evt, { self }) => {\n          const options = {\n            placement: ctx2.placement,\n            duration: ctx2.duration,\n            removeDelay: ctx2.removeDelay,\n            render: ctx2.render,\n            ...evt.toast,\n            pauseOnPageIdle: ctx2.pauseOnPageIdle,\n            pauseOnInteraction: ctx2.pauseOnInteraction,\n            dir: ctx2.dir,\n            getRootNode: ctx2.getRootNode\n          };\n          const toast = createToastMachine(options);\n          const actor = self.spawn(toast);\n          ctx2.toasts.push(actor);\n        }\n      },\n      UPDATE_TOAST: {\n        actions: (_ctx, evt, { self }) => {\n          self.sendChild({ type: \"UPDATE\", toast: evt.toast }, evt.id);\n        }\n      },\n      DISMISS_TOAST: {\n        actions: (_ctx, evt, { self }) => {\n          self.sendChild(\"DISMISS\", evt.id);\n        }\n      },\n      DISMISS_ALL: {\n        actions: (ctx2) => {\n          ctx2.toasts.forEach((toast) => toast.send(\"DISMISS\"));\n        }\n      },\n      REMOVE_TOAST: {\n        actions: (ctx2, evt, { self }) => {\n          self.stopChild(evt.id);\n          const index = ctx2.toasts.findIndex((toast) => toast.id === evt.id);\n          ctx2.toasts.splice(index, 1);\n        }\n      },\n      REMOVE_ALL: {\n        actions: (ctx2, _evt, { self }) => {\n          ctx2.toasts.forEach((toast) => self.stopChild(toast.id));\n          while (ctx2.toasts.length)\n            ctx2.toasts.pop();\n        }\n      }\n    }\n  });\n}\n\n// src/toast.connect.ts\nfunction connect(state, send, normalize) {\n  const isVisible = state.hasTag(\"visible\");\n  const isPaused = state.hasTag(\"paused\");\n  const pauseOnInteraction = state.context.pauseOnInteraction;\n  const placement = state.context.placement;\n  return {\n    type: state.context.type,\n    title: state.context.title,\n    description: state.context.description,\n    placement,\n    isVisible,\n    isPaused,\n    isRtl: state.context.dir === \"rtl\",\n    pause() {\n      send(\"PAUSE\");\n    },\n    resume() {\n      send(\"RESUME\");\n    },\n    dismiss() {\n      send(\"DISMISS\");\n    },\n    rootProps: normalize.element({\n      ...parts.root.attrs,\n      dir: state.context.dir,\n      id: dom.getRootId(state.context),\n      \"data-state\": isVisible ? \"open\" : \"closed\",\n      \"data-type\": state.context.type,\n      \"data-placement\": placement,\n      role: \"status\",\n      \"aria-atomic\": \"true\",\n      tabIndex: 0,\n      style: {\n        position: \"relative\",\n        pointerEvents: \"auto\",\n        margin: \"calc(var(--toast-gutter) / 2)\",\n        \"--remove-delay\": `${state.context.removeDelay}ms`,\n        \"--duration\": `${state.context.duration}ms`\n      },\n      onKeyDown(event) {\n        if (event.key == \"Escape\") {\n          send(\"DISMISS\");\n          event.preventDefault();\n        }\n      },\n      onFocus() {\n        if (pauseOnInteraction) {\n          send(\"PAUSE\");\n        }\n      },\n      onBlur() {\n        if (pauseOnInteraction) {\n          send(\"RESUME\");\n        }\n      },\n      onPointerEnter() {\n        if (pauseOnInteraction) {\n          send(\"PAUSE\");\n        }\n      },\n      onPointerLeave() {\n        if (pauseOnInteraction) {\n          send(\"RESUME\");\n        }\n      }\n    }),\n    titleProps: normalize.element({\n      ...parts.title.attrs,\n      id: dom.getTitleId(state.context)\n    }),\n    descriptionProps: normalize.element({\n      ...parts.description.attrs,\n      id: dom.getDescriptionId(state.context)\n    }),\n    closeTriggerProps: normalize.button({\n      id: dom.getCloseTriggerId(state.context),\n      ...parts.closeTrigger.attrs,\n      type: \"button\",\n      \"aria-label\": \"Dismiss notification\",\n      onClick() {\n        send(\"DISMISS\");\n      }\n    })\n  };\n}\n\n// src/index.ts\nvar group = {\n  connect: groupConnect,\n  machine: groupMachine\n};\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy90b2FzdC9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7QUFDeUM7QUFDSzs7QUFFOUM7QUFDZ0Q7QUFDaEQsY0FBYyw4REFBYTtBQUMzQjs7QUFFQTtBQUNnRDtBQUNoRCxVQUFVLDhEQUFXO0FBQ3JCLDRDQUE0QyxVQUFVO0FBQ3RELCtCQUErQixPQUFPO0FBQ3RDLGdDQUFnQyxPQUFPO0FBQ3ZDLHNDQUFzQyxPQUFPO0FBQzdDLHNDQUFzQyxPQUFPO0FBQzdDLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsMkRBQTJEO0FBQ25IO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsUUFBUTtBQUNqRTtBQUNBO0FBQ0E7QUFDQSwrREFBK0QsUUFBUTtBQUN2RTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsUUFBUTtBQUNyRTtBQUNBO0FBQ0E7QUFDQSwyREFBMkQsUUFBUTtBQUNuRTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLG1EQUFJLEdBQUc7QUFDaEM7QUFDQTtBQUNBO0FBQ0EsV0FBVyw0QkFBNEIsa0JBQWtCO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDBDQUEwQztBQUNyRDtBQUNBO0FBQ0E7QUFDQSxZQUFZLEtBQUs7QUFDakI7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixhQUFh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QUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBhcmstdWkvZXhhbXBsZXMtcmVhY3QtbmV4dC1qcy8uL25vZGVfbW9kdWxlcy9AemFnLWpzL3RvYXN0L2Rpc3QvaW5kZXgubWpzPzdhOGYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL3RvYXN0LWdyb3VwLmNvbm5lY3QudHNcbmltcG9ydCB7IHN1YnNjcmliZSB9IGZyb20gXCJAemFnLWpzL2NvcmVcIjtcbmltcG9ydCB7IHJ1bklmRm4sIHV1aWQgfSBmcm9tIFwiQHphZy1qcy91dGlsc1wiO1xuXG4vLyBzcmMvdG9hc3QuYW5hdG9teS50c1xuaW1wb3J0IHsgY3JlYXRlQW5hdG9teSB9IGZyb20gXCJAemFnLWpzL2FuYXRvbXlcIjtcbnZhciBhbmF0b215ID0gY3JlYXRlQW5hdG9teShcInRvYXN0XCIpLnBhcnRzKFwiZ3JvdXBcIiwgXCJyb290XCIsIFwidGl0bGVcIiwgXCJkZXNjcmlwdGlvblwiLCBcImNsb3NlVHJpZ2dlclwiKTtcbnZhciBwYXJ0cyA9IGFuYXRvbXkuYnVpbGQoKTtcblxuLy8gc3JjL3RvYXN0LmRvbS50c1xuaW1wb3J0IHsgY3JlYXRlU2NvcGUgfSBmcm9tIFwiQHphZy1qcy9kb20tcXVlcnlcIjtcbnZhciBkb20gPSBjcmVhdGVTY29wZSh7XG4gIGdldEdyb3VwSWQ6IChwbGFjZW1lbnQpID0+IGB0b2FzdC1ncm91cDoke3BsYWNlbWVudH1gLFxuICBnZXRSb290SWQ6IChjdHgpID0+IGB0b2FzdDoke2N0eC5pZH1gLFxuICBnZXRUaXRsZUlkOiAoY3R4KSA9PiBgdG9hc3Q6JHtjdHguaWR9OnRpdGxlYCxcbiAgZ2V0RGVzY3JpcHRpb25JZDogKGN0eCkgPT4gYHRvYXN0OiR7Y3R4LmlkfTpkZXNjcmlwdGlvbmAsXG4gIGdldENsb3NlVHJpZ2dlcklkOiAoY3R4KSA9PiBgdG9hc3Qke2N0eC5pZH06Y2xvc2VgXG59KTtcblxuLy8gc3JjL3RvYXN0LnV0aWxzLnRzXG5mdW5jdGlvbiBnZXRUb2FzdHNCeVBsYWNlbWVudCh0b2FzdHMpIHtcbiAgY29uc3QgcmVzdWx0ID0ge307XG4gIGZvciAoY29uc3QgdG9hc3Qgb2YgdG9hc3RzKSB7XG4gICAgY29uc3QgcGxhY2VtZW50ID0gdG9hc3Quc3RhdGUuY29udGV4dC5wbGFjZW1lbnQ7XG4gICAgcmVzdWx0W3BsYWNlbWVudF0gfHwgKHJlc3VsdFtwbGFjZW1lbnRdID0gW10pO1xuICAgIHJlc3VsdFtwbGFjZW1lbnRdLnB1c2godG9hc3QpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG52YXIgZGVmYXVsdFRpbWVvdXRzID0ge1xuICBpbmZvOiA1ZTMsXG4gIGVycm9yOiA1ZTMsXG4gIHN1Y2Nlc3M6IDJlMyxcbiAgbG9hZGluZzogSW5maW5pdHksXG4gIGN1c3RvbTogNWUzXG59O1xuZnVuY3Rpb24gZ2V0VG9hc3REdXJhdGlvbihkdXJhdGlvbiwgdHlwZSkge1xuICByZXR1cm4gZHVyYXRpb24gPz8gZGVmYXVsdFRpbWVvdXRzW3R5cGVdO1xufVxuZnVuY3Rpb24gZ2V0R3JvdXBQbGFjZW1lbnRTdHlsZShjdHgsIHBsYWNlbWVudCkge1xuICBjb25zdCBvZmZzZXQgPSBjdHgub2Zmc2V0cztcbiAgY29uc3QgY29tcHV0ZWRPZmZzZXQgPSB0eXBlb2Ygb2Zmc2V0ID09PSBcInN0cmluZ1wiID8geyBsZWZ0OiBvZmZzZXQsIHJpZ2h0OiBvZmZzZXQsIGJvdHRvbTogb2Zmc2V0LCB0b3A6IG9mZnNldCB9IDogb2Zmc2V0O1xuICBjb25zdCBydGwgPSBjdHguZGlyID09PSBcInJ0bFwiO1xuICBjb25zdCBjb21wdXRlZFBsYWNlbWVudCA9IHBsYWNlbWVudC5yZXBsYWNlKFwiLXN0YXJ0XCIsIHJ0bCA/IFwiLXJpZ2h0XCIgOiBcIi1sZWZ0XCIpLnJlcGxhY2UoXCItZW5kXCIsIHJ0bCA/IFwiLWxlZnRcIiA6IFwiLXJpZ2h0XCIpO1xuICBjb25zdCBpc1JpZ2h0eSA9IGNvbXB1dGVkUGxhY2VtZW50LmluY2x1ZGVzKFwicmlnaHRcIik7XG4gIGNvbnN0IGlzTGVmdHkgPSBjb21wdXRlZFBsYWNlbWVudC5pbmNsdWRlcyhcImxlZnRcIik7XG4gIGNvbnN0IHN0eWxlcyA9IHtcbiAgICBwb3NpdGlvbjogXCJmaXhlZFwiLFxuICAgIHBvaW50ZXJFdmVudHM6IGN0eC5jb3VudCA+IDAgPyB2b2lkIDAgOiBcIm5vbmVcIixcbiAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgIFwiLS10b2FzdC1ndXR0ZXJcIjogY3R4Lmd1dHRlcixcbiAgICB6SW5kZXg6IGN0eC56SW5kZXhcbiAgfTtcbiAgbGV0IGFsaWduSXRlbXMgPSBcImNlbnRlclwiO1xuICBpZiAoaXNSaWdodHkpXG4gICAgYWxpZ25JdGVtcyA9IFwiZmxleC1lbmRcIjtcbiAgaWYgKGlzTGVmdHkpXG4gICAgYWxpZ25JdGVtcyA9IFwiZmxleC1zdGFydFwiO1xuICBzdHlsZXMuYWxpZ25JdGVtcyA9IGFsaWduSXRlbXM7XG4gIGlmIChjb21wdXRlZFBsYWNlbWVudC5pbmNsdWRlcyhcInRvcFwiKSkge1xuICAgIGNvbnN0IG9mZnNldDIgPSBjb21wdXRlZE9mZnNldC50b3A7XG4gICAgc3R5bGVzLnRvcCA9IGBjYWxjKGVudihzYWZlLWFyZWEtaW5zZXQtdG9wLCAwcHgpICsgJHtvZmZzZXQyfSlgO1xuICB9XG4gIGlmIChjb21wdXRlZFBsYWNlbWVudC5pbmNsdWRlcyhcImJvdHRvbVwiKSkge1xuICAgIGNvbnN0IG9mZnNldDIgPSBjb21wdXRlZE9mZnNldC5ib3R0b207XG4gICAgc3R5bGVzLmJvdHRvbSA9IGBjYWxjKGVudihzYWZlLWFyZWEtaW5zZXQtYm90dG9tLCAwcHgpICsgJHtvZmZzZXQyfSlgO1xuICB9XG4gIGlmICghY29tcHV0ZWRQbGFjZW1lbnQuaW5jbHVkZXMoXCJsZWZ0XCIpKSB7XG4gICAgY29uc3Qgb2Zmc2V0MiA9IGNvbXB1dGVkT2Zmc2V0LnJpZ2h0O1xuICAgIHN0eWxlcy5yaWdodCA9IGBjYWxjKGVudihzYWZlLWFyZWEtaW5zZXQtcmlnaHQsIDBweCkgKyAke29mZnNldDJ9KWA7XG4gIH1cbiAgaWYgKCFjb21wdXRlZFBsYWNlbWVudC5pbmNsdWRlcyhcInJpZ2h0XCIpKSB7XG4gICAgY29uc3Qgb2Zmc2V0MiA9IGNvbXB1dGVkT2Zmc2V0LmxlZnQ7XG4gICAgc3R5bGVzLmxlZnQgPSBgY2FsYyhlbnYoc2FmZS1hcmVhLWluc2V0LWxlZnQsIDBweCkgKyAke29mZnNldDJ9KWA7XG4gIH1cbiAgcmV0dXJuIHN0eWxlcztcbn1cblxuLy8gc3JjL3RvYXN0LWdyb3VwLmNvbm5lY3QudHNcbmZ1bmN0aW9uIGdyb3VwQ29ubmVjdChzdGF0ZSwgc2VuZCwgbm9ybWFsaXplKSB7XG4gIGNvbnN0IHRvYXN0c0J5UGxhY2VtZW50ID0gZ2V0VG9hc3RzQnlQbGFjZW1lbnQoc3RhdGUuY29udGV4dC50b2FzdHMpO1xuICBmdW5jdGlvbiBpc1Zpc2libGUoaWQpIHtcbiAgICBpZiAoIXN0YXRlLmNvbnRleHQudG9hc3RzLmxlbmd0aClcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gISFzdGF0ZS5jb250ZXh0LnRvYXN0cy5maW5kKCh0b2FzdCkgPT4gdG9hc3QuaWQgPT0gaWQpO1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZShvcHRpb25zKSB7XG4gICAgY29uc3QgdWlkID0gYHRvYXN0OiR7dXVpZCgpfWA7XG4gICAgY29uc3QgaWQgPSBvcHRpb25zLmlkID8gb3B0aW9ucy5pZCA6IHVpZDtcbiAgICBpZiAoaXNWaXNpYmxlKGlkKSlcbiAgICAgIHJldHVybjtcbiAgICBzZW5kKHsgdHlwZTogXCJBRERfVE9BU1RcIiwgdG9hc3Q6IHsgLi4ub3B0aW9ucywgaWQgfSB9KTtcbiAgICByZXR1cm4gaWQ7XG4gIH1cbiAgZnVuY3Rpb24gdXBkYXRlKGlkLCBvcHRpb25zKSB7XG4gICAgaWYgKCFpc1Zpc2libGUoaWQpKVxuICAgICAgcmV0dXJuO1xuICAgIHNlbmQoeyB0eXBlOiBcIlVQREFURV9UT0FTVFwiLCBpZCwgdG9hc3Q6IG9wdGlvbnMgfSk7XG4gICAgcmV0dXJuIGlkO1xuICB9XG4gIGZ1bmN0aW9uIHVwc2VydChvcHRpb25zKSB7XG4gICAgY29uc3QgeyBpZCB9ID0gb3B0aW9ucztcbiAgICBjb25zdCB2aXNpYmxlID0gaWQgPyBpc1Zpc2libGUoaWQpIDogZmFsc2U7XG4gICAgaWYgKHZpc2libGUgJiYgaWQgIT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHVwZGF0ZShpZCwgb3B0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjcmVhdGUob3B0aW9ucyk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGRpc21pc3MoaWQpIHtcbiAgICBpZiAoaWQgPT0gbnVsbCkge1xuICAgICAgc2VuZChcIkRJU01JU1NfQUxMXCIpO1xuICAgIH0gZWxzZSBpZiAoaXNWaXNpYmxlKGlkKSkge1xuICAgICAgc2VuZCh7IHR5cGU6IFwiRElTTUlTU19UT0FTVFwiLCBpZCB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBjb3VudDogc3RhdGUuY29udGV4dC5jb3VudCxcbiAgICB0b2FzdHM6IHN0YXRlLmNvbnRleHQudG9hc3RzLFxuICAgIHRvYXN0c0J5UGxhY2VtZW50LFxuICAgIGlzVmlzaWJsZSxcbiAgICBjcmVhdGUsXG4gICAgdXBkYXRlLFxuICAgIHVwc2VydCxcbiAgICBkaXNtaXNzLFxuICAgIHJlbW92ZShpZCkge1xuICAgICAgaWYgKGlkID09IG51bGwpIHtcbiAgICAgICAgc2VuZChcIlJFTU9WRV9BTExcIik7XG4gICAgICB9IGVsc2UgaWYgKGlzVmlzaWJsZShpZCkpIHtcbiAgICAgICAgc2VuZCh7IHR5cGU6IFwiUkVNT1ZFX1RPQVNUXCIsIGlkIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgZGlzbWlzc0J5UGxhY2VtZW50KHBsYWNlbWVudCkge1xuICAgICAgY29uc3QgdG9hc3RzID0gdG9hc3RzQnlQbGFjZW1lbnRbcGxhY2VtZW50XTtcbiAgICAgIGlmICh0b2FzdHMpIHtcbiAgICAgICAgdG9hc3RzLmZvckVhY2goKHRvYXN0KSA9PiBkaXNtaXNzKHRvYXN0LmlkKSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBsb2FkaW5nKG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB1cHNlcnQoeyAuLi5vcHRpb25zLCB0eXBlOiBcImxvYWRpbmdcIiB9KTtcbiAgICB9LFxuICAgIHN1Y2Nlc3Mob3B0aW9ucykge1xuICAgICAgcmV0dXJuIHVwc2VydCh7IC4uLm9wdGlvbnMsIHR5cGU6IFwic3VjY2Vzc1wiIH0pO1xuICAgIH0sXG4gICAgZXJyb3Iob3B0aW9ucykge1xuICAgICAgcmV0dXJuIHVwc2VydCh7IC4uLm9wdGlvbnMsIHR5cGU6IFwiZXJyb3JcIiB9KTtcbiAgICB9LFxuICAgIHByb21pc2UocHJvbWlzZSwgb3B0aW9ucywgc2hhcmVkID0ge30pIHtcbiAgICAgIGNvbnN0IGlkID0gdXBzZXJ0KHsgLi4uc2hhcmVkLCAuLi5vcHRpb25zLmxvYWRpbmcsIHR5cGU6IFwibG9hZGluZ1wiIH0pO1xuICAgICAgcHJvbWlzZS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCBzdWNjZXNzT3B0aW9ucyA9IHJ1bklmRm4ob3B0aW9ucy5zdWNjZXNzLCByZXNwb25zZSk7XG4gICAgICAgIHVwc2VydCh7IC4uLnNoYXJlZCwgLi4uc3VjY2Vzc09wdGlvbnMsIGlkLCB0eXBlOiBcInN1Y2Nlc3NcIiB9KTtcbiAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICBjb25zdCBlcnJvck9wdGlvbnMgPSBydW5JZkZuKG9wdGlvbnMuZXJyb3IsIGVycm9yKTtcbiAgICAgICAgdXBzZXJ0KHsgLi4uc2hhcmVkLCAuLi5lcnJvck9wdGlvbnMsIGlkLCB0eXBlOiBcImVycm9yXCIgfSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH0sXG4gICAgcGF1c2UoaWQpIHtcbiAgICAgIGlmIChpZCA9PSBudWxsKSB7XG4gICAgICAgIHNlbmQoXCJQQVVTRV9BTExcIik7XG4gICAgICB9IGVsc2UgaWYgKGlzVmlzaWJsZShpZCkpIHtcbiAgICAgICAgc2VuZCh7IHR5cGU6IFwiUEFVU0VfVE9BU1RcIiwgaWQgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICByZXN1bWUoaWQpIHtcbiAgICAgIGlmIChpZCA9PSBudWxsKSB7XG4gICAgICAgIHNlbmQoXCJSRVNVTUVfQUxMXCIpO1xuICAgICAgfSBlbHNlIGlmIChpc1Zpc2libGUoaWQpKSB7XG4gICAgICAgIHNlbmQoeyB0eXBlOiBcIlJFU1VNRV9UT0FTVFwiLCBpZCB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGdldEdyb3VwUHJvcHMob3B0aW9ucykge1xuICAgICAgY29uc3QgeyBwbGFjZW1lbnQsIGxhYmVsID0gXCJOb3RpZmljYXRpb25zXCIgfSA9IG9wdGlvbnM7XG4gICAgICByZXR1cm4gbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgICAuLi5wYXJ0cy5ncm91cC5hdHRycyxcbiAgICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgICAgdGFiSW5kZXg6IC0xLFxuICAgICAgICBcImFyaWEtbGFiZWxcIjogYCR7cGxhY2VtZW50fSAke2xhYmVsfWAsXG4gICAgICAgIGlkOiBkb20uZ2V0R3JvdXBJZChwbGFjZW1lbnQpLFxuICAgICAgICBcImRhdGEtcGxhY2VtZW50XCI6IHBsYWNlbWVudCxcbiAgICAgICAgXCJhcmlhLWxpdmVcIjogXCJwb2xpdGVcIixcbiAgICAgICAgcm9sZTogXCJyZWdpb25cIixcbiAgICAgICAgc3R5bGU6IGdldEdyb3VwUGxhY2VtZW50U3R5bGUoc3RhdGUuY29udGV4dCwgcGxhY2VtZW50KVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBzdWJzY3JpYmUoZm4pIHtcbiAgICAgIHJldHVybiBzdWJzY3JpYmUoc3RhdGUuY29udGV4dC50b2FzdHMsICgpID0+IGZuKHN0YXRlLmNvbnRleHQudG9hc3RzKSk7XG4gICAgfVxuICB9O1xufVxuXG4vLyBzcmMvdG9hc3QtZ3JvdXAubWFjaGluZS50c1xuaW1wb3J0IHsgY3JlYXRlTWFjaGluZSBhcyBjcmVhdGVNYWNoaW5lMiB9IGZyb20gXCJAemFnLWpzL2NvcmVcIjtcbmltcG9ydCB7IE1BWF9aX0lOREVYIH0gZnJvbSBcIkB6YWctanMvZG9tLXF1ZXJ5XCI7XG5pbXBvcnQgeyBjb21wYWN0IGFzIGNvbXBhY3QyIH0gZnJvbSBcIkB6YWctanMvdXRpbHNcIjtcblxuLy8gc3JjL3RvYXN0Lm1hY2hpbmUudHNcbmltcG9ydCB7IGNyZWF0ZU1hY2hpbmUsIGd1YXJkcyB9IGZyb20gXCJAemFnLWpzL2NvcmVcIjtcbmltcG9ydCB7IGFkZERvbUV2ZW50IH0gZnJvbSBcIkB6YWctanMvZG9tLWV2ZW50XCI7XG5pbXBvcnQgeyBjb21wYWN0IH0gZnJvbSBcIkB6YWctanMvdXRpbHNcIjtcbnZhciB7IG5vdCwgYW5kLCBvciB9ID0gZ3VhcmRzO1xuZnVuY3Rpb24gY3JlYXRlVG9hc3RNYWNoaW5lKG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7IHR5cGUgPSBcImluZm9cIiwgZHVyYXRpb24sIGlkID0gXCJ0b2FzdFwiLCBwbGFjZW1lbnQgPSBcImJvdHRvbVwiLCByZW1vdmVEZWxheSA9IDAsIC4uLnJlc3RQcm9wcyB9ID0gb3B0aW9ucztcbiAgY29uc3QgY3R4ID0gY29tcGFjdChyZXN0UHJvcHMpO1xuICBjb25zdCBjb21wdXRlZER1cmF0aW9uID0gZ2V0VG9hc3REdXJhdGlvbihkdXJhdGlvbiwgdHlwZSk7XG4gIHJldHVybiBjcmVhdGVNYWNoaW5lKFxuICAgIHtcbiAgICAgIGlkLFxuICAgICAgZW50cnk6IFwiaW52b2tlT25PcGVuXCIsXG4gICAgICBpbml0aWFsOiB0eXBlID09PSBcImxvYWRpbmdcIiA/IFwicGVyc2lzdFwiIDogXCJhY3RpdmVcIixcbiAgICAgIGNvbnRleHQ6IHtcbiAgICAgICAgaWQsXG4gICAgICAgIHR5cGUsXG4gICAgICAgIHJlbWFpbmluZzogY29tcHV0ZWREdXJhdGlvbixcbiAgICAgICAgZHVyYXRpb246IGNvbXB1dGVkRHVyYXRpb24sXG4gICAgICAgIHJlbW92ZURlbGF5LFxuICAgICAgICBjcmVhdGVkQXQ6IERhdGUubm93KCksXG4gICAgICAgIHBsYWNlbWVudCxcbiAgICAgICAgLi4uY3R4XG4gICAgICB9LFxuICAgICAgb246IHtcbiAgICAgICAgVVBEQVRFOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZ3VhcmQ6IGFuZChcImhhc1R5cGVDaGFuZ2VkXCIsIFwiaXNDaGFuZ2luZ1RvTG9hZGluZ1wiKSxcbiAgICAgICAgICAgIHRhcmdldDogXCJwZXJzaXN0XCIsXG4gICAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRDb250ZXh0XCIsIFwiaW52b2tlT25VcGRhdGVcIl1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGd1YXJkOiBvcihcImhhc0R1cmF0aW9uQ2hhbmdlZFwiLCBcImhhc1R5cGVDaGFuZ2VkXCIpLFxuICAgICAgICAgICAgdGFyZ2V0OiBcImFjdGl2ZTp0ZW1wXCIsXG4gICAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRDb250ZXh0XCIsIFwiaW52b2tlT25VcGRhdGVcIl1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldENvbnRleHRcIiwgXCJpbnZva2VPblVwZGF0ZVwiXVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfSxcbiAgICAgIHN0YXRlczoge1xuICAgICAgICBcImFjdGl2ZTp0ZW1wXCI6IHtcbiAgICAgICAgICB0YWdzOiBbXCJ2aXNpYmxlXCIsIFwidXBkYXRpbmdcIl0sXG4gICAgICAgICAgYWZ0ZXI6IHtcbiAgICAgICAgICAgIDA6IFwiYWN0aXZlXCJcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHBlcnNpc3Q6IHtcbiAgICAgICAgICB0YWdzOiBbXCJ2aXNpYmxlXCIsIFwicGF1c2VkXCJdLFxuICAgICAgICAgIGFjdGl2aXRpZXM6IFwidHJhY2tEb2N1bWVudFZpc2liaWxpdHlcIixcbiAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgUkVTVU1FOiB7XG4gICAgICAgICAgICAgIGd1YXJkOiBub3QoXCJpc0xvYWRpbmdUeXBlXCIpLFxuICAgICAgICAgICAgICB0YXJnZXQ6IFwiYWN0aXZlXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldENyZWF0ZWRBdFwiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIERJU01JU1M6IFwiZGlzbWlzc2luZ1wiXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhY3RpdmU6IHtcbiAgICAgICAgICB0YWdzOiBbXCJ2aXNpYmxlXCJdLFxuICAgICAgICAgIGFjdGl2aXRpZXM6IFwidHJhY2tEb2N1bWVudFZpc2liaWxpdHlcIixcbiAgICAgICAgICBhZnRlcjoge1xuICAgICAgICAgICAgVklTSUJMRV9EVVJBVElPTjogXCJkaXNtaXNzaW5nXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBESVNNSVNTOiBcImRpc21pc3NpbmdcIixcbiAgICAgICAgICAgIFBBVVNFOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJwZXJzaXN0XCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFwic2V0UmVtYWluaW5nRHVyYXRpb25cIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZGlzbWlzc2luZzoge1xuICAgICAgICAgIGVudHJ5OiBcImludm9rZU9uQ2xvc2luZ1wiLFxuICAgICAgICAgIGFmdGVyOiB7XG4gICAgICAgICAgICBSRU1PVkVfREVMQVk6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcImluYWN0aXZlXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFwibm90aWZ5UGFyZW50VG9SZW1vdmVcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgaW5hY3RpdmU6IHtcbiAgICAgICAgICBlbnRyeTogXCJpbnZva2VPbkNsb3NlXCIsXG4gICAgICAgICAgdHlwZTogXCJmaW5hbFwiXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIGFjdGl2aXRpZXM6IHtcbiAgICAgICAgdHJhY2tEb2N1bWVudFZpc2liaWxpdHkoY3R4MiwgX2V2dCwgeyBzZW5kIH0pIHtcbiAgICAgICAgICBpZiAoIWN0eDIucGF1c2VPblBhZ2VJZGxlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IGRvYyA9IGRvbS5nZXREb2MoY3R4Mik7XG4gICAgICAgICAgcmV0dXJuIGFkZERvbUV2ZW50KGRvYywgXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsICgpID0+IHtcbiAgICAgICAgICAgIHNlbmQoZG9jLnZpc2liaWxpdHlTdGF0ZSA9PT0gXCJoaWRkZW5cIiA/IFwiUEFVU0VcIiA6IFwiUkVTVU1FXCIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZ3VhcmRzOiB7XG4gICAgICAgIGlzQ2hhbmdpbmdUb0xvYWRpbmc6IChfLCBldnQpID0+IGV2dC50b2FzdD8udHlwZSA9PT0gXCJsb2FkaW5nXCIsXG4gICAgICAgIGlzTG9hZGluZ1R5cGU6IChjdHgyKSA9PiBjdHgyLnR5cGUgPT09IFwibG9hZGluZ1wiLFxuICAgICAgICBoYXNUeXBlQ2hhbmdlZDogKGN0eDIsIGV2dCkgPT4gZXZ0LnRvYXN0Py50eXBlICE9PSBjdHgyLnR5cGUsXG4gICAgICAgIGhhc0R1cmF0aW9uQ2hhbmdlZDogKGN0eDIsIGV2dCkgPT4gZXZ0LnRvYXN0Py5kdXJhdGlvbiAhPT0gY3R4Mi5kdXJhdGlvblxuICAgICAgfSxcbiAgICAgIGRlbGF5czoge1xuICAgICAgICBWSVNJQkxFX0RVUkFUSU9OOiAoY3R4MikgPT4gY3R4Mi5yZW1haW5pbmcsXG4gICAgICAgIFJFTU9WRV9ERUxBWTogKGN0eDIpID0+IGN0eDIucmVtb3ZlRGVsYXlcbiAgICAgIH0sXG4gICAgICBhY3Rpb25zOiB7XG4gICAgICAgIHNldFJlbWFpbmluZ0R1cmF0aW9uKGN0eDIpIHtcbiAgICAgICAgICBjdHgyLnJlbWFpbmluZyAtPSBEYXRlLm5vdygpIC0gY3R4Mi5jcmVhdGVkQXQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldENyZWF0ZWRBdChjdHgyKSB7XG4gICAgICAgICAgY3R4Mi5jcmVhdGVkQXQgPSBEYXRlLm5vdygpO1xuICAgICAgICB9LFxuICAgICAgICBub3RpZnlQYXJlbnRUb1JlbW92ZShfY3R4LCBfZXZ0LCB7IHNlbGYgfSkge1xuICAgICAgICAgIHNlbGYuc2VuZFBhcmVudCh7IHR5cGU6IFwiUkVNT1ZFX1RPQVNUXCIsIGlkOiBzZWxmLmlkIH0pO1xuICAgICAgICB9LFxuICAgICAgICBpbnZva2VPbkNsb3NpbmcoY3R4Mikge1xuICAgICAgICAgIGN0eDIub25DbG9zaW5nPy4oKTtcbiAgICAgICAgfSxcbiAgICAgICAgaW52b2tlT25DbG9zZShjdHgyKSB7XG4gICAgICAgICAgY3R4Mi5vbkNsb3NlPy4oKTtcbiAgICAgICAgfSxcbiAgICAgICAgaW52b2tlT25PcGVuKGN0eDIpIHtcbiAgICAgICAgICBjdHgyLm9uT3Blbj8uKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGludm9rZU9uVXBkYXRlKGN0eDIpIHtcbiAgICAgICAgICBjdHgyLm9uVXBkYXRlPy4oKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0Q29udGV4dChjdHgyLCBldnQpIHtcbiAgICAgICAgICBjb25zdCB7IGR1cmF0aW9uOiBkdXJhdGlvbjIsIHR5cGU6IHR5cGUyIH0gPSBldnQudG9hc3Q7XG4gICAgICAgICAgY29uc3QgdGltZSA9IGdldFRvYXN0RHVyYXRpb24oZHVyYXRpb24yLCB0eXBlMik7XG4gICAgICAgICAgT2JqZWN0LmFzc2lnbihjdHgyLCB7IC4uLmV2dC50b2FzdCwgZHVyYXRpb246IHRpbWUsIHJlbWFpbmluZzogdGltZSB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgKTtcbn1cblxuLy8gc3JjL3RvYXN0LWdyb3VwLm1hY2hpbmUudHNcbmZ1bmN0aW9uIGdyb3VwTWFjaGluZSh1c2VyQ29udGV4dCkge1xuICBjb25zdCBjdHggPSBjb21wYWN0Mih1c2VyQ29udGV4dCk7XG4gIHJldHVybiBjcmVhdGVNYWNoaW5lMih7XG4gICAgaWQ6IFwidG9hc3RlclwiLFxuICAgIGluaXRpYWw6IFwiYWN0aXZlXCIsXG4gICAgY29udGV4dDoge1xuICAgICAgZGlyOiBcImx0clwiLFxuICAgICAgbWF4OiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUixcbiAgICAgIHRvYXN0czogW10sXG4gICAgICBndXR0ZXI6IFwiMXJlbVwiLFxuICAgICAgekluZGV4OiBNQVhfWl9JTkRFWCxcbiAgICAgIHBhdXNlT25QYWdlSWRsZTogZmFsc2UsXG4gICAgICBwYXVzZU9uSW50ZXJhY3Rpb246IHRydWUsXG4gICAgICBvZmZzZXRzOiB7IGxlZnQ6IFwiMHB4XCIsIHJpZ2h0OiBcIjBweFwiLCB0b3A6IFwiMHB4XCIsIGJvdHRvbTogXCIwcHhcIiB9LFxuICAgICAgLi4uY3R4XG4gICAgfSxcbiAgICBjb21wdXRlZDoge1xuICAgICAgY291bnQ6IChjdHgyKSA9PiBjdHgyLnRvYXN0cy5sZW5ndGhcbiAgICB9LFxuICAgIG9uOiB7XG4gICAgICBTRVRVUDoge30sXG4gICAgICBQQVVTRV9UT0FTVDoge1xuICAgICAgICBhY3Rpb25zOiAoX2N0eCwgZXZ0LCB7IHNlbGYgfSkgPT4ge1xuICAgICAgICAgIHNlbGYuc2VuZENoaWxkKFwiUEFVU0VcIiwgZXZ0LmlkKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFBBVVNFX0FMTDoge1xuICAgICAgICBhY3Rpb25zOiAoY3R4MikgPT4ge1xuICAgICAgICAgIGN0eDIudG9hc3RzLmZvckVhY2goKHRvYXN0KSA9PiB0b2FzdC5zZW5kKFwiUEFVU0VcIikpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgUkVTVU1FX1RPQVNUOiB7XG4gICAgICAgIGFjdGlvbnM6IChfY3R4LCBldnQsIHsgc2VsZiB9KSA9PiB7XG4gICAgICAgICAgc2VsZi5zZW5kQ2hpbGQoXCJSRVNVTUVcIiwgZXZ0LmlkKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFJFU1VNRV9BTEw6IHtcbiAgICAgICAgYWN0aW9uczogKGN0eDIpID0+IHtcbiAgICAgICAgICBjdHgyLnRvYXN0cy5mb3JFYWNoKCh0b2FzdCkgPT4gdG9hc3Quc2VuZChcIlJFU1VNRVwiKSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBBRERfVE9BU1Q6IHtcbiAgICAgICAgZ3VhcmQ6IChjdHgyKSA9PiBjdHgyLnRvYXN0cy5sZW5ndGggPCBjdHgyLm1heCxcbiAgICAgICAgYWN0aW9uczogKGN0eDIsIGV2dCwgeyBzZWxmIH0pID0+IHtcbiAgICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgcGxhY2VtZW50OiBjdHgyLnBsYWNlbWVudCxcbiAgICAgICAgICAgIGR1cmF0aW9uOiBjdHgyLmR1cmF0aW9uLFxuICAgICAgICAgICAgcmVtb3ZlRGVsYXk6IGN0eDIucmVtb3ZlRGVsYXksXG4gICAgICAgICAgICByZW5kZXI6IGN0eDIucmVuZGVyLFxuICAgICAgICAgICAgLi4uZXZ0LnRvYXN0LFxuICAgICAgICAgICAgcGF1c2VPblBhZ2VJZGxlOiBjdHgyLnBhdXNlT25QYWdlSWRsZSxcbiAgICAgICAgICAgIHBhdXNlT25JbnRlcmFjdGlvbjogY3R4Mi5wYXVzZU9uSW50ZXJhY3Rpb24sXG4gICAgICAgICAgICBkaXI6IGN0eDIuZGlyLFxuICAgICAgICAgICAgZ2V0Um9vdE5vZGU6IGN0eDIuZ2V0Um9vdE5vZGVcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IHRvYXN0ID0gY3JlYXRlVG9hc3RNYWNoaW5lKG9wdGlvbnMpO1xuICAgICAgICAgIGNvbnN0IGFjdG9yID0gc2VsZi5zcGF3bih0b2FzdCk7XG4gICAgICAgICAgY3R4Mi50b2FzdHMucHVzaChhY3Rvcik7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBVUERBVEVfVE9BU1Q6IHtcbiAgICAgICAgYWN0aW9uczogKF9jdHgsIGV2dCwgeyBzZWxmIH0pID0+IHtcbiAgICAgICAgICBzZWxmLnNlbmRDaGlsZCh7IHR5cGU6IFwiVVBEQVRFXCIsIHRvYXN0OiBldnQudG9hc3QgfSwgZXZ0LmlkKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIERJU01JU1NfVE9BU1Q6IHtcbiAgICAgICAgYWN0aW9uczogKF9jdHgsIGV2dCwgeyBzZWxmIH0pID0+IHtcbiAgICAgICAgICBzZWxmLnNlbmRDaGlsZChcIkRJU01JU1NcIiwgZXZ0LmlkKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIERJU01JU1NfQUxMOiB7XG4gICAgICAgIGFjdGlvbnM6IChjdHgyKSA9PiB7XG4gICAgICAgICAgY3R4Mi50b2FzdHMuZm9yRWFjaCgodG9hc3QpID0+IHRvYXN0LnNlbmQoXCJESVNNSVNTXCIpKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFJFTU9WRV9UT0FTVDoge1xuICAgICAgICBhY3Rpb25zOiAoY3R4MiwgZXZ0LCB7IHNlbGYgfSkgPT4ge1xuICAgICAgICAgIHNlbGYuc3RvcENoaWxkKGV2dC5pZCk7XG4gICAgICAgICAgY29uc3QgaW5kZXggPSBjdHgyLnRvYXN0cy5maW5kSW5kZXgoKHRvYXN0KSA9PiB0b2FzdC5pZCA9PT0gZXZ0LmlkKTtcbiAgICAgICAgICBjdHgyLnRvYXN0cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgUkVNT1ZFX0FMTDoge1xuICAgICAgICBhY3Rpb25zOiAoY3R4MiwgX2V2dCwgeyBzZWxmIH0pID0+IHtcbiAgICAgICAgICBjdHgyLnRvYXN0cy5mb3JFYWNoKCh0b2FzdCkgPT4gc2VsZi5zdG9wQ2hpbGQodG9hc3QuaWQpKTtcbiAgICAgICAgICB3aGlsZSAoY3R4Mi50b2FzdHMubGVuZ3RoKVxuICAgICAgICAgICAgY3R4Mi50b2FzdHMucG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuXG4vLyBzcmMvdG9hc3QuY29ubmVjdC50c1xuZnVuY3Rpb24gY29ubmVjdChzdGF0ZSwgc2VuZCwgbm9ybWFsaXplKSB7XG4gIGNvbnN0IGlzVmlzaWJsZSA9IHN0YXRlLmhhc1RhZyhcInZpc2libGVcIik7XG4gIGNvbnN0IGlzUGF1c2VkID0gc3RhdGUuaGFzVGFnKFwicGF1c2VkXCIpO1xuICBjb25zdCBwYXVzZU9uSW50ZXJhY3Rpb24gPSBzdGF0ZS5jb250ZXh0LnBhdXNlT25JbnRlcmFjdGlvbjtcbiAgY29uc3QgcGxhY2VtZW50ID0gc3RhdGUuY29udGV4dC5wbGFjZW1lbnQ7XG4gIHJldHVybiB7XG4gICAgdHlwZTogc3RhdGUuY29udGV4dC50eXBlLFxuICAgIHRpdGxlOiBzdGF0ZS5jb250ZXh0LnRpdGxlLFxuICAgIGRlc2NyaXB0aW9uOiBzdGF0ZS5jb250ZXh0LmRlc2NyaXB0aW9uLFxuICAgIHBsYWNlbWVudCxcbiAgICBpc1Zpc2libGUsXG4gICAgaXNQYXVzZWQsXG4gICAgaXNSdGw6IHN0YXRlLmNvbnRleHQuZGlyID09PSBcInJ0bFwiLFxuICAgIHBhdXNlKCkge1xuICAgICAgc2VuZChcIlBBVVNFXCIpO1xuICAgIH0sXG4gICAgcmVzdW1lKCkge1xuICAgICAgc2VuZChcIlJFU1VNRVwiKTtcbiAgICB9LFxuICAgIGRpc21pc3MoKSB7XG4gICAgICBzZW5kKFwiRElTTUlTU1wiKTtcbiAgICB9LFxuICAgIHJvb3RQcm9wczogbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgLi4ucGFydHMucm9vdC5hdHRycyxcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICBpZDogZG9tLmdldFJvb3RJZChzdGF0ZS5jb250ZXh0KSxcbiAgICAgIFwiZGF0YS1zdGF0ZVwiOiBpc1Zpc2libGUgPyBcIm9wZW5cIiA6IFwiY2xvc2VkXCIsXG4gICAgICBcImRhdGEtdHlwZVwiOiBzdGF0ZS5jb250ZXh0LnR5cGUsXG4gICAgICBcImRhdGEtcGxhY2VtZW50XCI6IHBsYWNlbWVudCxcbiAgICAgIHJvbGU6IFwic3RhdHVzXCIsXG4gICAgICBcImFyaWEtYXRvbWljXCI6IFwidHJ1ZVwiLFxuICAgICAgdGFiSW5kZXg6IDAsXG4gICAgICBzdHlsZToge1xuICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgICAgICBwb2ludGVyRXZlbnRzOiBcImF1dG9cIixcbiAgICAgICAgbWFyZ2luOiBcImNhbGModmFyKC0tdG9hc3QtZ3V0dGVyKSAvIDIpXCIsXG4gICAgICAgIFwiLS1yZW1vdmUtZGVsYXlcIjogYCR7c3RhdGUuY29udGV4dC5yZW1vdmVEZWxheX1tc2AsXG4gICAgICAgIFwiLS1kdXJhdGlvblwiOiBgJHtzdGF0ZS5jb250ZXh0LmR1cmF0aW9ufW1zYFxuICAgICAgfSxcbiAgICAgIG9uS2V5RG93bihldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQua2V5ID09IFwiRXNjYXBlXCIpIHtcbiAgICAgICAgICBzZW5kKFwiRElTTUlTU1wiKTtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgb25Gb2N1cygpIHtcbiAgICAgICAgaWYgKHBhdXNlT25JbnRlcmFjdGlvbikge1xuICAgICAgICAgIHNlbmQoXCJQQVVTRVwiKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uQmx1cigpIHtcbiAgICAgICAgaWYgKHBhdXNlT25JbnRlcmFjdGlvbikge1xuICAgICAgICAgIHNlbmQoXCJSRVNVTUVcIik7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvblBvaW50ZXJFbnRlcigpIHtcbiAgICAgICAgaWYgKHBhdXNlT25JbnRlcmFjdGlvbikge1xuICAgICAgICAgIHNlbmQoXCJQQVVTRVwiKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uUG9pbnRlckxlYXZlKCkge1xuICAgICAgICBpZiAocGF1c2VPbkludGVyYWN0aW9uKSB7XG4gICAgICAgICAgc2VuZChcIlJFU1VNRVwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pLFxuICAgIHRpdGxlUHJvcHM6IG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgIC4uLnBhcnRzLnRpdGxlLmF0dHJzLFxuICAgICAgaWQ6IGRvbS5nZXRUaXRsZUlkKHN0YXRlLmNvbnRleHQpXG4gICAgfSksXG4gICAgZGVzY3JpcHRpb25Qcm9wczogbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgLi4ucGFydHMuZGVzY3JpcHRpb24uYXR0cnMsXG4gICAgICBpZDogZG9tLmdldERlc2NyaXB0aW9uSWQoc3RhdGUuY29udGV4dClcbiAgICB9KSxcbiAgICBjbG9zZVRyaWdnZXJQcm9wczogbm9ybWFsaXplLmJ1dHRvbih7XG4gICAgICBpZDogZG9tLmdldENsb3NlVHJpZ2dlcklkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgLi4ucGFydHMuY2xvc2VUcmlnZ2VyLmF0dHJzLFxuICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgIFwiYXJpYS1sYWJlbFwiOiBcIkRpc21pc3Mgbm90aWZpY2F0aW9uXCIsXG4gICAgICBvbkNsaWNrKCkge1xuICAgICAgICBzZW5kKFwiRElTTUlTU1wiKTtcbiAgICAgIH1cbiAgICB9KVxuICB9O1xufVxuXG4vLyBzcmMvaW5kZXgudHNcbnZhciBncm91cCA9IHtcbiAgY29ubmVjdDogZ3JvdXBDb25uZWN0LFxuICBtYWNoaW5lOiBncm91cE1hY2hpbmVcbn07XG5leHBvcnQge1xuICBhbmF0b215LFxuICBjb25uZWN0LFxuICBjcmVhdGVUb2FzdE1hY2hpbmUgYXMgY3JlYXRlTWFjaGluZSxcbiAgZ3JvdXBcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/toast/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/toggle-group/dist/index.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/@zag-js/toggle-group/dist/index.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   anatomy: () => (/* binding */ anatomy),\n/* harmony export */   connect: () => (/* binding */ connect),\n/* harmony export */   machine: () => (/* binding */ machine)\n/* harmony export */ });\n/* harmony import */ var _zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/anatomy */ \"(ssr)/./node_modules/@zag-js/anatomy/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_event__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @zag-js/dom-event */ \"(ssr)/./node_modules/@zag-js/dom-event/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @zag-js/dom-query */ \"(ssr)/./node_modules/@zag-js/dom-query/dist/index.mjs\");\n/* harmony import */ var _zag_js_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @zag-js/utils */ \"(ssr)/./node_modules/@zag-js/utils/dist/index.mjs\");\n/* harmony import */ var _zag_js_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @zag-js/core */ \"(ssr)/./node_modules/@zag-js/core/dist/index.mjs\");\n// src/toggle-group.anatomy.ts\n\nvar anatomy = (0,_zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__.createAnatomy)(\"toggle-group\").parts(\"root\", \"item\");\nvar parts = anatomy.build();\n\n// src/toggle-group.connect.ts\n\n\n\n// src/toggle-group.dom.ts\n\n\nvar dom = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.createScope)({\n  getRootId: (ctx) => ctx.ids?.root ?? `toggle-group:${ctx.id}`,\n  getItemId: (ctx, value) => ctx.ids?.toggle?.(value) ?? `toggle-group:${ctx.id}:${value}`,\n  getRootEl: (ctx) => dom.getById(ctx, dom.getRootId(ctx)),\n  getElements: (ctx) => {\n    const ownerId = CSS.escape(dom.getRootId(ctx));\n    const selector = `[data-ownedby='${ownerId}']:not([data-disabled])`;\n    return (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.queryAll)(dom.getRootEl(ctx), selector);\n  },\n  getFirstEl: (ctx) => (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.first)(dom.getElements(ctx)),\n  getLastEl: (ctx) => (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.last)(dom.getElements(ctx)),\n  getNextEl: (ctx, id) => (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.nextById)(dom.getElements(ctx), id, ctx.currentLoop),\n  getPrevEl: (ctx, id) => (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.prevById)(dom.getElements(ctx), id, ctx.currentLoop)\n});\n\n// src/toggle-group.connect.ts\nfunction connect(state, send, normalize) {\n  const value = state.context.value;\n  const disabled = state.context.disabled;\n  const isSingle = !state.context.multiple;\n  const rovingFocus = state.context.rovingFocus;\n  const isHorizontal = state.context.orientation === \"horizontal\";\n  function getItemState(props) {\n    const isDisabled = !!props.disabled || !!disabled;\n    const isPressed = value?.includes(props.value);\n    const id = dom.getItemId(state.context, props.value);\n    const isFocused = state.context.focusedId === id;\n    return {\n      id,\n      isDisabled,\n      isPressed,\n      isFocused\n    };\n  }\n  return {\n    value,\n    setValue(value2) {\n      send({ type: \"VALUE.SET\", value: value2 });\n    },\n    getItemState,\n    rootProps: normalize.element({\n      ...parts.root.attrs,\n      id: dom.getRootId(state.context),\n      dir: state.context.dir,\n      role: isSingle ? \"radiogroup\" : \"group\",\n      tabIndex: state.context.isTabbingBackward ? -1 : 0,\n      \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(disabled),\n      \"data-orientation\": state.context.orientation,\n      \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(state.context.focusedId != null),\n      style: { outline: \"none\" },\n      onMouseDown() {\n        if (disabled)\n          return;\n        send(\"ROOT.MOUSE_DOWN\");\n      },\n      onFocus(event) {\n        if (disabled)\n          return;\n        if (!(0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.isSelfEvent)(event) || !!state.context.isClickFocus || state.context.isTabbingBackward)\n          return;\n        send(\"ROOT.FOCUS\");\n      },\n      onBlur() {\n        if (disabled)\n          return;\n        send(\"ROOT.BLUR\");\n      }\n    }),\n    getItemProps(props) {\n      const itemState = getItemState(props);\n      const rovingTabIndex = itemState.isFocused ? 0 : -1;\n      return normalize.button({\n        ...parts.item.attrs,\n        id: itemState.id,\n        type: \"button\",\n        \"data-ownedby\": dom.getRootId(state.context),\n        \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(itemState.isFocused),\n        disabled: itemState.isDisabled,\n        tabIndex: rovingFocus ? rovingTabIndex : void 0,\n        // radio\n        role: isSingle ? \"radio\" : void 0,\n        \"aria-checked\": isSingle ? itemState.isPressed : void 0,\n        \"aria-pressed\": isSingle ? void 0 : itemState.isPressed,\n        //\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(itemState.isDisabled),\n        \"data-orientation\": state.context.orientation,\n        dir: state.context.dir,\n        \"data-state\": itemState.isPressed ? \"on\" : \"off\",\n        onFocus() {\n          if (itemState.isDisabled)\n            return;\n          send({ type: \"TOGGLE.FOCUS\", id: itemState.id });\n        },\n        onClick(event) {\n          if (itemState.isDisabled)\n            return;\n          send({ type: \"TOGGLE.CLICK\", id: itemState.id, value: props.value });\n          if ((0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.isSafari)()) {\n            event.currentTarget.focus({ preventScroll: true });\n          }\n        },\n        onKeyDown(event) {\n          if (itemState.isDisabled || !(0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.isSelfEvent)(event))\n            return;\n          const keyMap = {\n            Tab(event2) {\n              const isShiftTab = event2.shiftKey;\n              send({ type: \"TOGGLE.SHIFT_TAB\", isShiftTab });\n            },\n            ArrowLeft() {\n              if (!rovingFocus || !isHorizontal)\n                return;\n              send(\"TOGGLE.FOCUS_PREV\");\n            },\n            ArrowRight() {\n              if (!rovingFocus || !isHorizontal)\n                return;\n              send(\"TOGGLE.FOCUS_NEXT\");\n            },\n            ArrowUp() {\n              if (!rovingFocus || isHorizontal)\n                return;\n              send(\"TOGGLE.FOCUS_PREV\");\n            },\n            ArrowDown() {\n              if (!rovingFocus || isHorizontal)\n                return;\n              send(\"TOGGLE.FOCUS_NEXT\");\n            },\n            Home() {\n              if (!rovingFocus)\n                return;\n              send(\"TOGGLE.FOCUS_FIRST\");\n            },\n            End() {\n              if (!rovingFocus)\n                return;\n              send(\"TOGGLE.FOCUS_LAST\");\n            }\n          };\n          const exec = keyMap[(0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_3__.getEventKey)(event)];\n          if (exec) {\n            exec(event);\n            if (event.key !== \"Tab\")\n              event.preventDefault();\n          }\n        }\n      });\n    }\n  };\n}\n\n// src/toggle-group.machine.ts\n\n\n\nvar { not, and } = _zag_js_core__WEBPACK_IMPORTED_MODULE_4__.guards;\nfunction machine(userContext) {\n  const ctx = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.compact)(userContext);\n  return (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_4__.createMachine)(\n    {\n      id: \"toggle-group\",\n      initial: \"idle\",\n      context: {\n        value: [],\n        disabled: false,\n        orientation: \"horizontal\",\n        rovingFocus: true,\n        loop: true,\n        ...ctx,\n        focusedId: null,\n        isTabbingBackward: false,\n        hasFocusableToggle: false,\n        isClickFocus: false,\n        isWithinToolbar: false\n      },\n      computed: {\n        currentLoop: (ctx2) => ctx2.loop && !ctx2.isWithinToolbar\n      },\n      entry: [\"checkFocusableToggles\", \"checkIfWithinToolbar\"],\n      on: {\n        \"VALUE.SET\": {\n          actions: [\"setValue\"]\n        },\n        \"TOGGLE.CLICK\": {\n          actions: [\"setValue\"]\n        },\n        \"ROOT.MOUSE_DOWN\": {\n          actions: [\"setClickFocus\"]\n        }\n      },\n      states: {\n        idle: {\n          on: {\n            \"ROOT.FOCUS\": {\n              target: \"focused\",\n              guard: not(and(\"isClickFocus\", \"isTabbingBackward\")),\n              actions: [\"focusFirstToggle\", \"clearClickFocus\"]\n            },\n            \"TOGGLE.FOCUS\": {\n              target: \"focused\",\n              actions: [\"setFocusedId\"]\n            }\n          }\n        },\n        focused: {\n          on: {\n            \"ROOT.BLUR\": {\n              target: \"idle\",\n              actions: [\"clearIsTabbingBackward\"]\n            },\n            \"TOGGLE.FOCUS\": {\n              actions: [\"setFocusedId\"]\n            },\n            \"TOGGLE.FOCUS_NEXT\": {\n              actions: [\"focusNextToggle\"]\n            },\n            \"TOGGLE.FOCUS_PREV\": {\n              actions: [\"focusPrevToggle\"]\n            },\n            \"TOGGLE.FOCUS_FIRST\": {\n              actions: [\"focusFirstToggle\"]\n            },\n            \"TOGGLE.FOCUS_LAST\": {\n              actions: [\"focusLastToggle\"]\n            },\n            \"TOGGLE.SHIFT_TAB\": {\n              target: \"idle\",\n              actions: [\"setIsTabbingBackward\"]\n            }\n          }\n        }\n      }\n    },\n    {\n      guards: {\n        isClickFocus: (ctx2) => ctx2.isClickFocus,\n        isTabbingBackward: (ctx2) => ctx2.isTabbingBackward\n      },\n      actions: {\n        setIsTabbingBackward(ctx2) {\n          ctx2.isTabbingBackward = true;\n        },\n        clearIsTabbingBackward(ctx2) {\n          ctx2.isTabbingBackward = false;\n        },\n        setClickFocus(ctx2) {\n          ctx2.isClickFocus = true;\n        },\n        clearClickFocus(ctx2) {\n          ctx2.isClickFocus = false;\n        },\n        checkFocusableToggles(ctx2) {\n          ctx2.hasFocusableToggle = ctx2.value.length > 0;\n        },\n        checkIfWithinToolbar(ctx2) {\n          const closestToolbar = dom.getRootEl(ctx2)?.closest(\"[role=toolbar]\");\n          ctx2.isWithinToolbar = !!closestToolbar;\n        },\n        setFocusedId(ctx2, evt) {\n          ctx2.focusedId = evt.id;\n        },\n        clearFocusedId(ctx2) {\n          ctx2.focusedId = null;\n        },\n        setValue(ctx2, evt) {\n          if (!evt.value)\n            return;\n          let next = Array.from(ctx2.value);\n          if (ctx2.multiple) {\n            next = next.includes(evt.value) ? (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.remove)(next, evt.value) : (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.add)(next, evt.value);\n          } else {\n            next = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.isEqual)(ctx2.value, [evt.value]) ? [] : [evt.value];\n          }\n          set.value(ctx2, next);\n        },\n        focusNextToggle(ctx2) {\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => {\n            if (!ctx2.focusedId)\n              return;\n            dom.getNextEl(ctx2, ctx2.focusedId)?.focus({ preventScroll: true });\n          });\n        },\n        focusPrevToggle(ctx2) {\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => {\n            if (!ctx2.focusedId)\n              return;\n            dom.getPrevEl(ctx2, ctx2.focusedId)?.focus({ preventScroll: true });\n          });\n        },\n        focusFirstToggle(ctx2) {\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => {\n            dom.getFirstEl(ctx2)?.focus({ preventScroll: true });\n          });\n        },\n        focusLastToggle(ctx2) {\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => {\n            dom.getLastEl(ctx2)?.focus({ preventScroll: true });\n          });\n        }\n      }\n    }\n  );\n}\nvar invoke = {\n  change(ctx) {\n    ctx.onValueChange?.({ value: Array.from(ctx.value) });\n  }\n};\nvar set = {\n  value(ctx, value) {\n    if ((0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.isEqual)(ctx.value, value))\n      return;\n    ctx.value = value;\n    invoke.change(ctx);\n  }\n};\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy90b2dnbGUtZ3JvdXAvZGlzdC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNnRDtBQUNoRCxjQUFjLDhEQUFhO0FBQzNCOztBQUVBO0FBQ2dEO0FBQ29COztBQUVwRTtBQUM4RTtBQUNsQztBQUM1QyxVQUFVLDhEQUFXO0FBQ3JCLHVEQUF1RCxPQUFPO0FBQzlELHlFQUF5RSxPQUFPLEdBQUcsTUFBTTtBQUN6RjtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsUUFBUTtBQUMvQyxXQUFXLDJEQUFRO0FBQ25CLEdBQUc7QUFDSCx1QkFBdUIsb0RBQUs7QUFDNUIsc0JBQXNCLG1EQUFJO0FBQzFCLDBCQUEwQiwyREFBUTtBQUNsQywwQkFBMEIsMkRBQVE7QUFDbEMsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsa0NBQWtDO0FBQy9DLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiwyREFBUTtBQUMvQjtBQUNBLG9CQUFvQiwyREFBUTtBQUM1QixlQUFlLGlCQUFpQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxhQUFhLDhEQUFXO0FBQ3hCO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDJEQUFRO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDJEQUFRO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQix3Q0FBd0M7QUFDekQsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiw0REFBNEQ7QUFDN0UsY0FBYywyREFBUTtBQUN0Qix3Q0FBd0MscUJBQXFCO0FBQzdEO0FBQ0EsU0FBUztBQUNUO0FBQ0EsdUNBQXVDLDhEQUFXO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHNDQUFzQztBQUMzRCxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLDhEQUFXO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDcUQ7QUFDYjtBQUNzQjtBQUM5RCxNQUFNLFdBQVcsRUFBRSxnREFBTTtBQUN6QjtBQUNBLGNBQWMsc0RBQU87QUFDckIsU0FBUywyREFBYTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxxREFBTSxvQkFBb0Isa0RBQUc7QUFDM0UsWUFBWTtBQUNaLG1CQUFtQixzREFBTztBQUMxQjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsVUFBVSxzREFBRztBQUNiO0FBQ0E7QUFDQSx5REFBeUQscUJBQXFCO0FBQzlFLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQSxVQUFVLHNEQUFHO0FBQ2I7QUFDQTtBQUNBLHlEQUF5RCxxQkFBcUI7QUFDOUUsV0FBVztBQUNYLFNBQVM7QUFDVDtBQUNBLFVBQVUsc0RBQUc7QUFDYiwwQ0FBMEMscUJBQXFCO0FBQy9ELFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQSxVQUFVLHNEQUFHO0FBQ2IseUNBQXlDLHFCQUFxQjtBQUM5RCxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsOEJBQThCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzREFBTztBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBhcmstdWkvZXhhbXBsZXMtcmVhY3QtbmV4dC1qcy8uL25vZGVfbW9kdWxlcy9AemFnLWpzL3RvZ2dsZS1ncm91cC9kaXN0L2luZGV4Lm1qcz83NmY4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy90b2dnbGUtZ3JvdXAuYW5hdG9teS50c1xuaW1wb3J0IHsgY3JlYXRlQW5hdG9teSB9IGZyb20gXCJAemFnLWpzL2FuYXRvbXlcIjtcbnZhciBhbmF0b215ID0gY3JlYXRlQW5hdG9teShcInRvZ2dsZS1ncm91cFwiKS5wYXJ0cyhcInJvb3RcIiwgXCJpdGVtXCIpO1xudmFyIHBhcnRzID0gYW5hdG9teS5idWlsZCgpO1xuXG4vLyBzcmMvdG9nZ2xlLWdyb3VwLmNvbm5lY3QudHNcbmltcG9ydCB7IGdldEV2ZW50S2V5IH0gZnJvbSBcIkB6YWctanMvZG9tLWV2ZW50XCI7XG5pbXBvcnQgeyBkYXRhQXR0ciwgaXNTYWZhcmksIGlzU2VsZkV2ZW50IH0gZnJvbSBcIkB6YWctanMvZG9tLXF1ZXJ5XCI7XG5cbi8vIHNyYy90b2dnbGUtZ3JvdXAuZG9tLnRzXG5pbXBvcnQgeyBjcmVhdGVTY29wZSwgbmV4dEJ5SWQsIHByZXZCeUlkLCBxdWVyeUFsbCB9IGZyb20gXCJAemFnLWpzL2RvbS1xdWVyeVwiO1xuaW1wb3J0IHsgZmlyc3QsIGxhc3QgfSBmcm9tIFwiQHphZy1qcy91dGlsc1wiO1xudmFyIGRvbSA9IGNyZWF0ZVNjb3BlKHtcbiAgZ2V0Um9vdElkOiAoY3R4KSA9PiBjdHguaWRzPy5yb290ID8/IGB0b2dnbGUtZ3JvdXA6JHtjdHguaWR9YCxcbiAgZ2V0SXRlbUlkOiAoY3R4LCB2YWx1ZSkgPT4gY3R4Lmlkcz8udG9nZ2xlPy4odmFsdWUpID8/IGB0b2dnbGUtZ3JvdXA6JHtjdHguaWR9OiR7dmFsdWV9YCxcbiAgZ2V0Um9vdEVsOiAoY3R4KSA9PiBkb20uZ2V0QnlJZChjdHgsIGRvbS5nZXRSb290SWQoY3R4KSksXG4gIGdldEVsZW1lbnRzOiAoY3R4KSA9PiB7XG4gICAgY29uc3Qgb3duZXJJZCA9IENTUy5lc2NhcGUoZG9tLmdldFJvb3RJZChjdHgpKTtcbiAgICBjb25zdCBzZWxlY3RvciA9IGBbZGF0YS1vd25lZGJ5PScke293bmVySWR9J106bm90KFtkYXRhLWRpc2FibGVkXSlgO1xuICAgIHJldHVybiBxdWVyeUFsbChkb20uZ2V0Um9vdEVsKGN0eCksIHNlbGVjdG9yKTtcbiAgfSxcbiAgZ2V0Rmlyc3RFbDogKGN0eCkgPT4gZmlyc3QoZG9tLmdldEVsZW1lbnRzKGN0eCkpLFxuICBnZXRMYXN0RWw6IChjdHgpID0+IGxhc3QoZG9tLmdldEVsZW1lbnRzKGN0eCkpLFxuICBnZXROZXh0RWw6IChjdHgsIGlkKSA9PiBuZXh0QnlJZChkb20uZ2V0RWxlbWVudHMoY3R4KSwgaWQsIGN0eC5jdXJyZW50TG9vcCksXG4gIGdldFByZXZFbDogKGN0eCwgaWQpID0+IHByZXZCeUlkKGRvbS5nZXRFbGVtZW50cyhjdHgpLCBpZCwgY3R4LmN1cnJlbnRMb29wKVxufSk7XG5cbi8vIHNyYy90b2dnbGUtZ3JvdXAuY29ubmVjdC50c1xuZnVuY3Rpb24gY29ubmVjdChzdGF0ZSwgc2VuZCwgbm9ybWFsaXplKSB7XG4gIGNvbnN0IHZhbHVlID0gc3RhdGUuY29udGV4dC52YWx1ZTtcbiAgY29uc3QgZGlzYWJsZWQgPSBzdGF0ZS5jb250ZXh0LmRpc2FibGVkO1xuICBjb25zdCBpc1NpbmdsZSA9ICFzdGF0ZS5jb250ZXh0Lm11bHRpcGxlO1xuICBjb25zdCByb3ZpbmdGb2N1cyA9IHN0YXRlLmNvbnRleHQucm92aW5nRm9jdXM7XG4gIGNvbnN0IGlzSG9yaXpvbnRhbCA9IHN0YXRlLmNvbnRleHQub3JpZW50YXRpb24gPT09IFwiaG9yaXpvbnRhbFwiO1xuICBmdW5jdGlvbiBnZXRJdGVtU3RhdGUocHJvcHMpIHtcbiAgICBjb25zdCBpc0Rpc2FibGVkID0gISFwcm9wcy5kaXNhYmxlZCB8fCAhIWRpc2FibGVkO1xuICAgIGNvbnN0IGlzUHJlc3NlZCA9IHZhbHVlPy5pbmNsdWRlcyhwcm9wcy52YWx1ZSk7XG4gICAgY29uc3QgaWQgPSBkb20uZ2V0SXRlbUlkKHN0YXRlLmNvbnRleHQsIHByb3BzLnZhbHVlKTtcbiAgICBjb25zdCBpc0ZvY3VzZWQgPSBzdGF0ZS5jb250ZXh0LmZvY3VzZWRJZCA9PT0gaWQ7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkLFxuICAgICAgaXNEaXNhYmxlZCxcbiAgICAgIGlzUHJlc3NlZCxcbiAgICAgIGlzRm9jdXNlZFxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB2YWx1ZSxcbiAgICBzZXRWYWx1ZSh2YWx1ZTIpIHtcbiAgICAgIHNlbmQoeyB0eXBlOiBcIlZBTFVFLlNFVFwiLCB2YWx1ZTogdmFsdWUyIH0pO1xuICAgIH0sXG4gICAgZ2V0SXRlbVN0YXRlLFxuICAgIHJvb3RQcm9wczogbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgLi4ucGFydHMucm9vdC5hdHRycyxcbiAgICAgIGlkOiBkb20uZ2V0Um9vdElkKHN0YXRlLmNvbnRleHQpLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIHJvbGU6IGlzU2luZ2xlID8gXCJyYWRpb2dyb3VwXCIgOiBcImdyb3VwXCIsXG4gICAgICB0YWJJbmRleDogc3RhdGUuY29udGV4dC5pc1RhYmJpbmdCYWNrd2FyZCA/IC0xIDogMCxcbiAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihkaXNhYmxlZCksXG4gICAgICBcImRhdGEtb3JpZW50YXRpb25cIjogc3RhdGUuY29udGV4dC5vcmllbnRhdGlvbixcbiAgICAgIFwiZGF0YS1mb2N1c1wiOiBkYXRhQXR0cihzdGF0ZS5jb250ZXh0LmZvY3VzZWRJZCAhPSBudWxsKSxcbiAgICAgIHN0eWxlOiB7IG91dGxpbmU6IFwibm9uZVwiIH0sXG4gICAgICBvbk1vdXNlRG93bigpIHtcbiAgICAgICAgaWYgKGRpc2FibGVkKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgc2VuZChcIlJPT1QuTU9VU0VfRE9XTlwiKTtcbiAgICAgIH0sXG4gICAgICBvbkZvY3VzKGV2ZW50KSB7XG4gICAgICAgIGlmIChkaXNhYmxlZClcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmICghaXNTZWxmRXZlbnQoZXZlbnQpIHx8ICEhc3RhdGUuY29udGV4dC5pc0NsaWNrRm9jdXMgfHwgc3RhdGUuY29udGV4dC5pc1RhYmJpbmdCYWNrd2FyZClcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIHNlbmQoXCJST09ULkZPQ1VTXCIpO1xuICAgICAgfSxcbiAgICAgIG9uQmx1cigpIHtcbiAgICAgICAgaWYgKGRpc2FibGVkKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgc2VuZChcIlJPT1QuQkxVUlwiKTtcbiAgICAgIH1cbiAgICB9KSxcbiAgICBnZXRJdGVtUHJvcHMocHJvcHMpIHtcbiAgICAgIGNvbnN0IGl0ZW1TdGF0ZSA9IGdldEl0ZW1TdGF0ZShwcm9wcyk7XG4gICAgICBjb25zdCByb3ZpbmdUYWJJbmRleCA9IGl0ZW1TdGF0ZS5pc0ZvY3VzZWQgPyAwIDogLTE7XG4gICAgICByZXR1cm4gbm9ybWFsaXplLmJ1dHRvbih7XG4gICAgICAgIC4uLnBhcnRzLml0ZW0uYXR0cnMsXG4gICAgICAgIGlkOiBpdGVtU3RhdGUuaWQsXG4gICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgIFwiZGF0YS1vd25lZGJ5XCI6IGRvbS5nZXRSb290SWQoc3RhdGUuY29udGV4dCksXG4gICAgICAgIFwiZGF0YS1mb2N1c1wiOiBkYXRhQXR0cihpdGVtU3RhdGUuaXNGb2N1c2VkKSxcbiAgICAgICAgZGlzYWJsZWQ6IGl0ZW1TdGF0ZS5pc0Rpc2FibGVkLFxuICAgICAgICB0YWJJbmRleDogcm92aW5nRm9jdXMgPyByb3ZpbmdUYWJJbmRleCA6IHZvaWQgMCxcbiAgICAgICAgLy8gcmFkaW9cbiAgICAgICAgcm9sZTogaXNTaW5nbGUgPyBcInJhZGlvXCIgOiB2b2lkIDAsXG4gICAgICAgIFwiYXJpYS1jaGVja2VkXCI6IGlzU2luZ2xlID8gaXRlbVN0YXRlLmlzUHJlc3NlZCA6IHZvaWQgMCxcbiAgICAgICAgXCJhcmlhLXByZXNzZWRcIjogaXNTaW5nbGUgPyB2b2lkIDAgOiBpdGVtU3RhdGUuaXNQcmVzc2VkLFxuICAgICAgICAvL1xuICAgICAgICBcImRhdGEtZGlzYWJsZWRcIjogZGF0YUF0dHIoaXRlbVN0YXRlLmlzRGlzYWJsZWQpLFxuICAgICAgICBcImRhdGEtb3JpZW50YXRpb25cIjogc3RhdGUuY29udGV4dC5vcmllbnRhdGlvbixcbiAgICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgICAgXCJkYXRhLXN0YXRlXCI6IGl0ZW1TdGF0ZS5pc1ByZXNzZWQgPyBcIm9uXCIgOiBcIm9mZlwiLFxuICAgICAgICBvbkZvY3VzKCkge1xuICAgICAgICAgIGlmIChpdGVtU3RhdGUuaXNEaXNhYmxlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBzZW5kKHsgdHlwZTogXCJUT0dHTEUuRk9DVVNcIiwgaWQ6IGl0ZW1TdGF0ZS5pZCB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgb25DbGljayhldmVudCkge1xuICAgICAgICAgIGlmIChpdGVtU3RhdGUuaXNEaXNhYmxlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBzZW5kKHsgdHlwZTogXCJUT0dHTEUuQ0xJQ0tcIiwgaWQ6IGl0ZW1TdGF0ZS5pZCwgdmFsdWU6IHByb3BzLnZhbHVlIH0pO1xuICAgICAgICAgIGlmIChpc1NhZmFyaSgpKSB7XG4gICAgICAgICAgICBldmVudC5jdXJyZW50VGFyZ2V0LmZvY3VzKHsgcHJldmVudFNjcm9sbDogdHJ1ZSB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uS2V5RG93bihldmVudCkge1xuICAgICAgICAgIGlmIChpdGVtU3RhdGUuaXNEaXNhYmxlZCB8fCAhaXNTZWxmRXZlbnQoZXZlbnQpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IGtleU1hcCA9IHtcbiAgICAgICAgICAgIFRhYihldmVudDIpIHtcbiAgICAgICAgICAgICAgY29uc3QgaXNTaGlmdFRhYiA9IGV2ZW50Mi5zaGlmdEtleTtcbiAgICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwiVE9HR0xFLlNISUZUX1RBQlwiLCBpc1NoaWZ0VGFiIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIEFycm93TGVmdCgpIHtcbiAgICAgICAgICAgICAgaWYgKCFyb3ZpbmdGb2N1cyB8fCAhaXNIb3Jpem9udGFsKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgc2VuZChcIlRPR0dMRS5GT0NVU19QUkVWXCIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIEFycm93UmlnaHQoKSB7XG4gICAgICAgICAgICAgIGlmICghcm92aW5nRm9jdXMgfHwgIWlzSG9yaXpvbnRhbClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIHNlbmQoXCJUT0dHTEUuRk9DVVNfTkVYVFwiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBBcnJvd1VwKCkge1xuICAgICAgICAgICAgICBpZiAoIXJvdmluZ0ZvY3VzIHx8IGlzSG9yaXpvbnRhbClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIHNlbmQoXCJUT0dHTEUuRk9DVVNfUFJFVlwiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBBcnJvd0Rvd24oKSB7XG4gICAgICAgICAgICAgIGlmICghcm92aW5nRm9jdXMgfHwgaXNIb3Jpem9udGFsKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgc2VuZChcIlRPR0dMRS5GT0NVU19ORVhUXCIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIEhvbWUoKSB7XG4gICAgICAgICAgICAgIGlmICghcm92aW5nRm9jdXMpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICBzZW5kKFwiVE9HR0xFLkZPQ1VTX0ZJUlNUXCIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIEVuZCgpIHtcbiAgICAgICAgICAgICAgaWYgKCFyb3ZpbmdGb2N1cylcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIHNlbmQoXCJUT0dHTEUuRk9DVVNfTEFTVFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IGV4ZWMgPSBrZXlNYXBbZ2V0RXZlbnRLZXkoZXZlbnQpXTtcbiAgICAgICAgICBpZiAoZXhlYykge1xuICAgICAgICAgICAgZXhlYyhldmVudCk7XG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5ICE9PSBcIlRhYlwiKVxuICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufVxuXG4vLyBzcmMvdG9nZ2xlLWdyb3VwLm1hY2hpbmUudHNcbmltcG9ydCB7IGNyZWF0ZU1hY2hpbmUsIGd1YXJkcyB9IGZyb20gXCJAemFnLWpzL2NvcmVcIjtcbmltcG9ydCB7IHJhZiB9IGZyb20gXCJAemFnLWpzL2RvbS1xdWVyeVwiO1xuaW1wb3J0IHsgYWRkLCBjb21wYWN0LCBpc0VxdWFsLCByZW1vdmUgfSBmcm9tIFwiQHphZy1qcy91dGlsc1wiO1xudmFyIHsgbm90LCBhbmQgfSA9IGd1YXJkcztcbmZ1bmN0aW9uIG1hY2hpbmUodXNlckNvbnRleHQpIHtcbiAgY29uc3QgY3R4ID0gY29tcGFjdCh1c2VyQ29udGV4dCk7XG4gIHJldHVybiBjcmVhdGVNYWNoaW5lKFxuICAgIHtcbiAgICAgIGlkOiBcInRvZ2dsZS1ncm91cFwiLFxuICAgICAgaW5pdGlhbDogXCJpZGxlXCIsXG4gICAgICBjb250ZXh0OiB7XG4gICAgICAgIHZhbHVlOiBbXSxcbiAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLFxuICAgICAgICBvcmllbnRhdGlvbjogXCJob3Jpem9udGFsXCIsXG4gICAgICAgIHJvdmluZ0ZvY3VzOiB0cnVlLFxuICAgICAgICBsb29wOiB0cnVlLFxuICAgICAgICAuLi5jdHgsXG4gICAgICAgIGZvY3VzZWRJZDogbnVsbCxcbiAgICAgICAgaXNUYWJiaW5nQmFja3dhcmQ6IGZhbHNlLFxuICAgICAgICBoYXNGb2N1c2FibGVUb2dnbGU6IGZhbHNlLFxuICAgICAgICBpc0NsaWNrRm9jdXM6IGZhbHNlLFxuICAgICAgICBpc1dpdGhpblRvb2xiYXI6IGZhbHNlXG4gICAgICB9LFxuICAgICAgY29tcHV0ZWQ6IHtcbiAgICAgICAgY3VycmVudExvb3A6IChjdHgyKSA9PiBjdHgyLmxvb3AgJiYgIWN0eDIuaXNXaXRoaW5Ub29sYmFyXG4gICAgICB9LFxuICAgICAgZW50cnk6IFtcImNoZWNrRm9jdXNhYmxlVG9nZ2xlc1wiLCBcImNoZWNrSWZXaXRoaW5Ub29sYmFyXCJdLFxuICAgICAgb246IHtcbiAgICAgICAgXCJWQUxVRS5TRVRcIjoge1xuICAgICAgICAgIGFjdGlvbnM6IFtcInNldFZhbHVlXCJdXG4gICAgICAgIH0sXG4gICAgICAgIFwiVE9HR0xFLkNMSUNLXCI6IHtcbiAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRWYWx1ZVwiXVxuICAgICAgICB9LFxuICAgICAgICBcIlJPT1QuTU9VU0VfRE9XTlwiOiB7XG4gICAgICAgICAgYWN0aW9uczogW1wic2V0Q2xpY2tGb2N1c1wiXVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgc3RhdGVzOiB7XG4gICAgICAgIGlkbGU6IHtcbiAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgXCJST09ULkZPQ1VTXCI6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcImZvY3VzZWRcIixcbiAgICAgICAgICAgICAgZ3VhcmQ6IG5vdChhbmQoXCJpc0NsaWNrRm9jdXNcIiwgXCJpc1RhYmJpbmdCYWNrd2FyZFwiKSksXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcImZvY3VzRmlyc3RUb2dnbGVcIiwgXCJjbGVhckNsaWNrRm9jdXNcIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIlRPR0dMRS5GT0NVU1wiOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJmb2N1c2VkXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldEZvY3VzZWRJZFwiXVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZm9jdXNlZDoge1xuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBcIlJPT1QuQkxVUlwiOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJpZGxlXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcImNsZWFySXNUYWJiaW5nQmFja3dhcmRcIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIlRPR0dMRS5GT0NVU1wiOiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldEZvY3VzZWRJZFwiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiVE9HR0xFLkZPQ1VTX05FWFRcIjoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJmb2N1c05leHRUb2dnbGVcIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIlRPR0dMRS5GT0NVU19QUkVWXCI6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wiZm9jdXNQcmV2VG9nZ2xlXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJUT0dHTEUuRk9DVVNfRklSU1RcIjoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJmb2N1c0ZpcnN0VG9nZ2xlXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJUT0dHTEUuRk9DVVNfTEFTVFwiOiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcImZvY3VzTGFzdFRvZ2dsZVwiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiVE9HR0xFLlNISUZUX1RBQlwiOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJpZGxlXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldElzVGFiYmluZ0JhY2t3YXJkXCJdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICBndWFyZHM6IHtcbiAgICAgICAgaXNDbGlja0ZvY3VzOiAoY3R4MikgPT4gY3R4Mi5pc0NsaWNrRm9jdXMsXG4gICAgICAgIGlzVGFiYmluZ0JhY2t3YXJkOiAoY3R4MikgPT4gY3R4Mi5pc1RhYmJpbmdCYWNrd2FyZFxuICAgICAgfSxcbiAgICAgIGFjdGlvbnM6IHtcbiAgICAgICAgc2V0SXNUYWJiaW5nQmFja3dhcmQoY3R4Mikge1xuICAgICAgICAgIGN0eDIuaXNUYWJiaW5nQmFja3dhcmQgPSB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBjbGVhcklzVGFiYmluZ0JhY2t3YXJkKGN0eDIpIHtcbiAgICAgICAgICBjdHgyLmlzVGFiYmluZ0JhY2t3YXJkID0gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIHNldENsaWNrRm9jdXMoY3R4Mikge1xuICAgICAgICAgIGN0eDIuaXNDbGlja0ZvY3VzID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xlYXJDbGlja0ZvY3VzKGN0eDIpIHtcbiAgICAgICAgICBjdHgyLmlzQ2xpY2tGb2N1cyA9IGZhbHNlO1xuICAgICAgICB9LFxuICAgICAgICBjaGVja0ZvY3VzYWJsZVRvZ2dsZXMoY3R4Mikge1xuICAgICAgICAgIGN0eDIuaGFzRm9jdXNhYmxlVG9nZ2xlID0gY3R4Mi52YWx1ZS5sZW5ndGggPiAwO1xuICAgICAgICB9LFxuICAgICAgICBjaGVja0lmV2l0aGluVG9vbGJhcihjdHgyKSB7XG4gICAgICAgICAgY29uc3QgY2xvc2VzdFRvb2xiYXIgPSBkb20uZ2V0Um9vdEVsKGN0eDIpPy5jbG9zZXN0KFwiW3JvbGU9dG9vbGJhcl1cIik7XG4gICAgICAgICAgY3R4Mi5pc1dpdGhpblRvb2xiYXIgPSAhIWNsb3Nlc3RUb29sYmFyO1xuICAgICAgICB9LFxuICAgICAgICBzZXRGb2N1c2VkSWQoY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgY3R4Mi5mb2N1c2VkSWQgPSBldnQuaWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGNsZWFyRm9jdXNlZElkKGN0eDIpIHtcbiAgICAgICAgICBjdHgyLmZvY3VzZWRJZCA9IG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFZhbHVlKGN0eDIsIGV2dCkge1xuICAgICAgICAgIGlmICghZXZ0LnZhbHVlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGxldCBuZXh0ID0gQXJyYXkuZnJvbShjdHgyLnZhbHVlKTtcbiAgICAgICAgICBpZiAoY3R4Mi5tdWx0aXBsZSkge1xuICAgICAgICAgICAgbmV4dCA9IG5leHQuaW5jbHVkZXMoZXZ0LnZhbHVlKSA/IHJlbW92ZShuZXh0LCBldnQudmFsdWUpIDogYWRkKG5leHQsIGV2dC52YWx1ZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5leHQgPSBpc0VxdWFsKGN0eDIudmFsdWUsIFtldnQudmFsdWVdKSA/IFtdIDogW2V2dC52YWx1ZV07XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldC52YWx1ZShjdHgyLCBuZXh0KTtcbiAgICAgICAgfSxcbiAgICAgICAgZm9jdXNOZXh0VG9nZ2xlKGN0eDIpIHtcbiAgICAgICAgICByYWYoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFjdHgyLmZvY3VzZWRJZClcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgZG9tLmdldE5leHRFbChjdHgyLCBjdHgyLmZvY3VzZWRJZCk/LmZvY3VzKHsgcHJldmVudFNjcm9sbDogdHJ1ZSB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgZm9jdXNQcmV2VG9nZ2xlKGN0eDIpIHtcbiAgICAgICAgICByYWYoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFjdHgyLmZvY3VzZWRJZClcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgZG9tLmdldFByZXZFbChjdHgyLCBjdHgyLmZvY3VzZWRJZCk/LmZvY3VzKHsgcHJldmVudFNjcm9sbDogdHJ1ZSB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgZm9jdXNGaXJzdFRvZ2dsZShjdHgyKSB7XG4gICAgICAgICAgcmFmKCgpID0+IHtcbiAgICAgICAgICAgIGRvbS5nZXRGaXJzdEVsKGN0eDIpPy5mb2N1cyh7IHByZXZlbnRTY3JvbGw6IHRydWUgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGZvY3VzTGFzdFRvZ2dsZShjdHgyKSB7XG4gICAgICAgICAgcmFmKCgpID0+IHtcbiAgICAgICAgICAgIGRvbS5nZXRMYXN0RWwoY3R4Mik/LmZvY3VzKHsgcHJldmVudFNjcm9sbDogdHJ1ZSB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgKTtcbn1cbnZhciBpbnZva2UgPSB7XG4gIGNoYW5nZShjdHgpIHtcbiAgICBjdHgub25WYWx1ZUNoYW5nZT8uKHsgdmFsdWU6IEFycmF5LmZyb20oY3R4LnZhbHVlKSB9KTtcbiAgfVxufTtcbnZhciBzZXQgPSB7XG4gIHZhbHVlKGN0eCwgdmFsdWUpIHtcbiAgICBpZiAoaXNFcXVhbChjdHgudmFsdWUsIHZhbHVlKSlcbiAgICAgIHJldHVybjtcbiAgICBjdHgudmFsdWUgPSB2YWx1ZTtcbiAgICBpbnZva2UuY2hhbmdlKGN0eCk7XG4gIH1cbn07XG5leHBvcnQge1xuICBhbmF0b215LFxuICBjb25uZWN0LFxuICBtYWNoaW5lXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/toggle-group/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/tooltip/dist/index.mjs":
/*!*****************************************************!*\
  !*** ./node_modules/@zag-js/tooltip/dist/index.mjs ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   anatomy: () => (/* binding */ anatomy),\n/* harmony export */   connect: () => (/* binding */ connect),\n/* harmony export */   machine: () => (/* binding */ machine)\n/* harmony export */ });\n/* harmony import */ var _zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/anatomy */ \"(ssr)/./node_modules/@zag-js/anatomy/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @zag-js/dom-query */ \"(ssr)/./node_modules/@zag-js/dom-query/dist/index.mjs\");\n/* harmony import */ var _zag_js_popper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @zag-js/popper */ \"(ssr)/./node_modules/@zag-js/popper/dist/index.mjs\");\n/* harmony import */ var _zag_js_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @zag-js/core */ \"(ssr)/./node_modules/@zag-js/store/dist/index.mjs\");\n/* harmony import */ var _zag_js_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @zag-js/core */ \"(ssr)/./node_modules/@zag-js/core/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_event__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @zag-js/dom-event */ \"(ssr)/./node_modules/@zag-js/dom-event/dist/index.mjs\");\n/* harmony import */ var _zag_js_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @zag-js/utils */ \"(ssr)/./node_modules/@zag-js/utils/dist/index.mjs\");\n// src/tooltip.anatomy.ts\n\nvar anatomy = (0,_zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__.createAnatomy)(\"tooltip\").parts(\"trigger\", \"arrow\", \"arrowTip\", \"positioner\", \"content\");\nvar parts = anatomy.build();\n\n// src/tooltip.connect.ts\n\n\n\n// src/tooltip.dom.ts\n\nvar dom = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.createScope)({\n  getTriggerId: (ctx) => ctx.ids?.trigger ?? `tooltip:${ctx.id}:trigger`,\n  getContentId: (ctx) => ctx.ids?.content ?? `tooltip:${ctx.id}:content`,\n  getArrowId: (ctx) => ctx.ids?.arrow ?? `tooltip:${ctx.id}:arrow`,\n  getPositionerId: (ctx) => ctx.ids?.positioner ?? `tooltip:${ctx.id}:popper`,\n  getTriggerEl: (ctx) => dom.getById(ctx, dom.getTriggerId(ctx)),\n  getContentEl: (ctx) => dom.getById(ctx, dom.getContentId(ctx)),\n  getPositionerEl: (ctx) => dom.getById(ctx, dom.getPositionerId(ctx)),\n  getArrowEl: (ctx) => dom.getById(ctx, dom.getArrowId(ctx)),\n  getScrollParent: (ctx) => (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.getScrollParent)(dom.getTriggerEl(ctx))\n});\n\n// src/tooltip.store.ts\n\nvar store = (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_2__.proxy)({\n  id: null,\n  prevId: null,\n  setId(val) {\n    this.prevId = this.id;\n    this.id = val;\n  }\n});\n\n// src/tooltip.connect.ts\nfunction connect(state, send, normalize) {\n  const id = state.context.id;\n  const hasAriaLabel = state.context.hasAriaLabel;\n  const isOpen = state.hasTag(\"open\");\n  const triggerId = dom.getTriggerId(state.context);\n  const contentId = dom.getContentId(state.context);\n  const isDisabled = state.context.disabled;\n  const popperStyles = (0,_zag_js_popper__WEBPACK_IMPORTED_MODULE_3__.getPlacementStyles)({\n    ...state.context.positioning,\n    placement: state.context.currentPlacement\n  });\n  return {\n    isOpen,\n    open() {\n      send(\"OPEN\");\n    },\n    close() {\n      send(\"CLOSE\");\n    },\n    reposition(options = {}) {\n      send({ type: \"SET_POSITIONING\", options });\n    },\n    triggerProps: normalize.button({\n      ...parts.trigger.attrs,\n      id: triggerId,\n      dir: state.context.dir,\n      \"data-expanded\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isOpen),\n      \"data-state\": isOpen ? \"open\" : \"closed\",\n      \"aria-describedby\": isOpen ? contentId : void 0,\n      onClick() {\n        send(\"CLICK\");\n      },\n      onFocus() {\n        if (state.event.type === \"POINTER_DOWN\")\n          return;\n        send(\"FOCUS\");\n      },\n      onBlur() {\n        if (id === store.id) {\n          send(\"BLUR\");\n        }\n      },\n      onPointerDown() {\n        if (isDisabled)\n          return;\n        if (id === store.id) {\n          send(\"POINTER_DOWN\");\n        }\n      },\n      onPointerMove(event) {\n        if (isDisabled || event.pointerType === \"touch\")\n          return;\n        send(\"POINTER_MOVE\");\n      },\n      onPointerLeave() {\n        if (isDisabled)\n          return;\n        send(\"POINTER_LEAVE\");\n      },\n      onPointerCancel() {\n        if (isDisabled)\n          return;\n        send(\"POINTER_LEAVE\");\n      }\n    }),\n    arrowProps: normalize.element({\n      id: dom.getArrowId(state.context),\n      ...parts.arrow.attrs,\n      dir: state.context.dir,\n      style: popperStyles.arrow\n    }),\n    arrowTipProps: normalize.element({\n      ...parts.arrowTip.attrs,\n      dir: state.context.dir,\n      style: popperStyles.arrowTip\n    }),\n    positionerProps: normalize.element({\n      id: dom.getPositionerId(state.context),\n      ...parts.positioner.attrs,\n      dir: state.context.dir,\n      style: popperStyles.floating\n    }),\n    contentProps: normalize.element({\n      ...parts.content.attrs,\n      dir: state.context.dir,\n      hidden: !isOpen,\n      \"data-state\": isOpen ? \"open\" : \"closed\",\n      role: hasAriaLabel ? void 0 : \"tooltip\",\n      id: hasAriaLabel ? void 0 : contentId,\n      \"data-placement\": state.context.currentPlacement,\n      onPointerEnter() {\n        send(\"CONTENT.POINTER_MOVE\");\n      },\n      onPointerLeave() {\n        send(\"CONTENT.POINTER_LEAVE\");\n      },\n      style: {\n        pointerEvents: state.context.interactive ? \"auto\" : \"none\"\n      }\n    })\n  };\n}\n\n// src/tooltip.machine.ts\n\n\n\n\n\nvar { and, not } = _zag_js_core__WEBPACK_IMPORTED_MODULE_4__.guards;\nfunction machine(userContext) {\n  const ctx = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_5__.compact)(userContext);\n  return (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_4__.createMachine)(\n    {\n      id: \"tooltip\",\n      initial: \"closed\",\n      context: {\n        openDelay: 1e3,\n        closeDelay: 500,\n        closeOnPointerDown: true,\n        closeOnEsc: true,\n        interactive: true,\n        currentPlacement: void 0,\n        ...ctx,\n        hasPointerMoveOpened: false,\n        positioning: {\n          placement: \"bottom\",\n          ...ctx.positioning\n        }\n      },\n      computed: {\n        hasAriaLabel: (ctx2) => !!ctx2[\"aria-label\"]\n      },\n      watch: {\n        disabled: [\"closeIfDisabled\"],\n        open: [\"toggleVisibility\"]\n      },\n      on: {\n        OPEN: \"open\",\n        CLOSE: \"closed\"\n      },\n      states: {\n        closed: {\n          tags: [\"closed\"],\n          entry: [\"clearGlobalId\", \"invokeOnClose\"],\n          on: {\n            FOCUS: \"open\",\n            POINTER_LEAVE: {\n              actions: [\"clearPointerMoveOpened\"]\n            },\n            POINTER_MOVE: [\n              {\n                guard: and(\"noVisibleTooltip\", not(\"hasPointerMoveOpened\")),\n                target: \"opening\"\n              },\n              {\n                guard: not(\"hasPointerMoveOpened\"),\n                target: \"open\",\n                actions: [\"setPointerMoveOpened\"]\n              }\n            ]\n          }\n        },\n        opening: {\n          tags: [\"closed\"],\n          activities: [\"trackScroll\", \"trackPointerlockChange\"],\n          after: {\n            OPEN_DELAY: {\n              target: \"open\",\n              actions: [\"setPointerMoveOpened\"]\n            }\n          },\n          on: {\n            POINTER_LEAVE: {\n              target: \"closed\",\n              actions: [\"clearPointerMoveOpened\"]\n            },\n            BLUR: \"closed\",\n            SCROLL: \"closed\",\n            POINTER_LOCK_CHANGE: \"closed\",\n            POINTER_DOWN: {\n              guard: \"closeOnPointerDown\",\n              target: \"closed\"\n            }\n          }\n        },\n        open: {\n          tags: [\"open\"],\n          activities: [\n            \"trackEscapeKey\",\n            \"trackDisabledTriggerOnSafari\",\n            \"trackScroll\",\n            \"trackPointerlockChange\",\n            \"trackPositioning\"\n          ],\n          entry: [\"setGlobalId\", \"invokeOnOpen\"],\n          on: {\n            POINTER_LEAVE: [\n              {\n                guard: \"isVisible\",\n                target: \"closing\",\n                actions: [\"clearPointerMoveOpened\"]\n              },\n              {\n                target: \"closed\",\n                actions: [\"clearPointerMoveOpened\"]\n              }\n            ],\n            BLUR: \"closed\",\n            ESCAPE: \"closed\",\n            SCROLL: \"closed\",\n            POINTER_LOCK_CHANGE: \"closed\",\n            \"CONTENT.POINTER_LEAVE\": {\n              guard: \"isInteractive\",\n              target: \"closing\"\n            },\n            POINTER_DOWN: {\n              guard: \"closeOnPointerDown\",\n              target: \"closed\"\n            },\n            CLICK: \"closed\",\n            SET_POSITIONING: {\n              actions: \"reposition\"\n            }\n          }\n        },\n        closing: {\n          tags: [\"open\"],\n          activities: [\"trackStore\", \"trackPositioning\"],\n          after: {\n            CLOSE_DELAY: \"closed\"\n          },\n          on: {\n            FORCE_CLOSE: \"closed\",\n            POINTER_MOVE: {\n              target: \"open\",\n              actions: [\"setPointerMoveOpened\"]\n            },\n            \"CONTENT.POINTER_MOVE\": {\n              guard: \"isInteractive\",\n              target: \"open\"\n            }\n          }\n        }\n      }\n    },\n    {\n      activities: {\n        trackPositioning(ctx2) {\n          ctx2.currentPlacement = ctx2.positioning.placement;\n          const getPositionerEl = () => dom.getPositionerEl(ctx2);\n          return (0,_zag_js_popper__WEBPACK_IMPORTED_MODULE_3__.getPlacement)(dom.getTriggerEl(ctx2), getPositionerEl, {\n            ...ctx2.positioning,\n            defer: true,\n            onComplete(data) {\n              ctx2.currentPlacement = data.placement;\n            },\n            onCleanup() {\n              ctx2.currentPlacement = void 0;\n            }\n          });\n        },\n        trackPointerlockChange(ctx2, _evt, { send }) {\n          const onChange = () => send(\"POINTER_LOCK_CHANGE\");\n          return (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_6__.addDomEvent)(dom.getDoc(ctx2), \"pointerlockchange\", onChange, false);\n        },\n        trackScroll(ctx2, _evt, { send }) {\n          const trigger = dom.getTriggerEl(ctx2);\n          if (!trigger)\n            return;\n          const cleanups = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.getScrollParents)(trigger).map((el) => {\n            const opts = { passive: true, capture: true };\n            return (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_6__.addDomEvent)(el, \"scroll\", () => send(\"SCROLL\"), opts);\n          });\n          return () => {\n            cleanups.forEach((fn) => fn?.());\n          };\n        },\n        trackStore(ctx2, _evt, { send }) {\n          return (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_2__.subscribe)(store, () => {\n            if (store.id !== ctx2.id) {\n              send(\"FORCE_CLOSE\");\n            }\n          });\n        },\n        trackDisabledTriggerOnSafari(ctx2, _evt, { send }) {\n          if (!(0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.isSafari)())\n            return;\n          const doc = dom.getDoc(ctx2);\n          return (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_6__.addDomEvent)(doc, \"pointermove\", (event) => {\n            const selector = \"[data-part=trigger][data-expanded]\";\n            if ((0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.isHTMLElement)(event.target) && event.target.closest(selector))\n              return;\n            send(\"POINTER_LEAVE\");\n          });\n        },\n        trackEscapeKey(ctx2, _evt, { send }) {\n          if (!ctx2.closeOnEsc)\n            return;\n          const doc = dom.getDoc(ctx2);\n          return (0,_zag_js_dom_event__WEBPACK_IMPORTED_MODULE_6__.addDomEvent)(doc, \"keydown\", (event) => {\n            if (event.key === \"Escape\") {\n              send(\"ESCAPE\");\n            }\n          });\n        }\n      },\n      actions: {\n        setGlobalId(ctx2) {\n          store.setId(ctx2.id);\n        },\n        clearGlobalId(ctx2) {\n          if (ctx2.id === store.id) {\n            store.setId(null);\n          }\n        },\n        invokeOnOpen(ctx2, evt) {\n          const omit = [\"CONTENT.POINTER_MOVE\", \"POINTER_MOVE\"];\n          if (!omit.includes(evt.type)) {\n            ctx2.onOpenChange?.({ open: true });\n          }\n        },\n        invokeOnClose(ctx2) {\n          ctx2.onOpenChange?.({ open: false });\n        },\n        closeIfDisabled(ctx2, _evt, { send }) {\n          if (!ctx2.disabled)\n            return;\n          send(\"CLOSE\");\n        },\n        reposition(ctx2, evt) {\n          const getPositionerEl = () => dom.getPositionerEl(ctx2);\n          (0,_zag_js_popper__WEBPACK_IMPORTED_MODULE_3__.getPlacement)(dom.getTriggerEl(ctx2), getPositionerEl, {\n            ...ctx2.positioning,\n            ...evt.options,\n            defer: true,\n            listeners: false,\n            onComplete(data) {\n              ctx2.currentPlacement = data.placement;\n            }\n          });\n        },\n        toggleVisibility(ctx2, _evt, { send }) {\n          send({ type: ctx2.open ? \"OPEN\" : \"CLOSE\", src: \"controlled\" });\n        },\n        setPointerMoveOpened(ctx2) {\n          ctx2.hasPointerMoveOpened = true;\n        },\n        clearPointerMoveOpened(ctx2) {\n          ctx2.hasPointerMoveOpened = false;\n        }\n      },\n      guards: {\n        closeOnPointerDown: (ctx2) => ctx2.closeOnPointerDown,\n        noVisibleTooltip: () => store.id === null,\n        isVisible: (ctx2) => ctx2.id === store.id,\n        isInteractive: (ctx2) => ctx2.interactive,\n        hasPointerMoveOpened: (ctx2) => !!ctx2.hasPointerMoveOpened\n      },\n      delays: {\n        OPEN_DELAY: (ctx2) => ctx2.openDelay,\n        CLOSE_DELAY: (ctx2) => ctx2.closeDelay\n      }\n    }\n  );\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy90b29sdGlwL2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNnRDtBQUNoRCxjQUFjLDhEQUFhO0FBQzNCOztBQUVBO0FBQzZDO0FBQ087O0FBRXBEO0FBQ2lFO0FBQ2pFLFVBQVUsOERBQVc7QUFDckIsd0RBQXdELE9BQU87QUFDL0Qsd0RBQXdELE9BQU87QUFDL0Qsb0RBQW9ELE9BQU87QUFDM0QsOERBQThELE9BQU87QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsa0VBQWU7QUFDM0MsQ0FBQzs7QUFFRDtBQUNxQztBQUNyQyxZQUFZLG1EQUFLO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixrRUFBa0I7QUFDekM7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMLDJCQUEyQjtBQUMzQixhQUFhLGtDQUFrQztBQUMvQyxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsMkRBQVE7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUNULHVDQUF1QyxNQUFNO0FBQzdDLGlCQUFpQix1REFBdUQ7QUFDeEUsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AcGFyay11aS9leGFtcGxlcy1yZWFjdC1uZXh0LWpzLy4vbm9kZV9tb2R1bGVzL0B6YWctanMvdG9vbHRpcC9kaXN0L2luZGV4Lm1qcz9kYjQ3Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy90b29sdGlwLmFuYXRvbXkudHNcbmltcG9ydCB7IGNyZWF0ZUFuYXRvbXkgfSBmcm9tIFwiQHphZy1qcy9hbmF0b215XCI7XG52YXIgYW5hdG9teSA9IGNyZWF0ZUFuYXRvbXkoXCJ0b29sdGlwXCIpLnBhcnRzKFwidHJpZ2dlclwiLCBcImFycm93XCIsIFwiYXJyb3dUaXBcIiwgXCJwb3NpdGlvbmVyXCIsIFwiY29udGVudFwiKTtcbnZhciBwYXJ0cyA9IGFuYXRvbXkuYnVpbGQoKTtcblxuLy8gc3JjL3Rvb2x0aXAuY29ubmVjdC50c1xuaW1wb3J0IHsgZGF0YUF0dHIgfSBmcm9tIFwiQHphZy1qcy9kb20tcXVlcnlcIjtcbmltcG9ydCB7IGdldFBsYWNlbWVudFN0eWxlcyB9IGZyb20gXCJAemFnLWpzL3BvcHBlclwiO1xuXG4vLyBzcmMvdG9vbHRpcC5kb20udHNcbmltcG9ydCB7IGNyZWF0ZVNjb3BlLCBnZXRTY3JvbGxQYXJlbnQgfSBmcm9tIFwiQHphZy1qcy9kb20tcXVlcnlcIjtcbnZhciBkb20gPSBjcmVhdGVTY29wZSh7XG4gIGdldFRyaWdnZXJJZDogKGN0eCkgPT4gY3R4Lmlkcz8udHJpZ2dlciA/PyBgdG9vbHRpcDoke2N0eC5pZH06dHJpZ2dlcmAsXG4gIGdldENvbnRlbnRJZDogKGN0eCkgPT4gY3R4Lmlkcz8uY29udGVudCA/PyBgdG9vbHRpcDoke2N0eC5pZH06Y29udGVudGAsXG4gIGdldEFycm93SWQ6IChjdHgpID0+IGN0eC5pZHM/LmFycm93ID8/IGB0b29sdGlwOiR7Y3R4LmlkfTphcnJvd2AsXG4gIGdldFBvc2l0aW9uZXJJZDogKGN0eCkgPT4gY3R4Lmlkcz8ucG9zaXRpb25lciA/PyBgdG9vbHRpcDoke2N0eC5pZH06cG9wcGVyYCxcbiAgZ2V0VHJpZ2dlckVsOiAoY3R4KSA9PiBkb20uZ2V0QnlJZChjdHgsIGRvbS5nZXRUcmlnZ2VySWQoY3R4KSksXG4gIGdldENvbnRlbnRFbDogKGN0eCkgPT4gZG9tLmdldEJ5SWQoY3R4LCBkb20uZ2V0Q29udGVudElkKGN0eCkpLFxuICBnZXRQb3NpdGlvbmVyRWw6IChjdHgpID0+IGRvbS5nZXRCeUlkKGN0eCwgZG9tLmdldFBvc2l0aW9uZXJJZChjdHgpKSxcbiAgZ2V0QXJyb3dFbDogKGN0eCkgPT4gZG9tLmdldEJ5SWQoY3R4LCBkb20uZ2V0QXJyb3dJZChjdHgpKSxcbiAgZ2V0U2Nyb2xsUGFyZW50OiAoY3R4KSA9PiBnZXRTY3JvbGxQYXJlbnQoZG9tLmdldFRyaWdnZXJFbChjdHgpKVxufSk7XG5cbi8vIHNyYy90b29sdGlwLnN0b3JlLnRzXG5pbXBvcnQgeyBwcm94eSB9IGZyb20gXCJAemFnLWpzL2NvcmVcIjtcbnZhciBzdG9yZSA9IHByb3h5KHtcbiAgaWQ6IG51bGwsXG4gIHByZXZJZDogbnVsbCxcbiAgc2V0SWQodmFsKSB7XG4gICAgdGhpcy5wcmV2SWQgPSB0aGlzLmlkO1xuICAgIHRoaXMuaWQgPSB2YWw7XG4gIH1cbn0pO1xuXG4vLyBzcmMvdG9vbHRpcC5jb25uZWN0LnRzXG5mdW5jdGlvbiBjb25uZWN0KHN0YXRlLCBzZW5kLCBub3JtYWxpemUpIHtcbiAgY29uc3QgaWQgPSBzdGF0ZS5jb250ZXh0LmlkO1xuICBjb25zdCBoYXNBcmlhTGFiZWwgPSBzdGF0ZS5jb250ZXh0Lmhhc0FyaWFMYWJlbDtcbiAgY29uc3QgaXNPcGVuID0gc3RhdGUuaGFzVGFnKFwib3BlblwiKTtcbiAgY29uc3QgdHJpZ2dlcklkID0gZG9tLmdldFRyaWdnZXJJZChzdGF0ZS5jb250ZXh0KTtcbiAgY29uc3QgY29udGVudElkID0gZG9tLmdldENvbnRlbnRJZChzdGF0ZS5jb250ZXh0KTtcbiAgY29uc3QgaXNEaXNhYmxlZCA9IHN0YXRlLmNvbnRleHQuZGlzYWJsZWQ7XG4gIGNvbnN0IHBvcHBlclN0eWxlcyA9IGdldFBsYWNlbWVudFN0eWxlcyh7XG4gICAgLi4uc3RhdGUuY29udGV4dC5wb3NpdGlvbmluZyxcbiAgICBwbGFjZW1lbnQ6IHN0YXRlLmNvbnRleHQuY3VycmVudFBsYWNlbWVudFxuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBpc09wZW4sXG4gICAgb3BlbigpIHtcbiAgICAgIHNlbmQoXCJPUEVOXCIpO1xuICAgIH0sXG4gICAgY2xvc2UoKSB7XG4gICAgICBzZW5kKFwiQ0xPU0VcIik7XG4gICAgfSxcbiAgICByZXBvc2l0aW9uKG9wdGlvbnMgPSB7fSkge1xuICAgICAgc2VuZCh7IHR5cGU6IFwiU0VUX1BPU0lUSU9OSU5HXCIsIG9wdGlvbnMgfSk7XG4gICAgfSxcbiAgICB0cmlnZ2VyUHJvcHM6IG5vcm1hbGl6ZS5idXR0b24oe1xuICAgICAgLi4ucGFydHMudHJpZ2dlci5hdHRycyxcbiAgICAgIGlkOiB0cmlnZ2VySWQsXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgXCJkYXRhLWV4cGFuZGVkXCI6IGRhdGFBdHRyKGlzT3BlbiksXG4gICAgICBcImRhdGEtc3RhdGVcIjogaXNPcGVuID8gXCJvcGVuXCIgOiBcImNsb3NlZFwiLFxuICAgICAgXCJhcmlhLWRlc2NyaWJlZGJ5XCI6IGlzT3BlbiA/IGNvbnRlbnRJZCA6IHZvaWQgMCxcbiAgICAgIG9uQ2xpY2soKSB7XG4gICAgICAgIHNlbmQoXCJDTElDS1wiKTtcbiAgICAgIH0sXG4gICAgICBvbkZvY3VzKCkge1xuICAgICAgICBpZiAoc3RhdGUuZXZlbnQudHlwZSA9PT0gXCJQT0lOVEVSX0RPV05cIilcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIHNlbmQoXCJGT0NVU1wiKTtcbiAgICAgIH0sXG4gICAgICBvbkJsdXIoKSB7XG4gICAgICAgIGlmIChpZCA9PT0gc3RvcmUuaWQpIHtcbiAgICAgICAgICBzZW5kKFwiQkxVUlwiKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uUG9pbnRlckRvd24oKSB7XG4gICAgICAgIGlmIChpc0Rpc2FibGVkKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKGlkID09PSBzdG9yZS5pZCkge1xuICAgICAgICAgIHNlbmQoXCJQT0lOVEVSX0RPV05cIik7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvblBvaW50ZXJNb3ZlKGV2ZW50KSB7XG4gICAgICAgIGlmIChpc0Rpc2FibGVkIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSBcInRvdWNoXCIpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBzZW5kKFwiUE9JTlRFUl9NT1ZFXCIpO1xuICAgICAgfSxcbiAgICAgIG9uUG9pbnRlckxlYXZlKCkge1xuICAgICAgICBpZiAoaXNEaXNhYmxlZClcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIHNlbmQoXCJQT0lOVEVSX0xFQVZFXCIpO1xuICAgICAgfSxcbiAgICAgIG9uUG9pbnRlckNhbmNlbCgpIHtcbiAgICAgICAgaWYgKGlzRGlzYWJsZWQpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBzZW5kKFwiUE9JTlRFUl9MRUFWRVwiKTtcbiAgICAgIH1cbiAgICB9KSxcbiAgICBhcnJvd1Byb3BzOiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICBpZDogZG9tLmdldEFycm93SWQoc3RhdGUuY29udGV4dCksXG4gICAgICAuLi5wYXJ0cy5hcnJvdy5hdHRycyxcbiAgICAgIGRpcjogc3RhdGUuY29udGV4dC5kaXIsXG4gICAgICBzdHlsZTogcG9wcGVyU3R5bGVzLmFycm93XG4gICAgfSksXG4gICAgYXJyb3dUaXBQcm9wczogbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgLi4ucGFydHMuYXJyb3dUaXAuYXR0cnMsXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgc3R5bGU6IHBvcHBlclN0eWxlcy5hcnJvd1RpcFxuICAgIH0pLFxuICAgIHBvc2l0aW9uZXJQcm9wczogbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgaWQ6IGRvbS5nZXRQb3NpdGlvbmVySWQoc3RhdGUuY29udGV4dCksXG4gICAgICAuLi5wYXJ0cy5wb3NpdGlvbmVyLmF0dHJzLFxuICAgICAgZGlyOiBzdGF0ZS5jb250ZXh0LmRpcixcbiAgICAgIHN0eWxlOiBwb3BwZXJTdHlsZXMuZmxvYXRpbmdcbiAgICB9KSxcbiAgICBjb250ZW50UHJvcHM6IG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgIC4uLnBhcnRzLmNvbnRlbnQuYXR0cnMsXG4gICAgICBkaXI6IHN0YXRlLmNvbnRleHQuZGlyLFxuICAgICAgaGlkZGVuOiAhaXNPcGVuLFxuICAgICAgXCJkYXRhLXN0YXRlXCI6IGlzT3BlbiA/IFwib3BlblwiIDogXCJjbG9zZWRcIixcbiAgICAgIHJvbGU6IGhhc0FyaWFMYWJlbCA/IHZvaWQgMCA6IFwidG9vbHRpcFwiLFxuICAgICAgaWQ6IGhhc0FyaWFMYWJlbCA/IHZvaWQgMCA6IGNvbnRlbnRJZCxcbiAgICAgIFwiZGF0YS1wbGFjZW1lbnRcIjogc3RhdGUuY29udGV4dC5jdXJyZW50UGxhY2VtZW50LFxuICAgICAgb25Qb2ludGVyRW50ZXIoKSB7XG4gICAgICAgIHNlbmQoXCJDT05URU5ULlBPSU5URVJfTU9WRVwiKTtcbiAgICAgIH0sXG4gICAgICBvblBvaW50ZXJMZWF2ZSgpIHtcbiAgICAgICAgc2VuZChcIkNPTlRFTlQuUE9JTlRFUl9MRUFWRVwiKTtcbiAgICAgIH0sXG4gICAgICBzdHlsZToge1xuICAgICAgICBwb2ludGVyRXZlbnRzOiBzdGF0ZS5jb250ZXh0LmludGVyYWN0aXZlID8gXCJhdXRvXCIgOiBcIm5vbmVcIlxuICAgICAgfVxuICAgIH0pXG4gIH07XG59XG5cbi8vIHNyYy90b29sdGlwLm1hY2hpbmUudHNcbmltcG9ydCB7IGNyZWF0ZU1hY2hpbmUsIHN1YnNjcmliZSwgZ3VhcmRzIH0gZnJvbSBcIkB6YWctanMvY29yZVwiO1xuaW1wb3J0IHsgYWRkRG9tRXZlbnQgfSBmcm9tIFwiQHphZy1qcy9kb20tZXZlbnRcIjtcbmltcG9ydCB7IGdldFNjcm9sbFBhcmVudHMsIGlzSFRNTEVsZW1lbnQsIGlzU2FmYXJpIH0gZnJvbSBcIkB6YWctanMvZG9tLXF1ZXJ5XCI7XG5pbXBvcnQgeyBnZXRQbGFjZW1lbnQgfSBmcm9tIFwiQHphZy1qcy9wb3BwZXJcIjtcbmltcG9ydCB7IGNvbXBhY3QgfSBmcm9tIFwiQHphZy1qcy91dGlsc1wiO1xudmFyIHsgYW5kLCBub3QgfSA9IGd1YXJkcztcbmZ1bmN0aW9uIG1hY2hpbmUodXNlckNvbnRleHQpIHtcbiAgY29uc3QgY3R4ID0gY29tcGFjdCh1c2VyQ29udGV4dCk7XG4gIHJldHVybiBjcmVhdGVNYWNoaW5lKFxuICAgIHtcbiAgICAgIGlkOiBcInRvb2x0aXBcIixcbiAgICAgIGluaXRpYWw6IFwiY2xvc2VkXCIsXG4gICAgICBjb250ZXh0OiB7XG4gICAgICAgIG9wZW5EZWxheTogMWUzLFxuICAgICAgICBjbG9zZURlbGF5OiA1MDAsXG4gICAgICAgIGNsb3NlT25Qb2ludGVyRG93bjogdHJ1ZSxcbiAgICAgICAgY2xvc2VPbkVzYzogdHJ1ZSxcbiAgICAgICAgaW50ZXJhY3RpdmU6IHRydWUsXG4gICAgICAgIGN1cnJlbnRQbGFjZW1lbnQ6IHZvaWQgMCxcbiAgICAgICAgLi4uY3R4LFxuICAgICAgICBoYXNQb2ludGVyTW92ZU9wZW5lZDogZmFsc2UsXG4gICAgICAgIHBvc2l0aW9uaW5nOiB7XG4gICAgICAgICAgcGxhY2VtZW50OiBcImJvdHRvbVwiLFxuICAgICAgICAgIC4uLmN0eC5wb3NpdGlvbmluZ1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY29tcHV0ZWQ6IHtcbiAgICAgICAgaGFzQXJpYUxhYmVsOiAoY3R4MikgPT4gISFjdHgyW1wiYXJpYS1sYWJlbFwiXVxuICAgICAgfSxcbiAgICAgIHdhdGNoOiB7XG4gICAgICAgIGRpc2FibGVkOiBbXCJjbG9zZUlmRGlzYWJsZWRcIl0sXG4gICAgICAgIG9wZW46IFtcInRvZ2dsZVZpc2liaWxpdHlcIl1cbiAgICAgIH0sXG4gICAgICBvbjoge1xuICAgICAgICBPUEVOOiBcIm9wZW5cIixcbiAgICAgICAgQ0xPU0U6IFwiY2xvc2VkXCJcbiAgICAgIH0sXG4gICAgICBzdGF0ZXM6IHtcbiAgICAgICAgY2xvc2VkOiB7XG4gICAgICAgICAgdGFnczogW1wiY2xvc2VkXCJdLFxuICAgICAgICAgIGVudHJ5OiBbXCJjbGVhckdsb2JhbElkXCIsIFwiaW52b2tlT25DbG9zZVwiXSxcbiAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgRk9DVVM6IFwib3BlblwiLFxuICAgICAgICAgICAgUE9JTlRFUl9MRUFWRToge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJjbGVhclBvaW50ZXJNb3ZlT3BlbmVkXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgUE9JTlRFUl9NT1ZFOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBndWFyZDogYW5kKFwibm9WaXNpYmxlVG9vbHRpcFwiLCBub3QoXCJoYXNQb2ludGVyTW92ZU9wZW5lZFwiKSksXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBcIm9wZW5pbmdcIlxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ3VhcmQ6IG5vdChcImhhc1BvaW50ZXJNb3ZlT3BlbmVkXCIpLFxuICAgICAgICAgICAgICAgIHRhcmdldDogXCJvcGVuXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogW1wic2V0UG9pbnRlck1vdmVPcGVuZWRcIl1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb3BlbmluZzoge1xuICAgICAgICAgIHRhZ3M6IFtcImNsb3NlZFwiXSxcbiAgICAgICAgICBhY3Rpdml0aWVzOiBbXCJ0cmFja1Njcm9sbFwiLCBcInRyYWNrUG9pbnRlcmxvY2tDaGFuZ2VcIl0sXG4gICAgICAgICAgYWZ0ZXI6IHtcbiAgICAgICAgICAgIE9QRU5fREVMQVk6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcIm9wZW5cIixcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wic2V0UG9pbnRlck1vdmVPcGVuZWRcIl1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBQT0lOVEVSX0xFQVZFOiB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJjbG9zZWRcIixcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wiY2xlYXJQb2ludGVyTW92ZU9wZW5lZFwiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIEJMVVI6IFwiY2xvc2VkXCIsXG4gICAgICAgICAgICBTQ1JPTEw6IFwiY2xvc2VkXCIsXG4gICAgICAgICAgICBQT0lOVEVSX0xPQ0tfQ0hBTkdFOiBcImNsb3NlZFwiLFxuICAgICAgICAgICAgUE9JTlRFUl9ET1dOOiB7XG4gICAgICAgICAgICAgIGd1YXJkOiBcImNsb3NlT25Qb2ludGVyRG93blwiLFxuICAgICAgICAgICAgICB0YXJnZXQ6IFwiY2xvc2VkXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9wZW46IHtcbiAgICAgICAgICB0YWdzOiBbXCJvcGVuXCJdLFxuICAgICAgICAgIGFjdGl2aXRpZXM6IFtcbiAgICAgICAgICAgIFwidHJhY2tFc2NhcGVLZXlcIixcbiAgICAgICAgICAgIFwidHJhY2tEaXNhYmxlZFRyaWdnZXJPblNhZmFyaVwiLFxuICAgICAgICAgICAgXCJ0cmFja1Njcm9sbFwiLFxuICAgICAgICAgICAgXCJ0cmFja1BvaW50ZXJsb2NrQ2hhbmdlXCIsXG4gICAgICAgICAgICBcInRyYWNrUG9zaXRpb25pbmdcIlxuICAgICAgICAgIF0sXG4gICAgICAgICAgZW50cnk6IFtcInNldEdsb2JhbElkXCIsIFwiaW52b2tlT25PcGVuXCJdLFxuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBQT0lOVEVSX0xFQVZFOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBndWFyZDogXCJpc1Zpc2libGVcIixcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiY2xvc2luZ1wiLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFtcImNsZWFyUG9pbnRlck1vdmVPcGVuZWRcIl1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRhcmdldDogXCJjbG9zZWRcIixcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJjbGVhclBvaW50ZXJNb3ZlT3BlbmVkXCJdXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBCTFVSOiBcImNsb3NlZFwiLFxuICAgICAgICAgICAgRVNDQVBFOiBcImNsb3NlZFwiLFxuICAgICAgICAgICAgU0NST0xMOiBcImNsb3NlZFwiLFxuICAgICAgICAgICAgUE9JTlRFUl9MT0NLX0NIQU5HRTogXCJjbG9zZWRcIixcbiAgICAgICAgICAgIFwiQ09OVEVOVC5QT0lOVEVSX0xFQVZFXCI6IHtcbiAgICAgICAgICAgICAgZ3VhcmQ6IFwiaXNJbnRlcmFjdGl2ZVwiLFxuICAgICAgICAgICAgICB0YXJnZXQ6IFwiY2xvc2luZ1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgUE9JTlRFUl9ET1dOOiB7XG4gICAgICAgICAgICAgIGd1YXJkOiBcImNsb3NlT25Qb2ludGVyRG93blwiLFxuICAgICAgICAgICAgICB0YXJnZXQ6IFwiY2xvc2VkXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBDTElDSzogXCJjbG9zZWRcIixcbiAgICAgICAgICAgIFNFVF9QT1NJVElPTklORzoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBcInJlcG9zaXRpb25cIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY2xvc2luZzoge1xuICAgICAgICAgIHRhZ3M6IFtcIm9wZW5cIl0sXG4gICAgICAgICAgYWN0aXZpdGllczogW1widHJhY2tTdG9yZVwiLCBcInRyYWNrUG9zaXRpb25pbmdcIl0sXG4gICAgICAgICAgYWZ0ZXI6IHtcbiAgICAgICAgICAgIENMT1NFX0RFTEFZOiBcImNsb3NlZFwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgRk9SQ0VfQ0xPU0U6IFwiY2xvc2VkXCIsXG4gICAgICAgICAgICBQT0lOVEVSX01PVkU6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcIm9wZW5cIixcbiAgICAgICAgICAgICAgYWN0aW9uczogW1wic2V0UG9pbnRlck1vdmVPcGVuZWRcIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIkNPTlRFTlQuUE9JTlRFUl9NT1ZFXCI6IHtcbiAgICAgICAgICAgICAgZ3VhcmQ6IFwiaXNJbnRlcmFjdGl2ZVwiLFxuICAgICAgICAgICAgICB0YXJnZXQ6IFwib3BlblwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICBhY3Rpdml0aWVzOiB7XG4gICAgICAgIHRyYWNrUG9zaXRpb25pbmcoY3R4Mikge1xuICAgICAgICAgIGN0eDIuY3VycmVudFBsYWNlbWVudCA9IGN0eDIucG9zaXRpb25pbmcucGxhY2VtZW50O1xuICAgICAgICAgIGNvbnN0IGdldFBvc2l0aW9uZXJFbCA9ICgpID0+IGRvbS5nZXRQb3NpdGlvbmVyRWwoY3R4Mik7XG4gICAgICAgICAgcmV0dXJuIGdldFBsYWNlbWVudChkb20uZ2V0VHJpZ2dlckVsKGN0eDIpLCBnZXRQb3NpdGlvbmVyRWwsIHtcbiAgICAgICAgICAgIC4uLmN0eDIucG9zaXRpb25pbmcsXG4gICAgICAgICAgICBkZWZlcjogdHJ1ZSxcbiAgICAgICAgICAgIG9uQ29tcGxldGUoZGF0YSkge1xuICAgICAgICAgICAgICBjdHgyLmN1cnJlbnRQbGFjZW1lbnQgPSBkYXRhLnBsYWNlbWVudDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkNsZWFudXAoKSB7XG4gICAgICAgICAgICAgIGN0eDIuY3VycmVudFBsYWNlbWVudCA9IHZvaWQgMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgdHJhY2tQb2ludGVybG9ja0NoYW5nZShjdHgyLCBfZXZ0LCB7IHNlbmQgfSkge1xuICAgICAgICAgIGNvbnN0IG9uQ2hhbmdlID0gKCkgPT4gc2VuZChcIlBPSU5URVJfTE9DS19DSEFOR0VcIik7XG4gICAgICAgICAgcmV0dXJuIGFkZERvbUV2ZW50KGRvbS5nZXREb2MoY3R4MiksIFwicG9pbnRlcmxvY2tjaGFuZ2VcIiwgb25DaGFuZ2UsIGZhbHNlKTtcbiAgICAgICAgfSxcbiAgICAgICAgdHJhY2tTY3JvbGwoY3R4MiwgX2V2dCwgeyBzZW5kIH0pIHtcbiAgICAgICAgICBjb25zdCB0cmlnZ2VyID0gZG9tLmdldFRyaWdnZXJFbChjdHgyKTtcbiAgICAgICAgICBpZiAoIXRyaWdnZXIpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgY29uc3QgY2xlYW51cHMgPSBnZXRTY3JvbGxQYXJlbnRzKHRyaWdnZXIpLm1hcCgoZWwpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG9wdHMgPSB7IHBhc3NpdmU6IHRydWUsIGNhcHR1cmU6IHRydWUgfTtcbiAgICAgICAgICAgIHJldHVybiBhZGREb21FdmVudChlbCwgXCJzY3JvbGxcIiwgKCkgPT4gc2VuZChcIlNDUk9MTFwiKSwgb3B0cyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNsZWFudXBzLmZvckVhY2goKGZuKSA9PiBmbj8uKCkpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIHRyYWNrU3RvcmUoY3R4MiwgX2V2dCwgeyBzZW5kIH0pIHtcbiAgICAgICAgICByZXR1cm4gc3Vic2NyaWJlKHN0b3JlLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoc3RvcmUuaWQgIT09IGN0eDIuaWQpIHtcbiAgICAgICAgICAgICAgc2VuZChcIkZPUkNFX0NMT1NFXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICB0cmFja0Rpc2FibGVkVHJpZ2dlck9uU2FmYXJpKGN0eDIsIF9ldnQsIHsgc2VuZCB9KSB7XG4gICAgICAgICAgaWYgKCFpc1NhZmFyaSgpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IGRvYyA9IGRvbS5nZXREb2MoY3R4Mik7XG4gICAgICAgICAgcmV0dXJuIGFkZERvbUV2ZW50KGRvYywgXCJwb2ludGVybW92ZVwiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdG9yID0gXCJbZGF0YS1wYXJ0PXRyaWdnZXJdW2RhdGEtZXhwYW5kZWRdXCI7XG4gICAgICAgICAgICBpZiAoaXNIVE1MRWxlbWVudChldmVudC50YXJnZXQpICYmIGV2ZW50LnRhcmdldC5jbG9zZXN0KHNlbGVjdG9yKSlcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgc2VuZChcIlBPSU5URVJfTEVBVkVcIik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHRyYWNrRXNjYXBlS2V5KGN0eDIsIF9ldnQsIHsgc2VuZCB9KSB7XG4gICAgICAgICAgaWYgKCFjdHgyLmNsb3NlT25Fc2MpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgY29uc3QgZG9jID0gZG9tLmdldERvYyhjdHgyKTtcbiAgICAgICAgICByZXR1cm4gYWRkRG9tRXZlbnQoZG9jLCBcImtleWRvd25cIiwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICAgICAgICAgIHNlbmQoXCJFU0NBUEVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBhY3Rpb25zOiB7XG4gICAgICAgIHNldEdsb2JhbElkKGN0eDIpIHtcbiAgICAgICAgICBzdG9yZS5zZXRJZChjdHgyLmlkKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xlYXJHbG9iYWxJZChjdHgyKSB7XG4gICAgICAgICAgaWYgKGN0eDIuaWQgPT09IHN0b3JlLmlkKSB7XG4gICAgICAgICAgICBzdG9yZS5zZXRJZChudWxsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGludm9rZU9uT3BlbihjdHgyLCBldnQpIHtcbiAgICAgICAgICBjb25zdCBvbWl0ID0gW1wiQ09OVEVOVC5QT0lOVEVSX01PVkVcIiwgXCJQT0lOVEVSX01PVkVcIl07XG4gICAgICAgICAgaWYgKCFvbWl0LmluY2x1ZGVzKGV2dC50eXBlKSkge1xuICAgICAgICAgICAgY3R4Mi5vbk9wZW5DaGFuZ2U/Lih7IG9wZW46IHRydWUgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBpbnZva2VPbkNsb3NlKGN0eDIpIHtcbiAgICAgICAgICBjdHgyLm9uT3BlbkNoYW5nZT8uKHsgb3BlbjogZmFsc2UgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGNsb3NlSWZEaXNhYmxlZChjdHgyLCBfZXZ0LCB7IHNlbmQgfSkge1xuICAgICAgICAgIGlmICghY3R4Mi5kaXNhYmxlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBzZW5kKFwiQ0xPU0VcIik7XG4gICAgICAgIH0sXG4gICAgICAgIHJlcG9zaXRpb24oY3R4MiwgZXZ0KSB7XG4gICAgICAgICAgY29uc3QgZ2V0UG9zaXRpb25lckVsID0gKCkgPT4gZG9tLmdldFBvc2l0aW9uZXJFbChjdHgyKTtcbiAgICAgICAgICBnZXRQbGFjZW1lbnQoZG9tLmdldFRyaWdnZXJFbChjdHgyKSwgZ2V0UG9zaXRpb25lckVsLCB7XG4gICAgICAgICAgICAuLi5jdHgyLnBvc2l0aW9uaW5nLFxuICAgICAgICAgICAgLi4uZXZ0Lm9wdGlvbnMsXG4gICAgICAgICAgICBkZWZlcjogdHJ1ZSxcbiAgICAgICAgICAgIGxpc3RlbmVyczogZmFsc2UsXG4gICAgICAgICAgICBvbkNvbXBsZXRlKGRhdGEpIHtcbiAgICAgICAgICAgICAgY3R4Mi5jdXJyZW50UGxhY2VtZW50ID0gZGF0YS5wbGFjZW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHRvZ2dsZVZpc2liaWxpdHkoY3R4MiwgX2V2dCwgeyBzZW5kIH0pIHtcbiAgICAgICAgICBzZW5kKHsgdHlwZTogY3R4Mi5vcGVuID8gXCJPUEVOXCIgOiBcIkNMT1NFXCIsIHNyYzogXCJjb250cm9sbGVkXCIgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFBvaW50ZXJNb3ZlT3BlbmVkKGN0eDIpIHtcbiAgICAgICAgICBjdHgyLmhhc1BvaW50ZXJNb3ZlT3BlbmVkID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xlYXJQb2ludGVyTW92ZU9wZW5lZChjdHgyKSB7XG4gICAgICAgICAgY3R4Mi5oYXNQb2ludGVyTW92ZU9wZW5lZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZ3VhcmRzOiB7XG4gICAgICAgIGNsb3NlT25Qb2ludGVyRG93bjogKGN0eDIpID0+IGN0eDIuY2xvc2VPblBvaW50ZXJEb3duLFxuICAgICAgICBub1Zpc2libGVUb29sdGlwOiAoKSA9PiBzdG9yZS5pZCA9PT0gbnVsbCxcbiAgICAgICAgaXNWaXNpYmxlOiAoY3R4MikgPT4gY3R4Mi5pZCA9PT0gc3RvcmUuaWQsXG4gICAgICAgIGlzSW50ZXJhY3RpdmU6IChjdHgyKSA9PiBjdHgyLmludGVyYWN0aXZlLFxuICAgICAgICBoYXNQb2ludGVyTW92ZU9wZW5lZDogKGN0eDIpID0+ICEhY3R4Mi5oYXNQb2ludGVyTW92ZU9wZW5lZFxuICAgICAgfSxcbiAgICAgIGRlbGF5czoge1xuICAgICAgICBPUEVOX0RFTEFZOiAoY3R4MikgPT4gY3R4Mi5vcGVuRGVsYXksXG4gICAgICAgIENMT1NFX0RFTEFZOiAoY3R4MikgPT4gY3R4Mi5jbG9zZURlbGF5XG4gICAgICB9XG4gICAgfVxuICApO1xufVxuZXhwb3J0IHtcbiAgYW5hdG9teSxcbiAgY29ubmVjdCxcbiAgbWFjaGluZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/tooltip/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/types/dist/index.mjs":
/*!***************************************************!*\
  !*** ./node_modules/@zag-js/types/dist/index.mjs ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createNormalizer: () => (/* binding */ createNormalizer)\n/* harmony export */ });\n// src/prop-types.ts\nfunction createNormalizer(fn) {\n  return new Proxy({}, {\n    get() {\n      return fn;\n    }\n  });\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy90eXBlcy9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFHRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBhcmstdWkvZXhhbXBsZXMtcmVhY3QtbmV4dC1qcy8uL25vZGVfbW9kdWxlcy9AemFnLWpzL3R5cGVzL2Rpc3QvaW5kZXgubWpzPzI0ZmUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL3Byb3AtdHlwZXMudHNcbmZ1bmN0aW9uIGNyZWF0ZU5vcm1hbGl6ZXIoZm4pIHtcbiAgcmV0dXJuIG5ldyBQcm94eSh7fSwge1xuICAgIGdldCgpIHtcbiAgICAgIHJldHVybiBmbjtcbiAgICB9XG4gIH0pO1xufVxuZXhwb3J0IHtcbiAgY3JlYXRlTm9ybWFsaXplclxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/types/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/utils/dist/index.mjs":
/*!***************************************************!*\
  !*** ./node_modules/@zag-js/utils/dist/index.mjs ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   add: () => (/* binding */ add),\n/* harmony export */   addOrRemove: () => (/* binding */ addOrRemove),\n/* harmony export */   callAll: () => (/* binding */ callAll),\n/* harmony export */   cast: () => (/* binding */ cast),\n/* harmony export */   chunk: () => (/* binding */ chunk),\n/* harmony export */   clear: () => (/* binding */ clear),\n/* harmony export */   compact: () => (/* binding */ compact),\n/* harmony export */   first: () => (/* binding */ first),\n/* harmony export */   fromLength: () => (/* binding */ fromLength),\n/* harmony export */   has: () => (/* binding */ has),\n/* harmony export */   hasProp: () => (/* binding */ hasProp),\n/* harmony export */   invariant: () => (/* binding */ invariant),\n/* harmony export */   isArray: () => (/* binding */ isArray),\n/* harmony export */   isBoolean: () => (/* binding */ isBoolean),\n/* harmony export */   isDev: () => (/* binding */ isDev),\n/* harmony export */   isEmpty: () => (/* binding */ isEmpty),\n/* harmony export */   isEqual: () => (/* binding */ isEqual),\n/* harmony export */   isFunction: () => (/* binding */ isFunction),\n/* harmony export */   isNull: () => (/* binding */ isNull),\n/* harmony export */   isNumber: () => (/* binding */ isNumber),\n/* harmony export */   isObject: () => (/* binding */ isObject),\n/* harmony export */   isString: () => (/* binding */ isString),\n/* harmony export */   json: () => (/* binding */ json),\n/* harmony export */   last: () => (/* binding */ last),\n/* harmony export */   match: () => (/* binding */ match),\n/* harmony export */   next: () => (/* binding */ next),\n/* harmony export */   nextIndex: () => (/* binding */ nextIndex),\n/* harmony export */   noop: () => (/* binding */ noop),\n/* harmony export */   prev: () => (/* binding */ prev),\n/* harmony export */   prevIndex: () => (/* binding */ prevIndex),\n/* harmony export */   remove: () => (/* binding */ remove),\n/* harmony export */   removeAt: () => (/* binding */ removeAt),\n/* harmony export */   runIfFn: () => (/* binding */ runIfFn),\n/* harmony export */   toArray: () => (/* binding */ toArray),\n/* harmony export */   tryCatch: () => (/* binding */ tryCatch),\n/* harmony export */   uuid: () => (/* binding */ uuid),\n/* harmony export */   warn: () => (/* binding */ warn)\n/* harmony export */ });\n// src/array.ts\nfunction toArray(v) {\n  if (!v)\n    return [];\n  return Array.isArray(v) ? v : [v];\n}\nvar fromLength = (length) => Array.from(Array(length).keys());\nvar first = (v) => v[0];\nvar last = (v) => v[v.length - 1];\nvar isEmpty = (v) => v.length === 0;\nvar has = (v, t) => v.indexOf(t) !== -1;\nvar add = (v, ...items) => v.concat(items);\nvar remove = (v, item) => v.filter((t) => t !== item);\nvar removeAt = (v, i) => v.filter((_, idx) => idx !== i);\nvar addOrRemove = (v, item) => {\n  if (has(v, item))\n    return remove(v, item);\n  return add(v, item);\n};\nfunction clear(v) {\n  while (v.length > 0)\n    v.pop();\n  return v;\n}\nfunction nextIndex(v, idx, opts = {}) {\n  const { step = 1, loop = true } = opts;\n  const next2 = idx + step;\n  const len = v.length;\n  const last2 = len - 1;\n  if (idx === -1)\n    return step > 0 ? 0 : last2;\n  if (next2 < 0)\n    return loop ? last2 : 0;\n  if (next2 >= len)\n    return loop ? 0 : idx > len ? len : idx;\n  return next2;\n}\nfunction next(v, idx, opts = {}) {\n  return v[nextIndex(v, idx, opts)];\n}\nfunction prevIndex(v, idx, opts = {}) {\n  const { step = 1, loop = true } = opts;\n  return nextIndex(v, idx, { step: -step, loop });\n}\nfunction prev(v, index, opts = {}) {\n  return v[prevIndex(v, index, opts)];\n}\nvar chunk = (v, size) => {\n  const res = [];\n  return v.reduce((rows, value, index) => {\n    if (index % size === 0)\n      rows.push([value]);\n    else\n      last(rows)?.push(value);\n    return rows;\n  }, res);\n};\n\n// src/equal.ts\nvar isEqual = (a, b) => {\n  if (Object.is(a, b))\n    return true;\n  if (!(a instanceof Object) || !(b instanceof Object))\n    return false;\n  const keys = Object.keys(a);\n  const length = keys.length;\n  for (let i = 0; i < length; i++) {\n    if (!(keys[i] in b))\n      return false;\n  }\n  for (let i = 0; i < length; i++) {\n    if (a[keys[i]] !== b[keys[i]])\n      return false;\n  }\n  return length === Object.keys(b).length;\n};\n\n// src/functions.ts\nvar runIfFn = (v, ...a) => {\n  const res = typeof v === \"function\" ? v(...a) : v;\n  return res ?? void 0;\n};\nvar cast = (v) => v;\nvar noop = () => {\n};\nvar callAll = (...fns) => (...a) => {\n  fns.forEach(function(fn) {\n    fn?.(...a);\n  });\n};\nvar uuid = /* @__PURE__ */ (() => {\n  let id = 0;\n  return () => {\n    id++;\n    return id.toString(36);\n  };\n})();\nfunction match(key, record, ...args) {\n  if (key in record) {\n    const fn = record[key];\n    return typeof fn === \"function\" ? fn(...args) : fn;\n  }\n  const error = new Error(`No matching key: ${JSON.stringify(key)} in ${JSON.stringify(Object.keys(record))}`);\n  Error.captureStackTrace?.(error, match);\n  throw error;\n}\nvar tryCatch = (fn, fallback) => {\n  try {\n    return fn();\n  } catch (error) {\n    if (error instanceof Error) {\n      Error.captureStackTrace?.(error, tryCatch);\n    }\n    return fallback?.();\n  }\n};\n\n// src/guard.ts\nvar isDev = () => \"development\" !== \"production\";\nvar isArray = (v) => Array.isArray(v);\nvar isBoolean = (v) => v === true || v === false;\nvar isObject = (v) => !(v == null || typeof v !== \"object\" || isArray(v));\nvar isNumber = (v) => typeof v === \"number\" && !Number.isNaN(v);\nvar isString = (v) => typeof v === \"string\";\nvar isFunction = (v) => typeof v === \"function\";\nvar isNull = (v) => v == null;\nvar hasProp = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\n\n// src/object.ts\nfunction compact(obj) {\n  if (!isPlainObject(obj) || obj === void 0) {\n    return obj;\n  }\n  const keys = Reflect.ownKeys(obj).filter((key) => typeof key === \"string\");\n  const filtered = {};\n  for (const key of keys) {\n    const value = obj[key];\n    if (value !== void 0) {\n      filtered[key] = compact(value);\n    }\n  }\n  return filtered;\n}\nfunction json(value) {\n  return JSON.parse(JSON.stringify(value));\n}\nvar isPlainObject = (value) => {\n  return value && typeof value === \"object\" && value.constructor === Object;\n};\n\n// src/warning.ts\nfunction warn(...a) {\n  const m = a.length === 1 ? a[0] : a[1];\n  const c = a.length === 2 ? a[0] : true;\n  if (c && \"development\" !== \"production\") {\n    console.warn(m);\n  }\n}\nfunction invariant(...a) {\n  const m = a.length === 1 ? a[0] : a[1];\n  const c = a.length === 2 ? a[0] : true;\n  if (c && \"development\" !== \"production\") {\n    throw new Error(m);\n  }\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy91dGlscy9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDLFVBQVUsd0JBQXdCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBLG9DQUFvQztBQUNwQyxVQUFVLHdCQUF3QjtBQUNsQyw2QkFBNkIsbUJBQW1CO0FBQ2hEO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsWUFBWTtBQUM5QjtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsWUFBWTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxxQkFBcUIsS0FBSyxvQ0FBb0M7QUFDNUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtCQUFrQixhQUFvQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsYUFBb0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxhQUFvQjtBQUMvQjtBQUNBO0FBQ0E7QUF1Q0U7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL0BwYXJrLXVpL2V4YW1wbGVzLXJlYWN0LW5leHQtanMvLi9ub2RlX21vZHVsZXMvQHphZy1qcy91dGlscy9kaXN0L2luZGV4Lm1qcz85NDhiIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9hcnJheS50c1xuZnVuY3Rpb24gdG9BcnJheSh2KSB7XG4gIGlmICghdilcbiAgICByZXR1cm4gW107XG4gIHJldHVybiBBcnJheS5pc0FycmF5KHYpID8gdiA6IFt2XTtcbn1cbnZhciBmcm9tTGVuZ3RoID0gKGxlbmd0aCkgPT4gQXJyYXkuZnJvbShBcnJheShsZW5ndGgpLmtleXMoKSk7XG52YXIgZmlyc3QgPSAodikgPT4gdlswXTtcbnZhciBsYXN0ID0gKHYpID0+IHZbdi5sZW5ndGggLSAxXTtcbnZhciBpc0VtcHR5ID0gKHYpID0+IHYubGVuZ3RoID09PSAwO1xudmFyIGhhcyA9ICh2LCB0KSA9PiB2LmluZGV4T2YodCkgIT09IC0xO1xudmFyIGFkZCA9ICh2LCAuLi5pdGVtcykgPT4gdi5jb25jYXQoaXRlbXMpO1xudmFyIHJlbW92ZSA9ICh2LCBpdGVtKSA9PiB2LmZpbHRlcigodCkgPT4gdCAhPT0gaXRlbSk7XG52YXIgcmVtb3ZlQXQgPSAodiwgaSkgPT4gdi5maWx0ZXIoKF8sIGlkeCkgPT4gaWR4ICE9PSBpKTtcbnZhciBhZGRPclJlbW92ZSA9ICh2LCBpdGVtKSA9PiB7XG4gIGlmIChoYXModiwgaXRlbSkpXG4gICAgcmV0dXJuIHJlbW92ZSh2LCBpdGVtKTtcbiAgcmV0dXJuIGFkZCh2LCBpdGVtKTtcbn07XG5mdW5jdGlvbiBjbGVhcih2KSB7XG4gIHdoaWxlICh2Lmxlbmd0aCA+IDApXG4gICAgdi5wb3AoKTtcbiAgcmV0dXJuIHY7XG59XG5mdW5jdGlvbiBuZXh0SW5kZXgodiwgaWR4LCBvcHRzID0ge30pIHtcbiAgY29uc3QgeyBzdGVwID0gMSwgbG9vcCA9IHRydWUgfSA9IG9wdHM7XG4gIGNvbnN0IG5leHQyID0gaWR4ICsgc3RlcDtcbiAgY29uc3QgbGVuID0gdi5sZW5ndGg7XG4gIGNvbnN0IGxhc3QyID0gbGVuIC0gMTtcbiAgaWYgKGlkeCA9PT0gLTEpXG4gICAgcmV0dXJuIHN0ZXAgPiAwID8gMCA6IGxhc3QyO1xuICBpZiAobmV4dDIgPCAwKVxuICAgIHJldHVybiBsb29wID8gbGFzdDIgOiAwO1xuICBpZiAobmV4dDIgPj0gbGVuKVxuICAgIHJldHVybiBsb29wID8gMCA6IGlkeCA+IGxlbiA/IGxlbiA6IGlkeDtcbiAgcmV0dXJuIG5leHQyO1xufVxuZnVuY3Rpb24gbmV4dCh2LCBpZHgsIG9wdHMgPSB7fSkge1xuICByZXR1cm4gdltuZXh0SW5kZXgodiwgaWR4LCBvcHRzKV07XG59XG5mdW5jdGlvbiBwcmV2SW5kZXgodiwgaWR4LCBvcHRzID0ge30pIHtcbiAgY29uc3QgeyBzdGVwID0gMSwgbG9vcCA9IHRydWUgfSA9IG9wdHM7XG4gIHJldHVybiBuZXh0SW5kZXgodiwgaWR4LCB7IHN0ZXA6IC1zdGVwLCBsb29wIH0pO1xufVxuZnVuY3Rpb24gcHJldih2LCBpbmRleCwgb3B0cyA9IHt9KSB7XG4gIHJldHVybiB2W3ByZXZJbmRleCh2LCBpbmRleCwgb3B0cyldO1xufVxudmFyIGNodW5rID0gKHYsIHNpemUpID0+IHtcbiAgY29uc3QgcmVzID0gW107XG4gIHJldHVybiB2LnJlZHVjZSgocm93cywgdmFsdWUsIGluZGV4KSA9PiB7XG4gICAgaWYgKGluZGV4ICUgc2l6ZSA9PT0gMClcbiAgICAgIHJvd3MucHVzaChbdmFsdWVdKTtcbiAgICBlbHNlXG4gICAgICBsYXN0KHJvd3MpPy5wdXNoKHZhbHVlKTtcbiAgICByZXR1cm4gcm93cztcbiAgfSwgcmVzKTtcbn07XG5cbi8vIHNyYy9lcXVhbC50c1xudmFyIGlzRXF1YWwgPSAoYSwgYikgPT4ge1xuICBpZiAoT2JqZWN0LmlzKGEsIGIpKVxuICAgIHJldHVybiB0cnVlO1xuICBpZiAoIShhIGluc3RhbmNlb2YgT2JqZWN0KSB8fCAhKGIgaW5zdGFuY2VvZiBPYmplY3QpKVxuICAgIHJldHVybiBmYWxzZTtcbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGEpO1xuICBjb25zdCBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGlmICghKGtleXNbaV0gaW4gYikpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGlmIChhW2tleXNbaV1dICE9PSBiW2tleXNbaV1dKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBsZW5ndGggPT09IE9iamVjdC5rZXlzKGIpLmxlbmd0aDtcbn07XG5cbi8vIHNyYy9mdW5jdGlvbnMudHNcbnZhciBydW5JZkZuID0gKHYsIC4uLmEpID0+IHtcbiAgY29uc3QgcmVzID0gdHlwZW9mIHYgPT09IFwiZnVuY3Rpb25cIiA/IHYoLi4uYSkgOiB2O1xuICByZXR1cm4gcmVzID8/IHZvaWQgMDtcbn07XG52YXIgY2FzdCA9ICh2KSA9PiB2O1xudmFyIG5vb3AgPSAoKSA9PiB7XG59O1xudmFyIGNhbGxBbGwgPSAoLi4uZm5zKSA9PiAoLi4uYSkgPT4ge1xuICBmbnMuZm9yRWFjaChmdW5jdGlvbihmbikge1xuICAgIGZuPy4oLi4uYSk7XG4gIH0pO1xufTtcbnZhciB1dWlkID0gLyogQF9fUFVSRV9fICovICgoKSA9PiB7XG4gIGxldCBpZCA9IDA7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgaWQrKztcbiAgICByZXR1cm4gaWQudG9TdHJpbmcoMzYpO1xuICB9O1xufSkoKTtcbmZ1bmN0aW9uIG1hdGNoKGtleSwgcmVjb3JkLCAuLi5hcmdzKSB7XG4gIGlmIChrZXkgaW4gcmVjb3JkKSB7XG4gICAgY29uc3QgZm4gPSByZWNvcmRba2V5XTtcbiAgICByZXR1cm4gdHlwZW9mIGZuID09PSBcImZ1bmN0aW9uXCIgPyBmbiguLi5hcmdzKSA6IGZuO1xuICB9XG4gIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBObyBtYXRjaGluZyBrZXk6ICR7SlNPTi5zdHJpbmdpZnkoa2V5KX0gaW4gJHtKU09OLnN0cmluZ2lmeShPYmplY3Qua2V5cyhyZWNvcmQpKX1gKTtcbiAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2U/LihlcnJvciwgbWF0Y2gpO1xuICB0aHJvdyBlcnJvcjtcbn1cbnZhciB0cnlDYXRjaCA9IChmbiwgZmFsbGJhY2spID0+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZm4oKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2U/LihlcnJvciwgdHJ5Q2F0Y2gpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsbGJhY2s/LigpO1xuICB9XG59O1xuXG4vLyBzcmMvZ3VhcmQudHNcbnZhciBpc0RldiA9ICgpID0+IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIjtcbnZhciBpc0FycmF5ID0gKHYpID0+IEFycmF5LmlzQXJyYXkodik7XG52YXIgaXNCb29sZWFuID0gKHYpID0+IHYgPT09IHRydWUgfHwgdiA9PT0gZmFsc2U7XG52YXIgaXNPYmplY3QgPSAodikgPT4gISh2ID09IG51bGwgfHwgdHlwZW9mIHYgIT09IFwib2JqZWN0XCIgfHwgaXNBcnJheSh2KSk7XG52YXIgaXNOdW1iZXIgPSAodikgPT4gdHlwZW9mIHYgPT09IFwibnVtYmVyXCIgJiYgIU51bWJlci5pc05hTih2KTtcbnZhciBpc1N0cmluZyA9ICh2KSA9PiB0eXBlb2YgdiA9PT0gXCJzdHJpbmdcIjtcbnZhciBpc0Z1bmN0aW9uID0gKHYpID0+IHR5cGVvZiB2ID09PSBcImZ1bmN0aW9uXCI7XG52YXIgaXNOdWxsID0gKHYpID0+IHYgPT0gbnVsbDtcbnZhciBoYXNQcm9wID0gKG9iaiwgcHJvcCkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7XG5cbi8vIHNyYy9vYmplY3QudHNcbmZ1bmN0aW9uIGNvbXBhY3Qob2JqKSB7XG4gIGlmICghaXNQbGFpbk9iamVjdChvYmopIHx8IG9iaiA9PT0gdm9pZCAwKSB7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuICBjb25zdCBrZXlzID0gUmVmbGVjdC5vd25LZXlzKG9iaikuZmlsdGVyKChrZXkpID0+IHR5cGVvZiBrZXkgPT09IFwic3RyaW5nXCIpO1xuICBjb25zdCBmaWx0ZXJlZCA9IHt9O1xuICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XG4gICAgY29uc3QgdmFsdWUgPSBvYmpba2V5XTtcbiAgICBpZiAodmFsdWUgIT09IHZvaWQgMCkge1xuICAgICAgZmlsdGVyZWRba2V5XSA9IGNvbXBhY3QodmFsdWUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmlsdGVyZWQ7XG59XG5mdW5jdGlvbiBqc29uKHZhbHVlKSB7XG4gIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XG59XG52YXIgaXNQbGFpbk9iamVjdCA9ICh2YWx1ZSkgPT4ge1xuICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBPYmplY3Q7XG59O1xuXG4vLyBzcmMvd2FybmluZy50c1xuZnVuY3Rpb24gd2FybiguLi5hKSB7XG4gIGNvbnN0IG0gPSBhLmxlbmd0aCA9PT0gMSA/IGFbMF0gOiBhWzFdO1xuICBjb25zdCBjID0gYS5sZW5ndGggPT09IDIgPyBhWzBdIDogdHJ1ZTtcbiAgaWYgKGMgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgY29uc29sZS53YXJuKG0pO1xuICB9XG59XG5mdW5jdGlvbiBpbnZhcmlhbnQoLi4uYSkge1xuICBjb25zdCBtID0gYS5sZW5ndGggPT09IDEgPyBhWzBdIDogYVsxXTtcbiAgY29uc3QgYyA9IGEubGVuZ3RoID09PSAyID8gYVswXSA6IHRydWU7XG4gIGlmIChjICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgIHRocm93IG5ldyBFcnJvcihtKTtcbiAgfVxufVxuZXhwb3J0IHtcbiAgYWRkLFxuICBhZGRPclJlbW92ZSxcbiAgY2FsbEFsbCxcbiAgY2FzdCxcbiAgY2h1bmssXG4gIGNsZWFyLFxuICBjb21wYWN0LFxuICBmaXJzdCxcbiAgZnJvbUxlbmd0aCxcbiAgaGFzLFxuICBoYXNQcm9wLFxuICBpbnZhcmlhbnQsXG4gIGlzQXJyYXksXG4gIGlzQm9vbGVhbixcbiAgaXNEZXYsXG4gIGlzRW1wdHksXG4gIGlzRXF1YWwsXG4gIGlzRnVuY3Rpb24sXG4gIGlzTnVsbCxcbiAgaXNOdW1iZXIsXG4gIGlzT2JqZWN0LFxuICBpc1N0cmluZyxcbiAganNvbixcbiAgbGFzdCxcbiAgbWF0Y2gsXG4gIG5leHQsXG4gIG5leHRJbmRleCxcbiAgbm9vcCxcbiAgcHJldixcbiAgcHJldkluZGV4LFxuICByZW1vdmUsXG4gIHJlbW92ZUF0LFxuICBydW5JZkZuLFxuICB0b0FycmF5LFxuICB0cnlDYXRjaCxcbiAgdXVpZCxcbiAgd2FyblxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/utils/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@zag-js/visually-hidden/dist/index.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@zag-js/visually-hidden/dist/index.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   setVisuallyHidden: () => (/* binding */ setVisuallyHidden),\n/* harmony export */   visuallyHiddenStyle: () => (/* binding */ visuallyHiddenStyle)\n/* harmony export */ });\n// src/index.ts\nvar visuallyHiddenStyle = {\n  border: \"0\",\n  clip: \"rect(0 0 0 0)\",\n  height: \"1px\",\n  margin: \"-1px\",\n  overflow: \"hidden\",\n  padding: \"0\",\n  position: \"absolute\",\n  width: \"1px\",\n  whiteSpace: \"nowrap\",\n  wordWrap: \"normal\"\n};\nfunction setVisuallyHidden(el) {\n  Object.assign(el.style, visuallyHiddenStyle);\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHphZy1qcy92aXN1YWxseS1oaWRkZW4vZGlzdC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AcGFyay11aS9leGFtcGxlcy1yZWFjdC1uZXh0LWpzLy4vbm9kZV9tb2R1bGVzL0B6YWctanMvdmlzdWFsbHktaGlkZGVuL2Rpc3QvaW5kZXgubWpzPzc0NjUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2luZGV4LnRzXG52YXIgdmlzdWFsbHlIaWRkZW5TdHlsZSA9IHtcbiAgYm9yZGVyOiBcIjBcIixcbiAgY2xpcDogXCJyZWN0KDAgMCAwIDApXCIsXG4gIGhlaWdodDogXCIxcHhcIixcbiAgbWFyZ2luOiBcIi0xcHhcIixcbiAgb3ZlcmZsb3c6IFwiaGlkZGVuXCIsXG4gIHBhZGRpbmc6IFwiMFwiLFxuICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICB3aWR0aDogXCIxcHhcIixcbiAgd2hpdGVTcGFjZTogXCJub3dyYXBcIixcbiAgd29yZFdyYXA6IFwibm9ybWFsXCJcbn07XG5mdW5jdGlvbiBzZXRWaXN1YWxseUhpZGRlbihlbCkge1xuICBPYmplY3QuYXNzaWduKGVsLnN0eWxlLCB2aXN1YWxseUhpZGRlblN0eWxlKTtcbn1cbmV4cG9ydCB7XG4gIHNldFZpc3VhbGx5SGlkZGVuLFxuICB2aXN1YWxseUhpZGRlblN0eWxlXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@zag-js/visually-hidden/dist/index.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@zag-js/core/dist/index.mjs":
/*!**************************************************!*\
  !*** ./node_modules/@zag-js/core/dist/index.mjs ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Machine: () => (/* binding */ Machine),\n/* harmony export */   choose: () => (/* binding */ choose),\n/* harmony export */   createMachine: () => (/* binding */ createMachine),\n/* harmony export */   deepMerge: () => (/* binding */ deepMerge),\n/* harmony export */   guards: () => (/* binding */ guards),\n/* harmony export */   mergeProps: () => (/* binding */ mergeProps),\n/* harmony export */   proxy: () => (/* reexport safe */ _zag_js_store__WEBPACK_IMPORTED_MODULE_1__.proxy),\n/* harmony export */   ref: () => (/* reexport safe */ _zag_js_store__WEBPACK_IMPORTED_MODULE_1__.ref),\n/* harmony export */   snapshot: () => (/* reexport safe */ _zag_js_store__WEBPACK_IMPORTED_MODULE_1__.snapshot),\n/* harmony export */   subscribe: () => (/* reexport safe */ _zag_js_store__WEBPACK_IMPORTED_MODULE_1__.subscribe)\n/* harmony export */ });\n/* harmony import */ var _zag_js_store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @zag-js/store */ \"(rsc)/./node_modules/@zag-js/store/dist/index.mjs\");\n/* harmony import */ var klona_full__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! klona/full */ \"(rsc)/./node_modules/klona/full/index.mjs\");\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>{\n    __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n    return value;\n};\n// src/index.ts\n\n// ../utilities/core/src/array.ts\nfunction clear(v) {\n    while(v.length > 0)v.pop();\n    return v;\n}\n// ../utilities/core/src/functions.ts\nvar runIfFn = (v, ...a)=>{\n    const res = typeof v === \"function\" ? v(...a) : v;\n    return res ?? void 0;\n};\nvar cast = (v)=>v;\nvar noop = ()=>{};\nvar callAll = (...fns)=>(...a)=>{\n        fns.forEach(function(fn) {\n            fn?.(...a);\n        });\n    };\nvar uuid = /* @__PURE__ */ (()=>{\n    let id = 0;\n    return ()=>{\n        id++;\n        return id.toString(36);\n    };\n})();\n// ../utilities/core/src/guard.ts\nvar isDev = ()=>\"development\" !== \"production\";\nvar isArray = (v)=>Array.isArray(v);\nvar isObject = (v)=>!(v == null || typeof v !== \"object\" || isArray(v));\nvar isNumber = (v)=>typeof v === \"number\" && !Number.isNaN(v);\nvar isString = (v)=>typeof v === \"string\";\nvar isFunction = (v)=>typeof v === \"function\";\n// ../utilities/core/src/object.ts\nfunction compact(obj) {\n    if (!isPlainObject(obj) || obj === void 0) {\n        return obj;\n    }\n    const keys = Reflect.ownKeys(obj).filter((key)=>typeof key === \"string\");\n    const filtered = {};\n    for (const key of keys){\n        const value = obj[key];\n        if (value !== void 0) {\n            filtered[key] = compact(value);\n        }\n    }\n    return filtered;\n}\nvar isPlainObject = (value)=>{\n    return value && typeof value === \"object\" && value.constructor === Object;\n};\n// ../utilities/core/src/warning.ts\nfunction warn(...a) {\n    const m = a.length === 1 ? a[0] : a[1];\n    const c = a.length === 2 ? a[0] : true;\n    if (c && \"development\" !== \"production\") {\n        console.warn(m);\n    }\n}\nfunction invariant(...a) {\n    const m = a.length === 1 ? a[0] : a[1];\n    const c = a.length === 2 ? a[0] : true;\n    if (c && \"development\" !== \"production\") {\n        throw new Error(m);\n    }\n}\n// src/deep-merge.ts\nfunction deepMerge(source, ...objects) {\n    for (const obj of objects){\n        const target = compact(obj);\n        for(const key in target){\n            if (isObject(obj[key])) {\n                if (!source[key]) {\n                    source[key] = {};\n                }\n                deepMerge(source[key], obj[key]);\n            } else {\n                source[key] = obj[key];\n            }\n        }\n    }\n    return source;\n}\n// src/utils.ts\n\nfunction structuredClone(v) {\n    return (0,klona_full__WEBPACK_IMPORTED_MODULE_0__.klona)(v);\n}\nfunction toEvent(event) {\n    const obj = isString(event) ? {\n        type: event\n    } : event;\n    return obj;\n}\nfunction toArray(value) {\n    if (!value) return [];\n    return isArray(value) ? value.slice() : [\n        value\n    ];\n}\nfunction isGuardHelper(value) {\n    return isObject(value) && value.predicate != null;\n}\n// src/guard-utils.ts\nvar Truthy = ()=>true;\nfunction exec(guardMap, ctx, event, meta) {\n    return (guard)=>{\n        if (isString(guard)) {\n            return !!guardMap[guard]?.(ctx, event, meta);\n        }\n        if (isFunction(guard)) {\n            return guard(ctx, event, meta);\n        }\n        return guard.predicate(guardMap)(ctx, event, meta);\n    };\n}\nfunction or(...conditions) {\n    return {\n        predicate: (guardMap)=>(ctx, event, meta)=>conditions.map(exec(guardMap, ctx, event, meta)).some(Boolean)\n    };\n}\nfunction and(...conditions) {\n    return {\n        predicate: (guardMap)=>(ctx, event, meta)=>conditions.map(exec(guardMap, ctx, event, meta)).every(Boolean)\n    };\n}\nfunction not(condition) {\n    return {\n        predicate: (guardMap)=>(ctx, event, meta)=>{\n                return !exec(guardMap, ctx, event, meta)(condition);\n            }\n    };\n}\nfunction stateIn(...values) {\n    return (_ctx, _evt, meta)=>meta.state.matches(...values);\n}\nvar guards = {\n    or,\n    and,\n    not,\n    stateIn\n};\nfunction choose(actions) {\n    return {\n        predicate: (guardMap)=>(ctx, event, meta)=>actions.find((def)=>{\n                    const guard = def.guard ?? Truthy;\n                    return exec(guardMap, ctx, event, meta)(guard);\n                })?.actions\n    };\n}\nfunction determineGuardFn(guard, guardMap) {\n    guard = guard ?? Truthy;\n    return (context, event, meta)=>{\n        if (isString(guard)) {\n            const value = guardMap[guard];\n            return isFunction(value) ? value(context, event, meta) : value;\n        }\n        if (isGuardHelper(guard)) {\n            return guard.predicate(guardMap)(context, event, meta);\n        }\n        return guard?.(context, event, meta);\n    };\n}\nfunction determineActionsFn(values, guardMap) {\n    return (context, event, meta)=>{\n        if (isGuardHelper(values)) {\n            return values.predicate(guardMap)(context, event, meta);\n        }\n        return values;\n    };\n}\n// src/machine.ts\n\n// src/create-proxy.ts\n\nfunction createProxy(config) {\n    const computedContext = config.computed ?? cast({});\n    const initialContext = config.context ?? cast({});\n    const state = (0,_zag_js_store__WEBPACK_IMPORTED_MODULE_1__.proxy)({\n        value: config.initial ?? \"\",\n        previousValue: \"\",\n        event: cast({}),\n        previousEvent: cast({}),\n        context: (0,_zag_js_store__WEBPACK_IMPORTED_MODULE_1__.proxyWithComputed)(initialContext, computedContext),\n        done: false,\n        tags: [],\n        hasTag (tag) {\n            return this.tags.includes(tag);\n        },\n        matches (...value) {\n            return value.includes(this.value);\n        },\n        can (event) {\n            return cast(this).nextEvents.includes(event);\n        },\n        get nextEvents () {\n            const stateEvents = config.states?.[this.value]?.[\"on\"] ?? {};\n            const globalEvents = config?.on ?? {};\n            return Object.keys({\n                ...stateEvents,\n                ...globalEvents\n            });\n        },\n        get changed () {\n            if (this.event.value === \"machine.init\" /* Init */  || !this.previousValue) return false;\n            return this.value !== this.previousValue;\n        }\n    });\n    return cast(state);\n}\n// src/delay-utils.ts\nfunction determineDelayFn(delay, delaysMap) {\n    return (context, event)=>{\n        if (isNumber(delay)) return delay;\n        if (isFunction(delay)) {\n            return delay(context, event);\n        }\n        if (isString(delay)) {\n            const value = Number.parseFloat(delay);\n            if (!Number.isNaN(value)) {\n                return value;\n            }\n            if (delaysMap) {\n                const valueOrFn = delaysMap?.[delay];\n                invariant(valueOrFn == null, `[@zag-js/core > determine-delay] Cannot determine delay for \\`${delay}\\`. It doesn't exist in \\`options.delays\\``);\n                return isFunction(valueOrFn) ? valueOrFn(context, event) : valueOrFn;\n            }\n        }\n    };\n}\n// src/transition-utils.ts\nfunction toTarget(target) {\n    return isString(target) ? {\n        target\n    } : target;\n}\nfunction determineTransitionFn(transitions, guardMap) {\n    return (context, event, meta)=>{\n        return toArray(transitions).map(toTarget).find((transition)=>{\n            const determineGuard = determineGuardFn(transition.guard, guardMap);\n            const guard = determineGuard(context, event, meta);\n            return guard ?? transition.target ?? transition.actions;\n        });\n    };\n}\n// src/machine.ts\nvar Machine = class _Machine {\n    // Let's get started!\n    constructor(config, options){\n        __publicField(this, \"status\", \"Not Started\" /* NotStarted */ );\n        __publicField(this, \"state\");\n        __publicField(this, \"initialState\");\n        __publicField(this, \"initialContext\");\n        __publicField(this, \"id\");\n        __publicField(this, \"type\", \"machine\" /* Machine */ );\n        // Cleanup function map (per state)\n        __publicField(this, \"activityEvents\", /* @__PURE__ */ new Map());\n        __publicField(this, \"delayedEvents\", /* @__PURE__ */ new Map());\n        // state update listeners the user can opt-in for\n        __publicField(this, \"stateListeners\", /* @__PURE__ */ new Set());\n        __publicField(this, \"contextListeners\", /* @__PURE__ */ new Set());\n        __publicField(this, \"eventListeners\", /* @__PURE__ */ new Set());\n        __publicField(this, \"doneListeners\", /* @__PURE__ */ new Set());\n        __publicField(this, \"contextWatchers\", /* @__PURE__ */ new Set());\n        // Cleanup functions (for `subscribe`)\n        __publicField(this, \"removeStateListener\", noop);\n        __publicField(this, \"removeEventListener\", noop);\n        __publicField(this, \"removeContextListener\", noop);\n        // For Parent <==> Spawned Actor relationship\n        __publicField(this, \"parent\");\n        __publicField(this, \"children\", /* @__PURE__ */ new Map());\n        // A map of guard, action, delay implementations\n        __publicField(this, \"guardMap\");\n        __publicField(this, \"actionMap\");\n        __publicField(this, \"delayMap\");\n        __publicField(this, \"activityMap\");\n        __publicField(this, \"sync\");\n        __publicField(this, \"options\");\n        __publicField(this, \"config\");\n        // Starts the interpreted machine.\n        __publicField(this, \"start\", (init)=>{\n            this.state.value = \"\";\n            if (this.status === \"Running\" /* Running */ ) {\n                return this;\n            }\n            this.status = \"Running\" /* Running */ ;\n            this.removeStateListener = (0,_zag_js_store__WEBPACK_IMPORTED_MODULE_1__.subscribe)(this.state, ()=>{\n                this.stateListeners.forEach((listener)=>{\n                    listener(this.stateSnapshot);\n                });\n            }, this.sync);\n            this.removeEventListener = (0,_zag_js_store__WEBPACK_IMPORTED_MODULE_1__.subscribeKey)(this.state, \"event\", (event2)=>{\n                this.executeActions(this.config.onEvent, event2);\n                this.eventListeners.forEach((listener)=>{\n                    listener(event2);\n                });\n            }, this.sync);\n            this.removeContextListener = (0,_zag_js_store__WEBPACK_IMPORTED_MODULE_1__.subscribe)(this.state.context, ()=>{\n                this.log(\"Context:\", this.contextSnapshot);\n                this.contextListeners.forEach((listener)=>{\n                    listener(this.contextSnapshot);\n                });\n            }, this.sync || this.options.debug);\n            this.setupContextWatchers();\n            this.executeActivities(toEvent(\"machine.start\" /* Start */ ), toArray(this.config.activities), \"machine.start\" /* Start */ );\n            this.executeActions(this.config.entry, toEvent(\"machine.start\" /* Start */ ));\n            const event = toEvent(\"machine.init\" /* Init */ );\n            const target = isObject(init) ? init.value : init;\n            const context = isObject(init) ? init.context : void 0;\n            if (context) {\n                this.setContext(context);\n            }\n            const transition = {\n                target: target ?? this.config.initial\n            };\n            const next = this.getNextStateInfo(transition, event);\n            this.initialState = next;\n            this.performStateChangeEffects(this.state.value, next, event);\n            return this;\n        });\n        __publicField(this, \"setupContextWatchers\", ()=>{\n            for (const [key, fn] of Object.entries(this.config.watch ?? {})){\n                const compareFn = this.options.compareFns?.[key];\n                const cleanup = (0,_zag_js_store__WEBPACK_IMPORTED_MODULE_1__.subscribeKey)(this.state.context, key, ()=>{\n                    this.executeActions(fn, this.state.event);\n                }, this.sync, compareFn);\n                this.contextWatchers.add(cleanup);\n            }\n        });\n        // Stops the interpreted machine\n        __publicField(this, \"stop\", ()=>{\n            if (this.status === \"Stopped\" /* Stopped */ ) return;\n            this.performExitEffects(this.state.value, toEvent(\"machine.stop\" /* Stop */ ));\n            this.executeActions(this.config.exit, toEvent(\"machine.stop\" /* Stop */ ));\n            this.setState(\"\");\n            this.setEvent(\"machine.stop\" /* Stop */ );\n            this.stopStateListeners();\n            this.stopChildren();\n            this.stopActivities();\n            this.stopDelayedEvents();\n            this.stopContextWatchers();\n            this.stopEventListeners();\n            this.stopContextListeners();\n            this.status = \"Stopped\" /* Stopped */ ;\n            return this;\n        });\n        __publicField(this, \"stopEventListeners\", ()=>{\n            this.eventListeners.clear();\n            this.removeEventListener();\n        });\n        __publicField(this, \"stopContextListeners\", ()=>{\n            this.contextListeners.clear();\n            this.removeContextListener();\n        });\n        __publicField(this, \"stopStateListeners\", ()=>{\n            this.removeStateListener();\n            this.stateListeners.clear();\n        });\n        __publicField(this, \"stopContextWatchers\", ()=>{\n            this.contextWatchers.forEach((fn)=>fn());\n            this.contextWatchers.clear();\n        });\n        __publicField(this, \"stopDelayedEvents\", ()=>{\n            this.delayedEvents.forEach((state)=>{\n                state.forEach((stop)=>stop());\n            });\n            this.delayedEvents.clear();\n        });\n        // Cleanup running activities (e.g `setInterval`, invoked callbacks, promises)\n        __publicField(this, \"stopActivities\", (state)=>{\n            if (state) {\n                this.activityEvents.get(state)?.forEach((stop)=>stop());\n                this.activityEvents.get(state)?.clear();\n                this.activityEvents.delete(state);\n            } else {\n                this.activityEvents.forEach((state2)=>{\n                    state2.forEach((stop)=>stop());\n                    state2.clear();\n                });\n                this.activityEvents.clear();\n            }\n        });\n        /**\n     * Function to send event to spawned child machine or actor\n     */ __publicField(this, \"sendChild\", (evt, to)=>{\n            const event = toEvent(evt);\n            const id = runIfFn(to, this.contextSnapshot);\n            const child = this.children.get(id);\n            if (!child) {\n                invariant(`[@zag-js/core] Cannot send '${event.type}' event to unknown child`);\n            }\n            child.send(event);\n        });\n        /**\n     * Function to stop a running child machine or actor\n     */ __publicField(this, \"stopChild\", (id)=>{\n            if (!this.children.has(id)) {\n                invariant(`[@zag-js/core > stop-child] Cannot stop unknown child ${id}`);\n            }\n            this.children.get(id).stop();\n            this.children.delete(id);\n        });\n        __publicField(this, \"removeChild\", (id)=>{\n            this.children.delete(id);\n        });\n        // Stop and delete spawned actors\n        __publicField(this, \"stopChildren\", ()=>{\n            this.children.forEach((child)=>child.stop());\n            this.children.clear();\n        });\n        __publicField(this, \"setParent\", (parent)=>{\n            this.parent = parent;\n        });\n        __publicField(this, \"spawn\", (src, id)=>{\n            const actor = runIfFn(src);\n            if (id) actor.id = id;\n            actor.type = \"machine.actor\" /* Actor */ ;\n            actor.setParent(this);\n            this.children.set(actor.id, cast(actor));\n            actor.onDone(()=>{\n                this.removeChild(actor.id);\n            }).start();\n            return cast((0,_zag_js_store__WEBPACK_IMPORTED_MODULE_1__.ref)(actor));\n        });\n        __publicField(this, \"stopActivity\", (key)=>{\n            if (!this.state.value) return;\n            const cleanups = this.activityEvents.get(this.state.value);\n            cleanups?.get(key)?.();\n            cleanups?.delete(key);\n        });\n        __publicField(this, \"addActivityCleanup\", (state, key, cleanup)=>{\n            if (!state) return;\n            if (!this.activityEvents.has(state)) {\n                this.activityEvents.set(state, /* @__PURE__ */ new Map([\n                    [\n                        key,\n                        cleanup\n                    ]\n                ]));\n            } else {\n                this.activityEvents.get(state)?.set(key, cleanup);\n            }\n        });\n        __publicField(this, \"setState\", (target)=>{\n            this.state.previousValue = this.state.value;\n            this.state.value = target;\n            const stateNode = this.getStateNode(target);\n            if (target == null) {\n                clear(this.state.tags);\n            } else {\n                this.state.tags = toArray(stateNode?.tags);\n            }\n        });\n        __publicField(this, \"transformContext\", (context)=>{\n            this.options?.transformContext?.(context);\n            return context;\n        });\n        /**\n     * To used within side effects for React or Vue to update context\n     */ __publicField(this, \"setContext\", (context)=>{\n            if (!context) return;\n            deepMerge(this.state.context, this.transformContext(context));\n        });\n        __publicField(this, \"withContext\", (context)=>{\n            const transformed = this.transformContext(context);\n            const newContext = {\n                ...this.config.context,\n                ...compact(transformed)\n            };\n            return new _Machine({\n                ...this.config,\n                context: newContext\n            }, this.options);\n        });\n        __publicField(this, \"setOptions\", (options)=>{\n            const opts = compact(options);\n            this.actionMap = {\n                ...this.actionMap,\n                ...opts.actions\n            };\n            this.delayMap = {\n                ...this.delayMap,\n                ...opts.delays\n            };\n            this.activityMap = {\n                ...this.activityMap,\n                ...opts.activities\n            };\n            this.guardMap = {\n                ...this.guardMap,\n                ...opts.guards\n            };\n        });\n        __publicField(this, \"getStateNode\", (state)=>{\n            if (!state) return;\n            return this.config.states?.[state];\n        });\n        __publicField(this, \"getNextStateInfo\", (transitions, event)=>{\n            const transition = this.determineTransition(transitions, event);\n            const isTargetless = !transition?.target;\n            const target = transition?.target ?? this.state.value;\n            const changed = this.state.value !== target;\n            const stateNode = this.getStateNode(target);\n            const reenter = !isTargetless && !changed && !transition?.internal;\n            const info = {\n                reenter,\n                transition,\n                stateNode,\n                target,\n                changed\n            };\n            this.log(\"NextState:\", `[${event.type}]`, this.state.value, \"---->\", info.target);\n            return info;\n        });\n        __publicField(this, \"getActionFromDelayedTransition\", (transition)=>{\n            const event = toEvent(\"machine.after\" /* After */ );\n            const determineDelay = determineDelayFn(transition.delay, this.delayMap);\n            const delay = determineDelay(this.contextSnapshot, event);\n            let id;\n            return {\n                entry: ()=>{\n                    id = globalThis.setTimeout(()=>{\n                        const next = this.getNextStateInfo(transition, event);\n                        this.performStateChangeEffects(this.state.value, next, event);\n                    }, delay);\n                },\n                exit: ()=>{\n                    globalThis.clearTimeout(id);\n                }\n            };\n        });\n        /**\n     * All `after` events leverage `setTimeout` and `clearTimeout`,\n     * we invoke the `clearTimeout` on exit and `setTimeout` on entry.\n     *\n     * To achieve this, we split the `after` defintion into `entry` and `exit`\n     *  functions and append them to the state's `entry` and `exit` actions\n     */ __publicField(this, \"getDelayedEventActions\", (state)=>{\n            const stateNode = this.getStateNode(state);\n            const event = toEvent(\"machine.after\" /* After */ );\n            if (!stateNode || !stateNode.after) return;\n            const entries = [];\n            const exits = [];\n            if (isArray(stateNode.after)) {\n                const transition = this.determineTransition(stateNode.after, event);\n                if (!transition) return;\n                const actions = this.getActionFromDelayedTransition(transition);\n                entries.push(actions.entry);\n                exits.push(actions.exit);\n            } else if (isObject(stateNode.after)) {\n                for(const delay in stateNode.after){\n                    const transition = stateNode.after[delay];\n                    let resolvedTransition = {};\n                    if (isArray(transition)) {\n                        const picked = this.determineTransition(transition, event);\n                        if (picked) resolvedTransition = picked;\n                    } else if (isString(transition)) {\n                        resolvedTransition = {\n                            target: transition,\n                            delay\n                        };\n                    } else {\n                        resolvedTransition = {\n                            ...transition,\n                            delay\n                        };\n                    }\n                    const actions = this.getActionFromDelayedTransition(resolvedTransition);\n                    entries.push(actions.entry);\n                    exits.push(actions.exit);\n                }\n            }\n            return {\n                entries,\n                exits\n            };\n        });\n        /**\n     * Function to executes defined actions. It can accept actions as string\n     * (referencing `options.actions`) or actual functions.\n     */ __publicField(this, \"executeActions\", (actions, event)=>{\n            const pickedActions = determineActionsFn(actions, this.guardMap)(this.contextSnapshot, event, this.guardMeta);\n            for (const action of toArray(pickedActions)){\n                const fn = isString(action) ? this.actionMap?.[action] : action;\n                warn(isString(action) && !fn, `[@zag-js/core > execute-actions] No implementation found for action: \\`${action}\\``);\n                fn?.(this.state.context, event, this.meta);\n            }\n        });\n        /**\n     * Function to execute running activities and registers\n     * their cleanup function internally (to be called later on when we exit the state)\n     */ __publicField(this, \"executeActivities\", (event, activities, state)=>{\n            for (const activity of activities){\n                const fn = isString(activity) ? this.activityMap?.[activity] : activity;\n                if (!fn) {\n                    warn(`[@zag-js/core > execute-activity] No implementation found for activity: \\`${activity}\\``);\n                    continue;\n                }\n                const cleanup = fn(this.state.context, event, this.meta);\n                if (cleanup) {\n                    const key = isString(activity) ? activity : activity.name || uuid();\n                    this.addActivityCleanup(state ?? this.state.value, key, cleanup);\n                }\n            }\n        });\n        /**\n     * Normalizes the `every` definition to transition. `every` can be:\n     * - An array of possible actions to run (we need to pick the first match based on guard)\n     * - An object of intervals and actions\n     */ __publicField(this, \"createEveryActivities\", (every, callbackfn)=>{\n            if (!every) return;\n            const event = toEvent(\"machine.every\" /* Every */ );\n            if (isArray(every)) {\n                const picked = toArray(every).find((transition)=>{\n                    const delayOrFn = transition.delay;\n                    const determineDelay2 = determineDelayFn(delayOrFn, this.delayMap);\n                    const delay2 = determineDelay2(this.contextSnapshot, event);\n                    const determineGuard = determineGuardFn(transition.guard, this.guardMap);\n                    const guard = determineGuard(this.contextSnapshot, event, this.guardMeta);\n                    return guard ?? delay2 != null;\n                });\n                if (!picked) return;\n                const determineDelay = determineDelayFn(picked.delay, this.delayMap);\n                const delay = determineDelay(this.contextSnapshot, event);\n                const activity = ()=>{\n                    const id = globalThis.setInterval(()=>{\n                        this.executeActions(picked.actions, event);\n                    }, delay);\n                    return ()=>{\n                        globalThis.clearInterval(id);\n                    };\n                };\n                callbackfn(activity);\n            } else {\n                for(const interval in every){\n                    const actions = every?.[interval];\n                    const determineDelay = determineDelayFn(interval, this.delayMap);\n                    const delay = determineDelay(this.contextSnapshot, event);\n                    const activity = ()=>{\n                        const id = globalThis.setInterval(()=>{\n                            this.executeActions(actions, event);\n                        }, delay);\n                        return ()=>{\n                            globalThis.clearInterval(id);\n                        };\n                    };\n                    callbackfn(activity);\n                }\n            }\n        });\n        __publicField(this, \"setEvent\", (event)=>{\n            this.state.previousEvent = this.state.event;\n            this.state.event = (0,_zag_js_store__WEBPACK_IMPORTED_MODULE_1__.ref)(toEvent(event));\n        });\n        __publicField(this, \"performExitEffects\", (current, event)=>{\n            const currentState = this.state.value;\n            if (currentState === \"\") return;\n            const stateNode = current ? this.getStateNode(current) : void 0;\n            this.stopActivities(currentState);\n            const _exit = determineActionsFn(stateNode?.exit, this.guardMap)(this.contextSnapshot, event, this.guardMeta);\n            const exitActions = toArray(_exit);\n            const afterExitActions = this.delayedEvents.get(currentState);\n            if (afterExitActions) {\n                exitActions.push(...afterExitActions);\n            }\n            this.executeActions(exitActions, event);\n            this.eventListeners.clear();\n        });\n        __publicField(this, \"performEntryEffects\", (next, event)=>{\n            const stateNode = this.getStateNode(next);\n            const activities = toArray(stateNode?.activities);\n            this.createEveryActivities(stateNode?.every, (activity)=>{\n                activities.unshift(activity);\n            });\n            if (activities.length > 0) {\n                this.executeActivities(event, activities);\n            }\n            const pickedActions = determineActionsFn(stateNode?.entry, this.guardMap)(this.contextSnapshot, event, this.guardMeta);\n            const entryActions = toArray(pickedActions);\n            const afterActions = this.getDelayedEventActions(next);\n            if (stateNode?.after && afterActions) {\n                this.delayedEvents.set(next, afterActions?.exits);\n                entryActions.push(...afterActions.entries);\n            }\n            this.executeActions(entryActions, event);\n            if (stateNode?.type === \"final\") {\n                this.state.done = true;\n                this.doneListeners.forEach((listener)=>{\n                    listener(this.stateSnapshot);\n                });\n                this.stop();\n            }\n        });\n        __publicField(this, \"performTransitionEffects\", (transitions, event)=>{\n            const transition = this.determineTransition(transitions, event);\n            this.executeActions(transition?.actions, event);\n        });\n        /**\n     * Performs all the requires side-effects or reactions when\n     * we move from state A => state B.\n     *\n     * The Effect order:\n     * Exit actions (current state) => Transition actions  => Go to state => Entry actions (next state)\n     */ __publicField(this, \"performStateChangeEffects\", (current, next, event)=>{\n            this.setEvent(event);\n            const changed = next.changed || next.reenter;\n            if (changed) {\n                this.performExitEffects(current, event);\n            }\n            this.performTransitionEffects(next.transition, event);\n            this.setState(next.target);\n            if (changed) {\n                this.performEntryEffects(next.target, event);\n            }\n        });\n        __publicField(this, \"determineTransition\", (transition, event)=>{\n            const fn = determineTransitionFn(transition, this.guardMap);\n            return fn?.(this.contextSnapshot, event, this.guardMeta);\n        });\n        /**\n     * Function to send event to parent machine from spawned child\n     */ __publicField(this, \"sendParent\", (evt)=>{\n            if (!this.parent) {\n                invariant(\"[@zag-js/core > send-parent] Cannot send event to an unknown parent\");\n            }\n            const event = toEvent(evt);\n            this.parent?.send(event);\n        });\n        __publicField(this, \"log\", (...args)=>{\n            if (isDev() && this.options.debug) {\n                console.log(...args);\n            }\n        });\n        /**\n     * Function to send an event to current machine\n     */ __publicField(this, \"send\", (evt)=>{\n            const event = toEvent(evt);\n            this.transition(this.state.value, event);\n        });\n        __publicField(this, \"transition\", (state, evt)=>{\n            const stateNode = isString(state) ? this.getStateNode(state) : state?.stateNode;\n            const event = toEvent(evt);\n            if (!stateNode && !this.config.on) {\n                const msg = this.status === \"Stopped\" /* Stopped */  ? \"[@zag-js/core > transition] Cannot transition a stopped machine\" : `[@zag-js/core > transition] State does not have a definition for \\`state\\`: ${state}, \\`event\\`: ${event.type}`;\n                warn(msg);\n                return;\n            }\n            const transitions = stateNode?.on?.[event.type] ?? this.config.on?.[event.type];\n            const next = this.getNextStateInfo(transitions, event);\n            this.performStateChangeEffects(this.state.value, next, event);\n            return next.stateNode;\n        });\n        __publicField(this, \"subscribe\", (listener)=>{\n            this.stateListeners.add(listener);\n            if (this.status === \"Running\" /* Running */ ) {\n                listener(this.stateSnapshot);\n            }\n            return ()=>{\n                this.stateListeners.delete(listener);\n            };\n        });\n        __publicField(this, \"onDone\", (listener)=>{\n            this.doneListeners.add(listener);\n            return this;\n        });\n        __publicField(this, \"onTransition\", (listener)=>{\n            this.stateListeners.add(listener);\n            if (this.status === \"Running\" /* Running */ ) {\n                listener(this.stateSnapshot);\n            }\n            return this;\n        });\n        __publicField(this, \"onChange\", (listener)=>{\n            this.contextListeners.add(listener);\n            return this;\n        });\n        __publicField(this, \"onEvent\", (listener)=>{\n            this.eventListeners.add(listener);\n            return this;\n        });\n        this.config = structuredClone(config);\n        this.options = structuredClone(options ?? {});\n        this.id = this.config.id ?? `machine-${uuid()}`;\n        this.guardMap = this.options?.guards ?? {};\n        this.actionMap = this.options?.actions ?? {};\n        this.delayMap = this.options?.delays ?? {};\n        this.activityMap = this.options?.activities ?? {};\n        this.sync = this.options?.sync ?? false;\n        this.state = createProxy(this.config);\n        this.initialContext = (0,_zag_js_store__WEBPACK_IMPORTED_MODULE_1__.snapshot)(this.state.context);\n        this.transformContext(this.state.context);\n        const event = toEvent(\"machine.created\" /* Created */ );\n        this.executeActions(this.config?.created, event);\n    }\n    // immutable state value\n    get stateSnapshot() {\n        return cast((0,_zag_js_store__WEBPACK_IMPORTED_MODULE_1__.snapshot)(this.state));\n    }\n    getState() {\n        return this.stateSnapshot;\n    }\n    // immutable context value\n    get contextSnapshot() {\n        return this.stateSnapshot.context;\n    }\n    /**\n   * A reference to the instance methods of the machine.\n   * Useful when spawning child machines and managing the communication between them.\n   */ get self() {\n        const self = this;\n        return {\n            id: this.id,\n            send: this.send.bind(this),\n            sendParent: this.sendParent.bind(this),\n            sendChild: this.sendChild.bind(this),\n            stop: this.stop.bind(this),\n            stopChild: this.stopChild.bind(this),\n            spawn: this.spawn.bind(this),\n            stopActivity: this.stopActivity.bind(this),\n            get state () {\n                return self.stateSnapshot;\n            },\n            get initialContext () {\n                return self.initialContext;\n            },\n            get initialState () {\n                return self.initialState?.target ?? \"\";\n            }\n        };\n    }\n    get meta() {\n        return {\n            state: this.stateSnapshot,\n            guards: this.guardMap,\n            send: this.send.bind(this),\n            self: this.self,\n            initialContext: this.initialContext,\n            initialState: this.initialState?.target ?? \"\",\n            getState: ()=>this.stateSnapshot,\n            getAction: (key)=>this.actionMap[key],\n            getGuard: (key)=>this.guardMap[key]\n        };\n    }\n    get guardMeta() {\n        return {\n            state: this.stateSnapshot\n        };\n    }\n    get [Symbol.toStringTag]() {\n        return \"Machine\";\n    }\n};\nvar createMachine = (config, options)=>new Machine(config, options);\n// src/merge-props.ts\nvar clsx = (...args)=>args.map((str)=>str?.trim?.()).filter(Boolean).join(\" \");\nvar eventRegex = /^on[A-Z]/;\nfunction mergeProps(...args) {\n    let result = {};\n    for (let props of args){\n        for(let key in result){\n            if (eventRegex.test(key) && typeof result[key] === \"function\" && typeof props[key] === \"function\") {\n                result[key] = callAll(result[key], props[key]);\n                continue;\n            }\n            if (key === \"className\" || key === \"class\") {\n                result[key] = clsx(result[key], props[key]);\n                continue;\n            }\n            if (key === \"style\") {\n                result[key] = Object.assign({}, result[key] ?? {}, props[key] ?? {});\n                continue;\n            }\n            result[key] = props[key] !== void 0 ? props[key] : result[key];\n        }\n        for(let key in props){\n            if (result[key] === void 0) {\n                result[key] = props[key];\n            }\n        }\n    }\n    return result;\n}\n //# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9jb3JlL2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQUlBLFlBQVlDLE9BQU9DLGNBQWM7QUFDckMsSUFBSUMsa0JBQWtCLENBQUNDLEtBQUtDLEtBQUtDLFFBQVVELE9BQU9ELE1BQU1KLFVBQVVJLEtBQUtDLEtBQUs7UUFBRUUsWUFBWTtRQUFNQyxjQUFjO1FBQU1DLFVBQVU7UUFBTUg7SUFBTSxLQUFLRixHQUFHLENBQUNDLElBQUksR0FBR0M7QUFDMUosSUFBSUksZ0JBQWdCLENBQUNOLEtBQUtDLEtBQUtDO0lBQzdCSCxnQkFBZ0JDLEtBQUssT0FBT0MsUUFBUSxXQUFXQSxNQUFNLEtBQUtBLEtBQUtDO0lBQy9ELE9BQU9BO0FBQ1Q7QUFFQSxlQUFlO0FBQzhGO0FBRTdHLGlDQUFpQztBQUNqQyxTQUFTYSxNQUFNQyxDQUFDO0lBQ2QsTUFBT0EsRUFBRUMsTUFBTSxHQUFHLEVBQ2hCRCxFQUFFRSxHQUFHO0lBQ1AsT0FBT0Y7QUFDVDtBQUVBLHFDQUFxQztBQUNyQyxJQUFJRyxVQUFVLENBQUNILEdBQUcsR0FBR0k7SUFDbkIsTUFBTUMsTUFBTSxPQUFPTCxNQUFNLGFBQWFBLEtBQUtJLEtBQUtKO0lBQ2hELE9BQU9LLE9BQU8sS0FBSztBQUNyQjtBQUNBLElBQUlDLE9BQU8sQ0FBQ04sSUFBTUE7QUFDbEIsSUFBSU8sT0FBTyxLQUNYO0FBQ0EsSUFBSUMsVUFBVSxDQUFDLEdBQUdDLE1BQVEsQ0FBQyxHQUFHTDtRQUM1QkssSUFBSUMsT0FBTyxDQUFDLFNBQVNDLEVBQUU7WUFDckJBLFFBQVFQO1FBQ1Y7SUFDRjtBQUNBLElBQUlRLE9BQXVCLGFBQUgsR0FBSTtJQUMxQixJQUFJQyxLQUFLO0lBQ1QsT0FBTztRQUNMQTtRQUNBLE9BQU9BLEdBQUdDLFFBQVEsQ0FBQztJQUNyQjtBQUNGO0FBRUEsaUNBQWlDO0FBQ2pDLElBQUlDLFFBQVEsSUFBTUMsa0JBQXlC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QUFNLENBQUMvUSxJQUFJLEdBQUd1QixRQUFRd1AsTUFBTSxDQUFDL1EsSUFBSSxFQUFFZ1IsS0FBSyxDQUFDaFIsSUFBSTtnQkFDN0M7WUFDRjtZQUNBLElBQUlBLFFBQVEsZUFBZUEsUUFBUSxTQUFTO2dCQUMxQytRLE1BQU0sQ0FBQy9RLElBQUksR0FBR3lRLEtBQUtNLE1BQU0sQ0FBQy9RLElBQUksRUFBRWdSLEtBQUssQ0FBQ2hSLElBQUk7Z0JBQzFDO1lBQ0Y7WUFDQSxJQUFJQSxRQUFRLFNBQVM7Z0JBQ25CK1EsTUFBTSxDQUFDL1EsSUFBSSxHQUFHSixPQUFPc1IsTUFBTSxDQUFDLENBQUMsR0FBR0gsTUFBTSxDQUFDL1EsSUFBSSxJQUFJLENBQUMsR0FBR2dSLEtBQUssQ0FBQ2hSLElBQUksSUFBSSxDQUFDO2dCQUNsRTtZQUNGO1lBQ0ErUSxNQUFNLENBQUMvUSxJQUFJLEdBQUdnUixLQUFLLENBQUNoUixJQUFJLEtBQUssS0FBSyxJQUFJZ1IsS0FBSyxDQUFDaFIsSUFBSSxHQUFHK1EsTUFBTSxDQUFDL1EsSUFBSTtRQUNoRTtRQUNBLElBQUssSUFBSUEsT0FBT2dSLE1BQU87WUFDckIsSUFBSUQsTUFBTSxDQUFDL1EsSUFBSSxLQUFLLEtBQUssR0FBRztnQkFDMUIrUSxNQUFNLENBQUMvUSxJQUFJLEdBQUdnUixLQUFLLENBQUNoUixJQUFJO1lBQzFCO1FBQ0Y7SUFDRjtJQUNBLE9BQU8rUTtBQUNUO0FBWUUsQ0FDRixrQ0FBa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AcGFyay11aS9leGFtcGxlcy1yZWFjdC1uZXh0LWpzLy4vbm9kZV9tb2R1bGVzL0B6YWctanMvY29yZS9kaXN0L2luZGV4Lm1qcz82ODQ5Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19kZWZOb3JtYWxQcm9wID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcChvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19wdWJsaWNGaWVsZCA9IChvYmosIGtleSwgdmFsdWUpID0+IHtcbiAgX19kZWZOb3JtYWxQcm9wKG9iaiwgdHlwZW9mIGtleSAhPT0gXCJzeW1ib2xcIiA/IGtleSArIFwiXCIgOiBrZXksIHZhbHVlKTtcbiAgcmV0dXJuIHZhbHVlO1xufTtcblxuLy8gc3JjL2luZGV4LnRzXG5pbXBvcnQgeyBwcm94eSBhcyBwcm94eTIsIHJlZiBhcyByZWYyLCBzbmFwc2hvdCBhcyBzbmFwc2hvdDIsIHN1YnNjcmliZSBhcyBzdWJzY3JpYmUyIH0gZnJvbSBcIkB6YWctanMvc3RvcmVcIjtcblxuLy8gLi4vdXRpbGl0aWVzL2NvcmUvc3JjL2FycmF5LnRzXG5mdW5jdGlvbiBjbGVhcih2KSB7XG4gIHdoaWxlICh2Lmxlbmd0aCA+IDApXG4gICAgdi5wb3AoKTtcbiAgcmV0dXJuIHY7XG59XG5cbi8vIC4uL3V0aWxpdGllcy9jb3JlL3NyYy9mdW5jdGlvbnMudHNcbnZhciBydW5JZkZuID0gKHYsIC4uLmEpID0+IHtcbiAgY29uc3QgcmVzID0gdHlwZW9mIHYgPT09IFwiZnVuY3Rpb25cIiA/IHYoLi4uYSkgOiB2O1xuICByZXR1cm4gcmVzID8/IHZvaWQgMDtcbn07XG52YXIgY2FzdCA9ICh2KSA9PiB2O1xudmFyIG5vb3AgPSAoKSA9PiB7XG59O1xudmFyIGNhbGxBbGwgPSAoLi4uZm5zKSA9PiAoLi4uYSkgPT4ge1xuICBmbnMuZm9yRWFjaChmdW5jdGlvbihmbikge1xuICAgIGZuPy4oLi4uYSk7XG4gIH0pO1xufTtcbnZhciB1dWlkID0gLyogQF9fUFVSRV9fICovICgoKSA9PiB7XG4gIGxldCBpZCA9IDA7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgaWQrKztcbiAgICByZXR1cm4gaWQudG9TdHJpbmcoMzYpO1xuICB9O1xufSkoKTtcblxuLy8gLi4vdXRpbGl0aWVzL2NvcmUvc3JjL2d1YXJkLnRzXG52YXIgaXNEZXYgPSAoKSA9PiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCI7XG52YXIgaXNBcnJheSA9ICh2KSA9PiBBcnJheS5pc0FycmF5KHYpO1xudmFyIGlzT2JqZWN0ID0gKHYpID0+ICEodiA9PSBudWxsIHx8IHR5cGVvZiB2ICE9PSBcIm9iamVjdFwiIHx8IGlzQXJyYXkodikpO1xudmFyIGlzTnVtYmVyID0gKHYpID0+IHR5cGVvZiB2ID09PSBcIm51bWJlclwiICYmICFOdW1iZXIuaXNOYU4odik7XG52YXIgaXNTdHJpbmcgPSAodikgPT4gdHlwZW9mIHYgPT09IFwic3RyaW5nXCI7XG52YXIgaXNGdW5jdGlvbiA9ICh2KSA9PiB0eXBlb2YgdiA9PT0gXCJmdW5jdGlvblwiO1xuXG4vLyAuLi91dGlsaXRpZXMvY29yZS9zcmMvb2JqZWN0LnRzXG5mdW5jdGlvbiBjb21wYWN0KG9iaikge1xuICBpZiAoIWlzUGxhaW5PYmplY3Qob2JqKSB8fCBvYmogPT09IHZvaWQgMCkge1xuICAgIHJldHVybiBvYmo7XG4gIH1cbiAgY29uc3Qga2V5cyA9IFJlZmxlY3Qub3duS2V5cyhvYmopLmZpbHRlcigoa2V5KSA9PiB0eXBlb2Yga2V5ID09PSBcInN0cmluZ1wiKTtcbiAgY29uc3QgZmlsdGVyZWQgPSB7fTtcbiAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xuICAgIGNvbnN0IHZhbHVlID0gb2JqW2tleV07XG4gICAgaWYgKHZhbHVlICE9PSB2b2lkIDApIHtcbiAgICAgIGZpbHRlcmVkW2tleV0gPSBjb21wYWN0KHZhbHVlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZpbHRlcmVkO1xufVxudmFyIGlzUGxhaW5PYmplY3QgPSAodmFsdWUpID0+IHtcbiAgcmV0dXJuIHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0O1xufTtcblxuLy8gLi4vdXRpbGl0aWVzL2NvcmUvc3JjL3dhcm5pbmcudHNcbmZ1bmN0aW9uIHdhcm4oLi4uYSkge1xuICBjb25zdCBtID0gYS5sZW5ndGggPT09IDEgPyBhWzBdIDogYVsxXTtcbiAgY29uc3QgYyA9IGEubGVuZ3RoID09PSAyID8gYVswXSA6IHRydWU7XG4gIGlmIChjICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgIGNvbnNvbGUud2FybihtKTtcbiAgfVxufVxuZnVuY3Rpb24gaW52YXJpYW50KC4uLmEpIHtcbiAgY29uc3QgbSA9IGEubGVuZ3RoID09PSAxID8gYVswXSA6IGFbMV07XG4gIGNvbnN0IGMgPSBhLmxlbmd0aCA9PT0gMiA/IGFbMF0gOiB0cnVlO1xuICBpZiAoYyAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IobSk7XG4gIH1cbn1cblxuLy8gc3JjL2RlZXAtbWVyZ2UudHNcbmZ1bmN0aW9uIGRlZXBNZXJnZShzb3VyY2UsIC4uLm9iamVjdHMpIHtcbiAgZm9yIChjb25zdCBvYmogb2Ygb2JqZWN0cykge1xuICAgIGNvbnN0IHRhcmdldCA9IGNvbXBhY3Qob2JqKTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiB0YXJnZXQpIHtcbiAgICAgIGlmIChpc09iamVjdChvYmpba2V5XSkpIHtcbiAgICAgICAgaWYgKCFzb3VyY2Vba2V5XSkge1xuICAgICAgICAgIHNvdXJjZVtrZXldID0ge307XG4gICAgICAgIH1cbiAgICAgICAgZGVlcE1lcmdlKHNvdXJjZVtrZXldLCBvYmpba2V5XSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzb3VyY2Vba2V5XSA9IG9ialtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gc291cmNlO1xufVxuXG4vLyBzcmMvdXRpbHMudHNcbmltcG9ydCB7IGtsb25hIH0gZnJvbSBcImtsb25hL2Z1bGxcIjtcbmZ1bmN0aW9uIHN0cnVjdHVyZWRDbG9uZSh2KSB7XG4gIHJldHVybiBrbG9uYSh2KTtcbn1cbmZ1bmN0aW9uIHRvRXZlbnQoZXZlbnQpIHtcbiAgY29uc3Qgb2JqID0gaXNTdHJpbmcoZXZlbnQpID8geyB0eXBlOiBldmVudCB9IDogZXZlbnQ7XG4gIHJldHVybiBvYmo7XG59XG5mdW5jdGlvbiB0b0FycmF5KHZhbHVlKSB7XG4gIGlmICghdmFsdWUpXG4gICAgcmV0dXJuIFtdO1xuICByZXR1cm4gaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5zbGljZSgpIDogW3ZhbHVlXTtcbn1cbmZ1bmN0aW9uIGlzR3VhcmRIZWxwZXIodmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHZhbHVlKSAmJiB2YWx1ZS5wcmVkaWNhdGUgIT0gbnVsbDtcbn1cblxuLy8gc3JjL2d1YXJkLXV0aWxzLnRzXG52YXIgVHJ1dGh5ID0gKCkgPT4gdHJ1ZTtcbmZ1bmN0aW9uIGV4ZWMoZ3VhcmRNYXAsIGN0eCwgZXZlbnQsIG1ldGEpIHtcbiAgcmV0dXJuIChndWFyZCkgPT4ge1xuICAgIGlmIChpc1N0cmluZyhndWFyZCkpIHtcbiAgICAgIHJldHVybiAhIWd1YXJkTWFwW2d1YXJkXT8uKGN0eCwgZXZlbnQsIG1ldGEpO1xuICAgIH1cbiAgICBpZiAoaXNGdW5jdGlvbihndWFyZCkpIHtcbiAgICAgIHJldHVybiBndWFyZChjdHgsIGV2ZW50LCBtZXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIGd1YXJkLnByZWRpY2F0ZShndWFyZE1hcCkoY3R4LCBldmVudCwgbWV0YSk7XG4gIH07XG59XG5mdW5jdGlvbiBvciguLi5jb25kaXRpb25zKSB7XG4gIHJldHVybiB7XG4gICAgcHJlZGljYXRlOiAoZ3VhcmRNYXApID0+IChjdHgsIGV2ZW50LCBtZXRhKSA9PiBjb25kaXRpb25zLm1hcChleGVjKGd1YXJkTWFwLCBjdHgsIGV2ZW50LCBtZXRhKSkuc29tZShCb29sZWFuKVxuICB9O1xufVxuZnVuY3Rpb24gYW5kKC4uLmNvbmRpdGlvbnMpIHtcbiAgcmV0dXJuIHtcbiAgICBwcmVkaWNhdGU6IChndWFyZE1hcCkgPT4gKGN0eCwgZXZlbnQsIG1ldGEpID0+IGNvbmRpdGlvbnMubWFwKGV4ZWMoZ3VhcmRNYXAsIGN0eCwgZXZlbnQsIG1ldGEpKS5ldmVyeShCb29sZWFuKVxuICB9O1xufVxuZnVuY3Rpb24gbm90KGNvbmRpdGlvbikge1xuICByZXR1cm4ge1xuICAgIHByZWRpY2F0ZTogKGd1YXJkTWFwKSA9PiAoY3R4LCBldmVudCwgbWV0YSkgPT4ge1xuICAgICAgcmV0dXJuICFleGVjKGd1YXJkTWFwLCBjdHgsIGV2ZW50LCBtZXRhKShjb25kaXRpb24pO1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIHN0YXRlSW4oLi4udmFsdWVzKSB7XG4gIHJldHVybiAoX2N0eCwgX2V2dCwgbWV0YSkgPT4gbWV0YS5zdGF0ZS5tYXRjaGVzKC4uLnZhbHVlcyk7XG59XG52YXIgZ3VhcmRzID0geyBvciwgYW5kLCBub3QsIHN0YXRlSW4gfTtcbmZ1bmN0aW9uIGNob29zZShhY3Rpb25zKSB7XG4gIHJldHVybiB7XG4gICAgcHJlZGljYXRlOiAoZ3VhcmRNYXApID0+IChjdHgsIGV2ZW50LCBtZXRhKSA9PiBhY3Rpb25zLmZpbmQoKGRlZikgPT4ge1xuICAgICAgY29uc3QgZ3VhcmQgPSBkZWYuZ3VhcmQgPz8gVHJ1dGh5O1xuICAgICAgcmV0dXJuIGV4ZWMoZ3VhcmRNYXAsIGN0eCwgZXZlbnQsIG1ldGEpKGd1YXJkKTtcbiAgICB9KT8uYWN0aW9uc1xuICB9O1xufVxuZnVuY3Rpb24gZGV0ZXJtaW5lR3VhcmRGbihndWFyZCwgZ3VhcmRNYXApIHtcbiAgZ3VhcmQgPSBndWFyZCA/PyBUcnV0aHk7XG4gIHJldHVybiAoY29udGV4dCwgZXZlbnQsIG1ldGEpID0+IHtcbiAgICBpZiAoaXNTdHJpbmcoZ3VhcmQpKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IGd1YXJkTWFwW2d1YXJkXTtcbiAgICAgIHJldHVybiBpc0Z1bmN0aW9uKHZhbHVlKSA/IHZhbHVlKGNvbnRleHQsIGV2ZW50LCBtZXRhKSA6IHZhbHVlO1xuICAgIH1cbiAgICBpZiAoaXNHdWFyZEhlbHBlcihndWFyZCkpIHtcbiAgICAgIHJldHVybiBndWFyZC5wcmVkaWNhdGUoZ3VhcmRNYXApKGNvbnRleHQsIGV2ZW50LCBtZXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIGd1YXJkPy4oY29udGV4dCwgZXZlbnQsIG1ldGEpO1xuICB9O1xufVxuZnVuY3Rpb24gZGV0ZXJtaW5lQWN0aW9uc0ZuKHZhbHVlcywgZ3VhcmRNYXApIHtcbiAgcmV0dXJuIChjb250ZXh0LCBldmVudCwgbWV0YSkgPT4ge1xuICAgIGlmIChpc0d1YXJkSGVscGVyKHZhbHVlcykpIHtcbiAgICAgIHJldHVybiB2YWx1ZXMucHJlZGljYXRlKGd1YXJkTWFwKShjb250ZXh0LCBldmVudCwgbWV0YSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZXM7XG4gIH07XG59XG5cbi8vIHNyYy9tYWNoaW5lLnRzXG5pbXBvcnQgeyByZWYsIHNuYXBzaG90LCBzdWJzY3JpYmUsIHN1YnNjcmliZUtleSB9IGZyb20gXCJAemFnLWpzL3N0b3JlXCI7XG5cbi8vIHNyYy9jcmVhdGUtcHJveHkudHNcbmltcG9ydCB7IHByb3h5LCBwcm94eVdpdGhDb21wdXRlZCB9IGZyb20gXCJAemFnLWpzL3N0b3JlXCI7XG5mdW5jdGlvbiBjcmVhdGVQcm94eShjb25maWcpIHtcbiAgY29uc3QgY29tcHV0ZWRDb250ZXh0ID0gY29uZmlnLmNvbXB1dGVkID8/IGNhc3Qoe30pO1xuICBjb25zdCBpbml0aWFsQ29udGV4dCA9IGNvbmZpZy5jb250ZXh0ID8/IGNhc3Qoe30pO1xuICBjb25zdCBzdGF0ZSA9IHByb3h5KHtcbiAgICB2YWx1ZTogY29uZmlnLmluaXRpYWwgPz8gXCJcIixcbiAgICBwcmV2aW91c1ZhbHVlOiBcIlwiLFxuICAgIGV2ZW50OiBjYXN0KHt9KSxcbiAgICBwcmV2aW91c0V2ZW50OiBjYXN0KHt9KSxcbiAgICBjb250ZXh0OiBwcm94eVdpdGhDb21wdXRlZChpbml0aWFsQ29udGV4dCwgY29tcHV0ZWRDb250ZXh0KSxcbiAgICBkb25lOiBmYWxzZSxcbiAgICB0YWdzOiBbXSxcbiAgICBoYXNUYWcodGFnKSB7XG4gICAgICByZXR1cm4gdGhpcy50YWdzLmluY2x1ZGVzKHRhZyk7XG4gICAgfSxcbiAgICBtYXRjaGVzKC4uLnZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUuaW5jbHVkZXModGhpcy52YWx1ZSk7XG4gICAgfSxcbiAgICBjYW4oZXZlbnQpIHtcbiAgICAgIHJldHVybiBjYXN0KHRoaXMpLm5leHRFdmVudHMuaW5jbHVkZXMoZXZlbnQpO1xuICAgIH0sXG4gICAgZ2V0IG5leHRFdmVudHMoKSB7XG4gICAgICBjb25zdCBzdGF0ZUV2ZW50cyA9IGNvbmZpZy5zdGF0ZXM/Llt0aGlzLnZhbHVlXT8uW1wib25cIl0gPz8ge307XG4gICAgICBjb25zdCBnbG9iYWxFdmVudHMgPSBjb25maWc/Lm9uID8/IHt9O1xuICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHsgLi4uc3RhdGVFdmVudHMsIC4uLmdsb2JhbEV2ZW50cyB9KTtcbiAgICB9LFxuICAgIGdldCBjaGFuZ2VkKCkge1xuICAgICAgaWYgKHRoaXMuZXZlbnQudmFsdWUgPT09IFwibWFjaGluZS5pbml0XCIgLyogSW5pdCAqLyB8fCAhdGhpcy5wcmV2aW91c1ZhbHVlKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICByZXR1cm4gdGhpcy52YWx1ZSAhPT0gdGhpcy5wcmV2aW91c1ZhbHVlO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBjYXN0KHN0YXRlKTtcbn1cblxuLy8gc3JjL2RlbGF5LXV0aWxzLnRzXG5mdW5jdGlvbiBkZXRlcm1pbmVEZWxheUZuKGRlbGF5LCBkZWxheXNNYXApIHtcbiAgcmV0dXJuIChjb250ZXh0LCBldmVudCkgPT4ge1xuICAgIGlmIChpc051bWJlcihkZWxheSkpXG4gICAgICByZXR1cm4gZGVsYXk7XG4gICAgaWYgKGlzRnVuY3Rpb24oZGVsYXkpKSB7XG4gICAgICByZXR1cm4gZGVsYXkoY29udGV4dCwgZXZlbnQpO1xuICAgIH1cbiAgICBpZiAoaXNTdHJpbmcoZGVsYXkpKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IE51bWJlci5wYXJzZUZsb2F0KGRlbGF5KTtcbiAgICAgIGlmICghTnVtYmVyLmlzTmFOKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAoZGVsYXlzTWFwKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlT3JGbiA9IGRlbGF5c01hcD8uW2RlbGF5XTtcbiAgICAgICAgaW52YXJpYW50KFxuICAgICAgICAgIHZhbHVlT3JGbiA9PSBudWxsLFxuICAgICAgICAgIGBbQHphZy1qcy9jb3JlID4gZGV0ZXJtaW5lLWRlbGF5XSBDYW5ub3QgZGV0ZXJtaW5lIGRlbGF5IGZvciBcXGAke2RlbGF5fVxcYC4gSXQgZG9lc24ndCBleGlzdCBpbiBcXGBvcHRpb25zLmRlbGF5c1xcYGBcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGlzRnVuY3Rpb24odmFsdWVPckZuKSA/IHZhbHVlT3JGbihjb250ZXh0LCBldmVudCkgOiB2YWx1ZU9yRm47XG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuXG4vLyBzcmMvdHJhbnNpdGlvbi11dGlscy50c1xuZnVuY3Rpb24gdG9UYXJnZXQodGFyZ2V0KSB7XG4gIHJldHVybiBpc1N0cmluZyh0YXJnZXQpID8geyB0YXJnZXQgfSA6IHRhcmdldDtcbn1cbmZ1bmN0aW9uIGRldGVybWluZVRyYW5zaXRpb25Gbih0cmFuc2l0aW9ucywgZ3VhcmRNYXApIHtcbiAgcmV0dXJuIChjb250ZXh0LCBldmVudCwgbWV0YSkgPT4ge1xuICAgIHJldHVybiB0b0FycmF5KHRyYW5zaXRpb25zKS5tYXAodG9UYXJnZXQpLmZpbmQoKHRyYW5zaXRpb24pID0+IHtcbiAgICAgIGNvbnN0IGRldGVybWluZUd1YXJkID0gZGV0ZXJtaW5lR3VhcmRGbih0cmFuc2l0aW9uLmd1YXJkLCBndWFyZE1hcCk7XG4gICAgICBjb25zdCBndWFyZCA9IGRldGVybWluZUd1YXJkKGNvbnRleHQsIGV2ZW50LCBtZXRhKTtcbiAgICAgIHJldHVybiBndWFyZCA/PyB0cmFuc2l0aW9uLnRhcmdldCA/PyB0cmFuc2l0aW9uLmFjdGlvbnM7XG4gICAgfSk7XG4gIH07XG59XG5cbi8vIHNyYy9tYWNoaW5lLnRzXG52YXIgTWFjaGluZSA9IGNsYXNzIF9NYWNoaW5lIHtcbiAgLy8gTGV0J3MgZ2V0IHN0YXJ0ZWQhXG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgb3B0aW9ucykge1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJzdGF0dXNcIiwgXCJOb3QgU3RhcnRlZFwiIC8qIE5vdFN0YXJ0ZWQgKi8pO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJzdGF0ZVwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiaW5pdGlhbFN0YXRlXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJpbml0aWFsQ29udGV4dFwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiaWRcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInR5cGVcIiwgXCJtYWNoaW5lXCIgLyogTWFjaGluZSAqLyk7XG4gICAgLy8gQ2xlYW51cCBmdW5jdGlvbiBtYXAgKHBlciBzdGF0ZSlcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiYWN0aXZpdHlFdmVudHNcIiwgLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImRlbGF5ZWRFdmVudHNcIiwgLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSk7XG4gICAgLy8gc3RhdGUgdXBkYXRlIGxpc3RlbmVycyB0aGUgdXNlciBjYW4gb3B0LWluIGZvclxuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJzdGF0ZUxpc3RlbmVyc1wiLCAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiY29udGV4dExpc3RlbmVyc1wiLCAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiZXZlbnRMaXN0ZW5lcnNcIiwgLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImRvbmVMaXN0ZW5lcnNcIiwgLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImNvbnRleHRXYXRjaGVyc1wiLCAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpKTtcbiAgICAvLyBDbGVhbnVwIGZ1bmN0aW9ucyAoZm9yIGBzdWJzY3JpYmVgKVxuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJyZW1vdmVTdGF0ZUxpc3RlbmVyXCIsIG5vb3ApO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJyZW1vdmVFdmVudExpc3RlbmVyXCIsIG5vb3ApO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJyZW1vdmVDb250ZXh0TGlzdGVuZXJcIiwgbm9vcCk7XG4gICAgLy8gRm9yIFBhcmVudCA8PT0+IFNwYXduZWQgQWN0b3IgcmVsYXRpb25zaGlwXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInBhcmVudFwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiY2hpbGRyZW5cIiwgLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSk7XG4gICAgLy8gQSBtYXAgb2YgZ3VhcmQsIGFjdGlvbiwgZGVsYXkgaW1wbGVtZW50YXRpb25zXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImd1YXJkTWFwXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJhY3Rpb25NYXBcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImRlbGF5TWFwXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJhY3Rpdml0eU1hcFwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwic3luY1wiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwib3B0aW9uc1wiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiY29uZmlnXCIpO1xuICAgIC8vIFN0YXJ0cyB0aGUgaW50ZXJwcmV0ZWQgbWFjaGluZS5cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwic3RhcnRcIiwgKGluaXQpID0+IHtcbiAgICAgIHRoaXMuc3RhdGUudmFsdWUgPSBcIlwiO1xuICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSBcIlJ1bm5pbmdcIiAvKiBSdW5uaW5nICovKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgdGhpcy5zdGF0dXMgPSBcIlJ1bm5pbmdcIiAvKiBSdW5uaW5nICovO1xuICAgICAgdGhpcy5yZW1vdmVTdGF0ZUxpc3RlbmVyID0gc3Vic2NyaWJlKFxuICAgICAgICB0aGlzLnN0YXRlLFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5zdGF0ZUxpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT4ge1xuICAgICAgICAgICAgbGlzdGVuZXIodGhpcy5zdGF0ZVNuYXBzaG90KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgdGhpcy5zeW5jXG4gICAgICApO1xuICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyID0gc3Vic2NyaWJlS2V5KFxuICAgICAgICB0aGlzLnN0YXRlLFxuICAgICAgICBcImV2ZW50XCIsXG4gICAgICAgIChldmVudDIpID0+IHtcbiAgICAgICAgICB0aGlzLmV4ZWN1dGVBY3Rpb25zKHRoaXMuY29uZmlnLm9uRXZlbnQsIGV2ZW50Mik7XG4gICAgICAgICAgdGhpcy5ldmVudExpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT4ge1xuICAgICAgICAgICAgbGlzdGVuZXIoZXZlbnQyKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgdGhpcy5zeW5jXG4gICAgICApO1xuICAgICAgdGhpcy5yZW1vdmVDb250ZXh0TGlzdGVuZXIgPSBzdWJzY3JpYmUoXG4gICAgICAgIHRoaXMuc3RhdGUuY29udGV4dCxcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIHRoaXMubG9nKFwiQ29udGV4dDpcIiwgdGhpcy5jb250ZXh0U25hcHNob3QpO1xuICAgICAgICAgIHRoaXMuY29udGV4dExpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT4ge1xuICAgICAgICAgICAgbGlzdGVuZXIodGhpcy5jb250ZXh0U25hcHNob3QpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICB0aGlzLnN5bmMgfHwgdGhpcy5vcHRpb25zLmRlYnVnXG4gICAgICApO1xuICAgICAgdGhpcy5zZXR1cENvbnRleHRXYXRjaGVycygpO1xuICAgICAgdGhpcy5leGVjdXRlQWN0aXZpdGllcyh0b0V2ZW50KFwibWFjaGluZS5zdGFydFwiIC8qIFN0YXJ0ICovKSwgdG9BcnJheSh0aGlzLmNvbmZpZy5hY3Rpdml0aWVzKSwgXCJtYWNoaW5lLnN0YXJ0XCIgLyogU3RhcnQgKi8pO1xuICAgICAgdGhpcy5leGVjdXRlQWN0aW9ucyh0aGlzLmNvbmZpZy5lbnRyeSwgdG9FdmVudChcIm1hY2hpbmUuc3RhcnRcIiAvKiBTdGFydCAqLykpO1xuICAgICAgY29uc3QgZXZlbnQgPSB0b0V2ZW50KFwibWFjaGluZS5pbml0XCIgLyogSW5pdCAqLyk7XG4gICAgICBjb25zdCB0YXJnZXQgPSBpc09iamVjdChpbml0KSA/IGluaXQudmFsdWUgOiBpbml0O1xuICAgICAgY29uc3QgY29udGV4dCA9IGlzT2JqZWN0KGluaXQpID8gaW5pdC5jb250ZXh0IDogdm9pZCAwO1xuICAgICAgaWYgKGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5zZXRDb250ZXh0KGNvbnRleHQpO1xuICAgICAgfVxuICAgICAgY29uc3QgdHJhbnNpdGlvbiA9IHtcbiAgICAgICAgdGFyZ2V0OiB0YXJnZXQgPz8gdGhpcy5jb25maWcuaW5pdGlhbFxuICAgICAgfTtcbiAgICAgIGNvbnN0IG5leHQgPSB0aGlzLmdldE5leHRTdGF0ZUluZm8odHJhbnNpdGlvbiwgZXZlbnQpO1xuICAgICAgdGhpcy5pbml0aWFsU3RhdGUgPSBuZXh0O1xuICAgICAgdGhpcy5wZXJmb3JtU3RhdGVDaGFuZ2VFZmZlY3RzKHRoaXMuc3RhdGUudmFsdWUsIG5leHQsIGV2ZW50KTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0pO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJzZXR1cENvbnRleHRXYXRjaGVyc1wiLCAoKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IFtrZXksIGZuXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLmNvbmZpZy53YXRjaCA/PyB7fSkpIHtcbiAgICAgICAgY29uc3QgY29tcGFyZUZuID0gdGhpcy5vcHRpb25zLmNvbXBhcmVGbnM/LltrZXldO1xuICAgICAgICBjb25zdCBjbGVhbnVwID0gc3Vic2NyaWJlS2V5KFxuICAgICAgICAgIHRoaXMuc3RhdGUuY29udGV4dCxcbiAgICAgICAgICBrZXksXG4gICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5leGVjdXRlQWN0aW9ucyhmbiwgdGhpcy5zdGF0ZS5ldmVudCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICB0aGlzLnN5bmMsXG4gICAgICAgICAgY29tcGFyZUZuXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuY29udGV4dFdhdGNoZXJzLmFkZChjbGVhbnVwKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBTdG9wcyB0aGUgaW50ZXJwcmV0ZWQgbWFjaGluZVxuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJzdG9wXCIsICgpID0+IHtcbiAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gXCJTdG9wcGVkXCIgLyogU3RvcHBlZCAqLylcbiAgICAgICAgcmV0dXJuO1xuICAgICAgdGhpcy5wZXJmb3JtRXhpdEVmZmVjdHModGhpcy5zdGF0ZS52YWx1ZSwgdG9FdmVudChcIm1hY2hpbmUuc3RvcFwiIC8qIFN0b3AgKi8pKTtcbiAgICAgIHRoaXMuZXhlY3V0ZUFjdGlvbnModGhpcy5jb25maWcuZXhpdCwgdG9FdmVudChcIm1hY2hpbmUuc3RvcFwiIC8qIFN0b3AgKi8pKTtcbiAgICAgIHRoaXMuc2V0U3RhdGUoXCJcIik7XG4gICAgICB0aGlzLnNldEV2ZW50KFwibWFjaGluZS5zdG9wXCIgLyogU3RvcCAqLyk7XG4gICAgICB0aGlzLnN0b3BTdGF0ZUxpc3RlbmVycygpO1xuICAgICAgdGhpcy5zdG9wQ2hpbGRyZW4oKTtcbiAgICAgIHRoaXMuc3RvcEFjdGl2aXRpZXMoKTtcbiAgICAgIHRoaXMuc3RvcERlbGF5ZWRFdmVudHMoKTtcbiAgICAgIHRoaXMuc3RvcENvbnRleHRXYXRjaGVycygpO1xuICAgICAgdGhpcy5zdG9wRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgIHRoaXMuc3RvcENvbnRleHRMaXN0ZW5lcnMoKTtcbiAgICAgIHRoaXMuc3RhdHVzID0gXCJTdG9wcGVkXCIgLyogU3RvcHBlZCAqLztcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0pO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJzdG9wRXZlbnRMaXN0ZW5lcnNcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5ldmVudExpc3RlbmVycy5jbGVhcigpO1xuICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCk7XG4gICAgfSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInN0b3BDb250ZXh0TGlzdGVuZXJzXCIsICgpID0+IHtcbiAgICAgIHRoaXMuY29udGV4dExpc3RlbmVycy5jbGVhcigpO1xuICAgICAgdGhpcy5yZW1vdmVDb250ZXh0TGlzdGVuZXIoKTtcbiAgICB9KTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwic3RvcFN0YXRlTGlzdGVuZXJzXCIsICgpID0+IHtcbiAgICAgIHRoaXMucmVtb3ZlU3RhdGVMaXN0ZW5lcigpO1xuICAgICAgdGhpcy5zdGF0ZUxpc3RlbmVycy5jbGVhcigpO1xuICAgIH0pO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJzdG9wQ29udGV4dFdhdGNoZXJzXCIsICgpID0+IHtcbiAgICAgIHRoaXMuY29udGV4dFdhdGNoZXJzLmZvckVhY2goKGZuKSA9PiBmbigpKTtcbiAgICAgIHRoaXMuY29udGV4dFdhdGNoZXJzLmNsZWFyKCk7XG4gICAgfSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInN0b3BEZWxheWVkRXZlbnRzXCIsICgpID0+IHtcbiAgICAgIHRoaXMuZGVsYXllZEV2ZW50cy5mb3JFYWNoKChzdGF0ZSkgPT4ge1xuICAgICAgICBzdGF0ZS5mb3JFYWNoKChzdG9wKSA9PiBzdG9wKCkpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmRlbGF5ZWRFdmVudHMuY2xlYXIoKTtcbiAgICB9KTtcbiAgICAvLyBDbGVhbnVwIHJ1bm5pbmcgYWN0aXZpdGllcyAoZS5nIGBzZXRJbnRlcnZhbGAsIGludm9rZWQgY2FsbGJhY2tzLCBwcm9taXNlcylcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwic3RvcEFjdGl2aXRpZXNcIiwgKHN0YXRlKSA9PiB7XG4gICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgdGhpcy5hY3Rpdml0eUV2ZW50cy5nZXQoc3RhdGUpPy5mb3JFYWNoKChzdG9wKSA9PiBzdG9wKCkpO1xuICAgICAgICB0aGlzLmFjdGl2aXR5RXZlbnRzLmdldChzdGF0ZSk/LmNsZWFyKCk7XG4gICAgICAgIHRoaXMuYWN0aXZpdHlFdmVudHMuZGVsZXRlKHN0YXRlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYWN0aXZpdHlFdmVudHMuZm9yRWFjaCgoc3RhdGUyKSA9PiB7XG4gICAgICAgICAgc3RhdGUyLmZvckVhY2goKHN0b3ApID0+IHN0b3AoKSk7XG4gICAgICAgICAgc3RhdGUyLmNsZWFyKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmFjdGl2aXR5RXZlbnRzLmNsZWFyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdG8gc2VuZCBldmVudCB0byBzcGF3bmVkIGNoaWxkIG1hY2hpbmUgb3IgYWN0b3JcbiAgICAgKi9cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwic2VuZENoaWxkXCIsIChldnQsIHRvKSA9PiB7XG4gICAgICBjb25zdCBldmVudCA9IHRvRXZlbnQoZXZ0KTtcbiAgICAgIGNvbnN0IGlkID0gcnVuSWZGbih0bywgdGhpcy5jb250ZXh0U25hcHNob3QpO1xuICAgICAgY29uc3QgY2hpbGQgPSB0aGlzLmNoaWxkcmVuLmdldChpZCk7XG4gICAgICBpZiAoIWNoaWxkKSB7XG4gICAgICAgIGludmFyaWFudChgW0B6YWctanMvY29yZV0gQ2Fubm90IHNlbmQgJyR7ZXZlbnQudHlwZX0nIGV2ZW50IHRvIHVua25vd24gY2hpbGRgKTtcbiAgICAgIH1cbiAgICAgIGNoaWxkLnNlbmQoZXZlbnQpO1xuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIHRvIHN0b3AgYSBydW5uaW5nIGNoaWxkIG1hY2hpbmUgb3IgYWN0b3JcbiAgICAgKi9cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwic3RvcENoaWxkXCIsIChpZCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLmNoaWxkcmVuLmhhcyhpZCkpIHtcbiAgICAgICAgaW52YXJpYW50KGBbQHphZy1qcy9jb3JlID4gc3RvcC1jaGlsZF0gQ2Fubm90IHN0b3AgdW5rbm93biBjaGlsZCAke2lkfWApO1xuICAgICAgfVxuICAgICAgdGhpcy5jaGlsZHJlbi5nZXQoaWQpLnN0b3AoKTtcbiAgICAgIHRoaXMuY2hpbGRyZW4uZGVsZXRlKGlkKTtcbiAgICB9KTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwicmVtb3ZlQ2hpbGRcIiwgKGlkKSA9PiB7XG4gICAgICB0aGlzLmNoaWxkcmVuLmRlbGV0ZShpZCk7XG4gICAgfSk7XG4gICAgLy8gU3RvcCBhbmQgZGVsZXRlIHNwYXduZWQgYWN0b3JzXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInN0b3BDaGlsZHJlblwiLCAoKSA9PiB7XG4gICAgICB0aGlzLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiBjaGlsZC5zdG9wKCkpO1xuICAgICAgdGhpcy5jaGlsZHJlbi5jbGVhcigpO1xuICAgIH0pO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJzZXRQYXJlbnRcIiwgKHBhcmVudCkgPT4ge1xuICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgfSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInNwYXduXCIsIChzcmMsIGlkKSA9PiB7XG4gICAgICBjb25zdCBhY3RvciA9IHJ1bklmRm4oc3JjKTtcbiAgICAgIGlmIChpZClcbiAgICAgICAgYWN0b3IuaWQgPSBpZDtcbiAgICAgIGFjdG9yLnR5cGUgPSBcIm1hY2hpbmUuYWN0b3JcIiAvKiBBY3RvciAqLztcbiAgICAgIGFjdG9yLnNldFBhcmVudCh0aGlzKTtcbiAgICAgIHRoaXMuY2hpbGRyZW4uc2V0KGFjdG9yLmlkLCBjYXN0KGFjdG9yKSk7XG4gICAgICBhY3Rvci5vbkRvbmUoKCkgPT4ge1xuICAgICAgICB0aGlzLnJlbW92ZUNoaWxkKGFjdG9yLmlkKTtcbiAgICAgIH0pLnN0YXJ0KCk7XG4gICAgICByZXR1cm4gY2FzdChyZWYoYWN0b3IpKTtcbiAgICB9KTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwic3RvcEFjdGl2aXR5XCIsIChrZXkpID0+IHtcbiAgICAgIGlmICghdGhpcy5zdGF0ZS52YWx1ZSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29uc3QgY2xlYW51cHMgPSB0aGlzLmFjdGl2aXR5RXZlbnRzLmdldCh0aGlzLnN0YXRlLnZhbHVlKTtcbiAgICAgIGNsZWFudXBzPy5nZXQoa2V5KT8uKCk7XG4gICAgICBjbGVhbnVwcz8uZGVsZXRlKGtleSk7XG4gICAgfSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImFkZEFjdGl2aXR5Q2xlYW51cFwiLCAoc3RhdGUsIGtleSwgY2xlYW51cCkgPT4ge1xuICAgICAgaWYgKCFzdGF0ZSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgaWYgKCF0aGlzLmFjdGl2aXR5RXZlbnRzLmhhcyhzdGF0ZSkpIHtcbiAgICAgICAgdGhpcy5hY3Rpdml0eUV2ZW50cy5zZXQoc3RhdGUsIC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKFtba2V5LCBjbGVhbnVwXV0pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYWN0aXZpdHlFdmVudHMuZ2V0KHN0YXRlKT8uc2V0KGtleSwgY2xlYW51cCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInNldFN0YXRlXCIsICh0YXJnZXQpID0+IHtcbiAgICAgIHRoaXMuc3RhdGUucHJldmlvdXNWYWx1ZSA9IHRoaXMuc3RhdGUudmFsdWU7XG4gICAgICB0aGlzLnN0YXRlLnZhbHVlID0gdGFyZ2V0O1xuICAgICAgY29uc3Qgc3RhdGVOb2RlID0gdGhpcy5nZXRTdGF0ZU5vZGUodGFyZ2V0KTtcbiAgICAgIGlmICh0YXJnZXQgPT0gbnVsbCkge1xuICAgICAgICBjbGVhcih0aGlzLnN0YXRlLnRhZ3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zdGF0ZS50YWdzID0gdG9BcnJheShzdGF0ZU5vZGU/LnRhZ3MpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJ0cmFuc2Zvcm1Db250ZXh0XCIsIChjb250ZXh0KSA9PiB7XG4gICAgICB0aGlzLm9wdGlvbnM/LnRyYW5zZm9ybUNvbnRleHQ/Lihjb250ZXh0KTtcbiAgICAgIHJldHVybiBjb250ZXh0O1xuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFRvIHVzZWQgd2l0aGluIHNpZGUgZWZmZWN0cyBmb3IgUmVhY3Qgb3IgVnVlIHRvIHVwZGF0ZSBjb250ZXh0XG4gICAgICovXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInNldENvbnRleHRcIiwgKGNvbnRleHQpID0+IHtcbiAgICAgIGlmICghY29udGV4dClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgZGVlcE1lcmdlKHRoaXMuc3RhdGUuY29udGV4dCwgdGhpcy50cmFuc2Zvcm1Db250ZXh0KGNvbnRleHQpKTtcbiAgICB9KTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwid2l0aENvbnRleHRcIiwgKGNvbnRleHQpID0+IHtcbiAgICAgIGNvbnN0IHRyYW5zZm9ybWVkID0gdGhpcy50cmFuc2Zvcm1Db250ZXh0KGNvbnRleHQpO1xuICAgICAgY29uc3QgbmV3Q29udGV4dCA9IHsgLi4udGhpcy5jb25maWcuY29udGV4dCwgLi4uY29tcGFjdCh0cmFuc2Zvcm1lZCkgfTtcbiAgICAgIHJldHVybiBuZXcgX01hY2hpbmUoeyAuLi50aGlzLmNvbmZpZywgY29udGV4dDogbmV3Q29udGV4dCB9LCB0aGlzLm9wdGlvbnMpO1xuICAgIH0pO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJzZXRPcHRpb25zXCIsIChvcHRpb25zKSA9PiB7XG4gICAgICBjb25zdCBvcHRzID0gY29tcGFjdChvcHRpb25zKTtcbiAgICAgIHRoaXMuYWN0aW9uTWFwID0geyAuLi50aGlzLmFjdGlvbk1hcCwgLi4ub3B0cy5hY3Rpb25zIH07XG4gICAgICB0aGlzLmRlbGF5TWFwID0geyAuLi50aGlzLmRlbGF5TWFwLCAuLi5vcHRzLmRlbGF5cyB9O1xuICAgICAgdGhpcy5hY3Rpdml0eU1hcCA9IHsgLi4udGhpcy5hY3Rpdml0eU1hcCwgLi4ub3B0cy5hY3Rpdml0aWVzIH07XG4gICAgICB0aGlzLmd1YXJkTWFwID0geyAuLi50aGlzLmd1YXJkTWFwLCAuLi5vcHRzLmd1YXJkcyB9O1xuICAgIH0pO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJnZXRTdGF0ZU5vZGVcIiwgKHN0YXRlKSA9PiB7XG4gICAgICBpZiAoIXN0YXRlKVxuICAgICAgICByZXR1cm47XG4gICAgICByZXR1cm4gdGhpcy5jb25maWcuc3RhdGVzPy5bc3RhdGVdO1xuICAgIH0pO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJnZXROZXh0U3RhdGVJbmZvXCIsICh0cmFuc2l0aW9ucywgZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRyYW5zaXRpb24gPSB0aGlzLmRldGVybWluZVRyYW5zaXRpb24odHJhbnNpdGlvbnMsIGV2ZW50KTtcbiAgICAgIGNvbnN0IGlzVGFyZ2V0bGVzcyA9ICF0cmFuc2l0aW9uPy50YXJnZXQ7XG4gICAgICBjb25zdCB0YXJnZXQgPSB0cmFuc2l0aW9uPy50YXJnZXQgPz8gdGhpcy5zdGF0ZS52YWx1ZTtcbiAgICAgIGNvbnN0IGNoYW5nZWQgPSB0aGlzLnN0YXRlLnZhbHVlICE9PSB0YXJnZXQ7XG4gICAgICBjb25zdCBzdGF0ZU5vZGUgPSB0aGlzLmdldFN0YXRlTm9kZSh0YXJnZXQpO1xuICAgICAgY29uc3QgcmVlbnRlciA9ICFpc1RhcmdldGxlc3MgJiYgIWNoYW5nZWQgJiYgIXRyYW5zaXRpb24/LmludGVybmFsO1xuICAgICAgY29uc3QgaW5mbyA9IHtcbiAgICAgICAgcmVlbnRlcixcbiAgICAgICAgdHJhbnNpdGlvbixcbiAgICAgICAgc3RhdGVOb2RlLFxuICAgICAgICB0YXJnZXQsXG4gICAgICAgIGNoYW5nZWRcbiAgICAgIH07XG4gICAgICB0aGlzLmxvZyhcIk5leHRTdGF0ZTpcIiwgYFske2V2ZW50LnR5cGV9XWAsIHRoaXMuc3RhdGUudmFsdWUsIFwiLS0tLT5cIiwgaW5mby50YXJnZXQpO1xuICAgICAgcmV0dXJuIGluZm87XG4gICAgfSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImdldEFjdGlvbkZyb21EZWxheWVkVHJhbnNpdGlvblwiLCAodHJhbnNpdGlvbikgPT4ge1xuICAgICAgY29uc3QgZXZlbnQgPSB0b0V2ZW50KFwibWFjaGluZS5hZnRlclwiIC8qIEFmdGVyICovKTtcbiAgICAgIGNvbnN0IGRldGVybWluZURlbGF5ID0gZGV0ZXJtaW5lRGVsYXlGbih0cmFuc2l0aW9uLmRlbGF5LCB0aGlzLmRlbGF5TWFwKTtcbiAgICAgIGNvbnN0IGRlbGF5ID0gZGV0ZXJtaW5lRGVsYXkodGhpcy5jb250ZXh0U25hcHNob3QsIGV2ZW50KTtcbiAgICAgIGxldCBpZDtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGVudHJ5OiAoKSA9PiB7XG4gICAgICAgICAgaWQgPSBnbG9iYWxUaGlzLnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV4dCA9IHRoaXMuZ2V0TmV4dFN0YXRlSW5mbyh0cmFuc2l0aW9uLCBldmVudCk7XG4gICAgICAgICAgICB0aGlzLnBlcmZvcm1TdGF0ZUNoYW5nZUVmZmVjdHModGhpcy5zdGF0ZS52YWx1ZSwgbmV4dCwgZXZlbnQpO1xuICAgICAgICAgIH0sIGRlbGF5KTtcbiAgICAgICAgfSxcbiAgICAgICAgZXhpdDogKCkgPT4ge1xuICAgICAgICAgIGdsb2JhbFRoaXMuY2xlYXJUaW1lb3V0KGlkKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBBbGwgYGFmdGVyYCBldmVudHMgbGV2ZXJhZ2UgYHNldFRpbWVvdXRgIGFuZCBgY2xlYXJUaW1lb3V0YCxcbiAgICAgKiB3ZSBpbnZva2UgdGhlIGBjbGVhclRpbWVvdXRgIG9uIGV4aXQgYW5kIGBzZXRUaW1lb3V0YCBvbiBlbnRyeS5cbiAgICAgKlxuICAgICAqIFRvIGFjaGlldmUgdGhpcywgd2Ugc3BsaXQgdGhlIGBhZnRlcmAgZGVmaW50aW9uIGludG8gYGVudHJ5YCBhbmQgYGV4aXRgXG4gICAgICogIGZ1bmN0aW9ucyBhbmQgYXBwZW5kIHRoZW0gdG8gdGhlIHN0YXRlJ3MgYGVudHJ5YCBhbmQgYGV4aXRgIGFjdGlvbnNcbiAgICAgKi9cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiZ2V0RGVsYXllZEV2ZW50QWN0aW9uc1wiLCAoc3RhdGUpID0+IHtcbiAgICAgIGNvbnN0IHN0YXRlTm9kZSA9IHRoaXMuZ2V0U3RhdGVOb2RlKHN0YXRlKTtcbiAgICAgIGNvbnN0IGV2ZW50ID0gdG9FdmVudChcIm1hY2hpbmUuYWZ0ZXJcIiAvKiBBZnRlciAqLyk7XG4gICAgICBpZiAoIXN0YXRlTm9kZSB8fCAhc3RhdGVOb2RlLmFmdGVyKVxuICAgICAgICByZXR1cm47XG4gICAgICBjb25zdCBlbnRyaWVzID0gW107XG4gICAgICBjb25zdCBleGl0cyA9IFtdO1xuICAgICAgaWYgKGlzQXJyYXkoc3RhdGVOb2RlLmFmdGVyKSkge1xuICAgICAgICBjb25zdCB0cmFuc2l0aW9uID0gdGhpcy5kZXRlcm1pbmVUcmFuc2l0aW9uKHN0YXRlTm9kZS5hZnRlciwgZXZlbnQpO1xuICAgICAgICBpZiAoIXRyYW5zaXRpb24pXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBhY3Rpb25zID0gdGhpcy5nZXRBY3Rpb25Gcm9tRGVsYXllZFRyYW5zaXRpb24odHJhbnNpdGlvbik7XG4gICAgICAgIGVudHJpZXMucHVzaChhY3Rpb25zLmVudHJ5KTtcbiAgICAgICAgZXhpdHMucHVzaChhY3Rpb25zLmV4aXQpO1xuICAgICAgfSBlbHNlIGlmIChpc09iamVjdChzdGF0ZU5vZGUuYWZ0ZXIpKSB7XG4gICAgICAgIGZvciAoY29uc3QgZGVsYXkgaW4gc3RhdGVOb2RlLmFmdGVyKSB7XG4gICAgICAgICAgY29uc3QgdHJhbnNpdGlvbiA9IHN0YXRlTm9kZS5hZnRlcltkZWxheV07XG4gICAgICAgICAgbGV0IHJlc29sdmVkVHJhbnNpdGlvbiA9IHt9O1xuICAgICAgICAgIGlmIChpc0FycmF5KHRyYW5zaXRpb24pKSB7XG4gICAgICAgICAgICBjb25zdCBwaWNrZWQgPSB0aGlzLmRldGVybWluZVRyYW5zaXRpb24odHJhbnNpdGlvbiwgZXZlbnQpO1xuICAgICAgICAgICAgaWYgKHBpY2tlZClcbiAgICAgICAgICAgICAgcmVzb2x2ZWRUcmFuc2l0aW9uID0gcGlja2VkO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaXNTdHJpbmcodHJhbnNpdGlvbikpIHtcbiAgICAgICAgICAgIHJlc29sdmVkVHJhbnNpdGlvbiA9IHsgdGFyZ2V0OiB0cmFuc2l0aW9uLCBkZWxheSB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNvbHZlZFRyYW5zaXRpb24gPSB7IC4uLnRyYW5zaXRpb24sIGRlbGF5IH07XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGFjdGlvbnMgPSB0aGlzLmdldEFjdGlvbkZyb21EZWxheWVkVHJhbnNpdGlvbihyZXNvbHZlZFRyYW5zaXRpb24pO1xuICAgICAgICAgIGVudHJpZXMucHVzaChhY3Rpb25zLmVudHJ5KTtcbiAgICAgICAgICBleGl0cy5wdXNoKGFjdGlvbnMuZXhpdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB7IGVudHJpZXMsIGV4aXRzIH07XG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdG8gZXhlY3V0ZXMgZGVmaW5lZCBhY3Rpb25zLiBJdCBjYW4gYWNjZXB0IGFjdGlvbnMgYXMgc3RyaW5nXG4gICAgICogKHJlZmVyZW5jaW5nIGBvcHRpb25zLmFjdGlvbnNgKSBvciBhY3R1YWwgZnVuY3Rpb25zLlxuICAgICAqL1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJleGVjdXRlQWN0aW9uc1wiLCAoYWN0aW9ucywgZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHBpY2tlZEFjdGlvbnMgPSBkZXRlcm1pbmVBY3Rpb25zRm4oYWN0aW9ucywgdGhpcy5ndWFyZE1hcCkodGhpcy5jb250ZXh0U25hcHNob3QsIGV2ZW50LCB0aGlzLmd1YXJkTWV0YSk7XG4gICAgICBmb3IgKGNvbnN0IGFjdGlvbiBvZiB0b0FycmF5KHBpY2tlZEFjdGlvbnMpKSB7XG4gICAgICAgIGNvbnN0IGZuID0gaXNTdHJpbmcoYWN0aW9uKSA/IHRoaXMuYWN0aW9uTWFwPy5bYWN0aW9uXSA6IGFjdGlvbjtcbiAgICAgICAgd2FybihcbiAgICAgICAgICBpc1N0cmluZyhhY3Rpb24pICYmICFmbixcbiAgICAgICAgICBgW0B6YWctanMvY29yZSA+IGV4ZWN1dGUtYWN0aW9uc10gTm8gaW1wbGVtZW50YXRpb24gZm91bmQgZm9yIGFjdGlvbjogXFxgJHthY3Rpb259XFxgYFxuICAgICAgICApO1xuICAgICAgICBmbj8uKHRoaXMuc3RhdGUuY29udGV4dCwgZXZlbnQsIHRoaXMubWV0YSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdG8gZXhlY3V0ZSBydW5uaW5nIGFjdGl2aXRpZXMgYW5kIHJlZ2lzdGVyc1xuICAgICAqIHRoZWlyIGNsZWFudXAgZnVuY3Rpb24gaW50ZXJuYWxseSAodG8gYmUgY2FsbGVkIGxhdGVyIG9uIHdoZW4gd2UgZXhpdCB0aGUgc3RhdGUpXG4gICAgICovXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImV4ZWN1dGVBY3Rpdml0aWVzXCIsIChldmVudCwgYWN0aXZpdGllcywgc3RhdGUpID0+IHtcbiAgICAgIGZvciAoY29uc3QgYWN0aXZpdHkgb2YgYWN0aXZpdGllcykge1xuICAgICAgICBjb25zdCBmbiA9IGlzU3RyaW5nKGFjdGl2aXR5KSA/IHRoaXMuYWN0aXZpdHlNYXA/LlthY3Rpdml0eV0gOiBhY3Rpdml0eTtcbiAgICAgICAgaWYgKCFmbikge1xuICAgICAgICAgIHdhcm4oYFtAemFnLWpzL2NvcmUgPiBleGVjdXRlLWFjdGl2aXR5XSBObyBpbXBsZW1lbnRhdGlvbiBmb3VuZCBmb3IgYWN0aXZpdHk6IFxcYCR7YWN0aXZpdHl9XFxgYCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2xlYW51cCA9IGZuKHRoaXMuc3RhdGUuY29udGV4dCwgZXZlbnQsIHRoaXMubWV0YSk7XG4gICAgICAgIGlmIChjbGVhbnVwKSB7XG4gICAgICAgICAgY29uc3Qga2V5ID0gaXNTdHJpbmcoYWN0aXZpdHkpID8gYWN0aXZpdHkgOiBhY3Rpdml0eS5uYW1lIHx8IHV1aWQoKTtcbiAgICAgICAgICB0aGlzLmFkZEFjdGl2aXR5Q2xlYW51cChzdGF0ZSA/PyB0aGlzLnN0YXRlLnZhbHVlLCBrZXksIGNsZWFudXApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogTm9ybWFsaXplcyB0aGUgYGV2ZXJ5YCBkZWZpbml0aW9uIHRvIHRyYW5zaXRpb24uIGBldmVyeWAgY2FuIGJlOlxuICAgICAqIC0gQW4gYXJyYXkgb2YgcG9zc2libGUgYWN0aW9ucyB0byBydW4gKHdlIG5lZWQgdG8gcGljayB0aGUgZmlyc3QgbWF0Y2ggYmFzZWQgb24gZ3VhcmQpXG4gICAgICogLSBBbiBvYmplY3Qgb2YgaW50ZXJ2YWxzIGFuZCBhY3Rpb25zXG4gICAgICovXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImNyZWF0ZUV2ZXJ5QWN0aXZpdGllc1wiLCAoZXZlcnksIGNhbGxiYWNrZm4pID0+IHtcbiAgICAgIGlmICghZXZlcnkpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGNvbnN0IGV2ZW50ID0gdG9FdmVudChcIm1hY2hpbmUuZXZlcnlcIiAvKiBFdmVyeSAqLyk7XG4gICAgICBpZiAoaXNBcnJheShldmVyeSkpIHtcbiAgICAgICAgY29uc3QgcGlja2VkID0gdG9BcnJheShldmVyeSkuZmluZCgodHJhbnNpdGlvbikgPT4ge1xuICAgICAgICAgIGNvbnN0IGRlbGF5T3JGbiA9IHRyYW5zaXRpb24uZGVsYXk7XG4gICAgICAgICAgY29uc3QgZGV0ZXJtaW5lRGVsYXkyID0gZGV0ZXJtaW5lRGVsYXlGbihkZWxheU9yRm4sIHRoaXMuZGVsYXlNYXApO1xuICAgICAgICAgIGNvbnN0IGRlbGF5MiA9IGRldGVybWluZURlbGF5Mih0aGlzLmNvbnRleHRTbmFwc2hvdCwgZXZlbnQpO1xuICAgICAgICAgIGNvbnN0IGRldGVybWluZUd1YXJkID0gZGV0ZXJtaW5lR3VhcmRGbih0cmFuc2l0aW9uLmd1YXJkLCB0aGlzLmd1YXJkTWFwKTtcbiAgICAgICAgICBjb25zdCBndWFyZCA9IGRldGVybWluZUd1YXJkKHRoaXMuY29udGV4dFNuYXBzaG90LCBldmVudCwgdGhpcy5ndWFyZE1ldGEpO1xuICAgICAgICAgIHJldHVybiBndWFyZCA/PyBkZWxheTIgIT0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcGlja2VkKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgZGV0ZXJtaW5lRGVsYXkgPSBkZXRlcm1pbmVEZWxheUZuKHBpY2tlZC5kZWxheSwgdGhpcy5kZWxheU1hcCk7XG4gICAgICAgIGNvbnN0IGRlbGF5ID0gZGV0ZXJtaW5lRGVsYXkodGhpcy5jb250ZXh0U25hcHNob3QsIGV2ZW50KTtcbiAgICAgICAgY29uc3QgYWN0aXZpdHkgPSAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgaWQgPSBnbG9iYWxUaGlzLnNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZXhlY3V0ZUFjdGlvbnMocGlja2VkLmFjdGlvbnMsIGV2ZW50KTtcbiAgICAgICAgICB9LCBkZWxheSk7XG4gICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGdsb2JhbFRoaXMuY2xlYXJJbnRlcnZhbChpZCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgY2FsbGJhY2tmbihhY3Rpdml0eSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGNvbnN0IGludGVydmFsIGluIGV2ZXJ5KSB7XG4gICAgICAgICAgY29uc3QgYWN0aW9ucyA9IGV2ZXJ5Py5baW50ZXJ2YWxdO1xuICAgICAgICAgIGNvbnN0IGRldGVybWluZURlbGF5ID0gZGV0ZXJtaW5lRGVsYXlGbihpbnRlcnZhbCwgdGhpcy5kZWxheU1hcCk7XG4gICAgICAgICAgY29uc3QgZGVsYXkgPSBkZXRlcm1pbmVEZWxheSh0aGlzLmNvbnRleHRTbmFwc2hvdCwgZXZlbnQpO1xuICAgICAgICAgIGNvbnN0IGFjdGl2aXR5ID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaWQgPSBnbG9iYWxUaGlzLnNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5leGVjdXRlQWN0aW9ucyhhY3Rpb25zLCBldmVudCk7XG4gICAgICAgICAgICB9LCBkZWxheSk7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICBnbG9iYWxUaGlzLmNsZWFySW50ZXJ2YWwoaWQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNhbGxiYWNrZm4oYWN0aXZpdHkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInNldEV2ZW50XCIsIChldmVudCkgPT4ge1xuICAgICAgdGhpcy5zdGF0ZS5wcmV2aW91c0V2ZW50ID0gdGhpcy5zdGF0ZS5ldmVudDtcbiAgICAgIHRoaXMuc3RhdGUuZXZlbnQgPSByZWYodG9FdmVudChldmVudCkpO1xuICAgIH0pO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJwZXJmb3JtRXhpdEVmZmVjdHNcIiwgKGN1cnJlbnQsIGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBjdXJyZW50U3RhdGUgPSB0aGlzLnN0YXRlLnZhbHVlO1xuICAgICAgaWYgKGN1cnJlbnRTdGF0ZSA9PT0gXCJcIilcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29uc3Qgc3RhdGVOb2RlID0gY3VycmVudCA/IHRoaXMuZ2V0U3RhdGVOb2RlKGN1cnJlbnQpIDogdm9pZCAwO1xuICAgICAgdGhpcy5zdG9wQWN0aXZpdGllcyhjdXJyZW50U3RhdGUpO1xuICAgICAgY29uc3QgX2V4aXQgPSBkZXRlcm1pbmVBY3Rpb25zRm4oc3RhdGVOb2RlPy5leGl0LCB0aGlzLmd1YXJkTWFwKSh0aGlzLmNvbnRleHRTbmFwc2hvdCwgZXZlbnQsIHRoaXMuZ3VhcmRNZXRhKTtcbiAgICAgIGNvbnN0IGV4aXRBY3Rpb25zID0gdG9BcnJheShfZXhpdCk7XG4gICAgICBjb25zdCBhZnRlckV4aXRBY3Rpb25zID0gdGhpcy5kZWxheWVkRXZlbnRzLmdldChjdXJyZW50U3RhdGUpO1xuICAgICAgaWYgKGFmdGVyRXhpdEFjdGlvbnMpIHtcbiAgICAgICAgZXhpdEFjdGlvbnMucHVzaCguLi5hZnRlckV4aXRBY3Rpb25zKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZXhlY3V0ZUFjdGlvbnMoZXhpdEFjdGlvbnMsIGV2ZW50KTtcbiAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMuY2xlYXIoKTtcbiAgICB9KTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwicGVyZm9ybUVudHJ5RWZmZWN0c1wiLCAobmV4dCwgZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHN0YXRlTm9kZSA9IHRoaXMuZ2V0U3RhdGVOb2RlKG5leHQpO1xuICAgICAgY29uc3QgYWN0aXZpdGllcyA9IHRvQXJyYXkoc3RhdGVOb2RlPy5hY3Rpdml0aWVzKTtcbiAgICAgIHRoaXMuY3JlYXRlRXZlcnlBY3Rpdml0aWVzKHN0YXRlTm9kZT8uZXZlcnksIChhY3Rpdml0eSkgPT4ge1xuICAgICAgICBhY3Rpdml0aWVzLnVuc2hpZnQoYWN0aXZpdHkpO1xuICAgICAgfSk7XG4gICAgICBpZiAoYWN0aXZpdGllcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRoaXMuZXhlY3V0ZUFjdGl2aXRpZXMoZXZlbnQsIGFjdGl2aXRpZXMpO1xuICAgICAgfVxuICAgICAgY29uc3QgcGlja2VkQWN0aW9ucyA9IGRldGVybWluZUFjdGlvbnNGbihzdGF0ZU5vZGU/LmVudHJ5LCB0aGlzLmd1YXJkTWFwKShcbiAgICAgICAgdGhpcy5jb250ZXh0U25hcHNob3QsXG4gICAgICAgIGV2ZW50LFxuICAgICAgICB0aGlzLmd1YXJkTWV0YVxuICAgICAgKTtcbiAgICAgIGNvbnN0IGVudHJ5QWN0aW9ucyA9IHRvQXJyYXkocGlja2VkQWN0aW9ucyk7XG4gICAgICBjb25zdCBhZnRlckFjdGlvbnMgPSB0aGlzLmdldERlbGF5ZWRFdmVudEFjdGlvbnMobmV4dCk7XG4gICAgICBpZiAoc3RhdGVOb2RlPy5hZnRlciAmJiBhZnRlckFjdGlvbnMpIHtcbiAgICAgICAgdGhpcy5kZWxheWVkRXZlbnRzLnNldChuZXh0LCBhZnRlckFjdGlvbnM/LmV4aXRzKTtcbiAgICAgICAgZW50cnlBY3Rpb25zLnB1c2goLi4uYWZ0ZXJBY3Rpb25zLmVudHJpZXMpO1xuICAgICAgfVxuICAgICAgdGhpcy5leGVjdXRlQWN0aW9ucyhlbnRyeUFjdGlvbnMsIGV2ZW50KTtcbiAgICAgIGlmIChzdGF0ZU5vZGU/LnR5cGUgPT09IFwiZmluYWxcIikge1xuICAgICAgICB0aGlzLnN0YXRlLmRvbmUgPSB0cnVlO1xuICAgICAgICB0aGlzLmRvbmVMaXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+IHtcbiAgICAgICAgICBsaXN0ZW5lcih0aGlzLnN0YXRlU25hcHNob3QpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInBlcmZvcm1UcmFuc2l0aW9uRWZmZWN0c1wiLCAodHJhbnNpdGlvbnMsIGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB0cmFuc2l0aW9uID0gdGhpcy5kZXRlcm1pbmVUcmFuc2l0aW9uKHRyYW5zaXRpb25zLCBldmVudCk7XG4gICAgICB0aGlzLmV4ZWN1dGVBY3Rpb25zKHRyYW5zaXRpb24/LmFjdGlvbnMsIGV2ZW50KTtcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhbGwgdGhlIHJlcXVpcmVzIHNpZGUtZWZmZWN0cyBvciByZWFjdGlvbnMgd2hlblxuICAgICAqIHdlIG1vdmUgZnJvbSBzdGF0ZSBBID0+IHN0YXRlIEIuXG4gICAgICpcbiAgICAgKiBUaGUgRWZmZWN0IG9yZGVyOlxuICAgICAqIEV4aXQgYWN0aW9ucyAoY3VycmVudCBzdGF0ZSkgPT4gVHJhbnNpdGlvbiBhY3Rpb25zICA9PiBHbyB0byBzdGF0ZSA9PiBFbnRyeSBhY3Rpb25zIChuZXh0IHN0YXRlKVxuICAgICAqL1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJwZXJmb3JtU3RhdGVDaGFuZ2VFZmZlY3RzXCIsIChjdXJyZW50LCBuZXh0LCBldmVudCkgPT4ge1xuICAgICAgdGhpcy5zZXRFdmVudChldmVudCk7XG4gICAgICBjb25zdCBjaGFuZ2VkID0gbmV4dC5jaGFuZ2VkIHx8IG5leHQucmVlbnRlcjtcbiAgICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICAgIHRoaXMucGVyZm9ybUV4aXRFZmZlY3RzKGN1cnJlbnQsIGV2ZW50KTtcbiAgICAgIH1cbiAgICAgIHRoaXMucGVyZm9ybVRyYW5zaXRpb25FZmZlY3RzKG5leHQudHJhbnNpdGlvbiwgZXZlbnQpO1xuICAgICAgdGhpcy5zZXRTdGF0ZShuZXh0LnRhcmdldCk7XG4gICAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgICB0aGlzLnBlcmZvcm1FbnRyeUVmZmVjdHMobmV4dC50YXJnZXQsIGV2ZW50KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiZGV0ZXJtaW5lVHJhbnNpdGlvblwiLCAodHJhbnNpdGlvbiwgZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IGZuID0gZGV0ZXJtaW5lVHJhbnNpdGlvbkZuKHRyYW5zaXRpb24sIHRoaXMuZ3VhcmRNYXApO1xuICAgICAgcmV0dXJuIGZuPy4odGhpcy5jb250ZXh0U25hcHNob3QsIGV2ZW50LCB0aGlzLmd1YXJkTWV0YSk7XG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdG8gc2VuZCBldmVudCB0byBwYXJlbnQgbWFjaGluZSBmcm9tIHNwYXduZWQgY2hpbGRcbiAgICAgKi9cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwic2VuZFBhcmVudFwiLCAoZXZ0KSA9PiB7XG4gICAgICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgICAgIGludmFyaWFudChcIltAemFnLWpzL2NvcmUgPiBzZW5kLXBhcmVudF0gQ2Fubm90IHNlbmQgZXZlbnQgdG8gYW4gdW5rbm93biBwYXJlbnRcIik7XG4gICAgICB9XG4gICAgICBjb25zdCBldmVudCA9IHRvRXZlbnQoZXZ0KTtcbiAgICAgIHRoaXMucGFyZW50Py5zZW5kKGV2ZW50KTtcbiAgICB9KTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwibG9nXCIsICguLi5hcmdzKSA9PiB7XG4gICAgICBpZiAoaXNEZXYoKSAmJiB0aGlzLm9wdGlvbnMuZGVidWcpIHtcbiAgICAgICAgY29uc29sZS5sb2coLi4uYXJncyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdG8gc2VuZCBhbiBldmVudCB0byBjdXJyZW50IG1hY2hpbmVcbiAgICAgKi9cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwic2VuZFwiLCAoZXZ0KSA9PiB7XG4gICAgICBjb25zdCBldmVudCA9IHRvRXZlbnQoZXZ0KTtcbiAgICAgIHRoaXMudHJhbnNpdGlvbih0aGlzLnN0YXRlLnZhbHVlLCBldmVudCk7XG4gICAgfSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInRyYW5zaXRpb25cIiwgKHN0YXRlLCBldnQpID0+IHtcbiAgICAgIGNvbnN0IHN0YXRlTm9kZSA9IGlzU3RyaW5nKHN0YXRlKSA/IHRoaXMuZ2V0U3RhdGVOb2RlKHN0YXRlKSA6IHN0YXRlPy5zdGF0ZU5vZGU7XG4gICAgICBjb25zdCBldmVudCA9IHRvRXZlbnQoZXZ0KTtcbiAgICAgIGlmICghc3RhdGVOb2RlICYmICF0aGlzLmNvbmZpZy5vbikge1xuICAgICAgICBjb25zdCBtc2cgPSB0aGlzLnN0YXR1cyA9PT0gXCJTdG9wcGVkXCIgLyogU3RvcHBlZCAqLyA/IFwiW0B6YWctanMvY29yZSA+IHRyYW5zaXRpb25dIENhbm5vdCB0cmFuc2l0aW9uIGEgc3RvcHBlZCBtYWNoaW5lXCIgOiBgW0B6YWctanMvY29yZSA+IHRyYW5zaXRpb25dIFN0YXRlIGRvZXMgbm90IGhhdmUgYSBkZWZpbml0aW9uIGZvciBcXGBzdGF0ZVxcYDogJHtzdGF0ZX0sIFxcYGV2ZW50XFxgOiAke2V2ZW50LnR5cGV9YDtcbiAgICAgICAgd2Fybihtc2cpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB0cmFuc2l0aW9ucyA9IHN0YXRlTm9kZT8ub24/LltldmVudC50eXBlXSA/PyB0aGlzLmNvbmZpZy5vbj8uW2V2ZW50LnR5cGVdO1xuICAgICAgY29uc3QgbmV4dCA9IHRoaXMuZ2V0TmV4dFN0YXRlSW5mbyh0cmFuc2l0aW9ucywgZXZlbnQpO1xuICAgICAgdGhpcy5wZXJmb3JtU3RhdGVDaGFuZ2VFZmZlY3RzKHRoaXMuc3RhdGUudmFsdWUsIG5leHQsIGV2ZW50KTtcbiAgICAgIHJldHVybiBuZXh0LnN0YXRlTm9kZTtcbiAgICB9KTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwic3Vic2NyaWJlXCIsIChsaXN0ZW5lcikgPT4ge1xuICAgICAgdGhpcy5zdGF0ZUxpc3RlbmVycy5hZGQobGlzdGVuZXIpO1xuICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSBcIlJ1bm5pbmdcIiAvKiBSdW5uaW5nICovKSB7XG4gICAgICAgIGxpc3RlbmVyKHRoaXMuc3RhdGVTbmFwc2hvdCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICB0aGlzLnN0YXRlTGlzdGVuZXJzLmRlbGV0ZShsaXN0ZW5lcik7XG4gICAgICB9O1xuICAgIH0pO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJvbkRvbmVcIiwgKGxpc3RlbmVyKSA9PiB7XG4gICAgICB0aGlzLmRvbmVMaXN0ZW5lcnMuYWRkKGxpc3RlbmVyKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0pO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJvblRyYW5zaXRpb25cIiwgKGxpc3RlbmVyKSA9PiB7XG4gICAgICB0aGlzLnN0YXRlTGlzdGVuZXJzLmFkZChsaXN0ZW5lcik7XG4gICAgICBpZiAodGhpcy5zdGF0dXMgPT09IFwiUnVubmluZ1wiIC8qIFJ1bm5pbmcgKi8pIHtcbiAgICAgICAgbGlzdGVuZXIodGhpcy5zdGF0ZVNuYXBzaG90KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0pO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJvbkNoYW5nZVwiLCAobGlzdGVuZXIpID0+IHtcbiAgICAgIHRoaXMuY29udGV4dExpc3RlbmVycy5hZGQobGlzdGVuZXIpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcIm9uRXZlbnRcIiwgKGxpc3RlbmVyKSA9PiB7XG4gICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLmFkZChsaXN0ZW5lcik7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9KTtcbiAgICB0aGlzLmNvbmZpZyA9IHN0cnVjdHVyZWRDbG9uZShjb25maWcpO1xuICAgIHRoaXMub3B0aW9ucyA9IHN0cnVjdHVyZWRDbG9uZShvcHRpb25zID8/IHt9KTtcbiAgICB0aGlzLmlkID0gdGhpcy5jb25maWcuaWQgPz8gYG1hY2hpbmUtJHt1dWlkKCl9YDtcbiAgICB0aGlzLmd1YXJkTWFwID0gdGhpcy5vcHRpb25zPy5ndWFyZHMgPz8ge307XG4gICAgdGhpcy5hY3Rpb25NYXAgPSB0aGlzLm9wdGlvbnM/LmFjdGlvbnMgPz8ge307XG4gICAgdGhpcy5kZWxheU1hcCA9IHRoaXMub3B0aW9ucz8uZGVsYXlzID8/IHt9O1xuICAgIHRoaXMuYWN0aXZpdHlNYXAgPSB0aGlzLm9wdGlvbnM/LmFjdGl2aXRpZXMgPz8ge307XG4gICAgdGhpcy5zeW5jID0gdGhpcy5vcHRpb25zPy5zeW5jID8/IGZhbHNlO1xuICAgIHRoaXMuc3RhdGUgPSBjcmVhdGVQcm94eSh0aGlzLmNvbmZpZyk7XG4gICAgdGhpcy5pbml0aWFsQ29udGV4dCA9IHNuYXBzaG90KHRoaXMuc3RhdGUuY29udGV4dCk7XG4gICAgdGhpcy50cmFuc2Zvcm1Db250ZXh0KHRoaXMuc3RhdGUuY29udGV4dCk7XG4gICAgY29uc3QgZXZlbnQgPSB0b0V2ZW50KFwibWFjaGluZS5jcmVhdGVkXCIgLyogQ3JlYXRlZCAqLyk7XG4gICAgdGhpcy5leGVjdXRlQWN0aW9ucyh0aGlzLmNvbmZpZz8uY3JlYXRlZCwgZXZlbnQpO1xuICB9XG4gIC8vIGltbXV0YWJsZSBzdGF0ZSB2YWx1ZVxuICBnZXQgc3RhdGVTbmFwc2hvdCgpIHtcbiAgICByZXR1cm4gY2FzdChzbmFwc2hvdCh0aGlzLnN0YXRlKSk7XG4gIH1cbiAgZ2V0U3RhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGVTbmFwc2hvdDtcbiAgfVxuICAvLyBpbW11dGFibGUgY29udGV4dCB2YWx1ZVxuICBnZXQgY29udGV4dFNuYXBzaG90KCkge1xuICAgIHJldHVybiB0aGlzLnN0YXRlU25hcHNob3QuY29udGV4dDtcbiAgfVxuICAvKipcbiAgICogQSByZWZlcmVuY2UgdG8gdGhlIGluc3RhbmNlIG1ldGhvZHMgb2YgdGhlIG1hY2hpbmUuXG4gICAqIFVzZWZ1bCB3aGVuIHNwYXduaW5nIGNoaWxkIG1hY2hpbmVzIGFuZCBtYW5hZ2luZyB0aGUgY29tbXVuaWNhdGlvbiBiZXR3ZWVuIHRoZW0uXG4gICAqL1xuICBnZXQgc2VsZigpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICBzZW5kOiB0aGlzLnNlbmQuYmluZCh0aGlzKSxcbiAgICAgIHNlbmRQYXJlbnQ6IHRoaXMuc2VuZFBhcmVudC5iaW5kKHRoaXMpLFxuICAgICAgc2VuZENoaWxkOiB0aGlzLnNlbmRDaGlsZC5iaW5kKHRoaXMpLFxuICAgICAgc3RvcDogdGhpcy5zdG9wLmJpbmQodGhpcyksXG4gICAgICBzdG9wQ2hpbGQ6IHRoaXMuc3RvcENoaWxkLmJpbmQodGhpcyksXG4gICAgICBzcGF3bjogdGhpcy5zcGF3bi5iaW5kKHRoaXMpLFxuICAgICAgc3RvcEFjdGl2aXR5OiB0aGlzLnN0b3BBY3Rpdml0eS5iaW5kKHRoaXMpLFxuICAgICAgZ2V0IHN0YXRlKCkge1xuICAgICAgICByZXR1cm4gc2VsZi5zdGF0ZVNuYXBzaG90O1xuICAgICAgfSxcbiAgICAgIGdldCBpbml0aWFsQ29udGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuaW5pdGlhbENvbnRleHQ7XG4gICAgICB9LFxuICAgICAgZ2V0IGluaXRpYWxTdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuaW5pdGlhbFN0YXRlPy50YXJnZXQgPz8gXCJcIjtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIGdldCBtZXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzdGF0ZTogdGhpcy5zdGF0ZVNuYXBzaG90LFxuICAgICAgZ3VhcmRzOiB0aGlzLmd1YXJkTWFwLFxuICAgICAgc2VuZDogdGhpcy5zZW5kLmJpbmQodGhpcyksXG4gICAgICBzZWxmOiB0aGlzLnNlbGYsXG4gICAgICBpbml0aWFsQ29udGV4dDogdGhpcy5pbml0aWFsQ29udGV4dCxcbiAgICAgIGluaXRpYWxTdGF0ZTogdGhpcy5pbml0aWFsU3RhdGU/LnRhcmdldCA/PyBcIlwiLFxuICAgICAgZ2V0U3RhdGU6ICgpID0+IHRoaXMuc3RhdGVTbmFwc2hvdCxcbiAgICAgIGdldEFjdGlvbjogKGtleSkgPT4gdGhpcy5hY3Rpb25NYXBba2V5XSxcbiAgICAgIGdldEd1YXJkOiAoa2V5KSA9PiB0aGlzLmd1YXJkTWFwW2tleV1cbiAgICB9O1xuICB9XG4gIGdldCBndWFyZE1ldGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXRlOiB0aGlzLnN0YXRlU25hcHNob3RcbiAgICB9O1xuICB9XG4gIGdldCBbU3ltYm9sLnRvU3RyaW5nVGFnXSgpIHtcbiAgICByZXR1cm4gXCJNYWNoaW5lXCI7XG4gIH1cbn07XG52YXIgY3JlYXRlTWFjaGluZSA9IChjb25maWcsIG9wdGlvbnMpID0+IG5ldyBNYWNoaW5lKGNvbmZpZywgb3B0aW9ucyk7XG5cbi8vIHNyYy9tZXJnZS1wcm9wcy50c1xudmFyIGNsc3ggPSAoLi4uYXJncykgPT4gYXJncy5tYXAoKHN0cikgPT4gc3RyPy50cmltPy4oKSkuZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCIgXCIpO1xudmFyIGV2ZW50UmVnZXggPSAvXm9uW0EtWl0vO1xuZnVuY3Rpb24gbWVyZ2VQcm9wcyguLi5hcmdzKSB7XG4gIGxldCByZXN1bHQgPSB7fTtcbiAgZm9yIChsZXQgcHJvcHMgb2YgYXJncykge1xuICAgIGZvciAobGV0IGtleSBpbiByZXN1bHQpIHtcbiAgICAgIGlmIChldmVudFJlZ2V4LnRlc3Qoa2V5KSAmJiB0eXBlb2YgcmVzdWx0W2tleV0gPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgcHJvcHNba2V5XSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJlc3VsdFtrZXldID0gY2FsbEFsbChyZXN1bHRba2V5XSwgcHJvcHNba2V5XSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKGtleSA9PT0gXCJjbGFzc05hbWVcIiB8fCBrZXkgPT09IFwiY2xhc3NcIikge1xuICAgICAgICByZXN1bHRba2V5XSA9IGNsc3gocmVzdWx0W2tleV0sIHByb3BzW2tleV0pO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChrZXkgPT09IFwic3R5bGVcIikge1xuICAgICAgICByZXN1bHRba2V5XSA9IE9iamVjdC5hc3NpZ24oe30sIHJlc3VsdFtrZXldID8/IHt9LCBwcm9wc1trZXldID8/IHt9KTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICByZXN1bHRba2V5XSA9IHByb3BzW2tleV0gIT09IHZvaWQgMCA/IHByb3BzW2tleV0gOiByZXN1bHRba2V5XTtcbiAgICB9XG4gICAgZm9yIChsZXQga2V5IGluIHByb3BzKSB7XG4gICAgICBpZiAocmVzdWx0W2tleV0gPT09IHZvaWQgMCkge1xuICAgICAgICByZXN1bHRba2V5XSA9IHByb3BzW2tleV07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnQge1xuICBNYWNoaW5lLFxuICBjaG9vc2UsXG4gIGNyZWF0ZU1hY2hpbmUsXG4gIGRlZXBNZXJnZSxcbiAgZ3VhcmRzLFxuICBtZXJnZVByb3BzLFxuICBwcm94eTIgYXMgcHJveHksXG4gIHJlZjIgYXMgcmVmLFxuICBzbmFwc2hvdDIgYXMgc25hcHNob3QsXG4gIHN1YnNjcmliZTIgYXMgc3Vic2NyaWJlXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCJdLCJuYW1lcyI6WyJfX2RlZlByb3AiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsIl9fZGVmTm9ybWFsUHJvcCIsIm9iaiIsImtleSIsInZhbHVlIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiX19wdWJsaWNGaWVsZCIsInByb3h5IiwicHJveHkyIiwicmVmIiwicmVmMiIsInNuYXBzaG90Iiwic25hcHNob3QyIiwic3Vic2NyaWJlIiwic3Vic2NyaWJlMiIsImNsZWFyIiwidiIsImxlbmd0aCIsInBvcCIsInJ1bklmRm4iLCJhIiwicmVzIiwiY2FzdCIsIm5vb3AiLCJjYWxsQWxsIiwiZm5zIiwiZm9yRWFjaCIsImZuIiwidXVpZCIsImlkIiwidG9TdHJpbmciLCJpc0RldiIsInByb2Nlc3MiLCJpc0FycmF5IiwiQXJyYXkiLCJpc09iamVjdCIsImlzTnVtYmVyIiwiTnVtYmVyIiwiaXNOYU4iLCJpc1N0cmluZyIsImlzRnVuY3Rpb24iLCJjb21wYWN0IiwiaXNQbGFpbk9iamVjdCIsImtleXMiLCJSZWZsZWN0Iiwib3duS2V5cyIsImZpbHRlciIsImZpbHRlcmVkIiwiY29uc3RydWN0b3IiLCJ3YXJuIiwibSIsImMiLCJjb25zb2xlIiwiaW52YXJpYW50IiwiRXJyb3IiLCJkZWVwTWVyZ2UiLCJzb3VyY2UiLCJvYmplY3RzIiwidGFyZ2V0Iiwia2xvbmEiLCJzdHJ1Y3R1cmVkQ2xvbmUiLCJ0b0V2ZW50IiwiZXZlbnQiLCJ0eXBlIiwidG9BcnJheSIsInNsaWNlIiwiaXNHdWFyZEhlbHBlciIsInByZWRpY2F0ZSIsIlRydXRoeSIsImV4ZWMiLCJndWFyZE1hcCIsImN0eCIsIm1ldGEiLCJndWFyZCIsIm9yIiwiY29uZGl0aW9ucyIsIm1hcCIsInNvbWUiLCJCb29sZWFuIiwiYW5kIiwiZXZlcnkiLCJub3QiLCJjb25kaXRpb24iLCJzdGF0ZUluIiwidmFsdWVzIiwiX2N0eCIsIl9ldnQiLCJzdGF0ZSIsIm1hdGNoZXMiLCJndWFyZHMiLCJjaG9vc2UiLCJhY3Rpb25zIiwiZmluZCIsImRlZiIsImRldGVybWluZUd1YXJkRm4iLCJjb250ZXh0IiwiZGV0ZXJtaW5lQWN0aW9uc0ZuIiwic3Vic2NyaWJlS2V5IiwicHJveHlXaXRoQ29tcHV0ZWQiLCJjcmVhdGVQcm94eSIsImNvbmZpZyIsImNvbXB1dGVkQ29udGV4dCIsImNvbXB1dGVkIiwiaW5pdGlhbENvbnRleHQiLCJpbml0aWFsIiwicHJldmlvdXNWYWx1ZSIsInByZXZpb3VzRXZlbnQiLCJkb25lIiwidGFncyIsImhhc1RhZyIsInRhZyIsImluY2x1ZGVzIiwiY2FuIiwibmV4dEV2ZW50cyIsInN0YXRlRXZlbnRzIiwic3RhdGVzIiwiZ2xvYmFsRXZlbnRzIiwib24iLCJjaGFuZ2VkIiwiZGV0ZXJtaW5lRGVsYXlGbiIsImRlbGF5IiwiZGVsYXlzTWFwIiwicGFyc2VGbG9hdCIsInZhbHVlT3JGbiIsInRvVGFyZ2V0IiwiZGV0ZXJtaW5lVHJhbnNpdGlvbkZuIiwidHJhbnNpdGlvbnMiLCJ0cmFuc2l0aW9uIiwiZGV0ZXJtaW5lR3VhcmQiLCJNYWNoaW5lIiwiX01hY2hpbmUiLCJvcHRpb25zIiwiTWFwIiwiU2V0IiwiaW5pdCIsInN0YXR1cyIsInJlbW92ZVN0YXRlTGlzdGVuZXIiLCJzdGF0ZUxpc3RlbmVycyIsImxpc3RlbmVyIiwic3RhdGVTbmFwc2hvdCIsInN5bmMiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZlbnQyIiwiZXhlY3V0ZUFjdGlvbnMiLCJvbkV2ZW50IiwiZXZlbnRMaXN0ZW5lcnMiLCJyZW1vdmVDb250ZXh0TGlzdGVuZXIiLCJsb2ciLCJjb250ZXh0U25hcHNob3QiLCJjb250ZXh0TGlzdGVuZXJzIiwiZGVidWciLCJzZXR1cENvbnRleHRXYXRjaGVycyIsImV4ZWN1dGVBY3Rpdml0aWVzIiwiYWN0aXZpdGllcyIsImVudHJ5Iiwic2V0Q29udGV4dCIsIm5leHQiLCJnZXROZXh0U3RhdGVJbmZvIiwiaW5pdGlhbFN0YXRlIiwicGVyZm9ybVN0YXRlQ2hhbmdlRWZmZWN0cyIsImVudHJpZXMiLCJ3YXRjaCIsImNvbXBhcmVGbiIsImNvbXBhcmVGbnMiLCJjbGVhbnVwIiwiY29udGV4dFdhdGNoZXJzIiwiYWRkIiwicGVyZm9ybUV4aXRFZmZlY3RzIiwiZXhpdCIsInNldFN0YXRlIiwic2V0RXZlbnQiLCJzdG9wU3RhdGVMaXN0ZW5lcnMiLCJzdG9wQ2hpbGRyZW4iLCJzdG9wQWN0aXZpdGllcyIsInN0b3BEZWxheWVkRXZlbnRzIiwic3RvcENvbnRleHRXYXRjaGVycyIsInN0b3BFdmVudExpc3RlbmVycyIsInN0b3BDb250ZXh0TGlzdGVuZXJzIiwiZGVsYXllZEV2ZW50cyIsInN0b3AiLCJhY3Rpdml0eUV2ZW50cyIsImdldCIsImRlbGV0ZSIsInN0YXRlMiIsImV2dCIsInRvIiwiY2hpbGQiLCJjaGlsZHJlbiIsInNlbmQiLCJoYXMiLCJwYXJlbnQiLCJzcmMiLCJhY3RvciIsInNldFBhcmVudCIsInNldCIsIm9uRG9uZSIsInJlbW92ZUNoaWxkIiwic3RhcnQiLCJjbGVhbnVwcyIsInN0YXRlTm9kZSIsImdldFN0YXRlTm9kZSIsInRyYW5zZm9ybUNvbnRleHQiLCJ0cmFuc2Zvcm1lZCIsIm5ld0NvbnRleHQiLCJvcHRzIiwiYWN0aW9uTWFwIiwiZGVsYXlNYXAiLCJkZWxheXMiLCJhY3Rpdml0eU1hcCIsImRldGVybWluZVRyYW5zaXRpb24iLCJpc1RhcmdldGxlc3MiLCJyZWVudGVyIiwiaW50ZXJuYWwiLCJpbmZvIiwiZGV0ZXJtaW5lRGVsYXkiLCJnbG9iYWxUaGlzIiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsImFmdGVyIiwiZXhpdHMiLCJnZXRBY3Rpb25Gcm9tRGVsYXllZFRyYW5zaXRpb24iLCJwdXNoIiwicmVzb2x2ZWRUcmFuc2l0aW9uIiwicGlja2VkIiwicGlja2VkQWN0aW9ucyIsImd1YXJkTWV0YSIsImFjdGlvbiIsImFjdGl2aXR5IiwibmFtZSIsImFkZEFjdGl2aXR5Q2xlYW51cCIsImNhbGxiYWNrZm4iLCJkZWxheU9yRm4iLCJkZXRlcm1pbmVEZWxheTIiLCJkZWxheTIiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJpbnRlcnZhbCIsImN1cnJlbnQiLCJjdXJyZW50U3RhdGUiLCJfZXhpdCIsImV4aXRBY3Rpb25zIiwiYWZ0ZXJFeGl0QWN0aW9ucyIsImNyZWF0ZUV2ZXJ5QWN0aXZpdGllcyIsInVuc2hpZnQiLCJlbnRyeUFjdGlvbnMiLCJhZnRlckFjdGlvbnMiLCJnZXREZWxheWVkRXZlbnRBY3Rpb25zIiwiZG9uZUxpc3RlbmVycyIsInBlcmZvcm1UcmFuc2l0aW9uRWZmZWN0cyIsInBlcmZvcm1FbnRyeUVmZmVjdHMiLCJhcmdzIiwibXNnIiwiY3JlYXRlZCIsImdldFN0YXRlIiwic2VsZiIsImJpbmQiLCJzZW5kUGFyZW50Iiwic2VuZENoaWxkIiwic3RvcENoaWxkIiwic3Bhd24iLCJzdG9wQWN0aXZpdHkiLCJnZXRBY3Rpb24iLCJnZXRHdWFyZCIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwiY3JlYXRlTWFjaGluZSIsImNsc3giLCJzdHIiLCJ0cmltIiwiam9pbiIsImV2ZW50UmVnZXgiLCJtZXJnZVByb3BzIiwicmVzdWx0IiwicHJvcHMiLCJ0ZXN0IiwiYXNzaWduIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@zag-js/core/dist/index.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@zag-js/store/dist/index.mjs":
/*!***************************************************!*\
  !*** ./node_modules/@zag-js/store/dist/index.mjs ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   proxy: () => (/* binding */ proxy),\n/* harmony export */   proxyWithComputed: () => (/* binding */ proxyWithComputed),\n/* harmony export */   ref: () => (/* binding */ ref),\n/* harmony export */   snapshot: () => (/* binding */ snapshot),\n/* harmony export */   subscribe: () => (/* binding */ subscribe),\n/* harmony export */   subscribeKey: () => (/* binding */ subscribeKey)\n/* harmony export */ });\n/* harmony import */ var proxy_compare__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! proxy-compare */ \"(rsc)/./node_modules/proxy-compare/dist/index.modern.js\");\n// src/proxy.ts\n\nvar isDev = \"development\" !== \"production\";\nvar isObject = (x)=>typeof x === \"object\" && x !== null;\nvar proxyStateMap = /* @__PURE__ */ new WeakMap();\nvar refSet = /* @__PURE__ */ new WeakSet();\nvar buildProxyFunction = (objectIs = Object.is, newProxy = (target, handler)=>new Proxy(target, handler), canProxy = (x)=>isObject(x) && !refSet.has(x) && (Array.isArray(x) || !(Symbol.iterator in x)) && !(x instanceof WeakMap) && !(x instanceof WeakSet) && !(x instanceof Error) && !(x instanceof Number) && !(x instanceof Date) && !(x instanceof String) && !(x instanceof RegExp) && !(x instanceof ArrayBuffer), defaultHandlePromise = (promise)=>{\n    switch(promise.status){\n        case \"fulfilled\":\n            return promise.value;\n        case \"rejected\":\n            throw promise.reason;\n        default:\n            throw promise;\n    }\n}, snapCache = /* @__PURE__ */ new WeakMap(), createSnapshot = (target, version, handlePromise = defaultHandlePromise)=>{\n    const cache = snapCache.get(target);\n    if (cache?.[0] === version) {\n        return cache[1];\n    }\n    const snap = Array.isArray(target) ? [] : Object.create(Object.getPrototypeOf(target));\n    (0,proxy_compare__WEBPACK_IMPORTED_MODULE_0__.markToTrack)(snap, true);\n    snapCache.set(target, [\n        version,\n        snap\n    ]);\n    Reflect.ownKeys(target).forEach((key)=>{\n        const value = Reflect.get(target, key);\n        if (refSet.has(value)) {\n            (0,proxy_compare__WEBPACK_IMPORTED_MODULE_0__.markToTrack)(value, false);\n            snap[key] = value;\n        } else if (value instanceof Promise) {\n            Object.defineProperty(snap, key, {\n                get () {\n                    return handlePromise(value);\n                }\n            });\n        } else if (proxyStateMap.has(value)) {\n            snap[key] = snapshot(value, handlePromise);\n        } else {\n            snap[key] = value;\n        }\n    });\n    return Object.freeze(snap);\n}, proxyCache = /* @__PURE__ */ new WeakMap(), versionHolder = [\n    1,\n    1\n], proxyFunction2 = (initialObject)=>{\n    if (!isObject(initialObject)) {\n        throw new Error(\"object required\");\n    }\n    const found = proxyCache.get(initialObject);\n    if (found) {\n        return found;\n    }\n    let version = versionHolder[0];\n    const listeners = /* @__PURE__ */ new Set();\n    const notifyUpdate = (op, nextVersion = ++versionHolder[0])=>{\n        if (version !== nextVersion) {\n            version = nextVersion;\n            listeners.forEach((listener)=>listener(op, nextVersion));\n        }\n    };\n    let checkVersion = versionHolder[1];\n    const ensureVersion = (nextCheckVersion = ++versionHolder[1])=>{\n        if (checkVersion !== nextCheckVersion && !listeners.size) {\n            checkVersion = nextCheckVersion;\n            propProxyStates.forEach(([propProxyState])=>{\n                const propVersion = propProxyState[1](nextCheckVersion);\n                if (propVersion > version) {\n                    version = propVersion;\n                }\n            });\n        }\n        return version;\n    };\n    const createPropListener = (prop)=>(op, nextVersion)=>{\n            const newOp = [\n                ...op\n            ];\n            newOp[1] = [\n                prop,\n                ...newOp[1]\n            ];\n            notifyUpdate(newOp, nextVersion);\n        };\n    const propProxyStates = /* @__PURE__ */ new Map();\n    const addPropListener = (prop, propProxyState)=>{\n        if (isDev && propProxyStates.has(prop)) {\n            throw new Error(\"prop listener already exists\");\n        }\n        if (listeners.size) {\n            const remove = propProxyState[3](createPropListener(prop));\n            propProxyStates.set(prop, [\n                propProxyState,\n                remove\n            ]);\n        } else {\n            propProxyStates.set(prop, [\n                propProxyState\n            ]);\n        }\n    };\n    const removePropListener = (prop)=>{\n        const entry = propProxyStates.get(prop);\n        if (entry) {\n            propProxyStates.delete(prop);\n            entry[1]?.();\n        }\n    };\n    const addListener = (listener)=>{\n        listeners.add(listener);\n        if (listeners.size === 1) {\n            propProxyStates.forEach(([propProxyState, prevRemove], prop)=>{\n                if (isDev && prevRemove) {\n                    throw new Error(\"remove already exists\");\n                }\n                const remove = propProxyState[3](createPropListener(prop));\n                propProxyStates.set(prop, [\n                    propProxyState,\n                    remove\n                ]);\n            });\n        }\n        const removeListener = ()=>{\n            listeners.delete(listener);\n            if (listeners.size === 0) {\n                propProxyStates.forEach(([propProxyState, remove], prop)=>{\n                    if (remove) {\n                        remove();\n                        propProxyStates.set(prop, [\n                            propProxyState\n                        ]);\n                    }\n                });\n            }\n        };\n        return removeListener;\n    };\n    const baseObject = Array.isArray(initialObject) ? [] : Object.create(Object.getPrototypeOf(initialObject));\n    const handler = {\n        deleteProperty (target, prop) {\n            const prevValue = Reflect.get(target, prop);\n            removePropListener(prop);\n            const deleted = Reflect.deleteProperty(target, prop);\n            if (deleted) {\n                notifyUpdate([\n                    \"delete\",\n                    [\n                        prop\n                    ],\n                    prevValue\n                ]);\n            }\n            return deleted;\n        },\n        set (target, prop, value, receiver) {\n            const hasPrevValue = Reflect.has(target, prop);\n            const prevValue = Reflect.get(target, prop, receiver);\n            if (hasPrevValue && (objectIs(prevValue, value) || proxyCache.has(value) && objectIs(prevValue, proxyCache.get(value)))) {\n                return true;\n            }\n            removePropListener(prop);\n            if (isObject(value)) {\n                value = (0,proxy_compare__WEBPACK_IMPORTED_MODULE_0__.getUntracked)(value) || value;\n            }\n            let nextValue = value;\n            if (Object.getOwnPropertyDescriptor(target, prop)?.set) {} else if (value instanceof Promise) {\n                value.then((v)=>{\n                    value.status = \"fulfilled\";\n                    value.value = v;\n                    notifyUpdate([\n                        \"resolve\",\n                        [\n                            prop\n                        ],\n                        v\n                    ]);\n                }).catch((e)=>{\n                    value.status = \"rejected\";\n                    value.reason = e;\n                    notifyUpdate([\n                        \"reject\",\n                        [\n                            prop\n                        ],\n                        e\n                    ]);\n                });\n            } else {\n                if (!proxyStateMap.has(value) && canProxy(value)) {\n                    nextValue = proxy(value);\n                }\n                const childProxyState = !refSet.has(nextValue) && proxyStateMap.get(nextValue);\n                if (childProxyState) {\n                    addPropListener(prop, childProxyState);\n                }\n            }\n            Reflect.set(target, prop, nextValue, receiver);\n            notifyUpdate([\n                \"set\",\n                [\n                    prop\n                ],\n                value,\n                prevValue\n            ]);\n            return true;\n        }\n    };\n    const proxyObject = newProxy(baseObject, handler);\n    proxyCache.set(initialObject, proxyObject);\n    const proxyState = [\n        baseObject,\n        ensureVersion,\n        createSnapshot,\n        addListener\n    ];\n    proxyStateMap.set(proxyObject, proxyState);\n    Reflect.ownKeys(initialObject).forEach((key)=>{\n        const desc = Object.getOwnPropertyDescriptor(initialObject, key);\n        if (desc.get || desc.set) {\n            Object.defineProperty(baseObject, key, desc);\n        } else {\n            proxyObject[key] = initialObject[key];\n        }\n    });\n    return proxyObject;\n})=>[\n        // public functions\n        proxyFunction2,\n        // shared state\n        proxyStateMap,\n        refSet,\n        // internal things\n        objectIs,\n        newProxy,\n        canProxy,\n        defaultHandlePromise,\n        snapCache,\n        createSnapshot,\n        proxyCache,\n        versionHolder\n    ];\nvar [proxyFunction] = buildProxyFunction();\nfunction proxy(initialObject = {}) {\n    return proxyFunction(initialObject);\n}\nfunction subscribe(proxyObject, callback, notifyInSync) {\n    const proxyState = proxyStateMap.get(proxyObject);\n    if (isDev && !proxyState) {\n        console.warn(\"Please use proxy object\");\n    }\n    let promise;\n    const ops = [];\n    const addListener = proxyState[3];\n    let isListenerActive = false;\n    const listener = (op)=>{\n        ops.push(op);\n        if (notifyInSync) {\n            callback(ops.splice(0));\n            return;\n        }\n        if (!promise) {\n            promise = Promise.resolve().then(()=>{\n                promise = void 0;\n                if (isListenerActive) {\n                    callback(ops.splice(0));\n                }\n            });\n        }\n    };\n    const removeListener = addListener(listener);\n    isListenerActive = true;\n    return ()=>{\n        isListenerActive = false;\n        removeListener();\n    };\n}\nfunction snapshot(proxyObject, handlePromise) {\n    const proxyState = proxyStateMap.get(proxyObject);\n    if (isDev && !proxyState) {\n        console.warn(\"Please use proxy object\");\n    }\n    const [target, ensureVersion, createSnapshot] = proxyState;\n    return createSnapshot(target, ensureVersion(), handlePromise);\n}\nfunction ref(obj) {\n    refSet.add(obj);\n    return obj;\n}\n// src/proxy-computed.ts\nfunction proxyWithComputed(initialObject, computedFns) {\n    const keys = Object.keys(computedFns);\n    keys.forEach((key)=>{\n        if (Object.getOwnPropertyDescriptor(initialObject, key)) {\n            throw new Error(\"object property already defined\");\n        }\n        const computedFn = computedFns[key];\n        const { get, set } = typeof computedFn === \"function\" ? {\n            get: computedFn\n        } : computedFn;\n        const desc = {};\n        desc.get = ()=>get(snapshot(proxyObject));\n        if (set) {\n            desc.set = (newValue)=>set(proxyObject, newValue);\n        }\n        Object.defineProperty(initialObject, key, desc);\n    });\n    const proxyObject = proxy(initialObject);\n    return proxyObject;\n}\n// src/subscribe-key.ts\nvar defaultCompareFn = (prev, next)=>Object.is(prev, next);\nfunction subscribeKey(obj, key, fn, sync, compareFn) {\n    let prev = Reflect.get(snapshot(obj), key);\n    const isEqual = compareFn || defaultCompareFn;\n    function onSnapshotChange() {\n        const snap = snapshot(obj);\n        if (isEqual(prev, snap[key])) return;\n        fn(snap[key]);\n        prev = Reflect.get(snap, key);\n    }\n    return subscribe(obj, onSnapshotChange, sync);\n}\n //# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHphZy1qcy9zdG9yZS9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsZUFBZTtBQUMyQztBQUMxRCxJQUFJRSxRQUFRQyxrQkFBeUI7QUFDckMsSUFBSUMsV0FBVyxDQUFDQyxJQUFNLE9BQU9BLE1BQU0sWUFBWUEsTUFBTTtBQUNyRCxJQUFJQyxnQkFBZ0IsYUFBYSxHQUFHLElBQUlDO0FBQ3hDLElBQUlDLFNBQVMsYUFBYSxHQUFHLElBQUlDO0FBQ2pDLElBQUlDLHFCQUFxQixDQUFDQyxXQUFXQyxPQUFPQyxFQUFFLEVBQUVDLFdBQVcsQ0FBQ0MsUUFBUUMsVUFBWSxJQUFJQyxNQUFNRixRQUFRQyxRQUFRLEVBQUVFLFdBQVcsQ0FBQ2IsSUFBTUQsU0FBU0MsTUFBTSxDQUFDRyxPQUFPVyxHQUFHLENBQUNkLE1BQU9lLENBQUFBLE1BQU1DLE9BQU8sQ0FBQ2hCLE1BQU0sQ0FBRWlCLENBQUFBLE9BQU9DLFFBQVEsSUFBSWxCLENBQUFBLENBQUMsS0FBTSxDQUFFQSxDQUFBQSxhQUFhRSxPQUFNLEtBQU0sQ0FBRUYsQ0FBQUEsYUFBYUksT0FBTSxLQUFNLENBQUVKLENBQUFBLGFBQWFtQixLQUFJLEtBQU0sQ0FBRW5CLENBQUFBLGFBQWFvQixNQUFLLEtBQU0sQ0FBRXBCLENBQUFBLGFBQWFxQixJQUFHLEtBQU0sQ0FBRXJCLENBQUFBLGFBQWFzQixNQUFLLEtBQU0sQ0FBRXRCLENBQUFBLGFBQWF1QixNQUFLLEtBQU0sQ0FBRXZCLENBQUFBLGFBQWF3QixXQUFVLENBQUUsRUFBRUMsdUJBQXVCLENBQUNDO0lBQ3hiLE9BQVFBLFFBQVFDLE1BQU07UUFDcEIsS0FBSztZQUNILE9BQU9ELFFBQVFFLEtBQUs7UUFDdEIsS0FBSztZQUNILE1BQU1GLFFBQVFHLE1BQU07UUFDdEI7WUFDRSxNQUFNSDtJQUNWO0FBQ0YsQ0FBQyxFQUFFSSxZQUFZLGFBQWEsR0FBRyxJQUFJNUIsU0FBUyxFQUFFNkIs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VyxTQUFTOEQsTUFBTWpFO0lBQ3RDLE1BQU04RSxVQUFVRCxhQUFhTjtJQUM3QixTQUFTUTtRQUNQLE1BQU10RixPQUFPVSxTQUFTOEQ7UUFDdEIsSUFBSWEsUUFBUU4sTUFBTS9FLElBQUksQ0FBQ08sSUFBSSxHQUN6QjtRQUNGMkUsR0FBR2xGLElBQUksQ0FBQ08sSUFBSTtRQUNad0UsT0FBTzNFLFFBQVFMLEdBQUcsQ0FBQ0MsTUFBTU87SUFDM0I7SUFDQSxPQUFPc0QsVUFBVVcsS0FBS2Msa0JBQWtCSDtBQUMxQztBQVFFLENBQ0Ysa0NBQWtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBhcmstdWkvZXhhbXBsZXMtcmVhY3QtbmV4dC1qcy8uL25vZGVfbW9kdWxlcy9AemFnLWpzL3N0b3JlL2Rpc3QvaW5kZXgubWpzPzNmNDIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL3Byb3h5LnRzXG5pbXBvcnQgeyBnZXRVbnRyYWNrZWQsIG1hcmtUb1RyYWNrIH0gZnJvbSBcInByb3h5LWNvbXBhcmVcIjtcbnZhciBpc0RldiA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIjtcbnZhciBpc09iamVjdCA9ICh4KSA9PiB0eXBlb2YgeCA9PT0gXCJvYmplY3RcIiAmJiB4ICE9PSBudWxsO1xudmFyIHByb3h5U3RhdGVNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbnZhciByZWZTZXQgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtTZXQoKTtcbnZhciBidWlsZFByb3h5RnVuY3Rpb24gPSAob2JqZWN0SXMgPSBPYmplY3QuaXMsIG5ld1Byb3h5ID0gKHRhcmdldCwgaGFuZGxlcikgPT4gbmV3IFByb3h5KHRhcmdldCwgaGFuZGxlciksIGNhblByb3h5ID0gKHgpID0+IGlzT2JqZWN0KHgpICYmICFyZWZTZXQuaGFzKHgpICYmIChBcnJheS5pc0FycmF5KHgpIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIHgpKSAmJiAhKHggaW5zdGFuY2VvZiBXZWFrTWFwKSAmJiAhKHggaW5zdGFuY2VvZiBXZWFrU2V0KSAmJiAhKHggaW5zdGFuY2VvZiBFcnJvcikgJiYgISh4IGluc3RhbmNlb2YgTnVtYmVyKSAmJiAhKHggaW5zdGFuY2VvZiBEYXRlKSAmJiAhKHggaW5zdGFuY2VvZiBTdHJpbmcpICYmICEoeCBpbnN0YW5jZW9mIFJlZ0V4cCkgJiYgISh4IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpLCBkZWZhdWx0SGFuZGxlUHJvbWlzZSA9IChwcm9taXNlKSA9PiB7XG4gIHN3aXRjaCAocHJvbWlzZS5zdGF0dXMpIHtcbiAgICBjYXNlIFwiZnVsZmlsbGVkXCI6XG4gICAgICByZXR1cm4gcHJvbWlzZS52YWx1ZTtcbiAgICBjYXNlIFwicmVqZWN0ZWRcIjpcbiAgICAgIHRocm93IHByb21pc2UucmVhc29uO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBwcm9taXNlO1xuICB9XG59LCBzbmFwQ2FjaGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKSwgY3JlYXRlU25hcHNob3QgPSAodGFyZ2V0LCB2ZXJzaW9uLCBoYW5kbGVQcm9taXNlID0gZGVmYXVsdEhhbmRsZVByb21pc2UpID0+IHtcbiAgY29uc3QgY2FjaGUgPSBzbmFwQ2FjaGUuZ2V0KHRhcmdldCk7XG4gIGlmIChjYWNoZT8uWzBdID09PSB2ZXJzaW9uKSB7XG4gICAgcmV0dXJuIGNhY2hlWzFdO1xuICB9XG4gIGNvbnN0IHNuYXAgPSBBcnJheS5pc0FycmF5KHRhcmdldCkgPyBbXSA6IE9iamVjdC5jcmVhdGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKHRhcmdldCkpO1xuICBtYXJrVG9UcmFjayhzbmFwLCB0cnVlKTtcbiAgc25hcENhY2hlLnNldCh0YXJnZXQsIFt2ZXJzaW9uLCBzbmFwXSk7XG4gIFJlZmxlY3Qub3duS2V5cyh0YXJnZXQpLmZvckVhY2goKGtleSkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gUmVmbGVjdC5nZXQodGFyZ2V0LCBrZXkpO1xuICAgIGlmIChyZWZTZXQuaGFzKHZhbHVlKSkge1xuICAgICAgbWFya1RvVHJhY2sodmFsdWUsIGZhbHNlKTtcbiAgICAgIHNuYXBba2V5XSA9IHZhbHVlO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc25hcCwga2V5LCB7XG4gICAgICAgIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gaGFuZGxlUHJvbWlzZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocHJveHlTdGF0ZU1hcC5oYXModmFsdWUpKSB7XG4gICAgICBzbmFwW2tleV0gPSBzbmFwc2hvdCh2YWx1ZSwgaGFuZGxlUHJvbWlzZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYXBba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBPYmplY3QuZnJlZXplKHNuYXApO1xufSwgcHJveHlDYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpLCB2ZXJzaW9uSG9sZGVyID0gWzEsIDFdLCBwcm94eUZ1bmN0aW9uMiA9IChpbml0aWFsT2JqZWN0KSA9PiB7XG4gIGlmICghaXNPYmplY3QoaW5pdGlhbE9iamVjdCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJvYmplY3QgcmVxdWlyZWRcIik7XG4gIH1cbiAgY29uc3QgZm91bmQgPSBwcm94eUNhY2hlLmdldChpbml0aWFsT2JqZWN0KTtcbiAgaWYgKGZvdW5kKSB7XG4gICAgcmV0dXJuIGZvdW5kO1xuICB9XG4gIGxldCB2ZXJzaW9uID0gdmVyc2lvbkhvbGRlclswXTtcbiAgY29uc3QgbGlzdGVuZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgY29uc3Qgbm90aWZ5VXBkYXRlID0gKG9wLCBuZXh0VmVyc2lvbiA9ICsrdmVyc2lvbkhvbGRlclswXSkgPT4ge1xuICAgIGlmICh2ZXJzaW9uICE9PSBuZXh0VmVyc2lvbikge1xuICAgICAgdmVyc2lvbiA9IG5leHRWZXJzaW9uO1xuICAgICAgbGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiBsaXN0ZW5lcihvcCwgbmV4dFZlcnNpb24pKTtcbiAgICB9XG4gIH07XG4gIGxldCBjaGVja1ZlcnNpb24gPSB2ZXJzaW9uSG9sZGVyWzFdO1xuICBjb25zdCBlbnN1cmVWZXJzaW9uID0gKG5leHRDaGVja1ZlcnNpb24gPSArK3ZlcnNpb25Ib2xkZXJbMV0pID0+IHtcbiAgICBpZiAoY2hlY2tWZXJzaW9uICE9PSBuZXh0Q2hlY2tWZXJzaW9uICYmICFsaXN0ZW5lcnMuc2l6ZSkge1xuICAgICAgY2hlY2tWZXJzaW9uID0gbmV4dENoZWNrVmVyc2lvbjtcbiAgICAgIHByb3BQcm94eVN0YXRlcy5mb3JFYWNoKChbcHJvcFByb3h5U3RhdGVdKSA9PiB7XG4gICAgICAgIGNvbnN0IHByb3BWZXJzaW9uID0gcHJvcFByb3h5U3RhdGVbMV0obmV4dENoZWNrVmVyc2lvbik7XG4gICAgICAgIGlmIChwcm9wVmVyc2lvbiA+IHZlcnNpb24pIHtcbiAgICAgICAgICB2ZXJzaW9uID0gcHJvcFZlcnNpb247XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdmVyc2lvbjtcbiAgfTtcbiAgY29uc3QgY3JlYXRlUHJvcExpc3RlbmVyID0gKHByb3ApID0+IChvcCwgbmV4dFZlcnNpb24pID0+IHtcbiAgICBjb25zdCBuZXdPcCA9IFsuLi5vcF07XG4gICAgbmV3T3BbMV0gPSBbcHJvcCwgLi4ubmV3T3BbMV1dO1xuICAgIG5vdGlmeVVwZGF0ZShuZXdPcCwgbmV4dFZlcnNpb24pO1xuICB9O1xuICBjb25zdCBwcm9wUHJveHlTdGF0ZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICBjb25zdCBhZGRQcm9wTGlzdGVuZXIgPSAocHJvcCwgcHJvcFByb3h5U3RhdGUpID0+IHtcbiAgICBpZiAoaXNEZXYgJiYgcHJvcFByb3h5U3RhdGVzLmhhcyhwcm9wKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwicHJvcCBsaXN0ZW5lciBhbHJlYWR5IGV4aXN0c1wiKTtcbiAgICB9XG4gICAgaWYgKGxpc3RlbmVycy5zaXplKSB7XG4gICAgICBjb25zdCByZW1vdmUgPSBwcm9wUHJveHlTdGF0ZVszXShjcmVhdGVQcm9wTGlzdGVuZXIocHJvcCkpO1xuICAgICAgcHJvcFByb3h5U3RhdGVzLnNldChwcm9wLCBbcHJvcFByb3h5U3RhdGUsIHJlbW92ZV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBwcm9wUHJveHlTdGF0ZXMuc2V0KHByb3AsIFtwcm9wUHJveHlTdGF0ZV0pO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcmVtb3ZlUHJvcExpc3RlbmVyID0gKHByb3ApID0+IHtcbiAgICBjb25zdCBlbnRyeSA9IHByb3BQcm94eVN0YXRlcy5nZXQocHJvcCk7XG4gICAgaWYgKGVudHJ5KSB7XG4gICAgICBwcm9wUHJveHlTdGF0ZXMuZGVsZXRlKHByb3ApO1xuICAgICAgZW50cnlbMV0/LigpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgYWRkTGlzdGVuZXIgPSAobGlzdGVuZXIpID0+IHtcbiAgICBsaXN0ZW5lcnMuYWRkKGxpc3RlbmVyKTtcbiAgICBpZiAobGlzdGVuZXJzLnNpemUgPT09IDEpIHtcbiAgICAgIHByb3BQcm94eVN0YXRlcy5mb3JFYWNoKChbcHJvcFByb3h5U3RhdGUsIHByZXZSZW1vdmVdLCBwcm9wKSA9PiB7XG4gICAgICAgIGlmIChpc0RldiAmJiBwcmV2UmVtb3ZlKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwicmVtb3ZlIGFscmVhZHkgZXhpc3RzXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlbW92ZSA9IHByb3BQcm94eVN0YXRlWzNdKGNyZWF0ZVByb3BMaXN0ZW5lcihwcm9wKSk7XG4gICAgICAgIHByb3BQcm94eVN0YXRlcy5zZXQocHJvcCwgW3Byb3BQcm94eVN0YXRlLCByZW1vdmVdKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCByZW1vdmVMaXN0ZW5lciA9ICgpID0+IHtcbiAgICAgIGxpc3RlbmVycy5kZWxldGUobGlzdGVuZXIpO1xuICAgICAgaWYgKGxpc3RlbmVycy5zaXplID09PSAwKSB7XG4gICAgICAgIHByb3BQcm94eVN0YXRlcy5mb3JFYWNoKChbcHJvcFByb3h5U3RhdGUsIHJlbW92ZV0sIHByb3ApID0+IHtcbiAgICAgICAgICBpZiAocmVtb3ZlKSB7XG4gICAgICAgICAgICByZW1vdmUoKTtcbiAgICAgICAgICAgIHByb3BQcm94eVN0YXRlcy5zZXQocHJvcCwgW3Byb3BQcm94eVN0YXRlXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiByZW1vdmVMaXN0ZW5lcjtcbiAgfTtcbiAgY29uc3QgYmFzZU9iamVjdCA9IEFycmF5LmlzQXJyYXkoaW5pdGlhbE9iamVjdCkgPyBbXSA6IE9iamVjdC5jcmVhdGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKGluaXRpYWxPYmplY3QpKTtcbiAgY29uc3QgaGFuZGxlciA9IHtcbiAgICBkZWxldGVQcm9wZXJ0eSh0YXJnZXQsIHByb3ApIHtcbiAgICAgIGNvbnN0IHByZXZWYWx1ZSA9IFJlZmxlY3QuZ2V0KHRhcmdldCwgcHJvcCk7XG4gICAgICByZW1vdmVQcm9wTGlzdGVuZXIocHJvcCk7XG4gICAgICBjb25zdCBkZWxldGVkID0gUmVmbGVjdC5kZWxldGVQcm9wZXJ0eSh0YXJnZXQsIHByb3ApO1xuICAgICAgaWYgKGRlbGV0ZWQpIHtcbiAgICAgICAgbm90aWZ5VXBkYXRlKFtcImRlbGV0ZVwiLCBbcHJvcF0sIHByZXZWYWx1ZV0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRlbGV0ZWQ7XG4gICAgfSxcbiAgICBzZXQodGFyZ2V0LCBwcm9wLCB2YWx1ZSwgcmVjZWl2ZXIpIHtcbiAgICAgIGNvbnN0IGhhc1ByZXZWYWx1ZSA9IFJlZmxlY3QuaGFzKHRhcmdldCwgcHJvcCk7XG4gICAgICBjb25zdCBwcmV2VmFsdWUgPSBSZWZsZWN0LmdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKTtcbiAgICAgIGlmIChoYXNQcmV2VmFsdWUgJiYgKG9iamVjdElzKHByZXZWYWx1ZSwgdmFsdWUpIHx8IHByb3h5Q2FjaGUuaGFzKHZhbHVlKSAmJiBvYmplY3RJcyhwcmV2VmFsdWUsIHByb3h5Q2FjaGUuZ2V0KHZhbHVlKSkpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmVtb3ZlUHJvcExpc3RlbmVyKHByb3ApO1xuICAgICAgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICB2YWx1ZSA9IGdldFVudHJhY2tlZCh2YWx1ZSkgfHwgdmFsdWU7XG4gICAgICB9XG4gICAgICBsZXQgbmV4dFZhbHVlID0gdmFsdWU7XG4gICAgICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIHByb3ApPy5zZXQpIHtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgIHZhbHVlLnRoZW4oKHYpID0+IHtcbiAgICAgICAgICB2YWx1ZS5zdGF0dXMgPSBcImZ1bGZpbGxlZFwiO1xuICAgICAgICAgIHZhbHVlLnZhbHVlID0gdjtcbiAgICAgICAgICBub3RpZnlVcGRhdGUoW1wicmVzb2x2ZVwiLCBbcHJvcF0sIHZdKTtcbiAgICAgICAgfSkuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICB2YWx1ZS5zdGF0dXMgPSBcInJlamVjdGVkXCI7XG4gICAgICAgICAgdmFsdWUucmVhc29uID0gZTtcbiAgICAgICAgICBub3RpZnlVcGRhdGUoW1wicmVqZWN0XCIsIFtwcm9wXSwgZV0pO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghcHJveHlTdGF0ZU1hcC5oYXModmFsdWUpICYmIGNhblByb3h5KHZhbHVlKSkge1xuICAgICAgICAgIG5leHRWYWx1ZSA9IHByb3h5KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaGlsZFByb3h5U3RhdGUgPSAhcmVmU2V0LmhhcyhuZXh0VmFsdWUpICYmIHByb3h5U3RhdGVNYXAuZ2V0KG5leHRWYWx1ZSk7XG4gICAgICAgIGlmIChjaGlsZFByb3h5U3RhdGUpIHtcbiAgICAgICAgICBhZGRQcm9wTGlzdGVuZXIocHJvcCwgY2hpbGRQcm94eVN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgUmVmbGVjdC5zZXQodGFyZ2V0LCBwcm9wLCBuZXh0VmFsdWUsIHJlY2VpdmVyKTtcbiAgICAgIG5vdGlmeVVwZGF0ZShbXCJzZXRcIiwgW3Byb3BdLCB2YWx1ZSwgcHJldlZhbHVlXSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHByb3h5T2JqZWN0ID0gbmV3UHJveHkoYmFzZU9iamVjdCwgaGFuZGxlcik7XG4gIHByb3h5Q2FjaGUuc2V0KGluaXRpYWxPYmplY3QsIHByb3h5T2JqZWN0KTtcbiAgY29uc3QgcHJveHlTdGF0ZSA9IFtiYXNlT2JqZWN0LCBlbnN1cmVWZXJzaW9uLCBjcmVhdGVTbmFwc2hvdCwgYWRkTGlzdGVuZXJdO1xuICBwcm94eVN0YXRlTWFwLnNldChwcm94eU9iamVjdCwgcHJveHlTdGF0ZSk7XG4gIFJlZmxlY3Qub3duS2V5cyhpbml0aWFsT2JqZWN0KS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICBjb25zdCBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpbml0aWFsT2JqZWN0LCBrZXkpO1xuICAgIGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGJhc2VPYmplY3QsIGtleSwgZGVzYyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb3h5T2JqZWN0W2tleV0gPSBpbml0aWFsT2JqZWN0W2tleV07XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHByb3h5T2JqZWN0O1xufSkgPT4gW1xuICAvLyBwdWJsaWMgZnVuY3Rpb25zXG4gIHByb3h5RnVuY3Rpb24yLFxuICAvLyBzaGFyZWQgc3RhdGVcbiAgcHJveHlTdGF0ZU1hcCxcbiAgcmVmU2V0LFxuICAvLyBpbnRlcm5hbCB0aGluZ3NcbiAgb2JqZWN0SXMsXG4gIG5ld1Byb3h5LFxuICBjYW5Qcm94eSxcbiAgZGVmYXVsdEhhbmRsZVByb21pc2UsXG4gIHNuYXBDYWNoZSxcbiAgY3JlYXRlU25hcHNob3QsXG4gIHByb3h5Q2FjaGUsXG4gIHZlcnNpb25Ib2xkZXJcbl07XG52YXIgW3Byb3h5RnVuY3Rpb25dID0gYnVpbGRQcm94eUZ1bmN0aW9uKCk7XG5mdW5jdGlvbiBwcm94eShpbml0aWFsT2JqZWN0ID0ge30pIHtcbiAgcmV0dXJuIHByb3h5RnVuY3Rpb24oaW5pdGlhbE9iamVjdCk7XG59XG5mdW5jdGlvbiBzdWJzY3JpYmUocHJveHlPYmplY3QsIGNhbGxiYWNrLCBub3RpZnlJblN5bmMpIHtcbiAgY29uc3QgcHJveHlTdGF0ZSA9IHByb3h5U3RhdGVNYXAuZ2V0KHByb3h5T2JqZWN0KTtcbiAgaWYgKGlzRGV2ICYmICFwcm94eVN0YXRlKSB7XG4gICAgY29uc29sZS53YXJuKFwiUGxlYXNlIHVzZSBwcm94eSBvYmplY3RcIik7XG4gIH1cbiAgbGV0IHByb21pc2U7XG4gIGNvbnN0IG9wcyA9IFtdO1xuICBjb25zdCBhZGRMaXN0ZW5lciA9IHByb3h5U3RhdGVbM107XG4gIGxldCBpc0xpc3RlbmVyQWN0aXZlID0gZmFsc2U7XG4gIGNvbnN0IGxpc3RlbmVyID0gKG9wKSA9PiB7XG4gICAgb3BzLnB1c2gob3ApO1xuICAgIGlmIChub3RpZnlJblN5bmMpIHtcbiAgICAgIGNhbGxiYWNrKG9wcy5zcGxpY2UoMCkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXByb21pc2UpIHtcbiAgICAgIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgcHJvbWlzZSA9IHZvaWQgMDtcbiAgICAgICAgaWYgKGlzTGlzdGVuZXJBY3RpdmUpIHtcbiAgICAgICAgICBjYWxsYmFjayhvcHMuc3BsaWNlKDApKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuICBjb25zdCByZW1vdmVMaXN0ZW5lciA9IGFkZExpc3RlbmVyKGxpc3RlbmVyKTtcbiAgaXNMaXN0ZW5lckFjdGl2ZSA9IHRydWU7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgaXNMaXN0ZW5lckFjdGl2ZSA9IGZhbHNlO1xuICAgIHJlbW92ZUxpc3RlbmVyKCk7XG4gIH07XG59XG5mdW5jdGlvbiBzbmFwc2hvdChwcm94eU9iamVjdCwgaGFuZGxlUHJvbWlzZSkge1xuICBjb25zdCBwcm94eVN0YXRlID0gcHJveHlTdGF0ZU1hcC5nZXQocHJveHlPYmplY3QpO1xuICBpZiAoaXNEZXYgJiYgIXByb3h5U3RhdGUpIHtcbiAgICBjb25zb2xlLndhcm4oXCJQbGVhc2UgdXNlIHByb3h5IG9iamVjdFwiKTtcbiAgfVxuICBjb25zdCBbdGFyZ2V0LCBlbnN1cmVWZXJzaW9uLCBjcmVhdGVTbmFwc2hvdF0gPSBwcm94eVN0YXRlO1xuICByZXR1cm4gY3JlYXRlU25hcHNob3QodGFyZ2V0LCBlbnN1cmVWZXJzaW9uKCksIGhhbmRsZVByb21pc2UpO1xufVxuZnVuY3Rpb24gcmVmKG9iaikge1xuICByZWZTZXQuYWRkKG9iaik7XG4gIHJldHVybiBvYmo7XG59XG5cbi8vIHNyYy9wcm94eS1jb21wdXRlZC50c1xuZnVuY3Rpb24gcHJveHlXaXRoQ29tcHV0ZWQoaW5pdGlhbE9iamVjdCwgY29tcHV0ZWRGbnMpIHtcbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGNvbXB1dGVkRm5zKTtcbiAga2V5cy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpbml0aWFsT2JqZWN0LCBrZXkpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJvYmplY3QgcHJvcGVydHkgYWxyZWFkeSBkZWZpbmVkXCIpO1xuICAgIH1cbiAgICBjb25zdCBjb21wdXRlZEZuID0gY29tcHV0ZWRGbnNba2V5XTtcbiAgICBjb25zdCB7IGdldCwgc2V0IH0gPSB0eXBlb2YgY29tcHV0ZWRGbiA9PT0gXCJmdW5jdGlvblwiID8geyBnZXQ6IGNvbXB1dGVkRm4gfSA6IGNvbXB1dGVkRm47XG4gICAgY29uc3QgZGVzYyA9IHt9O1xuICAgIGRlc2MuZ2V0ID0gKCkgPT4gZ2V0KHNuYXBzaG90KHByb3h5T2JqZWN0KSk7XG4gICAgaWYgKHNldCkge1xuICAgICAgZGVzYy5zZXQgPSAobmV3VmFsdWUpID0+IHNldChwcm94eU9iamVjdCwgbmV3VmFsdWUpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoaW5pdGlhbE9iamVjdCwga2V5LCBkZXNjKTtcbiAgfSk7XG4gIGNvbnN0IHByb3h5T2JqZWN0ID0gcHJveHkoaW5pdGlhbE9iamVjdCk7XG4gIHJldHVybiBwcm94eU9iamVjdDtcbn1cblxuLy8gc3JjL3N1YnNjcmliZS1rZXkudHNcbnZhciBkZWZhdWx0Q29tcGFyZUZuID0gKHByZXYsIG5leHQpID0+IE9iamVjdC5pcyhwcmV2LCBuZXh0KTtcbmZ1bmN0aW9uIHN1YnNjcmliZUtleShvYmosIGtleSwgZm4sIHN5bmMsIGNvbXBhcmVGbikge1xuICBsZXQgcHJldiA9IFJlZmxlY3QuZ2V0KHNuYXBzaG90KG9iaiksIGtleSk7XG4gIGNvbnN0IGlzRXF1YWwgPSBjb21wYXJlRm4gfHwgZGVmYXVsdENvbXBhcmVGbjtcbiAgZnVuY3Rpb24gb25TbmFwc2hvdENoYW5nZSgpIHtcbiAgICBjb25zdCBzbmFwID0gc25hcHNob3Qob2JqKTtcbiAgICBpZiAoaXNFcXVhbChwcmV2LCBzbmFwW2tleV0pKVxuICAgICAgcmV0dXJuO1xuICAgIGZuKHNuYXBba2V5XSk7XG4gICAgcHJldiA9IFJlZmxlY3QuZ2V0KHNuYXAsIGtleSk7XG4gIH1cbiAgcmV0dXJuIHN1YnNjcmliZShvYmosIG9uU25hcHNob3RDaGFuZ2UsIHN5bmMpO1xufVxuZXhwb3J0IHtcbiAgcHJveHksXG4gIHByb3h5V2l0aENvbXB1dGVkLFxuICByZWYsXG4gIHNuYXBzaG90LFxuICBzdWJzY3JpYmUsXG4gIHN1YnNjcmliZUtleVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXAiXSwibmFtZXMiOlsiZ2V0VW50cmFja2VkIiwibWFya1RvVHJhY2siLCJpc0RldiIsInByb2Nlc3MiLCJpc09iamVjdCIsIngiLCJwcm94eVN0YXRlTWFwIiwiV2Vha01hcCIsInJlZlNldCIsIldlYWtTZXQiLCJidWlsZFByb3h5RnVuY3Rpb24iLCJvYmplY3RJcyIsIk9iamVjdCIsImlzIiwibmV3UHJveHkiLCJ0YXJnZXQiLCJoYW5kbGVyIiwiUHJveHkiLCJjYW5Qcm94eSIsImhhcyIsIkFycmF5IiwiaXNBcnJheSIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiRXJyb3IiLCJOdW1iZXIiLCJEYXRlIiwiU3RyaW5nIiwiUmVnRXhwIiwiQXJyYXlCdWZmZXIiLCJkZWZhdWx0SGFuZGxlUHJvbWlzZSIsInByb21pc2UiLCJzdGF0dXMiLCJ2YWx1ZSIsInJlYXNvbiIsInNuYXBDYWNoZSIsImNyZWF0ZVNuYXBzaG90IiwidmVyc2lvbiIsImhhbmRsZVByb21pc2UiLCJjYWNoZSIsImdldCIsInNuYXAiLCJjcmVhdGUiLCJnZXRQcm90b3R5cGVPZiIsInNldCIsIlJlZmxlY3QiLCJvd25LZXlzIiwiZm9yRWFjaCIsImtleSIsIlByb21pc2UiLCJkZWZpbmVQcm9wZXJ0eSIsInNuYXBzaG90IiwiZnJlZXplIiwicHJveHlDYWNoZSIsInZlcnNpb25Ib2xkZXIiLCJwcm94eUZ1bmN0aW9uMiIsImluaXRpYWxPYmplY3QiLCJmb3VuZCIsImxpc3RlbmVycyIsIlNldCIsIm5vdGlmeVVwZGF0ZSIsIm9wIiwibmV4dFZlcnNpb24iLCJsaXN0ZW5lciIsImNoZWNrVmVyc2lvbiIsImVuc3VyZVZlcnNpb24iLCJuZXh0Q2hlY2tWZXJzaW9uIiwic2l6ZSIsInByb3BQcm94eVN0YXRlcyIsInByb3BQcm94eVN0YXRlIiwicHJvcFZlcnNpb24iLCJjcmVhdGVQcm9wTGlzdGVuZXIiLCJwcm9wIiwibmV3T3AiLCJNYXAiLCJhZGRQcm9wTGlzdGVuZXIiLCJyZW1vdmUiLCJyZW1vdmVQcm9wTGlzdGVuZXIiLCJlbnRyeSIsImRlbGV0ZSIsImFkZExpc3RlbmVyIiwiYWRkIiwicHJldlJlbW92ZSIsInJlbW92ZUxpc3RlbmVyIiwiYmFzZU9iamVjdCIsImRlbGV0ZVByb3BlcnR5IiwicHJldlZhbHVlIiwiZGVsZXRlZCIsInJlY2VpdmVyIiwiaGFzUHJldlZhbHVlIiwibmV4dFZhbHVlIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidGhlbiIsInYiLCJjYXRjaCIsImUiLCJwcm94eSIsImNoaWxkUHJveHlTdGF0ZSIsInByb3h5T2JqZWN0IiwicHJveHlTdGF0ZSIsImRlc2MiLCJwcm94eUZ1bmN0aW9uIiwic3Vic2NyaWJlIiwiY2FsbGJhY2siLCJub3RpZnlJblN5bmMiLCJjb25zb2xlIiwid2FybiIsIm9wcyIsImlzTGlzdGVuZXJBY3RpdmUiLCJwdXNoIiwic3BsaWNlIiwicmVzb2x2ZSIsInJlZiIsIm9iaiIsInByb3h5V2l0aENvbXB1dGVkIiwiY29tcHV0ZWRGbnMiLCJrZXlzIiwiY29tcHV0ZWRGbiIsIm5ld1ZhbHVlIiwiZGVmYXVsdENvbXBhcmVGbiIsInByZXYiLCJuZXh0Iiwic3Vic2NyaWJlS2V5IiwiZm4iLCJzeW5jIiwiY29tcGFyZUZuIiwiaXNFcXVhbCIsIm9uU25hcHNob3RDaGFuZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@zag-js/store/dist/index.mjs\n");

/***/ })

};
;